
/*
 * WebSquare Platform v2.0
 * http://www.websquare.co.kr
 *
 * Version : 5.0_1.2024B.20160127.155826
 * Date: 20160127.160511
 */

String.prototype.wq_trim=(function(){var _1=new RegExp("^\\s\\s*");var _2=new RegExp("\\s\\s*$");return function(){return this.replace(_1,"").replace(_2,"");};})();if(typeof String.prototype.trim=="undefined"){String.prototype.trim=String.prototype.wq_trim;}String.prototype.capitalize=function(){["String.capitalize"];return this.charAt(0).toUpperCase()+this.substr(1);};String.prototype.wq_replaceAll=function(_3,_4){["String.wq_replaceAll"];_3=_3.replace(/(\W)/g,"\\$1");return this.replace(new RegExp(_3,"gi"),_4);};if(typeof String.prototype.replaceAll=="undefined"){String.prototype.replaceAll=String.prototype.wq_replaceAll;}String.prototype.startsWith=function(s){["String.startsWith"];return this.substring(0,s.length)==s;};String.prototype.endsWith=function(s){["String.endsWith"];return this.substring(this.length-s.length,this.length)==s;};String.prototype.capitalizeStyle=(function(){var _7={};return function(){["String.capitalizeStyle"];var _8=_7[this];if(_8){return _8;}if(this.indexOf("-")<0){return this;}var _9=this.split("-");while(_9[0]==""){_9.shift();}var _a=_9[0].toLowerCase();for(var i=1,len=_9.length;i<len;i++){_a+=_9[i].toLowerCase().capitalize();}_7[this]=_a;return _a;};})();Function.prototype.inherit=function(_c){["Function.inherit"];try{this.prototype.constructor=this;var _d=function(){};_d.prototype=_c.prototype;this.prototype=new _d;}catch(e){$W.exception.printStackTrace(e);}};Function.prototype.instanceOf=function(_e){["Function.instanceOf"];try{for(var _f=this.constructor;_f!=null;_f=_f.superClass){if(_f==_e){return true;}}return false;}catch(e){$W.exception.printStackTrace(e);}};Function.prototype.closure=function(obj,_11){["Function.closure"];try{if(!window._objs){window._objs=[];window._funs=[];}var fun=this;var _13=obj._objId;if(typeof _13=="undefined"){_objs[_13=obj._objId=_objs.length]=obj;}var _14=fun._funId;if(typeof _14=="undefined"){window._funs[_14=fun._funId=_funs.length]=fun;}if(!obj._closures){obj._closures=[];}var _15=obj._closures[_14];if(_15){return _15;}obj=null;fun=null;_objs[_13]._closures[_14]=function(){return _funs[_14].apply(_objs[_13],arguments);};if(typeof _11!="undefined"){_objs[_13]._closures[_14].name=_11;}return _objs[_13]._closures[_14];}catch(e){$W.exception.printStackTrace(e);}};wq_reload=function(_16){try{if(this.locationTimerCount==undefined){this.locationTimerCount=0;}this.locationTimerCount++;if(_16==undefined||location.href===_16||this.locationTimerCount>700){this.locationTimerCount=0;location.reload();}else{if(console&&console.log){console.log("renewing location href...");}location.replace(_16);setTimeout(function(){wq_reload(_16);},5);}}catch(e){if(console&&console.log){console.log("wq_reload error : "+e.message);}}};$W._N={supportActiveX:(typeof ActiveXObject!="undefined"&&$W.BootLoader.browserCheck.ieAllVersion&&!$W.msActiveXFilteringEnabled),supportDOM:(!!$W.document.implementation&&!!$W.document.implementation.createDocument),websquareSerializer:(new RegExp($W.userAgentPattern.serializer)).test(navigator.userAgent),supportXMLHttp:(typeof XMLHttpRequest!="undefined"),uriEncoder:(new RegExp($W.userAgentPattern.URIEncoder)).test(navigator.userAgent)};$W._N._XMLHTTP_PROGIDS=$W.BootLoader._XMLHTTP_PROGIDS;$W._N._XML_NAMESPACE={SCHEMA:"http://www.w3.org/1999/XMLSchema",XFORMS:"http://www.w3.org/2002/xforms",XHTML:"http://www.w3.org/1999/xhtml",XML:"http://www.w3.org/XML/1998/namespace",XSL:"http://www.w3.org/1999/XSL/Transform",EVENTS:"http://www.w3.org/2001/xml-events",W2:"http://www.inswave.com/websquare"};$W._N.EXT_PLUGIN={};$W._N.version="5.0_1.2024B.20160127.155826_1.6";if($W.version!=$W._N.version){$W.BootLoader.printLog("Use different WebSquare Runtime Engine : "+$W._N.version);}$W._N.EMPTY_TAG;$W._N.maxZindex=10;$W._N.FLzIndex=10;$W._N.forcedValueSetting=null;$W._N.firePageunload=false;$W._N.onurlchange=false;$W._N.urlchangebyapi=false;$W._N.onclearpage=false;$W._N.userClearMemoryStack=[];$W._N.memoryLeakComponent={"editor":1,"fusionchart":1};$W._N.memoryLeakComponentCount=0;$W._N.getXMLHTTPObject=function(){["WebSquare.core.getXMLHTTPObject"];var _1=null;try{if($W.BootLoader.useActiveXObject){_1=new ActiveXObject($W._N._XMLHTTP_PROGIDS[0]);}else{if(window.XMLHttpRequest){_1=new XMLHttpRequest();}}}catch(e){$W.exception.printStackTrace(e);}if(typeof _1=="undefined"||_1==null){$W.logger.printLog($W._m.getMessage("E_core_AjaxUnsupportedBrowser"));return null;}return _1;};$W._N.load=function(_2){["WebSquare.core.load"];var _3=_2;var _4=$W._N.getXMLHTTPObject();var _5=null;try{$W.BootLoader.openResourceUri(_2,_4);_4.send(null);if(_4.status>="400"){if(_3.indexOf("uiplugin")>-1){$W.logger.printLog($W._m.getMessage("E_core_NoPluginError",_3));}else{$W.logger.printLog($W._m.getMessage("E_core_NoModuleError",_3));}_4=null;return null;}_5=_4.responseText;}catch(e){if(_3.indexOf("uiplugin")>-1){$W.logger.printLog($W._m.getMessage("E_core_NoPluginError",_3));}else{$W.logger.printLog($W._m.getMessage("E_core_NoModuleError",_3));}}_4=null;return _5;};$W._N.download=function(_6,_7,_8){["WebSquare.core.download"];if(typeof _8=="undefined"||_8==null||_8==""){_8="post";}var _9=false;if(document.getElementById("__iframe__")!=null){_9=true;}var _a=null;var _b="";if(!_9){_a=$W.document.createElement("div");_a.id="___iframe__div";_a.style.width="0px";_a.style.height="0px";_a.style.visibility="hidden";$W.document.body.appendChild(_a);_b=$W._r.getSSLBlankPage();if($W.domain){var _c=$W._N.getConfiguration("domainFrameURL");if(!_c){_c=$W.baseURI+"/message/domainFrame.html";}_c+="?domain="+$W._A.URLEncoder($W.domain);_b="src='"+_c+"'";}_a.innerHTML="<iframe frameborder='0' id='__iframe__' name='__iframe__' scrolling='no' style='width:0; height:0' "+_b+"></iframe>";}else{_a=document.getElementById("___iframe__div");}try{var _d=document.getElementById("__iframe__");var _e=function(){if(_d.contentWindow.document.readyState=="interactive"){$W.layer.hideProcessMessage();}};if($W._N.browserCheck.ie){try{var _f=_d.contentWindow.document;}catch(e){$W._N.clearTimer("__iframe__");$W._N.setTimer($W._N.download,{key:"__iframe__",caller:this,delay:500,args:arguments});return;}_d.contentWindow.document.onreadystatechange=_e;}else{$W.layer.hideProcessMessage();}}catch(e){$W.exception.printStackTrace(e);}try{var _10=$W.document.createElement("form");_10.target="__iframe__";_10.action=_6;_10.method=_8;_10.style.display="inline";if(typeof _7!="undefined"){var _11=$W.document.createElement("input");_11.type="hidden";_11.name="xmlValue";if($W._B.isDocument(_7)){_11.value=$W._B.serialize(_7);}else{_11.value=_7;}_10.appendChild(_11);}_a.appendChild(_10);_10.submit();}catch(e){}finally{_a.removeChild(_10);}};$W._N.excelDownload=function(_12,_13,_14){["WebSquare.core.excelDownload"];if($W.hybridApp){try{if($W._N.browserCheck.iphone||$W._N.browserCheck.ipad||$W._N.browserCheck.ipod){$W._G.js("../cordova.js",function(){window.setTimeout(function(){plugins.misc.getDocument(null,null,"application/vnd.ms-excel",_12,_13);$W.layer.hideProcessMessage();},500);});return;}else{plugins.misc.getDocument(null,null,"application/vnd.ms-excel",_12,_13);$W.layer.hideProcessMessage();return;}}catch(e){$W.exception.printStackTrace(e);}}if(typeof _14=="undefined"||_14==null||_14==""){_14="post";}if($W._G.isMobile()){window.open("blank.html","__ipad_excel__");}var _15=false;if(document.getElementById("__iframe__")!=null){_15=true;}var _16=null;if(!_15){_16=$W.document.createElement("div");_16.id="___iframe__div";_16.style.width="0px";_16.style.height="0px";_16.style.visibility="hidden";$W.document.body.appendChild(_16);var src=$W._r.getSSLBlankPage();if($W.domain){var _18=$W.baseURI+"/message/domainFrame.html";_18+="?domain="+$W._A.URLEncoder($W.domain);src="src='"+_18+"'";}_16.innerHTML="<iframe frameborder='0' id='__iframe__' name='__iframe__' scrolling='no' style='width:0; height:0' "+src+"></iframe>";}else{_16=document.getElementById("___iframe__div");}try{var _19=document.getElementById("__iframe__");var _1a=function(){if(_19.contentWindow.document.readyState=="interactive"){$W.layer.hideProcessMessage();}};if($W._N.browserCheck.ie){try{var _1b=_19.contentWindow.document;}catch(e){$W._N.clearTimer("__iframe__");$W._N.setTimer($W._N.excelDownload,{key:"__iframe__",caller:this,delay:500,args:arguments});return;}_19.contentWindow.document.onreadystatechange=_1a;}else{$W.layer.hideProcessMessage();}}catch(e){$W.exception.printStackTrace(e);}try{var _1c=$W.document.createElement("form");if($W._G.isMobile()){_1c.target="__ipad_excel__";}else{_1c.target="__iframe__";_1c.encoding="text/plain";}_1c.action=_12;_1c.method=_14;_1c.style.display="inline";_1c.acceptCharset="UTF-8";if(typeof _13!="undefined"){var _1d=$W.document.createElement("input");_1d.type="hidden";_1d.name="xmlValue";if($W._B.isDocument(_13)){_13=$W._B.serialize(_13);}_1d.value=_13;_1c.appendChild(_1d);}_16.appendChild(_1c);_1c.submit();}catch(e){}finally{_16.removeChild(_1c);}};$W._N.loadJavaScript=function(url){var _1f=$W.document.createElement("SCRIPT");_1f.src=url;$W.document.body.appendChild(_1f);};$W._N.callParentFunction=function(){["WebSquare.core.callParentFunction"];$W.setParentObj();if(arguments.length==0||typeof $W.parentObj=="undefined"||$W.parentObj==null){return null;}var _20=null;var _21="";var _22=0;var _23=null;try{for(var i=0;i<arguments.length;i++){if(i==0){_20=arguments[i];}else{if(typeof arguments[i]=="string"||typeof arguments[i]=="number"||typeof arguments[i]=="boolean"||typeof arguments[i]=="object"||typeof arguments[i]=="undefined"){if(_22!=0){_21+=",";}_21+="arguments["+i+"]";_22++;}}}if(_20!=null){_23=eval("WebSquare.parentObj."+_20+"("+_21+")");}}catch(e){$W.exception.printStackTrace(e);}return _23;};$W._N.closePopupWindow=function(){var id=$W._r.getParameter("popupID");$W._N.callParentFunction("WebSquare.uiplugin.popup.callClose",id);};$W._N.recursiveCall=function(){["WebSquare.core.recursiveCall"];var _26=undefined;try{var _27=null;var _28="";var _29=[];for(var i=0;i<arguments.length;i++){if(i==0){_27=arguments[i];_29.push("'"+arguments[i]+"'");}else{if(i!=1){_28+=",";}_28+="arguments["+i+"]";_29.push("arguments["+i+"]");}}if(_27!=null){if($W._N.isOpenerMethod(_27)){try{_26=eval("opener."+_27+"("+_28+")");}catch(ee){if($W._N.isParentFrameMethod(_27)){_26=eval("parent."+_27+"("+_28+")");}else{_26=eval(_27+"("+_28+")");}}if(_26===null||typeof _26=="undefined"){_26=eval("opener.WebSquare.core.recursiveCall("+_29.join(",")+")");}}else{if($W._N.isParentFrameMethod(_27)){_26=eval("parent."+_27+"("+_28+")");if(_26===null||typeof _26=="undefined"){_26=eval("parent.WebSquare.core.recursiveCall("+_29.join(",")+")");}}else{_26=eval(_27+"("+_28+")");}}}return _26;}catch(e){$W.exception.printStackTrace(e);}};$W._N.recursiveCall_leaf=function(){["WebSquare.core.recursiveCall"];var _2b=undefined;try{var _2c=null;var _2d="";var _2e=[];for(var i=0;i<arguments.length;i++){if(i==0){_2c=arguments[i];_2e.push("'"+arguments[i]+"'");}else{if(i!=1){_2d+=",";}_2d+="arguments["+i+"]";_2e.push("arguments["+i+"]");}}if(_2c!=null){if($W._N.isOpenerMethod(_2c)){_2b=eval("opener.WebSquare.core.recursiveCall("+_2e.join(",")+")");}else{if($W._N.isParentFrameMethod(_2c)){_2b=eval("parent.WebSquare.core.recursiveCall("+_2e.join(",")+")");}else{_2b=eval(_2c+"("+_2d+")");}}}return _2b;}catch(e){$W.exception.printStackTrace(e);}};$W._N.getNamespaces=function(_30){["WebSquare.core.getNamespaces"];var _31={};try{var _32=null;if(_30.nodeType==1){_32=_30.attributes;}else{if(_30.nodeType==9){_32=_30.documentElement.attributes;}}if(_32!=null){for(var i=0;i<_32.length;i++){var _34=_32.item(i);if(_34.nodeName=="xmlns"){_31[""]=(_34.value!=undefined)?_34.value:_34.nodeValue;}else{if(_34.nodeName.indexOf("xmlns")==0){if(_34.value!=undefined&&_34.name!=undefined){_31[_34.name.substring(6)]=_34.value;}else{_31[_34.nodeName.substring(6)]=_34.nodeValue;}}}}}}catch(e){$W.exception.printStackTrace(e);}return _31;};$W._N.isParentFrameMethod=function(_35){["WebSquare.core.isParentFrameMethod"];try{if(parent!=window&&eval("parent."+_35)){return true;}return false;}catch(e){}return false;};$W._N.isOpenerMethod=function(_36){["WebSquare.core.isOpenerMethod"];try{if(typeof window.opener=="undefined"){return false;}else{if(window.opener.closed){return false;}else{if(eval("typeof window.opener."+_36)=="function"||eval("typeof window.opener."+_36)=="object"){return true;}else{return false;}}}}catch(e){}return false;};$W._N.getURL=function(url){["WebSquare.core.getURL"];var _38=url;if(1==2){var _39="ErtOqpezr Ukptvqtzp IIWENNA Stwbreo Agp Zvydtn Vmfwnvzh";}if(typeof url=="string"){if(url.indexOf("://")>-1){return url;}if(!url.startsWith("/")&&!url.startsWith("\\")){url=$W.w2xHome+url;}if($W.w2xDocumentRoot!=""&&!url.startsWith("..")){url=$W.w2xDocumentRoot+url;}}return url;};$W._N.getImageURL=function(url,_3b){["WebSquare.core.getImageURL"];if(typeof _3b=="undefined"){_3b=false;}var _3c=$W._N.getConfiguration("/WebSquare/imageURLPrefix/@value");if(typeof url=="string"){if(url.startsWith("data:")){return url;}if($W.BootLoader.imageServlet!=null){if(url.startsWith("url")){var _3d=url.substring(3).wq_trim();if(_3d.charAt(0)=="("&&_3d.charAt(_3d.length-1)==")"){url=_3d.substring(1,_3d.length-1);url=$W._N.getURL(url.wq_trim());url=$W.baseURI+$W.BootLoader.imageServlet+url;url=$W.BootLoader.getImagePostfix(url);if($W.isLocal==false&&$W._N.browserCheck.ie&&$W._N.browserVersion()=="6"&&url.indexOf("://")==-1){url=location.protocol+"//"+location.host+url;}url="url("+url+")";}}else{if(_3c!==""){url=_3c+url.wq_trim();}else{url=$W._N.getURL(url.wq_trim());url=$W.baseURI+$W.BootLoader.imageServlet+url;url=$W.BootLoader.getImagePostfix(url);}if($W.isLocal==false&&$W._N.browserCheck.ie&&$W._N.browserVersion()=="6"&&url.indexOf("://")==-1){url=location.protocol+"//"+location.host+url;}if(_3b){url="url("+url+")";}}if($W.BootLoader.imageHostUrl!=null){url+="&hostUrl="+$W.BootLoader.imageHostUrl;}}else{if(_3c!==""){url=_3c+url.wq_trim();}else{url=$W._N.getURL(url.wq_trim());}if($W.isLocal==false&&$W._N.browserCheck.ie&&$W._N.browserVersion()=="6"&&url.indexOf("://")==-1){url=location.protocol+"//"+location.host+url;}if(_3b){url="url("+url+")";}}}return url;};$W._N.getEngineImageURL=function(url,_3f){["WebSquare.core.getEngineImageURL"];if(typeof _3f=="undefined"){_3f=false;}if(typeof url=="string"){if($W.BootLoader.imageServlet!=null){if(url.startsWith("url")){var _40=url.substring(3).wq_trim();if(_40.charAt(0)=="("&&_40.charAt(_40.length-1)==")"){url=_40.substring(1,_40.length-1);url=$W.baseURI+$W.BootLoader.imageServlet+$W.baseURI+url.wq_trim();url=$W.BootLoader.getImagePostfix(url);url="url("+url+")";}}else{url=$W.baseURI+$W.BootLoader.imageServlet+$W.baseURI+url.wq_trim();url=$W.BootLoader.getImagePostfix(url);if(_3f){url="url("+url+")";}}}else{url=$W.baseURI+url.wq_trim();if(_3f){url="url("+url+")";}}}return url;};$W._N.browserCheck=function(){["WebSquare.core.browserCheck"];return navigator.appName;};$W._N.browserCheck.ie=$W.BootLoader.browserCheck.ie;$W._N.browserCheck.moz=$W.BootLoader.browserCheck.moz;$W._N.browserCheck.opera=$W.BootLoader.browserCheck.opera;$W._N.browserCheck.chrome=$W.BootLoader.browserCheck.chrome;$W._N.browserCheck.android=$W.BootLoader.browserCheck.android;$W._N.browserCheck.iphone=$W.BootLoader.browserCheck.iphone;$W._N.browserCheck.ipad=$W.BootLoader.browserCheck.ipad;$W._N.browserCheck.ipod=$W.BootLoader.browserCheck.ipod;$W._N.browserCheck.blackberry=$W.BootLoader.browserCheck.blackberry;$W._N.browserCheck.safari=$W.BootLoader.browserCheck.safari;$W._N.browserCheck.ieAllVersion=$W.BootLoader.browserCheck.ieAllVersion;$W._N.browserCheck.spartan=$W.BootLoader.browserCheck.spartan;$W._N.browserCheck.ieVersion={};$W._N.browserCheck.mozVersion={};$W._N.browserCheck.chromeVersion={};$W._N.browserCheck.safariVersion={};$W._N.browserCheck.operaVersion={};$W._N.browserCheck.spartanVersion={};$W._N.browserCheck.isMobile;if(!$W._N.browserCheck.ie){HTMLElement.prototype.click=function(){var evt=this.ownerDocument.createEvent("MouseEvents");evt.initMouseEvent("click",true,true,this.ownerDocument.defaultView,1,0,0,0,0,false,false,false,false,0,null);this.dispatchEvent(evt);};}$W._N.browserVersion=function(){["WebSquare.core.browserVersion"];if($W._N.browserCheck.moz){if(navigator.appVersion.charAt(0)==2){return "2";}else{if(navigator.appVersion.charAt(0)==3){return "3";}else{if(navigator.appVersion.charAt(0)==4){return "4";}else{if(navigator.appVersion.charAt(0)==5){return "6";}}}}}else{if($W._N.browserCheck.ieAllVersion){if(document.documentMode){return document.documentMode+"";}if(navigator.appVersion.charAt(0)=="2"){return "2";}else{if(navigator.appVersion.charAt(0)=="3"){return "3";}else{if(navigator.appVersion.charAt(0)=="4"){if(navigator.appVersion.indexOf("MSIE 9")!=-1){return "9";}else{if(navigator.appVersion.indexOf("MSIE 8")!=-1){return "8";}else{if(navigator.appVersion.indexOf("MSIE 7")!=-1){return "7";}else{if(navigator.appVersion.indexOf("MSIE 6")!=-1){return "6";}else{if(navigator.appVersion.indexOf("MSIE 5.5")!=-1){return "5.5";}else{if(navigator.appVersion.indexOf("MSIE 5.0")!=-1){return "5.0";}else{return "4";}}}}}}}else{if(navigator.appVersion.charAt(0)=="5"){return "5";}}}}}else{if($W._N.browserCheck.android){var ua=navigator.userAgent;if(ua.indexOf("Android")>=0){return parseFloat(ua.slice(ua.indexOf("Android")+8));}}}}return " ";};$W._N.setTimeout=function(_43,_44,_45){["WebSquare.core.setTimeout"];var _43=_43;var _44=_44;var _45=_45;var _46=[];if(arguments.length>3){for(var i=3;i<arguments.length;i++){_46.push(arguments[i]);}}window.setTimeout(function(){_44.apply(_43,_46);},_45);};$W._N.cloneObject=function(obj){if(typeof obj!="object"){return obj;}if(obj==null){return obj;}var _49=new Object();for(var i in obj){_49[i]=$W._N.cloneObject(obj[i]);}return _49;};$W.makeCnt=0;$W._N.makeStyle=function(_4b,_4c,_4d){["WebSquare.core.makeStyle"];$W.makeCnt++;if((typeof _4b=="undefined"||_4b==null)&&(typeof _4c=="undefined"||_4c==null)){return null;}var b={};if(typeof _4c!="undefined"&&_4c!=null&&_4c!=""){b=$W._y.makeClassStyle(_4c);b=$W._N.cloneObject(b);}try{if(typeof _4b!="undefined"&&_4b!=null&&_4b!=""){var a=_4b.split(";");for(var i=0;i<a.length;i++){var idx=a[i].indexOf(":");if(idx<0){continue;}else{var _52=a[i].substring(0,idx);var _53=a[i].substring(idx+1);if(_53.indexOf("url")>=0){_53=_53.wq_trim();if(_53.startsWith("url")){var _54=_53.substring(3).wq_trim();if(_54.charAt(0)=="("&&_54.charAt(_54.length-1)==")"){_53="url("+$W._N.getImageURL(_54.substring(1,_54.length-1))+")";}}}b[(_52.wq_trim()).capitalizeStyle()]=_53.wq_trim();}}if(typeof _4d!="undefined"){var tmp={};for(var i=0;i<_4d.length;i++){try{var key=(_4d[i].wq_trim()).capitalizeStyle();var _57=b[key];if(typeof _57!="undefined"){tmp[key]=_57;}}catch(e){$W.exception.printStackTrace(e,"Object ID : "+o.id+",    ");}}b=tmp;}}}catch(e){$W.exception.printStackTrace(e);}return b;};$W.appCnt=0;$W._N.applyStyle=function(o,_59,_5a){["WebSquare.core.applyStyle"];try{$W.appCnt++;if(typeof _59=="undefined"||_59==null){return;}if($W._G.isExist("style",o)){if(typeof _5a=="undefined"){for(var i in _59){try{o.style[i]=_59[i];}catch(e){$W.exception.printStackTrace(e,"Object ID : "+o.id+",    ");}}}else{for(var i=0;i<_5a.length;i++){try{var _5c=_59[_5a[i]];if(typeof _5c!="undefined"){o.style[_5a[i]]=_5c;}}catch(e){$W.exception.printStackTrace(e,"Object ID : "+o.id+",    ");}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._N.getConfiguration=function(key,_5e){["WebSquare.core.getConfiguration"];if(_5e){return $W._N.getConfigurationJSON(key);}else{return $W._N.getConfigurationDocument(key);}};$W._N.setConfiguration=function(key,_60){["WebSquare.core.setConfiguration"];$W._B.setValue($W.BootLoader.configurationInfo,key,"value",_60);$W.BootLoader.configurationJSON.pop();$W.BootLoader.configurationJSON.push($W.BootLoader.XML2JSON($W.BootLoader.configurationInfo));$W.configManager=new $W.configManager($W.BootLoader.configurationDOM);};$W._N.applyConfiguration=function(_61){["WebSquare.core.applyConfiguration"];$W.configCache=[];var _62=$W._B.load(_61);$W.BootLoader.configurationInfo=_62;$W.BootLoader.configurationDOM.pop();$W.BootLoader.configurationDOM.push(_62);$W.BootLoader.configurationJSON.pop();$W.BootLoader.configurationJSON.push($W.BootLoader.XML2JSON(_62));$W.configManager.setConfig(_62);};$W._N.getChildConfiguration=function(key){["WebSquare.core.getChildConfiguration"];return $W._N.getChildConfigurationDocument(key);};$W._N.getChildConfigurationDocument=function(key){["WebSquare.core.getChildConfigurationDocument"];var _65=[];for(var i=0;i<$W.BootLoader.configurationDOM.length;i++){_65=$W._B.getChildren($W.BootLoader.configurationDOM[i],key);if(_65.length>0){return _65;}}return _65;};$W.configCache=[];$W._N.getConfigurationDocument=function(key){["WebSquare.core.getConfigurationDocument"];var _68=$W.configCache[key];if(_68!=null){return _68;}_68="";for(var i=0;i<$W.BootLoader.configurationDOM.length;i++){if(key.indexOf("/")>-1){_68=$W._B.getValue($W.BootLoader.configurationDOM[i],key);_68=_68.wq_trim();}else{var _6a=$W._B.findNode($W.BootLoader.configurationDOM[i].documentElement,"/WebSquare/"+key.wq_trim()+"/@value");if(_6a!=null){_68=(_6a.value!=undefined)?_6a.value:_6a.nodeValue;_68=_68.wq_trim();}}if(_68.length>0){break;}}$W.configCache[key]=_68;return _68;};$W._N.getConfigurationJSON=function(key){["WebSquare.core.getConfigurationJSON"];var _6c=$W.configCache[key];if(_6c!=null){return _6c;}_6c="";for(var i=0;i<$W.BootLoader.configurationJSON.length;i++){if(key.indexOf("/")>-1){var st=key.split("/");var obj=$W.BootLoader.configurationJSON[i];var _70=false;var _71=null;for(var j=0;j<st.length;j++){if(st[j]==""){continue;}_70=false;var _73=st[j];var str=_73.indexOf("[");var _75=null;var _76=null;if(str==-1){_71=_73;}else{_71=_73.substring(0,str);var _77=_73.match(/[a-zA-Z0-9_]*[\[][\s]*(@[a-zA-Z0-9_]*)[\\]*=[\s]*["']?([^'"]*)["']?[\]]/);if(_77!=null){_75=_77[1];_76=_77[2];}}obj=obj[_71];if(obj){if(Object.prototype.toString.call(obj)==="[object Array]"){for(var k=0;k<obj.length;k++){if(_75==null&&_76==null){_70=true;obj=obj[k];break;}else{if(_76==obj[k][_75]){_70=true;obj=obj[k];break;}}}}else{if(_75==null&&_76==null){_70=true;}else{if(_76==obj[_75]){_70=true;}}}}if(!_70){obj=null;break;}}if(obj){if(_71&&_71.startsWith("@")){if(typeof obj=="string"){_6c=obj;}else{_6c=obj+"";}}else{if(Object.prototype.toString.call(obj)==="[object Array]"){_6c=obj[0]["#text"]||"";_6c+=obj[0]["#cdata"]||"";}else{_6c=obj["#text"]||"";_6c+=obj["#cdata"]||"";}if(typeof _6c!="string"){_6c=_6c+"";}}}_6c=_6c.wq_trim();}else{var obj=$W.BootLoader.configurationJSON[i]["WebSquare"][key.wq_trim()];if(obj){if(Object.prototype.toString.call(obj)==="[object Array]"){_6c=obj[0]["@value"];}else{_6c=obj["@value"];}}if(_6c){_6c=_6c.wq_trim();}else{_6c="";}}if(_6c.length>0){break;}}$W.configCache[key]=_6c;return _6c;};$W._N.loadConfiguration=function(){};$W._N.loadConfigurationDocument=function(){};$W._N.errorMessageData=new Object();$W._N.userMessageData=new Object();$W._N.applyErrorMessage=function(){["WebSquare.core.applyErrorMessage"];try{var _79=$W._B.load($W.baseURI+"message/"+$W._N.getConfiguration("language")+".xml");for(var _7a=_79.documentElement.firstChild;_7a!=null;_7a=_7a.nextSibling){if(_7a.nodeType==1){$W._N.errorMessageData[_7a.nodeName]=_7a.firstChild.nodeValue;}}}catch(e){$W.exception.printStackTrace(e);}};$W._N.applyUserMessage=function(){["WebSquare.core.applyUserMessage"];try{var _7b=$W._B.load($W.baseURI+"message/userMessage.xml");for(var _7c=_7b.documentElement.firstChild;_7c!=null;_7c=_7c.nextSibling){if(_7c.nodeType==1){$W._N.userMessageData[_7c.nodeName]=_7c.firstChild.nodeValue;}}}catch(e){$W.exception.printStackTrace(e);}};$W.whereami=function(){["WebSquare.whereami"];alert(location.href);};$W._N.extNamespace=function(){["WebSquare.core.extNamespace"];var _7d=$W._N.getChildConfiguration("/WebSquare/uiplugin");for(var i=0;i<_7d.length;i++){try{$W._N.EXT_PLUGIN[_7d[i].namespace]={};$W._N.EXT_PLUGIN[_7d[i].namespace][_7d[i].id]={};$W._N.EXT_PLUGIN[_7d[i].namespace][_7d[i].id]["id"]=_7d[i].id;$W._N.EXT_PLUGIN[_7d[i].namespace][_7d[i].id]["namespace"]=_7d[i].namespace;$W._N.EXT_PLUGIN[_7d[i].namespace][_7d[i].id]["src"]=_7d[i].src;$W._N.EXT_PLUGIN[_7d[i].namespace][_7d[i].id]["className"]=_7d[i].className;}catch(e){$W.exception.printStackTrace(e);}}};$W._N.matchExtNamespace=function(uri){["WebSquare.core.matchExtNamespace"];if(typeof $W._N.EXT_PLUGIN[uri]=="undefined"){return false;}else{return true;}};$W._N.setMaxZIndex=function(_80){var _81=0;var _82=_80.style.zIndex;var _83=$W.document.body.childNodes;for(var i=0;i<_83.length;i++){if(_83[i].nodeType==1){var _85=_83[i].style.zIndex;if(_85>=_81){_81=_85;}}}_80.style.zIndex=_81+1;};$W.extend=function(_86,_87){for(var _88 in _87){_86[_88]=_87[_88];}return _86;};$W.extendKeepingType=function(_89,_8a){for(var _8b in _8a){var _8c=_8a[_8b];switch(typeof _89[_8b]){case "string":if(_8c==""){continue;}if(_8c=="$blank"){_8c="";}break;case "number":if(_8c.toString().indexOf(".")>-1){_8c=parseFloat(_8c);}else{_8c=parseInt(_8c,10);}break;case "boolean":_8c=$W._G.getBoolean(_8c);break;}_89[_8b]=_8c;}return _89;};$W.setBody=function(_8d){if(!$W.bodyControlList){$W.bodyControlList=[];}$W.bodyControlList.push(_8d);};$W.getBody=function(){if($W.bodyControlList&&$W.bodyControlList[0]){return $W.bodyControlList[0];}else{return null;}};$W._discardElement=function(_8e){var _8f=document.getElementById("IELeakGarbageBin");if(!_8f){_8f=document.createElement("DIV");_8f.id="IELeakGarbageBin";_8f.style.display="none";document.documentElement.appendChild(_8f);}_8f.appendChild(_8e);_8f.innerHTML="";};$W.removeChildren=function(_90){if(_90===undefined||_90===null||!_90.childNodes){return -1;}var _91=_90.childNodes.length;while(_90.hasChildNodes()){$W.removeNode(_90.firstChild);}return _91;};$W.removeNode=function(_92){if($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<8){$W._discardElement(_92);return _92;}else{if(_92&&_92.parentNode){return _92.parentNode.removeChild(_92);}}};$W._N.clearCommon=function(){["WebSquare.core.clearCommon"];try{try{for(var i=$W._N.userClearMemoryStack.length;i>0;i--){var _94=$W._N.userClearMemoryStack[i-1];if(_94){_94();}}}catch(e){}try{var _95=$W._N.getConfiguration("/WebSquare/clearMemory/@userFunction");if(_95){eval(_95+"()");}}catch(e){}if($W&&$W.timerHash){for(var key in $W.timerHash){var _97=$W.timerHash[key];if(_97){$W._N.clearTimer(key);}}}if($W.userTimerHash){for(var key in $W.userTimerHash){var _97=$W.userTimerHash[key];if(_97){$W._G.clearTimeout(key);}}$W.userTimerHash={};}if($W.userIntervalHash){for(var key in $W.userIntervalHash){var _97=$W.userIntervalHash[key];if(_97){$W._G.clearInterval(key);}}$W.userIntervalHash={};}if($W&&$W.userData){for(var key in $W.userData){$W.userData[key]=null;}$W.userData={};}$W._r.paramObj=null;for(var _98 in $W._j["comp"]){$W._j.api.remove(_98);}$W._j["comp"]={};$W._j["attributeMapInfo"]={};$W._j["childToParentRelation"]={};$W._j["parentToChildRelation"]={};$W._j["childToParentRef"]={};$W._j["parentToChildRef"]={};$W._j["options"]={useConfig:"true",baseNode:"map",attributeMap:""};$W._j["activated"]=false;$W._j["stopBroadCast"]=false;try{if(typeof jQuery!="undefined"&&jQuery!=null){var _99=[];for(var id in jQuery.cache){if(jQuery.cache[id].handle){try{_99.push(jQuery.cache[id].handle.elem);}catch(e){}}}jQuery.cleanData(_99);for(var key in _99){delete _99[key];}_99=null;}}catch(e){$W.logger.printLog("error : jQuery cleanData exception");$W.exception.printStackTrace(e,null,this);}}catch(e){}};var WebSquare_clearMemory=$W.clearMemory=function(){["WebSquare.clearMemory"];try{if($W&&$W._N){var _9b=$W._N.getConfiguration("/WebSquare/clearMemory/@userAfterFunction");$W._N.clearCommon();}try{if("onhashchange" in window){window.onhashchange=null;}else{clearInterval($W._G._hashTestKey);if($W._G._hiddenFrame){$W.removeNode($W._G._hiddenFrame);$W._G._hiddenFrame=null;}}}catch(e){$W.logger.printLog("error : clear historyFrame exception");$W.exception.printStackTrace(e,null,this);}if($W&&$W.bodyControlList&&$W.bodyControlList[0]){$W.getBody().remove();}for(var i in $W){$W[i]=null;delete $W[i];}if(typeof window["imports"]!="undefined"){window["imports"]=null;}if(typeof window["requires"]!="undefined"){window["requires"]=null;}if(typeof $W._a!="undefined"){$W._a=null;}if(typeof $W._a!="undefined"){$W._a=null;}if(typeof window["$W"]!="undefined"){window["$W"]=null;}if(typeof window["$W"]!="undefined"){window["$W"]=null;}$W=null;window["$W"]=window["$W"]=window["WebSquare"]={"logger":{"printLog":function(){}},"exception":{"printStackTrace":function(){}},"timerHash":{},"remove":true};try{if(_9b){window[_9b]();}}catch(e){}}catch(e){}};$W.timerHash={};$W._N.setTimer=function(_9d,_9e){["WebSquare.core.setTimer"];try{var _9f=new Date().getTime();var key=_9e.key||_9d.toString().slice(0,30);var _a1=_9e.delay||1;var max=_9e.max||0;var _a3=_9e.caller||window;var _a4=_9e.args||[];var _a5=$W.timerHash[key];if(!_a5){_a5=$W.timerHash[key]={thread:null,timeoutKey:null,startTime:_9f};}_a5.thread=function(){["WebSquare.core.setTimer.helper"];if(window["WebSquare"]&&$W.timerHash){delete $W.timerHash[key];}(_9e.before_call)&&(_9e.before_call.call(_a3,_a5));var ret=_9d.apply(_a3,_a4);(_9e.callback)&&(_9e.callback.call(_a3,ret));};clearTimeout(_a5.timeoutKey);if(max<=0||_9f-_a5.startTime<max){(_9e.before_set)&&(_9e.before_set.call(_a3,_a5));_a5.timeoutKey=setTimeout(_a5.thread,_a1);(_9e.after_set)&&(_9e.after_set.call(_a3,_a5));}else{_a5.thread();}return key;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._N.clearTimer=function(key,_a8){["WebSquare.core.clearTimer"];try{if(typeof key=="function"){key=func.toString().slice(0,30);}var _a9=$W.timerHash[key];if(_a9){clearTimeout(_a9.timeoutKey);if(_a8){_a9.thread();}else{delete $W.timerHash[key];}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.measureHash={};$W._N.measureTime=function(_aa,_ab){["WebSquare.core.clearTimer"];try{var key=_ab.key||_aa.toString().slice(0,30);var _ad=_ab.caller||window;$W._N.clearTimer(key,true);$W._N.setTimer(function(){},{key:key,before_call:function(_ae){var t=new Date().getTime()-_ae.startTime;if(!$W.measureHash[key]){$W.measureHash[key]=[];$W.measureHash[key].sum=0;}var _b0=$W.measureHash[key];_b0.push(t);_b0.sum+=t;if(_b0.length>100){_b0.sum-=_b0.shift();}_aa.call(_ad,{time:t,aver:_b0.sum/_b0.length});}});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._N.modifyMaxConnection=function(_b1,_b2){["WebSquare.core.modifyMaxConnection"];try{if($W._N.browserCheck.ie){_b1=_b1||"10";_b2=_b2||"";var _b3=$W._N.getConfiguration("/WebSquare/maxConnectionActiveX/@codebase");if(_b3==null||_b3==""){_b3="engine/cab/WebSquareConfig.cab";}var _b4=$W.document.createElement("div");_b4.style.width="0px";_b4.style.height="0px";_b4.style.visibility="hidden";$W.document.body.appendChild(_b4);_b4.innerHTML="<object classid='clsid:BD66056F-D87B-4543-8638-A4CED765B9AA' codebase='"+_b3+"' style='display: none' width='0' height='0' align='center' hspace='0' vspace='0'><param name='MaxConnectionsPerServer' value='"+_b1+"' /><param name='SyncMode5' value='"+_b2+"' /></object>";}}catch(e){$W.exception.printStackTrace(e,null);}};$W._N.setSystemLanguage=function(_b5){["WebSquare.core.setSystemLanguage"];$W.useUserSystemLang=true;var _b6=$W.BootLoader.getBrowserLanguage();var _b5=$W._k.getCookie("system_language")||_b5||_b6||"ko";$W.systemLanguage=_b5;var _b7=$W._N.getConfiguration("/WebSquare/languagePack/url[@lang='"+_b5+"']/@value");imports(_b7);};$W._N.getEmptyTag=function(){["WebSquare.core.getEmptyTag"];try{if($W._N.EMPTY_TAGS){return $W._N.EMPTY_TAGS;}$W._N.EMPTY_TAGS={};var _b8=$W._N.getConfiguration("/WebSquare/emptyTag/@value");if(_b8){var _b9=_b8.split(",");for(var i=0;i<_b9.length;i++){var tag=_b9[i].wq_trim();$W._N.EMPTY_TAGS[tag]=true;}}return $W._N.EMPTY_TAGS;}catch(e){$W.exception.printStackTrace(e,null);}};$W._N.finalize=function(){["WebSquare.core.finalize"];try{$W._j["stopBroadCast"]=true;$W.dragdrop2={"droppable":{},"scrollable":{},"scrollByDragDelay":300,"scrollByDragSpeed":50};if($W.getBody()){if(!$W._N.firePageunload){$W._N.firePageunload=true;$W._c.fireEvent($W.getBody(),"onpageunload");}}var _bc=$W._N.getConfiguration("/WebSquare/spa/onpageunload/@value");if(_bc!=null&&_bc!=""){try{eval(_bc+"();");}catch(e){$W.logger.printLog("eval script error : "+_bc);$W.exception.printStackTrace(e,null);}}if($W._N.getConfiguration("/WebSquare/spa/autoReload/@value").toLowerCase()==="true"){for(var _bd in $W._N.memoryLeakComponent){if($W.WebSquareDocument.componentsCache[_bd]!=undefined){if(Number($W._N.getConfiguration("/WebSquare/spa/autoReload/@"+_bd))<=$W.WebSquareDocument.componentsCache[_bd].length){$W._G.clearPage();return;}$W._N.memoryLeakComponentCount+=$W.WebSquareDocument.componentsCache[_bd].length*$W._N.memoryLeakComponent[_bd];}}var _be=$W._N.getConfiguration("/WebSquare/spa/autoReload/@count");if(_be==""){_be=NaN;}else{_be=Number(_be);}if($W._N.memoryLeakComponentCount>0&&$W._N.memoryLeakComponentCount>_be){$W._G.clearPage();return;}}var _bf=$W._N.getConfiguration("/WebSquare/spa/variable/@value");if(_bf){var _c0=_bf.split(",");for(var i=0;i<_c0.length;i++){try{if(eval("typeof "+_c0[i])!="undefined"){var _c2=eval(_c0[i]);if(_c2!=null){for(var _c3 in _c2){delete _c2.varKey;}window[_c0[i]]={};_c2=null;}}}catch(e){$W.logger.printLog("variable auto clear error : cannot find variable ["+_bf+"]");$W.exception.printStackTrace(e,null);}}}else{if(typeof $sp!="undefined"&&$sp!=null){for(var _c4 in $sp){delete $sp.spKey;}$sp={};}}for(var key in $W.idCache){var _c6=$W.idCache[key];if(typeof _c6.remove=="function"&&_c6.remove!=$W._t.prototype.remove&&(!_c6.options||(_c6.options.pluginName!="wframe"&&_c6.options.pluginName!="pageInherit"))){_c6.remove();}else{$W.isPrintLog=false;if(typeof _c6.finalize=="function"){_c6.finalize();}$W.isPrintLog=true;if(typeof _c6.unbind=="function"){_c6.unbind();}if(_c6.event){_c6.event.clearCache();}if($W.useVisibleHelper&&_c6.render&&_c6.render.parentNode&&_c6!=$W.bodyControlList[0]){_c6.render.parentNode.removeChild(_c6.render);}_c6.childControlList=[];if(window[_c6.id]){window[_c6.id]=null;}}}if(!$W.useVisibleHelper&&$W.bodyControlList){for(var i=$W.bodyControlList.length-1;i>=0;i--){var _c7=$W.bodyControlList[i];if(_c7){_c7.childControlList=null;if(_c7.layerListener){_c7.layerListener.removeAll();}if(_c7.render){_c7.render.parentNode.removeChild(_c7.render);}}}}$W.bodyControlList=[];$W.idCache={};window[$W.noConflict].comp={};$W.idToUUID={};$W.scriptSectionExcuteFlag=null;$W.scriptSection="";$W.useVisibleHelper=false;$W.styleSheetEarlyImport=0;$W.styleSheetEarlyImportName="";if($W._y&&$W._y.skinTag){$W._y.skinTag=$W.styleSheetEarlyImportList.slice(0);}$W.externalCSSList=[];$W.externalCSSDOM=[];$W.externalCSSURL=[];$W.pageXMLString=null;if($W.WebSquaredoc!=null){$W.WebSquaredoc.itemsetElement=[];$W.WebSquaredoc.refElement=[];$W.WebSquareDocument.componentsCache={};var _c8=$W.document.getElementsByTagName("head")[0];for(var i=0;i<$W.WebSquaredoc.cssList.length;i++){_c8.removeChild($W.WebSquaredoc.cssList[i]);$W.WebSquaredoc.cssList[i]=null;}_c8=null;if($W.WebSquaredoc.xmlDocument!=null){for(var i=$W.WebSquaredoc.xmlDocument.childNodes.length-1;i>=0;i--){$W.WebSquaredoc.xmlDocument.removeChild($W.WebSquaredoc.xmlDocument.childNodes[i]);}}if($W.WebSquaredoc.models){for(var m1=0;m1<$W.WebSquaredoc.models.length;m1++){var _ca=$W.WebSquaredoc.models[m1];if(_ca){for(var t1=0;t1<_ca.submissions.length;t1++){_ca.submissions[t1].dead=true;}for(var t2=0;t2<_ca.workflows.length;t2++){_ca.workflows[t2].promiseStatus="REJECT";}}}}for(var key in $W.WebSquaredoc){$W.WebSquaredoc[key]=null;}}$W._N.clearCommon();$W.WebSquaredoc=null;$W.callExecuteHelper=false;$W._N.firePageunload=false;$W._N.onurlchange=false;if(document.body==null){document.documentElement.appendChild(document.createElement("body"));}}catch(e){$W.exception.printStackTrace(e,null);}};$W._N.getComponentById=function(id){["WebSquare.core.getComponentById"];try{if(typeof id=="string"&&$W.idCache[$W.idToUUID[id]]){return $W.idCache[$W.idToUUID[id]];}else{return eval(id);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._N.setId=function(id,_cf){["WebSquare.core.setId"];try{_cf._orgUUID=_cf.uuid;_cf.setAttribute("id",id);_cf.render.setAttribute("id",id);_cf.id=id;$W.idToUUID[id]=_cf.uuid;window[$W.noConflict].comp[id]=_cf;if($W._N.getConfiguration("/WebSquare/globalExposure/@value").toLowerCase()!="false"){window[id]=_cf;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._N.cleanObj=function(obj){["WebSquare.core.cleanObj"];try{var _d1=[];var _d2=0;_d1.push(obj);for(var _d3=_d1.pop();_d3!=undefined;_d3=_d1.pop()){if($W._N.isNode(_d3)||$W._N.isWindow(_d3)){continue;}_d2++;if(typeof _d3=="object"&&_d3!=null){for(var key in _d3){var _d5=_d3[key];if(typeof _d5=="object"&&_d5!=null){_d1.push(_d5);}delete _d3[key];}}}return _d2;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._N.isWindow=function(obj){["WebSquare.core.isWindow"];return obj==obj.window;};$W._N.isNode=function(obj){["WebSquare.core.isNode"];if(typeof Node!="undefined"){return obj instanceof Node;}else{return (typeof obj.nodeType=="number"&&typeof node.nodeName=="string");}};$W._N.isXML=function(_d8){["WebSquare.core.isXML"];try{if(_d8){var _d9=(_d8?_d8.ownerDocument||_d8:0).documentElement;var _da=_d9?_d9.nodeName!=="HTML":false;return _da;}else{return;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._N.executePointScript=function(_db){if($W.executePointScriptArr[_db]){for(var i=0;i<$W.executePointScriptArr[_db].length;i++){$W.BootLoader.globalEval($W.executePointScriptArr[_db][i]);}$W.executePointScriptArr[_db]=null;delete $W.executePointScriptArr[_db];}};$W._N.getPageURL=function(src){if(typeof src!="string"){return "";}var _de=src;var _df=$W._N.getConfiguration("/WebSquare/pageURLPrefix/@ignoreW2xPath");if($W.pageURLPrefix!==""&&$W.pageURLPrefixType=="function"){var _e0=$W.pageURLPrefix;if($W.pageURLPrefix.indexOf("()")==-1){_e0=$W.pageURLPrefix+"()";}if(_df.toLowerCase()=="true"){_e0=_e0.wq_replaceAll("()","(obfuscator_url)");_de=eval("(function(){var obfuscator_url = \""+_de+"\";return "+_e0+"})();");}else{_de=eval(_e0)+encodeURIComponent(_de);}}else{if($W.pageURLPrefix!==""&&$W.pageURLPrefixType!="function"){_de=$W.pageURLPrefix+encodeURIComponent(_de);}}return _de;};$W._N.clearObj=function(obj,_e2,_e3){["WebSquare.core.clearObj"];if(_e2==undefined){_e2=1;}if(_e2>_e3){return;}if(typeof obj=="object"||typeof obj=="function"){for(var _e4 in obj){if(typeof obj[_e4]=="object"||typeof obj[_e4]=="function"){gfn_clearObj(obj[_e4],_e2+1);}try{obj[_e4]=null;delete obj[_e4];}catch(e){$W.exception.printStackTrace(e,null,this);}}}};;WebSquare.core=$W._N;$W.exception={};if($W.skipLog===true){$W.exception.printError=function(){};$W.exception.printStackTrace=function(){};$W.exception.parseStack=function(){};$W.exception.ieErrorHandler=function(){};$W.exception.printInternalSource=function(){};$W.exception.ffErrorHandler=function(){};$W.exception.getSignature=function(){};}else{$W.exception.printError=function(_1){["WebSquare.exception.printError"];$W.logger.printLog("WebSquare Error\n\n"+_1);if($W.logger.debug){alert("WebSquare Error\n\n"+_1);}};$W.exception.printStackTrace=function(e,_3,_4){["WebSquare.exception.printStackTrace"];var _5="";if(_4&&_4.getID){_5+="Exception Occured at element id ["+_4.getID()+"]\n";if(_4.parentFrame&&$W.idCache[_4.parentFrame]!=null){_5+="* frame       : id=["+$W.idCache[_4.parentFrame].id+"], src=["+$W._N.getURL($W.idCache[_4.parentFrame].getSrc())+"]\n";}}if(e.message){_5+="* message     : "+e.message+"\n";}var _6=false;try{if(e.componentName){_5+="* component   :"+e.componentName+"\n";}}catch(eeee){}try{if(e.componentID){_5+="* id          :"+e.componentID+"\n";}}catch(eeee){}try{if(e.eventName){_5+="* event       :"+e.eventName+"\n";}}catch(eeee){}try{if(e.description){_5+="* description :"+e.message+"\n";}}catch(eeee){}try{if(e.number){_5+="* number      :"+(e.number&65535)+"\n";}}catch(eeee){}try{if(e.line){_5+="* line        :"+e.line+"\n";}}catch(eeee){}try{if(e.lineNumber){_5+="* lineNumber  :"+e.lineNumber+"\n";}}catch(eeee){}try{if(e.columnNumber){_5+="* columnNumber:"+e.columnNumber+"\n";}}catch(eeee){}try{if(e.sourceURL){_5+="* sourceURL   :"+e.sourceURL+"\n";}}catch(eeee){}try{if(e.fileName){_5+="* fileName    :"+e.fileName+"\n";}}catch(eeee){}try{if(e.stack){_5+="* stack\n"+$W.exception.parseStack(e.stack)+"\n";}}catch(eeee){}try{if(e.caller){_6=true;}}catch(eeee){}if(_3){_3+="";if(_3.length>100){_5+="* source        :"+_3.substring(0,100)+"\n";}else{_5+="* source        :"+_3+"\n";}}if(typeof e.aleradyThrow=="undefined"){if(!_6){_5+="* caller\n"+$W.exception.getSignature($W.exception.printStackTrace.caller);}var _7=$W._m.getMessage("E_exception_ErrorOccursSeeLog",_5);if(_7==""){_7=_5;}$W.logger.printLog(_7);$W.exception.printInternalSource();e.aleradyThrow="djshin";}};$W.exception.parseStack=function(_8){["WebSquare.exception.parseStack"];var _9=_8.split("\n");var _a=[];for(var i=0;i<_9.length;i++){if(_9[i]){if(!_9[i].trim().startsWith("at")){if(i==0&&navigator.userAgent.indexOf("Chrome")>-1){_a.push("    "+_9[i]);}else{_a.push("    at "+_9[i]);}}else{_a.push(_9[i]);}}}return _a.join("\n");};$W.exception.ieErrorHandler=function(_c,_d,_e){["WebSquare.exception.ieErrorHandler"];$W.logger.printLog($W._m.getMessage("E_exception_IERuntimeError",_e,window.event.errorCharacter,window.event.errorCode,_d,_c,$W.exception.getSignature($W.exception.ieErrorHandler.caller)));$W.exception.printInternalSource();return true;};$W.exception.printInternalSource=function(){["WebSquare.exception.printInternalSource"];for(var j=0;j<$W.BootLoader.globalEvalArr.length;j++){var _10=[];var _11=$W.scriptIdentifier.length;var _12="\n<<Internal JavaScript Source Block";var scr=$W.BootLoader.globalEvalArr[j];if(scr){var _14=scr.split($W.scriptIdentifier);var _15=(_14.length>1)?1:0;var _16=1,isFirst=true;for(var ff=0;ff<_14.length;ff++){if(_14[ff]==""){continue;}var _18=_14[ff].split("\n");var _19=_18[0]+"";var _1a=_19.indexOf("\";");if(_1a>0){_19=_18[0].substring(0,_1a);_18[0]=_18[0].substring(_1a+2);}if(_15===1){_10.push(_12+" ["+_19+"]["+j+"] Start>>");}else{_10.push(_12+"["+j+"] Start>>");}if(isFirst){isFirst=false;_10.push("\n");_10.push("[");if(_15===1){_10.push(_19+":");}_10.push($W.BootLoader.fillZero(_16,4));_10.push("]");_16++;}for(var i=0,len=_18.length;i<len;i++){_10.push("\n");_10.push("[");if(_15===1){_10.push(_19+":");}_10.push($W.BootLoader.fillZero(_16,4));_10.push("]");_10.push(_18[i]);_16++;}if(_15===1){_10.push(_12+" ["+_19+"]["+j+"] End>>\n");}else{_10.push(_12+"["+j+"] End>>\n");}}}var _1c=_10.join("");$W.logMsgArray.push(_1c);if($W.printConsole){console.log(_1c);}if($W.remoteConsole){$W.remoteLogMsgArray.push(_1c);}}};$W.exception.ffErrorHandler=function(_1d,url,_1f){["WebSquare.exception.ffErrorHandler"];if(_1d=="Error loading script"){$W.BootLoader.printError("Module ["+url+"] Does not exist.");return false;}if($W._N.browserCheck.moz){_1f++;}$W.logger.printLog($W._m.getMessage("E_exception_FFRuntimeError",_1f,url,_1d,$W.exception.getSignature($W.exception.ffErrorHandler.caller)));$W.exception.printInternalSource();return true;};$W.exception.getSignature=function(obj,_21){["WebSquare.exception.getSignature"];if(typeof _21=="undefined"){_21=0;}if(_21>10){return "    ...(omission)";}if(obj==null||obj=="null"){return "";}else{try{var _22="";if(obj.caller!=null){if(obj.toString()!=obj.caller.toString()){_22=$W.exception.getSignature(obj.caller,++_21);}else{_22="    ...(recursion)";}}var str=obj.toString();var idx=str.indexOf("[\"");if(idx==-1){var _25=str.indexOf(")");if(_25==-1){return "    at "+str+"\n"+_22;}else{return "    at "+str.substring(0,_25+1)+"\n"+_22;}}else{var _25=str.indexOf("\"",idx+2);if(_25==-1){return "    at "+str+"\n"+_22;}else{return "    at "+str.substring(idx+2,_25)+"\n"+_22;}}}catch(e){return obj;}}};}$W.logger={};if($W.skipLog===true){$W.logger.printLog=function(){};$W.logger.changeClientName=function(){};$W.logger.sendRemoteLog=function(){};$l=function(e){};$W.logger.printLog1=function(){};$W.logger.getFileName=function(){};$W.logger.getLogTime=function(){};$W.logger.getLog=function(){};$W.logger.getErrorLog=function(){};$W.logger.clearLog=function(){};$W.logger.showLog=function(){};$W.logger.saveLog=function(){};$W.logger.showDebugMsg=function(){};$W.logger.showErrorMsg=function(){};$W.logger.alertObject=function(){};$lobj=$W.logger.alertObject,$W.logger.getObjectStr=function(){};$lobj2=function(){};wl=$lobj2,wa=function(){};$larg=function(){};$W.logger.showObject=function(){};$W.logger._showObject=function(){};$W.logger.getFunctionName=function(){};$W.logger.showContextMenu=function(){};$W.logger.setGlobalDebug1=function(){};$W.logger.setGlobalDebug2=function(){};$W.logger.getGlobalDebug=function(){return false;};$W._N.getVersion=function(){};$W._N.getVersionString=function(){return $W.version;};$W._N.getFileVersion=function(){};$W._N.getFileVersionString=function(){return $W.buildDate;};$W.logger.contextMenuAddRow=function(){};$W.logger.contextMenuAddRow1=function(){};$W.logger.hideContextMenu=function(){};$W.logger.dumpCSS=function(){};$W.logger.debug=false;$W.logger.debugKey="";}else{$W.logger.printLog=function(_2){["WebSquare.logger.printLog"];try{if($W.isPrintLog){if($W.logMsgArray.length>500){delete $W.logMsgArray;$W.logMsgArray=[];$W.logMsgArray.push($W.logger.getLogTime()+" "+$W.logger.getFileName()+"] Delete logs for reducing memory usage.");}var _3=$W.BootLoader.getLogTime();var _4=" "+$W.logger.getFileName()+"] "+_2;$W.logMsgArray.push(_3+_4);if($W.printConsole){console.log(_3+_4);}if($W.remoteConsole){$W.remoteLogMsgArray.push(_3+$W.logFileName+_4);}}}catch(e){}};$W.logger.changeClientName=function(){if(!$W.logger.clientName){$W.logger.clientName=$W.BootLoader.getCookie("remote_client_name");if(!$W.logger.clientName){$W.logger.clientName="Client_"+parseInt(Math.random()*1000);$W.BootLoader.setCookie("remote_client_name",$W.logger.clientName);}}var _5=prompt($W._m.getMessage("E_logger_changeClientName"),$W.logger.clientName);if(_5){$W.logger.clientName=_5;$W.BootLoader.setCookie("remote_client_name",$W.logger.clientName);}};if($W.remoteConsole){$W.logger.sendRemoteLog=function(_6){["WebSquare.logger.sendRemoteLog"];if(!$W.logger.clientName){$W.logger.clientName=$W.BootLoader.getCookie("remote_client_name");if(!$W.logger.clientName){$W.logger.clientName="Client_"+parseInt(Math.random()*1000);$W.BootLoader.setCookie("remote_client_name",$W.logger.clientName);}}if($W.remoteConsole){try{if($W.remoteLogMsgArray.length>0){var _6=JSON.stringify({"clientName":$W.logger.clientName,"logs":$W.remoteLogMsgArray});$W.remoteLogMsgArray=[];var _7=null;if($W.BootLoader.useActiveXObject){_7=new ActiveXObject($W._N._XMLHTTP_PROGIDS[0]);}else{if(window.XMLHttpRequest){_7=new XMLHttpRequest();}}_7.open("POST",$W.baseURI+"fiddle/logAggregator.jsp",false);_7.send(_6);_7=null;}}catch(e){$W.exception.printStackTrace(e);}window.setTimeout("WebSquare.logger.sendRemoteLog()",1000);}};window.setTimeout("WebSquare.logger.sendRemoteLog()",1000);}$l=function(_8,_9){["WebSquare.logger.printLog1"];try{if(_9){if($W.logger.debug==true){if($W.logger.debugKey.indexOf(_9)>-1){$W.logger.printLog(_8);}}}else{$W.logger.printLog(_8);}}catch(e){$W.exception.printStackTrace(e);}};$W.logger.printLog1=function(_a){["WebSquare.logger.printLog1"];try{$W.logMsgArray.push("             "+$W.logger.getFileName()+"] "+_a);}catch(e){}};$W.logger.getFileName=function(){["WebSquare.logger.getFileName"];var _b=location.pathname;try{var _c=_b.lastIndexOf("/");if(_c>-1&&_c<(_b.length-1)){_b=_b.substring(_c+1);}_c=_b.lastIndexOf(".");if(_c>-1){_b=_b.substring(0,_c);}}catch(e){}return _b;};$W.logger.getLogTime=function(_d){["WebSquare.logger.getLogTime"];var d=null;if(_d=="undefined"||_d==null){d=new Date();}else{d=new Date(_d);}var _f=d.getTime();var _10=_f-$W.logTime;var _11=$W._A.fillZero(d.getHours(),2);var _12=$W._A.fillZero(d.getMinutes(),2);var _13=$W._A.fillZero(d.getSeconds(),2);var _14=$W._A.fillZero(d.getMilliseconds(),3);var _15=_11+":"+_12+":"+_13+"."+_14;if(_10<100000){$W.logTotalTime+=_10;_15+=" "+$W._A.fillZero(_10,5)+" "+$W._A.fillZero($W.logTotalTime,6);}else{_15+=" 00000 000000";}$W.logTime=_f;return _15;};$W.logger.getLog=function(){["WebSquare.logger.getLog"];var _16="";try{if($W._N.isParentFrameMethod("WebSquare.logger.getLog")){_16=parent.WebSquare.logger.getLog();if(_16!=""){_16="Parent Log["+window.parent.name+"] \n"+_16;}}}catch(e){$W.exception.printStackTrace(e);}try{if(_16==""){return $W.logMsgArray.join("\n");}else{return $W.logMsgArray.join("\n")+"\n\n\n"+_16;}}catch(e){$W.exception.printStackTrace(e);}};$W.logger.getErrorLog=function(){["WebSquare.logger.getErrorLog"];$W.errorLogMsgArray=[];for(var i=0;i<$W.logMsgArray.length;++i){if($W.logMsgArray[i].indexOf("\uc624\ub958")>-1||$W.logMsgArray[i].indexOf("\uc5d0\ub7ec")>-1||$W.logMsgArray[i].indexOf("Runtime Error")>-1||$W.logMsgArray[i].indexOf("Error occurs")>-1){$W.errorLogMsgArray.push($W.logMsgArray[i]);}}var _18="";try{if($W._N.isParentFrameMethod("WebSquare.logger.getLog")){_18=parent.WebSquare.logger.getErrorLog();if(_18!=""){_18="\n----------------------------------------Parent Log["+window.parent.name+"]----------------------------------------\n"+_18;}}}catch(e){$W.exception.printStackTrace(e);}try{if(_18==""){return $W.errorLogMsgArray.join("\n--------------------------------------------------------------------------------\n");}else{return $W.errorLogMsgArray.join("\n--------------------------------------------------------------------------------\n")+"\n\n\n"+_18;}}catch(e){$W.exception.printStackTrace(e);}};$W.logger.clearLog=function(){["WebSquare.logger.clearLog"];var _19=$W.logger.getLog();try{if($W._N.isParentFrameMethod("WebSquare.logger.clearLog")){parent.WebSquare.logger.clearLog();}}catch(e){}try{$W.logMsgArray=[];}catch(e){$W.exception.printStackTrace(e);}return _19;};$W.logger.showLog=function(){["WebSquare.logger.showLog"];var _1a="top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _1b="";if($W.domain){_1b="?domain="+$W._A.URLEncoder($W.domain);}if($W.BootLoader.browserCheck.android||$W.BootLoader.browserCheck.iphone||$W.BootLoader.browserCheck.ipad||$W.BootLoader.browserCheck.ipod||$W.BootLoader.browserCheck.blackberry){var url=$W._N.getConfiguration("logMsgMobileURL");if(!url){url=$W.baseURI+"message/logMsgMobile.html";}url+=_1b;window.open(url);}else{var url=$W._N.getConfiguration("logMsgURL");if(!url){url=$W.baseURI+"message/logMsg.html";}url+=_1b;var _1d=window.open(url,"_blank",_1a);}};$W.logger.saveLog=function(){["WebSquare.logger.saveLog"];var _1e=$W.logger.getLog();var _1f=$W._N.getXMLHTTPObject();_1f.open("POST",$W.baseURI+"/engine/servlet/saveLog.jsp",false);_1f.send(_1e);_1f=null;};$W.logger.showDebugMsg=function(obj,_21,_22){["WebSquare.logger.showDebugMsg"];var _23="dialogHeight: 700pt; dialogWidth: 580pt; edge: Raised; center: Yes; help: No; edge: raised; resizable: Yes; status: No;";var _24;if(typeof _21!="undefined"){obj["_config"]=_21;}if(typeof _22!="undefined"){obj["title"]=_22;}if(typeof obj=="object"){_24=obj;}else{_24=new Object();try{if(obj!=null){_24["debug info"]=obj.toString();}else{_24["debug info"]="";}}catch(e){}}var _25="";if($W.domain){_25="?domain="+$W._A.URLEncoder($W.domain);}var url=$W._N.getConfiguration("debugMsgURL");if(!url){url=$W.baseURI+"message/debugMsg.html";}$W._r.showWindow(url+_25,_24,_23);};$W.logger.showErrorMsg=function(obj){["WebSquare.logger.showErrorMsg"];var _28="dialogHeight: 300pt; dialogWidth: 280pt; edge: Raised; center: Yes; help: No; resizable: Yes; status: No;";var _29="";if($W.domain){_29="?domain="+$W._A.URLEncoder($W.domain);}var url=$W._N.getConfiguration("errorMsgURL");if(!url){url=$W.baseURI+"message/errorMsg.html";}$W._r.showWindow(url+_29,obj,_28);};$W.logger.alertObject=function(obj,log){["WebSquare.logger.alertObject"];var o=new Object();var str="";try{if(typeof obj=="string"){str=obj;}else{if(typeof obj=="object"){if(obj==null){str+=" null";}else{try{for(var idx in obj){var tmp=idx+"               ";tmp=tmp.substring(0,30);try{str+=tmp+":  "+obj[idx]+"\n";}catch(e){}}}catch(e){str+=$W._m.getMessage("E_logger_InnerBlindObject");}}}}}catch(e){$W.exception.printStackTrace(e);}if(log==true){$l(str);}else{alert(str);}};$lobj=$W.logger.alertObject;$W.logger.getObjectStr=function(_31,obj,_33){["WebSquare.logger.getObjectStr"];try{var _34="";for(var i=0;i<_31;i++){_34+="\t";}if(_31>_33.maxDepth){return _34+"[...]";}var o=new Object();var str="";if(typeof obj=="string"||typeof obj=="number"){str=obj;}else{if(typeof obj=="object"){if(obj==null){str+=" null";}else{try{for(var idx in obj){var tmp=idx+"               ";tmp=tmp.substring(0,25);try{if(isNaN(idx)){if(_33.exclude&&_33.exclude.indexOf(idx)>-1){continue;}if(_33.include&&_33.include.indexOf(idx)==-1){continue;}}if(!_33.includeFunction&&typeof obj[idx]=="function"){continue;}if(typeof obj[idx]=="object"&&obj[idx]!=null){if(!_33.includeFunction&&(idx+"").indexOf("on")==0){continue;}if(!_33.includeFunction&&typeof obj[idx].innerHTML!="undefined"){str+=_34+tmp+": "+"[DOM Obejct]"+"\n";continue;}if((obj[idx].documentElement||obj[idx].ownerDocument)){str+=_34+tmp+": "+"[XML Obejct]"+"\n"+_34+$W._B.serialize(obj[idx])+"\n";continue;}str+=_34+tmp+":\n"+$W.logger.getObjectStr(_31+1,obj[idx],_33)+"\n";}else{str+=_34+tmp+": "+obj[idx]+"\n";}}catch(e){}}}catch(e){str+=$W._m.getMessage("E_logger_InnerBlindObject");}}}}return str;}catch(e){$W.exception.printStackTrace(e);}};$lobj2=function(obj,_3b){_3b=$W.extend({log:false,includeFunction:false,maxDepth:2,include:null,exclude:"event parentComponent defaultOptions"},_3b||{});var _3c=$W.logger.getObjectStr(0,obj,_3b);if(_3b.log==true){_3c=("\n\n--------------object log----------------\n\n")+_3c;$l(_3c);}else{alert(_3c);}};wl=$lobj2;wa=function(msg){if($W.logger.debug==true){alert(msg);}};$larg=function(_3e,log,_40){var arr=[];for(var i=0;i<_3e.length;i++){arr.push(_3e[i]);}$lobj(arr,log,_40);};$W.logger.showObject=function(obj,_44){["WebSquare.logger.showObject"];var o=new Object();var str="";try{if($W._B.isDocument(obj)){try{str+=$W._B.indent(obj);}catch(e){str+=$W._m.getMessage("E_logger_InnerBlindObject");}}else{if(typeof obj=="string"){str=obj;}else{if(typeof obj=="object"){if(obj==null){str+=" null";}else{try{for(var idx in obj){var tmp=idx+"               ";tmp=tmp.substring(0,15);if(obj[idx]==null){str+=tmp+":  null\n";}else{if($W._B.isDocument(obj[idx])){str+=tmp+":  \n"+$W._B.indent(obj[idx]);}else{if(typeof obj[idx]=="object"){try{str+=tmp+":  "+$W.logger._showObject(obj[idx],1);}catch(e){str+=tmp+":  [object]\n";}}else{try{if(typeof obj[idx]=="function"){str+=tmp+":  "+$W.exception.getSignature(obj[idx])+"\n";}else{str+=tmp+":  "+obj[idx]+"\n";}}catch(e){str+=tmp+":  "+"\n";}}}}}}catch(e){str+=$W._m.getMessage("E_logger_InnerBlindObject");}}}}}}catch(e){$W.exception.printStackTrace(e);}if(_44==null||_44==""){o["Object"]=str;}else{o[_44]=str;}$W.logger.showDebugMsg(o,"text",$W._m.getMessage("E_logger_ObjectInfo"));};$W.logger._showObject=function(obj,_4a){["WebSquare.logger._showObject"];var str="\n";var _4c="";for(var i=0;i<_4a;i++){_4c+="\t";}try{if($W._B.isDocument(obj)){try{str+=_4c+tmp+":  \n"+$W._B.indent(obj);}catch(e){str+=$W._m.getMessage("E_logger_InnerBlindObject");}}else{if(typeof obj=="object"){if(obj==null){str+=" null";}else{for(var idx in obj){var tmp=idx+"               ";tmp=tmp.substring(0,15);if(obj[idx]==null){str+=tmp+":  null\n";}else{if($W._B.isDocument(obj[idx])){str+=_4c+tmp+":  \n"+$W._B.indent(obj[idx]);}else{if(typeof obj[idx]=="object"){try{str+=_4c+tmp+":  \n"+$W.logger._showObject(obj[idx],_4a++);}catch(e){str+=_4c+tmp+":  [object]\n";}}else{try{if(typeof obj[idx]=="function"){str+=_4c+tmp+":  "+$W.exception.getSignature(obj[idx])+"\n";}else{str+=_4c+tmp+":  "+obj[idx]+"\n";}}catch(e){str+=_4c+tmp+":  "+"\n";}}}}}}}}}catch(e){str+=$W._m.getMessage("E_logger_InnerBlindObject");}str+="\n";return str;};$W.logger.getFunctionName=function(obj){["WebSquare.logger.getFunctionName"];if(obj==null||obj=="null"){return "";}else{try{var str=obj.toString();if(str.indexOf("anonymous")==-1){var _52=str.indexOf("function");var _53=str.indexOf("(");return str.substring(_52+8,_53).wq_trim();}}catch(e){return obj;}}return "";};if($W.BootLoader.browserCheck.android||$W.BootLoader.browserCheck.iphone||$W.BootLoader.browserCheck.ipad||$W.BootLoader.browserCheck.ipod||$W.BootLoader.browserCheck.blackberry){$W.logger.getGlobalDebug=function(){return false;};}else{if($W._N.browserCheck.moz||$W._N.browserCheck.chrome||$W._N.browserCheck.ieAllVersion||$W._N.browserCheck.opera||$W._N.browserCheck.safari){$W.logger.showContextMenu=function(e){e=e||event;if($W._N.browserCheck.moz||$W._N.browserCheck.chrome){if(e.ctrlKey&&e.which==3&&$W._N.getConfiguration("debugMenu")!="block"){}else{return true;}}else{if($W._N.browserCheck.ieAllVersion){if((e.ctrlKey||e.crtlLeft)&&$W._N.getConfiguration("debugMenu")!="block"){}else{return true;}}else{if($W._N.browserCheck.opera){if((e.ctrlKey&&e.shiftKey&&$W._N.getConfiguration("debugMenu")!="block")||(e.ctrlKey&&e.button==2&&$W._N.getConfiguration("debugMenu")!="block")){}else{return true;}}else{if($W._N.browserCheck.safari){if(e.ctrlKey&&e.button==2&&$W._N.getConfiguration("debugMenu")!="block"){}else{return true;}}}}}var _55=window.innerWidth-e.clientX;var _56=window.innerHeight-e.clientY;var _57=$W.document.getElementById("_contextMenuLayer");if(typeof _57=="undefined"||_57==null){_57=$W.document.createElement("div");$W.document.body.insertBefore(_57,null);_57.id="_contextMenuLayer";_57.style.position="absolute";}if(_55<182){_57.style.left=((window.pageXOffset||document.documentElement.scrollLeft)+e.clientX-182)+"px";}else{_57.style.left=((window.pageXOffset||document.documentElement.scrollLeft)+e.clientX)+"px";}if(_56<176){_57.style.top=((window.pageYOffset||document.documentElement.scrollTop)+e.clientY-176)+"px";}else{_57.style.top=((window.pageYOffset||document.documentElement.scrollTop)+e.clientY)+"px";}_57.style.zIndex="20000";_57.style.visibility="visible";var str="";str+="<div onselectstart='return false' style='position:relative; overflow-x:hidden; overflow-y: auto; width:175px;height:173px; border:4px solid #e7e7e7; '>";str+="<table width='175' border='0' cellspacing='0' cellpadding='0' style='border-collapse:collapse; border:1px solid #9fbcd4; background-color:#FFFFFF;'>";str+=$W.logger.contextMenuAddRow("WebSquare.logger.showLog()",$W._m.getMessage("E_logger_ContextmenuSeeLog"));str+=$W.logger.contextMenuAddRow1("prompt( location, location )",$W._m.getMessage("E_logger_ContextmenuSeeAddress"));str+=$W.logger.contextMenuAddRow("WebSquare.util.viewSource()",$W._m.getMessage("E_logger_ContextmenuSeeSource"));str+=$W.logger.contextMenuAddRow("WebSquare.util.viewCollection()",$W._m.getMessage("E_logger_ContextmenuSeeCollection"));str+=$W.logger.contextMenuAddRow("WebSquare.util.viewInstance()",$W._m.getMessage("E_logger_ContextmenuSeeInstance"));str+=$W.logger.contextMenuAddRow("WebSquare.util.viewFiddle()",$W._m.getMessage("E_logger_ContextmenuSeeFiddle"));str+=$W.logger.contextMenuAddRow("WebSquare.logger.changeClientName()",$W._m.getMessage("E_logger_ContextmenuChangeClientName"));if($W.logger.globalDebug1){str+=$W.logger.contextMenuAddRow1("WebSquare.logger.setGlobalDebug1()",$W._m.getMessage("E_logger_ContextmenuStopDebugOnScreen"));}else{str+=$W.logger.contextMenuAddRow1("WebSquare.logger.setGlobalDebug1()",$W._m.getMessage("E_logger_ContextmenuStartDebugOnScreen"));}if($W.logger.getGlobalDebug()){str+=$W.logger.contextMenuAddRow("WebSquare.logger.setGlobalDebug2()",$W._m.getMessage("E_logger_ContextmenuStopDebugOnSystem"));}else{str+=$W.logger.contextMenuAddRow("WebSquare.logger.setGlobalDebug2()",$W._m.getMessage("E_logger_ContextmenuStartDebugOnSystem"));}str+=$W.logger.contextMenuAddRow1("parent.print()",$W._m.getMessage("E_logger_ContextmenuPrint"));str+=$W.logger.contextMenuAddRow("parent.location.reload( true )",$W._m.getMessage("E_logger_ContextmenuRefresh"));str+=$W.logger.contextMenuAddRow("WebSquare.util.reinitialize( false )",$W._m.getMessage("E_logger_ContextmenuPageReload"));str+=$W.logger.contextMenuAddRow("WebSquare.util.reinitialize( true )",$W._m.getMessage("E_logger_ContextmenuBrowserReload"));str+=$W.logger.contextMenuAddRow1("parent.WebSquare.core.getFileVersion()",$W._m.getMessage("E_logger_ContectmenuFileInfo"));str+=$W.logger.contextMenuAddRow("WebSquare.core.getVersion()",$W._m.getMessage("E_logger_ContextmenuVersion"));str+="</table></div>";_57.innerHTML=str;return false;};$W.logger.setGlobalDebug1=function(){["WebSquare.logger.setGlobalDebug1"];$W.logger.globalDebug1=!$W.logger.globalDebug1;$W.logger.hideContextMenu();};$W.logger.setGlobalDebug2=function(){["WebSquare.logger.setGlobalDebug2"];if($W.logger.getGlobalDebug()){$W._k.setCookie("globalDebug","false");}else{var pwd=prompt($W._m.getMessage("E_logger_EnterPassword"),"");if(pwd=="debug"){$W._k.setCookie("globalDebug","true");}else{$W._k.setCookie("globalDebug","false");alert($W._m.getMessage("E_logger_IncorrectPassword"));}}$W.logger.hideContextMenu();};$W.logger.getGlobalDebug=function(){["WebSquare.logger.getGlobalDebug"];try{var _5a=parseInt($W._k.getCookie("lastAccess"),10);if(isNaN(_5a)){_5a=(new Date()).getTime();}var _5b=(new Date()).getTime();if((_5b-_5a)<20*60*1000){$W._k.setCookieAsync("lastAccess",_5b+"");if($W._k.getCookie("globalDebug")=="true"){return true;}else{return false;}}else{$W._k.setCookie("globalDebug","false");return false;}}catch(e){}return false;};$W._N.getVersion=function(){["WebSquare.core.getVersion"];alert("WebSquare Runtime Engine\n          Version : "+$W.version+"\n\n  Copyright \u24d2 2006  INSWAVE Systems, Inc.\n  All Rights Reserved.\n");};$W._N.getVersionString=function(){["WebSquare.core.getVersionString"];return $W.version;};$W._N.getFileVersion=function(){["WebSquare.core.getFileVersion"];alert("FileName : "+$W.w2xPath+"\nBuildDate : "+$W.buildDate);};$W._N.getFileVersionString=function(){["WebSquare.core.getFileVersionString"];return $W.buildDate;};$W.logger.contextMenuAddRow=function(_5c,_5d){["WebSquare.logger.contextMenuAddRow"];if($W._N.browserCheck.moz||$W._N.browserCheck.chrome||$W._N.browserCheck.ieAllVersion){return "<tr><td onmouseover='this.style.backgroundColor=\"b8d5f2\";this.style.color=\"003a89\";' onmouseout='this.style.backgroundColor=\"#FFFFFF\";this.style.color=\"222222\";' style='font-family: Tahoma, Verdana, arial,helvetica; font-size: 11px; color: #222222; line-height: normal;background-color:#FFFFFF; color:#222222; width:100%; height:19px; text-decoration:none; padding:3px 3px 1px 3px; cursor:pointer ' onclick='WebSquare.logger.hideContextMenu();"+_5c+"'>"+_5d+"</td></tr>";}else{if($W._N.browserCheck.opera||$W._N.browserCheck.safari){return "<tr><td onmouseover='this.style.backgroundColor=\"b8d5f2\";this.style.color=\"003a89\";' onmouseout='this.style.backgroundColor=\"#FFFFFF\";this.style.color=\"222222\";' style='font-family: Tahoma, Verdana, arial,helvetica; font-size: 11px; color: #222222; line-height: normal;background-color:#FFFFFF; color:#222222; width:100%; height:19px; text-decoration:none; padding:3px 3px 1px 3px; cursor:pointer ' onclick='"+_5c+"'; WebSquare.logger.hideContextMenu()>"+_5d+"</td></tr>";}}};$W.logger.contextMenuAddRow1=function(_5e,_5f){["WebSquare.logger.contextMenuAddRow1"];if($W._N.browserCheck.moz||$W._N.browserCheck.chrome||$W._N.browserCheck.ieAllVersion){return "<tr><td onmouseover='this.style.backgroundColor=\"b8d5f2\";this.style.color=\"003a89\";' onmouseout='this.style.backgroundColor=\"#FFFFFF\";this.style.color=\"222222\";' style='font-family: Tahoma, Verdana, arial,helvetica; font-size: 11px; color: #222222; line-height: normal;background-color:#FFFFFF; border-top:1px dotted #9fbcd4;color:#222222; width:100%; height:19px; text-decoration:none; padding:3px 3px 1px 3px; cursor:pointer ' onclick='WebSquare.logger.hideContextMenu();"+_5e+"'>"+_5f+"</td></tr>";}else{if($W._N.browserCheck.opera||$W._N.browserCheck.safari){return "<tr><td onmouseover='this.style.backgroundColor=\"b8d5f2\";this.style.color=\"003a89\";' onmouseout='this.style.backgroundColor=\"#FFFFFF\";this.style.color=\"222222\";' style='font-family: Tahoma, Verdana, arial,helvetica; font-size: 11px; color: #222222; line-height: normal;background-color:#FFFFFF; border-top:1px dotted #9fbcd4;color:#222222; width:100%; height:19px; text-decoration:none; padding:3px 3px 1px 3px; cursor:pointer ' onclick='"+_5e+"'; WebSquare.logger.hideContextMenu()>"+_5f+"</td></tr>";}}};$W.logger.hideContextMenu=function(e){["WebSquare.logger.hideContextMenu"];if($W&&$W._N&&$W._N.browserCheck){if($W._N.browserCheck.moz||$W._N.browserCheck.chrome||$W._N.browserCheck.ieAllVersion){var _61=$W.document.getElementById("_contextMenuLayer");if(typeof _61!="undefined"&&_61!=null){_61.style.visibility="hidden";}}else{if($W._N.browserCheck.opera||$W._N.browserCheck.safari){if(!e.ctrlKey){var _61=$W.document.getElementById("_contextMenuLayer");if(typeof _61!="undefined"&&_61!=null){_61.style.visibility="hidden";}}}}}};if($W._N.browserCheck.safari){document.oncontextmenu=function(e){if(e.ctrlKey&&e.button==2){$W._c.stopEvent(e);return false;}};document.onmousedown=$W.logger.showContextMenu;}else{document.oncontextmenu=$W.logger.showContextMenu;}document.onclick=$W.logger.hideContextMenu;}}$W.logger.dumpCSS=function(){if($W._N.browserCheck.ie){var _63=$W.document.styleSheets;for(var i=0;i<_63.length;i++){var _65=_63[i];alert(_65.href+"/n"+_65.cssText);}}};$W.logger.debug=false;$W.logger.debugKey="";}$W._B={};$W._B._MSMXL_PROGIDS=$W.BootLoader._MSMXL_PROGIDS;$W._B.loadDocumentCache={};if($W._N.supportDOM){if(!$W._N.browserCheck.opera){if($W.document.implementation.hasFeature("XPath","3.0")){XMLDocument.prototype.selectNodes=function(_1,_2){if(typeof _2=="undefined"){_2=this;}var _3=this.createNSResolver(this.documentElement);var _4=this.evaluate(_1,_2,_3,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);var _5=[];for(var i=0;i<_4.snapshotLength;i++){_5[i]=_4.snapshotItem(i);}return _5;};XMLDocument.prototype.selectSingleNode=function(_7,_8){if(typeof _8=="undefined"){_8=this;}var _9=this.selectNodes(_7,_8);if(_9.length>0){return _9[0];}else{return null;}};Document.prototype.selectNodes=XMLDocument.prototype.selectNodes;Document.prototype.selectSingleNode=XMLDocument.prototype.selectSingleNode;Element.prototype.selectNodes=function(_a){var _b=this.ownerDocument;var _c=_b.createNSResolver(_b.documentElement);var _d=_b.evaluate(_a,this,_c,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);var _e=[];for(var i=0;i<_d.snapshotLength;i++){_e[i]=_d.snapshotItem(i);}return _e;};Element.prototype.selectSingleNode=function(_10){var _11=this.selectNodes(_10);if(_11.length>0){return _11[0];}else{return null;}};}}}$W._B.load=function(uri,_13,_14,_15){["WebSquare.xml.load"];var dom=null;var _17=uri;try{if(typeof _13!="undefined"&&_13){dom=$W._B.loadDocumentCache[_17];if(typeof dom!="undefined"&&dom!=null){return dom;}}if(1==2){var _18="ErtOqpezr Ukptvqtzp IIWENNA Stwbreo Agp Zvydtn Vmfwnvzh";}if(typeof uri=="string"){var _19,lastIdx,temp;if($W.hybridApp==true&&uri.indexOf("://")<0&&uri.startsWith("/")){uri=$W._G.appendingPathComponent($W.w2xDocumentRoot,uri);}else{if(location.protocol=="app:"){_19=location.href;lastIdx=_19.lastIndexOf("/");temp=_19.substr(0,lastIdx);uri=temp+uri;}}var _1a=false;var _1b=$W._N.getXMLHTTPObject();var ret=null;try{$W.BootLoader.openResourceUri(uri,_1b);_1b.send(null);if(_1b.status>="400"){if(_17.indexOf("uiplugin")>-1){$W.logger.printLog($W._m.getMessage("E_core_NoPluginError",_17));}else{$W.logger.printLog($W._m.getMessage("E_core_NoModuleError",_17));}_1b=null;}if($W._N.browserCheck.ieAllVersion&&_1b.responseXML){ret=_1b.responseXML.xml;if(typeof ret==="undefined"||ret===null||ret===""){ret=_1b.responseText;}}else{ret=_1b.responseText;}}catch(e){if(_17.indexOf("uiplugin")>-1){$W.logger.printLog($W._m.getMessage("E_core_NoPluginError",_17));}else{$W.logger.printLog($W._m.getMessage("E_core_NoModuleError",_17));}}_1b=null;if(!ret){return null;}if(typeof _15!="undefined"&&_15){dom=$W._B._parse(ret);}else{dom=$W._B.parse(ret);}_1a=typeof dom=="object";if((_15||!$W.BootLoader.useWebSquareXMLParser)&&$W.BootLoader.useActiveXObject&&dom.parseError.errorCode!=0){if($W.logger.debug){var _1d="top=120,height=485,left=50,width=800,location=no,menubar=no,resizable=yes,scrollbars=yes,status=no,titlebar=yes,toolbar=no";var _1e=window.open(uri,"_blank",_1d);}var e=new Object();e.ParserException=$W._m.getMessage("E_xml_ErrorOccurLoadingXML");e.ParserException+="\nerrorCode: "+dom.parseError.errorCode;e.ParserException+="\nfilepos\t: "+dom.parseError.filepos;e.ParserException+="\nline\t: "+dom.parseError.line;e.ParserException+="\nlinepos\t: "+dom.parseError.linepos;e.ParserException+="\nreason\t: "+dom.parseError.reason;e.ParserException+="srcText\t: "+dom.parseError.srcText;e.ParserException+="\nurl\t: "+dom.parseError.url;dom=null;throw e;}else{if(!_1a){if($W.logger.debug){var _1d="top=120,height=485,left=50,width=800,location=no,menubar=no,resizable=yes,scrollbars=yes,status=no,titlebar=yes,toolbar=no";var _1e=window.open(uri,"_blank",_1d);}$W.logger.printLog("ERROR : "+$W._m.getMessage("E_xml_ErrorOccurLoadingXMLWithURL",_17));return null;}}}if(typeof _13!="undefined"&&_13){$W._B.loadDocumentCache[_17]=dom;}}catch(e){$W.exception.printStackTrace(e,"WebSquare.xml.load");}return dom;};$W._B.loadSafari=function(uri){["WebSquare.xml.loadSafari"];var _21=$W.BootLoader.getXMLHTTPObject();_21.open("GET",uri,false);_21.send(null);var ret=_21.responseText;_21=null;return (this.parse(ret));};$W._B.parse=function(obj,_24){["WebSquare.xml.parse"];var dom=null;try{if($W.BootLoader.useWebSquareXMLParser){if(typeof obj=="string"){obj=obj.wq_trim();if(obj==""){$W.logger.printLog("ERROR : WebSquare.xml.load Error. String is empty.");return null;}else{if(obj.charAt(0)!="<"){obj="<"+obj+"/>";}}}else{if(obj!=null&&(obj.nodeType==9||obj.nodeType==1)){obj=$W._B.serialize(obj);}}var _26=new DOMImplementation();_26.namespaceAware=true;_26.errorChecking=false;_26.preserveWhiteSpace=true;dom=_26.loadXML(obj);}else{dom=$W._B._parse(obj,_24);}}catch(e){$W.exception.printStackTrace(e,"WebSquare.xml.parse");return null;}return dom;};$W._B._parse=function(obj,_28){["WebSquare.xml._parse"];var dom=null;try{if(typeof obj=="string"&&obj.startsWith("<!DOCTYPE")){var _2a=obj.indexOf("<",9);if(_2a>0){obj=obj.substring(_2a);}}if($W.BootLoader.useActiveXObject){dom=new ActiveXObject($W._B._MSMXL_PROGIDS[0]);dom.async=false;dom.validateOnParse=false;if($W._N.getConfiguration("/WebSquare/preserveWhiteSpace/@value")=="true"){dom.preserveWhiteSpace=true;}if(typeof obj=="string"){obj=obj.wq_trim();if(obj==""){$W.logger.printLog("ERROR : WebSquare.xml.load Error\uc785\ub2c8\ub2e4. String\uc774 \uacf5\ubc31\uc785\ub2c8\ub2e4.");return null;}else{if(obj.charAt(0)!="<"){var str="<"+obj+"/>";dom.loadXML(str);}else{dom.loadXML(obj);}}}else{if(obj!=null&&(obj.nodeType==9||obj.nodeType==1)){dom.loadXML(obj.xml);}}if(typeof _28!="undefined"){if(_28==true||_28=="true"){var _2c=$W._N.getNamespaces(dom);var _2d="";for(var i in _2c){if(i!=""){_2d+="xmlns:"+i+"=\""+_2c[i]+"\" ";}}dom.setProperty("SelectionLanguage","XPath");dom.setProperty("SelectionNamespaces",_2d);}}}else{if($W._N.supportDOM){try{var _2f=new DOMParser();if(typeof obj=="string"){obj=obj.wq_trim();if(obj==""){$W.logger.printLog("ERROR : WebSquare.xml.load Error\uc785\ub2c8\ub2e4. String\uc774 \uacf5\ubc31\uc785\ub2c8\ub2e4.");return null;}else{if(obj.charAt(0)!="<"){var str="<"+obj+"/>";dom=_2f.parseFromString(str,"text/xml");}else{dom=_2f.parseFromString(obj,"text/xml");}}}else{if(obj!=null&&(obj.nodeType==9||obj.nodeType==1)){dom=_2f.parseFromString($W._B.serialize(obj),"text/xml");}}dom.async=false;if($W._N.browserCheck.moz&&dom.documentElement.nodeName=="parsererror"){$W.logger.printLog("[Firefox]"+$W._m.getMessage("E_xml_ErrorOccurParsingXML")+"(parsererror)");return null;}else{if(($W._N.browserCheck.chrome||$W._N.browserCheck.safari)&&dom.getElementsByTagName("parsererror").length>0){$W.logger.printLog("[Safari/Chrome]"+$W._m.getMessage("E_xml_ErrorOccurParsingXML")+"(parsererror)");return null;}}}catch(ee){$W.logger.printLog("[DOMParser] "+$W._m.getMessage("E_xml_ErrorOccurParsingXML"));$W.exception.printStackTrace(ee,"WebSquare.xml.parse");return null;}}}if(typeof dom=="undefined"||dom==null){$W.logger.printLog("ERROR : "+$W._m.getMessage("E_xml_XMLUnsupportedBrowser"));return null;}if($W.BootLoader.useActiveXObject){if(dom.parseError.errorCode!=0){var e=new Object();e.ParserException=$W._m.getMessage("E_xml_ErrorOccurParsingXML");e.ParserException+="\nerrorCode      : "+dom.parseError.errorCode;e.ParserException+="\nfilepos        : "+dom.parseError.filepos;e.ParserException+="\nline           : "+dom.parseError.line;e.ParserException+="\nlinepos        : "+dom.parseError.linepos;e.ParserException+="\nreason         : "+dom.parseError.reason;e.ParserException+="\nsrcText        : "+dom.parseError.srcText;e.ParserException+="\nurl            : "+dom.parseError.url;if(typeof obj=="string"){e.ParserException+="\n\n: "+obj;}else{e.ParserException+="\n\n: "+obj.xml;}throw e;}}}catch(e){$W.exception.printStackTrace(e,"WebSquare.xml.parse");return null;}return dom;};$W._B.remove_xmlns_regexp=/xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml['"]|xmlns:w2=['"]http:\/\/www.inswave.com\/websquare['"]/;$W._B.serialize=function(dom){["WebSquare.xml.serialize"];if(!dom){return "";}var _32="";try{if($W.BootLoader.useWebSquareXMLParser){try{var _33=[];$W._B._serialize(dom,_33);_32=_33.join("");}catch(e){$W.exception.printStackTrace(e,"WebSquare.xml.serialize");}}else{if($W.BootLoader.useActiveXObject){_32=dom.xml;if(typeof _32!=="undefined"&&_32!==null){_32=_32.wq_trim();}else{_32="";}}else{if($W._N.websquareSerializer){try{var _33=[];$W._B._serialize(dom,_33);_32=_33.join("");}catch(e){$W.exception.printStackTrace(e,"WebSquare.xml.serialize");}}else{if($W._N.supportDOM){var _34=new XMLSerializer();_32=_34.serializeToString(dom);}}}}}catch(e){$W.exception.printStackTrace(e,"WebSquare.xml.serialize");}return _32;};$W._B.noNameSpaceSerialize=function(dom){["WebSquare.xml.noNameSpaceSerialize"];var _36=$W._B.serialize(dom);if($W._N.getConfiguration("/WebSquare/removeXmlNameSpace/@value")=="true"){_36=_36.replace($W._B.remove_xmlns_regexp,"");}return _36;};$lxml=function(dom,log){if(log){$l($W._B.serialize(dom));}else{alert($W._B.serialize(dom));}};$W._B.nodeSerialize=function(_39,_3a){["WebSquare.xml.nodeSerialize"];try{if(typeof (_3a)=="undefined"){_3a={};}if(typeof (_3a.standalone)=="undefined"){_3a.standalone=null;}if(typeof (_3a.encoding)=="undefined"){_3a.encoding="UTF-8";}if(typeof (_3a.omitXmlDeclaration)=="undefined"){_3a.omitXmlDeclaration=false;}if(typeof (_3a.includeNamespacePrefixes)=="undefined"){_3a.includeNamespacePrefixes=null;}if(typeof (_3a.cdataSectionElements)=="undefined"){_3a.cdataSectionElements=[];}switch(_39.nodeType){case 1:var xml="<"+_39.tagName;for(var i=0;i<_39.attributes.length;++i){var _3d=_39.attributes[i];if(_3d==null){continue;}if(_3d.specified){xml+=$W._B.nodeSerialize(_3d,_3a);}}if(_39.hasChildNodes()){xml+=">";for(var _3e=_39.firstChild;_3e!=null;_3e=_3e.nextSibling){xml+=$W._B.nodeSerialize(_3e,_3a);}xml+="</"+_39.tagName+">";}else{xml+="></"+_39.tagName+">";}return xml;case 2:if(_39.name.match(/^xmlns(:|$)/)&&!$W._B.isVisiblyUtilized(_39)){return "";}var _3f=_39.name;var _40=_39.value.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return " "+_3f+"=\""+_40+"\"";case 3:if($W._B.isCDataSectionElement(_39.parentNode)){}else{return _39.data.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");}case 4:return "<![CDATA["+_39.data.replace(/]]>/g,"]]]]><![CDATA[>")+"]]>";case 7:return "<?"+_39.target+" "+_39.data+"?>";case 8:return "<!--"+_39.data+"-->";case 9:var xml="";if(!_3a.omitXmlDeclaration){var _41=(_3a.encoding=="UTF-16")?"UTF-16":"UTF-8";var _42=(_3a.standalone!=null)?" standalone=\""+(_3a.standalone?"yes":"no")+"\"":"";xml+="<?xml version=\"1.0\" encoding=\""+_41+"\""+_42+"?>\n\n";}for(var _3e=_39.firstChild;_3e!=null;_3e=_3e.nextSibling){xml+=$W._B.nodeSerialize(_3e,_3a)+"\n";}return xml;case 10:var xml="<!DOCTYPE "+_39.name+" PUBLIC \""+_39.publicId+"\" \""+_39.systemId+"\" [\n";xml+="]>";return xml;case 11:var xml="";for(var _3e=_39.firstChild;_3e!=null;_3e=_3e.nextSibling){xml+=$W._B.nodeSerialize(_3e,_3a);}return xml;default:assert(false,"Unsupported node: "+_39.nodeName+" ("+_39.nodeType+")");}}catch(e){$W.exception.printStackTrace(e);}};$W._B.isVisiblyUtilized=function(_43){if(!options.includeNamespacePrefixes){return true;}var _44=_43.name.substring(6);var _45=new XPath("..").selectNode(_43);for(var i in options.includeNamespacePrefixes){var _47=options.includeNamespacePrefixes[i];if(_47==_44||_47=="#default"&&_44==""){return true;}}if(_43.name=="xmlns"){return _45.prefix==null;}else{return new XPath("parent::"+_44+":* or ..//@"+_44+":*").evaluate(_43);}};$W._B.isCDataSectionElement=function(_48){for(var i in options.cdataSectionElements){if(options.cdataSectionElements[i].matches(_48)){return true;}}return false;};$W._B.indent=function(obj,_4b){["WebSquare.xml.indent"];if(typeof _4b=="undefined"){try{var _4c=[];$W._B._treeWalk2(obj,_4c,0);return _4c.join("");}catch(e){$W.exception.printStackTrace(e,"WebSquare.xml.indent");}return null;}else{try{var _4c=[];$W._B._treeWalk(obj,_4c,0);return _4c.join("");}catch(e){$W.exception.printStackTrace(e,"WebSquare.xml.indent");}return "";}};$W._B._serialize=function(_4d,_4e){["WebSquare.xml._serialize"];if(_4d.nodeType==1){_4e.push("<");_4e.push(_4d.nodeName);if(_4d.attributes.length>0){for(var j=0;j<_4d.attributes.length;j++){var _50=_4d.attributes.item(j);_4e.push(" ");_4e.push(_50.name);_4e.push("=\"");_4e.push($W._B._encode(_50.nodeValue));_4e.push("\"");}}if(_4d.hasChildNodes()){_4e.push(">");var _51=_4d.childNodes;for(var i=0;i<_51.length;i++){var _53=_51.item(i);$W._B._serialize(_53,_4e);}_4e.push("</");_4e.push(_4d.nodeName);_4e.push(">");}else{_4e.push("/>");}}else{if(_4d.nodeType==3){_4e.push($W._B._encode(_4d.nodeValue));}else{if(_4d.nodeType==4){_4e.push("<![CDATA["+_4d.nodeValue+"]]>");}else{if(_4d.nodeType==7){_4e.push("<?"+_4d.nodeName+" "+_4d.nodeValue+"?>\n");}else{if(_4d.nodeType==8){_4e.push("<!--"+_4d.nodeValue+"-->");}else{if(_4d.nodeType==9){var _51=_4d.childNodes;for(var i=0;i<_51.length;i++){var _53=_51.item(i);$W._B._serialize(_53,_4e);}}}}}}}};$W._B._treeWalk=function(_54,_55,_56){["WebSquare.xml._treeWalk"];var _57=false;_56=_56||0;if(_54.nodeType==1){_57=true;if(_56){_55.push("<br />");}for(var j=0;j<_56;j++){_55.push("&nbsp;");}_55.push("<font color='blue'><b>&lt;");_55.push(_54.nodeName);_55.push("</b></font>");if(_54.attributes.length>0){for(var j=0;j<_54.attributes.length;j++){var _59=_54.attributes.item(j);if(_59.nodeValue.indexOf("\"")>-1){_55.push(" <font color='red'>"+_59.name+"</font>='<i><font color='#888888'>"+$W._B.encode2(_59.nodeValue)+"</font></i>'");}else{_55.push(" <font color='red'>"+_59.name+"</font>=\"<i><font color='#888888'>"+$W._B.encode2(_59.nodeValue)+"</font></i>\"");}}}if(_54.hasChildNodes()){_55.push(">");var _5a=_54.childNodes;var _5b=false;for(var i=0;i<_5a.length;i++){var _5d=_5a.item(i);if($W._B._treeWalk(_5d,_55,_56+4)){_5b=true;}}if(_5b){_55.push("<br />");for(var j=0;j<_56;j++){_55.push("&nbsp;");}}_55.push("<font color='blue'><b>&lt;/");_55.push(_54.nodeName);_55.push("&gt;</b></font>");}else{_55.push("<font color='blue'><b>/&gt;</b></font>");}}else{if(_54.nodeType==3){var val=_54.nodeValue||"";val=val.trim();_55.push($W._B.encode2(val));}else{if(_54.nodeType==4){_55.push("&lt;![CDATA["+$W._B.encode1(_54.nodeValue)+"]]&gt;");}else{if(_54.nodeType==7){_55.push("<b>&lt;?"+_54.nodeName+" "+$W._B.encode1(_54.nodeValue)+"?&gt;</b>");}else{if(_54.nodeType==8){}else{if(_54.nodeType==9){var _5a=_54.childNodes;for(var i=0;i<_5a.length;i++){var _5d=_5a.item(i);$W._B._treeWalk(_5d,_55,_56);}}}}}}}return _57;};$W._B._treeWalk2=function(_5f,_60,_61){["WebSquare.xml._treeWalk2"];var _62=false;_61=_61||0;if(_5f.nodeType==1){_62=true;if(_61){_60.push("\n");}for(var j=0;j<_61;j++){_60.push(" ");}_60.push("<");_60.push(_5f.nodeName);if(_5f.attributes.length>0){for(var j=0;j<_5f.attributes.length;j++){var _64=_5f.attributes.item(j);_60.push(" ");_60.push(_64.name);_60.push("=\"");_60.push($W._B._encode(_64.nodeValue));_60.push("\"");}}if(_5f.hasChildNodes()){_60.push(">");var _65=_5f.childNodes;var _66=false;for(var i=0;i<_65.length;i++){var _68=_65.item(i);if($W._B._treeWalk2(_68,_60,_61+4)){_66=true;}}if(_66){_60.push("\n");for(var j=0;j<_61;j++){_60.push(" ");}}_60.push("</");_60.push(_5f.nodeName);_60.push(">");}else{_60.push("/>");}}else{if(_5f.nodeType==3){var val=_5f.nodeValue||"";val=val.trim();_60.push($W._B._encode(val));}else{if(_5f.nodeType==4){_60.push("<![CDATA["+_5f.nodeValue+"]]>");}else{if(_5f.nodeType==7){_60.push("<?"+_5f.nodeName+" "+_5f.nodeValue+"?>\n");}else{if(_5f.nodeType==8){_60.push("<!--"+_5f.nodeValue+"-->");}else{if(_5f.nodeType==9){var _65=_5f.childNodes;for(var i=0;i<_65.length;i++){var _68=_65.item(i);$W._B._treeWalk2(_68,_60,_61);}}}}}}}return _62;};$W._B.encode1=(function(){var re1=/&/g;var re2=/</g;var re3=/>/g;var re5=/"/g;var re6=/\r\n/g;var re7=/\n/g;var re8=/\r/g;var re9=/ /g;var _72=/\t/g;return function(s){["WebSquare.xml.encode"];var str=null;if(s==null){str="";}else{if(typeof s=="string"){str=s;}else{if($W._B.isDocument(s)){str=$W._B.serialize(s);}else{return s;}}}return str.replace(re1,"&amp;").replace(re2,"&lt;").replace(re3,"&gt;").replace(re5,"&quot;").replace(re9,"&nbsp;").replace(_72,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(re6,"<br />").replace(re7,"<br />").replace(re8,"<br />");};})();$W._B.encode2=(function(){var re1=/&/g;var re2=/</g;var re3=/>/g;var re5=/"/g;var re6=/\r\n/g;var re7=/\n/g;var re8=/\r/g;var re9=/ /g;var _7d=/\t/g;return function(s){["WebSquare.xml.encode2"];var str=null;if(s==null){str="";}else{if(typeof s=="string"){str=s;}else{if($W._B.isDocument(s)){str=$W._B.serialize(s);}else{return s;}}}return str.replace(re1,"&amp;amp;").replace(re2,"&amp;lt;").replace(re3,"&amp;gt;").replace(re9,"&nbsp;").replace(_7d,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(re6,"<br />").replace(re7,"<br />").replace(re8,"<br />");};})();$W._B._encode=(function(){var re1=/&/g;var re2=/</g;var re3=/>/g;var re5=/"/g;return function(str){return str.replace(re1,"&amp;").replace(re2,"&lt;").replace(re3,"&gt;").replace(re5,"&quot;");};})();$W._B._decode=(function(){var re1=/&lt;/g;var re2=/&gt;/g;var re3=/&apos;/g;var re4=/&quot;/g;var re5=/&amp;/g;return function(s){return s.replace(re1,"<").replace(re2,">").replace(re3,"'").replace(re4,"\"").replace(re5,"&");};})();$W._B.encode=(function(){var re1=/&/g;var re2=/</g;var re3=/>/g;var re4=/'/g;var re5=/"/g;var re6=/\r\n/g;var re7=/\n/g;var re8=/\r/g;return function(s){["WebSquare.xml.encode"];var str=null;if(s==null){str="";}else{if(typeof s=="string"){str=s;}else{if($W._B.isDocument(s)){str=$W._B.serialize(s);}else{return s;}}}return str.replace(re1,"&amp;").replace(re2,"&lt;").replace(re3,"&gt;").replace(re4,"&apos;").replace(re5,"&quot;").replace(re6,"&#xA;").replace(re7,"&#xA;").replace(re8,"&#xA;");};})();$W._B.decode=(function(){var re1=/&lt;/g;var re2=/&gt;/g;var re3=/&apos;/g;var re4=/&quot;/g;var re5=/&amp;/g;var re6=/&#xA;/g;return function(s){["WebSquare.xml.decode"];return s.replace(re1,"<").replace(re2,">").replace(re3,"'").replace(re4,"\"").replace(re5,"&").replace(re6,"\n");};})();$W._B.isDocument=function(obj){["WebSquare.xml.isDocument"];try{if(typeof obj=="object"&&typeof obj.documentElement!="undefined"&&obj.nodeType==9){return true;}else{return false;}}catch(e){}return false;};$W._B.isDocumentString=function(str){["WebSquare.xml.isDocumentString"];var dom;try{if($W.BootLoader.useActiveXObject){dom=new ActiveXObject($W._B._MSMXL_PROGIDS[0]);dom.async=false;dom.validateOnParse=false;dom.loadXML(str);}else{if(str.wq_trim().charAt(0)=="<"){var _9f=new DOMParser();dom=_9f.parseFromString(str,"text/xml");dom.async=false;}}if(typeof dom=="undefined"||dom==null){return false;}if($W._N.browserCheck.moz&&dom.documentElement.nodeName=="parsererror"){return false;}if($W.BootLoader.useActiveXObject){if(dom.parseError.errorCode!=0){return false;}}}catch(e){return false;}return true;};$W._B.getElementsByTagName=function(dom,_a1,uri){["WebSquare.xml.getElementsByTagName"];if($W._N.browserCheck.ieAllVersion||$W.BootLoader.browserCheck.chrome||$W.BootLoader.browserCheck.safari||$W.BootLoader.browserCheck.opera){try{if(typeof uri=="undefined"){if(_a1.indexOf(":")>=0){return dom.selectNodes("./"+"/"+"*['"+_a1+"'=name()]");}else{return dom.selectNodes("./"+"/"+"*['"+_a1+"'=local-name()]");}}else{return dom.selectNodes("./"+"/"+"*['"+_a1+"'=local-name()]['"+uri+"'=namespace-uri()]");}}catch(e){if(typeof uri=="undefined"){return dom.getElementsByTagName(_a1);}else{var _a3=_a1;if(uri==$W._N._XML_NAMESPACE.SCHEMA){_a3=_a1;}else{if(uri==$W._N._XML_NAMESPACE.XFORMS){_a3="xf:"+_a1;}else{if(uri==$W._N._XML_NAMESPACE.XHTML){_a3=_a1;}else{if(uri==$W._N._XML_NAMESPACE.XML){_a3=_a1;}else{if(uri==$W._N._XML_NAMESPACE.XSL){_a3=_a1;}else{if(uri==$W._N._XML_NAMESPACE.EVENTS){_a3="ev:"+_a1;}else{if(uri==$W._N._XML_NAMESPACE.W2){_a3="w2:"+_a1;}}}}}}}return dom.getElementsByTagName(_a3);}}}else{if($W._N.browserCheck.moz){if(typeof uri=="undefined"){return dom.getElementsByTagName(_a1);}else{return dom.getElementsByTagNameNS(uri,_a1);}}else{return dom.getElementsByTagName(_a1);}}};$W._B.matchNode=function(_a4,_a5,uri){["WebSquare.xml.matchNode"];if(typeof uri=="undefined"){if(_a4.nodeName==_a5){return true;}else{return false;}}else{var _a7=_a4.nodeName.split(":");var _a8=_a7.length==2?_a7[1]:_a7[0];if(uri==_a4.namespaceURI&&_a8==_a5){return true;}else{return false;}}};$W._B.nodeInfoObj=(function(){var _a9={};return function(_aa){["WebSquare.xml.matchNode"];var _ab=_aa.nodeName;if(!_a9[_ab]){var _ac=_aa.namespaceURI;if(_ac!==undefined&&_ac!==""){var _ad=_ab.split(":");_a9[_ab]={nodeName:_ad[_ad.length-1],uri:_ac};}else{_a9[_ab]={nodeName:_ab};}}return _a9[_ab];};})();$W._B.getLocalName=function(_ae){["WebSquare.xml.getLocalName"];var _af=_ae.nodeName.split(":");return _af.length==2?_af[1]:_af[0];};$W._B.findNode=function(doc,_b1){["WebSquare.xml.findNode"];try{return doc.selectSingleNode(_b1);}catch(e){$W.exception.printStackTrace(e);}return null;};$W._B.findNodes=function(doc,_b3){["WebSquare.xml.findNode"];try{return doc.selectNodes(_b3);}catch(e){$W.exception.printStackTrace(e);}return null;};$W._B.createElement=function(doc,_b5){var _b6,tmpDoc;if($W._N.browserCheck.opera){_b6=doc.createElementNS("",_b5);}else{if($W._N.browserCheck.ieAllVersion&&!$W.BootLoader.useActiveXObject){var idx=_b5.indexOf(":");if(idx==-1){tmpDoc=$W._B.parse("<"+_b5+"/>");}else{var _b8=_b5.substring(0,idx);var _b9=$W._N.getNamespaces(doc);if(_b9[_b8]){tmpDoc=$W._B.parse("<"+_b5+" xmlns:"+_b8+"=\""+_b9[_b8]+"\"/>");}else{tmpDoc=$W._B.parse("<"+_b5+"/>");}}if(tmpDoc!=null){_b6=doc.importNode(tmpDoc.documentElement.cloneNode(false),false);}}else{_b6=doc.createElement(_b5);}}return _b6;};$W._B.createNode=function(doc,_bb,_bc){["WebSquare.xml.createNode"];try{if(_bc){if($W._N.browserCheck.ieAllVersion&&$W.BootLoader.useActiveXObject){var _bd=$W._N.getNamespaces(doc);var _be="";for(var i in _bd){if(i!=""){_be+="xmlns:"+i+"=\""+_bd[i]+"\" ";}}if(doc.nodeType==9){doc.setProperty("SelectionLanguage","XPath");doc.setProperty("SelectionNamespaces",_be);}else{if(doc.nodeType==1){doc.ownerDocument.setProperty("SelectionLanguage","XPath");doc.ownerDocument.setProperty("SelectionNamespaces",_be);}}}}var _c0=doc.selectSingleNode(_bb);if(_c0==null){var idx=_bb.lastIndexOf("/");if(idx>0){var _c2=_bb.substring(0,idx);var _c3=_bb.substring(idx+1);var _c4=_c3.match(/[@'"()=]/i)==null;if(_c4){var _c5=$W._B.createNode(doc,_c2);if(_c5!=null){if(doc.nodeType==9){_c0=$W._B.createElement(doc,_c3);}else{if(doc.nodeType==1){_c0=$W._B.createElement(doc.ownerDocument,_c3);}}_c0=$W._B.appendChild(_c5,_c0);}}else{var _c6=_c3.split(/[[=\]]/);if((_c6.length==4||_c6.length==3)&&_c6[1].match(/^@/)!=null){var _c7=$W._B.createNode(doc,_c2);if(_c7!=null){if(doc.nodeType==9){_c0=$W._B.createElement(doc,_c6[0]);}else{if(doc.nodeType==1){_c0=$W._B.createElement(doc.ownerDocument,_c6[0]);}}_c0.setAttribute(_c6[1].wq_trim().slice(1),_c6[2].wq_replaceAll("'",""));_c0=$W._B.appendChild(_c7,_c0);}}}}else{if(doc.nodeType==1&&_bb.charAt(0)!="/"){_c0=$W._B.createElement(doc.ownerDocument,_bb);_c0=$W._B.appendChild(doc,_c0);}}}return _c0;}catch(e){$W.exception.printStackTrace(e);}return null;};$W.appendChildType=null;$W._B.appendChild=function(_c8,_c9){["WebSquare.xml.appendChild"];var _ca;try{if(_c8.ownerDocument==_c9.ownerDocument){_ca=_c8.appendChild(_c9);return _ca;}else{if(typeof _c8.ownerDocument.importNode=="function"){_ca=_c8.ownerDocument.importNode(_c9,true);_ca=_c8.appendChild(_ca);return _ca;}else{_ca=_c8.appendChild(_c9);return _ca;}}}catch(e){$W.exception.printStackTrace(e);}};$W._B.getValue=function(doc,key,_cd){["WebSquare.xml.getValue"];var _ce="";try{var _cf=doc.selectSingleNode(key);if(_cf!=null){if(typeof _cd!="undefined"){_ce=_cf.getAttribute(_cd);}else{if(_cf.nodeType==2||_cf.nodeType==3||_cf.nodeType==4){_ce=(_cf.value!=undefined)?_cf.value:_cf.nodeValue;}else{var _d0=_cf.childNodes;for(var i=0;i<_d0.length;i++){var _d2=_d0[i];if(_d2.nodeType==3){_ce+=_d2.nodeValue;}else{if(_d2.nodeType==4){_ce+=_d2.nodeValue;}}}}}}if(_ce==null){_ce="";}}catch(e){$W.exception.printStackTrace(e);}return _ce;};$W._B.getAttribute=function(doc,key,_d5){["WebSquare.xml.getAttribute"];var _d6="";try{if(typeof doc=="string"){doc=$W._B.parse(doc);}if(typeof _d5=="undefined"){if(doc.nodeType==1){_d6=doc.getAttribute(key);}else{_d6=doc.documentElement.getAttribute(key);}}else{var _d7=null;if(doc.nodeType==1){_d7=doc.selectSingleNode(key);}else{_d7=doc.selectSingleNode("/"+"*"+"/"+key);}if(_d7!=null){_d6=_d7.getAttribute(_d5);}if(_d6==null){_d6="";}}if(_d6==null){_d6="";}}catch(e){$W.exception.printStackTrace(e);}return _d6;};$W._B.getString=function(doc,key){["WebSquare.xml.getString"];return $W._B.getAttribute(doc,key,"value");};$W._B.getChildren=function(doc,key){["WebSquare.xml.getChildren"];var _dc=[];try{var _dd=doc.selectSingleNode(key);if(_dd!=null){var _de=_dd.childNodes;for(var i=0;i<_de.length;i++){var _e0=_de.item(i);if(_e0.nodeType==1){var obj={};obj["@tagName"]=_e0.nodeName;var _e2=_e0.attributes;if(_e2!=null){for(var j=0;j<_e2.length;j++){obj[_e2[j].nodeName]=_e2[j].nodeValue;}}_dc.push(obj);}}}}catch(e){$W.exception.printStackTrace(e);}return _dc;};$W._B.setValue=function(doc,key,_e6,_e7){["WebSquare.xml.setValue"];try{var _e8=$W._B.createNode(doc,key);if(_e8!=null){if(typeof _e7!="undefined"){_e8.setAttribute(_e6,_e7);}else{var _e9=_e8.childNodes;for(var i=0;i<_e9.length;i++){var _eb=_e9.item(i);if(_eb.nodeType==3){_e8.removeChild(_eb);}else{if(_eb.nodeType==4){_e8.removeChild(_eb);}}}var _ec=null;if(doc.nodeType==1){_ec=doc.ownerDocument.createTextNode(_e6);}else{_ec=doc.createTextNode(_e6);}$W._B.appendChild(_e8,_ec);}}}catch(e){$W.exception.printStackTrace(e);}};$W._B.setAttribute=function(doc,key,_ef,_f0){["WebSquare.xml.setAttribute"];try{if(typeof doc=="string"){doc=$W._B.parse(doc);}if(typeof _f0=="undefined"){if(doc.nodeType==1){doc.setAttribute(key,_ef);}else{doc.documentElement.setAttribute(key,_ef);}}else{if(doc.nodeType==1){key=key;}else{key="/"+"*"+"/"+key;}var _f1=$W._B.createNode(doc,key);if(_f1!=null){_f1.setAttribute(_ef,_f0);}}}catch(e){$W.exception.printStackTrace(e);}};$W._B.setString=function(doc,key,_f4){["WebSquare.xml.setString"];$W._B.setAttribute(doc,key,"value",_f4);};$W._B.transform=function(_f5,_f6,_f7){["WebSquare.xml.transform"];try{var _f8="false";if($W.logger.globalDebug1||$W.logger.getGlobalDebug()){_f8="true";}var _f9=null;if(typeof _f5=="string"){_f9=$W._B._parse(_f5);}else{if($W._B.isDocument(_f5)){if($W.BootLoader.useWebSquareXMLParser){_f9=$W._B._parse($W._B.serialize(_f5));}else{_f9=_f5;}}else{if(typeof _f5=="object"&&typeof _f5.type!="undefined"&&(_f5.type=="vector"||_f5.type=="hashtable")){if($W.BootLoader.useWebSquareXMLParser){_f9=$W._B._parse($W._B.serialize(_f5.toDocument()));}else{_f9=_f5.toDocument();}}else{return "";}}}var _fa=$W._B.load(_f6,true,undefined,true);var _fb="";if($W._N.supportActiveX){_fb=_f9.transformNode(_fa);}else{if(typeof XSLTProcessor!="undefined"){var _fc=new XSLTProcessor();_fc.importStylesheet(_fa);var _fd=_fc.transformToDocument(_f9);_fb=$W._B.serialize(_fd);if(_fb.indexOf("<transformiix:result")>-1){_fb=_fb.substring(_fb.indexOf(">")+1,_fb.lastIndexOf("<"));}}else{$W.logger.printLog("ERROR : transform\uc744 \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");return "";}}if(typeof _f7!="undefined"&&_f7!=null&&_f7!=""){var _fe=$W.document.getElementById(_f7);_fe.innerHTML=_fb+"<XSLINFO value='"+_f6+"'/>";if(_f8=="true"){var obj={};var re=/>[\s]*</g;obj["html"]=_fb.replace(re,">\n<");obj["xml"]=$W._B.indent(_f9);obj["xsl"]=$W._B.indent(_fa);obj["target"]=_f7;$W.logger.showDebugMsg(obj,"xml","Transform \uc2e4\ud589 \uacb0\uacfc");}}else{if(_f8=="true"){var obj={};var re=/>[\s]*</g;obj["html"]=_fb.replace(re,">\n<");obj["xml"]=$W._B.indent(_f9);obj["xsl"]=$W._B.indent(_fa);$W.logger.showDebugMsg(obj,"xml","Transform \uc2e4\ud589 \uacb0\uacfc");}}if(typeof _fb!="undefined"&&_fb!="undefined"){return _fb;}else{return "";}}catch(e){$W.exception.printStackTrace(e);}};$W._B.hasChildElement=function(_101){["WebSquare.xml.hasChildElement"];for(var _102=_101.firstChild;_102!=null;_102=_102.nextSibling){if(_102.nodeType==1){return true;}}return false;};$W._B.getChildrenByTagName=function(_103,name,uri){["WebSquare.xml.getChildrenByTagName"];var _106=new Array();if(typeof uri=="undefined"){for(var _107=_103.firstChild;_107!=null;_107=_107.nextSibling){if(_107.nodeType==1){var _108=_107.nodeName.split(":");var _109=_108.length==2?_108[1]:_108[0];if(_109==name){_106.push(_107);}}}}else{for(var _107=_103.firstChild;_107!=null;_107=_107.nextSibling){if(_107.nodeType==1){var _108=_107.nodeName.split(":");var _109=_108.length==2?_108[1]:_108[0];if(uri==_107.namespaceURI&&_109==name){_106.push(_107);}}}}return _106;};$W._B.getFirstChildElement=function(_10a){["WebSquare.xml.getFirstChildElement"];for(var _10b=_10a.firstChild;_10b!=null;_10b=_10b.nextSibling){if((_10b.nodeType==1)){return _10b;}}return null;};$W._B.getFirstChildElements=function(_10c){["WebSquare.xml.getFirstChildElements"];var _10d=new Array();for(var _10e=_10c.firstChild;_10e!=null;_10e=_10e.nextSibling){if((_10e.nodeType==1)){_10d.push(_10e);}}return _10d;};$W._B.getTextNodeValue=function(_10f){["WebSquare.xml.getTextNodeValue"];var _110=null;var _111="";for(var _112=_10f.firstChild;_112!=null;_112=_112.nextSibling){if(_112.nodeType==3){_111+=_112.nodeValue;}}if(_111!=""){_110=_111;}return _110;};$W._B.getCDataNodeValue=function(_113){["WebSquare.xml.getCDataNodeValue"];var _114=null;for(var _115=_113.firstChild;_115!=null;_115=_115.nextSibling){if(_115.nodeType==4){_114=_115.nodeValue;}}return _114;};$W._B.getCData=function(doc,key){["WebSquare.xml.getCData"];try{var _118="";var node=doc.selectSingleNode("/*/"+key);if(node!=null){var _11a=node.getAttribute("encode");for(var i=0;i<node.childNodes.length;i++){var _11c=node.childNodes[i];if(_11c.nodeType==4){_118=_11c.nodeValue;if(_11a=="base64"){_118=$W._A.BASE64Decoder(_118);}break;}}}if(_118==null){_118="";}return _118;}catch(e){$W.exception.printStackTrace(e);}};$W._B.setCData=function(doc,key,_11f){["WebSquare.xml.setCData"];try{var _120=null;if(_11f.indexOf("]]>")>=0){_120="base64";_11f=$W._A.BASE64Encoder(_11f);}else{_120="text";}var node=doc.selectSingleNode("/*/"+key);if(node==null){var _122=doc.createElement(key);_122.setAttribute("type","CDATA");_122.setAttribute("encode",_120);_122.appendChild(doc.createCDATASection(_11f));$W._B.appendChild(doc.documentElement,_122);}else{for(var i=node.childNodes.length-1;i>=0;i--){if(node.childNodes[i].nodeType==4){node.removeChild(node.childNodes[i]);}}node.setAttribute("type","CDATA");node.setAttribute("encode",_120);node.appendChild(doc.createCDATASection(_11f));}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.xml=$W._B;$W._q={};$W._q.Vector=function(){["WebSquare.collection.Vector"];this.type="vector";this.length=0;this.data=[];this.dataType=[];this.attributeName=[];this.attributeValue=[];};$W._q.Vector.prototype.setDocument=function(_1){["WebSquare.collection.Vector.setDocument"];try{if(_1.documentElement.nodeName=="vector"){this.length=0;this.data=[];this.dataType=[];var _2=_1.documentElement.attributes;for(var i=0;i<_2.length;i++){var _4=_2.item(i);if($W.nodeValueDeprecated){this.attributeName.push(_4.name);this.attributeValue.push(_4.value);}else{this.attributeName.push(_4.nodeName);this.attributeValue.push(_4.nodeValue);}}var _5=_1.documentElement.childNodes;for(var i=0;i<_5.length;i++){var _6=_5.item(i);if(_6.nodeType==1&&_6.nodeName=="data"){var _7=_6.getAttribute("value");if(_7!=null){this.data.push(_7);this.dataType.push("String");}else{var _8=_6.childNodes;for(var j=0;j<_8.length;j++){var _a=_8.item(j);if(_a.nodeType==1){this.data.push($W._B.serialize(_a));this.dataType.push("Document");break;}}}this.length++;}}}}catch(e){$W.exception.printStackTrace(e);}};$W._q.Vector.prototype.addAll=function(_b){["WebSquare.collection.Vector.addAll"];try{if(_b.type=="vector"){this.data=this.data.concat(_b.data);this.dataType=this.dataType.concat(_b.dataType);this.length=this.data.length;}}catch(e){$W.exception.printStackTrace(e);}};$W._q.Vector.prototype.getAttribute=function(_c){["WebSquare.collection.Vector.getAttribute"];var _d="";try{for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]==_c){_d=this.attributeValue[i];break;}}}catch(e){$W.exception.printStackTrace(e);}return _d;};$W._q.Vector.prototype.setAttribute=function(_f,_10){["WebSquare.collection.Vector.setAttribute"];try{var _11=false;for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]==_f){_11=true;this.attributeValue[i]=_10;break;}}if(!_11){this.attributeName.push(_f);this.attributeValue.push(_10);}}catch(e){$W.exception.printStackTrace(e);}};$W._q.Vector.prototype.setDebug=function(_13){["WebSquare.collection.Vector.setDebug"];this.setAttribute("debug",_13);};$W._q.Vector.prototype.setAction=function(_14){["WebSquare.collection.Vector.setAction"];this.setAttribute("action",_14);};$W._q.Vector.prototype.setTask=function(_15){["WebSquare.collection.Vector.setTask"];this.setAttribute("task",_15);};$W._q.Vector.prototype.setProcessName=function(_16){["WebSquare.collection.Vector.setProcessName"];if(typeof _16=="undefined"||_16==null||_16==""){this.setAttribute("processName",$W._w.getControllerServer());}else{this.setAttribute("processName",$W._w.getControllerServer()+"."+_16);}};$W._q.Vector.prototype.getAction=function(){["WebSquare.collection.Vector.getAction"];return this.getAttribute("action");};$W._q.Vector.prototype.getTask=function(){["WebSquare.collection.Vector.getTask"];return this.getAttribute("task");};$W._q.Vector.prototype.getProcessName=function(){["WebSquare.collection.Vector.getProcessName"];return this.getAttribute("processName");};$W._q.Vector.prototype.addElement=function(_17){["WebSquare.collection.Vector.addElement"];try{if($W._B.isDocument(_17)){this.data.push($W._B.serialize(_17));this.dataType.push("Document");}else{if(typeof _17=="object"&&typeof _17.type!="undefined"&&(_17.type=="vector"||_17.type=="hashtable")){this.data.push(_17.toString());this.dataType.push("Document");}else{if(typeof _17=="string"&&$W._B.isDocumentString(_17)){this.data.push(_17);this.dataType.push("Document");}else{this.data.push(_17+"");this.dataType.push("String");}}}this.length++;}catch(e){$W.exception.printStackTrace(e);}};$W._q.Vector.prototype.elementAt=function(i){["WebSquare.collection.Vector.elementAt"];var ret=null;try{i=parseInt(i,10);if(i>=0&&i<this.length){if(this.dataType[i]=="Document"){var tmp=$W._B.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=$W._q.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=$W._q.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}}}catch(e){$W.exception.printStackTrace(e);}return ret;};$W._q.Vector.prototype.insertElementAt=function(_1b,i){["WebSquare.collection.Vector.insertElementAt"];try{i=parseInt(i,10);if(i==this.length){this.addElement(_1b);return;}if(i>=0&&i<this.length){for(var j=this.length;j>i;j--){this.data[j]=this.data[j-1];this.dataType[j]=this.dataType[j-1];}if($W._B.isDocument(_1b)){this.data[i]=$W._B.serialize(_1b);this.dataType[i]="Document";}else{if(typeof _1b=="object"&&typeof _1b.type!="undefined"&&(_1b.type=="vector"||_1b.type=="hashtable")){this.data[i]=_1b.toString();this.dataType[i]="Document";}else{if(typeof _1b=="string"&&$W._B.isDocumentString(_1b)){this.data[i]=_1b;this.dataType[i]="Document";}else{this.data[i]=_1b+"";this.dataType[i]="String";}}}this.length++;}}catch(e){$W.exception.printStackTrace(e);}};$W._q.Vector.prototype.remove=function(i){["WebSquare.collection.Vector.remove"];var ret=null;try{i=parseInt(i,10);if(i>=0&&i<this.length){if(this.dataType[i]=="Document"){var tmp=$W._B.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=$W._q.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=$W._q.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}if(i<this.length-1){for(var j=i;j<this.length-1;j++){this.data[j]=this.data[j+1];this.dataType[j]=this.dataType[j+1];}}this.data.pop();this.dataType.pop();this.length--;}}catch(e){$W.exception.printStackTrace(e);}return ret;};$W._q.Vector.prototype.fastRemove=function(i){["WebSquare.collection.Vector.fastRemove"];try{i=parseInt(i,10);if(i>=0&&i<this.length){if(i<this.length-1){for(var j=i;j<this.length-1;j++){this.data[j]=this.data[j+1];this.dataType[j]=this.dataType[j+1];}}this.data.pop();this.dataType.pop();this.length--;}}catch(e){$W.exception.printStackTrace(e);}};$W._q.Vector.prototype.set=function(i,_25){["WebSquare.collection.Vector.set"];try{i=parseInt(i,10);if(i>=0&&i<this.length){if($W._B.isDocument(_25)){this.data[i]=$W._B.serialize(_25);this.dataType[i]="Document";}else{if(typeof _25=="object"&&typeof _25.type!="undefined"&&(_25.type=="vector"||_25.type=="hashtable")){this.data[i]=_25.toString();this.dataType[i]="Document";}else{if(typeof _25=="string"&&$W._B.isDocumentString(_25)){this.data[i]=_25;this.dataType[i]="Document";}else{this.data[i]=_25+"";this.dataType[i]="String";}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._q.Vector.prototype.size=function(){["WebSquare.collection.Vector.size"];return this.length;};$W._q.Vector.prototype.toDocument=function(){["WebSquare.collection.Vector.toDocument"];return $W._B.parse(this.toString());};$W._q.Vector.prototype.toString=function(){["WebSquare.collection.Vector.toString"];var _26=[];try{_26.push("<vector");_26.push(" result='"+this.length+"'");for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]!="result"){_26.push(" "+this.attributeName[i]+"='"+this.attributeValue[i]+"'");}}_26.push(">");for(var i=0;i<this.length;i++){if(this.dataType[i]=="Document"){_26.push("<data vectorkey='"+i+"'>");var idx=this.data[i].indexOf("?>");if(idx==-1){_26.push(this.data[i]);}else{var _29=(new RegExp("<?xml[\\s]+(version|VERSION)[\\w\\W]+?>")).test(this.data[i]);if(_29){_26.push(this.data[i].substring(idx+2));}else{_26.push(this.data[i]);}}_26.push("</data>");}else{_26.push("<data vectorkey='"+i+"' value='"+$W._B.encode(this.data[i])+"'/>");}}_26.push("</vector>");}catch(e){$W.exception.printStackTrace(e);}return _26.join("");};$W._q.Hashtable=function(){["WebSquare.collection.Hashtable"];this.type="hashtable";this.key=[];this.data=[];this.dataType=[];this.attributeName=[];this.attributeValue=[];};$W._q.Hashtable.prototype.containsKey=function(_2a){["WebSquare.collection.Hashtable.containsKey"];var _2b=false;try{for(var i=0;i<this.key.length;i++){if(this.key[i]==_2a){_2b=true;break;}}}catch(e){$W.exception.printStackTrace(e);}return _2b;};$W._q.Hashtable.prototype.setDocument=function(doc){["WebSquare.collection.Hashtable.setDocument"];try{if(doc.documentElement.nodeName=="hashtable"){this.key=[];this.data=[];this.dataType=[];var _2e=doc.documentElement.attributes;for(var i=0;i<_2e.length;i++){var att=_2e.item(i);this.attributeName.push(att.nodeName);this.attributeValue.push(att.nodeValue);}var _31=doc.documentElement.childNodes;for(var i=0;i<_31.length;i++){var _32=_31.item(i);if(_32.nodeType==1&&_32.nodeName=="data"){this.key.push(_32.getAttribute("hashkey"));var _33=_32.getAttribute("value");if(_33!=null){this.data.push(_33);this.dataType.push("String");}else{var _34=_32.childNodes;for(var j=0;j<_34.length;j++){var _36=_34.item(j);if(_36.nodeType==1){this.data.push($W._B.serialize(_36));this.dataType.push("Document");break;}}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._q.Hashtable.prototype.getAttribute=function(_37){["WebSquare.collection.Hashtable.getAttribute"];var ret="";try{for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]==_37){ret=this.attributeValue[i];break;}}}catch(e){$W.exception.printStackTrace(e);}return ret;};$W._q.Hashtable.prototype.setAttribute=function(_3a,_3b){["WebSquare.collection.Hashtable.setAttribute"];try{var _3c=false;for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]==_3a){_3c=true;this.attributeValue[i]=_3b;break;}}if(!_3c){this.attributeName.push(_3a);this.attributeValue.push(_3b);}}catch(e){$W.exception.printStackTrace(e);}};$W._q.Hashtable.prototype.setDebug=function(_3e){["WebSquare.collection.Hashtable.setDebug"];this.setAttribute("debug",_3e);};$W._q.Hashtable.prototype.setAction=function(_3f){["WebSquare.collection.Hashtable.setAction"];this.setAttribute("action",_3f);};$W._q.Hashtable.prototype.setTask=function(_40){["WebSquare.collection.Hashtable.setTask"];this.setAttribute("task",_40);};$W._q.Hashtable.prototype.setProcessName=function(_41){["WebSquare.collection.Hashtable.setProcessName"];if(typeof _41=="undefined"||_41==null||_41==""){this.setAttribute("processName",$W._w.getControllerServer());}else{this.setAttribute("processName",$W._w.getControllerServer()+"."+_41);}};$W._q.Hashtable.prototype.getAction=function(){["WebSquare.collection.Hashtable.getAction"];return this.getAttribute("action");};$W._q.Hashtable.prototype.getTask=function(){["WebSquare.collection.Hashtable.getTask"];return this.getAttribute("task");};$W._q.Hashtable.prototype.getProcessName=function(){["WebSquare.collection.Hashtable.getProcessName"];return this.getAttribute("processName");};$W._q.Hashtable.prototype.get=function(_42){["WebSquare.collection.Hashtable.get"];var ret=null;try{for(var i=0;i<this.key.length;i++){if(this.key[i]==_42){if(this.dataType[i]=="Document"){var tmp=$W._B.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=$W._q.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=$W._q.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}break;}}}catch(e){$W.exception.printStackTrace(e);}return ret;};$W._q.Hashtable.prototype.put=function(_46,_47){["WebSquare.collection.Hashtable.put"];var ret=null;try{var _49=false;for(var i=0;i<this.key.length;i++){if(this.key[i]==_46){_49=true;if(this.dataType[i]=="Document"){var tmp=$W._B.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=$W._q.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=$W._q.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}if($W._B.isDocument(_47)){this.data[i]=$W._B.serialize(_47);this.dataType[i]="Document";}else{if(typeof _47=="object"&&typeof _47.type!="undefined"&&(_47.type=="vector"||_47.type=="hashtable")){this.data[i]=_47.toString();this.dataType[i]="Document";}else{if(typeof _47=="string"&&$W._B.isDocumentString(_47)){this.data[i]=_47;this.dataType[i]="Document";}else{this.data[i]=_47+"";this.dataType[i]="String";}}}break;}}if(!_49){this.key.push(_46);if($W._B.isDocument(_47)){this.data.push($W._B.serialize(_47));this.dataType.push("Document");}else{if(typeof _47=="object"&&typeof _47.type!="undefined"&&(_47.type=="vector"||_47.type=="hashtable")){this.data.push(_47.toString());this.dataType.push("Document");}else{if(typeof _47=="string"&&$W._B.isDocumentString(_47)){this.data.push(_47);this.dataType.push("Document");}else{this.data.push(_47+"");this.dataType.push("String");}}}}}catch(e){$W.exception.printStackTrace(e);}return ret;};$W._q.Hashtable.prototype.remove=function(_4c){["WebSquare.collection.Hashtable.remove"];var ret=null;try{for(var i=0;i<this.key.length;i++){if(this.key[i]==_4c){if(this.dataType[i]=="Document"){var tmp=$W._B.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=$W._q.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=$W._q.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}this.key[i]=this.key[this.key.length-1];this.data[i]=this.data[this.data.length-1];this.dataType[i]=this.dataType[this.dataType.length-1];this.key.pop();this.data.pop();this.dataType.pop();break;}}}catch(e){$W.exception.printStackTrace(e);}return ret;};$W._q.Hashtable.prototype.keys=function(){["WebSquare.collection.Hashtable.keys"];return $W._A.arraySort(this.key);};$W._q.Hashtable.prototype.elements=function(){["WebSquare.collection.Hashtable.elements"];var _50=[];try{var k=$W._A.arraySort(this.key);for(var i=0;i<k.length;i++){_50.push(this.get(k[i]));}}catch(e){$W.exception.printStackTrace(e);}return _50;};$W._q.Hashtable.prototype.toDocument=function(){["WebSquare.collection.Hashtable.toDocument"];return $W._B.parse(this.toString());};$W._q.Hashtable.prototype.toString=function(){["WebSquare.collection.Hashtable.toString"];var _53=[];_53.push("<hashtable");try{for(var i=0;i<this.attributeName.length;i++){_53.push(" "+this.attributeName[i]+"='"+this.attributeValue[i]+"'");}_53.push(">");for(var i=0;i<this.key.length;i++){if(this.dataType[i]=="Document"){_53.push("<data hashkey='"+$W._B.encode(this.key[i])+"'>");var idx=this.data[i].indexOf("?>");if(idx==-1){_53.push(this.data[i]);}else{var _56=(new RegExp("<?xml[\\s]+(version|VERSION)[\\w\\W]+?>")).test(this.data[i]);if(_56){_53.push(this.data[i].substring(idx+2));}else{_53.push(this.data[i]);}}_53.push("</data>");}else{_53.push("<data hashkey='"+$W._B.encode(this.key[i])+"' value='"+$W._B.encode(this.data[i])+"'/>");}}}catch(e){$W.exception.printStackTrace(e);}_53.push("</hashtable>");return _53.join("");};$W._q.toVector=function(doc){["WebSquare.collection.toVector"];var _58=new $W._q.Vector();try{var dom=null;if(typeof doc=="string"){dom=$W._B.parse(doc);}else{if($W._B.isDocument(doc)){dom=doc;}}_58.setDocument(dom);}catch(e){$W.exception.printStackTrace(e);}return _58;};$W._q.toHashtable=function(doc){["WebSquare.collection.toHashtable"];var _5b=new $W._q.Hashtable();try{var dom=null;if(typeof doc=="string"){dom=$W._B.parse(doc);}else{if($W._B.isDocument(doc)){dom=doc;}}_5b.setDocument(dom);}catch(e){$W.exception.printStackTrace(e);}return _5b;};;WebSquare.collection=$W._q;$W.WebSquareDocument=function(_1){["WebSquare.WebSquareDocument"];try{this.xmlDocument=_1;this.models=[];this.controls=[];this.actions=[];this.events=[];this.boundElement=[];this.refElement=[];this.itemsetElement=[];this.boundElementCache={};this.W2Object=1;this.HTMLObject=2;this.TmpObjIdx=1;this.configElement;this.cssList=[];this.idCollisionList={};}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.componentsCache={};$W.WebSquareDocument.getElementsByTagName=function(_2){if(typeof $W.WebSquareDocument.componentsCache[_2]=="object"){var _3=[];for(var i=0;i<$W.WebSquareDocument.componentsCache[_2].length;i++){_3.push($W.idCache[$W.WebSquareDocument.componentsCache[_2][i]]);}return _3;}else{return new Array();}};$W.WebSquareDocument.prototype.parsing=function(_5){["WebSquare.WebSquareDocument.parsing"];try{if($W.WebSquareParser==null){$W.WebSquareparser=new $W._o.WebSquareParser();}if(!$W.WebSquareparser.parse(this.xmlDocument,_5)){return false;}this.parsingUDC(_5);if(_5){$W.BootLoader.performanceCheck.mid2=new Date();$W.BootLoader.printLog("[SPA3][RESOURCE] New resource(XML, Skin, CSS, JS) Load Complete. Time:"+($W.BootLoader.performanceCheck.mid2.getTime()-$W.BootLoader.performanceCheck.mid1.getTime())+"ms");}else{$W.BootLoader.performanceCheck.mid2=new Date();$W.BootLoader.printLog("[STEP3][RESOURCE] Resource(XML, Skin, CSS, JS) Load Complete. Time:"+($W.BootLoader.performanceCheck.mid2.getTime()-$W.BootLoader.performanceCheck.mid1.getTime())+"ms");}if($W._G._stopProcess(_5)){return;}var _6=this.renderBody(_5);if(!_6){return false;}return true;}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.prototype.parsingWFrame=function(_7,_8){["WebSquare.WebSquareDocument.parsingWFrame "];try{if($W.WebSquareParser==null){$W.WebSquareparser=new $W._o.WebSquareParser();}if(!$W.WebSquareparser.parse(this.xmlDocument,_7,_8)){return false;}this.parsingUDC(_7,_8);return true;}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.prototype.parsingPageInheritBefore=function(_9,_a){["WebSquare.WebSquareDocument.parsingPageInheritBefore"];try{if($W.WebSquareParser==null){$W.WebSquareparser=new $W._o.WebSquareParser();}$W.WebSquareparser.parsePageInheritBefore(this.xmlDocument,_9,_a);this.parsingUDC(_9,_a);}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.prototype.parsingPageInheritAfter=function(_b,_c){["WebSquare.WebSquareDocument.parsingPageInheritAfter"];try{if($W.WebSquareParser==null){$W.WebSquareparser=new $W._o.WebSquareParser();}return $W.WebSquareparser.parsePageInheritAfter(this.xmlDocument,_b,_c);}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.prototype.parsingUDC=function(_d,_e){["WebSquare.WebSquareDocument.parsingUDC"];try{var _f=$W._B.getElementsByTagName(this.xmlDocument,"head")[0];var _10=$W._B.getElementsByTagName(_f,"require",$W._N._XML_NAMESPACE.W2);for(var i=0;i<_10.length;i++){var src=$W._N.getURL($W._N.getPageURL(_10[i].getAttribute("src")));var id=_10[i].getAttribute("id");var _14=_10[i].getAttribute("pluginName");$W._G.loadUserComponent(src,id,_14,_e);}var _15=$W._B.getElementsByTagName(_f,"inherit",$W._N._XML_NAMESPACE.W2);for(var i=0;i<_15.length;i++){var src=$W._N.getURL($W._N.getPageURL(_15[i].getAttribute("src")));$W._G.loadInheritComponent(src);}}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.prototype.evalImportsQueue=function(){["WebSquare.WebSquareDocument.evalImportsQueue"];try{for(var i in $W._h){imports($W._h[i]);}}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.prototype.renderBody=function(spa){["WebSquare.WebSquareDocument.renderBody"];var _18=$W._B.getElementsByTagName(this.xmlDocument,"body",$W._N._XML_NAMESPACE.XHTML);if(_18.length==1){var _19=_18[0].getAttribute("style");if(_19!=null){this.bodyStyle=_19;}this.body=_18[0];}else{alert($W._m.getMessage("E_WebSquareDocument_MoreThanOneBodyError",_18.length));return false;}var _1a=new $W.controlManager();_1a.run(_18[0],spa);};$W.WebSquareDocument.prototype.renderBody2=function(_1b,_1c){["WebSquare.WebSquareDocument.renderBody2"];var _1d=$W._B.getElementsByTagName(this.xmlDocument,"body",$W._N._XML_NAMESPACE.XHTML);var _1e=_1d[0].getAttribute("class");if(_1e){_1b.addClass(_1e);}$W.cssManager.startCache();var _1f=$W.controlFactory.create(null,null,_1d[0],_1b.options.scope?_1b:null,_1b.uuid);$W.cssManager.endCache();_1b.addControl(_1f);if(_1b.options.scope){_1b.makeScope(_1b);}if(_1f&&_1c){var _20=this;var _21=function(){_1f.activate();_1f.render=null;if(_1b.wframeScript){_1b.wframeScript.push(_20.scriptSection);_20.scriptSection=_1b.wframeScript.reverse().join("");_20.wframeScript=[];}if(_20.scriptSection.wq_trim()!=""){$W.BootLoader.globalEval(_20.scriptSection);}if(_1b.lazyImportsArr.length>0){$W._G.js.apply(null,_1b.lazyImportsArr);_1b.lazyImportsArr=[];}_1f.onComplete();$W._c.fireEvent(_1f,"onwframeload",_1b.getSrc());};var _22=function(){_1b.render.innerHTML=_1f.toHTML();_1f.preActivate();if(_1b.options.mode!=="sync"){setTimeout(_21,1);}else{_21();}};if($W.externalScriptArr.length>0){$W.externalScriptArr.push(_22);$W._G.js.apply(null,$W.externalScriptArr);}else{_22();}$W.externalScriptArr=[];}return !!_1f;};$W.addListenerCnt=0;$W.elementObjArr=[];$W.selectboxCss=false;$W.triggerCss=false;$W.idCache={};$W.idToUUID={};$W.RefElement=function(_23,id){try{this.nodeset=_23;this.id=id;this.instance=$W._J.getInstanceByXPath(this.nodeset);this.filteredNodeset=$W._J.filterInstanceFunction(this.nodeset);}catch(e){$W.exception.printStackTrace(e);}};$W.ItemsetElement=function(_25,_26,_27,id){try{this.nodeset=_25;this.instance=$W._J.getInstanceByXPath(this.nodeset);this.filteredNodeset=$W._J.filterInstanceFunction(this.nodeset);this.id=id;this.label=_26;this.value=_27;if(this.nodeset.indexOf("/")==_25.length-1){this.nodeset=this.nodeset.substring(0,length-1);}if(this.label.indexOf("/")==0){this.labelXPath=this.nodeset+this.label;}else{this.labelXPath=this.nodeset+"/"+this.label;}if(this.value.indexOf("/")==0){this.valueXPath=this.nodeset+this.value;}else{this.valueXPath=this.nodeset+"/"+this.value;}}catch(e){$W.exception.printStackTrace(e);}};$W.BoundElement=function(_29,id){this.nodeset=_29;this.id=id;this.instance=$W._J.getInstanceByXPath(this.nodeset);this.filteredNodeset=$W._J.filterInstanceFunction(this.nodeset);};$W.WebSquareDocument.prototype.unrender=function(_2b,id,_2d){["WebSquare.WebSquareDocument.unrender"];try{for(var i=0;i<this.boundElement.length;i++){var _2f=this.boundElement[i];if(!_2f||typeof _2f.filteredNodeset=="undefined"||typeof _2f.instance=="undefined"){continue;}if(_2f.filteredNodeset.indexOf(_2b)==0&&_2f.instance.id==_2d){if(!(typeof id!="undefined"&&id!=null&&id==_2f.id)){$W._G.getComponentById(_2f.id)["hasbeenrendered"]=false;}}}for(var j in this.refElement){var _31=this.refElement[j];if(!_31||typeof _31.filteredNodeset=="undefined"||typeof _31.instance=="undefined"){continue;}if(_31.filteredNodeset.indexOf(_2b)==0&&_31.instance.id==_2d){if(!(typeof id!="undefined"&&id!=null&&id==_2f.id)){$W._G.getComponentById(_31.id)["hasbeenrendered"]=false;}}}for(var k in this.itemsetElement){var _33=this.itemsetElement[k];if(typeof _33.filteredNodeset!="undefined"){if((_2b.indexOf(_33.filteredNodeset)==0||_33.filteredNodeset.indexOf(_2b)==0)&&_33.filteredNodeset.substr(_2b.length).search(/^\w/)==-1&&_33.instance.id==_2d){var id2=_33.id;if(id2!=id){try{$W._G.getComponentById(_33.id)["itemsetrendered"]=false;}catch(e){}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.prototype.detectChange=function(_35,id,_37){["WebSquare.WebSquareDocument.detectChange"];try{var _38=$W._J.getModelByID(_37);var _39=_38.instances[0].id;if(_39!=null){_35=$W._J.concatInstanceFunction(_35,_39);}if(typeof this.boundElementCache[_35]!="undefined"&&this.boundElementCache[_35]!=null){for(var i in this.boundElementCache[_35]){var id1=i;if(id1!=id){var _3c=$W._G.getComponentById(id1);if(_3c.modelControl.ref&&!_3c.modelControl.useRef){}_3c.refresh();}}}for(var k in $W.WebSquaredoc.itemsetElement){var _3e=$W.WebSquaredoc.itemsetElement[k];if(typeof _3e.filteredNodeset!="undefined"){if((_35.indexOf(_3e.filteredNodeset)==0||_3e.filteredNodeset.indexOf(_35)==0)){var id2=_3e.id;if(id2!=id){var _40=$W._G.getComponentById(id2);if(_40.modelControl.ref&&!_40.modelControl.useRef){}_40.refreshItemset();}}}}}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.prototype.mergeConfig=function(_41){["WebSquare.WebSquareDocument.mergeConfig"];try{this.configElement=_41;var _42=$W.BootLoader.XML2JSON(this.configElement);$W.BootLoader.mergeJSON($W.BootLoader.configurationJSON[0],_42);var _43=$W.BootLoader.JSON2XML($W.BootLoader.configurationJSON[0]);$W.BootLoader.configurationInfo=_43;$W.BootLoader.configurationDOM[0]=_43;$W.BootLoader.initJSONConfig();}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareDocument.prototype.addBodyEvents=function(_44,_45){["WebSquare.WebSquareDocument.addBodyEvents"];try{if(typeof _45!="undefined"){var s1=$W._N.makeStyle(_45);$W._N.applyStyle(this.render,s1);}var _47=$W.WebSquareparser.parseEvent(_44);$W._c.addEvents(this.render,_47);}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareObject=function(_48){["WebSquare.WebSquareObject"];this.xmlNode=_48;};$W.WebSquarebodyControl=function(_49,_4a){["WebSquare.WebSquarebodyControl"];try{this.style=_4a;this.xmlEvents=$W.WebSquareparser.parseEvent(_49);}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquarebodyControl.prototype.makeEvents=function(){["WebSquare.WebSquarebodyControl.makeEvents"];try{$W._c.addEvents(document.body,this.xmlEvents);}catch(e){$W.exception.printStackTrace(e);}};$W.WebSquareLabelControl=function(_4b,_4c,_4d){["WebSquare.WebSquareLabelControl"];if(_4c!=null){this.value=$W._J.getInstanceValue(_4c.xpath);}else{this.value=_4d;}};$W._o={};$W._o.WebSquareParser=function(){["WebSquare.Parser.WebSquareParser"];};$W._h={};$W._v={};$W.lazyImportsArr=[];$W.externalScriptArr=[];$W.executePointScriptArr=[];$W.pageInheritScriptArr=[];$W.pageInheritSubmissionList=[];$W.pageInheritWorkflowList=[];$W._o.WebSquareParser.prototype.parse=function(_1,_2,_3){["WebSquare.Parser.WebSquareParser.parse"];try{this.preParse(_1);this.parseCSS(_1,_2,_3);if(!_3){this.parseBuildDate(_1.documentElement);this.parseTitle(_1.documentElement);}this.parseMeta(_1.documentElement);this.parseModels(_1.documentElement,_3);var _4=this.parseScript(_1.documentElement,_3);if(_3!=undefined){this.parseDataCollections(_1.documentElement,_3.uuid);}else{this.parseDataCollections(_1.documentElement);}return _4;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseMeta=function(_5){var _6=["meta","Meta","META"];var _7=document.getElementsByTagName("head")[0];for(var i=0;i<_6.length;i++){var _9=$W._B.getElementsByTagName(_5,_6[i],$W._N._XML_NAMESPACE.XHTML);if(_9!=null){for(var j=0;j<_9.length;j++){var _b=document.createElement("meta");for(var _c=0;_c<_9[j].attributes.length;_c++){_b.setAttribute(_9[j].attributes[_c].nodeName,_9[j].attributes[_c].nodeValue);}_7.appendChild(_b);}}}};$W._o.WebSquareParser.prototype.parsePageInheritBefore=function(_d,_e,_f){["WebSquare.Parser.WebSquareParser.parse"];try{this.preParse(_d);this.parseMeta(_d.documentElement);this.parseModels(_d.documentElement,_f);if(_f!=undefined){this.parseDataCollections(_d.documentElement,_f.uuid);}else{this.parseDataCollections(_d.documentElement);}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parsePageInheritAfter=function(_10,_11,_12){["WebSquare.Parser.WebSquareParser.parse"];try{this.parseCSS(_10,_11,_12,$W.WebSquaredoc.cssList[0]);var ret=this.parseScript(_10.documentElement,_12,true);return ret;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.preParse=function(_14){["WebSquare.Parser.WebSquareParser.preParse"];try{if($W._N.browserCheck.ieAllVersion&&$W.BootLoader.useActiveXObject){var _15=$W._N.getNamespaces(_14);var _16="";for(var i in _15){if(i!=""){_16+="xmlns:"+i+"=\""+_15[i]+"\" ";}}_14.setProperty("SelectionLanguage","XPath");_14.setProperty("SelectionNamespaces",_16);}this.parseConfig(_14.documentElement);}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseCSS=function(_18,_19,_1a,_1b){["WebSquare.Parser.WebSquareParser.parseCSS"];try{var _1c=$W._N.getConfiguration("/WebSquare/stylesheet/@value");var _1d=$W._N.getConfiguration("/WebSquare/stylesheet/@enable");if(_1d!="false"&&!_19&&!_1a&&!$W.styleSheetEarlyImport){if(_1c==null||_1c==""){if($W._N.getConfiguration("/WebSquare/stylesheet/@import")=="link"){_1c="stylesheet_ext.css";}else{_1c="stylesheet.css";}}$W._y.addImport($W.baseThemeURI+"skin/"+_1c);$W.cssManager.executeImport();}$W._y.importCSS(_18);if(!_1a){$W.WebSquaredoc.cssList=$W.WebSquaredoc.cssList.concat($W.cssManager.executeImport(_1b));}else{_1a.frameDoc.cssList=_1a.frameDoc.cssList.concat($W.cssManager.executeImport(_1b));}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseConfig=function(_1e){["WebSquare.Parser.WebSquareParser.parseConfig"];try{var _1f=$W._B.getElementsByTagName(_1e,"config",$W._N._XML_NAMESPACE.W2);if(_1f.length==1){for(var _20=_1f[0].firstChild;_20!=null;_20=_20.nextSibling){if((_20.nodeType==1)&&$W._B.matchNode(_20,"WebSquare",$W._N._XML_NAMESPACE.XHTML)){$W.WebSquaredoc.mergeConfig(_20);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseBuildDate=function(_21){["WebSquare.Parser.WebSquareParser.parseBuildDate"];try{var _22=$W._B.getElementsByTagName(_21,"buildDate",$W._N._XML_NAMESPACE.W2);if(_22.length==1&&_22[0].firstChild){$W.buildDate=(_22[0].firstChild.nodeValue);}else{$W.buildDate="N/A";}}catch(e){$W.buildDate="N/A";$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseTitle=function(_23){["WebSquare.Parser.WebSquareParser.parseTitle"];try{var _24=$W._B.getElementsByTagName(_23,"title",$W._N._XML_NAMESPACE.XHTML);if(_24.length==1){$W.docTitle=$W.document.title=(_24[0].firstChild.nodeValue);}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseModels=function(_25,_26){["WebSquare.Parser.WebSquareParser.parseModels"];try{var _27=$W._B.getElementsByTagName(_25,"model",$W._N._XML_NAMESPACE.XFORMS);for(var i=0;i<_27.length;++i){if(_26){if(_26.frameDoc){_26.frameDoc.models.push(this.parseModel(_27[i],_26));if(_26.options.scope){for(var j=0;j<_26.frameDoc.models[i].submissions.length;j++){_26.frameDoc.models[i].submissions[j].scope_obj=_26;}for(var j=0;j<_26.frameDoc.models[i].workflows.length;j++){_26.frameDoc.models[i].workflows[j].scope_obj=_26;}}}}else{$W.WebSquaredoc.models.push(this.parseModel(_27[i]));}}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseDataCollections=function(_2a,_2b){["WebSquare.Parser.WebSquareParser.parseDataCollections"];try{var _2c=$W._B.getElementsByTagName(_2a,"model",$W._N._XML_NAMESPACE.XFORMS);for(var i=0;i<_2c.length;++i){this.parseDataCollection(_2c[i],_2b);}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseModel=function(_2e,_2f){["WebSquare.Parser.WebSquareParser.parseModel"];try{var _30=this.parseInstances(_2e);var _31=this.parseBinds(_2e);var _32=this.parseSubmissions(_2e,_2f);var _33=this.parseWorkflows(_2e,_2f);return new $W.Model(_2e,_30,_31,_32,_33);}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseDataCollection=function(_34,_35){["WebSquare.Parser.WebSquareParser.parseDataCollection"];try{requires("uiplugin.dataMap");requires("uiplugin.dataList");requires("uiplugin.linkedDataList");var _36=$W._B.getElementsByTagName(_34,"dataCollection",$W._N._XML_NAMESPACE.W2);var _37=_36[0];if(_37){this.parseDataCollectionAttribute(_37);var _38=$W._B.getElementsByTagName(_37,"dataMap",$W._N._XML_NAMESPACE.W2);for(var i=0;i<_38.length;i++){var _3a=_38[i];new $W._j.dataMap(null,null,_3a,"dataMap",_35);}var _3b=$W._B.getElementsByTagName(_37,"dataList",$W._N._XML_NAMESPACE.W2);for(var i=0;i<_3b.length;i++){var _3c=_3b[i];new $W._j.dataList(null,null,_3c,"dataList",_35);}var _3d=$W._B.getElementsByTagName(_37,"linkedDataList",$W._N._XML_NAMESPACE.W2);for(var i=0;i<_3d.length;i++){var _3e=_3d[i];new $W._j.linkedDataList(null,null,_3e,"linkedDataList",_35);}}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseDataCollectionAttribute=function(_3f){["WebSquare.Parser.WebSquareParser.parseDataCollectionAttribute"];try{if($W._j["options"].useConfig||$W._G.getBoolean($W._N.getConfiguration("/WebSquare/"+pluginName+"/useConfig/@value"))){var _40=$W.configManager.getConfig("dataCollection");$W._j["options"]=$W.extendKeepingType($W._j["options"],_40);}for(var i=0;i<_3f.attributes.length;i++){var _42=_3f.attributes[i];if($W.nodeValueDeprecated){$W._j.api.setOption(_42.name,_42.value);}else{$W._j.api.setOption(_42.nodeName,_42.nodeValue);}}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseInstances=function(_43){["WebSquare.Parser.WebSquareParser.parseInstances"];try{var _44=$W._B.getElementsByTagName(_43,"instance",$W._N._XML_NAMESPACE.XFORMS);var _45=[];for(var i=0;i<_44.length;i++){_45.push(this.parseInstance(_44[i]));}return _45;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseInstance=function(_47){["WebSquare.Parser.WebSquareParser.parseInstance"];try{var src=_47.attributes.getNamedItem("src");var _49=null;if(src!=null){_49=new $W.Model.Instance(_47,$W._B.load(srcAttribute.value),src.value);}else{var _4a=null;for(var _4b=_47.firstChild;_4b!=null;_4b=_4b.nextSibling){if(_4b.nodeType==1){_4a=_4b;}}if(_4a==null){_49=new $W.Model.Instance(_47,null,null);}else{var _4c=[];for(var _4b=_4a.firstChild;_4b!=null;_4b=_4b.nextSibling){if(_4b.namespaceURI!=null&&_4b.namespaceURI!=""){_4c.push("xmlns:"+_4b.prefix);_4c.push(_4b.namespaceURI);break;}}if(_4c[0]!=null&&_4c[0]!="xmlns:xml"){if(!_4a.attributes.getNamedItem(_4c[0])){_4a.setAttribute(_4c[0],_4c[1]);}}_49=new $W.Model.Instance(_47,_4a,null);}}return _49;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseBinds=function(_4d){["WebSquare.Parser.WebSquareParser.parseBinds"];try{var _4e=$W._B.getElementsByTagName(_4d,"bind",$W._N._XML_NAMESPACE.XFORMS);var _4f=[];for(var i=0;i<_4e.length;++i){_4f.push(this.parseBind(_4e[i]));}return _4f;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseBind=function(_51){["WebSquare.Parser.WebSquareParser.parseBind"];try{var id=_51.attributes.getNamedItem("id");var _53=_51.attributes.getNamedItem("nodeset");var _54=new $W.Model.Bind(_51,"nodeset",_53.value,null,id.value);return _54;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseSubmissions=function(_55,_56){["WebSquare.Parser.WebSquareParser.parseSubmissions"];try{var _57=$W._B.getElementsByTagName(_55,"submission",$W._N._XML_NAMESPACE.XFORMS);var _58=[];for(var i=0;i<_57.length;i++){_58.push(this.parseSubmission(_57[i],_55,_56));}return _58;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseSubmission=function(_5a,_5b,_5c){["WebSquare.Parser.WebSquareParser.parseSubmission"];try{var id=$W.WebSquareparser.getAttribute(_5a,"id");var _5e=$W.WebSquareparser.getAttribute(_5a,"method","")||$W._N.getConfiguration("/WebSquare/submission/method/@value")||"POST";var _5f=$W.WebSquareparser.getAttribute(_5a,"action","")||$W._N.getConfiguration("/WebSquare/submission/action/@value");var _60=$W.WebSquareparser.getAttribute(_5a,"mode","")||$W._N.getConfiguration("/WebSquare/submission/mode/@value")||"asynchronous";var _61=$W.WebSquareparser.getAttribute(_5a,"mediatype","")||$W._N.getConfiguration("/WebSquare/submission/mediatype/@value");var _62=$W.WebSquareparser.getAttribute(_5a,"encoding","")||$W._N.getConfiguration("/WebSquare/submission/encoding/@value")||"UTF-8";var ref=$W.WebSquareparser.getAttribute(_5a,"ref");var _64=$W.WebSquareparser.getAttribute(_5a,"target");var _65=$W.WebSquareparser.getAttribute(_5a,"replace");var _66=$W.WebSquareparser.getAttribute(_5a,"instance");var _67=$W.WebSquareparser.getAttribute(_5a,"customHandler");var _68=$W.WebSquareparser.getAttribute(_5a,"errorHandler");if(_68==""){_68=$W._N.getConfiguration("/WebSquare/submission/errorHandler/@value");}var _69=$W.WebSquareparser.getAttribute(_5a,"processMsg","");if(_69==""){_69=$W._N.getConfiguration("/WebSquare/submission/processMsg/@value");}var _6a=$W.WebSquareparser.getAttribute(_5a,"soapaction","");if(_61==""){if(_5e=="post"||_5e=="POST"){_61="application/xml";}}var _6b=this.parseEvent(_5a,_5c)||[];var _6c=this.getAttribute(_5a,"timeout","")||$W._N.getConfiguration("/WebSquare/submission/timeout/@value");var _6d=this.getAttribute(_5a,"singleMode")||false;var _6e=(this.getAttribute(_5a,"hideProcessMsg")==="false"||(this.getAttribute(_5a,"hideProcessMsg")!=="true"&&$W._N.getConfiguration("/WebSquare/submission/hideProcessMsg/@value")==="false"))?false:true;var _6f=$W.WebSquareparser.getAttribute(_5a,"ev:submit");var _70=$W.WebSquareparser.getAttribute(_5a,"ev:submitdone");var _71=$W.WebSquareparser.getAttribute(_5a,"ev:submiterror");var _72=$W.WebSquareparser.getAttribute(_5a,"ev:submittimeout");if(_6f){_6b.push(new $W._L.XmlEvent("xforms-submit","script",{"handler":_6f}));}if(_70){_6b.push(new $W._L.XmlEvent("xforms-submit-done","script",{"handler":_70}));}if(_71){_6b.push(new $W._L.XmlEvent("xforms-submit-error","script",{"handler":_71}));}if(_72){_6b.push(new $W._L.XmlEvent("xforms-submit-timeout","script",{"handler":_72}));}return new $W.Model.Submission(_5b,_5a,id,_5e,_5f,_60,null,_61,_62,ref,_64,_65,_66,_67,_68,_6a,_69,_6b,_6c,_6d,_6e);}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseScript=function(_73,_74,_75){["WebSquare.Parser.WebSquareParser.parseScript"];try{if(_74){if(_74.frameDoc){_74.frameDoc.scriptSection="";}}else{$W.scriptSection="";}if(_74){if(_74.options&&_74.options.initScript){$W.scriptSection+=_74.options.initScript;}}else{var _76=$W._N.getConfiguration("/WebSquare/initScript/@value");if(_76=="true"){$W.scriptSection+=$W._N.getConfiguration("/WebSquare/initScript");}}var _77=$W._B.getElementsByTagName(_73,"head",$W._N._XML_NAMESPACE.XHTML);if(_77.length==1){for(var _78=_77[0].firstChild;_78!=null;_78=_78.nextSibling){if((_78.nodeType==1)&&$W._B.matchNode(_78,"script",$W._N._XML_NAMESPACE.XHTML)){var uri=_78.getAttribute("src");if(uri!=null&&uri!=""){var _7a=_78.getAttribute("cache");var _7b=false;if(_7a==null||_7a===""){_7a=$W._N.getConfiguration("/WebSquare/spa/scriptCache/@value");}var _7c=_78.getAttribute("defer");var URL=$W._N.getURL(uri);if(_7a==null||_7a.toLowerCase()!="false"){if(typeof $W.scriptCachedList[URL]=="undefined"||$W.scriptCachedList[URL]===null){if($W._N.getConfiguration("/WebSquare/spa/scriptCache/@value")==="false"){$W.scriptCachedList[URL]=0;}else{$W.scriptCachedList[URL]=1;}}if($W.scriptCachedList[URL]>1){_7b=true;$W.scriptCachedList[URL]++;}else{if(_7a.toLowerCase()=="true"){$W.scriptCachedList[URL]++;}}}else{$W.scriptCachedList[URL]=0;}if(!_7b){if(_74){if(_7c=="defer"){if($W.scriptSectionExcuteFlag=="executed"){_74.lazyImportsArr.push(URL);}else{$W.lazyImportsArr.push(URL);}}else{if(_75){$W.pageInheritScriptArr.push(URL);}else{$W.externalScriptArr.push(URL);}}}else{if(_7c=="defer"){$W.lazyImportsArr.push(URL);}else{if(_75){$W.pageInheritScriptArr.push(URL);}else{$W.externalScriptArr.push(URL);}}}}}else{var _7e=_78.getAttribute("loadAt");var _7f=_78.getAttribute("lazy");var _80=-1;if(typeof _7e=="string"&&_7e!=""){_7e=_7e.wq_trim().toUpperCase();switch(_7e){case "WEBSQUARE_START":case "START":_80=1;break;case "ENGINE_LOAD":case "ENGINE":_80=2;break;case "RESOURCE_LOAD":case "RESOURCE":_80=3;break;case "CREATE_COMPONENT":case "CREATE":_80=4;break;case "RENDER_DOM":case "RENDER":_80=5;break;case "ADJUST_COMPONENT":case "ADJUST":_80=6;break;case "BIND_EVENT":case "EVENT":_80=7;break;case "EXECUTE_SCRIPT":case "EXECUTE":_80=8;break;default:_80=8;break;}}if(_7f=="false"){_80=3;}for(var _81=_78.firstChild;_81!=null;_81=_81.nextSibling){if(_81.nodeType==4||_81.nodeType==3){var _82=_81.nodeValue;if(_74){if(_74.options&&_74.options.postScript){_82+=_74.options.postScript;}if(_74.options.scope){_82="WebSquare.scope_obj="+_74.id+";\nwith(WebSquare.util.getComponentById('"+_74.id+"').scope){\n var udc_obj = "+_74.id+";\n"+_82+"\n};\nWebSquare.scope_obj=null;\n";}if(_80>2&&_80<8){if($W.executePointScriptArr[_80]==undefined){$W.executePointScriptArr[_80]=[];}$W.executePointScriptArr[_80].push(_82);}else{_74.frameDoc.scriptSection+=_82;}}else{if(_80>2&&_80<8){if($W.executePointScriptArr[_80]==undefined){$W.executePointScriptArr[_80]=[];}$W.executePointScriptArr[_80].push(_82);}else{$W.scriptSection+=_82;}}}}}}}$W._N.executePointScript(3);}else{alert($W._m.getMessage("E_Parser_MoreThanOneHeadError",_77.length));return false;}}catch(e){$W.exception.printStackTrace(e);}return true;};$W._o.WebSquareParser.prototype.parseControls=function(_83){["WebSquare.Parser.WebSquareParser.parseControls"];try{var _84=[];for(var _85=_83.firstChild;_85!=null;_85=_85.nextSibling){var tag=$W._B.getLocalName(_85);if(tag!="label"){if(_85.namespaceURI==$W._N._XML_NAMESPACE["XFORMS"]||_85.namespaceURI==$W._N._XML_NAMESPACE["W2"]){if(tag=="switch"){$W._h["{"+_85.namespaceURI+"}"+tag]="uiplugin.Switch";$W._v["{"+_85.namespaceURI+"}"+tag]="WebSquare.uiplugin.Switch";_84.push(_85);}else{$W._h["{"+_85.namespaceURI+"}"+tag]="uiplugin."+tag;$W._v["{"+_85.namespaceURI+"}"+tag]="WebSquare.uiplugin."+tag;_84.push(_85);}}else{if($W._N.matchExtNamespace(_85.namespaceURI)){var _87=$W._N.EXT_PLUGIN[_85.namespaceURI][tag];$W._h["{"+_85.namespaceURI+"}"+tag]=_87.src;$W._v["{"+_85.namespaceURI+"}"+tag]=_87.className;_84.push(_85);}else{if(_85.namespaceURI==$W._N._XML_NAMESPACE["XHTML"]){$W.WebSquaredoc.htmlElements.push(_85);}}}}}return _84;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseBody=function(_88){["WebSquare.Parser.WebSquareParser.parseBody"];try{var _89=$W._B.getElementsByTagName(_88,"body",$W._N._XML_NAMESPACE.XHTML);if(_89.length==1){var _8a=_89[0].getAttribute("style");if(_8a!=null){$W.WebSquaredoc.bodyStyle=_8a.value;}$W.WebSquaredoc.body=_89[0];}else{alert($W._m.getMessage("E_Parser_MoreThanOneBodyError",_89.length));}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseActions=function(_8b){["WebSquare.Parser.WebSquareParser.parseActions"];};$W._o.WebSquareParser.prototype.findBindElement=function(_8c){["WebSquare.Parser.WebSquareParser.findBindElement"];try{if(_8c.attributes==null){return null;}if(_8c.attributes.getNamedItem("bind")!=null){var _8d=$W._J.getBind(_8c.attributes.getNamedItem("bind").value);return _8d;}return null;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseLabel=function(_8e){["WebSquare.Parser.WebSquareParser.parseLabel"];var _8f=$W._B.getElementsByTagName(_8e,"label",$W._N._XML_NAMESPACE.XFORMS);if(_8f[0]==null){return null;}var _90=_8f[0];var _91=this.findBindElement(_90);var _92="";var _93=(_90.firstChild);if(_90.childNodes.length>1){for(var i=0;i<_90.childNodes.length;i++){if(_90.childNodes[i].nodeValue.wq_trim()!=""){_93=_90.childNodes[i];break;}}}if(typeof _93!="undefined"&&_93!=null){_92=_93.nodeValue;}else{_92="";}return new $W.WebSquareLabelControl(_90,_91,_92);};$W._o.WebSquareParser.prototype.parseChoices=function(_95,_96){["WebSquare.Parser.WebSquareParser.parseChoices"];var _97=[];_96=_96||"xf";if(_95){try{var _98=_95.nodeName;if(_98.indexOf(":")>=0){_96=_98.split(":")[0];}}catch(e){}var _99=(_96=="xf")?$W._N._XML_NAMESPACE.XFORMS:$W._N._XML_NAMESPACE.W2;var _9a=$W._B.findNode(_95,"./"+"/"+"*['"+"choices"+"'=local-name()]['"+_99+"'=namespace-uri()]");if(_9a){var _9b=$W._B.findNodes(_9a,"./"+"/"+"*['"+"item"+"'=local-name()]['"+_99+"'=namespace-uri()]");if(_9b){for(var i=0;i<_9b.length;++i){var _9d=_9b[i];var _9e="";var _9f=$W._B.findNode(_9d,"./*['"+"label"+"'=local-name()]['"+_99+"'=namespace-uri()]");if(_9f){_9e=$W._B.getValue(_9f,"text()");}var _a0="";var _a1=$W._B.findNode(_9d,"./*['"+"value"+"'=local-name()]['"+_99+"'=namespace-uri()]");if(_a1){_a0=$W._B.getValue(_a1,"text()");}_97.push({label:_9e,value:_a0});}}}}return _97;};$W._o.WebSquareParser.prototype.parseItemset=function(_a2,_a3){["WebSquare.Parser.WebSquareParser.parseItemset"];var _a4={nodeset:"",label:"",value:""};try{if(_a2){_a3=_a3||"xf";try{var _a5=_a2.nodeName;if(_a5.indexOf(":")>=0){_a3=_a5.split(":")[0];}}catch(e){}var _a6=(_a3=="xf")?$W._N._XML_NAMESPACE.XFORMS:$W._N._XML_NAMESPACE.W2;var _a7=$W._B.findNode(_a2,"*['"+"choices"+"'=local-name()]['"+_a6+"'=namespace-uri()]");if(_a7){var _a8=$W._B.findNode(_a7,"*['"+"itemset"+"'=local-name()]['"+_a6+"'=namespace-uri()]");if(_a8){var _a9=$W._B.getValue(_a8,"@nodeset");var _aa=$W._B.findNode(_a8,"*['"+"label"+"'=local-name()]['"+_a6+"'=namespace-uri()]");var _ab=$W._B.findNode(_a8,"*['"+"value"+"'=local-name()]['"+_a6+"'=namespace-uri()]");var _ac=$W._B.getValue(_aa,"@ref");var _ad=$W._B.getValue(_ab,"@ref");_a4.nodeset=_a9;_a4.label=_ac;_a4.value=_ad;}}else{var _a8=$W._B.findNode(_a2,"*['"+"itemset"+"'=local-name()]['"+_a6+"'=namespace-uri()]");if(_a8){var _a9=$W._B.getValue(_a8,"@nodeset");var _aa=$W._B.findNode(_a8,"*['"+"label"+"'=local-name()]['"+_a6+"'=namespace-uri()]");var _ab=$W._B.findNode(_a8,"*['"+"value"+"'=local-name()]['"+_a6+"'=namespace-uri()]");var _ac=$W._B.getValue(_aa,"@ref");var _ad=$W._B.getValue(_ab,"@ref");_a4.nodeset=_a9;_a4.label=_ac;_a4.value=_ad;}}}}catch(e){$W.exception.printStackTrace(e);}return _a4;};$W._o.WebSquareParser.prototype.parseAttribute=function(_ae){["WebSquare.Parser.WebSquareParser.parseAttribute"];try{var _af={};var _b0=_ae.attributes||_ae.documentElement.attributes;for(var i=0,len=_b0.length;i<len;i++){var _b2=_b0[i];var _b3=_b2.name;var _b4=_b2.value;if(_b3=="class"){_af["className"]=_b4;}else{if(_b4.wq_trim()!==""){_af[_b3]=_b4;}}}return _af;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseEvent=function(_b5,_b6){["WebSquare.Parser.WebSquareParser.parseEvent"];try{var _b7=[];var id=_b5.getAttribute("id");var _b9=_b5.nodeName;var _ba=null;if(id==null||id==""){_ba="";id="";}else{_ba=id;id=id+".";}for(var _bb=_b5.firstChild;_bb!=null;_bb=_bb.nextSibling){var _bc="";var _bd=$W._B.nodeInfoObj(_bb);var _be=_bd.nodeName;var uri=_bd.uri;if((_bb.nodeType==1)&&_be=="script"){var _c0={};var _c1=_bb.attributes;for(var j=0;j<_c1.length;j++){var att=_c1[j];if($W._B.matchNode(att,"event",$W._N._XML_NAMESPACE.EVENTS)){_bc=$W.nodeValueDeprecated?att.value:att.nodeValue;break;}}var _c4=_bb.getAttribute("disabled");var _c5=0;for(var _c6=_bb.firstChild;_c6!=null;_c6=_c6.nextSibling){if(_c6.nodeType==4){var _c7="( e )";var idx=_bc.indexOf("(");if(idx>-1){_c7=_bc.substring(idx);_bc=_bc.substring(0,idx);}var _c9=_c6.nodeValue;if(_b6&&_b6.options.scope){_c9="WebSquare.scope_obj="+_b6.id+";\nwith(WebSquare.util.getComponentById('"+_b6.id+"').scope){\n var udc_obj = "+_b6.id+";\n"+_c9+"\n};\nWebSquare.scope_obj=null;\n";}_c0.handler="function"+_c7+"{ try {[\""+id+_bc.toLowerCase()+"\"]; function "+_ba+"_"+_c5++ +"() {}; "+_c9+" } catch(eee) {eee.componentID =  \""+_ba+"\"; eee.eventName = \""+_bc.toLowerCase()+"\"; eee.componentName = \""+_b9+"\"; WebSquare.exception.printStackTrace(eee);} }";_b7.push(new $W._L.XmlEvent(_bc.toLowerCase(),"script",_c0,_c4));break;}}}}if(_b7.length==0){return null;}else{return _b7;}}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseEventAttributes=function(_ca){var _cb={};var _cc=_ca.attributes;for(var j=0;j<_cc.length;j++){if($W._B.matchNode(_cc[j],"event",$W._N._XML_NAMESPACE.EVENTS)){var _ce=($W.nodeValueDeprecated)?_cc[j].value:_cc[j].nodeValue;var idx=_ce.indexOf("(");if(idx>-1){parameter=_ce.substring(idx);_ce=_ce.substring(0,idx);}_cb.eventName=_ce.toLowerCase();}else{var idx=_cc[j].nodeName.indexOf(":");if(idx>-1){_cb[_cc[j].nodeName.substring(idx+1)]=$W.nodeValueDeprecated?_cc[j].value:_cc[j].nodeValue;}else{_cb[_cc[j].nodeName]=$W.nodeValueDeprecated?_cc[j].value:_cc[j].nodeValue;}}}for(var _d0=_ca.firstChild;_d0!=null;_d0=_d0.nextSibling){if(_d0.nodeType==4||_d0.nodeType==3){_cb._text=_d0.nodeValue;break;}}return _cb;};$W._o.WebSquareParser.prototype.getAttribute=function(_d1,key,_d3){var _d4=_d1.getAttribute(key);if(_d4==null||_d4==""){if(typeof _d3!="undefined"){return _d3;}else{return "";}}return _d4;};$W._o.WebSquareParser.prototype.parseAttributesNode=function(_d5){var _d6=null;var _d7=[];for(var i=0;i<_d5.childNodes.length;i++){if(_d5.childNodes[i].nodeName=="w2:attributes"){_d6=_d5.childNodes[i];break;}}if(_d6){var _d9=_d6.childNodes;for(var i=0;i<_d9.length;i++){if(_d9[i].nodeType==1){var _da=$W._B.getLocalName(_d9[i]);var obj={name:_da,ref:_d9[i].getAttribute("ref"),value:$W._B.getTextNodeValue(_d9[i])};_d7.push(obj);_d7[_da]=obj;}}}return _d7;};$W._o.WebSquareParser.prototype.attributesItem=function(obj){this.name=obj.name;this.ref=obj.ref;this.value=obj.value;};$W._o.WebSquareParser.prototype.attributesItem.prototype.setValue=function(_dd){this.value=_dd;};$W._o.WebSquareParser.prototype.attributesItem.prototype.getValue=function(){return this.value;};$W._o.WebSquareParser.prototype.parseWorkflows=function(_de,_df){["WebSquare.Parser.WebSquareParser.parseWorkflows"];try{var _e0=$W._B.getElementsByTagName(_de,"workflow",$W._N._XML_NAMESPACE.W2);var _e1=[];for(var i=0;i<_e0.length;i++){_e1.push(this.parseWorkflow(_e0[i],_de,_df));}return _e1;}catch(e){$W.exception.printStackTrace(e);}};$W._o.WebSquareParser.prototype.parseWorkflow=function(_e3,_e4,_e5){["WebSquare.Parser.WebSquareParser.parseWorkflow"];try{var id=$W.WebSquareparser.getAttribute(_e3,"id");var _e7=$W.WebSquareparser.getAttribute(_e3,"resolveCallback","");var _e8=$W.WebSquareparser.getAttribute(_e3,"rejectCallback","");var _e9=$W.WebSquareparser.getAttribute(_e3,"processMsg","");if(_e9==""){_e9=$W._N.getConfiguration("/WebSquare/workflow/processMsg/@value");}var _ea=$W._B.getElementsByTagName(_e3,"step",$W._N._XML_NAMESPACE.W2);var _eb=[];for(var i=0;i<_ea.length;i++){var _ed=_ea[i];var _ee={};for(var k=0;k<_ed.attributes.length;k++){if($W.nodeValueDeprecated){_ee[_ed.attributes[k].name]=_ed.attributes[k].value;}else{_ee[_ed.attributes[k].nodeName]=_ed.attributes[k].nodeValue;}}_eb.push(_ee);}return new $W.Model.Workflow(_e4,_e3,id,_e7,_e8,_e9,_eb);}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.importsQueue=$W._h;;WebSquare.Parser=$W._o;;WebSquare.controlMatchmarks=$W._v;$W.Model=function(_1,_2,_3,_4,_5){["WebSquare.Model"];try{$W.WebSquareObject.call(this,_1,true);this.instances=_2;this.binds=_3;this.submissions=_4;this.id=_1.getAttribute("id");this.element=_1;this.workflows=_5;}catch(e){$W.exception.printStackTrace(e);}};$W.Model.inherit($W.WebSquareObject);$W.Model.prototype.rebuild=function(_6,_7){["WebSquare.Model.rebuild"];try{var _8=$W._J.getInstanceByXPath(_7);if($W._B.hasChildElement(_8.xmlNode)){if(typeof _6=="string"){var _9=$W._B.getFirstChildElement(_8.xmlNode);_7=$W._J.filterInstanceFunction(_7);if(_7==""){_7=".";}var _a=$W._B.createNode(_9,_7);var _b=_a.ownerDocument.createTextNode(_6);$W._B.appendChild(_a,_b);$W.WebSquaredoc.unrender(_7,null,_8.id);}else{var _c=_6.documentElement.nodeName;var _9=$W._B.getFirstChildElement(_8.xmlNode);_7=$W._J.filterInstanceFunction(_7);if(_7==""){_7=".";}else{_c=_7+"/"+_c;}var _a=$W._B.createNode(_9,_7);for(var _d=_a.firstChild;_d!=null;_d=_d.nextSibling){if(_d.nodeName==_6.documentElement.nodeName){_a.removeChild(_d);break;}}$W._B.appendChild(_a,_6.documentElement);$W.WebSquaredoc.unrender(_c,null,_8.id);}}else{alert($W._m.getMessage("E_Model_NoChildNodeOfInstance"));}}catch(e){$W.exception.printStackTrace(e);}};$W.Model.prototype.refresh=function(_e){["WebSquare.Model.refresh"];try{for(var i=0;i<$W.WebSquaredoc.boundElement.length;i++){var _10=$W.WebSquaredoc.boundElement[i];var _11=_10.id;var _12=$W._N.getComponentById(_11);if(typeof _12=="undefined"){continue;}if(typeof _12.hasbeenrendered!="undefined"&&_12.hasbeenrendered!=null&&_12.hasbeenrendered==false){if(!_12.modelControl.useRef&&_12.modelControl.ref){}_12.hasbeenrendered=true;_12.refresh();}}for(var k in $W.WebSquaredoc.itemsetElement){var _14=$W.WebSquaredoc.itemsetElement[k];var _15=_14.id;var _16=$W._N.getComponentById(_15);if(typeof _16=="undefined"){continue;}if(typeof _16.itemsetrendered!="undefined"&&_16.itemsetrendered!=null&&_16.itemsetrendered==false){if(!_16.modelControl.useRef&&_16.modelControl.ref){}_16.itemsetrendered=true;_16.refreshItemset(_e);}}for(var j in $W.WebSquaredoc.refElement){var _18=$W.WebSquaredoc.refElement[j];var _19=_18.id;var ref=$W._N.getComponentById(_19);if(typeof ref=="undefined"){continue;}if(typeof ref.hasbeenrendered!="undefined"&&ref.hasbeenrendered!=null&&ref.hasbeenrendered==false){if(!ref.modelControl.useRef&&ref.modelControl.ref){}ref.hasbeenrendered=true;ref.refresh();}}}catch(e){$W.exception.printStackTrace(e);}};$W.Model.Instance=function(_1b,_1c,_1d){["WebSquare.Model.Instance"];try{$W.WebSquareObject.call(this,_1b,true);this.document=_1c;this.source=_1d;this.id=_1b.getAttribute("id");}catch(e){$W.exception.printStackTrace(e);}};$W.Model.Instance.inherit($W.WebSquareObject);$W.Model.Bind=function(_1e,_1f,_20,_21,id){["WebSquare.Model.Bind"];try{$W.WebSquareObject.call(this,_1e,_21!=null);this.type=_1f;this.xpath=_20;this.properties=(_21!=null)?_21:{};this.id=id;}catch(e){$W.exception.printStackTrace(e);}};$W.Model.Bind.inherit($W.WebSquareObject);$W.Model.Submission=function(_23,_24,id,_26,_27,_28,_29,_2a,_2b,ref,_2d,_2e,_2f,_30,_31,_32,_33,_34,_35,_36,_37){["WebSquare.Model.Submission"];try{$W.WebSquareObject.call(this,_24,true);this.parentElement=_23;this.id=id;this.bind=_29;this.action=_27;this.mode=_28;this.method=_26;this.mediatype=_2a;this.encoding=_2b;this.ref=ref;this.target=_2d;this.replace=_2e;this.instance=_2f;this.customHandler=_30;this.errorHandler=_31;this.processMsg=_33;this.soapaction=_32;this.startTime=null;this.endTime=null;this.processStatus=0;this.singleMode=_36;this.hideProcessMsg=_37;this.linkedObj=[];if(_34!=null&&_34.length>0){$W._c.addUserEvents(this,_34);}this.timeout=_35;this.setRequestData=function(_38){this.requestData=_38;};}catch(e){$W.exception.printStackTrace(e);}};$W.Model.Submission.inherit($W.WebSquareObject);$W.Model.Workflow=function(_39,_3a,id,_3c,_3d,_3e,_3f){["WebSquare.Model.Workflow"];try{$W.WebSquareObject.call(this,_3a,true);this.parentElement=_39;this.id=id;this.resolveCallback=_3c||null;this.rejectCallback=_3d||null;this.processMsg=_3e;this.step=_3f;this.promiseStatus=null;this.promiseValue=null;this.conditionStatus=true;this.reject=function(msg){this.promiseStatus="REJECT";this.promiseValue=msg||"REJECT";};}catch(e){$W.exception.printStackTrace(e);}};$W.Model.Workflow.inherit($W.WebSquareObject);$W._e={};$W._e.WebSquareAction=function(_1){["WebSquare.Actions.WebSquareAction"];try{if(arguments.length==0){return;}$W.WebSquareObject.call(this,_1,true);}catch(e){$W.exception.printStackTrace(e);}};$W._e.WebSquareAction.inherit($W.WebSquareObject);$W._e.WebSquareAction.prototype.execute=function(){["WebSquare.Actions.WebSquareAction.execute"];};$W._e.WebSquareAction.prototype.activate=function(){["WebSquare.Actions.WebSquareAction.activate"];};$W._e.WebSquareSendAction=function(_2,_3){["WebSquare.Actions.WebSquareSendAction"];try{$W._e.WebSquareAction.call(this,_2);this.submission=_3;}catch(e){$W.exception.printStackTrace(e);}};$W._e.WebSquareSendAction.inherit($W._e.WebSquareAction);$W._e.WebSquareSendAction.prototype.activate=function(){["WebSquare.Actions.WebSquareSendAction.activate"];$W._J.executeSubmission(this.submission);};$W._e.WebSquareSendAction.prototype.toString=function(){["WebSquare.Actions.WebSquareSendAction.activate"];return "send";};$W._e.WebSquarePopupAction=function(_4){["WebSquare.Actions.WebSquarePopupAction"];try{this.popupName=$W._G.getObjectValue(_4,"popupName","WebSquarePopup");this.useIFrame=$W._G.getObjectValue(_4,"useIFrame","false");this.style=$W._G.getObjectValue(_4,"style","");this.modal=$W._G.getObjectValue(_4,"modal","true");this.src=$W._G.getObjectValue(_4,"src","");this.srcModelID=$W._G.getObjectValue(_4,"srcModelID","");this.destModelID=$W._G.getObjectValue(_4,"destModelID","");this.srcData=$W._G.getObjectValue(_4,"srcData","");this.destData=$W._G.getObjectValue(_4,"destData","");this.url=$W._G.getObjectValue(_4,"url","");this.id=$W._G.getObjectValue(_4,"id","WebSquarePopup");this.type=$W._G.getObjectValue(_4,"type","window");if(this.style==""){if(this.useIFrame=="true"){this.style="top:100px; left:100px; width:420px; height:200px";}else{this.style="top:100px; left:100px; width:420px; height:200px;scrollbars:yes; resizable:yes; location:no; menubar:no; status:no; titlebar:yes; toolbar:no";}}}catch(e){$W.exception.printStackTrace(e);}};$W._e.WebSquarePopupAction.inherit($W._e.WebSquareAction);$W._e.WebSquarePopupAction.prototype.activate=function(){["WebSquare.Actions.WebSquarePopupAction.activate"];try{requires("uiplugin.popup");var _5=new $W._a.aK(this.id,this.type,this);_5.show();}catch(e){$W.exception.printStackTrace(e);}};$W._e.WebSquareUploadAction=function(_6){["WebSquare.Actions.WebSquareUploadAction"];try{this.bind=$W._G.getObjectValue(_6,"bind",null);if(typeof this.bind=="undefined"||this.bind==null||this.bind==""){this.xpath=$W._G.getObjectValue(_6,"xpath",undefined);}else{var _7=$W._J.getBind(this.bind);if(typeof _7!="undefined"&&_7!=null){this.xpath=$W._G.getObjectValue(_7,"xpath",undefined);}}this.modelID=$W._G.getObjectValue(_6,"modelID",null);this.fileNumber=$W._G.getObjectValue(_6,"fileNumber",1);this.mode=$W._G.getObjectValue(_6,"mode",1);this.title=$W._G.getObjectValue(_6,"title","");this.message=$W._G.getObjectValue(_6,"message","");this.url=$W._G.getObjectValue(_6,"url",undefined);this.popupType=$W._G.getObjectValue(_6,"popupType","true");this.popupName=$W._G.getObjectValue(_6,"popupName","Upload");this.modal=$W._G.getObjectValue(_6,"modal","true");this.style=$W._G.getObjectValue(_6,"style","");if(this.style==""){if(this.popupType=="true"){this.style="top:100px; left:100px; width:420px; height:200px";}else{this.style="top:100px; left:100px; width:420px; height:200px;scrollbars:yes; resizable:yes; location:no; menubar:no; status:no; titlebar:yes; toolbar:no";}}}catch(e){$W.exception.printStackTrace(e);}};$W._e.WebSquareUploadAction.inherit($W._e.WebSquareAction);$W._e.WebSquareUploadAction.prototype.activate=function(){["WebSquare.Actions.WebSquareUploadAction.activate"];requires("uiplugin.popup");var _8={};if(typeof this.url!="undefined"&&this.url!=null&&this.url.wq_trim()!=""){_8.src=this.url;}else{_8.src=$W.baseURI+"uiplugin/upload/upload.xml";}_8.useIFrame=this.popupType;_8.style=this.style;_8.popupName=this.popupName;_8.modal=this.modal;this.files=$W._J.getInstanceValue(this.xpath+"/fileList");this.fileKey=$W._J.getInstanceValue(this.xpath+"/key");var _9=$W._G.objToXML(this);var _a=new $W._a.aK("uploadPopup","window",_8,_9);_a.show();};$W._e.WebSquareSetValueAction=function(_b,_c,_d,_e,id,_10){["WebSquare.Actions.WebSquareSetValueAction"];try{$W._e.WebSquareAction.call(this,_b);this.bind=_c;if(_c==null){this.xpath=_d;}else{this.xpath=_c.xpath;}this.value=_e;this.id=id;this.modelID=_10;}catch(e){$W.exception.printStackTrace(e);}};$W._e.WebSquareSetValueAction.inherit($W._e.WebSquareAction);$W._e.WebSquareSetValueAction.prototype.activate=function(){["WebSquare.Actions.WebSquareSetValueAction.activate"];try{var v=$W._J.findInstanceNode(this.xpath,this.modelID);if(v==null){return false;}var obfuscator_targetNode=null;if(v.nodeType==1){for(var _12=v.firstChild;_12!=null;_12=_12.nextSibling){if(_12.nodeType==3){obfuscator_targetNode=_12;break;}}}else{obfuscator_targetNode=v;}if(obfuscator_targetNode==null){obfuscator_targetNode=v.ownerDocument.createTextNode(this.value);$W._B.appendChild(v,obfuscator_targetNode);}var _13=eval("obfuscator_targetNode");_13.nodeValue=this.value;$W.WebSquaredoc.detectChange(this.xpath,this.id,this.modelID);}catch(e){$W.exception.printStackTrace(e);}};$W._e.WebSquareSetValueAction.prototype.toString=function(){["WebSquare.Actions.WebSquareSetValueAction.toString"];try{return "setValue";}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.Actions=$W._e;(function(){var _1;if(typeof window==="object"&&window){_1=window;}else{_1=global;}if(typeof module!=="undefined"&&module.exports){module.exports=_1.Promise?_1.Promise:Promise;}else{if(!_1.Promise){_1.Promise=Promise;}}var _2=_1.setImmediate||function(fn){setTimeout(fn,1);};function bind(fn,_5){return function(){fn.apply(_5,arguments);};}var _6=Array.isArray||function(_7){return Object.prototype.toString.call(_7)==="[object Array]";};function Promise(fn){if(typeof this!=="object"){throw new TypeError("Promises must be constructed via new");}if(typeof fn!=="function"){throw new TypeError("not a function");}this._state=null;this._value=null;this._deferreds=[];doResolve(fn,bind(resolve,this),bind(reject,this));}function handle(_9){var me=this;if(this._state===null){this._deferreds.push(_9);return;}_2(function(){var cb=me._state?_9.onFulfilled:_9.onRejected;if(cb===null){(me._state?_9.resolve:_9.reject)(me._value);return;}var _c;try{_c=cb(me._value);}catch(e){_9.reject(e);return;}_9.resolve(_c);});}function resolve(_d){try{if(_d===this){throw new TypeError("A promise cannot be resolved with itself.");}if(_d&&(typeof _d==="object"||typeof _d==="function")){var _e=_d.then;if(typeof _e==="function"){doResolve(bind(_e,_d),bind(resolve,this),bind(reject,this));return;}}this._state=true;this._value=_d;finale.call(this);}catch(e){reject.call(this,e);}}function reject(_f){this._state=false;this._value=_f;finale.call(this);}function finale(){for(var i=0,len=this._deferreds.length;i<len;i++){handle.call(this,this._deferreds[i]);}this._deferreds=null;}function Handler(_11,_12,_13,_14){this.onFulfilled=typeof _11==="function"?_11:null;this.onRejected=typeof _12==="function"?_12:null;this.resolve=_13;this.reject=_14;}function doResolve(fn,_16,_17){var _18=false;try{fn(function(_19){if(_18){return;}_18=true;_16(_19);},function(_1a){if(_18){return;}_18=true;_17(_1a);});}catch(ex){if(_18){return;}_18=true;_17(ex);}}Promise.prototype["catch"]=function(_1b){return this.then(null,_1b);};Promise.prototype.then=function(_1c,_1d){var me=this;return new Promise(function(_1f,_20){handle.call(me,new Handler(_1c,_1d,_1f,_20));});};Promise.all=function(){var _21=Array.prototype.slice.call(arguments.length===1&&_6(arguments[0])?arguments[0]:arguments);return new Promise(function(_22,_23){if(_21.length===0){return _22([]);}var _24=_21.length;function res(i,val){try{if(val&&(typeof val==="object"||typeof val==="function")){var _27=val.then;if(typeof _27==="function"){_27.call(val,function(val){res(i,val);},_23);return;}}_21[i]=val;if(--_24===0){_22(_21);}}catch(ex){_23(ex);}}for(var i=0;i<_21.length;i++){res(i,_21[i]);}});};Promise.resolve=function(_2a){if(_2a&&typeof _2a==="object"&&_2a.constructor===Promise){return _2a;}return new Promise(function(_2b){_2b(_2a);});};Promise.reject=function(_2c){return new Promise(function(_2d,_2e){_2e(_2c);});};Promise.race=function(_2f){return new Promise(function(_30,_31){for(var i=0,len=_2f.length;i<len;i++){_2f[i].then(_30,_31);}});};})();(function(){$W._J={};$W._J.setBindElement=function(_33,id,_35){var _36=$W._J.getModelByID(_35);var _37=_36.instances[0].id;if(!_33.startsWith("instance(")&&_37!=null){_33=$W._J.concatInstanceFunction(_33,_37);}else{if(_33.indexOf("\"")>-1){_33=_33.replace("\"","'");}}if(typeof $W.WebSquaredoc.boundElementCache[_33]=="undefined"||$W.WebSquaredoc.boundElementCache[_33]==null){$W.WebSquaredoc.boundElementCache[_33]={};}$W.WebSquaredoc.boundElementCache[_33][id]=id;};$W._J.setItemsetElement=function(_38,id,_3a){var _3b=$W._J.getModelByID(_3a);var _3c=_3b.instances[0].id;if(!_38.startsWith("instance(")&&_3c!=null){_38=$W._J.concatInstanceFunction(_38,_3c);}else{if(_38.indexOf("\"")>-1){_38=_38.replace("\"","'");}}if(typeof $W.WebSquaredoc.boundElementCache[_38]=="undefined"||$W.WebSquaredoc.boundElementCache[_38]==null){$W.WebSquaredoc.boundElementCache[_38]={};}$W.WebSquaredoc.boundElementCache[_38][id]=id;};$W._J.getBind=function(_3d,_3e){["WebSquare.ModelUtil.getBind"];try{var _3f=$W._J.getModelByID(_3e);for(var i in _3f.binds){var _41=$W.WebSquaredoc.models[0].binds[i];if(_41.id==_3d){return _41;}}return null;}catch(e){$W.exception.printStackTrace(e);}};$W._J.filterInstanceFunction=function(_42){if(_42.startsWith("instance(")){_42=_42.substring(_42.indexOf(")")+2,_42.length);}return _42;};$W._J.concatInstanceFunction=function(_43,_44){var str=_43;if(!_43.startsWith("instance(")){str="instance('"+_44+"')"+"/"+_43;}return str;};$W._J.findInstanceNode=function(_46,_47){["WebSquare.ModelUtil.findInstanceNode"];try{var _48=$W._J.getInstanceByXPath(_46,_47);_46=$W._J.filterInstanceFunction(_46);var v=$W._B.findNode(_48.document,_46);return v;}catch(e){$W.exception.printStackTrace(e);}};$W._J.findSerializedNode=function(_4a,_4b){["WebSquare.ModelUtil.findInstanceNode"];try{return $W._B.serialize($W._J.findInstanceNode(_4a,_4b));}catch(e){$W.exception.printStackTrace(e);}};$W._J.findInstanceNodes=function(_4c,_4d){["WebSquare.ModelUtil.findInstanceNode"];try{var _4e=$W._J.getInstanceByXPath(_4c,_4d);_4c=$W._J.filterInstanceFunction(_4c);var v=$W._B.findNodes(_4e.document,_4c);return v;}catch(e){$W.exception.printStackTrace(e);}};$W._J.getInstanceValue=function(_50,_51){["WebSquare.ModelUtil.getInstanceValue"];try{var str="";var v=$W._J.findInstanceNode(_50,_51);if(v==null){return "";}if(v.nodeType==1){for(var _54=v.firstChild;_54!=null;_54=_54.nextSibling){if(_54.nodeType==3||_54.nodeType==4){str+=_54.nodeValue;}}}else{return v.nodeValue;}return str;}catch(e){$W.exception.printStackTrace(e);}};$W._J.setInstanceValue=function(_55,_56,_57){["WebSquare.ModelUtil.setInstanceValue"];return $W._J._setInstanceValue({"xpath":_55,"value":_56,"modelID":_57});};$W._J._setInstanceValue=function(obj){["WebSquare.ModelUtil._setInstanceValue"];try{var _59=obj.xpath;var _5a=obj.value;var _5b=obj.modelID;var _5c=!!obj.noRefresh;var _5d=$W._J.getInstanceByXPath(_59,_5b);_5a=(typeof _5a=="undefined"||_5a==null)?"":_5a+"";if(_59.lastIndexOf("/@")!=-1&&_59.lastIndexOf("/")==_59.lastIndexOf("/@")){var _5e=_59.lastIndexOf("/@");var _5f=_59.substring(_5e+2);var _60=_59.substring(0,_5e);var obfuscator_v=$W._J.findInstanceNode(_60,_5b);if(obfuscator_v==null){var _61=$W._B.createNode(_5d.document,_60);if(_61==null){return false;}_61.setAttribute(_5f,_5a);}else{obfuscator_v.setAttribute(_5f,_5a);}if(!_5c){$W.WebSquaredoc.detectChange(_59,undefined,_5b);}}else{var _61=$W._J.findInstanceNode(_59,_5b);if(_61==null){var _61=$W._B.createNode(_5d.document,_59);if(_61==null){return false;}}if(_61.firstChild==null){var _62=_61.ownerDocument.createTextNode(_5a);$W._B.appendChild(_61,_62);}else{_61.firstChild.nodeValue=_5a;}if(!_5c){$W.WebSquaredoc.detectChange(_59,undefined,_5b);}}}catch(e){$l("ERROR["+_59+"] ["+_5a+"] at WebSquare.ModelUtil.setInstanceValue ");$W.exception.printStackTrace(e);return false;}return true;};$W._J.getModelByID=function(_63){if(typeof _63!="undefined"&&_63!=null&&_63!=""){for(var k=0;k<$W.WebSquaredoc.models.length;k++){if($W.WebSquaredoc.models[k].id==_63){return $W.WebSquaredoc.models[k];}}}else{return $W.WebSquaredoc.models[0];}return null;};$W._J.getInstanceByXPath=function(_65,_66){var _67=$W._J.getModelByID(_66);var _65=_65.wq_trim();if(_65.startsWith("instance(")){var a=_65.indexOf("(");var b=_65.indexOf(")");var _6a=eval(_65.substring(a+1,b));for(var i in _67.instances){var _6c=_67.instances[i];if(_6c.id==_6a){return _6c;}}return _67.instances[0];}else{return _67.instances[0];}};$W._J.getInstanceByID=function(id,_6e){var _6f=$W._J.getModelByID(_6e);try{for(var i in _6f.instances){var _71=_6f.instances[i];if(_71.id==id){return _71;}}}catch(e){$W.exception.printStackTrace(e);}return _6f.instances[0];};$W._J.getSubmission=function(id,_73){["WebSquare.ModelUtil.getSubmission"];try{var _74=$W._J.getModelByID(_73);var ret=null;for(var i in _74.submissions){var _77=_74.submissions[i];if(_77.id==id){ret=_77;if($W.scope_obj&&$W.scope_obj!=_77.scope_obj){continue;}break;}}return ret;}catch(e){$W.exception.printStackTrace(e);}};$W._J.executeSubmission=function(_78,_79,obj,_7b,_7c){["WebSquare.ModelUtil.executeSubmission"];$W.logger.printLog("WebSquare.ModelUtil.executeSubmission : "+_78);if(_78==null||_78==""){return;}try{var obfuscator_submissionObj=null;if(typeof _78=="string"){obfuscator_submissionObj=$W._J.getSubmission(_78);if(obfuscator_submissionObj==null){alert($W._m.getMessage("E_ModelUtil_NoSubmissionObjectWithID",_78));if(_7c!=undefined){_7c($W._m.getMessage("E_ModelUtil_NoSubmissionObjectWithID",_78));}return null;}}else{obfuscator_submissionObj=_78;if(obfuscator_submissionObj==null){alert($W._m.getMessage("E_ModelUtil_NoSubmissionObject",_78));if(_7c!=undefined){_7c($W._m.getMessage("E_ModelUtil_NoSubmissionObject",_78));}return null;}}$W._J.setSubmissionStart(obfuscator_submissionObj,obj);if(typeof _79!="undefined"){obfuscator_submissionObj.setRequestData(_79);}var _7d=$W._N.getConfiguration("/WebSquare/submission/customHandler/@value")||"";if(typeof obfuscator_submissionObj.customHandler!="undefined"){_7d=obfuscator_submissionObj.customHandler;}if(_7d==""||_7d=="default"){$W._J.defaultSubmissionHandler(obfuscator_submissionObj,_7b,_7c);}else{if(_7d.toLowerCase()=="proworks_soap"){$W._J.proworksSOAPHandler(obfuscator_submissionObj);}else{if(_7d){if(typeof _7d=="function"){_7d(obfuscator_submissionObj,_7b,_7c);}else{var _7e=$W._G.getGlobalFunction(_7d);_7e(obfuscator_submissionObj,_7b,_7c);}}else{$W._J.defaultSubmissionHandler(obfuscator_submissionObj,_7b,_7c);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._J.createSubmission=function(_7f,_80){["WebSquare.ModelUtil.createSubmission"];try{var _81={};_81.id=_7f.id;_81.bind=_7f.bind||null;_81.action=_7f.action||$W._N.getConfiguration("/WebSquare/submission/action/@value");_81.mode=_7f.mode||$W._N.getConfiguration("/WebSquare/submission/mode/@value")||"asynchronous";_81.method=_7f.method||$W._N.getConfiguration("/WebSquare/submission/method/@value")||"POST";_81.mediatype=_7f.mediatype||$W._N.getConfiguration("/WebSquare/submission/mediatype/@value");_81.encoding=_7f.encoding||$W._N.getConfiguration("/WebSquare/submission/encoding/@value")||"UTF-8";_81.ref=_7f.ref||"";_81.target=_7f.target;_81.replace=_7f.replace;_81.instance=_7f.instance;_81.customHandler=_7f.customHandler||"";_81.errorHandler=_7f.errorHandler||$W._N.getConfiguration("/WebSquare/submission/errorHandler/@value");_81.processMsg=_7f.processMsg||$W._N.getConfiguration("/WebSquare/submission/processMsg/@value");_81.soapaction=_7f.soapaction||"";_81.startTime=null;_81.endTime=null;_81.processStatus=0;_81.linkedObj=[];_81.timeout=_7f.timeout||$W._N.getConfiguration("/WebSquare/submission/timeout/@value");_81.singlemode=_7f.singleMode||false;_81.hideProcessMsg=(_7f.hideProcessMsg===false||(_7f.hideProcessMsg!==true&&$W._N.getConfiguration("/WebSquare/submission/hideProcessMsg/@value")==="false"))?false:true;_81.setRequestData=function(_82){_81.requestData=_82;};_81.userEventList=[];var _83=_7f.submitHandler;if(typeof _83=="string"){_83=eval(_83);}var _84=_7f.submitDoneHandler;if(typeof _84=="string"){_84=eval(_84);}var _85=_7f.submitErrorHandler;if(typeof _85=="string"){_85=eval(_85);}_81.userEventList.push(new $W._L.XmlEvent("xforms-submit","script",{"handler":_83}));_81.userEventList.push(new $W._L.XmlEvent("xforms-submit-done","script",{"handler":_84}));_81.userEventList.push(new $W._L.XmlEvent("xforms-submit-error","script",{"handler":_85}));if(_81.mediatype==""){if(_81.method=="post"||_81.method=="POST"){_81.mediatype="application/xml";}}var _86=$W._J.getModelByID(_80);_81.parentElement=_86.xmlNode;_86.submissions.unshift(_81);}catch(e){$W.exception.printStackTrace(e);}};$W._J.deleteSubmission=function(_87,_88){["WebSquare.ModelUtil.deleteSubmission"];try{var _89=$W._J.getModelByID(_88).submissions;var ret=null;for(var i=0;i<_89.length;i++){if(_89[i].id===_87){ret=_89[i];_89[i].parentElement=null;_89.splice(i,1);break;}}return ret;}catch(e){$W.exception.printStackTrace(e);}};$W._J.proworksSOAPHandler=function(_8c){["WebSquare.ModelUtil.proworksSOAPHandler"];try{var _8d=_8c.id;var _8e={"id":_8d};if(_8c.processMsg!=""){$W.layer.addSubmissionMessage(_8d,_8c.processMsg);}var ret=$W._c.fireEvent(_8c,"xforms-submit",_8e);if(typeof ret!="undefined"&&ret==false){$W.logger.printLog("xforms-submit event\uc5d0\uc11c return\uc774 false\uc774\ubbc0\ub85c \ucc98\ub9ac\ub97c \uc911\ub2e8. : "+_8d);$W._J.setSubmissionEnd(_8c,"submission complete",null);$W.layer.deleteSubmissionMessage(_8d);return;}$W._J.doSubmitPreFunc(_8c);var obfuscator_http=$W._N.getXMLHTTPObject();var url=$W._G.getSubmissionURL(_8c.action);var _91=(_8c.mode=="synchronous")?false:true;var ref=_8c.ref;var _93=_8c.bind;var _94=_8c.target;var _95=_8c.replace;var _96=_8c.instance;var _97=_8c.encoding;var _98=_8c.mediatype;var _99=_8c.method;var _9a=_8c.action;var _9b=_8c.errorHandler;var _9c=_8c.requestData;var _9d=_8c.soapaction;var _9e=_8c.timeout;var _9f=null;if(_96!=""){var _a0=_8c.parentElement.getAttribute("id");if(_a0==null||_a0==""){_9f=$W._J.getInstanceByID(_96).document;}else{_9f=$W._J.getInstanceByID(_96,_a0).document;}}else{_9f=$W._B.getElementsByTagName(_8c.parentElement,"data")[0];}var e=null;if(typeof _9c!="undefined"&&_9c!=null){e=_9c;}else{if(ref==""){e=_9f;}else{e=$W._B.createNode(_9f,ref);}}var _a2=$W._B.serialize(e);var xml="<soapenv:Envelope soapenv:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns=\"\" xmlns:apachsoap=\"http://xml.apache.org/xml-soap\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"><soapenv:Header/><soapenv:Body><perform><in0>"+$W._B.encode(_a2)+"</in0></perform></soapenv:Body></soapenv:Envelope>";if(_99=="get"||_99=="urlencoded-post"){url+="?"+xml;xml="";}obfuscator_http.open(_99,url,_91);obfuscator_http.setRequestHeader("soapaction","\""+_9d+"\"");obfuscator_http.setRequestHeader("Content-Type",_98+"; charset=\""+_97+"\"");obfuscator_http.setRequestHeader("Accept",_98);obfuscator_http.setRequestHeader("submissionid",_8d);var _a4;if(_91){if(_9e){_a4=window.setTimeout(function(){obfuscator_http.onreadystatechange=function(){};obfuscator_http.abort();var _a5={"id":_8d,"errorType":"timeout-error","resourceUri":url,"time":_9e};$W._J.setSubmissionEnd(_8c,"submission error",_a5);$W.layer.deleteSubmissionMessage(_8d);$W._c.fireEvent(_8c,"xforms-submit-timeout",_a5);window.clearTimeout(_a4);return;},_9e);}obfuscator_http.onreadystatechange=function(){$W._J.soapcallback(obfuscator_http,_8c,_a4);};}obfuscator_http.send($W.requestID+xml);if(!_91){if((obfuscator_http["status"])&&((200>obfuscator_http.status)||(300<=obfuscator_http.status))){var _a6={"id":_8d,"errorType":"resource-error","resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":$W._B.parse(_a2),"responseBody":obfuscator_http.responseText};$W._J.setSubmissionEnd(_8c,"submission error",_a6);$W.layer.deleteSubmissionMessage(_8d);$W._c.fireEvent(_8c,"xforms-submit-error",_a6);if($W.logger.globalDebug1||(typeof $W.logger.getGlobalDebug=="function"&&$W.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_91+"\nref          : "+ref+"\nbind         : "+_93+"\ntarget       : "+_94+"\nreplace      : "+_95+"\ninstance     : "+_96+"\nencoding     : "+_97+"\nmediatype    : "+_98+"\nmethod       : "+_99+"\naction       : "+_9a+"\nerrorHandler : "+_9b+"\nsoapaction   : "+_9d+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+$W._J.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");$W.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Sync Mode)");}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;return;}var obfuscator_xmlDocument=$W._J.getSoapReturn($W._B.parse(obfuscator_http.responseText));if(_9b!=""&&eval(_9b+"( obfuscator_xmlDocument )")){var _a6={"id":_8d,"errorType":"target-error","resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":$W._B.parse(_a2),"responseBody":obfuscator_xmlDocument};$W._J.setSubmissionEnd(_8c,"submission error",_a6);$W.layer.deleteSubmissionMessage(_8d);$W._c.fireEvent(_8c,"xforms-submit-error",_a6);if($W.logger.globalDebug1||(typeof $W.logger.getGlobalDebug=="function"&&$W.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_91+"\nref          : "+ref+"\nbind         : "+_93+"\ntarget       : "+_94+"\nreplace      : "+_95+"\ninstance     : "+_96+"\nencoding     : "+_97+"\nmediatype    : "+_98+"\nmethod       : "+_99+"\naction       : "+_9a+"\nerrorHandler : "+_9b+"\nsoapaction   : "+_9d+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+$W._J.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");$W.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Sync Mode)");}}else{if(_95=="instance"){$W.WebSquaredoc.models[0].rebuild($W._B.parse($W._B.serialize(obfuscator_xmlDocument)),_94);$W.WebSquaredoc.models[0].refresh();}else{if(_95=="text"){$W.WebSquaredoc.models[0].rebuild($W._B.serialize(obfuscator_xmlDocument),_94);$W.WebSquaredoc.models[0].refresh();}else{if(_95=="none"){}else{while(document.body.hasChildNodes()){$W.discardElement(document.body.firstChild);}$W.WebSquaredoc=null;$W.WebSquaredoc=new $W.WebSquareDocument(obfuscator_xmlDocument);$W.WebSquaredoc.parsing();}}}var _a9={"id":_8d,"resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":$W._B.parse(_a2),"responseBody":obfuscator_xmlDocument};$W._J.setSubmissionEnd(_8c,"submission done",_a9);$W.layer.deleteSubmissionMessage(_8d);$W._c.fireEvent(_8c,"xforms-submit-done",_a9);if($W.logger.globalDebug1||(typeof $W.logger.getGlobalDebug=="function"&&$W.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_91+"\nref          : "+ref+"\nbind         : "+_93+"\ntarget       : "+_94+"\nreplace      : "+_95+"\ninstance     : "+_96+"\nencoding     : "+_97+"\nmediatype    : "+_98+"\nmethod       : "+_99+"\naction       : "+_9a+"\nerrorHandler : "+_9b+"\nsoapaction   : "+_9d+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+$W._J.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");$W.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Sync Mode)");}}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;}}catch(e){$W.layer.hideProcessMessage();}};$W._J.defaultcallback=function(obfuscator_http,_aa,_ab,_ac,_ad,_ae){try{if(_aa.dead===true){obfuscator_http.onreadystatechange=function(){};obfuscator_http.abort();$W._J.setSubmissionEnd(_aa);$W.layer.deleteSubmissionMessage(_aa.id);$W.logger.printLog("submission ["+_aa.id+"] is aborted by page move(url changed).");return;}if(obfuscator_http.readyState==4){if(_ab){window.clearTimeout(_ab);window.clearInterval(_ab);_ab=null;}if(_ad==undefined){commonResponseHandler(_aa,obfuscator_http,"async mode",_ac,_ad,_ae);if(_aa.hideProcessMsg!==false){setTimeout(function(){$W._J.deleteMessage(_aa.id);},50);}}else{_ad([_aa,obfuscator_http,_ac]);}}}catch(e){$W.exception.printStackTrace(e);$W.layer.hideProcessMessage();}};$W._J.soapcallback=function(obfuscator_http,_af,_b0){try{var _b1=_af.id;var _b2={"id":_b1};var url=$W._G.getSubmissionURL(_af.action);var _b4=(_af.mode=="synchronous")?false:true;var ref=_af.ref;var _b6=_af.bind;var _b7=_af.target;var _b8=_af.replace;var _b9=_af.instance;var _ba=_af.encoding;var _bb=_af.mediatype;var _bc=_af.method;var _bd=_af.action;var _be=_af.errorHandler;var _bf=_af.requestData;var _c0=_af.soapaction;var _c1=_af.timeout;var _c2=null;if(_b9!=""){var _c3=_af.parentElement.getAttribute("id");if(_c3==null||_c3==""){_c2=$W._J.getInstanceByID(_b9).document;}else{_c2=$W._J.getInstanceByID(_b9,_c3).document;}}else{_c2=$W._B.getElementsByTagName(_af.parentElement,"data")[0];}var e=null;if(typeof _bf!="undefined"&&_bf!=null){e=_bf;}else{if(ref==""){e=_c2;}else{e=$W._B.createNode(_c2,ref);}}var xml=$W._B.serialize(e);if(obfuscator_http.readyState==4){if(_b0){window.clearTimeout(_b0);_b0=null;}if((obfuscator_http)&&((200>obfuscator_http.status)||(300<=obfuscator_http.status))){var _c6={"id":_b1,"errorType":"resource-error","resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":$W._B.parse(tmpxml),"responseBody":obfuscator_http.responseText};$W._J.setSubmissionEnd(_af,"submission error",_c6);$W.layer.deleteSubmissionMessage(_b1);$W._c.fireEvent(_af,"xforms-submit-error",_c6);if($W.logger.globalDebug1||(typeof $W.logger.getGlobalDebug=="function"&&$W.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_b4+"\nref          : "+ref+"\nbind         : "+_b6+"\ntarget       : "+_b7+"\nreplace      : "+_b8+"\ninstance     : "+_b9+"\nencoding     : "+_ba+"\nmediatype    : "+_bb+"\nmethod       : "+_bc+"\naction       : "+_bd+"\nerrorHandler : "+_be+"\nsoapaction   : "+_c0+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+$W._J.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");$W.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Async Mode)");}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;return;}var obfuscator_xmlDocument=$W._J.getSoapReturn($W._B.parse(obfuscator_http.responseText));if(_be!=""&&eval(_be+"( obfuscator_xmlDocument )")){var _c6={"id":_b1,"errorType":"target-error","resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":$W._B.parse(tmpxml),"responseBody":obfuscator_xmlDocument};$W._J.setSubmissionEnd(_af,"submission error",_c6);$W.layer.deleteSubmissionMessage(_b1);$W._c.fireEvent(_af,"xforms-submit-error",_c6);if($W.logger.globalDebug1||(typeof $W.logger.getGlobalDebug=="function"&&$W.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_b4+"\nref          : "+ref+"\nbind         : "+_b6+"\ntarget       : "+_b7+"\nreplace      : "+_b8+"\ninstance     : "+_b9+"\nencoding     : "+_ba+"\nmediatype    : "+_bb+"\nmethod       : "+_bc+"\naction       : "+_bd+"\nerrorHandler : "+_be+"\nsoapaction   : "+_c0+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+$W._J.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");$W.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Async Mode)");}}else{if(_b8=="instance"){$W.WebSquaredoc.models[0].rebuild($W._B.parse($W._B.serialize(obfuscator_xmlDocument)),_b7);$W.WebSquaredoc.models[0].refresh();}else{if(_b8=="text"){$W.WebSquaredoc.models[0].rebuild($W._B.serialize(obfuscator_xmlDocument),_b7);$W.WebSquaredoc.models[0].refresh();}else{if(_b8=="none"){}else{while(document.body.hasChildNodes()){$W.discardElement(document.body.firstChild);}$W.WebSquaredoc=null;$W.WebSquaredoc=new $W.WebSquareDocument(obfuscator_xmlDocument);$W.WebSquaredoc.parsing();}}}var _c9={"id":_b1,"resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":$W._B.parse(tmpxml),"responseBody":obfuscator_xmlDocument};$W._J.setSubmissionEnd(_af,"submission error",_c9);$W.layer.deleteSubmissionMessage(_b1);$W._c.fireEvent(_af,"xforms-submit-done",_c9);if($W.logger.globalDebug1||(typeof $W.logger.getGlobalDebug=="function"&&$W.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_b4+"\nref          : "+ref+"\nbind         : "+_b6+"\ntarget       : "+_b7+"\nreplace      : "+_b8+"\ninstance     : "+_b9+"\nencoding     : "+_ba+"\nmediatype    : "+_bb+"\nmethod       : "+_bc+"\naction       : "+_bd+"\nerrorHandler : "+_be+"\nsoapaction   : "+_c0+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+$W._J.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");$W.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Async Mode)");}}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;}}catch(e){$W.exception.printStackTrace(e);$W.layer.hideProcessMessage();}};$W._J.getSoapReturn=function(_ca){var _cb=_ca.documentElement;var _cc=_cb.childNodes;for(var i=0;i<_cc.length;i++){var _ce=_cc.item(i);if($W._B.getLocalName(_ce)=="Body"){var _cf=_ce.childNodes;for(var j=0;j<_cf.length;j++){var _d1=_cf.item(j);if($W._B.getLocalName(_d1)=="performResponse"){var _d2=_d1.childNodes;for(var k=0;k<_d2.length;k++){var _d4=_d2.item(k);if($W._B.getLocalName(_d4)=="performReturn"){var _d5=_d4.childNodes;for(var l=0;l<_d5.length;l++){var _d7=_d5.item(l);if(_d7.nodeType==3){return $W._B.parse(_d7.nodeValue);}}}}}}}}return null;};$W._J.setSubmissionEnd=function(_d8,_d9,_da){_d8.endTime=new Date();_d8.processStatus=0;for(var i=0;i<_d8.linkedObj.length;i++){if(_d8.linkedObj[i].setDisabled){_d8.linkedObj[i].setDisabled(false);}}_d8.linkedObj=[];var _dc=$W._N.getConfiguration("/WebSquare/submission/showSubmissionTime/@value");if(_dc=="true"){var _dd=_d8.startTime.getHours()+":"+_d8.startTime.getMinutes()+":"+_d8.startTime.getSeconds()+":"+_d8.startTime.getMilliseconds();var _de=_d8.endTime.getHours()+":"+_d8.endTime.getMinutes()+":"+_d8.endTime.getSeconds()+":"+_d8.endTime.getMilliseconds();var _df="submission id["+_d8.id+"] start["+_dd+"] end["+_de+"] duration["+(_d8.endTime-_d8.startTime)+"ms]";$W.logger.printLog(_df);$W.ax_logger(_df);}if(_da!=null){var _e0=$W._N.getConfiguration("/WebSquare/submission/callbackSubmitFunction/@value");try{var obfuscator_eventObj=_da;var _e1=eval(_e0);if(typeof _e1=="function"){try{_e1.call(this,_da,_d8);}catch(e){$W.exception.printStackTrace(e);}}}catch(e){}}};$W._J.setSubmissionStart=function(_e2,obj){_e2.startTime=new Date();_e2.processStatus=1;if(obj!=null&&obj.setDisabled){_e2.linkedObj.push(obj);obj.setDisabled(true);}};$W._J.doSubmitPreFunc=function(_e4){var _e5=$W._N.getConfiguration("/WebSquare/submission/preSubmitFunction/@value");if(_e5!=null&&_e5!=""){try{var obfuscator_eventObj=_e4;eval(_e5+"( obfuscator_eventObj );");}catch(e){}}};$W._J.getRefToReqData=function(_e6){_e6.requestData=null;return getReqData(_e6);};$W._J.defaultSubmissionHandler=function(_e7,_e8,_e9){["WebSquare.ModelUtil.defaultSubmissionHandler"];try{var _ea=_e7.id;var _eb={"id":_ea};if(_e8!=undefined){}if(_e7.processMsg!=""){$W.layer.addSubmissionMessage(_ea,_e7.processMsg);}var ret=$W._c.fireEvent(_e7,"xforms-submit",_eb);if(typeof ret!="undefined"&&ret==false){$W.logger.printLog("xforms-submit event\uc5d0\uc11c return\uc774 false\uc774\ubbc0\ub85c \ucc98\ub9ac\ub97c \uc911\ub2e8. : "+_ea);$W._J.setSubmissionEnd(_e7,"submission done",null);$W.layer.deleteSubmissionMessage(_ea);if(_e9!=undefined){_e9("xforms-submit event\uc5d0\uc11c return\uc774 false\uc774\ubbc0\ub85c \ucc98\ub9ac\ub97c \uc911\ub2e8. : "+_ea);}return;}$W._J.doSubmitPreFunc(_e7);var url=$W._G.getSubmissionURL(_e7.action);var _ee=(_e7.mode=="synchronous")?false:true;var _ef=_e7.bind;var _f0=_e7.target;var _f1=_e7.replace;var _f2=_e7.encoding||"utf-8";var _f3=_e7.mediatype||"application/xml";var _f4=_e7.method;var _f5=_e7.action;var _f6=_e7.errorHandler;var _f7=_e7.requestData;var _f8=_e7.soapaction;var _f9=_e7.timeout;var _fa=getReqData(_e7);var _fb=$W._G.getBoolean(_e7.singleMode);var _fc=false;if(typeof _fa!="undefined"){if(_fa.indexOf("http://schemas.xmlsoap.org/soap/envelope")>-1){_fc=true;}}if(_f1=="all"){if($W.requestID==""){$W.requestID="instanceValue";}try{var _fd=$W.document.createElement("form");if(!$W._G.isMobile()){_fd.encoding="text/plain";}_fd.action=url;_fd.method=_f4;_fd.style.display="inline";_fd.acceptCharset="UTF-8";var _fe=$W.document.createElement("input");_fe.type="hidden";_fe.name="targetInstance";if($W._N.uriEncoder){_fe.value=_f0;}else{_fe.value=encodeURIComponent(_f0);}_fd.appendChild(_fe);var _ff=$W.document.createElement("input");_ff.type="hidden";_ff.name="instanceValue";if($W._N.uriEncoder){_ff.value=_fa;}else{_ff.value=encodeURIComponent(_fa);}_fd.appendChild(_ff);$W.document.body.appendChild(_fd);_fd.submit();return;}catch(e){$W.exception.printStackTrace(e);}}$W.logger.printLog(url);var obfuscator_http=$W._N.getXMLHTTPObject();obfuscator_http.open(_f4,url,_ee);if(_fc){obfuscator_http.setRequestHeader("soapaction","\""+_f8+"\"");}if($W.requestID!=""){var _100=$W._N.getConfiguration("/WebSquare/submission/requestID/@mediatype");if(_100!=""){obfuscator_http.setRequestHeader("Content-Type",_100+"; charset=\"UTF-8\"");obfuscator_http.setRequestHeader("Accept",_100);}}else{obfuscator_http.setRequestHeader("Content-Type",_f3+"; charset=\""+_f2+"\"");obfuscator_http.setRequestHeader("Accept",_f3);}obfuscator_http.setRequestHeader("submissionid",_ea);var _101;if(_ee){if(_f9){_101=window.setTimeout(function(){obfuscator_http.onreadystatechange=function(){};obfuscator_http.abort();var _102={"id":_ea,"errorType":"timeout-error","resourceUri":url,"time":_f9};$W._J.setSubmissionEnd(_e7,"submission error",_102);$W.layer.deleteSubmissionMessage(_ea);$W._c.fireEvent(_e7,"xforms-submit-timeout",_102);window.clearTimeout(_101);if(_e9!=undefined){_e9(_102.errorType+" :: "+_ea);}return;},_f9);}obfuscator_http.onreadystatechange=function(){$W._J.defaultcallback(obfuscator_http,_e7,_101,_fa,_e8,_e9);};}var _103=$W._N.getConfiguration("/WebSquare/submission/externalHandler/@value")||"";if(_103==""||_103=="default"){}else{if(_103){if(typeof _103=="function"){_fa=_103(_fa);}else{var _104=eval(_103);if(_104){_fa=_104(_fa,_ea);}}}}if($W.requestID!=""){if($W._N.getConfiguration("/WebSquare/submission/requestID/@encodeURI")=="true"){obfuscator_http.send($W.requestID+encodeURIComponent(_fa));}else{obfuscator_http.send($W.requestID+_fa);}}else{obfuscator_http.send(_fa);}if(!_ee){commonResponseHandler(_e7,obfuscator_http,"sync mode",_fa);if(_e8!=undefined){_e8([_e7,obfuscator_http,_fa]);}}}catch(e){$W.exception.printStackTrace(e);$W.layer.hideProcessMessage();}};function getReqData(_105){var _106,ref=_105.ref,instance=_105.instance;var _107=_105.mediatype;var _108=_105.requestData;var _109=null;if(instance!=""){var _10a=_105.parentElement.getAttribute("id");if(_10a==null||_10a==""){_109=$W._J.getInstanceByID(instance).document;}else{_109=$W._J.getInstanceByID(instance,_10a).document;}}else{_109=$W._B.getElementsByTagName(_105.parentElement,"data")[0];}var e=null,instanceValue="",_106="",doc;if(typeof _108!="undefined"&&_108!=null){if(_107=="application/json"){if(typeof _108=="string"){_106=_108;}else{_106=JSON.stringify(_108);}}else{if(_107=="text/plain"){_106=_108;}else{_106=$W._B.serialize(_108);}}}else{var _10c=getCollectionCondition(ref);_10c.singleMode=$W._G.getBoolean(_105.singleMode);if(ref==""&&_107!="application/json"){e=_109;_106=$W._B.serialize(e);}else{if(_107=="application/json"){if(_10c.type!=""){if(_10c.condition!=""){var _10d=$w.data.get(_10c.type,_10c.condition,{"singleMode":_10c.singleMode});_106=JSON.stringify(_10d);}else{var _10d=$w.data.get(_10c.type);_106=JSON.stringify(_10d);}}else{if(ref==""){_106="";}else{if($W._J.getInstanceValue(ref).wq_trim().length>0){_106=$W._J.getInstanceValue(ref);}else{e=$W._B.createNode(_109,ref);doc=$W._B.parse($W._B.serialize(e));_106=$W._I.XML2JSONString(doc);}}}}else{if(_10c.type!=""){if(_10c.condition!=""){var _10d=$w.data.get(_10c.type,_10c.condition,{"singleMode":_10c.singleMode});_106=$W._B.serialize(_10d);}else{var _10d=$w.data.get(_10c.type);_106=$W._B.serialize(_10d);}}else{e=$W._B.createNode(_109,ref);_106=$W._B.serialize(e);}}}}return _106;}function getCollectionCondition(_10e){var _10f={};_10f.type="";_10f.condition="";var _110="";var _111=null;if(_10e.indexOf("data:")==0){_110=_10e.substr(5,_10e.length).wq_trim();if(_110.indexOf(",")>0){var _112=_110.indexOf(",");_10f.type=_110.substring(0,_112).wq_trim();var _113=_110.substring(_112+1,_110.length).wq_trim();if(_113.indexOf("'")>-1){_113=_113.wq_replaceAll("'","\"");}if(_113.indexOf("[")==0){_10f.condition=_113;}else{_10f.condition="["+_113+"]";}}else{_10f.type=_110;}}return _10f;}function setResponseObj(obj,_115,_116,obfuscator_responseObj,_117,_118){if(_115.indexOf("json")>-1){if(_116=="instance"){obj.responseBody=obfuscator_responseObj;}obj.responseJSON=_117;}else{if(_115.indexOf("xml")>-1){obj.responseBody=obfuscator_responseObj;}else{if(_118){obj.responseBody=obfuscator_responseObj;}}}}function commonResponseHandler(_119,obfuscator_http,mode,_11b){var _11c;var _11d=_119.id;var url=$W._G.getSubmissionURL(_119.action);var _11f=(_119.mode=="synchronous")?false:true;var ref=_119.ref;var bind=_119.bind;var _122=_119.target;var _123=_119.replace;var _124=_119.instance;var _125=_119.encoding;var _126=_119.mediatype;var _127=_119.hideProcessMsg;var _128=_119.method;var _129=_119.action;var _12a=_119.errorHandler;var _12b=_119.requestData;var _12c=_119.soapaction;if((obfuscator_http["status"])&&((200>obfuscator_http.status)||(300<=obfuscator_http.status))){var _12d={"id":_11d,"errorType":"resource-error","resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_11b,"responseBody":obfuscator_http.responseText};$W.logger.printLog("submission error(E03). Status["+obfuscator_http.status+"] "+_11d);$W._J.setSubmissionEnd(_119,"submission error",_12d);$W.layer.deleteSubmissionMessage(_11d);var _12e=$W._N.getConfiguration("/WebSquare/submission/submitErrorHandler/@value");var _12f=$W._N.getConfiguration("/WebSquare/submission/submitErrorHandler/@mode");if(_12e){var obfuscator_evt=_12d;if(_12f=="only"){eval(_12e+"(obfuscator_evt)");}else{if(_12f=="after"){$W._c.fireEvent(_119,"xforms-submit-error",_12d);eval(_12e+"(obfuscator_evt)");}else{if(_12f=="before"){eval(_12e+"(obfuscator_evt)");$W._c.fireEvent(_119,"xforms-submit-error",_12d);}}}}else{$W._c.fireEvent(_119,"xforms-submit-error",_12d);}if($W.logger.globalDebug1||(typeof $W.logger.getGlobalDebug=="function"&&$W.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_11f+"\nref          : "+ref+"\nbind         : "+bind+"\ntarget       : "+_122+"\nreplace      : "+_123+"\ninstance     : "+_124+"\nencoding     : "+_125+"\nmediatype    : "+_126+"\nmethod       : "+_128+"\naction       : "+_129+"\nerrorHandler : "+_12a+"\nsoapaction   : "+_12c+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+$W._J.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=_11b.replace(re,">\n<");$W.logger.showDebugMsg(obj,"xml","Default Submission ("+mode+")");}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;return _12d;}var _132=obfuscator_http.getResponseHeader("Content-Type")||"";var obfuscator_responseObj,jsonObj,doc,isXML=false,instanceXML;var _133=getCollectionCondition(_122);_133.singleMode=$W._G.getBoolean(_119.singleMode);if(_132==""){$W.logger.printLog("Response Content-Type is not defined");}if(_132.indexOf("json")>-1){jsonObj=JSON.parse(obfuscator_http.responseText);if(_133.type!=""){obfuscator_responseObj=jsonObj;if(_133.condition!=""){$w.data.set(_133.type,jsonObj,_133.condition,{"singleMode":_133.singleMode});}else{$w.data.set(_133.type,jsonObj);}}else{if(_123=="instance"){var _134=$W._I.JSON2XMLString(jsonObj);obfuscator_responseObj=$W._B.parse(_134);instanceXML=$W._B.parse(_134);}else{if(_123=="text"){obfuscator_responseObj=obfuscator_http.responseText;}else{obfuscator_responseObj=jsonObj;}}}}else{if(_132.indexOf("xml")>-1){if($W.BootLoader.useWebSquareXMLParser){obfuscator_responseObj=$W._B.parse(obfuscator_http.responseText);}else{if($W.BootLoader.useResponseXML){obfuscator_responseObj=obfuscator_http.responseXML;}else{obfuscator_responseObj=$W._B.parse(obfuscator_http.responseText);}}if(_133.type!=""){if(_133.condition!=""){$w.data.set(_133.type,obfuscator_responseObj,_133.condition,{"singleMode":_133.singleMode});}else{$w.data.set(_133.type,obfuscator_responseObj);}}else{if(_123=="instance"){instanceXML=$W._B.parse(obfuscator_http.responseText);}}}else{try{if(obfuscator_http.responseText&&obfuscator_http.responseText.wq_trim().startsWith("<")){obfuscator_responseObj=$W._B.parse(obfuscator_http.responseText);if(_133.type!=""){if(_133.condition!=""){$w.data.set(_133.type,obfuscator_responseObj,_133.condition,{"singleMode":_133.singleMode});}else{$w.data.set(_133.type,obfuscator_responseObj);}}else{if(!obfuscator_responseObj){obfuscator_responseObj=obfuscator_http.responseText;}else{if(_123=="instance"){instanceXML=$W._B.parse(obfuscator_http.responseText);}isXML=true;}}}else{obfuscator_responseObj=obfuscator_http.responseText;}}catch(e){}}}try{if(_12a!=""&&eval(_12a+"( obfuscator_responseObj )")){var _12d={"id":_11d,"errorType":"target-error","resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_11b,"responseText":obfuscator_http.responseText};setResponseObj(_12d,_132,_123,obfuscator_responseObj,jsonObj,isXML);$W.logger.printLog("submission error(E04). Status["+obfuscator_http.status+"] "+_11d);$W._J.setSubmissionEnd(_119,"submission error",_12d);$W.layer.deleteSubmissionMessage(_11d);$W._c.fireEvent(_119,"xforms-submit-error",_12d);if($W.logger.globalDebug1||(typeof $W.logger.getGlobalDebug=="function"&&$W.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_11f+"\nref          : "+ref+"\nbind         : "+bind+"\ntarget       : "+_122+"\nreplace      : "+_123+"\ninstance     : "+_124+"\nencoding     : "+_125+"\nmediatype    : "+_126+"\nmethod       : "+_128+"\naction       : "+_129+"\nerrorHandler : "+_12a+"\nsoapaction   : "+_12c+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+$W._J.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=_11b.replace(re,">\n<");$W.logger.showDebugMsg(obj,"xml","Default Submission ("+mode+")");}_11c=_12d;}else{if(_133.type==""){if(_123=="instance"&&instanceXML!=null){$W.WebSquaredoc.models[0].rebuild(instanceXML,_122);$W.WebSquaredoc.models[0].refresh();}else{if(_123=="text"){$W.WebSquaredoc.models[0].rebuild(obfuscator_http.responseText,_122);$W.WebSquaredoc.models[0].refresh();}else{if(_123=="none"){}}}}var _135={"id":_11d,"resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_11b,"responseText":obfuscator_http.responseText};setResponseObj(_135,_132,_123,obfuscator_responseObj,jsonObj,isXML);$W.logger.printLog("submission complete. Status["+obfuscator_http.status+"] "+_11d);$W._J.setSubmissionEnd(_119,"submission complete",_135);$W._c.fireEvent(_119,"xforms-submit-done",_135);if(_127){setTimeout(function(){$W._J.deleteMessage(_11d);},50);}if($W.logger.globalDebug1||(typeof $W.logger.getGlobalDebug=="function"&&$W.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_11f+"\nref          : "+ref+"\nbind         : "+bind+"\ntarget       : "+_122+"\nreplace      : "+_123+"\ninstance     : "+_124+"\nencoding     : "+_125+"\nmediatype    : "+_126+"\nmethod       : "+_128+"\naction       : "+_129+"\nerrorHandler : "+_12a+"\nsoapaction   : "+_12c+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+$W._J.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=_11b.replace(re,">\n<");$W.logger.showDebugMsg(obj,"xml","Default Submission ("+mode+")");}_11c=_135;}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;return _11c;}catch(e){obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;}}$W._J.deleteMessage=function(_136){setTimeout(function(){if($W.layer){try{var _137=$W._J.getSubmission(_136);if(_137.hideProcessMsg!==false){$W.layer.deleteSubmissionMessage(_136);}}catch(e){$W.layer.deleteSubmissionMessage(_136);}}},50);};$W._J.parseResponseHeader=function(_138){var ret="<header>",doc;try{var _13a=_138.getAllResponseHeaders().wq_trim().split("\n");for(var i=0;i<_13a.length;i++){var _13c=_13a[i].split(":");ret+="<name>"+_13c[0].wq_trim()+"</name><value>"+_13c[1].wq_trim()+"</value>";}}catch(e){}ret+="</header>";return ret;};$W._J.copyNode=function(_13d,_13e,_13f,_140){try{var _141=$W._J.findInstanceNode(_13d,_13f);}catch(e){throw e;}if(_141==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.copyNode] srcNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}try{var _143=$W._J.getInstanceByXPath(_13e,_140);var _144=$W._J.filterInstanceFunction(_13e);var _145=$W._B.createNode(_143.document,_144);}catch(e){throw e;}if(_145==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.copyNode] destNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}var _146=_145.childNodes;for(var j=_146.length-1;j>=0;j--){_145.removeChild(_146.item(j));}var _148=$W._B.parse($W._B.serialize(_141));var node=_148.documentElement;if($W._N.browserCheck.chrome||$W._N.browserCheck.safari||$W._N.browserCheck.android||$W._N.browserCheck.blackberry){var _14a=_145.ownerDocument.importNode(node,true);_145.appendChild(_14a);}else{_145.appendChild(node);}$W.WebSquaredoc.detectChange(_13e,undefined,_140);};$W._J.copyChildrenNodes=function(_14b,_14c,mode,_14e,_14f){try{var _150=$W._J.findInstanceNode(_14b,_14e);}catch(e){throw e;}if(_150==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.copyNode] srcNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}try{var _152=$W._J.getInstanceByXPath(_14c,_14f);var _153=$W._J.filterInstanceFunction(_14c);var _154=$W._B.createNode(_152.document,_153);}catch(e){throw e;}if(_154==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.copyNode] destNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}switch(mode){case "replaceAll":var _155=_154.cloneNode(false);var _156=_154.ownerDocument;var _157=_150.childNodes;for(var j=0;j<=_157.length-1;j++){if(_157[j].nodeType==1){$W._B.appendChild(_155,_157[j].cloneNode(true));}}_154.parentNode.insertBefore(_155,_154);_154.parentNode.removeChild(_154);_154=null;break;case "overwrite":var _157=_150.childNodes;var _159={};var _15a={};for(var j=0;j<=_157.length-1;j++){var _15b=_157[j];if(_15b.nodeType==1){var _15c=_15b.nodeName;var _15d=_154.selectNodes(_15c);if(_15d.length>0){if(typeof _15a[_15c]=="undefined"){_15a[_15c]=0;}else{_15a[_15c]=_15a[_15c]+1;}if(typeof _15d[_15a[_15c]]!="undefined"){_159[j]=_15d[_15a[_15c]];}else{_159[j]=null;}}else{_159[j]=null;}}}for(var j=0;j<=_157.length-1;j++){var _15b=_157[j];if(_15b.nodeType==1){var _15e=$W._B.parse($W._B.serialize(_15b));var _15f;if($W._N.browserCheck.chrome||$W._N.browserCheck.safari||$W._N.browserCheck.android||$W._N.browserCheck.blackberry){_15f=_15e.documentElement.cloneNode(true);}else{_15f=_15e.documentElement;}if(_159[j]!=null){_154.replaceChild(_15f,_159[j]);}else{$W._B.appendChild(_154,_15f);}}}break;case "replaceOnly":var _160=_154.childNodes;for(var j=0;j<_160.length;j++){var _161=_160.item(j);if(_161.nodeType==1){var _162=_161.nodeName;var _15b=_150.selectSingleNode(_162);if(_15b!=null){var _15e=$W._B.parse($W._B.serialize(_15b));var _163=_15e.documentElement;var _164=_154.ownerDocument.importNode(_163,true);_154.replaceChild(_164,_161);}}}break;case "append":var _157=_150.childNodes;for(var j=0;j<=_157.length-1;j++){var _15b=_157.item(j);if(_15b.nodeType==1){var _15e=$W._B.parse($W._B.serialize(_15b));var _163=_15e.documentElement;$W._B.appendChild(_154,_163);}}break;}var _165=$W._N.getConfiguration("/WebSquare/ModelUtil/copyChildrenNodes/@refresh");if(_165=="true"){$W._J.refreshModel(_14c,_14f);}};$W._J.setInstanceNode=function(doc,_167,_168,mode){var _16a=null;try{if(doc.nodeType==9){doc=doc.documentElement;}try{var _16b=$W._J.getInstanceByXPath(_167,_168);var _16c=$W._J.filterInstanceFunction(_167);_16a=$W._B.createNode(_16b.document,_16c);}catch(e){throw e;}if(_16a==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.setInstanceNode] destNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}var node=doc.cloneNode(true);switch(mode){case "append":$W._B.appendChild(_16a,node);break;case "insertBeforeSibling":_16a.parentNode.insertBefore(node,_16a);break;case "appendSibling":$W._B.appendChild(_16a.parentNode,node);break;case "replace":default:var _16f=_16a.childNodes;for(var j=_16f.length-1;j>=0;j--){_16a.removeChild(_16f.item(j));}$W._B.appendChild(_16a,node);break;}var _171=$W._J.getModelByID();$W.WebSquaredoc.unrender(_167);_171.refresh(mode);}catch(e){$l("ERROR [xpath:"+_167+"] at WebSquare.ModelUtil.setInstanceNode ");$W.exception.printStackTrace(e);}};$W._J.refreshModel=function(_172,_173){try{if(!_172){_172="";}var _174=$W._J.getModelByID(_173);$W.WebSquaredoc.unrender(_172);_174.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._J.removeInstanceNode=function(_175){try{var node=$W._J.findInstanceNode(_175);if(node){node.parentNode.removeChild(node);var _177=$W._N.getConfiguration("/WebSquare/ModelUtil/removeInstanceNode/@refresh");if(_177=="true"){$W._J.refreshModel(_175);}}}catch(e){$W.exception.printStackTrace(e);}};$W._J.removeInstanceNodes=function(_178){try{var _179=$W._J.findInstanceNodes(_178);for(var i=0;i<_179.length;i++){_179[i].parentNode.removeChild(_179[i]);}var _17b=$W._N.getConfiguration("/WebSquare/ModelUtil/removeInstanceNodes/@refresh");if(_17b=="true"){$W._J.refreshModel(_178);}}catch(e){$W.exception.printStackTrace(e);}};$W._J.removeChildNodes=function(_17c){try{var node=$W._J.findInstanceNode(_17c);if(node){var _17e=node.childNodes;for(var i=_17e.length-1;i>=0;i--){node.removeChild(_17e[i]);}}}catch(e){$W.exception.printStackTrace(e);}};$W._J.createWorkflow=function(_180,_181){["WebSquare.ModelUtil.createWorkflow"];try{var sObj={};sObj.id=_180.id;sObj.processMsg=_180.processMsg||$W._N.getConfiguration("/WebSquare/workflow/processMsg/@value");sObj.resolveCallback=_180.resolveCallback;sObj.rejectCallback=_180.rejectCallback;sObj.step=_180.step;sObj.promiseStatus=null;sObj.promiseValue=null;sObj.preStatus=true;sObj.reject=function(msg){sObj.promiseStatus="REJECT";sObj.promiseValue=msg||"REJECT";};var _184=$W._J.getModelByID(_181);sObj.parentElement=_184.xmlNode;_184.workflows.unshift(sObj);return sObj;}catch(e){$W.exception.printStackTrace(e);}};$W._J.deleteWorkflow=function(_185,_186){["WebSquare.ModelUtil.deleteWorkflow"];try{var _187=$W._J.getModelByID(_186).workflows;var ret=null;for(var i=0;i<_187.length;i++){if(_187[i].id===_185){ret=_187[i];_187[i].parentElement=null;_187.splice(i,1);break;}}return ret;}catch(e){$W.exception.printStackTrace(e);}};$W._J.getWorkflow=function(id,_18b){["WebSquare.ModelUtil.getWorkflow"];try{var _18c=$W._J.getModelByID(_18b);for(var i in _18c.workflows){var _18e=_18c.workflows[i];if(_18e.id==id){if($W.scope_obj&&$W.scope_obj!=_18e.scope_obj){continue;}return _18e;}}return null;}catch(e){$W.exception.printStackTrace(e);}};$W._J.getRunningWorkflow=function(_18f,_190){["WebSquare.ModelUtil.getRunningWorkflow"];try{var _191=$W._J.getModelByID(_190);for(var i in _191.workflows){var _193=_191.workflows[i];if(_193.promiseStatus&&_193.promiseStatus!=""){if($W.scope_obj&&$W.scope_obj!=_193.scope_obj){continue;}if(_18f){if(_193.id==_18f){return _193;}else{return null;}}else{return _193;}}}return null;}catch(e){$W.exception.printStackTrace(e);}};$W._J.isRunningWorkflow=function(_194,_195){["WebSquare.ModelUtil.isRunningWorkflow"];try{var _196=$W._J.getModelByID(_195);for(var i in _196.workflows){var _198=_196.workflows[i];if(_198.promiseStatus&&_198.promiseStatus!=""){if($W.scope_obj&&$W.scope_obj!=_198.scope_obj){continue;}if(_194){if(_198.id==_194){return true;}else{return false;}}else{return true;}}}return false;}catch(e){$W.exception.printStackTrace(e);}};$W._J.getRunningWorkflowID=function(_199){["WebSquare.ModelUtil.getRunningWorkflowID"];try{var _19a=$W._J.getModelByID(_199);for(var i in _19a.workflows){var _19c=_19a.workflows[i];if(_19c.promiseStatus&&_19c.promiseStatus!=""){if($W.scope_obj&&$W.scope_obj!=_19c.scope_obj){continue;}return _19c.id;}}return null;}catch(e){$W.exception.printStackTrace(e);}};$W._J.rejectWorkflow=function(msg,_19e,_19f){["WebSquare.ModelUtil.rejectWorkflow"];try{var _1a0=$W._J.getModelByID(_19f);for(var i in _1a0.workflows){var _1a2=_1a0.workflows[i];if(_1a2.promiseStatus&&_1a2.promiseStatus!=""){if($W.scope_obj&&$W.scope_obj!=_1a2.scope_obj){continue;}if(_19e){if(_1a2.id==_19e){_1a2.promiseStatus="REJECT";_1a2.promiseValue=msg||"REJECT";return _1a2;}}else{_1a2.promiseStatus="REJECT";_1a2.promiseValue=msg||"REJECT";return _1a2;}}}return null;}catch(e){$W.exception.printStackTrace(e);}};$W._J.executeWorkflow=function(parm){var id;var _1a5;var _1a6=false;if(typeof parm==="object"){_1a5=$W._J.createWorkflow(parm);if(parm.id===undefined){$W.logger.printLog("workflow ID \uac00 \uc815\uc758\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.");return;}else{if(parm.id===""){$W.logger.printLog("workflow ID \uac00 \uc815\uc758\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.");return;}else{id=parm.id;}}_1a6=true;}else{if(typeof parm==="string"){id=parm;_1a5=$W._J.getWorkflow(parm);}}if(_1a5===null){$W.logger.printLog("workflow \uac00 \uc815\uc758\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.");return;}var _1a7=$W._J.getRunningWorkflowID();if(_1a7!=null){$W.logger.printLog("\uc2e4\ud589\uc911\uc778 workflow \uac00 \uc874\uc7ac\ud569\ub2c8\ub2e4. workflowID : "+_1a7);return;}var _1a8=validCheck(_1a5.step);if(!_1a8){return;}_1a5.promiseStatus="PENDING";var _1a9=_1a5.resolveCallback;var _1aa=_1a5.rejectCallback;_1a5.result={};_1a5.logTime={};_1a5.logTime["START"]=new Date();try{var _1ab=setAddInfo(_1a5.step);if(_1a5.processMsg!==""){}else{_1a5.processMsg=$W._N.getConfiguration("/WebSquare/workflow/processMsg/@value");}$W.layer.addSubmissionMessage(id,_1a5.processMsg);var _1ac=[];var _1ad=Promise.resolve();for(var i=0;i<_1ab.length;i++){var step=_1ab[i];var _1b0=step.action;var _1b1=step.pre;var _1b2=step.callOption;var idx=step.idx;if(step.type==="submit"){var _1b4=checkBeforeCall(_1ab,i);_1b1=checkFunction(_1b1,"pre",id,_1a6,_1a5);if(_1b1=="error"){return;}if(_1b4>=0){var _1b5=_1ac[_1b4];_1ac[idx]=connectPromise(_1ad,_1b5,_1b0,_1b2,_1a5,_1b1);}else{_1ac[idx]=connectPromise(_1ad,_1ad,_1b0,_1b2,_1a5,_1b1);}}else{if(step.type==="submitDone"){var idx=step.idx;var _1b6=_1ac[idx];var _1b7=step.post;_1b7=checkFunction(_1b7,"post",id,_1a6,_1a5);if(_1b7==="error"){return;}_1ad=executeCallback(_1ad,_1b6,_1b7,_1a5);}else{if(step.type==="function"){var fn=step.action;fn=checkFunction(fn,"function",id,_1a6,_1a5);if(fn==="error"){return;}var _1b4=checkBeforeCall(_1ab,i);if(_1b4>=0){var _1b5=_1ac[_1b4];_1ac[_1b4]=connectFunction(_1ad,_1b5,fn,_1a5);}else{var _1b9=Promise.resolve();_1b9=connectFunction(_1b9,_1b9,fn,_1a5);}}}}}}catch(e){}Promise.all(_1ac).then(function(){return _1ad;}).then(function(){_1a5.promiseStatus="RESOLVE";deleteworkflowMsg(id);_1a5.logTime["END"]=new Date();printTableLog(_1a5);_1a9=checkFunction(_1a9,"resolveCallback",id,_1a6,_1a5);if(_1a9==="error"){return;}if(typeof _1a9==="function"){_1a9(_1a5);}workflowObjClear(id,_1a6,_1a5);})["catch"](function(err){deleteworkflowMsg(id);_1aa=checkFunction(_1aa,"rejectCallback",id,_1a6,_1a5);if(_1aa==="error"){return;}_1a5.promiseStatus="REJECT";_1a5.errorMsg=err;if(typeof _1aa==="function"){_1aa(_1a5);}$W.logger.printLog("Workflow reject : "+id+", errorMsg : "+_1a5.errorMsg);workflowObjClear(id,_1a6,_1a5);});};function checkFunction(func,_1bc,id,_1be,_1bf){var _1c0=func;if(typeof func=="string"){if(func.length>0){try{func=eval(func);}catch(e){$W.logger.printLog("==== "+_1bc+" function error ["+_1c0+"] is not a function \n");workflowObjClear(id,_1be,_1bf);return "error";}if(typeof func!="function"){$W.logger.printLog("==== "+_1bc+" function error ["+_1c0+"] is not a function \n");workflowObjClear(id,_1be,_1bf);return "error";}}}return func;}function deleteworkflowMsg(id){$W.layer.deleteSubmissionMessage(id);if($W.layer.submissionMessageQueue.length>0){$W.layer.submissionMessageQueue=[];$W.layer.submissionIDQueue=[];$W.layer.hideProcessMessage();}}function workflowObjClear(id,_1c3,_1c4){if(_1c3){$W._J.deleteWorkflow(id);}else{delete _1c4.result;delete _1c4.logTime;_1c4.promiseStatus=null;_1c4.promiseValue=null;_1c4.errorMsg="";_1c4.preStatus=true;}}function validCheck(_1c5){var _1c6=[];var _1c7=[];var _1c8=[];for(var i=0;i<_1c5.length;i++){var step=_1c5[i];if(step.type==="submit"){_1c6.push(step.action);_1c7.push(0);}else{if(step.type==="submitDone"){_1c8.push(step.action);}}}var _1cb;for(var i=0;i<_1c8.length;i++){_1cb=_1c8[i];var _1cc=false;var _1cd=0;for(var j=0;j<_1c6.length;j++){var _1cf=_1c6[j];if(_1cf==_1cb){_1cd=_1c7[j];_1cd++;_1c7[j]=_1cd;_1cc=true;break;}}if(!_1cc){$W.logger.printLog("submit \uc774 \uc815\uc758\ub418\uc9c0 \uc54a\uc740 submitDone\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4.  [ "+_1cb+" ]");return false;}else{if(_1cd>1){$W.logger.printLog("submitDone \uc774 \ud558\ub098 \uc774\uc0c1 \uc874\uc7ac\ud569\ub2c8\ub2e4.  [ "+_1cb+" ]");return false;}}}return true;}function setAddInfo(_1d0){var idx=-1;var _1d2=[];for(var i=0;i<_1d0.length;i++){var step=_1d0[i];if(step.type==="submit"){idx++;step.idx=idx;step.pos=i;step.callOption="0";_1d2.push(step);}else{step.idx=-1;}}for(var i=0;i<_1d2.length;i++){var _1d5=_1d2[i];for(var j=0;j<_1d0.length;j++){var step=_1d0[j];if(step.type==="submitDone"&&step.action===_1d5.action&&step.idx===-1){step.idx=_1d5.idx;_1d0[_1d5.pos].callOption="1";}}}return _1d0;}function checkBeforeCall(_1d7,_1d8){var _1d9=-1;for(var i=(_1d8-1);i>0;i--){var step=_1d7[i];if(step.type==="submitDone"){_1d9=step.idx;break;}}return _1d9;}function connectFunction(_1dc,_1dd,fn,_1df){return _1dc.then(function(){return _1dd;}).then(function(){fn(_1df);if(_1df.promiseStatus===null||_1df.promiseStatus==="REJECT"){_1dc=Promise.reject(_1df.promiseValue);return _1dc;}});}function connectPromise(_1e0,_1e1,_1e2,_1e3,_1e4,_1e5){return _1e0.then(function(){return _1e1;}).then(function(){var _1e6=true;if(typeof _1e5==="function"){_1e6=_1e5(_1e2,_1e4);if(_1e4.promiseStatus===null||_1e4.promiseStatus==="REJECT"){_1e0=Promise.reject(_1e4.promiseValue);return _1e0;}if(!_1e6){return null;}}return callSubmit(_1e2,_1e3,_1e4);});}function executeCallback(_1e7,_1e8,_1e9,_1ea){return _1e7.then(function(){return _1e8;}).then(function(_1eb){if(_1eb==null){return _1e7;}var _1ec=callCommonResponseHandler(_1eb[0],_1eb[1],"async mode",_1eb[2]);if(_1ea.promiseStatus===null||_1ea.promiseStatus==="REJECT"){_1e7=Promise.reject(_1ea.promiseValue);return _1e7;}_1ea.logTime[_1ec.id]=new Date();if(typeof _1e9==="function"){_1e9(_1ec,_1ea);$W.logger.printLog("Workflow callback "+_1ec.id);}_1ea.result[_1ec.id]=_1ec;if(_1ea.promiseStatus===null||_1ea.promiseStatus==="REJECT"){_1e7=Promise.reject(_1ea.promiseValue);return _1e7;}return _1e7;});}function callSubmit(_1ed,_1ee,_1ef){if(_1ef.promiseStatus===null||_1ef.promiseStatus==="REJECT"){return Promise.reject(_1ef.promiseValue);}return executeWorkFlowSubmission(_1ed).then(function(_1f0){if(_1ee=="0"){if(_1ef.promiseStatus===null||_1ef.promiseStatus==="REJECT"){return Promise.reject(_1ef.promiseValue);}var _1f1=callCommonResponseHandler(_1f0[0],_1f0[1],"async mode",_1f0[2]);_1ef.logTime[_1f1.id]=new Date();if(_1ef.promiseStatus===null||_1ef.promiseStatus==="REJECT"){return Promise.reject(_1ef.promiseValue);}_1ef.result[_1f1.id]=_1f1;return _1f1;}else{}return _1f0;});}function executeWorkFlowSubmission(_1f2,_1f3,obj){return new Promise(function(_1f5,_1f6){$W._J.executeSubmission(_1f2,_1f3,obj,_1f5,_1f6);});}function callCommonResponseHandler(_1f7,obfuscator_http,_1f8,_1f9){if(_1f8){window.clearTimeout(_1f8);window.clearInterval(_1f8);_1f8=null;}var _1fa=commonResponseHandler(_1f7,obfuscator_http,"async mode",_1f9);if(_1fa.hideProcessMsg!==false){setTimeout(function(){$W._J.deleteMessage(_1fa.id);},50);}if(_1fa!=null&&_1fa.errorType!=undefined){throw new Error(_1fa.errorType);}return _1fa;}$W._J.executeSerial=function(_1fb,_1fc,_1fd,_1fe,id){var _200=makeWorkflowJson("serial",_1fb,_1fc,_1fd,_1fe,id);$W._J.executeWorkflow(_200);};$W._J.executeParallel=function(_201,_202,_203,_204,id){var _206=makeWorkflowJson("parallel",_201,_202,_203,_204,id);$W._J.executeWorkflow(_206);};$W._J.executeWhilst=function(_207,_208,_209,_20a,_20b,_20c,id){var _20e={};_20e.id=id||"whilstTemp";_20e.promiseStatus="PENDING";_20e.result=[];if(_20a!=""){}else{_20a=$W._N.getConfiguration("/WebSquare/workflow/processMsg/@value");}$W.layer.addSubmissionMessage(_20e.id,_20a);var _20f=Promise.resolve();var _210=0;while((typeof preFn==="function"&&preFn(_207,_210))&&(typeof _209==="number"&&_210<_209)){_210++;_20f=_20f.then(function(){_20f=callSubmit(_207,"1",_20e);return _20f;}).then(function(_211){var _212=callCommonResponseHandler(_211[0],_211[1],"async mode",_211[2]);_20e.result.push(_212);});}_20f.then(function(){_20e.promiseStatus="RESOLVE";if(typeof _20b==="function"){_20b(_20e);}$W.logger.printLog("executeWhilst complete ");workflowObjClear(id,true,_20e);})["catch"](function(err){_20e.promiseStatus="REJECT";if(typeof _20c==="function"){_20c(_20e);}$W.logger.printLog("executeWhilst rejected "+_20e.errorMsg);workflowObjClear(id,true,_20e);});};function makeWorkflowJson(type,_215,_216,_217,_218,id){var _21a={};_21a.id=id||type+"Temp";_21a.processMsg=_216||$W._N.getConfiguration("/WebSquare/workflow/processMsg/@value");_21a.resolveCallback=_217;_21a.rejectCallback=_218;var _21b=[];for(var i=0;i<_215.length;i++){var _21d=_215[i];var _21e={};_21e.type="submit";_21e.action=_21d;_21b.push(_21e);if(type==="serial"){var _21f={};_21f.type="submitDone";_21f.action=_21d;_21b.push(_21f);}}if(type==="parallel"){for(var i=0;i<_215.length;i++){var _21d=_215[i];var _21f={};_21f.type="submitDone";_21f.action=_21d;_21b.push(_21f);}}_21a.step=_21b;return _21a;}function printTableLog(_220){var _221=_220.step;var _222={};var row=0,col=-1;var _224="S";var _225="";var _226="";var i=0,j=0,k=0;for(i=0;i<_221.length;i++){_226=_221[i].action;_225=_221[i].type;if(_225==="function"){_225="submit";}if((_224==="submit"&&_225==="submit")){}else{col++;}if(_225==="function"||_225==="submit"){_222[_226+"S"]={};_222[_226+"S"].row=row;_222[_226+"S"].col=col;row++;}else{_222[_226+"C"]={};_222[_226+"C"].row=_222[_226+"S"].row;_222[_226+"C"].col=col;}_224=_225;}col++;var _228=_220.logTime["START"];var _229=0;var _22a=[];var _22b=row;var _22c=col;var _22d=null;var _22e=[];for(j=0;j<_22b;j++){_22a[j]=[];for(k=0;k<=_22c;k++){_22a[j][k]="";}}for(i=0;i<_221.length;i++){_226=_221[i].action;_225=_221[i].type;if(_225==="submitDone"){continue;}row=_222[_226+"S"].row;col=_222[_226+"S"].col;_22e[row]=[];_22e[row][0]=col+1;_22a[row][col]=_226;if(_225==="function"){continue;}row=_222[_226+"C"].row;col=_222[_226+"C"].col;_22d=_220.logTime[_226];if(_22d===undefined){continue;}_229=_22d.getTime()-_228.getTime();_22e[row][1]=col-1;_22a[row][col]="["+_229+"ms"+"]";}var _22f=[];var _230=0;for(j=0;j<_22c;j++){_22f[j]=0;for(k=0;k<_22b;k++){_230=_22a[k][j].length;if(_230>_22f[j]){_22f[j]=_230;}}}var _231=0,end=0;var _232="";var _233="";for(j=0;j<_22b;j++){_231=_22e[j][0];end=_22e[j][1];for(k=0;k<=_22c;k++){_232=_22a[j][k];for(i=_232.length;i<_22f[k];i++){if(k>=_231&&k<=end){_232+="-";}else{_232+=" ";}}_233+="|"+_232;}_233+="\n";}var _234=_220.logTime["END"];_229=_234.getTime()-_228.getTime();_233="\n[ WORKFLOW :: "+_220.id+" Start : "+logFormatTime(_228)+"]\n"+_233+"[ WORKFLOW :: "+_220.id+" End : "+logFormatTime(_234)+"    duration : "+_229+"ms ]\n";$W.logger.printLog(_233);}function logFormatTime(_235){return $W._A.fillZero(_235.getHours(),2)+":"+$W._A.fillZero(_235.getMinutes(),2)+":"+$W._A.fillZero(_235.getSeconds(),2)+":"+$W._A.fillZero(_235.getMilliseconds(),3);}})();;WebSquare.ModelUtil=$W._J;(function(){$W._j={};$W._j["api"]={};$W._j["comp"]={};$W._j["attributeMapInfo"]={};$W._j["childToParentRelation"]={};$W._j["parentToChildRelation"]={};$W._j["childToParentRef"]={};$W._j["parentToChildRef"]={};$W._j["options"]={useConfig:"true",baseNode:"map",attributeMap:""};$W._j["activated"]=false;$W._j["stopBroadCast"]=false;$W._j.api.create=function(_1){["WebSquare.DataCollection.api.create"];try{var _2;if(typeof _1=="string"){if(_1.match("xmlns:w2=")==null){_1=_1.replace(">"," xmlns:w2='http://www.inswave.com/websquare'>");}_1=$W._B.parse(_1,true);if(_1){_1=_1.documentElement;_2=_1.tagName.replace("w2:","");}else{return;}}else{var _3=$W._N.isXML(_1);_2=_3?_1.tagName.replace("w2:",""):_1.type;_1.elementType=_3?"XML":"JSON";}var _4;switch(_2){case "dataList":_4=new $W._j.dataList(null,null,_1,_2);break;case "dataMap":_4=new $W._j.dataMap(null,null,_1,_2);break;case "linkedDataList":_4=new $W._j.linkedDataList(null,null,_1,_2);break;}if(_4){$W._j.api.addChild(_4);var _5=$W._j.parentToChildRef[_4.id];if(_5){for(var _6 in _5){if(_5[_6]){var _7=$W._G.getComponentById(_6);_7.modelControl.dataCollectionBinding(_7.options.ref);}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.createObjects=function(_8){["WebSquare.DataCollection.api.createObjects"];try{for(var i=0;i<_8.length;i++){$W._j.api.create(_8[i]);}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.remove=function(_a){["WebSquare.DataCollection.api.remove"];try{var _b=$W._j["comp"][_a];if(_b==null){return;}if(typeof _b.finalize=="function"){try{_b.finalize();}catch(e){$W.logger.printLog("finalize : "+_b.id);}}window[$W.noConflict].comp[_b.id]=null;window[$W.noConflict].data[_b.id]=null;delete window[$W.noConflict].comp[_b.id];delete window[$W.noConflict].data[_b.id];$W.idToUUID[_b.id]=null;delete $W.idToUUID[_b.id];$W.idCache[_b.uuid]=null;delete $W.idCache[_b.uuid];if(window[_b.id]){window[_b.id]=null;}if(_b.options){var _c=_b.getOption("pluginName");var _d=$W.WebSquareDocument.getElementsByTagName(_c);for(var _e=0,len=_d.length;_e<len;_e++){if(_d[_e]==_b){$W.WebSquareDocument.componentsCache[_c][_e]=null;$W.WebSquareDocument.componentsCache[_c].splice(_e,1);}}}if(_b.event){_b.event.clearCache();}for(var i in _b){delete _b[i];}delete $W._j["comp"][_a];delete $W._j["parentToChildRelation"][_a];delete $W._j["parentToChildRef"][_a];}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.addChild=function(_10){["WebSquare.DataCollection.api.addChild"];try{$W._j.comp[_10.id]=_10;}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.addRelation=function(_11,_12){["WebSquare.DataCollection.api.addRelation"];try{$W._j.childToParentRelation[_11]=_12;if(!$W._j.parentToChildRelation[_12]){$W._j.parentToChildRelation[_12]={};}if(!$W._j.parentToChildRelation[_12][_11]){$W._j.parentToChildRelation[_12][_11]=true;if($W._j["comp"][_12]){$W._j["comp"][_12]._addRelation(_11);}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.addRefRelation=function(_13,_14){["WebSquare.DataCollection.api.addRefRelation"];try{$W._j.childToParentRef[_13]=_14;if(!$W._j.parentToChildRef[_14]){$W._j.parentToChildRef[_14]={};}if(!$W._j.parentToChildRef[_14][_13]){$W._j.parentToChildRef[_14][_13]=true;if($W._j["comp"][_14]){$W._j["comp"][_14]._addRefRelation(_13);}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.setRefValue=function(_15,_16,_17){["WebSquare.DataCollection.api.setRefValue"];try{var _18=_15.dataComp;if(_18){switch(_18.initializeType){case "linkedDataList":case "dataList":if(typeof _18.rowPosition=="number"){_18.setCellData(_18.rowPosition,_15.colID,_16,_17);}break;case "dataMap":if(!_18.firstSetting[_15.key]&&_18.options.firstSet&&_18.get(_15.key)==""){_18.setOriginal(_15.key,_18.get(_15.key));}_18.set(_15.key,_16);break;}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.getRefValue=function(_19){["WebSquare.DataCollection.api.getRefValue"];try{var _1a=_19.dataComp;if(_1a){switch(_1a.initializeType){case "linkedDataList":case "dataList":return _1a.getCellData(_1a.rowPosition,_19.colID);case "dataMap":return _1a.get(_19.key);}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.get=function(_1b,_1c,_1d){["WebSquare.DataCollection.api.get"];try{if(typeof _1d==="undefined"||_1d==null){_1d={};}if(typeof _1c=="string"){_1c=eval(_1c);for(var i=0;i<_1c.length;i++){var _1f=_1c[i];if(_1f.initializeType){_1c[i]=_1f.id;}}}switch(_1b.toUpperCase()){case "JSON":return $W._j.api._getJSON(_1c,_1d);case "ARRAY":return $W._j.api._getARRAY(_1c,_1d);case "XML":return $W._j.api._getXML(_1c,_1d);}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._getJSON=function(_20,_21){["WebSquare.DataCollection.api.getJSON"];try{if(typeof _21==="undefined"||_21==null){_21={};}if(_20&&_20.length==1&&_21&&_21.singleMode){var _22=_20[0];var _23=null;if(typeof _22=="string"){_23=$W._j.comp[_22];}else{_23=$W._j.comp[_22.id];if(typeof _22.includeColumns==="object"&&_22.includeColumns!=null&&_22.includeColumns.constructor===Array){_21.includeColumns=_22.includeColumns;}}if(_23.initializeType=="dataMap"){return _23.getJSON(_21);}else{if(_23.initializeType=="dataList"||_23.initializeType=="linkedDataList"){return _23.getAllJSON(_21);}}}var obfuscator_returnJSON={};var obfuscator_options=_21;if(_20){for(var i=0;i<_20.length;i++){var obfuscator_info=_20[i];if(typeof obfuscator_info=="string"){var obfuscator_comp=$W._j.comp[obfuscator_info];if(obfuscator_comp){var _25=obfuscator_comp.getOption("JSONPath");_25=_25?(_25+"."+obfuscator_comp.id):obfuscator_comp.id;obfuscator_returnJSON=$W._j.api.JSONPathEvaluator(obfuscator_returnJSON,_25);switch(obfuscator_comp.initializeType){case "dataMap":eval("obfuscator_returnJSON."+_25+" = obfuscator_comp.getJSON(obfuscator_options);");break;case "dataList":case "linkedDataList":eval("obfuscator_returnJSON."+_25+" = obfuscator_comp.getAllJSON(obfuscator_options);");break;}}}else{if(typeof obfuscator_info=="object"){var obfuscator_comp=$W._j.comp[obfuscator_info.id];if(obfuscator_comp){if(typeof obfuscator_info.includeColumns==="object"&&obfuscator_info.includeColumns!=null&&obfuscator_info.includeColumns.constructor===Array){obfuscator_options.includeColumns=obfuscator_info.includeColumns;}var _25=obfuscator_comp.getOption("JSONPath");_25=_25?(_25+"."+(obfuscator_info.key||obfuscator_comp.id)):(obfuscator_info.key||obfuscator_comp.id);obfuscator_returnJSON=$W._j.api.JSONPathEvaluator(obfuscator_returnJSON,_25);switch(obfuscator_comp.initializeType){case "dataMap":eval("obfuscator_returnJSON."+_25+"= WebSquare.DataCollection.api._getMapByOption('JSON',obfuscator_info, obfuscator_options);");break;case "dataList":case "linkedDataList":eval("obfuscator_returnJSON."+_25+"= WebSquare.DataCollection.api._getListByOption('JSON',obfuscator_info, obfuscator_options);");break;}}}}}}else{for(var id in $W._j.comp){var obfuscator_comp=$W._j.comp[id];var _25=obfuscator_comp.getOption("JSONPath");_25=_25?(_25+"."+obfuscator_comp.id):obfuscator_comp.id;obfuscator_returnJSON=$W._j.api.JSONPathEvaluator(obfuscator_returnJSON,_25);switch(obfuscator_comp.initializeType){case "dataMap":eval("obfuscator_returnJSON."+_25+" = obfuscator_comp.getJSON(obfuscator_options);");break;case "dataList":case "linkedDataList":eval("obfuscator_returnJSON."+_25+" = obfuscator_comp.getAllJSON(obfuscator_options);");break;}}}return obfuscator_returnJSON;}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._getARRAY=function(_27,_28){["WebSquare.DataCollection.api._getARRAY"];try{if(typeof _28==="undefined"||_28==null){_28={};}if(_27&&_27.length==1&&_28&&_28.singleMode){var _29=_27[0];var _2a=null;if(typeof _29=="string"){_2a=$W._j.comp[_29];}else{_2a=$W._j.comp[_29.id];if(typeof _29.includeColumns==="object"&&_29.includeColumns!=null&&_29.includeColumns.constructor===Array){_28.includeColumns=_29.includeColumns;}}if(_2a.initializeType=="dataMap"){return _2a.getJSON(_28);}else{if(_2a.initializeType=="dataList"||_2a.initializeType=="linkedDataList"){return _2a.getAllArray(_28);}}}var _2b={};if(_27){for(var i=0;i<_27.length;i++){var _29=_27[i];if(typeof _29=="string"){var _2a=$W._j.comp[_29];if(_2a){switch(_2a.initializeType){case "dataMap":_2b[_2a.id]=_2a.getJSON(_28);break;case "dataList":case "linkedDataList":_2b[_2a.id]=_2a.getAllArray(_28);break;}}}else{if(typeof _29=="object"){var _2a=$W._j.comp[_29.id];if(_2a){var key=_29.key||_2a.id;if(typeof _29.includeColumns==="object"&&_29.includeColumns!=null&&_29.includeColumns.constructor===Array){_28.includeColumns=_29.includeColumns;}switch(_2a.initializeType){case "dataMap":_2b[key]=$W._j.api._getMapByOption("ARRAY",_29,_28);break;case "dataList":case "linkedDataList":_2b[key]=$W._j.api._getListByOption("ARRAY",_29,_28);break;}}}}}}else{for(var id in $W._j.comp){var _2a=$W._j.comp[id];switch(_2a.initializeType){case "dataMap":_2b[_2a.id]=_2a.getJSON(_28);break;case "dataList":case "linkedDataList":_2b[_2a.id]=_2a.getAllArray(_28);break;}}}return _2b;}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._getXML=function(_2f,_30){["WebSquare.DataCollection.api._getXML"];try{if(typeof _30==="undefined"||_30==null){_30={};}if(_2f&&_2f.length==1&&_30&&_30.singleMode){var _31=$W._j.comp[_2f[0]];if(_31.initializeType=="dataMap"){return _31.getXML(_30);}else{if(_31.initializeType=="dataList"||_31.initializeType=="linkedDataList"){return _31.getAllXML(_30);}}}var _32=function(_33){var str="";for(var _35=0;_35<_33.length;_35++){str+="<"+_33[_35]+">";}for(var _35=_33.length-1;_35>=0;_35--){str+="</"+_33[_35]+">";}return str;};var _36=$W._j["options"]["baseNode"].split("/");var _37=_32(_36);var _38=$W._B.parse(_37);var _39=_38.documentElement;var _3a=$W._G.getComponentById($W._j["options"]["attributeMap"]);if(_3a){for(var i=0;i<_3a.getCount();i++){_39.setAttribute(_3a.getKey(i),_3a.get(i));}}if(_2f){for(var i=0;i<_2f.length;i++){var key;var _3d;var _3e=_2f[i];if(typeof _3e=="string"){var _31=$W._j.comp[_3e];if(_31){key=_31.id;switch(_31.initializeType){case "dataMap":_3d=_31.getXML(_30);break;case "dataList":case "linkedDataList":_3d=_31.getAllXML(_30);break;}}}else{if(typeof _3e=="object"){var _31=$W._j.comp[_3e.id];if(_31){key=_3e.key?_3e.key:_31.id;if(typeof _3e.includeColumns==="object"&&_3e.includeColumns!=null&&_3e.includeColumns.constructor===Array){_30.includeColumns=_3e.includeColumns;}switch(_31.initializeType){case "dataMap":_3d=$W._j.api._getMapByOption("XML",_3e,_30);break;case "dataList":case "linkedDataList":_3d=$W._j.api._getListByOption("XML",_3e,_30);break;}}}}_3d=_3d.documentElement?_3d.documentElement:_3d;if(_31&&_31.getOption("keyNode")){var _3f=_31.getOption("keyNode");_3f=_3f.wq_replaceAll("${key}",key);_3d=$W._j.api.makeKeyNodeChildXML(_31,_3f,_3d,key);}$W._B.appendChild(_39,_3d);}}else{for(var id in $W._j.comp){var _3d;var _31=$W._j.comp[id];_30.id=_31.id;switch(_31.initializeType){case "dataMap":_3d=_31.getXML(_30);break;case "dataList":case "linkedDataList":_3d=_31.getAllXML(_30);break;}_3d=_3d.documentElement?_3d.documentElement:_3d;if(_31.getOption("keyNode")){var _3f=_31.getOption("keyNode");_3f=_3f.wq_replaceAll("${key}",_31.id);_3d=$W._j.api.makeKeyNodeChildXML(_31,_3f,_3d);}$W._B.appendChild(_39,_3d);}}return _38;}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._getListByOption=function(_41,_42,_43){["WebSquare.DataCollection.api._getListByOption"];try{if(typeof _43==="undefined"||_43==null){_43={};}var _44=$W._j.comp[_42.id];if(_44){var key=_42.key||_44.id;var _46=_42.action;var _47=_42.matchedColumn;var _48=_42.matchedData;if(_41=="JSON"){switch(_46){case "all":return _44.getAllJSON(_43);case "modified":return _44.getModifiedJSON(_43);case "inserted":return _44.getInsertedJSON(_43);case "deleted":return _44.getDeletedJSON(false,_43);case "updated":return _44.getUpdatedJSON(_43);case "matched":if(_47&&_48){return _44.getMatchedJSON(_47,_48,_43);}case "unmatched":if(_47&&_48){return _44.getUnmatchedJSON(_47,_48,_43);}default:return _44.getAllJSON(_43);}}else{if(_41=="ARRAY"){switch(_46){case "all":return _44.getAllArray(_43);case "modified":return _44.getModifiedArray(_43);case "inserted":return _44.getInsertedArray(_43);case "deleted":return _44.getDeletedArray(false,_43);case "updated":return _44.getUpdatedArray(_43);case "matched":if(_47&&_48){return _44.getMatchedArray(_47,_48,_43);}case "unmatched":if(_47&&_48){return _44.getUnmatchedArray(_47,_48,_43);}default:return _44.getAllArray(_43);}}else{if(_41=="XML"){_43.id=key;switch(_46){case "all":return _44.getAllXML(_43);case "modified":return _44.getModifiedXML(_43);case "inserted":return _44.getInsertedXML(_43);case "deleted":return _44.getDeletedXML(false,_43);case "updated":return _44.getUpdatedXML(_43);case "matched":if(_47&&_48){return _44.getMatchedXML(_47,_48,false,false,false,_43);}case "unmatched":if(_47&&_48){return _44.getUnmatchedXML(_47,_48,false,false,false,_43);}default:return _44.getAllXML(_43);}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._getMapByOption=function(_49,_4a,_4b){["WebSquare.DataCollection.api._getMapByOption"];try{if(typeof _4b==="undefined"||_4b==null){_4b={};}var _4c=$W._j.comp[_4a.id];if(_4c){var _4d=_4a.action;var key=_4a.key||_4c.id;var _4f=_4a.matchedColumn;var _50=_4a.matchedData;if(_49=="JSON"){switch(_4d){case "all":return _4c.getJSON(_4b);default:return _4c.getJSON(_4b);}}else{if(_49=="ARRAY"){switch(_4d){case "all":return _4c.getArray(_4b);default:return _4c.getArray(_4b);}}else{if(_49=="XML"){_4b.id=key;switch(_4d){case "all":return _4c.getXML(_4b);default:return _4c.getXML(_4b);}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._getArrayEvalString=function(){["WebSquare.DataCollection.api._getArrayEvalString"];try{var _51="{";var _52=[];var _53=0;for(var id in $W._j.comp){_52.push(id);if($W._j.comp[id].initializeType==="linkedDataList"){_53++;}}for(var i=0;i<_52.length;i++){var _56=$W._j.comp[_52[i]];switch(_56.initializeType){case "dataMap":_51+="\""+_56.id+"\""+":"+_56._dataList.getAllArrayEvalString();if(i<_52.length-1-_53){_51+=",";}break;case "dataList":_51+="\""+_56.id+"\""+":"+_56.getAllArrayEvalString();if(i<_52.length-1-_53){_51+=",";}break;}}_51+="}";return _51;}catch(e){$W.exception.printStackTrace(e);return {};}};$W._j.api.getOption=function(key){["WebSquare.DataCollection.api.getOption"];try{var _58=key in $W._j["options"];var _59=$W._j.options.attributeMap;if(_58){return $W._j["options"][key];}else{if(_59){var _5a=$W._G.getComponentById(_59);if(_5a.hasKey(key)){return _5a.get(key);}}}return;}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.setOption=function(key,_5c){["WebSquare.DataCollection.api.setOption"];try{if(typeof _5c=="string"&&_5c.wq_trim()=="$none"){_5c="";}var _5d=key in $W._j["options"];var _5e=$W._j.options.attributeMap;if(_5d){if(key=="baseNode"){$W._j["options"][key]=_5c||"map";}else{$W._j["options"][key]=_5c;}}else{if(_5e){var _5f=$W._G.getComponentById(_5e);if(_5f.hasKey(key)){_5f.set(key,_5c);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.set=function(_60,_61,_62,_63){["WebSquare.DataCollection.api.set"];try{if(typeof _63==="undefined"||_63==null){_63={};}if(typeof _62=="string"){_62=eval(_62);for(var i=0;i<_62.length;i++){var _65=_62[i];if(_65.initializeType){_62[i]=_65.id;}}}switch(_60.toUpperCase()){case "JSON":return $W._j.api._setJSON(_61,_62,_63);case "ARRAY":return $W._j.api._setARRAY(_61,_62,_63);case "XML":return $W._j.api._setXML(_61,_62,_63);}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._setJSON=function(_66,_67,_68){["WebSquare.DataCollection.api._setJSON"];try{if(typeof _68==="undefined"||_68==null){_68={};}if(_67){for(var i=0;i<_67.length;i++){var _6a=_67[i];if(typeof _6a=="string"){var _6b=$W._j.comp[_6a];var _6c=_67.length==1&&_68.singleMode?_66:_66[_6a];if(_6b){switch(_6b.initializeType){case "dataMap":case "dataList":_6b.setJSON(_6c);break;}}}else{if(typeof _6a=="object"){var _6b=$W._j.comp[_6a.id];var key=_6a.key||_6b.id;var _6c=_67.length==1&&_68.singleMode?_66:_66[key];if(_6b){var _6e=_6a.action==="append";switch(_6b.initializeType){case "dataMap":case "dataList":_6b.setJSON(_6c,_6e,_6a.includeColumns);break;}}}}}}else{for(var id in _66){var _6b=$W._j.comp[id];if(_6b){switch(_6b.initializeType){case "dataMap":case "dataList":_6b.setJSON(_66[id]);break;}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._setARRAY=function(_70,_71,_72){["WebSquare.DataCollection.api._setARRAY"];try{if(typeof _72==="undefined"||_72==null){_72={};}if(_71){for(var i=0;i<_71.length;i++){var _74=_71[i];if(typeof _74=="string"){var _75=$W._j.comp[_74];var _76=_71.length==1&&_72.singleMode?_70:_70[_74];if(_75){switch(_75.initializeType){case "dataMap":case "dataList":_75.setArray(_76);break;}}}else{if(typeof _74=="object"){var _75=$W._j.comp[_74.id];var key=_74.key||_75.id;var _76=_71.length==1&&_72.singleMode?_70:_70[key];if(_75){var _78=_74.action==="append";switch(_75.initializeType){case "dataMap":case "dataList":_75.setArray(_76,_78,_74.includeColumns);break;}}}}}}else{for(var id in _70){var _75=$W._j.comp[id];if(_75){switch(_75.initializeType){case "dataMap":case "dataList":_75.setArray(_70[id]);break;}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._setXML=function(_7a,_7b,_7c){["WebSquare.DataCollection.api._setXML"];try{_7a=_7a.documentElement?_7a.documentElement:_7a;function getName(_7d){var _7e;if(typeof _7d=="string"){_7e=_7d;}else{_7e=_7d.id;}return _7e;}if(_7b&&_7b.length==1&&_7a.nodeName=="vector"){var _7f=$W._j.comp[getName(_7b[0])];if(_7f){_7f.setXML(_7a);}return;}else{if(_7b&&_7b.length==1&&_7a.nodeName=="hastable"&&!_7a.getAttribute("hashKey")){var _7f=$W._j.comp[getName(_7b[0])];if(_7f){_7f.setXML(_7a);}return;}else{if(_7b&&_7b.length==1&&_7c.singleMode){var _7f=$W._j.comp[getName(_7b[0])];if(_7f){_7f.setXML(_7a);}return;}}}if(!_7b){_7b=[];for(var id in $W._j.comp){_7b.push(id);}}for(var i=0;i<_7b.length;i++){var _82=_7b[i];var key;var _7f;var _84=false;if(typeof _82=="string"){key=_82;_7f=$W._j.comp[_82];}else{_7f=$W._j.comp[_82.id];key=_82.key||_7f.id;_84=_82.action=="append"?true:false;}if(_7f){var uri;var _86=_7f.getOption("keyNode");if(_86){_86=_86.wq_replaceAll("${key}",key);uri=_86+"/"+_7f.getOption("baseNode").split("/")[0];}else{uri=_7f.getOption("baseNode").split("/")[0];}var _87=$W._B.findNodes(_7a,uri);var _88=_7f.getOption("idAttribute")?_7f.getOption("idAttribute"):"id";for(var j=0;j<_87.length;j++){var _8a=_87[j];var _8b=_8a.parentNode.nodeName;if(_7f.initializeType==="dataMap"){_8b=_8a.nodeName;}if(_86){var _8c=_8a.parentNode.getAttribute(_88);if(_8c){_8b=_8c;}}else{var _8c=_8a.getAttribute(_88);if(_8c){_8b=_8c;}}if(_8b===key){switch(_7f.initializeType){case "dataMap":case "dataList":_7f.setXML(_8a,_84,_82.includeColumns);break;}break;}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api._setArrayEvalString=function(_8d){["WebSquare.DataCollection.api._setArrayEvalString"];try{var obfuscator_data=null;eval("var obfuscator_data = "+_8d);for(var id in obfuscator_data){var _8f=$W._j.comp[id];switch(_8f.initializeType){case "dataMap":_8f.setArray(obfuscator_data[id]);break;case "dataList":_8f.setData(obfuscator_data[id]);break;}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.syncWithAttributeMap=function(){["WebSquare.DataCollection.api.syncWithAttributeMap"];try{if($W._j["options"]["attributeMap"]){var _90=$W._j.comp[this.options.attributeMap];if(_90){var _91=_90.getCount();for(var i=0;i<_91;i++){var key=_90.getKey(i);var _94=_90.get(i);$W._j["options"][key]=_94;}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.makeKeyNodeChildXML=function(_95,_96,_97,key){["WebSquare.DataCollection.api.makeKeyNodeChildXML"];try{var _99=function(_9a,_9b,_9c){var str="";for(var _9e=0;_9e<_9a.length;_9e++){str+="<"+_9a[_9e]+" "+_9b+"='"+_9c+"'>";}for(var _9e=_9a.length-1;_9e>=0;_9e--){str+="</"+_9a[_9e]+">";}return str;};var _9f=_95.getOption("idAttribute")?_95.getOption("idAttribute"):"id";var _a0=_96.split("/");var _a1=_99(_a0,_9f,key?key:_95.id);var _a2=$W._B.parse(_a1).documentElement;var _a3=$W._B.findNode(_a2,"/"+_96);$W._B.appendChild(_a3,_97);return _a2;}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.broadcast=function(_a4){["WebSquare.DataCollection.api.broadcast"];try{for(var id in $W._j["comp"]){var _a6=$W._j["comp"][id];switch(_a6.initializeType){default:_a6[_a4.all[0]].apply(_a6,_a4.all[1]||[]);break;}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.JSONPathEvaluator=function(obfuscator_JSONObject,_a7){["WebSquare.DataCollection.api.JSONPathEvaluator"];try{var _a8=_a7.split(".");for(var i=0;i<_a8.length;i++){var _aa="['"+_a8.slice(0,i+1).join("']['")+"']";var _ab=eval("typeof obfuscator_JSONObject"+_aa+" =='object'");if(!_ab){eval("obfuscator_JSONObject"+_aa+"={};");}}return obfuscator_JSONObject;}catch(e){$W.exception.printStackTrace(e);}};$W._j.api.getInfo=function(_ac,_ad,_ae){var ret={};if(typeof _ac==="object"&&_ac!=null){if(_ac.constructor===Array){for(var i=0;i<_ac.length;i++){var dc=$W._j["comp"][_ac[i]];if(dc&&typeof dc.getInfo=="function"){ret[dc.id]=dc.getInfo(_ad,_ae);}}}else{for(var _b2 in _ac){var dc=$W._j["comp"][_b2];if(dc&&typeof dc.getInfo=="function"){ret[dc.id]=dc.getInfo(_ad,_ae);}}}}else{for(var _b2 in $W._j["comp"]){var dc=$W._j["comp"][_b2];if(dc&&typeof dc.getInfo=="function"){ret[dc.id]=dc.getInfo(_ad,_ae);}}}return ret;};$W._j.api.onComplete=function(){["WebSquare.DataCollection.api.onComplete"];try{for(var _b3 in $W._j["comp"]){var dc=$W._j["comp"][_b3];if(dc&&typeof dc.onComplete=="function"){dc.onComplete();}}}catch(e){$W.exception.printStackTrace(e);}};})();;WebSquare.DataCollection=$W._j;$W._L={};$W._L.XmlEvent=function(_1,_2,_3,_4){["WebSquare.Events.XmlEvent"];try{this.name=_1;this.action=_2;this.param=_3;this.disabled=_4||false;}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.Events=$W._L;$W._g={};$W._g.tabOrderData={};$W._g.setTabOrder=function(_1){["WebSquare.form.setTabOrder"];};$W._g.getNextObj=function(_2){["WebSquare.form.getNextObj"];};$W._g.getPrevObj=function(_3){["WebSquare.form.getPrevObj"];};$W._g.setXMLOption=function(){["WebSquare.form.setXMLOption"];var _4,xml,display="",formName="",xsl="",strSelected=null,blankText="",strTextSelected=null,allOption="false",chooseOption="false",allOptionText="\uc804\uccb4",chooseOptionText="-\uc120\ud0dd-",append="false",sorted="false",textSorted="false",debug="false";try{_4=arguments[0];xml=arguments[1];if(_4.indexOf(":")>-1){var _5=_4.split(";");for(var i=0;i<_5.length;i++){var _7=_5[i].split(":");if(_7.length==2){if(_7[0].toLowerCase().wq_trim()=="display"){display=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="form"){formName=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="xsl"){xsl=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="selected"){strSelected=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="textselected"){strTextSelected=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="alloption"){allOption=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="alloptiontext"){allOptionText=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="chooseoption"){chooseOption=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="chooseoptiontext"){chooseOptionText=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="blanktext"){blankText=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="append"){append=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="sorted"){sorted=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="textsorted"){textSorted=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="debug"){debug=_7[1].toLowerCase().wq_trim();}}}}}}}}}}}}}}}}}else{display=arguments[0];switch(arguments.length){case 8:formName=arguments[7];case 7:debug=arguments[6];case 6:sorted=arguments[5];case 5:allOption=arguments[4];case 4:strSelected=arguments[3];case 3:xsl=arguments[2];}}}catch(e){$W.exception.printStackTrace(e);}var _8=null;var _9=null;var _a=null;var _b=null;if(typeof formName=="undefined"||formName==null||formName==""){formName="";}else{formName="document."+formName+".";}_b=$W._g.getSelectObject(formName+display);if(_b!=null&&_b instanceof $W._a._q){var _c=_b;if(_c!=null&&xml!=null&&xml.wq_trim()!=""){try{if(xsl!=""){_8=$W._B.parse(xml);_a=$W._B.transform(_8,xsl);}else{_a=$W._B.parse(xml);}if(_a==null){return;}var _d=$W._w.getAttribute(_a,"selected");if(_d!=null&&_d.wq_trim()!=""){strSelected=_d.wq_trim();}var _e=$W._w.getAttribute(_a,"allOption");if(_e=="true"){allOption="true";}else{if(_e=="false"){allOption="false";}}var _f=$W._w.getAttribute(_a,"chooseOption");if(_f=="true"){chooseOption="true";}else{if(_f=="false"){chooseOption="false";}}var _10=new Array();if(append!="true"){_c.resetItemArr();}if(chooseOption=="true"){_c.setHeaderOption("",chooseOptionText);}if(allOption=="true"){_c.setHeaderOption("all",allOptionText);}var _11=[];if(_a.documentElement.nodeName=="hashtable"){var _12=_a.documentElement.childNodes;if(_12.length==0){if(blankText!=""){_c.setHeaderOption("",blankText);}}else{for(var i=0;i<_12.length;i++){var _13=_12.item(i);if(_13.nodeType==1&&_13.nodeName=="data"){var obj=new Object();var _15=_13.getAttribute("hashkey");var _16=_13.getAttribute("value");if(_15!=null&&_16!=null){obj["key"]=_15;obj["value"]=_16;_11.push(obj);}}}}}if(sorted=="true"){var _17=true;for(var i=0;i<_11.length;i++){if(isNaN(_11[i]["key"])||_11[i]["key"].wq_trim()==""){_17=false;break;}}if(_17){_11=_11.sort($W._g.numericKeySort);}else{_11=_11.sort($W._g.normalKeySort);}}else{if(textSorted=="true"){var _17=true;for(var i=0;i<_11.length;i++){if(isNaN(_11[i]["value"])||_11[i]["value"].wq_trim()==""){_17=false;break;}}if(_17){_11=_11.sort($W._g.numericValueSort);}else{_11=_11.sort($W._g.normalValueSort);}}}var _18=0;var _19=[];var _1a=_c.itemArr.length;for(var i=0;i<_11.length;i++){var _1b={};_1b.value=_11[i]["key"];_1b.label=_11[i]["value"];_19.push(_1b);if(strSelected!=null&&strSelected!=""){if(_11[i]["key"].wq_trim()==strSelected){_18=i+_1a;}}else{if(strTextSelected!=null&&strTextSelected!=""){if(_11[i]["value"].wq_trim()==strTextSelected){_18=i+_1a;}}}}_c.pushItemArr(_19);_c.selectedIndex=_18;_c.initSelect();}catch(e){$W.exception.printStackTrace(e);}}if(debug=="true"||debug=="y"){var obj=new Object();obj["result"]=$W._B.indent(_a);if(xsl!=""){obj["xml"]=$W._B.indent(_8);obj["xsl"]=$W._B.indent(_9);}$W.logger.showDebugMsg(obj,"xml","setXMLOption \uc2e4\ud589 \uacb0\uacfc");}}else{if(_b!=null&&xml!=null&&xml.wq_trim()!=""){try{if(xsl!=""){_8=$W._B.parse(xml);_a=$W._B.transform(_8,xsl);}else{_a=$W._B.parse(xml);}if(_a==null){return;}var _d=$W._w.getAttribute(_a,"selected");if(_d!=null&&_d.wq_trim()!=""){strSelected=_d.wq_trim();}var _e=$W._w.getAttribute(_a,"allOption");if(_e=="true"){allOption="true";}else{if(_e=="false"){allOption="false";}}var _f=$W._w.getAttribute(_a,"chooseOption");if(_f=="true"){chooseOption="true";}else{if(_f=="false"){chooseOption="false";}}var _10=new Array();var _1c="";if($W._N.browserCheck.ie){_1c=_b.outerHTML;if(append=="true"){var _1d=_1c.lastIndexOf("<");if(_1d<1){if(_1c.lastIndexOf("<SELECT")==-1){_1c="<SELECT>";}}else{var _1e=_1c.indexOf("/>",_1d);if(_1e==-1){_1c=_1c.substring(0,_1d);}else{_1c=_1c.substring(0,_1e)+">";}}}else{var _1d=_1c.indexOf(">");if(_1d<1){_1c="<SELECT>";}else{if(_1c.charAt(_1d-1)=="/"){_1c=_1c.substring(0,(_1d-1))+">";}else{_1c=_1c.substring(0,(_1d+1));}}if(chooseOption=="true"){_10.push("<OPTION VALUE=''>"+chooseOptionText+"</OPTION>");}if(allOption=="true"){_10.push("<OPTION VALUE='all'>"+allOptionText+"</OPTION>");}}}else{if(append=="true"){_1c=_b.innerHTML;}else{if(chooseOption=="true"){_10.push("<OPTION VALUE=''>"+chooseOptionText+"</OPTION>");}if(allOption=="true"){_10.push("<OPTION VALUE='all'>"+allOptionText+"</OPTION>");}}}var _11=[];if(_a.documentElement.nodeName=="hashtable"){var _12=_a.documentElement.childNodes;if(_12.length==0){if(blankText!=""){var obj=new Object();obj["key"]="";obj["value"]=blankText;_11.push(obj);_10=new Array();}}else{for(var i=0;i<_12.length;i++){var _13=_12.item(i);if(_13.nodeType==1&&_13.nodeName=="data"){var obj=new Object();var _15=_13.getAttribute("hashkey");var _16=_13.getAttribute("value");if(_15!=null&&_16!=null){obj["key"]=_15;obj["value"]=_16;_11.push(obj);}}}}}if(sorted=="true"){var _17=true;for(var i=0;i<_11.length;i++){if(isNaN(_11[i]["key"])||_11[i]["key"].wq_trim()==""){_17=false;break;}}if(_17){_11=_11.sort($W._g.numericKeySort);}else{_11=_11.sort($W._g.normalKeySort);}}else{if(textSorted=="true"){var _17=true;for(var i=0;i<_11.length;i++){if(isNaN(_11[i]["value"])||_11[i]["value"].wq_trim()==""){_17=false;break;}}if(_17){_11=_11.sort($W._g.numericValueSort);}else{_11=_11.sort($W._g.normalValueSort);}}}if(strSelected!=null&&strSelected!=""){for(var i=0;i<_11.length;i++){if(_11[i]["key"].wq_trim()==strSelected){_10.push("<OPTION VALUE='"+_11[i]["key"]+"' SELECTED>"+_11[i]["value"]+"</OPTION>");}else{_10.push("<OPTION VALUE='"+_11[i]["key"]+"'>"+_11[i]["value"]+"</OPTION>");}}}else{if(strTextSelected!=null&&strTextSelected!=""){for(var i=0;i<_11.length;i++){if(_11[i]["value"].wq_trim()==strTextSelected){_10.push("<OPTION VALUE='"+_11[i]["key"]+"' SELECTED>"+_11[i]["value"]+"</OPTION>");}else{_10.push("<OPTION VALUE='"+_11[i]["key"]+"'>"+_11[i]["value"]+"</OPTION>");}}}else{for(var i=0;i<_11.length;i++){_10.push("<OPTION VALUE='"+_11[i]["key"]+"'>"+_11[i]["value"]+"</OPTION>");}}}if($W._N.browserCheck.ie){_b.outerHTML=_1c+_10.join("")+"</SELECT>";}else{_b.innerHTML=_1c+_10.join("");}}catch(e){$W.exception.printStackTrace(e);}}if(debug=="true"||debug=="y"){var obj=new Object();obj["result"]=$W._B.indent(_a);if(xsl!=""){obj["xml"]=$W._B.indent(_8);obj["xsl"]=$W._B.indent(_9);}$W.logger.showDebugMsg(obj,"xml","setXMLOption \uc2e4\ud589 \uacb0\uacfc");}}};$W._g.normalKeySort=function(a,b){["WebSquare.form.normalKeySort"];if(a["key"]>b["key"]){return 1;}else{if(a["key"]==b["key"]){return 0;}else{return -1;}}};$W._g.numericKeySort=function(a,b){["WebSquare.form.numericKeySort"];return parseInt(a["key"],10)-parseInt(b["key"],10);};$W._g.normalValueSort=function(a,b){["WebSquare.form.normalValueSort"];if(a["value"]>b["value"]){return 1;}else{if(a["value"]==b["value"]){return 0;}else{return -1;}}};$W._g.numericValueSort=function(a,b){["WebSquare.form.numericValueSort"];return parseInt(a["value"],10)-parseInt(b["value"],10);};$W._g.checkAll=function(_27,_28){["WebSquare.form.checkAll"];var _29=_27.form;for(var i=0;i<_29.elements.length;i++){var e=_29.elements[i];if((e.name==_28)&&(e.type=="checkbox")){e.checked=_27.checked;}}};$W._g.printForm=function(_2c,_2d){["WebSquare.form.printForm"];var _2e="<table style='width:510pt'><tr><td>Name</td><td>Type</td><td>Value</td></tr>\n";for(var i=0;i<_2c.elements.length;i++){var e=_2c.elements[i];if(_2d=="compact"){if(e.name!=null&&e.name!=""){if(e.type!="button"&&e.type!="image"&&e.type!="reset"&&e.type!="submit"){_2e=_2e+"<tr><td>"+e.name+"</td><td>"+e.type+"</td><td>"+e.value+"</td></tr>\n";}}}else{_2e=_2e+"<tr><td>"+e.name+"</td><td>"+e.type+"</td><td>"+e.value+"</td></tr>\n";}}_2e=_2e+"</table>\n";var obj=new Object();obj["Form Value"]=_2e;$W.logger.showDebugMsg(obj,"html","Form \uc815\ubcf4");};$W._g.getCheckValue=function(_32){["WebSquare.form.getCheckValue"];var obj=new Array();try{var _34=$W.document.getElementsByTagName("input");if(_34!=null){var j=0;for(var i=0;i<_34.length;i++){var e=_34[i];if((e.name==_32)&&(e.type=="checkbox")&&(e.checked==true)){obj[j]=e.value;j++;}}}}catch(e){$W.exception.printStackTrace(e);}return obj;};$W._g.addElement=function(_38,_39,_3a){["WebSquare.form.addElement"];var _3b=$W.document.getElementsByTagName("SELECT");if(_3b.length>0){for(var i=0;i<_3b.length;i++){if(_3b(i).name==_38){var _3d=$W.document.createElement("OPTION");_3d.value=_39;_3d.text=_3a;_3b(i).add(_3d);}}}};$W._g.deleteElement=function(_3e){["WebSquare.form.deleteElement"];var _3f=$W.document.getElementsByTagName("SELECT");if(_3f.length>0){for(var i=0;i<_3f.length;i++){if(_3f(i).name==_3e){for(var j=_3f(i).options.length-1;j>=0;j--){if(_3f(i).options(j).selected){_3f(i).options(j).removeNode();}}}}}};$W._g.copyElement=function(_42,_43){["WebSquare.form.copyElement"];var _44=$W.document.getElementsByTagName("SELECT");var _45,objTag2;if(_44.length>0){for(var i=0;i<_44.length;i++){if(_44(i).name==_42){_45=_44(i);}if(_44(i).name==_43){objTag2=_44(i);}}var _47=_45.options.length;for(var i=0;i<_47;i++){if(_45.options(i).selected){var _48=$W.document.createElement("OPTION");_48.value=_45.options(i).value;_48.text=_45.options(i).text;objTag2.add(_48);}}}};$W._g.moveElement=function(_49,_4a){["WebSquare.form.moveElement"];var _4b=$W.document.getElementsByTagName("SELECT");var _4c,objTag2;if(_4b.length>0){for(var i=0;i<_4b.length;i++){if(_4b(i).name==_49){_4c=_4b(i);}if(_4b(i).name==_4a){objTag2=_4b(i);}}var _4e=_4c.options.length;for(var i=0;i<_4e;i++){if(_4c.options(i).selected){objTag2.insertBefore(_4c.options(i),null);i--;_4e--;}}}};$W._g.movePosition=function(_4f,_50){["WebSquare.form.movePosition"];var _51=$W.document.getElementsByTagName("SELECT");if(_51.length>0){for(var i=0;i<_51.length;i++){if(_51(i).name==_4f){if(_50.toLowerCase()=="up"){for(var j=1;j<_51(i).options.length;j++){if(_51(i).options(j).selected){if(j==1&&_51(i).options(0).selected){return;}var obj=_51(i).options(j);_51(i).options(j-1).insertAdjacentElement("beforeBegin",obj);}}}else{if(_50.toLowerCase()=="down"){for(var j=_51(i).options.length-2;j>=0;j--){if(_51(i).options(j).selected){if(j==(_51(i).options.length-2)&&_51(i).options(_51(i).options.length-1).selected){return;}var obj=_51(i).options(j);_51(i).options(j+1).insertAdjacentElement("afterEnd",obj);}}}}}}}};$W._g.Form2XML=function(_55,_56){["WebSquare.form.Form2XML"];var _57="";try{var _58="FORMMSG";if(typeof _56!="undefined"&&_56!=null&&_56!=""){_58=_56;}_57+="<"+_58+">";for(var i=0;i<_55.elements.length;i++){var e=_55.elements[i];if(e.name!=null&&e.name!=""){if(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="file"||e.type=="hidden"){if(e.className.indexOf("Number")==0){var re=/[,]/g;_57+="<"+e.name+" value='"+$W._B.encode(e.value.replace(re,""))+"'/>\n";}else{if(e.className.indexOf("Date")==0){var re=/[\u002F]/g;_57+="<"+e.name+" value='"+$W._B.encode(e.value.replace(re,""))+"'/>\n";}else{if(e.className.indexOf("Time")==0){var re=/[:]/g;_57+="<"+e.name+" value='"+$W._B.encode(e.value.replace(re,""))+"'/>\n";}else{_57+="<"+e.name+" value='"+$W._B.encode(e.value)+"'/>\n";}}}}else{if(e.type=="checkbox"&&e.checked){_57+="<"+e.name+" value='"+$W._B.encode(e.value)+"'/>\n";}else{if(e.type=="radio"&&e.checked){_57+="<"+e.name+" value='"+$W._B.encode(e.value)+"'/>\n";}else{if(e.type=="select-one"){_57+="<"+e.name+" value='"+$W._B.encode(e.value)+"'/>\n";}else{if(e.type=="select-multiple"){for(var j=0;j<e.options.length;j++){var opt=e.options[j];if(opt.selected){_57+="<"+e.name+" value='"+$W._B.encode(opt.value)+"'/>\n";}}}}}}}}}_57+="</"+_58+">\n";}catch(e){$W.exception.printStackTrace(e);}return $W._B.parse(_57);};$W._g.XML2Form=function(doc,_5f){["WebSquare.form.XML2Form"];try{var dom=null;if(typeof doc=="string"){dom=$W._B.parse(doc);}else{if($W._B.isDocument(doc)){dom=doc;}else{if(typeof doc=="undefined"){return;}}}for(var i=0;i<_5f.elements.length;i++){var e=_5f.elements[i];if(e.name!=null&&e.name!=""){if(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="file"||e.type=="hidden"){if(e.className.indexOf("Number")==0){var _63="",commaStr="",cent="";var _64=$W._w.getString(dom,e.name);var re=/[,]/g;_64=_64.replace(re,"");if(_64.substring(0,1)=="+"||_64.substring(0,1)=="-"){_63=_64.substring(0,1);_64=_64.substring(1);}if(_64.indexOf(".")>-1){cent=_64.substring(_64.indexOf("."));_64=_64.substring(0,_64.indexOf("."));}var j=_64.length-3;for(;j>=1;j=j-3){commaStr=","+_64.substring(j,j+3)+commaStr;}commaStr=_64.substring(0,j+3)+commaStr;e.value=_63+commaStr+cent;}else{if(e.className.indexOf("Date")==0){var _67=$W._w.getString(dom,e.name);if(_67.length==8){e.value=_67.substring(0,4)+"/"+_67.substring(4,6)+"/"+_67.substring(6,8);}else{e.value=_67;}}else{if(e.className.indexOf("Time")==0){var _68=$W._w.getString(dom,e.name);if(_68.length==4){e.value=_68.substring(0,2)+":"+_68.substring(2,4);}else{e.value=_68;}}else{e.value=$W._w.getString(dom,e.name);}}}}else{if(e.type=="checkbox"){var _69=$W._B.getElementsByTagName(dom,e.name);for(var j=0;j<_69.length;j++){if(_69.item(j).getAttribute("value")==e.value){e.checked=true;break;}}}else{if(e.type=="radio"&&$W._w.getString(dom,e.name)==e.value){e.checked=true;}else{if(e.type=="select-one"){e.value=$W._w.getString(dom,e.name);}else{if(e.type=="select-multiple"){var _69=$W._B.getElementsByTagName(dom,e.name);for(var j=0;j<e.options.length;j++){var opt=e.options[j];for(var k=0;k<_69.length;k++){if(_69.item(k).getAttribute("value")==opt.value){opt.selected=true;break;}}}}}}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._g.checkForm=function(){["WebSquare.form.checkForm"];try{var _6c=new Array();var _6d=new Array();var str="";var _6f=arguments[0];for(var i=1;i<arguments.length;i++){_6c.push(arguments[i]);i++;_6d.push(arguments[i]);}for(var i=0;i<_6f.elements.length;i++){var e=_6f.elements[i];for(var j=0;j<_6c.length;j++){if(e.name==_6c[j]&&(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="file")&&(e.value==null||e.value=="")){if($W._A.isFinalConsonant(_6d[j])){str+="'"+_6d[j]+"'\uc740 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.\n";}else{str+="'"+_6d[j]+"'\ub294 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.\n";}alert(str);e.focus();return false;}else{if(e.name==_6c[j]&&e.type=="select-one"&&e.selectedIndex==0){if($W._A.isFinalConsonant(_6d[j])){str+="'"+_6d[j]+"'\uc744 \uc120\ud0dd\ud558\uc2ed\uc2dc\uc624.\n";}else{str+="'"+_6d[j]+"'\ub97c \uc120\ud0dd\ud558\uc2ed\uc2dc\uc624.\n";}alert(str);e.focus();return false;}}}}}catch(e){$W.exception.printStackTrace(e);}return true;};$W._g.nextTab=function(_73,_74,len){["WebSquare.form.nextTab"];if((event.keyCode<65||event.keyCode>90)&&(event.keyCode<48||event.keyCode>57)&&(event.keyCode<96||event.keyCode>105)){return;}if(typeof _74=="undefined"&&typeof len=="undefined"&&typeof _73!="undefined"&&typeof _73!="object"){if(event.srcElement.value.length>=_73){for(var i=event.srcElement.sourceIndex+1;i<$W.document.all.length;i++){if(typeof $W.document.all(i).tagName!="undefined"&&$W.document.all(i).tagName.toLowerCase()=="input"){$W.document.all(i).focus();break;}}}}else{if(_73.value.length>=len){_74.focus();}}};$W._g.timeKeyPress=function(tag){["WebSquare.form.timeKeyPress "];if((event.keyCode<48||event.keyCode>57)){event.returnValue=false;}};$W._g.timeKeyUp=function(tag){["WebSquare.form.timeKeyUp"];if((event.keyCode<48||event.keyCode>57)&&(event.keyCode<96||event.keyCode>105)){return;}var re=/[:]/g;var ret=tag.value.replace(re,"");if(ret.length==4){tag.value=ret;var _7b=parseInt(tag.value.substring(0,2),10);if(_7b>24||_7b<1){alert($W._m.getMessage("E_form_TimeKeyUpWrongHourFormat"));tag.value="";return;}var _7c=parseInt(tag.value.substring(2,4),10);if(_7c>59||_7c<0){alert($W._m.getMessage("E_form_TimeKeyUpWrongMinuteFormat"));tag.value=tag.value.substring(0,2);return;}tag.value=tag.value.substring(0,2)+":"+tag.value.substring(2,4);}else{if(ret.length>4){tag.value=ret;tag.value=tag.value.substring(0,2)+":"+tag.value.substring(2,4);}}};$W._g.dateKeyPress=function(tag){["WebSquare.form.dateKeyPress"];if((event.keyCode<48||event.keyCode>57)){event.returnValue=false;}};$W._g.dateKeyUp=function(tag){["WebSquare.form.dateKeyUp"];if((event.keyCode<48||event.keyCode>57)&&(event.keyCode<96||event.keyCode>105)){return;}var re=/[\u002F]/g;var ret=tag.value.replace(re,"");if(ret.length==8){tag.value=ret;var _81=parseInt(tag.value.substring(4,6),10);if(_81>12||_81<1){alert("\uc6d4 \uc785\ub825\uc774 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");tag.value=tag.value.substring(0,4);return;}switch(_81){case 1:if(!$W._g.checkDay(tag,1,31)){return;}break;case 2:if(!$W._g.checkFebDay(tag)){return;}break;case 3:if(!$W._g.checkDay(tag,1,31)){return;}break;case 4:if(!$W._g.checkDay(tag,1,30)){return;}break;case 5:if(!$W._g.checkDay(tag,1,31)){return;}break;case 6:if(!$W._g.checkDay(tag,1,30)){return;}break;case 7:if(!$W._g.checkDay(tag,1,31)){return;}break;case 8:if(!$W._g.checkDay(tag,1,31)){return;}break;case 9:if(!$W._g.checkDay(tag,1,30)){return;}break;case 10:if(!$W._g.checkDay(tag,1,31)){return;}break;case 11:if(!$W._g.checkDay(tag,1,30)){return;}break;case 12:if(!$W._g.checkDay(tag,1,31)){return;}break;}tag.value=tag.value.substring(0,4)+"/"+tag.value.substring(4,6)+"/"+tag.value.substring(6,8);}else{if(ret.length>8){tag.value=ret;tag.value=tag.value.substring(0,4)+"/"+tag.value.substring(4,6)+"/"+tag.value.substring(6,8);}}};$W._g.checkFebDay=function(tag){["WebSquare.form.checkFebDay"];var _83=parseInt(tag.value.substring(0,4),10);if((_83%4)==0){if((_83%100)==0){if((_83%400)==0){return $W._g.checkDay(tag,1,29);}else{return $W._g.checkDay(tag,1,28);}}else{return $W._g.checkDay(tag,1,29);}}else{return $W._g.checkDay(tag,1,28);}};$W._g.checkDay=function(tag,min,max){["WebSquare.form.checkDay"];var day=parseInt(tag.value.substring(6,8),10);if(day>max||day<min){alert("\uc77c \uc785\ub825\uc774 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");tag.value=tag.value.substring(0,6);return false;}return true;};$W._g.getAbsoluteTop_old=function(_88){["WebSquare.form.getAbsoluteTop_old"];var _89=_88;var _8a=0;try{while(_89.tagName!="BODY"){var _8b=$W._G.parseFloat($W._G.getStyleProperty(_89,"border-top-width"),0);if($W._G.isOpera()){_8b=0;}_8a+=_89.offsetTop-_89.scrollTop+_8b;_89=_89.offsetParent;}}catch(e){}if(!$W._G.isFF()&&!$W._G.isIE(8)&&!$W._G.isOpera()){}if($W._G.isIE("6 7")){}return _8a;};$W._g.getAbsoluteTop=function(_8c){["WebSquare.form.getAbsoluteTop"];return $W._H.getAbsoluteTop(_8c);};$W._g.getAbsoluteLeft_old=function(_8d){["WebSquare.form.getAbsoluteLeft_old"];var _8e=_8d;var _8f=0;try{while(_8e.tagName!="BODY"){var _90=$W._G.parseFloat($W._G.getStyleProperty(_8e,"border-left-width"),0);if($W._G.isOpera()){_90=0;}_8f+=_8e.offsetLeft+_90-_8e.scrollLeft;_8e=_8e.offsetParent;}}catch(e){}if($W._G.isIE("6 7")){}if(!$W._G.isFF()&&!$W._G.isIE(8)){}return _8f;};$W._g.getAbsoluteLeft=function(_91){["WebSquare.form.getAbsoluteLeft"];return $W._H.getAbsoluteLeft(_91);};$W._g.disableForm=function(){["WebSquare.form.disableForm"];try{var _92=new Array();var _93=arguments[0];for(var i=1;i<arguments.length;i++){_92.push(arguments[i]);}for(var i=0;i<_93.elements.length;i++){var e=_93.elements[i];for(var j=0;j<_92.length;j++){if((_92[j]=="all"||e.name==_92[j])&&(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="button"||e.type=="checkbox"||e.type=="radio"||e.type=="file"||e.type=="select-one"||e.type=="select-multiple")){e.disabled=true;}}}}catch(e1){$W.exception.printStackTrace(e1);}};$W._g.enableForm=function(){["WebSquare.form.enableForm"];try{var _97=new Array();var _98=arguments[0];for(var i=1;i<arguments.length;i++){_97.push(arguments[i]);}for(var i=0;i<_98.elements.length;i++){var e=_98.elements[i];for(var j=0;j<_97.length;j++){if((_97[j]=="all"||e.name==_97[j])&&(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="button"||e.type=="checkbox"||e.type=="radio"||e.type=="file"||e.type=="select-one"||e.type=="select-multiple")){e.disabled=false;}}}}catch(e1){$W.exception.printStackTrace(e1);}};$W._g.getRadioValue=function(_9c){["WebSquare.form.getRadioValue"];var obj="";try{var _9e=$W.document.getElementsByTagName("input");if(_9e!=null){for(var i=0;i<_9e.length;i++){var e=_9e[i];if((e.name==_9c)&&(e.type=="radio")&&(e.checked==true)){obj=e.value;}}}}catch(e1){$W.exception.printStackTrace(e1);}return obj;};$W._g.lockObject=null;$W._g.lock=function(){["WebSquare.form.lock"];try{if($W._g.lockObject==null){$W._g.lockObject=new Array();var _a1=$W.document.forms;var _a2=_a1.length;for(var i=0;i<_a2;i++){var _a4=_a1[i];var _a5=_a4.elements.length;for(var j=0;j<_a5;j++){var e=_a4.elements[j];if(e.disabled==false&&(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="button"||e.type=="checkbox"||e.type=="radio"||e.type=="file"||e.type=="select-one"||e.type=="select-multiple")){$W._g.lockObject.push(e);e.disabled=true;}}}}}catch(e1){$W.exception.printStackTrace(e1);}};$W._g.release=function(){["WebSquare.form.release"];try{if($W._g.lockObject!=null){for(var i=0;i<$W._g.lockObject.length;i++){$W._g.lockObject[i].disabled=false;}$W._g.lockObject=null;}}catch(e){$W.exception.printStackTrace(e);}};$W._g.resetForm=function(){["WebSquare.form.resetForm"];try{var _a9=$W.document.forms;var _aa=_a9.length;for(var i=0;i<_aa;i++){var _ac=_a9[i];var _ad=_ac.elements.length;for(var j=0;j<_ad;j++){var e=_ac.elements[j];if(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="file"){e.value=e.defaultValue;}else{if(e.type=="checkbox"||e.type=="radio"){e.checked=e.defaultChecked;}else{if(e.type=="select-one"||e.type=="select-multiple"){e.selectedIndex=0;}}}}}}catch(e1){$W.exception.printStackTrace(e1);}};$W._g.getFormObject=function(_b0){["WebSquare.form.getFormObject"];try{if(_b0.indexOf(".")>-1){var obj=$W._N.getComponentById(_b0);if(typeof obj=="undefined"){return null;}return obj;}else{var _b2=_b0.indexOf("[");var _b3=_b0.indexOf("(");var _b4=_b0;var _b5=0;if(_b2>-1){var _b6=_b0.indexOf("]");if(_b6>-1){_b4=_b0.substring(0,_b2);_b5=parseInt(_b0.substring(_b2+1,_b6));}}else{if(_b3>-1){var _b6=_b0.indexOf(")");if(_b6>-1){_b4=_b0.substring(0,_b3);_b5=parseInt(_b0.substring(_b3+1,_b6));}}}var _b7=$W.document.getElementsByTagName("input");var _b8=0;if(_b7!=null){for(var i=0;i<_b7.length;i++){var obj=_b7[i];if(obj.name==_b4){if(_b8==_b5){return obj;}_b8++;}}}}}catch(e){$W.exception.printStackTrace(e);}return null;};$W._g.getSelectObject=function(_ba){["WebSquare.form.getSelectObject"];var _bb=null;try{_bb=$W._N.getComponentById(_ba);}catch(e){_bb=null;}imports("uiplugin.selectbox");if(_bb&&_bb instanceof $W._a._q){return $W._N.getComponentById(_ba);}try{if(_ba.indexOf(".")>-1){var obj=$W._N.getComponentById(_ba);if(typeof obj=="undefined"){return null;}if(obj.type=="select-one"||obj.type=="select-multiple"){return obj;}else{return null;}}else{var _bd=_ba.indexOf("[");var _be=_ba.indexOf("(");var _bf=_ba;var _c0=0;if(_bd>-1){var _c1=_ba.indexOf("]");if(_c1>-1){_bf=_ba.substring(0,_bd);_c0=parseInt(_ba.substring(_bd+1,_c1));}}else{if(_be>-1){var _c1=_ba.indexOf(")");if(_c1>-1){_bf=_ba.substring(0,_be);_c0=parseInt(_ba.substring(_be+1,_c1));}}}var _c2=$W.document.getElementsByTagName("SELECT");var _c3=0;if(_c2!=null){for(var i=0;i<_c2.length;i++){var obj=_c2[i];if(obj.name==_bf||obj.id==_bf){if(_c3==_c0){return obj;}_c3++;}}}}}catch(e){$W.exception.printStackTrace(e);}return null;};$W._g.setCheckValue=function(_c5,obj){["WebSquare.form.setCheckValue"];try{if(obj==null){return;}var _c7=$W.document.getElementsByTagName("input");if(_c7!=null){for(var i=0;i<_c7.length;i++){var e=_c7[i];if((e.name==_c5)&&(e.type=="checkbox")){for(var j=0;j<obj.length;j++){if(obj[j]==e.value){e.checked=true;break;}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._g.getRelativeTop=function(_cb,_cc){["WebSquare.form.getRelativeTop"];var _cd=_cb;var _ce=0;try{while(_cd!=_cc&&_cd.tagName!="BODY"){_ce+=_cd.offsetTop;_cd=_cd.offsetParent;}}catch(e){}return _ce;};$W._g.getRelativeLeft=function(_cf,_d0){["WebSquare.form.getRelativeLeft"];var _d1=_cf;var _d2=0;try{while(_d1!=_d0&&_d1.tagName!="BODY"){_d2+=_d1.offsetLeft;_d1=_d1.offsetParent;}}catch(e){}return _d2;};$W._g.getOffsetLeft=function(_d3){["WebSquare.form.getOffsetLeft"];var _d4=_d3;var _d5=0;try{if($W._G.isIE("6 7")){while(_d4&&_d4.tagName.toLowerCase()!="body"){var _d6=$W._G.getStyleProperty(_d4,"position");if(_d6=="absolute"){break;}_d5+=_d4.offsetLeft;_d4=_d4.offsetParent;}}else{_d5=_d4.offsetLeft;}}catch(e){}return _d5;};$W._g.getOffsetTop=function(_d7){["WebSquare.form.getOffsetTop"];var _d8=_d7;var Top=0;try{if($W._G.isIE("6 7")){while(_d8&&_d8.tagName.toLowerCase()!="body"){var _da=$W._G.getStyleProperty(_d8,"position");if(_da=="absolute"){break;}Top+=_d8.offsetTop;_d8=_d8.offsetParent;}}else{Top=_d8.offsetTop;}}catch(e){}return Top;};;WebSquare.form=$W._g;$W._r={};$W._r.paramObj=null;$W._r.asyncCount=0;$W._r.getParameter=function(_1){["WebSquare.net.getParameter"];var _2="";try{if($W._r.paramObj==null){$W._r.paramObj=new Object();var _3=location.search.substring(1);var _4=_3.split("&");for(var i=0;i<_4.length;i++){var _6=_4[i].split("=");if(_6.length==2){$W._r.paramObj[(_6[0]).wq_trim()]=(_6[1]).wq_trim();}}if(location.hash.length>0){var _3=location.hash.substring(1);var _4=_3.split(/[\&\?\#]/);for(var i=0;i<_4.length;i++){var _6=_4[i].split("=");if(_6.length==2){$W._r.paramObj[(_6[0]).wq_trim()]=(_6[1]).wq_trim();}}}}else{if(_1=="w2xPath"){var _7=location.toString().lastIndexOf("w2xPath");if(_7<0){$W._r.paramObj[_1]=null;}else{var _8=location.toString().slice(_7);_8=_8.split(/[\&\?\#]/)[0];var _6=_8.split("=");if(_6.length==2){$W._r.paramObj[(_6[0]).wq_trim()]=(_6[1]).wq_trim();}}}else{if($W.userData[_1]!=null){return $W.userData[_1];}}}_2=$W._r.paramObj[_1];}catch(e){e.detail="WebSquare.net.getParameter \uc5d0\ub7ec";$W.exception.printStackTrace(e);}if(_2==null||typeof _2=="undefined"){_2="";}return $W._A.URLDecoder(_2);};$W._r.getAllParameter=function(){["WebSquare.net.getAllParameter"];var _9={};try{for(obj in $W._r.paramObj){_9[obj]=$W._A.URLDecoder($W._r.paramObj[obj]);}}catch(e){$W.exception.printStackTrace(e);}return _9;};$W._r.getBASE64Parameter=function(_a){["WebSquare.net.getBASE64Parameter"];var _b="";try{if($W._r.paramObj==null){$W._r.paramObj=new Object();var _c=location.search.substring(1);var _d=_c.split("&");for(var i=0;i<_d.length;i++){var _f=_d[i].split("=");if(_f.length==2){$W._r.paramObj[(_f[0]).wq_trim()]=(_f[1]).wq_trim();}}}_b=$W._r.paramObj[_a];}catch(e){e.detail="WebSquare.net.getBASE64Parameter \uc5d0\ub7ec";$W.exception.printStackTrace(e);}if(_b==null||typeof _b=="undefined"){_b="";}return $W._A.BASE64URLDecoder(_b);};$W._r.getAllBASE64Parameter=function(){["WebSquare.net.getAllBASE64Parameter"];var _10={};try{for(obj in $W._r.paramObj){_10[obj]=$W._A.BASE64URLDecoder($W._r.paramObj[obj]);}}catch(e){$W.exception.printStackTrace(e);}return _10;};$W._r.showWindow=function(url,obj,_13,_14,_15){["WebSquare.net.showWindow"];if(typeof _13=="undefined"||_13==null){_13="channelmode=no,directories=no,fullscreen=no,top=200,height=350,left=250,width=400,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no'";}else{var _16=0,dialogWidth=0,center="false";var _17=_13.split(";");if(_17.length>1){_13="";for(var i=0;i<_17.length;i++){var _19=_17[i].split(":");if(_19.length==2){if(_19[0].wq_trim()=="dialogHeight"){_16=parseInt(_19[1].wq_trim(),10);_13+="height="+_19[1]+",";}else{if(_19[0].wq_trim()=="dialogWidth"){dialogWidth=parseInt(_19[1].wq_trim(),10);_13+="width="+_19[1]+",";}else{if(_19[0].wq_trim()=="center"){center=_19[1].toLowerCase().wq_trim();}else{_13+=_19[0]+"="+_19[1]+",";}}}}}}if(center=="true"||center=="yes"){if(_16!=0){var top=(740-_16)/2;_13="top="+top+"px,"+_13;}if(dialogWidth!=0){var _1b=(1000-dialogWidth)/2;_13="left="+_1b+"px,"+_13;}}}var idx="idx10_"+(new Date()).getTime()+Math.random()*10000;if(typeof obj=="undefined"){$W._r.showWindowParam[idx]=null;}else{$W._r.showWindowParam[idx]=obj;}if(url.indexOf("?")>-1){url=url+"&modalParamIdx="+idx;}else{url=url+"?modalParamIdx="+idx;}var _1d=null;if(typeof _14=="undefined"){_1d=window.open(url,"_blank",_13);}else{_1d=window.open(url,_14,_13);}if(_1d==null){alert($W._m.getMessage("E_net_PopupBlocked"));}return _1d;};$W._r.showWindowParam=new Object();$W._r.showIFrameName=new Object();$W._r.getPopupParam=function(){["WebSquare.net.getPopupParam"];try{var str=$W._r.getParameter("modalParamIdx");return opener.WebSquare.net._getParam(str);}catch(e){return "";}};$W._r._getParam=function(_1f){["WebSquare.net._getParam"];var ret=$W._r.showWindowParam[_1f];return ret;};$W._r.isPopup=function(){["WebSquare.net.isPopup"];try{if(typeof window.opener=="undefined"){return false;}else{if(window.opener.closed){return false;}else{return true;}}}catch(e){return false;}};$W._r.Obj2XML=function(_21){["WebSquare.net.Obj2XML"];var _22="<obj>";for(var _23 in _21){_22=_22+"<"+_23+" value='"+$W._B.encode(_21[_23])+"'/>";}_22=_22+"</obj>";return _22;};$W._r.XML2Obj=function(doc){["WebSquare.net.XML2Obj"];var obj=new Object();try{var dom=null;if(typeof doc=="string"){dom=$W._B.parse(doc);}else{if($W._B.isDocument(doc)){dom=doc;}else{return "";}}var _27=dom.documentElement;if(_27.nodeName=="vector"||_27.nodeName=="hashtable"){return "";}else{var _28=_27.childNodes;for(var i=0;i<_28.length;i++){var _2a=_28.item(i);if(_2a.nodeType==1){var _2b=_2a.nodeName;var _2c=_2a.getAttribute("value");if(_2c==null){_2c="";}obj[_2b]=_2c;}}}}catch(e){$W.exception.printStackTrace(e);}return obj;};$W._r.showIFrame=function(url,obj,_2f,_30){["WebSquare.net.showIFrame"];var _31=0,dialogWidth=0,center="false";if(typeof _2f=="undefined"||_2f==null){_2f="height=370,width=320";}else{var _32=url;var _33=_2f.split(";");if(_33.length>1){_2f="";for(var i=0;i<_33.length;i++){var _35=_33[i].split(":");if(_35.length==2){if(_35[0].wq_trim()=="dialogHeight"){_31=parseInt(_35[1].wq_trim(),10);_2f+="height="+_35[1]+",";}else{if(_35[0].wq_trim()=="dialogWidth"){dialogWidth=parseInt(_35[1].wq_trim(),10);_2f+="width="+_35[1]+",";}else{if(_35[0].wq_trim()=="center"){center=_35[1].toLowerCase().wq_trim();}else{_2f+=_35[0]+"="+_35[1]+",";}}}}}}}var idx="idx11_"+(new Date()).getTime()+Math.random()*10000;if(typeof obj=="undefined"){$W._r.showWindowParam[idx]=null;}else{$W._r.showWindowParam[idx]=obj;}if(_32.indexOf("?")>-1){_32=_32+"&modalParamIdx="+idx;}else{_32=_32+"?modalParamIdx="+idx;}if(typeof _30=="undefined"){_30="___iframeLayer";}$W._r.showIFrameName[idx]=_30;if(isNaN(_31)||_31==0){_31=370;}if(isNaN(dialogWidth)||dialogWidth==0){dialogWidth=320;}try{if(typeof document.all[_30]=="undefined"||document.all[_30]==null){var _37=$W.document.createElement("div");_37.id=_30;_37.style.position="absolute";_37.style.overflow="hidden";_37.style.zIndex=10000;_37.style.visibility="visible";_37.style.height=_31+"px";_37.style.width=dialogWidth+"px";_37.style.setExpression("top","document.body.scrollTop+document.body.clientHeight/2-"+_31+"/2");_37.style.setExpression("left","document.body.scrollLeft+document.body.clientWidth/2-"+dialogWidth+"/2");document.body.appendChild(_37);_37.innerHTML="<iframe frameborder='0' name='iframe"+_30+"' scrolling='no' style='width:100%; height:100%'></iframe>";document.frames["iframe"+_30].location.replace(_32);}else{var _38=document.body.scrollTop+document.body.clientHeight/2-parseInt(document.all[_30].style.height)/2;var _39=document.body.scrollLeft+document.body.clientWidth/2-parseInt(document.all[_30].style.width)/2;document.all[_30].style.top=_38;document.all[_30].style.left=_39;document.all[_30].visibility="visible";document.all[_30].style.zIndex=10000;document.all[_30].innerHTML="<iframe frameborder='0' scrolling='no' src='"+_32+"' style='width:100%; height:100%;'></iframe>";}}catch(eee){_2f="channelmode=no,directories=no,fullscreen=no,top=200,height=350,left=250,width=400,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";$W._r.showWindow(url,obj,_2f,_30);$W.exception.printStackTrace(eee);}};$W._r.hideIFrame=function(){["WebSquare.net.hideIFrame"];try{if($W._N.isParentFrameMethod("WebSquare.net._hideIFrame")){var str=$W._r.getParameter("modalParamIdx");parent.WebSquare.net._hideIFrame(str);}}catch(e){$W.exception.printStackTrace(e);}};$W._r._hideIFrame=function(idx){["WebSquare.net._hideIFrame"];var _3c=$W._r.showIFrameName[idx];if(typeof document.all[_3c]!="undefined"&&document.all[_3c]!=null){document.all[_3c].innerHTML="";document.all[_3c].style.zIndex=1;document.all[_3c].visibility="hidden";document.body.removeChild(document.all[_3c]);}};$W._r.getIFrameParam=function(){["WebSquare.net.getIFrameParam"];try{if($W._N.isParentFrameMethod("WebSquare.net._getParam")){var str=$W._r.getParameter("modalParamIdx");return parent.WebSquare.net._getParam(str);}else{return "";}}catch(e){$W.exception.printStackTrace(e);return "";}};$W._r.hasParentFrame=function(){["WebSquare.net.hasParentFrame"];try{if($W._N.browserCheck.ieAllVersion){var _3e=$W._N.browserVersion();if(_3e.charAt(0)=="5"&&window.parent!=window){return true;}else{if((_3e=="6"||_3e=="7")&&window.parent!=window&&window.parent==window.frameElement.ownerDocument.parentWindow){return true;}else{if(window.parent!=window){return true;}else{return false;}}}}else{if($W._N.browserCheck.moz){if(window.parent!=window){return true;}else{return false;}}else{if($W._N.browserCheck.opera){if(window.parent!=window){return true;}else{return false;}}}}}catch(e){$W.exception.printStackTrace(e);}return false;};$W._r.openWebsquareUrl=function(url,_40,_41,spa){if(!_41){_41=window;}if(_41&&_41.location){spa=spa||($W._N.getConfiguration("/WebSquare/spa/@value")=="true");if(spa){$W._G.url(url,{spa:true});return;}var _40=$W.extend($W._r.getAllParameter(),_40);_40["w2xPath"]=$W._N.getURL(url);if(url.startsWith("/")){_40["w2xHome"]="";}var _43=[];var _44="";for(obj in _40){_43.push(obj+"="+_40[obj]);}_44="?"+_43.join("&");url=_41.location.href.replace(/\?.*/,_44);_41.location.assign(url);}};$W._r.openUrl=function(url,_46){if(!_46){_46=window;}if(_46&&_46.location){var _47=_46.location.protocol+"//";if(!url.startsWith(_47)){url=_47+url;}_46.location.assign(url);}};$W._r.getSSLBlankPage=function(_48){var src="";if($W._N.browserCheck.ie&&location.protocol=="https:"){if(_48==true){src=$W.baseURI+"blank.html";}else{src="src='"+$W.baseURI+"blank.html'";}}return src;};$W._r.getBlankXML=function(){var _4a=location.pathname.lastIndexOf("/");if(_4a>=0){return location.pathname.slice(0,_4a)+"/blank.xml";}else{return "/blank.xml";}};$W._r.isSSLBlankPage=function(url){var _4c=false;if(url==$W.baseURI+"blank.html"){_4c=true;}return _4c;};$W._r.ajax=function(_4d){try{var _4e,result,errorEventObj,doneEventObj;if(_4d.beforeAjax){_4e=_4d.beforeAjax(_4d);if(typeof _4e!="undefined"&&_4e==false){$l("ajax beforeAjax\uc5d0\uc11c result\uac00 false\uc774\ubbc0\ub85c \ucc98\ub9ac\ub97c \uc911\ub2e8");return;}}if(_4d.processMsg!=""){var _4f=$W.document.getElementById("___processbar2");var _50=$W.document.getElementById("___processbar2_i");if(((typeof _4f=="undefined"||_4f==null)&&(typeof _50=="undefined"||_50==null))||(_4f.style.display=="none"&&_50.style.display=="none")){$W.layer.showProcessMessage(_4d.processMsg);}}var obfuscator_http=$W._N.getXMLHTTPObject();var url=$W._G.getSubmissionURL(_4d.action);var _52=(_4d.mode=="synchronous")?false:true;var _53=_4d.mediatype||"application/xml";var _54=_4d.method||"post";var _55=_4d.requestData;var _56=_4d.timeout;if(_52){$W._r.asyncCount++;}$l(url);obfuscator_http.open(_54,url,_52);try{if(_4d.withCredentials){if(_4d.mode=="asynchronous"){obfuscator_http.withCredentials=_4d.withCredentials;}}}catch(ee){$W.exception.printStackTrace(ee);}obfuscator_http.setRequestHeader("Accept",_53);obfuscator_http.setRequestHeader("Content-Type",_53);try{if(_4d.requestHeader){for(var _57 in _4d.requestHeader){obfuscator_http.setRequestHeader(_57,_4d.requestHeader[_57]);}}}catch(ee){$W.exception.printStackTrace(ee);}var _58;if(_52){if(_56){_58=window.setTimeout(function(){obfuscator_http.onreadystatechange=function(){};obfuscator_http.abort();errorEventObj={"errorType":"timeout-error","resourceUri":url,"time":_56};$W._r.asyncCount--;if($W._r.asyncCount<=0&&_4d.hideProcessMsg!==false){$W.layer.hideProcessMessage();}$l("ajax timeout");window.clearTimeout(_58);if(_4d.error){_4d.error(errorEventObj);}return;},_56);}obfuscator_http.onreadystatechange=function(){$W._r.defaultcallback(obfuscator_http,_4d,_58);};}var _59=$W._N.getConfiguration("/WebSquare/ajax/externalHandler/@value")||"";if(typeof _4d.externalHandler!="undefined"){_59=_4d.externalHandler;}if(_59==""||_59=="default"){}else{if(_59){if(typeof _59=="function"){_4d.requestData=_59(_4d);}else{_4d.requestData=eval(_59+"( option )");}}}obfuscator_http.send(_4d.requestData);if(!_52){$W._r.commonHandler(obfuscator_http,_4d);}}catch(e){$W.exception.printStackTrace(e);$W.layer.hideProcessMessage();$W._r.asyncCount=0;}};$W._r.commonHandler=function(obfuscator_http,_5a){var _5b;var _5c=(_5a.mode=="synchronous")?false:true;if(_5c){$W._r.asyncCount--;}var url=$W._N.getURL(_5a.action);var _5e=obfuscator_http.getResponseHeader("Content-Type")||"";if(_5e.indexOf("xml")>-1){if($W.BootLoader.useWebSquareXMLParser){_5b=$W._B.parse(obfuscator_http.responseText);}else{_5b=obfuscator_http.responseXML;}}else{if(_5e.indexOf("json")>-1){_5b=JSON.parse(obfuscator_http.responseText);}else{_5b=obfuscator_http.responseText;}}var _5f=function(obj){if(_5e.indexOf("json")>-1){obj.responseJSON=_5b;}else{if(_5e.indexOf("xml")>-1){obj.responseBody=_5b;}}};if((obfuscator_http)&&((200>obfuscator_http.status)||(300<=obfuscator_http.status))){var _61={"errorType":"resource-error","resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_5a.requestData,"responseBody":"text/"+obfuscator_http.responseText};$l("ajax error(E01). Status["+obfuscator_http.status+"] ");if(($W._r.asyncCount<=0)&&_5a.hideProcessMsg!==false){$W.layer.hideProcessMessage();$W._r.asyncCount=0;}if(_5a.error){_5a.error(_61);}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;return;}var _62={"resourceUri":url,"responseHeaders":$W._J.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_5a.requestData,"responseText":obfuscator_http.responseText};_5f(_62);$l("ajax complete. Status["+obfuscator_http.status+"] async["+_5c+"] url["+url+"]");if(($W._r.asyncCount<=0)&&_5a.hideProcessMsg!==false){$W.layer.hideProcessMessage();$W._r.asyncCount=0;}if(_5a.success){_5a.success(_62);}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;};$W._r.defaultcallback=function(obfuscator_http,_63,_64){try{var _65;var url=$W._N.getURL(_63.action);var _67=_63.requestData;if(obfuscator_http.readyState==4){if(_64){window.clearTimeout(_64);_64=null;}$W._r.commonHandler(obfuscator_http,_63);}}catch(e){$W.exception.printStackTrace(e);$W.layer.hideProcessMessage();$W._r.asyncCount=0;}};$W._r.download=function(_68,_69,_6a){["WebSquare.net.download"];$W._N.download(_68,_69,_6a);};;WebSquare.net=$W._r;$W._l={};$W._l.sessionData={};$W._l.sessionType=new Object();$W._l.getAttribute=function(_1){["WebSquare.session.getAttribute"];var obfuscator_retStr=$W._N.recursiveCall_leaf("WebSquare.session._getAttributeData",_1);var _2=$W._N.recursiveCall_leaf("WebSquare.session._getAttributeType",_1);if(typeof obfuscator_retStr=="undefined"||obfuscator_retStr==null){return null;}if(_2.toLowerCase()=="string"||_2.toLowerCase()=="number"||_2.toLowerCase()=="boolean"){return obfuscator_retStr;}else{if(_2=="xml"){return $W._B.parse(obfuscator_retStr);}else{if(_2=="object"){return obfuscator_retStr;}else{return eval("new "+_2+"( obfuscator_retStr )");}}}};$W._l.removeAttribute=function(_3){["WebSquare.session.removeAttribute"];var obfuscator_retStr=$W._N.recursiveCall("WebSquare.session._removeAttributeData",_3);var _4=$W._N.recursiveCall("WebSquare.session._removeAttributeType",_3);if(typeof obfuscator_retStr=="undefined"||obfuscator_retStr==null){return null;}if(_4.toLowerCase()=="string"||_4.toLowerCase()=="number"||_4.toLowerCase()=="boolean"){return obfuscator_retStr;}else{if(_4=="xml"){return $W._B.parse(obfuscator_retStr);}else{if(_4=="object"){return obfuscator_retStr;}else{return eval("new "+_4+"( obfuscator_retStr )");}}}};$W._l.removeSession=function(){["WebSquare.session.removeSession"];var _5=$W._N.recursiveCall("WebSquare.session._removeSession");var _6=$W._N.recursiveCall("WebSquare.session._removeSession");};$W._l.setAttribute=function(_7,_8){["WebSquare.session.setAttribute"];var _9="object";if(typeof _8=="string"){_9="string";}else{if($W._B.isDocument(_8)){_8=$W._B.serialize(_8);_9="xml";}else{if(typeof _8=="object"){if(typeof _8.serialize=="function"&&typeof _8.classType!="undefined"){_9=_8.classType;_8=_8.serialize();}else{_8=_8;_9="object";}}}}$W._N.recursiveCall("WebSquare.session._setAttribute",_7,_8,_9);};$W._l._getAttributeData=function(_a){["WebSquare.session._getAttributeData"];var _b=$W._l.sessionData[_a];if(typeof _b=="undefined"||_b==null){return null;}return _b;};$W._l._getAttributeType=function(_c){["WebSquare.session._getAttributeType"];var _d=$W._l.sessionType[_c];if(typeof _d=="undefined"||_d==null){return null;}return _d;};$W._l._removeAttributeData=function(_e){["WebSquare.session._removeAttributeData"];var _f=$W._l.sessionData[_e];$W._l.sessionData[_e]=null;delete $W._l.sessionData[_e];if(typeof _f=="undefined"||_f==null){return null;}return _f;};$W._l._removeAttributeType=function(key){["WebSquare.session._removeAttributeType"];var _11=$W._l.sessionType[key];$W._l.sessionType[key]=null;delete $W._l.sessionType[key];if(typeof _11=="undefined"||_11==null){return null;}return _11;};$W._l._removeSession=function(key){["WebSquare.session._removeSession"];$W._l.sessionData={};$W._l.sessionType={};};$W._l._setAttribute=function(key,_14,_15){["WebSquare.session._setAttribute"];$W._l.sessionData[key]=_14;$W._l.sessionType[key]=_15;};;WebSquare.session=$W._l;(function(_1){$W._G={};$W._G.loadedUserComponent={};$W._G.loadedUserComponentPluginName={};$W._G.loadedInheritComponent={};$W._G.loadedInheritComponentPluginName={};var _2=_1.document;$W._G.documentWrite=function(_3,_4){["WebSquare.util.documentWrite"];if(typeof _4!="undefined"&&_4!=null&&_4!=""){var _5=_2.getElementById(_4);_5.innerHTML=_3;}else{_2.write(_3);}};$W._G.numericSort=function(a,b){["WebSquare.util.numericSort"];return (parseInt(a,10)-parseInt(b,10));};$W._G.getNumber=function(_8){["WebSquare.util.getNumber"];var _9=_8+"";var re=/,/g;var _b=/[^0-9.-]/g;var _c=_9.replace(re,"");if(_c.match(_b)!=null){alert("Not a Number :"+_9);return NaN;}if(_c==null||_c==""){_c="0";}if(_c.indexOf(".")==-1){return parseInt(_c,10);}else{return parseFloat(_c);}};$W._G.setNumber=function(_d){["WebSquare.util.setNumber"];var _e=_d+"";if(_e.length==0){return;}var _f="";var _10="";var _11="";if(_e.substring(0,1)=="+"||_e.substring(0,1)=="-"){_f=_e.substring(0,1);_e=_e.substring(1);}if(_e.indexOf(".")>-1){_11=_e.substring(_e.indexOf("."));_e=_e.substring(0,_e.indexOf("."));}for(var i=_e.length-3;i>=1;i=i-3){_10=","+_e.substring(i,i+3)+_10;}_10=_e.substring(0,i+3)+_10;return _f+_10+_11;};$W._G.parseInt=function(str,_14){["WebSquare.util.parseInt"];var ret=parseInt(str,10);if(typeof _14!="undefined"&&!isNaN(_14)&&isNaN(ret)){return _14;}else{return ret;}};$W._G.parseFloat=function(str,_17){["WebSquare.util.parseFloat"];var ret=parseFloat(str);if(typeof _17!="undefined"&&!isNaN(_17)&&isNaN(ret)){return _17;}else{return ret;}};$W._G.getDate=function(str){["WebSquare.util.getDate"];var _1a=str+"";if(_1a.length==10){var re=/[^0-9]/g;return _1a.replace(re,"");}else{return _1a;}};$W._G.setDate=function(str){["WebSquare.util.setDate"];var _1d=str+"";if(_1d.length!=8){return;}return _1d.substring(0,4)+"/"+_1d.substring(4,6)+"/"+_1d.substring(6,8);};$W._G.getTime=function(str){["WebSquare.util.getTime"];var _1f=str+"";if(_1f.length==5){var re=/[^0-9]/g;return _1f.replace(re,"");}else{if(_1f.length==8){var re=/[^0-9]/g;return _1f.replace(re,"");}else{return _1f;}}};$W._G.setTime=function(str){["WebSquare.util.setTime"];var _22=str+"";if(_22.length!=4){return;}return _22.substring(0,2)+":"+_22.substring(2,4);};$W._G.viewSource=function(){["WebSquare.util.viewSource"];var _23="top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _24="";if($W.domain){_24="?domain="+$W._A.URLEncoder($W.domain);}var url=$W._N.getConfiguration("viewSourceURL");if(!url){url=$W.baseURI+"message/viewSource.html";}var _26=_1.open(url+_24,"_blank",_23);};$W._G.viewCollection=function(){["WebSquare.util.viewCollection"];var _27="top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _28="";if($W.domain){_28="?domain="+$W._A.URLEncoder($W.domain);}var url=$W._N.getConfiguration("viewCollectionURL");if(!url){url=$W.baseURI+"message/viewCollection.html";}var _2a=_1.open(url+_28,"_blank",_27);};$W._G.viewInstance=function(){["WebSquare.util.viewInstance"];var _2b="top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _2c="";if($W.domain){_2c="?domain="+$W._A.URLEncoder($W.domain);}var url=$W._N.getConfiguration("viewInstanceURL");if(!url){url=$W.baseURI+"message/viewInstance.html";}var _2e=_1.open(url+_2c,"_blank",_2b);};$W._G.viewFiddle=function(){["WebSquare.util.viewFiddle"];var _2f="top=30,height=710,left=50,width=1100,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _30="";if($W.domain){_30="?domain="+$W._A.URLEncoder($W.domain);}var url=$W._N.getConfiguration("fiddleURL");if(!url){url=$W.baseURI+"fiddle/fiddle.html";}var _32=_1.open(url+_30,"_blank",_2f);};$W._G.getSource=function(_33){if(typeof _33!="undefined"&&_33=="raw"){return $W._B.serialize($W.WebSquaredoc.xmlDocument);}else{if(typeof _33!="undefined"&&_33=="text"){return $W._B.indent($W.WebSquaredoc.xmlDocument);}else{return $W._B.indent($W.WebSquaredoc.xmlDocument,"html");}}};$W._G.getInstance=function(_34){if(typeof _34!="undefined"&&_34=="raw"){return $W._B.serialize($W._J.getInstanceByXPath("/").xmlNode.parentNode);}else{if(typeof _34!="undefined"&&_34=="text"){return $W._B.indent($W._J.getInstanceByXPath("/").xmlNode.parentNode);}else{return $W._B.indent($W._J.getInstanceByXPath("/").xmlNode.parentNode,"html");}}};$W._G.printRange=function(obj){["WebSquare.util.printRange"];var _36="top=0,height=670,left=0,width=1000,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _37="?id="+obj;if($W.domain){_37+="&domain="+$W._A.URLEncoder($W.domain);}var url=$W._N.getConfiguration("printRangeURL");if(!url){url=$W.baseURI+"\"message/printRange.html";}var _39=_1.open(url+_37,"_blank",_36);};$W._G.evalProp=function(_3a,_3b){["WebSquare.util.evalProp"];return (_3b&&$W._G.isDef(_3a,_3b)?_3b[_3a]:_3b[_3a]={});};$W._G.setCursor=function(_3c){["WebSquare.util.setCursor"];_2.body.style.cursor=_3c;var _3d=_2.getElementsByTagName("div");if(_3d!=null){for(var i=0;i<_3d.length;i++){if(_3d[i].id!="undefined"&&_3d[i].currentStyle.display!="none"&&_3d[i].currentStyle.visibility!="hidden"){_3d[i].style.cursor=_3c;}}}};$W._G.setCursorAsync=function(_3f){["WebSquare.util.setCursorAsync"];var cmd="WebSquare.util.setCursor('"+_3f+"');";_1.setTimeout(cmd,1);};$W._G.toPixel=function(s,_42){["WebSquare.util.toPixel"];if(String(s).indexOf("%")!=-1){var n=parseInt(s);return parseInt(n/100*(_42=="x"?screen.availWidth:screen.availHeight));}return s;};$W._G.dbltoHexacode=function(dbl){["WebSquare.util.dbltoHexacode"];dbl=Math.floor(dbl);var _45="0123456789ABCDEF";var _46=_45.substr(dbl&15,1);while(dbl>15){dbl>>=4;_46=_45.substr(dbl&15,1)+_46;}return _46;};$W._G.hexacodetoDbl=function(_47){["WebSquare.util.hexacodetoDbl"];return parseInt(_47,16);};$W._G.isOdd=function(num){["WebSquare.util.isOdd"];var _49=parseInt(num);if((_49%2)==0){return false;}else{return true;}};$W._G.isInteger=function(num){var y=parseInt(num,10);if(isNaN(y)){return false;}if(num==y&&num.toString()==y.toString()){return true;}else{return false;}};$W._G.isExist=function(_4c,_4d){["WebSquare.util.isExist"];return (_4d[_4c]!=null);};$W._G.isDef=function(_4e,_4f){["WebSquare.util.isDef"];if(_4f==null){_4f=_1;}if(_4f[_4e]==null){return false;}else{return (typeof _4f[_4e]!="undefined");}};$W._G.getTDIndex=function(_50){["WebSquare.util.getTDIndex"];try{while(_50.tagName!="TABLE"){if(_50.tagName=="TD"){var _51=_50.parentNode.childNodes;for(var i=0;i<_51.length;i++){if(_51.item(i)==_50){return i;}}break;}_50=_50.parentNode;}}catch(e){}return -1;};$W._G.getTRIndex=function(_53){["WebSquare.util.getTRIndex"];try{while(_53.tagName!="TABLE"){if(_53.tagName=="TR"){var _54=_53.parentNode.childNodes;for(var i=0;i<_54.length;i++){if(_54.item(i)==_53){return i;}}break;}_53=_53.parentNode;}}catch(e){}return -1;};$W._G.getSiblingIndex=function(obj){["WebSquare.util.getSiblingIndex"];try{if(!obj){return -1;}var idx=0;while(obj.previousSibling){obj=obj.previousSibling;idx++;}return idx;}catch(e){}return -1;};$W._G.getObjectValue=function(obj,_59,_5a){["WebSquare.util.getObjectValue"];if(typeof obj!="undefined"&&obj!=null&&typeof obj[_59]!="undefined"&&obj[_59]!=""){return obj[_59];}else{if(typeof _5a=="undefined"){return null;}else{return _5a;}}};$W._G.objToXML=function(obj){["WebSquare.util.objToXML"];var _5c=$W._B.parse("<object/>");for(var i in obj){if(typeof i=="string"&&typeof obj[i]=="string"){$W._B.setValue(_5c.documentElement,i,"value",obj[i]);}}return _5c;};$W._G.getBoolean=function(_5e){["WebSquare.util.getBoolean"];if(typeof _5e=="boolean"){return _5e;}else{if(typeof _5e=="string"&&_5e.toLowerCase()=="true"){return true;}else{return false;}}};$W._G.checkUpdate=function(){["WebSquare.util.checkUpdate"];if($W._G.checkMode=="client"){try{var _5f=$W._N.getXMLHTTPIndex();var _60=$W._N.XMLHTTPObject[_5f];var uri=$W.BootLoader.getRandomPostfix($W.w2xPath);_60.open("GET",uri,true);_60.send(null);_60.onreadystatechange=function(){try{if(_60.readyState!=4){return;}if((_60["status"])&&((200>_60.status)||(400<=_60.status))){$W._N.releaseXMLHTTPObject(_5f);_1.setTimeout("WebSquare.util.checkUpdate()",$W._G.checkInterval);}else{var _62=null;if($W.BootLoader.useWebSquareXMLParser){_62=$W._B.parse(_60.responseText);}else{_62=_60.responseXML;}var ret="N/A";if($W._N.browserCheck.ieAllVersion&&$W.BootLoader.useActiveXObject){var _64=$W._N.getNamespaces(_62);var _65="";for(var i in _64){if(i!=""){_65+="xmlns:"+i+"=\""+_64[i]+"\" ";}}_62.setProperty("SelectionLanguage","XPath");_62.setProperty("SelectionNamespaces",_65);}var _67=$W._B.getElementsByTagName(_62,"buildDate",$W._N._XML_NAMESPACE.W2);if(_67.length==1){ret=(_67[0].firstChild.nodeValue);}if(ret!=$W.buildDate){var _68=_1.confirm("\ud604\uc7ac \ud398\uc774\uc9c0 \ud30c\uc77c["+$W.w2xPath+"]\uc758 \uc0dd\uc131\uc2dc\uac04\uc774 ["+$W.buildDate+"]\uc5d0\uc11c ["+ret+"]\ub85c \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uac31\uc2e0\ud558\uc2dc\ub824\uba74 \ud655\uc778\uc744 \ub204\ub974\uace0 \uc911\uc9c0\ud558\ub824\uba74 \ucde8\uc18c\ub97c \ub204\ub974\uc2ed\uc2dc\uc624.");$W._N.releaseXMLHTTPObject(_5f);if(_68){location.reload(true);}else{alert("\ud604\uc7ac \ud398\uc774\uc9c0 \ud30c\uc77c["+$W.w2xPath+"]\uc740 \ub354\uc774\uc0c1 \ubc84\uc804\uc744 \ud655\uc778\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");}}else{$W.logger.printLog("\ub3d9\uc77c \ud30c\uc77c \ud655\uc778 buildDate["+$W.buildDate+"]");$W._N.releaseXMLHTTPObject(_5f);_1.setTimeout("WebSquare.util.checkUpdate()",$W._G.checkInterval);}}}catch(e){$W.exception.printStackTrace(e,"WebSquare.BootLoader.browserVersion");$W._N.removeXMLHTTPObject(_5f);}};}catch(e){$W.exception.printStackTrace(e,"WebSquare.BootLoader.browserVersion");}}else{if($W._G.checkMode=="server"){try{var _5f=$W._N.getXMLHTTPIndex();var _60=$W._N.XMLHTTPObject[_5f];var uri=$W._G.checkURL;_60.open("POST",uri,true);_60.send($W.w2xPath);_60.onreadystatechange=function(){try{if(_60.readyState!=4){return;}if((_60["status"])&&((200>_60.status)||(400<=_60.status))){$W._N.releaseXMLHTTPObject(_5f);_1.setTimeout("WebSquare.util.checkUpdate()",$W._G.checkInterval);}else{var ret=_60.responseText;if(ret!=$W.buildDate){var _6a=_1.confirm("\ud604\uc7ac \ud398\uc774\uc9c0 \ud30c\uc77c["+$W.w2xPath+"]\uc758 \uc0dd\uc131\uc2dc\uac04\uc774 ["+$W.buildDate+"]\uc5d0\uc11c ["+ret+"]\ub85c \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uac31\uc2e0\ud558\uc2dc\ub824\uba74 \ud655\uc778\uc744 \ub204\ub974\uace0 \uc911\uc9c0\ud558\ub824\uba74 \ucde8\uc18c\ub97c \ub204\ub974\uc2ed\uc2dc\uc624.");$W._N.releaseXMLHTTPObject(_5f);if(_6a){location.reload(true);}else{alert("\ud604\uc7ac \ud398\uc774\uc9c0 \ud30c\uc77c["+$W.w2xPath+"]\uc740 \ub354\uc774\uc0c1 \ubc84\uc804\uc744 \ud655\uc778\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");}}else{$W.logger.printLog("\ub3d9\uc77c \ud30c\uc77c \ud655\uc778 buildDate["+$W.buildDate+"]");$W._N.releaseXMLHTTPObject(_5f);_1.setTimeout("WebSquare.util.checkUpdate()",$W._G.checkInterval);}}}catch(e){$W.exception.printStackTrace(e);$W._N.removeXMLHTTPObject(_5f);}};}catch(e){$W.exception.printStackTrace(e);}}}};$W._G.registContextMenu=function(id,vec){["WebSquare.util.registContextMenu"];var obj=id;var _6e=$W._G.makeContextMenuString(vec);var str=_6e.menuStr;var _70=_6e.width+10;if(typeof id=="string"){obj=$W._N.getComponentById(id);}if(typeof obj=="object"){if(typeof obj.render!="undefined"&&obj.render!=null){obj=obj.render;}if($W._N.browserCheck.opera){obj.onmousedown=function(e){if(e.ctrlKey){$W._G.contextObject=$W._c.getTarget(e);var _72=_1.innerWidth-$W._c.getClientX(e);var _73=_1.innerHeight-$W._c.getClientY(e);var _74=_2.getElementById("_contextMenuLayer");if(typeof _74=="undefined"||_74==null){_74=_2.createElement("div");_2.body.insertBefore(_74,null);_74.id="_contextMenuLayer";_74.style.position="absolute";}if(_72<182){_74.style.left=_1.pageXOffset+$W._c.getClientX(e)-182;}else{_74.style.left=_1.pageXOffset+$W._c.getClientX(e);}if(_73<176){_74.style.top=_1.pageYOffset+$W._c.getClientY(e)-176;}else{_74.style.top=_1.pageYOffset+$W._c.getClientY(e);}var _75=vec.size()*19+9;if(vec.size()>15){_75=295+"px";}_74.style.height=_75;_74.style.overflow="hidden";_74.style.zIndex="20000";_74.style.visibility="visible";_74.innerHTML=str;return false;}else{return true;}};}else{obj.oncontextmenu=function(e){$W._G.contextObject=$W._c.getTarget(e);var _77=_2.getElementById("_contextMenuLayer");var _78=document.documentElement.scrollLeft||document.body.scrollLeft;var _79=document.documentElement.scrollTop||document.body.scrollTop;var _7a=$W._c.getClientX(e)+_78;var _7b=$W._c.getClientY(e)+_79;if(typeof _77=="undefined"||_77==null){_77=_2.createElement("div");_77.id="_contextMenuLayer";_77.style.position="absolute";document.body.appendChild(_77);}_77.style.zIndex="20000";_77.style.visibility="visible";_77.innerHTML=str;var _7c=_77.offsetWidth+10;var _7d=_77.offsetHeight+10;if(_7a+_7c>_78+document.documentElement.clientWidth){_7a=_78+document.documentElement.clientWidth-_7c-10;}if(_7b+_7d>_79+document.documentElement.clientHeight){_7b=_79+document.documentElement.clientHeight-_7d-10;}_77.style.left=_7a+"px";_77.style.top=_7b+"px";return false;};}}};$W._G.removeContextMenu=function(id){["WebSquare.util.removeContextMenu"];var obj=id;if(typeof id=="string"){obj=$W._N.getComponentById(id);}if(typeof obj=="object"){if(typeof obj.render!="undefined"&&obj.render!=null){obj=obj.render;}obj.oncontextmenu=null;}};$W._G.makeContextMenuString=function(vec){["WebSquare.util.makeContextMenuString"];var str="";var _82=175;for(var i=0;i<vec.size();i++){var dom=vec.elementAt(i);var _85=$W._B.getAttribute(dom,"name","value");var _86=$W._G.getWidth(_85)+30;if(_82<_86){_82=_86;}}if($W._N.browserCheck.ieAllVersion){var _87=vec.size()*19+10;if(vec.size()>15){_87=295;}str+="<div id='contextLayer' onselectstart='return false' style='overflow-x:hidden; overflow-y: auto; width:"+(_82+5)+"px; height:"+_87+"px; '>";str+="<table width='"+_82+"' border='0' cellspacing='0' cellpadding='0' style='border-collapse:collapse; border:1px solid #9fbcd4; background-color:#FFFFFF;'>";}else{var _87=vec.size()*19+10;if(vec.size()>15){_87=286;}str+="<div onselectstart='return false' style='position:relative; overflow:auto; width:"+_82+"px;height:"+_87+"px; border:4px solid #e7e7e7; '>";str+="<table width='"+_82+"' border='0' cellspacing='0' cellpadding='0' style='border-collapse:collapse; border:1px solid #9fbcd4; background-color:#FFFFFF;'>";}for(var i=0;i<vec.size();i++){var dom=vec.elementAt(i);if($W._B.getAttribute(dom,"separator","value")=="true"){str+=$W.logger.contextMenuAddRow1($W._B.getAttribute(dom,"method","value"),$W._B.getAttribute(dom,"name","value"));}else{str+=$W.logger.contextMenuAddRow($W._B.getAttribute(dom,"method","value"),$W._B.getAttribute(dom,"name","value"));}}var _88={};_88.menuStr=str;_88.width=_82;return _88;};$W._G.getElement=function(_89){["WebSquare.util.createElement"];if(!_1._elements){_1._elements=[];}var _8a=_2.createElement(_89);_1._elements.push(_8a);return _8a;};$W._G.getURLString=function(str){try{if(str.toLowerCase().indexOf("url")!=-1){var _8c=str.indexOf("(");var end=str.indexOf(")");var _8e=str.substring(_8c+1,end);_8e=_8e.replace(/\"/g,"");return _8e;}}catch(e){$W.exception.printStackTrace(e);}};$W._G.toHexColor=function(_8f){try{if(_8f.indexOf("rgb")!=-1){var _90=_8f.indexOf("(");var end=_8f.indexOf(")");var _92=_8f.substring(_90+1,end);var RGB=_92.split(",");var r=parseInt(RGB[0]).toString(16);var g=parseInt(RGB[1]).toString(16);var b=parseInt(RGB[2]).toString(16);if(r.length==1){r="0"+r;}if(g.length==1){g="0"+g;}if(b.length==1){b="0"+b;}return "#"+r+g+b;}else{return _8f;}}catch(e){$W.exception.printStackTrace(e);}};if(!_1.getComputedStyle){_1.getComputedStyle=function(el,_98){this.el=el;this.getPropertyValue=function(_99){if(_99=="float"){_99="styleFloat";}_99=_99.capitalizeStyle();return (el&&el.currentStyle&&el.currentStyle[_99])?el.currentStyle[_99]:null;};return this;};}if(document.documentElement.currentStyle){$W._G.getStyleProperty=function(_9a,_9b){_9b=_9b.wq_trim().capitalizeStyle();var _9c=_9a.currentStyle[_9b];if(_9b.toLowerCase().indexOf("color")>-1){return this.toHexColor(_9c);}else{return _9c;}};}else{if(_1.getComputedStyle){$W._G.getStyleProperty=function(_9d,_9e){var _9f=document.defaultView.getComputedStyle(_9d,null).getPropertyValue(_9e);if(_9e.toLowerCase().indexOf("color")>-1){return this.toHexColor(_9f);}else{return _9f;}};}else{$W._G.getStyleProperty=function(_a0,_a1){var _a2=_a0.style[_a1];if(_a1.toLowerCase().indexOf("color")>-1){return this.toHexColor(_a2);}else{return _a2;}};}}$W._G.setSize=function(_a3){if($W._N.browserCheck.ie){return;}var _a4=$W._G.getStyleProperty(_a3,"width");var _a5=$W._G.getStyleProperty(_a3,"height");var _a6=parseInt($W._G.getStyleProperty(_a3,"border-left-width"))||0;var _a7=parseInt($W._G.getStyleProperty(_a3,"border-right-width"))||0;var _a8=parseInt($W._G.getStyleProperty(_a3,"border-top-width"))||0;var _a9=parseInt($W._G.getStyleProperty(_a3,"border-bottom-width"))||0;var _aa=parseInt($W._G.getStyleProperty(_a3,"padding-left"))||0;var _ab=parseInt($W._G.getStyleProperty(_a3,"padding-right"))||0;var _ac=parseInt($W._G.getStyleProperty(_a3,"padding-top"))||0;var _ad=parseInt($W._G.getStyleProperty(_a3,"padding-bottom"))||0;var _ae=$W._G.getStyleProperty(_a3,"border-width");if(_a4!=""&&_a4.indexOf("px")>=0){_a3.style.width=parseInt(_a4)-_a6-_a7-_aa-_ab;}if(_a5!=""&&_a5.indexOf("px")>=0){_a3.style.height=parseInt(_a5)-_a8-_a9-_ac-_ad;}};$W._G.getWidth=function(str,_b0,_b1){["WebSquare.util.getWidth"];_b0=(_b0==null)?"":_b0;_b1=(_b1==null)?"":_b1;var _b2=$W._G.getRulerSpan();_b2.style.cssText=_b0;_b2.style.visibility="hidden";_b2.style.position="absolute";_b2.style.width="";_b2.className=_b1;_b2.innerHTML=str;_b2.style.top="-10000px";_b2.style.left="-10000px";return _b2.offsetWidth;};$W._G.getRulerSpan=function(_b3,_b4){["WebSquare.util.getRulerSpan"];var _b5=_2.getElementById("__rulerSpan__");if(_b5==null){_b5=_2.createElement("span");_b5.id="__rulerSpan__";_b5.style.visibility="hidden";_b5.style.position="absolute";_2.body.appendChild(_b5);}_b5.style.cssText=_b3;_b5.style.visibility="hidden";_b5.style.position="absolute";_b5.className=_b4;return _b5;};$W._G.getImageUrl=function(_b6,_b7){["WebSquare.util.getImageUrl"];var _b8=$W._G.getRulerSpan();_b8.style.cssText=_b6;_b8.style.visibility="hidden";_b8.style.position="absolute";_b8.className=_b7;_b8.style.top="-10000px";_b8.style.left="-10000px";var _b9=$W._G.getStyleProperty(_b8,"background-image");return _b9;};$W._G.getHeight=function(str,_bb,obj){["WebSquare.util.getHeight"];var _bd=$W._G.getRulerSpan();_bd.style.width=_bb;if(obj!=null){_bd.style.fontSize=obj.style.fontSize;_bd.style.fontFamily=obj.style.fontFamily;_bd.style.fontWeight=obj.style.fontWeight;}else{_bd.style.fontSize="";_bd.style.fontFamily="";_bd.style.fontWeight="";}_bd.innerHTML=str;_bd.style.top="-10000px";_bd.style.left="-10000px";return _bd.offsetHeight;};$W._G.getHeight2=function(str,_bf,_c0,_c1){["WebSquare.util.getHeight2"];var _c2=$W._G.getRulerSpan();_c2.style.cssText=_c0;_c2.className=_c1;_c2.style.visibility="hidden";_c2.style.height="";_c2.style.position="";_c2.style.padding="0 0 0 0 ";_c2.style.width=$W._G.getStyleProperty(_c2,"width");_c2.style.fontSize=$W._G.getStyleProperty(_c2,"font-size")||"12px";_c2.style.fontFamily=$W._G.getStyleProperty(_c2,"font-family")||"";_c2.style.fontWeight=$W._G.getStyleProperty(_c2,"font-weight")||"";_c2.innerHTML=str;_c2.style.top="-10000px";_c2.style.left="-10000px";var _c3=_c2.offsetHeight;if(_c3==0){_c3=parseInt(_c2.style.fontSize);}return _c3;};$W._G.setVerticalAlignMiddle=function(_c4,_c5){var _c6=$W._G.getStyleProperty(_c4,"height");var _c7=$W._G.getStyleProperty(_c4,"vertical-align");_c7=(_c7=="")?"middle":_c7;var _c8=$W._G.getStyleProperty(_c4,"padding-top");if((_c8==""||_c8=="0px")&&_c7=="middle"&&_c6!=""&&_c6.indexOf("px")>=0){var div=document.createElement("div");_c4.appendChild(div);div.innerHTML=_c5;var _ca=$W._G.getRulerSpan(_c4.style.cssText,_c4.className);_ca.style.height="";_ca.style.top="-10000px";_ca.style.left="-10000px";_ca.innerHTML=_c5;var _cb=_ca.offsetHeight;div.style.marginTop=(parseInt(_c6)-_cb)/2;}else{if((_c8==""||_c8=="0px")&&_c7=="bottom"&&_c6!=""&&_c6.indexOf("px")>=0){var div=document.createElement("div");_c4.appendChild(div);div.innerHTML=_c5;var _ca=$W._G.getRulerSpan(_c4.style.cssText,_c4.className);_ca.style.height="";_ca.style.top="-10000px";_ca.style.left="-10000px";_ca.innerHTML=_c5;var _cb=_ca.offsetHeight;var _cc=parseInt(_c6)-_cb-3;div.style.marginTop=_cc;}else{_c4.innerHTML=_c5;}}};$W._G.getChildNodeAt=function(obj,idx){["WebSquare.util.getChildNodeAt"];try{var _cf=$W._G.first(obj);var _d0=0;while(_cf!=null&&_d0<idx){_cf=$W._G.next(_cf);_d0++;}return _cf;}catch(e){$W.exception.printStackTrace(e);}};$W._G.prev=function(_d1){["WebSquare.util.prev"];do{_d1=_d1.previousSibling;}while(_d1&&_d1.nodeType!=1);return _d1;};$W._G.next=function(_d2){["WebSquare.util.next"];do{_d2=_d2.nextSibling;}while(_d2&&_d2.nodeType!=1);return _d2;};$W._G.first=function(_d3){["WebSquare.util.first"];_d3=_d3.firstChild;if(_d3==null){return _d3;}return _d3&&_d3.nodeType!=1?$W._G.next(_d3):_d3;};$W._G.last=function(_d4){["WebSquare.util.last"];_d4=_d4.lastChild;return _d4&&_d4.nodeType!=1?$W._G.prev(_d4):_d4;};$W._G.parent=function(_d5,num){["WebSquare.util.parent"];num=num||1;for(var i=0;i<num;i++){if(_d5!=null){_d5=_d5.parentNode;}}return _d5;};$W._G.getEvent=function(e){try{e=e||event;}catch(e){$W.exception.printStackTrace(e);}return e;};$W._G.getStringByteSize=function(str){if(!str){return 0;}var _da=$W._N.getConfiguration("/WebSquare/byteCheckEncoding/@value");if(!_da){_da="UTF-8";}_da=_da.toUpperCase();switch(_da){case "UTF-8":return $W._G.getByteLengthUtf8(str);break;default:return $W._G.getByteLength(str);break;}};$W._G.getByteLength=function(str){var _dc=0;for(var i=0;i<str.length;i++){var _de=escape(str.charAt(i));if(_de.length==1){_dc++;}else{if(_de.indexOf("%u")!=-1){_dc+=2;}else{if(_de.indexOf("%")!=-1){_dc+=_de.length/3;}}}}return _dc;};$W._G.getByteLengthUtf8=function(str){var _e0=0;for(var i=0;i<str.length;i++){_e0+=$W._G.getCharByteSize(str.charAt(i));}return _e0;};$W._G.getStringByByteSize=function(str,_e3){if(!str){return "";}var _e4=$W._N.getConfiguration("/WebSquare/byteCheckEncoding/@value");if(!_e4){_e4="UTF-8";}_e4=_e4.toUpperCase();switch(_e4){case "UTF-8":return $W._G.getByteStringByLengthUtf8(str,_e3);break;default:return $W._G.getByteStringByLength(str,_e3);break;}};$W._G.getByteStringByLength=function(str,_e6){var _e7=0;for(var i=0;i<str.length;i++){var _e9=escape(str.charAt(i));if(_e9.length==1){_e7++;}else{if(_e9.indexOf("%u")!=-1){_e7+=2;}else{if(_e9.indexOf("%")!=-1){_e7+=_e9.length/3;}}}if(_e7>_e6){return str.substring(0,i);}}return str;};$W._G.getByteStringByLengthUtf8=function(str,_eb){var _ec=0;for(var i=0;i<str.length;i++){var _ee=$W._G.getCharByteSize(str.charAt(i));_ec+=_ee;if(_ec>_eb){return str.substring(0,i);}}return str;};$W._G.getCharByteSize=function(ch){if(!ch||ch.length==0){return 0;}var _f0=0;var _f1=ch.charCodeAt(0);if(_f1<=127){_f0=1;}else{if(_f1<=2047){_f0=2;}else{if(_f1<=65535){_f0=3;}else{_f0=4;}}}return _f0;};$W._G.getImageStyle=function(_f2,_f3){["WebSquare.util.getImageStyle"];var _f4="";var _f5=_f2.toLowerCase();if(_f5.indexOf("background-image")>=0){_f5=_f5.substring(_f5.indexOf("background-image"));var a=_f5.split(";");var _f7=a[0].split(":");_f7.shift();_f4=_f7.join("").wq_trim();if(_f4.startsWith("url")){_f4=_f4.substring(3).wq_trim();if(_f4.charAt(0)=="("&&_f4.charAt(_f4.length-1)==")"){_f4=$W._N.getImageURL(_f4.substring(1,_f4.length-1));}}}else{_f4=$W._y.makeBackgroundImageUrl(_f3);}if(_f4!=""&&_f4!="none"){_f4="background-image:url("+_f4+")";}return _f4;};$W._G.getInnerText=function(obj){["WebSquare.util.getInnerText"];var a="";try{a=obj.innerText;if(typeof a=="undefined"){a=obj.textContent;}}catch(e){$W.exception.printStackTrace(e);}return a;};$W._G.getTextNodeValue=function(_fa){try{var _fb=null;if(_fa){for(var _fc=_fa.firstChild;_fc!=null;_fc=_fc.nextSibling){if(_fc.nodeType==3){_fb=_fc.nodeValue;break;}}}return _fb;}catch(e){$l("dataController.getTextNodeValue :"+e.message);$W.exception.printStackTrace(e);}};$W._G.browserVersion=function(){try{return $W._N.browserVersion();}catch(e){$W.exception.printStackTrace(e);}};$W._G.isIE=function(_fd){try{var _fe=$W._N.browserCheck.ieVersion[_fd];if(_fe!=undefined){return _fe;}else{_fe=$W._N.browserCheck.ie;if(_fd){_fd+="";_fe=_fe&&(_fd.indexOf($W._N.browserVersion())>-1);$W._N.browserCheck.ieVersion[_fd]=_fe;}return _fe;}}catch(e){$W.exception.printStackTrace(e);}};$W._G.isIEAllVersion=function(_ff){try{var _100=$W._N.browserCheck.ieVersion[_ff];if(_100!=undefined){return _100;}else{_100=$W._N.browserCheck.ieAllVersion;if(_ff){_ff+="";_100=_100&&(_ff.indexOf($W._N.browserVersion())>-1);$W._N.browserCheck.ieVersion[_ff]=_100;}return _100;}}catch(e){$W.exception.printStackTrace(e);}};$W._G.isFF=function(_101){try{var _102=$W._N.browserCheck.mozVersion[_101];if(_102!=undefined){return _102;}else{_102=$W._N.browserCheck.moz;if(_101){_101+="";_102=_102&&(_101.indexOf($W._N.browserVersion())>-1);$W._N.browserCheck.mozVersion[_101]=_102;}return _102;}}catch(e){$W.exception.printStackTrace(e);}};$W._G.isChrome=function(_103){try{var _104=$W._N.browserCheck.chromeVersion[_103];if(_104!=undefined){return _104;}else{_104=$W._N.browserCheck.chrome;if(_103){_103+="";_104=_104&&(_103.indexOf($W._N.browserVersion())>-1);$W._N.browserCheck.chromeVersion[_103]=_104;}return _104;}}catch(e){$W.exception.printStackTrace(e);}};$W._G.isSafari=function(_105){try{var _106=$W._N.browserCheck.safariVersion[_105];if(_106!=undefined){return _106;}else{_106=$W._N.browserCheck.safari;if(_105){_105+="";_106=_106&&(_105.indexOf($W._N.browserVersion())>-1);$W._N.browserCheck.safariVersion[_105]=_106;}return _106;}}catch(e){$W.exception.printStackTrace(e);}};$W._G.isOpera=function(_107){try{var _108=$W._N.browserCheck.operaVersion[_107];if(_108!=undefined){return _108;}else{_108=$W._N.browserCheck.opera;if(_107&&$W._N.browserVersion()){_107+="";_108=_108&&(_107.indexOf($W._N.browserVersion())>-1);$W._N.browserCheck.operaVersion[_107]=_108;}return _108;}}catch(e){$W.exception.printStackTrace(e);}};$W._G.isSpartan=function(){try{return $W._N.browserCheck.spartan;}catch(e){$W.exception.printStackTrace(e);}};$W._G.isMobile=function(){try{var _109=$W._N.browserCheck.isMobile;if(_109!=undefined){return _109;}else{if($W._N.browserCheck.android||$W._N.browserCheck.iphone||$W._N.browserCheck.ipad||$W._N.browserCheck.ipod||$W._N.browserCheck.blackberry){_109=true;}else{_109=false;}$W._N.browserCheck.isMobile=_109;return $W._N.browserCheck.isMobile;}}catch(e){$W.exception.printStackTrace(e);}};$W._G.isNull=function(_10a){["WebSquare.util.isNull"];if(typeof _10a=="undefined"||_10a==null){return true;}else{return false;}};$W._G.isNumber=function(_10b){["WebSquare.util.isNumber"];if($W._G.isNull(_10b)){return false;}if(_10b.constructor==Number){return true;}else{return false;}};$W._G.isString=function(_10c){["WebSquare.util.isString"];if($W._G.isNull(_10c)){return false;}if(_10c.constructor==String){return true;}else{return false;}};$W._G.isArray=function(_10d){["WebSquare.util.isArray"];return _10d&&typeof _10d==="object"&&typeof _10d.length==="number"&&typeof _10d.splice==="function"&&!(_10d.propertyIsEnumerable("length"));};$W._G.isRegExp=function(_10e){["WebSquare.util.isRegExp"];if($W._G.isNull(_10e)){return false;}if(_10e instanceof RegExp){return true;}else{return false;}};$W._G.XMLToHTML=function(node){["WebSquare.util.XMLToHTML"];if(typeof node.tagName=="undefined"&&node.nodeType==3){return document.createTextNode(node.nodeValue);}var _110=document.createElement(node.tagName);var _111=$W.WebSquareparser.parseAttribute(node);try{for(var idx in _111){if(idx=="style"){_110.style.cssText=_111[idx];continue;}else{if(idx=="className"){_110.className=_111[idx];continue;}}_110[idx]=_111[idx];}}catch(e){$W.exception.printStackTrace(e,null,this);}for(var _113=node.firstChild;_113!=null;_113=_113.nextSibling){if(_113.nodeType==1){_110.appendChild(this.XMLToHTML(_113));}else{if(_113.nodeType==2||_113.nodeType==3||_113.nodeType==4){value=childNode.nodeValue;_110.appendChild(document.createTextNode(_113.nodeValue));}}}return _110;};$W._G.setPrecision=function(_114){["WebSquare.util.setPrecision"];try{if(typeof _114=="number"){_114=parseFloat(_114.toFixed(10));_114=parseFloat(_114.toPrecision(15));}return _114;}catch(e){$W.exception.printStackTrace(e);}};$W._G.dynamicCreate=function(id,_116,_117,_118,_119,_11a){["WebSquare.util.dynamicCreate"];try{if($W._G.getComponentById(id)){$W.logger.printLog("dynamicCreate error : id duplcation.\ndynamicCreate\uc624\ub958 : \ud574\ub2f9 id\ub97c \uac00\uc9c4 \ucef4\ud3ec\ub10c\ud2b8\uac00 \uc774\ubbf8 \uc874\uc7ac\ud569\ub2c8\ub2e4.");return;}var xml=null;if(_117.nodeType&&(_117.nodeType===1||_117.nodeType===9)){xml=_117.nodeType==9?_117.documentElement:_117;_117={};}else{if(typeof _117=="string"){xml=$W._B.parse(_117);if(xml){xml=xml.documentElement;_117={};}}}if(xml==null){_117.pluginName=_116;}var _11c=null;if(_11a){_11c=$W._G.getComponentById(_11a);}_117._idCollisionCheck=true;var comp=$W.controlFactory.createControl(id,_117,xml,null,true);if(_119){comp.modelControl.setItemset(_119.nodeset,_119.label,_119.value);}comp.appendTo(_118||$W.getBody());comp.activate();comp.onComplete();if(_119){comp.refreshItemset();}return comp;}catch(e){$W.exception.printStackTrace(e);}};$W._G.setSortable=function(id,_11f,_120,_121,_122){["WebSquare.util.setSortable"];try{for(var i=0;i<_120.length;i++){var _124=$W.extend({handle:_11f[i]?_11f[i].render:_120[i].render,delay:10,direction:"y"},_122||{});$W._K.sDragManager.registerItem(_120[i],_124);}for(var i=0;i<_121.length;i++){$W._K.sDragManager.registerGroup(id,_121[i]);}}catch(e){$W.exception.printStackTrace(e);}};$W._G.getComponentById=function(id){["WebSquare.util.getComponentById"];try{return $W.idCache[$W.idToUUID[id]]||_1[id];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getGlobalFunction=function(str){["WebSquare.util.getGlobalFunction"];try{if(typeof str=="function"){return str;}var path=str.wq_trim().split(".");var idx=0;var obj=path[0]?_1[path[idx++]]||null:null;while(obj&&(typeof obj=="object"||typeof obj=="function")&&idx<path.length){obj=obj[path[idx++]];}return typeof obj=="function"?obj:null;}catch(e){$W.exception.printStackTrace(e,null,this);}};var _12a=true,queue=[],handlers={},scripts={},root_page=/^[^?#]*\//.exec(location.href)[0],root_domain=/^\w+\:\/\/\/?[^\/]+/.exec(root_page)[0],test_script_elem=document.createElement("script"),explicit_preloading=typeof test_script_elem.preload=="boolean",real_preloading=explicit_preloading||(test_script_elem.readyState&&test_script_elem.readyState=="uninitialized"),script_ordered_async=(!real_preloading&&test_script_elem.async===true)||($W._G.isIE(10)&&"async" in test_script_elem),script_cache=real_preloading&&!script_ordered_async;var api=$W._G;var _12c=0,PRELOADED=1,LOADING=2,LOADED=3;if(script_ordered_async){api.js=function(){$l("[WebSquare.util.js]script loading[script_ordered_async]");var args=arguments,fn=args[args.length-1],els={},lastScriptIndex=-1;if(!isFunc(fn)){fn=null;}each(args,function(el,i){if(el!=fn){el=getScript(el);if(!els[el.url]){lastScriptIndex++;}els[el.url]=el;}});var i=0;for(var el in els){(function(el,i){load(el,fn&&i==lastScriptIndex?function(){one(fn);}:null);})(els[el],i);i++;}return api;};}else{if(script_cache){api.js=function(){$l("[WebSquare.util.js]script loading[script_cache]");var args=arguments,newArr=[],els={};for(var i=0;i<args.length;i++){(function(el){if(!isFunc(el)){if(!els[el]){newArr.push(el);}els[el]=el;}else{newArr.push(el);}})(args[i]);}args=newArr;var rest=[].slice.call(args,1),next=rest[0];if(next){each(rest,function(el){if(!isFunc(el)){preload(getScript(el));}});load(getScript(args[0]),isFunc(next)?next:function(){api.js.apply(null,rest);});}else{load(getScript(args[0]));}return api;};}else{api.js=function(){$l("[WebSquare.util.js]script loading[XHR]");var args=arguments,fn=args[args.length-1],els={},lastScriptIndex=-1;if(!isFunc(fn)){fn=null;}each(args,function(el,i){if(el!=fn){el=getScript(el);if(!els[el.url]){lastScriptIndex++;}els[el.url]=el;}});var i=0;for(var el in els){(function(el,i){var uri=canonical_uri(el.url,"");if(uri.indexOf(root_domain)==0){$W.BootLoader.globalEval($W.BootLoader.loadUri(uri));}else{load(el,null);}if(fn&&i==lastScriptIndex){one(fn);}})(els[el],i);i++;}return api;};}}function canonical_uri(src,_142){var _143=/^\w+\:\/\//;if(/^\/\/\/?/.test(src)){src=location.protocol+src;}else{if(!_143.test(src)&&src.charAt(0)!="/"){src=(_142||"")+src;}}return _143.test(src)?src:((src.charAt(0)=="/"?root_domain:root_page)+src);}api.ready=function(key,fn,_146){if(isFunc(_146)){fn=_146;key="ALL";}var _147=scripts[key];if(_147&&_147.state==LOADED||key=="ALL"&&allLoaded()){one(fn);return api;}var arr=handlers[key];if(!arr){arr=handlers[key]=[fn];}else{arr.push(fn);}return api;};function one(fn){if(!isFunc(fn)||fn._done){return;}fn();fn._done=1;}function toLabel(url){var els=url.split("/"),name=els[els.length-1],i=name.indexOf("?");return i!=-1?name.substring(0,i):name;}function getScript(url){var _14d;if(typeof url=="object"){for(var key in url){if(url[key]){_14d={name:key,url:url[key]};}}}else{_14d={name:toLabel(url),url:url};}var _14f=scripts[_14d.url];if(_14f){return _14f;}for(var url in scripts){if(scripts[url]==_14d.url){return scripts[url];}}scripts[_14d.url]=_14d;return _14d;}function each(arr,fn){if(!arr){return;}if(typeof arr=="object"){arr=[].slice.call(arr);}for(var i=0;i<arr.length;i++){fn.call(arr,arr[i],i);}}function isFunc(el){return Object.prototype.toString.call(el)=="[object Function]";}function allLoaded(els){els=els||scripts;for(var url in els){if(els[url].state!=LOADED){return false;}}return true;}function onPreload(_156){_156.state=PRELOADED;each(_156.onpreload,function(el){el.call();});}function preload(_158,_159){if(!_158.state){_158.state=_12c;_158.onpreload=[];scriptTag({src:_158.url,type:"cache"},function(){onPreload(_158);});}}function load(_15a,_15b){if(typeof $W.scriptCachedList[_15a.url]=="undefined"||$W.scriptCachedList[_15a.url]===null){if($W._N.getConfiguration("/WebSquare/spa/scriptCache/@value")==="false"){$W.scriptCachedList[_15a.url]=0;}else{$W.scriptCachedList[_15a.url]=1;}}if(_15a.state==LOADED&&$W.scriptCachedList[_15a.url]>1){$W.scriptCachedList[_15a.url]++;if(_15b){return _15b();}else{return;}}if(_15a.state==LOADING){return api.ready(_15a.url,_15b,_15a.name);}if(_15a.state==_12c){return _15a.onpreload.push(function(){load(_15a,_15b);});}_15a.state=LOADING;if($W._N.getConfiguration("/WebSquare/spa/scriptCache/@value")!=="false"){$W.scriptCachedList[_15a.url]++;}scriptTag(_15a.url,function(){_15a.state=LOADED;if(_15b){_15b();}each(handlers[_15a.url],function(fn){one(fn);});if(allLoaded()){each(handlers.ALL,function(fn){one(fn);});}});}function scriptTag(src,_15f){try{var head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;var s=_2.createElement("script");s.type="text/"+(src.type||"javascript");var _162=$W._N.getConfiguration("/WebSquare/script/@encoding");if(_162){s.charset=_162;}else{s.charset="utf-8";}s.src=$W.BootLoader.getEngineUri(src.src||src);s.async=false;if($W._G.isIE(10)){s.onload=function(){if(!_15f.done){s.onload=null;s=undefined;_15f();_15f.done=true;}};s.onerror=function(){_15f();_15f.done=true;};}else{s.onreadystatechange=s.onload=function(){var _163=s.readyState;if(!_15f.done&&(!_163||/loaded|complete/.test(_163))){s.onload=s.onreadystatechange=null;s=undefined;_15f();_15f.done=true;}};}if(!$W._G.isIE()){s.onerror=function(){_15f();_15f.done=true;};}head.appendChild(s);head=null;}catch(e){$W.exception.printStackTrace(e,null,this);}}$W._G.createPopup=function(id,type,_166,_167,_168,_169,_16a,_16b,_16c,xml,_16e){try{$W._a.aK.createPopup(id,type,_166,_167,_168,_169,_16a,_16b,_16c,xml,_16e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.openPopup=function(url,_170,_171,_172){try{$W._a.aK.openPopup(url,_170,_171,_172);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getPopupParam=function(){try{return $W._a.aK.getPopupParam();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.closePopup=function(id){try{var _174="";if(arguments.length==0){_174=$W._r.getParameter("popupID");}else{_174=id;}if(id==undefined&&opener&&opener.WebSquare){opener.WebSquare.uiplugin.popup.callClose(_174);}else{if(parent!==window&&parent.WebSquare!=undefined){if(parent.WebSquare.uiplugin.popup){parent.WebSquare.uiplugin.popup.callClose(_174);}if($W._a.aK){$W._a.aK.callClose(_174);}}else{$W._a.aK.callClose(_174);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getPopup=function(id){try{return $W._a.aK.getPopup(id);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getPopupWindow=function(id){try{return $W._a.aK.getPopupWindow(id);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.isPopup=function(){["WebSquare.util.isPopup"];try{if(typeof window.opener=="undefined"){return false;}else{if(window.opener.closed){return false;}else{return true;}}}catch(e){return false;}};$W._G.getDocumentSize=function(_177){["WebSquare.util.getDocumentSize"];try{var _177=_177.toLowerCase();if(_177=="height"){return document.documentElement.clientHeight||document.body.clientHeight;}else{if(_177=="width"){return document.documentElement.clientWidth||document.body.clientHeight;}}$l("getDocumentSize : wrong sizeName["+_177+"]");return;}catch(e){$W.exception.printStackTrace(e);}};$W._G.getSubmissionURL=function(url){["WebSquare.util.getSubmissionURL"];try{var _179=$W._N.getConfiguration("/WebSquare/hybrid/submissionURL");var _17a=$W._N.getURL($W._G.appendingPathComponent(_179,url));return _17a;}catch(e){$W.exception.printStackTrace(e);}};$W._G.appendingPathComponent=function(_17b,_17c){["WebSquare.util.appendingPathComponent"];try{if(_17c.indexOf("://")>0||_17b.length==0){return _17c;}var _17d=_17b.length;if(_17b.charAt(_17d-1)=="/"){if(_17c.charAt(0)=="/"){return _17b+_17c.substr(1);}else{return _17b+_17c;}}else{if(_17c.charAt(0)=="/"){return _17b+_17c;}else{return _17b+"/"+_17c;}}}catch(e){$W.exception.printStackTrace(e);}};$W._G.setDocumentLang=function(lang){["WebSquare.util.setDocumentLang"];try{document.documentElement.setAttribute("xml:lang",lang);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.setDisabled=function(obj){["WebSquare.util.setDisabled"];try{var _180=[];var _181=[];var _182=obj.componentId;var flag=obj.disabled;var _184=obj.excludeIdList;var _185=obj.includeIdList;var _186;if(!_182){_186=$W.getBody();}else{_186=$W._G.getComponentById(_182);}if(!_186||!_186.options||!_186.options.pluginName){$l("[WebSquare.util.setDisabled]id:\ud574\ub2f9\ud558\ub294 WebSquareComponent\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");return {"doneComponents":_180,"skipComponents":_181};}var _187;if($W._G.isArray(_185)){if(!_187){_187={};}for(var i=0;i<_185.length;i++){_187[_185[i]]=true;}}else{if(_185){_187=_185;}}var _189=$W._G.getDisabledComponentIdList(_186,flag);var _18a=_189.targetComponents;_181=_189.skipComponents;for(var i=0;i<_18a.length;i++){var _18b=$W._G.getComponentById(_18a[i]);if(!_18b){continue;}var _18c=_18b.options.disabled;if(!_187){try{if(_18c!==flag){_18b.setDisabled(flag);}_180.push(_18b.id);}catch(e){$l("[WebSquare.util.setDisabled]["+_18b.id+"] \ucef4\ud3ec\ub10c\ud2b8\uc758 disable \ucc98\ub9ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ucef4\ud3ec\ub10c\ud2b8 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");}}else{try{if(_187[_18b.id]){if(_18c!==flag){_18b.setDisabled(flag);}_180.push(_18b.id);}}catch(e){$l("[WebSquare.util.setDisabled]["+_18b.id+"] \ucef4\ud3ec\ub10c\ud2b8\uc758 disable \ucc98\ub9ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ucef4\ud3ec\ub10c\ud2b8 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");}}}if(_184){for(var i=0;i<_184.length;i++){var _18b=$W._G.getComponentById(_184[i]);var _18c=_18b.options.disabled;if(_18c===flag){try{_18b.setDisabled(!flag);}catch(e){$l("[WebSquare.util.setDisabled]["+_18b.id+"] \ucef4\ud3ec\ub10c\ud2b8\uc758 disable \ucc98\ub9ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ucef4\ud3ec\ub10c\ud2b8 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");}}}}for(var i=0;i<_181.length;i++){var _18b=$W._G.getComponentById(_181[i]);var _18c=_18b.options.disabled;if(_18c!==flag){try{_18b.setDisabled(flag);}catch(e){$l("[WebSquare.util.setDisabled]["+_18b.id+"] \ucef4\ud3ec\ub10c\ud2b8\uc758 disable \ucc98\ub9ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ucef4\ud3ec\ub10c\ud2b8 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");}}}return {"doneComponents":_180,"skipComponents":_181};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getDisabledComponentIdList=function(_18d,_18e,_18f){["WebSquare.util.getComponentIdList"];try{if(!_18f){_18f={};_18f.targetComponents=[];_18f.skipComponents=[];}if(!_18d){_18d=$W.getBody();}if(_18d&&_18d.options&&_18d.options.pluginName=="body"){}else{if(_18d.activeStatus=="stop"){return _18f;}if(!_18d.id||!_18d.options||(!_18d.options.pluginName&&!_18d.options.udcName)){return _18f;}if(_18d.options.disabled===_18e){_18f.skipComponents.push(_18d.id);}else{_18f.targetComponents.push(_18d.id);}}for(var i=0;i<_18d.childControlList.length;i++){var _191=_18d.childControlList[i];if(!_191||!$W._G.getComponentById(_191.id)||!_191.options||(!_191.options.pluginName&&!_191.options.udcName)){continue;}$W._G.getDisabledComponentIdList(_191,_18e,_18f);}return _18f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getIgnoreKeyPressCodes=function(){return {8:"backspace",9:"tab",37:"left",38:"up",39:"right",40:"down",36:"home",35:"end",4:"insert",46:"del",33:"pageup",34:"pagedown"};};$W._G.setDomain=function(_192){["WebSquare.util.setDomain"];try{$W.domain=_192;document.domain=_192;}catch(e){$W.exception.printStackTrace(e);}};$W._G.getChildren=function(_193,_194){["WebSquare.util.getChildren"];try{if(!_193){_193=_193||$W.getBody();if(_194){_194.recursive=false;}}if(_194){var ret=[];var _196=_194.recursive?_193.getAllChildren():_193.getChildren();var _197=_194.excludePlugin?(" "+_194.excludePlugin+" "):false;var _198=_194.excludeId?(" "+_194.excludeId+" "):false;for(var i=0;i<_196.length;i++){if((!_198||_198.indexOf(" "+_196[i].id+" ")<0)&&(!_197||_197.indexOf(" "+_196[i].options.pluginName+" ")<0)){ret.push(_196[i]);}}return ret;}else{return _193.getChildren().slice(0);}}catch(e){$W.exception.printStackTrace(e);}};$W._G.addClearMemory=function(fn){["WebSquare.util.addClearMemory"];try{if(fn){$W._N.userClearMemoryStack.push(fn);}}catch(e){$W.exception.printStackTrace(e);}};$W._G.loadUserComponent=function(src,id,_19d,_19e){["WebSquare.util.loadUserComponent"];try{var _19f=$W._B.load(src);var _1a0=[];var _1a1=$W._G.getBoolean($W._N.getConfiguration("/WebSquare/supportW2Udc/@value"));if(id&&_19d){_1a0.push(_19d);}else{var _1a2=$W._B.findNodes(_19f.documentElement,"//@pluginName");for(var i=0;i<_1a2.length;i++){_1a0.push(_1a2[i].value);}}if(!$W._G.loadedUserComponent[src+"#"+_1a0[0]]){for(var i=0;i<_1a0.length;i++){var _1a4=_1a0[i];if(_1a4.indexOf("_")>-1||_1a1){if($W._G.loadedUserComponentPluginName[_1a4]){var _1a5=$W._G.loadedUserComponentPluginName[_1a4].split("#")[0];if(_1a5!=src){$l("ERROR : udc.xml \uc744 \ub85c\ub529\ud558\ub294 \uc911 udc\uc758 src :"+src+" \uc640 udc\uc758 src : "+_1a5+" \uc5d0\uc11c \uac19\uc740 udc\ucef4\ud3ec\ub10c\ud2b8\uba85("+_1a4+")\uc744 \uc911\ubcf5\ud574\uc11c \uc815\uc758\ud558\uace0 \uc788\uc74c.");}else{$l("ERROR : udc.xml \uc744 \ub85c\ub529\ud558\ub294 \uc911 udc\uc758 src :"+src+" \ub0b4\ubd80\uc5d0\uc11c \uac19\uc740 udc\ucef4\ud3ec\ub10c\ud2b8\uba85("+_1a2[i].value+")\uc744 \uc911\ubcf5\ud574\uc11c \uc815\uc758\ud558\uace0 \uc788\uc74c.");}continue;}if(id&&_19d){var _1a6=$W._B.findNode(_19f.documentElement,"//*[@id='"+id+"']");}else{var _1a6=$W._B.findNode(_19f.documentElement,"//*[@pluginName='"+_1a4+"']");}var _1a7=null;if(_1a6){var _1a8=_1a6.firstChild;for(var node=_1a8;node!=null;node=node.nextSibling){if(node.nodeName=="w2:style"){_1a7=node;break;}}}if(_1a7){_1a6.removeChild(_1a7);if(_1a1){var _1aa=$W._B.getTextNodeValue(_1a7);}else{var _1aa=$W._B.getCDataNodeValue(_1a7);}$W.cssManager.addInternalCSS(_1aa);}$W._G.loadedUserComponent[src+"#"+_1a4]=_1a6;$W._G.loadedUserComponentPluginName[_1a4]=src+"#"+_1a4;if(_19e){_19e.userComponentList.push(src+"#"+_1a4);_19e.userPluginList.push(_1a4);}}else{$l("ERROR : udc\uc758 src :"+src+"\uc5d0\uc11c \uc624\ub958 (pluginName: "+_1a4+" \uc744 '\ud504\ub85c\uc81d\ud2b8\uba85_\ucef4\ud3ec\ub10c\ud2b8\uba85'\uc73c\ub85c \uc815\uc758\ud574\uc57c \ud568.)");}}}var head=$W._B.getElementsByTagName(_19f,"head")[0];var _1ac=$W._B.getElementsByTagName(head,"require",$W._N._XML_NAMESPACE.W2);for(var i=0;i<_1ac.length;i++){var src=$W._N.getURL($W._N.getPageURL(_1ac[i].getAttribute("src")));var id=_1ac[i].getAttribute("id");var _19d=_1ac[i].getAttribute("pluginName");$W._G.loadUserComponent(src,id,_19d,_19e);}}catch(e){$W.exception.printStackTrace(e);}};$W._G.loadInheritComponent=function(src){["WebSquare.util.loadInheritComponent"];try{var _1ae=$W._B.load(src);var _1af=[];var _1b0=$W._B.findNodes(_1ae.documentElement,"//@pluginName");if(!$W._G.loadedInheritComponent[src+"#"+_1b0[0].value]){for(var i=0;i<_1b0.length;i++){_1af.push(_1b0[i].value);}for(var i=0;i<_1af.length;i++){var _1b2=_1af[i];if(_1b2.indexOf("_")>-1){var _1b3=$W._B.findNode(_1ae.documentElement,"//*[@pluginName='"+_1b2+"']");if($W._G.loadedInheritComponentPluginName[_1b2]){var _1b4=$W._G.loadedInheritComponentPluginName[_1b2].split("#")[0];if(_1b4!=src){$l("ERROR : componentInherit.xml \uc744 \ub85c\ub529\ud558\ub294 \uc911 componentInherit\uc758 src :"+src+" \uc640 componentInherit\uc758 src : "+_1b4+" \uc5d0\uc11c \uac19\uc740 inherit\ucef4\ud3ec\ub10c\ud2b8\uba85("+_1b2+")\uc744 \uc911\ubcf5\ud574\uc11c \uc815\uc758\ud558\uace0 \uc788\uc74c.");}else{$l("ERROR : componentInherit.xml \uc744 \ub85c\ub529\ud558\ub294 \uc911 componentInherit\uc758 src :"+src+" \ub0b4\ubd80\uc5d0\uc11c \uac19\uc740 inherit\ucef4\ud3ec\ub10c\ud2b8\uba85("+_1b0[i].value+")\uc744 \uc911\ubcf5\ud574\uc11c \uc815\uc758\ud558\uace0 \uc788\uc74c.");}continue;}if($W._G.loadedUserComponentPluginName[_1b2]){var _1b5=$W._G.loadedUserComponentPluginName[_1b2].split("#")[0];$l("ERROR : componentInherit.xml \uc744 \ub85c\ub529\ud558\ub294 \uc911 componentInherit\uc758 src :"+src+"\uc5d0\uc11c udc\uc758 src : "+_1b5+"\uc758 udc\ucef4\ud3ec\ub10c\ud2b8\uba85("+_1b2+")\uc744 \uc911\ubcf5\ud574\uc11c \uc815\uc758\ud558\uace0 \uc788\uc74c.");continue;}var _1b6=null;if(_1b3){var _1b7=_1b3.firstChild;for(var node=_1b7;node!=null;node=node.nextSibling){if(node.nodeName=="w2:style"){_1b6=node;break;}}}if(_1b6){_1b3.removeChild(_1b6);var _1b9=$W._B.getCDataNodeValue(_1b6);$W.cssManager.addInternalCSS(_1b9);}$W._G.loadedInheritComponent[src+"#"+_1b2]=_1b3;$W._G.loadedInheritComponentPluginName[_1b2]=src+"#"+_1b2;}else{$l("ERROR : componentInherit\uc758 src :"+src+"\uc5d0\uc11c \uc624\ub958 (pluginName: "+_1b2+" \uc744 '\ud504\ub85c\uc81d\ud2b8\uba85_\ucef4\ud3ec\ub10c\ud2b8\uba85'\uc73c\ub85c \uc815\uc758\ud574\uc57c \ud568.)");}}}}catch(e){$W.exception.printStackTrace(e);}};$W._G.unloadUserComponent=function(src,id,_1bc){["WebSquare.util.unloadUserComponent"];try{}catch(e){$W.exception.printStackTrace(e);}};$W.userTimerHash={};$W.userIntervalHash={};$W._G.setTimeout=function(func,_1be){["WebSquare.util.setTimeout"];try{var _1bf=new Date().getTime();var key=_1be.key||func.toString().slice(0,30);var _1c1=_1be.delay||_1be.max||1;var max=_1be.max||0;var _1c3=_1be.caller||window;var args=_1be.args||[];var data=$W.userTimerHash[key];if(!data){data=$W.userTimerHash[key]={thread:null,timeoutKey:null,startTime:_1bf};}data.thread=function(){["WebSquare.core.setTimer.helper"];if(window["WebSquare"]&&$W.userTimerHash){delete $W.userTimerHash[key];}(_1be.before_call)&&(_1be.before_call.call(_1c3,data));var ret=func.apply(_1c3,args);(_1be.callback)&&(_1be.callback.call(_1c3,ret));};clearTimeout(data.timeoutKey);if(max<=0||_1bf-data.startTime<max){(_1be.before_set)&&(_1be.before_set.call(_1c3,data));data.timeoutKey=setTimeout(data.thread,_1c1);(_1be.after_set)&&(_1be.after_set.call(_1c3,data));}else{data.thread();}return key;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.clearTimeout=function(key,_1c8){["WebSquare.util.clearTimeout"];try{if(typeof key=="function"){key=func.toString().slice(0,30);}var data=$W.userTimerHash[key];if(data){clearTimeout(data.timeoutKey);if(_1c8){data.thread();}$W.userTimerHash[key]=null;delete $W.userTimerHash[key];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.setInterval=function(func,_1cb){["WebSquare.util.setInterval"];try{var key=_1cb.key||func.toString().slice(0,30);var _1cd=_1cb.delay||1;var _1ce=_1cb.caller;var args=_1cb.args;var data=$W.userIntervalHash[key];if(!data){data=$W.userIntervalHash[key]={thread:null,timeoutKey:null};}if(args){if(!_1ce){_1ce=window;}data.thread=function(){["WebSquare.util.setInterval.helper"];func.apply(_1ce,args);};}else{if(_1ce){data.thread=function(){["WebSquare.util.setInterval.helper"];func.call(_1ce);};}else{data.thread=function(){["WebSquare.util.setInterval.helper"];func();};}}if(data.timeoutKey!=null){clearInterval(data.timeoutKey);}data.timeoutKey=setInterval(data.thread,_1cd);return key;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.clearInterval=function(key,_1d2){["WebSquare.util.clearTimeout"];try{if(typeof key=="function"){key=func.toString().slice(0,30);}var data=$W.userIntervalHash[key];if(data){clearInterval(data.timeoutKey);if(_1d2){data.thread();}$W.userIntervalHash[key]=null;delete $W.userIntervalHash[key];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getTimeoutKeyList=function(){var _1d4=[];for(var key in $W.userTimeoutHash){_1d4.push(key);}return _1d4;};$W._G.getIntervalKeyList=function(){var _1d6=[];for(var key in $W.userIntervalHash){_1d6.push(key);}return _1d6;};$W.userData={};$W._G.setData=function(key,data){["WebSquare.util.setData"];try{$W.userData[key]=data;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.getData=function(key){["WebSquare.util.getData"];try{return $W.userData[key]||null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.removeData=function(key){["WebSquare.util.getData"];try{if(typeof $W.userData[key]=="object"){for(var item in $W.userData[key]){delete $W.userData[key][item];}}$W.userData[key]=null;delete $W.userData[key];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.url=function(_1dd,_1de){["WebSquare.util.url"];try{if(_1de==undefined){_1de={};}if(_1de.shortURL==undefined){_1de.shortURL=(_1dd.indexOf("?w2xPath")<0&&_1dd.indexOf("#w2xPath")<0&&_1dd.slice(_1dd.lastIndexOf(".")).startsWith(".xml"));}if(!_1de.shortURL){if(_1de.replaceHistory){location.replace(_1dd);}else{location.assign(_1dd);}return;}if(_1de.spa==undefined){_1de.spa=($W._N.getConfiguration("/WebSquare/spa/@value")=="true");}var _1df="";if(_1de.param){for(var keys in _1de.param){_1df+="&"+keys+"="+$W._A.URLEncoder(_1de.param[keys]);}}$W.logger.printLog("before change url");if(_1de.spa){var URL=$W._N.getURL(_1dd);var _1e2=location.toString();var idx=_1e2.indexOf("#");if(idx<0){idx=_1e2.length;}var path=_1e2.substring(0,idx);var _1e5=path+"#w2xPath="+URL+_1df;if(_1de.forceReload){if("onhashchange" in window){window.onhashchange=null;}else{clearInterval($W._G._hashTestKey);}if(_1de.replaceHistory){location.replace(_1e5);}else{location.assign(_1e5);}if(!$W._N.firePageunload&&!$W._N.onurlchange){$W._c.fireEvent($W.getBody(),"onpageunload");}if(!$W._N.onurlchange){var _1e6=$W._N.getConfiguration("/WebSquare/clearMemory/@value");if(_1e6!=="true"){$W.clearMemory();}wq_reload(_1e5);}}else{$W.w2xPath="";if(_1e5==_1e2){$W._G.onhashchange();}else{$W._N.urlchangebyapi=true;if(_1de.replaceHistory){location.replace(_1e5);}else{location.assign(_1e5);}}}}else{var URL=$W._N.getURL(_1dd);var _1e2=location.toString();var idx=_1e2.indexOf("?");if(idx<0){idx=_1e2.indexOf("#");if(idx<0){idx=_1e2.length;}}var path=_1e2.substring(0,idx);var _1e5=path+"?w2xPath="+URL+_1df;if("onhashchange" in window){window.onhashchange=null;}else{clearInterval($W._G._hashTestKey);}$W._c.fireEvent($W.getBody(),"onpageunload");if(_1de.replaceHistory){location.replace(_1e5);}else{location.assign(_1e5);}}}catch(e){$W.exception.printStackTrace(e);}};$W._G.clearPage=function(){$W._N.onclearpage=true;return $W._G.url($W._r.getBlankXML(),{"spa":true,"forceReload":true});};$W._G.reinitialize=function(_1e7){["WebSquare.util.reinitialize"];try{$W.logger.printLog("before redraw page");if(_1e7){if("onhashchange" in window){window.onhashchange=null;}else{clearInterval($W._G._hashTestKey);}$W._N.finalize();location.reload();}else{$W.w2xPath="";$W._G.onhashchange();}}catch(e){$W.exception.printStackTrace(e);}};$W._G.onhashchange=function(e){["WebSquare.util.onhashchange"];try{var _1e9=$W._r.getParameter("w2xPath");if(_1e9==""){return;}if(_1e9==$W.w2xPath){return;}if(!$W._N.urlchangebyapi&&$W.w2xPath!==""){if(location.hash.indexOf("w2xPath")<0){return;}}if("onhashchange" in window){window.onhashchange=null;}else{clearInterval($W._G._hashTestKey);}for(var key in $W.BootLoader.performanceCheck){$W.BootLoader.performanceCheck[key]=new Date();}$W.BootLoader.printLog("[SPA1] The user request for new XML page. ");var _1eb=location.href;$W._N.onurlchange=true;$W._N.onclearpage=false;$W._N.finalize();$W._N.onurlchange=false;$W._N.urlchangebyapi=false;if($W._r.getParameter("w2xPath")!=_1e9||$W._N.onclearpage){$W._N.onclearpage=false;location.replace(_1eb);var _1ec=$W._N.getConfiguration("/WebSquare/clearMemory/@value");if(_1ec!=="true"){$W.clearMemory();}wq_reload(_1eb);return;}$W._N.onclearpage=false;$W.BootLoader.performanceCheck.mid1=new Date();$W.BootLoader.printLog("[SPA2] Clear page resources. Time:"+($W.BootLoader.performanceCheck.mid1.getTime()-$W.BootLoader.performanceCheck.start.getTime())+"ms");$W.w2xPath=_1e9;var re=/[\\]/g;$W.w2xPath=$W.w2xPath.replace(re,"/");var _1ee=$W.w2xPath.lastIndexOf("/");if($W._r.getParameter("w2xHome")==""){if(_1ee>-1){$W.w2xHome=$W.w2xPath.substring(0,_1ee+1);}else{$W.w2xHome="/";}}else{$W.w2xHome=$W._r.getParameter("w2xHome");}if(_1ee>-1){$W.logFileName=" "+$W.w2xPath.substring(_1ee+1);}else{$W.logFileName=" "+$W.w2xPath;}var _1ef=$W._r.getParameter("w2xDocumentRoot");if(_1ef=="/"||_1ef=="\\"){$W.w2xDocumentRoot="";}else{if(_1ef!=""){$W.w2xDocumentRoot=_1ef;}}$W.logger.printLog("w2xDocumentRoot["+$W.w2xDocumentRoot+"]");$W.logger.printLog("w2xHome        ["+$W.w2xHome+"]");$W.logger.printLog("w2xPath        ["+$W.w2xPath+"]");$W.logger.printLog("w2xTheme       ["+$W.w2xTheme+"]");$W.BootLoader.loadEngineModule(true);if(!$W.initialize(_1e9,true)){if("onhashchange" in window){window.onhashchange=$W._G.onhashchange;}else{$W._G._hashTestKey=setInterval($W._G._hashTest,50);}$W.logger.printLog("Runtime Error : "+_1e9+" load failed.");alert("Runtime Error : ["+_1e9+"] load failed.");}}catch(e){$W.exception.printStackTrace(e);}};$W._G._stopProcess=function(spa){if(spa||(location.hash&&location.hash.lastIndexOf("w2xPath")>=0)){var _1f1=$W._r.getParameter("w2xPath");if(!_1f1){return false;}if(_1f1!=$W.w2xPath){$W.logger.printLog("[SPA_Exception] Event Activation Canceled by New Page Request : #w2xPath="+_1f1);$W._G.onhashchange();return true;}}return false;};$W._G.movePage=function(_1f2){["WebSquare.util.onhashchange"];try{var _1f3=_1f2;if("onhashchange" in window){window.onhashchange=null;}else{clearInterval($W._G._hashTestKey);}for(var key in $W.BootLoader.performanceCheck){$W.BootLoader.performanceCheck[key]=new Date();}$W.BootLoader.printLog("[SPA1] The user request for new XML page. ");var _1f5=location.href;$W._N.onurlchange=true;$W._N.onclearpage=false;if($W._N.getConfiguration("/WebSquare/spa/autoReload/@value").toLowerCase()==="true"){for(var _1f6 in $W._N.memoryLeakComponent){if($W.WebSquareDocument.componentsCache[_1f6]!=undefined){if(!$W.hybridApp&&Number($W._N.getConfiguration("/WebSquare/spa/autoReload/@"+_1f6))<=$W.WebSquareDocument.componentsCache[_1f6].length){try{var _1f7=$W._N.getConfiguration("/WebSquare/spa/autoReload/@userFunction");if(_1f7){var _1f8=$W._G.getGlobalFunction(_1f7);if(_1f8){_1f8(_1f2);}}else{$W._G.url(_1f2,{"spa":false});}}catch(e){}return;}$W._N.memoryLeakComponentCount+=$W.WebSquareDocument.componentsCache[_1f6].length*$W._N.memoryLeakComponent[_1f6];}}var _1f9=$W._N.getConfiguration("/WebSquare/spa/autoReload/@count");if(_1f9==""){_1f9=NaN;}else{_1f9=Number(_1f9);}if(!$W.hybridApp&&$W._N.memoryLeakComponentCount>0&&$W._N.memoryLeakComponentCount>_1f9){try{var _1f7=$W._N.getConfiguration("/WebSquare/spa/autoReload/@userFunction");if(_1f7){var _1f8=$W._G.getGlobalFunction(_1f7);if(_1f8){_1f8(_1f2);}}else{$W._G.url(_1f2,{"spa":false});}}catch(e){}return;}}$W._N.finalize();$W._N.onurlchange=false;$W._N.urlchangebyapi=false;$W._N.onclearpage=false;$W.BootLoader.performanceCheck.mid1=new Date();$W.BootLoader.printLog("[SPA2] Clear page resources. Time:"+($W.BootLoader.performanceCheck.mid1.getTime()-$W.BootLoader.performanceCheck.start.getTime())+"ms");$W.w2xPath=_1f3;var re=/[\\]/g;$W.w2xPath=$W.w2xPath.replace(re,"/");var _1fb=$W.w2xPath.lastIndexOf("/");if($W._r.getParameter("w2xHome")==""){if(_1fb>-1){$W.w2xHome=$W.w2xPath.substring(0,_1fb+1);}else{$W.w2xHome="/";}}else{$W.w2xHome=$W._r.getParameter("w2xHome");}if(_1fb>-1){$W.logFileName=" "+$W.w2xPath.substring(_1fb+1);}else{$W.logFileName=" "+$W.w2xPath;}var _1fc=$W._r.getParameter("w2xDocumentRoot");if(_1fc=="/"||_1fc=="\\"){$W.w2xDocumentRoot="";}else{if(_1fc!=""){$W.w2xDocumentRoot=_1fc;}}$W.logger.printLog("w2xDocumentRoot["+$W.w2xDocumentRoot+"]");$W.logger.printLog("w2xHome        ["+$W.w2xHome+"]");$W.logger.printLog("w2xPath        ["+$W.w2xPath+"]");$W.logger.printLog("w2xTheme       ["+$W.w2xTheme+"]");$W.BootLoader.loadEngineModule(true);var _1fd=$W._G._stopProcess;$W._G._stopProcess=function(){};if(!$W.initialize(_1f3,true)){if("onhashchange" in window){window.onhashchange=$W._G.onhashchange;}else{$W._G._hashTestKey=setInterval($W._G._hashTest,50);}$W.logger.printLog("Runtime Error : "+_1f3+" load failed.");alert("Runtime Error : ["+_1f3+"] load failed.");}$W._N.clearTimer("WebSquare_startOnload");$W._j["activated"]=true;for(var item in $W._j["comp"]){$W._j["comp"][item].activate();}$W.getBody().activate();$W.BootLoader.performanceCheck.mid6=new Date();$W.BootLoader.printLog("[SPA7][EVENT] Event Activation. Time:"+($W.BootLoader.performanceCheck.mid6.getTime()-$W.BootLoader.performanceCheck.mid5.getTime())+"ms");$W.startOnLoad(true);if("onhashchange" in window){window.onhashchange=$W._G.onhashchange;}else{$W._G._wait_for_iframe_reload(spa);}$W.getBody().onComplete();$W._j.api.onComplete();$W._G._stopProcess=_1fd;}catch(e){$W.exception.printStackTrace(e);}};if("onhashchange" in window){}else{$W._G._hashTest=function(){if(!$W._G._hash){$W._G._hash=location.hash;}else{if($W._G._hash!=location.hash){$W._G._hash=location.hash;$W._G.onhashchange();}else{if($W._G._hiddenFrame&&!$W._G._iframe_wait){try{var _1ff=document.getElementById($W._G._hiddenFrame.id);if(_1ff!=null){var _200=_1ff.contentWindow.location.search.slice(1);if(_200!=$W.w2xPath){var _201=location.hash.lastIndexOf("#w2xPath");if(_201<0){if(location.hash.length>0){location.hash=location.hash+"&w2xPath="+_200;}else{location.hash="#w2xPath="+_200;}}else{var srch=location.hash.substring(_201+1);var _203=srch.search(/[\&\?\#]/)+1;if(_203<0){location.hash=location.hash.slice(0,_201)+"#w2xPath="+_200;}else{location.hash=location.hash.slice(0,_201)+"#w2xPath="+_200+location.hash.substring(_201+_203);alert(location.hash.slice(0,_201));alert(_200);alert(location.hash.substring(_201+_203));}alert(location.hash);}}}else{document.body.appendChild($W._G._hiddenFrame);}}catch(e){$W.exception.printStackTrace(e);}_1ff=null;}}}};$W._G._makeFrame=function(){["WebSquare.util._makeFrame"];try{var _204=document.createElement("iframe");_204.id="wq_hidden_frame_for_spa_history";_204.src=$W.baseURI+"blank.html?"+$W.w2xPath;_204.style.position="absolute";_204.style.width="0px";_204.style.height="0px";_204.style.display="none";$W._G._hiddenFrame=document.body.appendChild(_204);_204=null;}catch(e){$W.exception.printStackTrace(e);}};$W._G._wait_for_iframe_reload=function(spa){if(spa||(location.hash&&location.hash.lastIndexOf("w2xPath")>=0)){if($W._G._iframe_wait){if($W._G._hiddenFrame.contentWindow.location.search.slice(1)!=$W.w2xPath){setTimeout($W._G._wait_for_iframe_reload,5);}else{$W._G._iframe_wait=false;$W._G._hashTestKey=setInterval($W._G._hashTest,50);}}}};}$W._G.multipleExcelDownload=function(_206){["WebSquare.util.multipleExcelDownload"];try{var _207=_206.common;var _208=_206.excelInfo;var _209={};var _20a=[];var _20b=[];var _20c=true;var _20d=true;var comp;var _20f=new $W._q.Vector();var _210=[];for(var i=0;i<_208.length;i++){_209={};_20a=[];_209=_208[i];for(var key in _207){_209[key]=_207[key];}_209.dataProvider=_209.dataProvider||"";if(_209.dataProvider==""){_20d=false;}if(_209.sheetName==""){_20c=false;break;}var _213="";_213=_209.sheetName;for(var j=0;j<_20b.length;j++){if(_20b[j]==_209.sheetName){_209.sheetName=_209.sheetName+"("+j+")";break;}}_20b.push(_213);_20a=_209.infoArr;comp=$W._G.getComponentById(_209.gridId);var _215=100;var _216=parseInt(_209.rowsByN);_209.rowsByN=_216>_215?_216:_215;_209.dataLength=comp.getDataLength();switch(_209.type+""){case "":case "0":_209.type=0;break;case "2":_209.type=2;break;default:_209.type=1;}if(_209.type===0||_209.type===1){if(_209.showProcess===true){$W.layer.showProcessMessage("composing excel data...");}else{$W.getBody().showModal("w2modal_gridDownload");}_209.cellInfo=[];_209.isPlainDataCol=[];_209.isSelectCol=[];_209.isBasicCol=[];_209.isExpCol=[];_209.isCustomCol=[];var _217=comp.oneRowDataLength;for(var j=0;j<_217;j++){var _218=comp.getCellInfo(j);var _219=_218.options.inputType;_209.cellInfo[j]=_218;_209.isPlainDataCol[j]=_219==="checkbox"||_219==="image"||_219==="radio"||_219==="autofinder";_209.isSelectCol[j]=_219==="select";_209.isExpCol[j]=_219==="expression";_209.isBasicCol[j]=!_209.isPlainDataCol[j]&&!_209.isSelectCol[j]&&!_209.isExpCol[j];_209.isCustomCol[j]=_218.useCustomFormatter;}}var _21a=0;var _21b=[];_209.multiexcel=true;_209.massStorage=false;var _21c=comp.makeExcelData(_21a,_21b,_209,_20a);if(_210.length==0){_210=_21c;_210[0]="<vector result='"+_208.length+"'>";}else{_21c[1]="<data vectorkey='"+i+"'><hashtable>";_21c.pop();_21c.shift();_210.pop();_210=_210.concat(_21c);_210.push("</vector>");}}if(_20c==false){$W.logger.printLog("sheetName has not been set. Set the properties sheetName.");}if(_20d==false){}if(_20c==true){$W._N.excelDownload(comp.options.advancedExcelDownloadURL,_210.join(""),"post");comp.xmlData=null;if(_209.showProcess===false){$W.getBody().hideModal();}else{if(_209.showConfirm===true){this.hideDownloadLayer();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._G.emptySelection=function(){["WebSquare.util.emptySelection"];try{if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}}catch(e){}};$W._G.exportJSChartAll=function(_21d){try{var type=_21d.type;var _21f=_21d.fcArr||[];var _220=_21d.fileName;var _221=_21d.direction||"vertical";var temp=FusionCharts.items;var _223={};if(_21f.length>0){for(var i=0;i<_21f.length;i++){_223["fc_"+_21f[i]]=FusionCharts.items["fc_"+_21f[i]];}}else{for(var i in FusionCharts.items){_223[i]=FusionCharts.items[i];}}var _225="";var _226=0;var _227=0;var _228=0;var _229=0;var h=0;var w=0;for(var i in _223){if(_221.toLowerCase()=="horizontal"){_227+=_223[i].options.containerElement.offsetWidth;var _22c=_223[i].options.containerElement.offsetHeight;if(_22c>_228){_228=_22c;}var svg=_223[i].getSVGString();if(svg){svg=svg.wq_replaceAll("shape-rendering=\"default\"","shape-rendering='auto'");svg=svg.wq_replaceAll("visibility=\"\"","visibility='inherit'");svg=svg.wq_replaceAll("text-anchor=\"undefined\"","text-anchor='start'");if($W._G.isIEAllVersion(11)){svg=svg.wq_replaceAll("&quot;","");svg=svg.wq_replaceAll(location.href,"");}if(_223[i].options.chartType.toLowerCase()=="zoomline"){svg=svg.wq_replaceAll("stroke-dasharray=\"-","stroke-dasharray=\"");}if(_223[i].options.chartType.toLowerCase()=="pie3d"||_223[i].options.chartType.toLowerCase()=="doughnut3d"){svg=svg.wq_replaceAll("font-family=\"15\"","font-family=\"Verdana\"");}}var gtag="<g transform='translate("+w+",0)'>";_225+=gtag+svg+"</g>";w+=_223[i].options.containerElement.offsetWidth;}else{_226+=_223[i].options.containerElement.offsetHeight;var _22f=_223[i].options.containerElement.offsetWidth;if(_22f>_229){_229=_22f;}var svg=_223[i].getSVGString();if(svg){svg=svg.wq_replaceAll("shape-rendering=\"default\"","shape-rendering='auto'");svg=svg.wq_replaceAll("visibility=\"\"","visibility='inherit'");svg=svg.wq_replaceAll("text-anchor=\"undefined\"","text-anchor='start'");if($W._G.isIEAllVersion(11)){svg=svg.wq_replaceAll("&quot;","");svg=svg.wq_replaceAll(location.href,"");}if(_223[i].options.chartType.toLowerCase()=="zoomline"){svg=svg.wq_replaceAll("stroke-dasharray=\"-","stroke-dasharray=\"");}if(_223[i].options.chartType.toLowerCase()=="pie3d"||_223[i].options.chartType.toLowerCase()=="doughnut3d"){svg=svg.wq_replaceAll("font-family=\"15\"","font-family=\"Verdana\"");}}var gtag="<g transform='translate(0,"+h+")'>";_225+=gtag+svg+"</g>";h+=_223[i].options.containerElement.offsetHeight;}}if(_221.toLowerCase()=="horizontal"){_225="<svg width='"+_227+"' height='"+_228+"' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+_225+"</svg>";}else{_225="<svg width='"+_229+"' height='"+_226+"' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+_225+"</svg>";}var _230=encodeURI(_225+"ExportType="+type+"ExportFileName="+_220);$W._N.download("engine/servlet/exportFusionChart.jsp",_230,"post");_223=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};})(window);;WebSquare.util=$W._G;$W._s={};$W._s.toTimestampString=function(_1){["WebSquare.date.toTimestampString"];var _2=$W._A.fillZero(_1.getFullYear(),4);var _3=$W._A.fillZero(_1.getMonth()+1,2);var _4=$W._A.fillZero(_1.getDate(),2);var _5=$W._A.fillZero(_1.getHours(),2);var _6=$W._A.fillZero(_1.getMinutes(),2);var _7=$W._A.fillZero(_1.getSeconds(),2);var _8=$W._A.fillZero(_1.getMilliseconds(),3);var _9=_2+"-"+_3+"-"+_4+" "+_5+":"+_6+":"+_7+"."+_8+"000";return _9;};$W._s._parseDate=function(_a,_b){["WebSquare.date._parseDate"];if(typeof _b=="undefined"||_b==null||_b==""){_b="yyyyMMdd";}_a=$W._G.getDate(_a);if(_a.length!=_b.length){return _a;}var _c=["","","","","",""];for(var i=0;i<_b.length;i++){var _e=_b.charAt(i);var _f=_a.charAt(i);switch(_e){case "y":_c[0]+=_f;break;case "M":_c[1]+=_f;break;case "d":_c[2]+=_f;break;case "H":_c[3]+=_f;break;case "m":_c[4]+=_f;break;case "s":_c[5]+=_f;break;}}for(var i=0;i<_c.length;i++){if(i===0){$W._A.fillZero(_c[i],4);}else{$W._A.fillZero(_c[i],2);}}return _c;};$W._s.parseDate=function(str,_11){["WebSquare.date.parseDate"];var _12=$W._s._parseDate(str,_11);if(typeof _12==="string"){return null;}return new Date(_12[0],_12[1]-1,_12[2],_12[3],_12[4],_12[5]);};$W._s.dateDiff=function(_13,_14){["WebSquare.date.dateDiff"];_13=_13+"";_14=_14+"";_13=$W._G.getDate(_13);_14=$W._G.getDate(_14);if(_13.length!=8){alert($W._m.getMessage("E_date_ShouldBeyyMMddFormat",_13));}if(isNaN(_13)){alert($W._m.getMessage("E_date_ShouldBeNumberFormat",_13));}if(_14.length!=8){alert($W._m.getMessage("E_date_ShouldBeyyMMddFormat",_14));}if(isNaN(_14)){alert($W._m.getMessage("E_date_ShouldBeNumberFormat",_14));}var y1=parseInt(_13.substring(0,4),10);var m1=parseInt(_13.substring(4,6),10);var d1=parseInt(_13.substring(6,8),10);var y2=parseInt(_14.substring(0,4),10);var m2=parseInt(_14.substring(4,6),10);var d2=parseInt(_14.substring(6,8),10);var _1b=$W._s.getMaxMinYear();var _1c=_1b["maxYear"];var _1d=_1b["minYear"];if(y1>_1c||y1<_1d){alert($W._m.getMessage("E_date_YearRange",_1d,_1c,y1));return;}if(m1>12||m1<1){alert($W._m.getMessage("E_date_MonthRange","1","12",m1));return;}if(d1>31||d1<1){alert($W._m.getMessage("E_date_DayRange","1","31",d1));return;}if(y2>_1c||y2<_1d){alert($W._m.getMessage("E_date_YearRange",_1d,_1c,y2));return;}if(m2>12||m2<1){alert($W._m.getMessage("E_date_MonthRange","1","12",m2));return;}if(d2>31||d2<1){alert($W._m.getMessage("E_date_DayRange","1","31",d2));return;}var _1e=24*60*60*1000;var t1=Date.UTC(y1,m1-1,d1);var t2=Date.UTC(y2,m2-1,d2);return (t2-t1)/_1e;};$W._s.dateAdd=function(_21,_22){["WebSquare.date.dateAdd"];_21=_21+"";_21=$W._G.getDate(_21);if(_21.length!=8){alert($W._m.getMessage("E_date_ShouldBeyyMMddFormat",_21));}if(isNaN(_21)){alert($W._m.getMessage("E_date_ShouldBeNumberFormat",_21));}var y1=parseInt(_21.substring(0,4),10);var m1=parseInt(_21.substring(4,6),10);var d1=parseInt(_21.substring(6,8),10);var _26=$W._s.getMaxMinYear();var _27=_26["maxYear"];var _28=_26["minYear"];if(y1>_27||y1<_28){alert($W._m.getMessage("E_date_YearRange",_28,_27,y1));return;}if(m1>12||m1<1){alert($W._m.getMessage("E_date_MonthRange","1","12",m1));return;}if(d1>31||d1<1){alert($W._m.getMessage("E_date_DayRange","1","31",d1));return;}var _29=24*60*60*1000;var t1=Date.UTC(y1,m1-1,d1)+_22*_29;var t2=new Date();t2.setTime(t1);var ret=$W._A.fillZero(t2.getUTCFullYear()+"",4)+$W._A.fillZero((t2.getUTCMonth()+1)+"",2)+$W._A.fillZero(t2.getUTCDate()+"",2);return ret;};$W._s.isValidDate=function(obj,_2e){["WebSquare.date.isValidDate"];_2e=$W._G.getDate(_2e);if(_2e==null||_2e.length!=8){alert($W._m.getMessage("E_date_ShouldBeyyMMddFormat",_2e));try{obj.focus();obj.select();}catch(e){$W.exception.printStackTrace(e);}return false;}if(isNaN(_2e)){alert($W._m.getMessage("E_date_ShouldBeNumberFormat",_2e));try{obj.focus();obj.select();}catch(e){$W.exception.printStackTrace(e);}return false;}var y1=parseInt(_2e.substring(0,4),10);var m1=parseInt(_2e.substring(4,6),10);var d1=parseInt(_2e.substring(6,8),10);if(m1<1||m1>12){alert($W._m.getMessage("E_date_MonthRange","1","12",m1));try{obj.focus();obj.select();}catch(e){$W.exception.printStackTrace(e);}return false;}var _32=31;if(m1==2){_32=((y1%400==0)||((y1%4==0)&&(y1%100!=0)))?29:28;}else{if(m1==4||m1==6||m1==9||m1==11){_32=30;}}if(d1<1||d1>_32){alert($W._m.getMessage("E_date_DayRange","1",_32,d1));try{obj.focus();obj.select();}catch(e){$W.exception.printStackTrace(e);}return false;}return true;};$W._s.getFormattedDate=function(_33,_34){["WebSquare.date.getFormattedDate"];var ret=null;if(typeof _33!=="object"||_33==null){return null;}if(typeof _34=="undefined"||_34==null||_34==""){ret=_33.getTime()+"";}else{var idx=-1;idx=_34.indexOf("yyyy");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=$W._A.fillZero(_33.getFullYear()+"",4);if(idx+4<_34.length){tmp+=_34.substring(idx+4,_34.length);}_34=tmp;}idx=_34.indexOf("yy");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=$W._A.fillZero((_33.getFullYear()+"").substr(2,2)+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("MM");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=$W._A.fillZero((_33.getMonth()+1)+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("dd");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=$W._A.fillZero(_33.getDate()+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("HH");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=$W._A.fillZero(_33.getHours()+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("hh");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=$W._A.fillZero(_33.getHours()+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("mm");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=$W._A.fillZero(_33.getMinutes()+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("ss");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=$W._A.fillZero(_33.getSeconds()+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("SSS");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=$W._A.fillZero(_33.getMilliseconds()+"",3);if(idx+3<_34.length){tmp+=_34.substring(idx+3,_34.length);}_34=tmp;}idx=_34.indexOf("EEEE");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}var _38=$W._m.getMessage("F_dateFormat_daynames_full").split(",");tmp+=_38[_33.getUTCDay()];if(idx+4<_34.length){tmp+=_34.substring(idx+4,_34.length);}_34=tmp;}idx=_34.indexOf("E");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}var _38=$W._m.getMessage("F_dateFormat_daynames_abbr").split(",");tmp+=_38[_33.getUTCDay()];var _39=1;for(var i=idx+1;_34.charAt(i)==="E";i++){_39++;}if(idx+_39<_34.length){tmp+=_34.substring(idx+_39,_34.length);}_34=tmp;}ret=_34;}return ret;};$W._s._getDay=function(_3b,_3c){["WebSquare.date._getDay"];_3b=_3b+"";var _3d=parseInt(_3b.slice(0,4));var _3e=_3b.slice(4,6);if(_3e.charAt(0)==0){_3e=parseInt(_3e.charAt(1));}else{_3e=parseInt(_3e);}var _3f=_3b.slice(6,8);if(_3f.charAt(0)==0){_3f=parseInt(_3f.charAt(1));}else{_3f=parseInt(_3f);}if(_3d<1900){if(_3c){alert($W._m.getMessage("Date_err_1900"));}return -1;}if(_3e<0||_3e>12){if(_3c){alert($W._m.getMessage("Date_err_12"));}return -1;}if(_3f<0||_3f>31){if(_3c){alert($W._m.getMessage("Date_err_31"));}return -1;}if(_3e==2&&_3f>28){if((_3d%4==0)&&(_3d%100!=0)||(_3d%400==0)){if(_3f>29){if(_3c){alert($W._m.getMessage("Date_err_29"));}return -1;}}else{if(_3c){alert($W._m.getMessage("Date_err_28"));}return -1;}}if(_3e==4||_3e==6||_3e==9||_3e==11){if(_3f>30){if(_3c){alert($W._m.getMessage("DatePicker_monthNames").split(",")[_3e-1]+$W._m.getMessage("Date_err_30"));}return -1;}}var _40=_3e;if(_3e==1){_40=13;_3d=_3d-1;}if(_3e==2){_40=14;_3d=_3d-1;}var _41=parseInt(((_40+1)*3)/5,10);var _42=parseInt(_3d/4,10);var _43=parseInt(_3d/100,10);var _44=parseInt(_3d/400,10);var _45=_3f+(_40*2)+_3d+_41+_42-_43+_44+2;var _46=parseInt(_45/7,10);return _45-(_46*7);};$W._s.getDay=function(_47){["WebSquare.date.getDay"];var _48=this._getDay(_47,true);switch(_48){case 0:return "\ud1a0\uc694\uc77c";case 1:return "\uc77c\uc694\uc77c";case 2:return "\uc6d4\uc694\uc77c";case 3:return "\ud654\uc694\uc77c";case 4:return "\uc218\uc694\uc77c";case 5:return "\ubaa9\uc694\uc77c";case 6:return "\uae08\uc694\uc77c";}};$W._s.toLunar=function(_49){["WebSquare.date.toLunar"];_49=_49.toString();var _4a=parseInt(_49.substring(0,4));var _4b=parseInt(_49.substring(4,6));if(_49.substring(4,6)=="09"){_4b=9;}var _4c=parseInt(_49.substring(6,8));if(_49.charAt(6)=="0"){_4c=parseInt(_49.charAt(7),10);}var _4d=new Array("12121223221217575_abc","12121212212207575_abc","11211212221207575_abc","21121321221227575_abc","21121121212207575_abc","21212112121207575_abc","22123211212127575_abc","21221211212107575_abc","21221212121207575_abc","12321221212127575_abc","12121212212207575_abc","11211232212227575_abc","11211212122207575_abc","12121121212207575_abc","21212312121217575_abc","22212112121207575_abc","12212121212107575_abc","21232212121217575_abc","21212122121207575_abc","12112122322127575_abc","12112121222107575_abc","21211212122207575_abc","12121321122127575_abc","22121121122107575_abc","22122112121207575_abc","12214121212127575_abc","12121221212107575_abc","21122121221207575_abc","12312121222127575_abc","12112121222107575_abc","21211231221227575_abc","21211211221207575_abc","22121121121207575_abc","22122312121127575_abc","21221212121207575_abc","12121221212107575_abc","21321221221217575_abc","21121212221207575_abc","12112123221227575_abc","12112112212207575_abc","21211211212207575_abc","21221321121227575_abc","12212121211207575_abc","21212212121107575_abc","21223212212127575_abc","11212122122107575_abc","21121212212207575_abc","12312112212227575_abc","12112112122207575_abc","12211231212217575_abc","22211211212107575_abc","22212121121207575_abc","12212412121127575_abc","12122122121207575_abc","11212122122107575_abc","21141212122217575_abc","21121121222107575_abc","22112114122127575_abc","22112112121207575_abc","22121211212107575_abc","22122141121217575_abc","21221221211207575_abc","12121221221207575_abc","11214121221227575_abc","11211212221207575_abc","21121121221207575_abc","22312112121227575_abc","21212112121207575_abc","22121213212127575_abc","21221211212107575_abc","21221212121207575_abc","12121421212127575_abc","12112212212207575_abc","11211212212207575_abc","21141121212227575_abc","12121121212207575_abc","21212112321227575_abc","12212112121207575_abc","12212121212107575_abc","21212232121217575_abc","21212122121207575_abc","12112122122107575_abc","21213212122217575_abc","21211212122207575_abc","12121121122107575_abc","22232112112217575_abc","22122112121207575_abc","12212123212127575_abc","12121221212107575_abc","21122121221207575_abc","12112321222127575_abc","12112121222107575_abc","21211211222107575_abc","22123121122127575_abc","22121121121207575_abc","22121212321127575_abc","21221212121107575_abc","22121221212107575_abc","21121241221217575_abc","21121212212207575_abc","12112112212207575_abc","21213211221227575_abc","21211211212207575_abc","21221121123227575_abc","12212121121207575_abc","12212212121107575_abc","21221232212127575_abc","11212122122107575_abc","21121212212207575_abc","12112312122227575_abc","12112112122207575_abc","12211211212207575_abc","12232121121217575_abc","22212121121207575_abc","12212212321127575_abc","12122121221207575_abc","11212122122107575_abc","21121322122217575_abc","21121121222107575_abc","22112112122107575_abc","22213211212127575_abc","22121211212107575_abc","22122121121207575_abc","12322121221127575_abc","12121221221207575_abc","11212123221227575_abc","11211212221207575_abc","21121121221207575_abc","22112312121227575_abc","21212112121207575_abc","21221211212107575_abc","21242121121217575_abc","21221212121207575_abc","12121212232127575_abc","12112122212207575_abc","11211212212207575_abc","21121321212227575_abc","12121121212207575_abc","21212112121207575_abc","21223211212127575_abc","12212121212107575_abc","21212212121207575_abc","12321212212127575_abc","12112122122107575_abc","21211232122217575_abc","21211212122207575_abc","12121121122207575_abc","12212312112217575_abc","22122112112207575_abc","12122121212107575_abc","21232122121217575_abc","21121221221207575_abc","12112123222127575_abc","12112121222107575_abc","21211211221207575_abc","22121141121227575_abc","22121121121207575_abc","22121212112107575_abc","22122321212117575_abc","21221221212107575_abc","21121221221207575_abc","12312121222127575_abc","12112112212207575_abc","21211213212227575_abc","21211211212207575_abc","21221121121207575_abc","21221412112127575_abc","12212212121107575_abc","21212212212107575_abc","21141212212217575_abc");var _4e=new Array("\uac11","\uc744","\ubcd1","\uc815","\ubb34","\uae30","\uacbd","\uc2e0","\uc784","\uacc4");var _4f=new Array("\uc790","\ucd95","\uc778","\ubb18","\uc9c4","\uc0ac","\uc624","\ubbf8","\uc2e0","\uc720","\uc220","\ud574");var _50=new Array("\uc950","\uc18c","\ubc94","\ud1a0\ub07c","\uc6a9","\ubc40","\ub9d0","\uc591","\uc6d0\uc22d\uc774","\ub2ed","\uac1c","\ub3fc\uc9c0");var _51=new Array("MOUSE","COW","TIGER","RABBIT","DRAGON","SNAKE","HORSE","SHEEP","MONKEY","COCK","DOG","PIG");var _52=new Array(31,28,31,30,31,30,31,31,30,31,30,31);var _53=new Array("SUN","MON","TUE","WED","THU","FRI","SAT");var _54,LunarMonth,LunarDay;var _55,LVar_month1,LVar_month2;var _56,LVar_iCount1,LVar_jCount,LVar_jCount1,LVar_jCount2;var _57,LVar_weekValue;var _58=new Array(170);var _59,LVar_TotalDays0,LVar_TotalDays1,LVar_TotalDays2;var _5a;var _5b,LunarStrDay;var _5c="";var _5d="";for(_56=0;_56<170;_56++){_58[_56]=0;for(LVar_jCount=0;LVar_jCount<12;LVar_jCount++){switch(Number(_4d[_56].charAt(LVar_jCount))){case 1:case 3:_58[_56]=_58[_56]+29;break;case 2:case 4:_58[_56]=_58[_56]+30;}}switch(Number(_4d[_56].charAt(12))){case 0:break;case 1:case 3:_58[_56]=_58[_56]+29;break;case 2:case 4:_58[_56]=_58[_56]+30;break;}}LVar_TotalDays1=(1880*365)+Math.floor(1880/4)-Math.floor(1880/100)+Math.floor(1880/400)+30;_5a=_4a-1;LVar_TotalDays2=(_5a*365)+Math.floor(_5a/4)-Math.floor(_5a/100)+Math.floor(_5a/400);_57=((_4a%400)==0)||((_4a%100)!=0)&&((_4a%4)==0);if(_57){_52[1]=29;}else{_52[1]=28;}if(_4c>_52[_4b-1]){return;}for(_56=0;_56<(_4b-1);_56++){LVar_TotalDays2=LVar_TotalDays2+_52[_56];}LVar_TotalDays2=LVar_TotalDays2+_4c;_59=LVar_TotalDays2-LVar_TotalDays1+1;LVar_TotalDays0=_58[0];for(_56=0;_56<170;_56++){if(_59<=LVar_TotalDays0){break;}LVar_TotalDays0=LVar_TotalDays0+_58[_56+1];}_54=_56+1881;LVar_TotalDays0=LVar_TotalDays0-_58[_56];_59=_59-LVar_TotalDays0;if(Number(_4d[_56].charAt(12))!=0){LVar_jCount2=13;}else{LVar_jCount2=12;}LVar_month2=0;for(LVar_jCount=0;LVar_jCount<LVar_jCount2;LVar_jCount++){if(Number(_4d[_56].charAt(LVar_jCount))<=2){LVar_month2++;}if(Number(_4d[_56].charAt(LVar_jCount))<=2){LVar_month1=Number(_4d[_56].charAt(LVar_jCount))+28;}else{LVar_month1=Number(_4d[_56].charAt(LVar_jCount))+26;}if(_59<=LVar_month1){break;}_59=_59-LVar_month1;}_55=LVar_jCount;LunarMonth=LVar_month2;LunarDay=_59;LVar_weekValue=LVar_TotalDays2%7;_56=(LVar_TotalDays2+4)%10;LVar_jCount=(LVar_TotalDays2+2)%12;LVar_iCount1=(_54+6)%10;LVar_jCount1=(_54+8)%12;if(LunarMonth<10){_5b="0"+LunarMonth;}else{_5b=""+LunarMonth;}if(LunarDay<10){LunarStrDay="0"+LunarDay;}else{LunarStrDay=""+LunarDay;}return _54.toString()+_5b.toString()+LunarStrDay.toString();};$W._s.getCurrentServerDate=function(_5e){["WebSquare.date.getCurrentServerDate"];var _5f=$W._N.getXMLHTTPObject();_5e=_5e||"yyyyMMdd";var _60=$W._N.getConfiguration("serverTimeURL");if(!_60){_60=$W.baseURI+"/serverTime.wq";}_5f.open("POST",_60+"?pattern="+_5e+"&idx="+(new Date()).getTime()+Math.random()*10000,false);_5f.send(null);var _61=_5f.responseText;_5f.onreadystatechange=function(){};_5f=null;return _61.wq_trim();};$W._s.getMaxMinYear=function(){var _62=$W._N.getConfiguration("/WebSquare/date/maxYear/@value")-0;if(_62<1000||_62>9999||isNaN(_62)){_62=2099;}var _63=$W._N.getConfiguration("/WebSquare/date/minYear/@value")-0;if(_63<1000||_63>9999||isNaN(_63)){_63=1901;}if(_63>_62){var tmp=_63;_63=_62;_62=tmp;}var ret={};ret["maxYear"]=_62;ret["minYear"]=_63;return ret;};;WebSquare.date=$W._s;$W._A={};$W._A.checkMaxLength=function(_1,_2){["WebSquare.text.checkMaxLength"];if(typeof _1!="undefined"&&typeof _1.maxLength!="undefined"&&_1.maxLength>-1){if(_2.length>_1.maxLength){var _3=_2.length-_1.maxLength;_2=_2.substring(_3);}}return _2;};$W._A.checkAllowChar=function(_4,_5){["WebSquare.text.checkAllowChar"];var _6=_4;var _7="";if(typeof _5!="undefined"&&_5!=null&&_5!=""){var re=new RegExp("["+_5+"]");for(var i=0;i<_6.length;i++){var s=_6.charAt(i);if(s.match(re)!=null){_7+=s;}else{}}return _7;}else{return _6;}};$W._A.checkIgnoreChar=function(_b,_c){["WebSquare.text.checkIgnoreChar"];var _d=_b;var _e="";if(typeof _c!="undefined"&&_c!=null&&_c!=""){var re=new RegExp("["+_c+"]");for(var i=0;i<_d.length;i++){var s=_d.charAt(i);if(s.match(re)!=null){}else{_e+=s;}}return _e;}else{return _d;}};$W._A.getSelection=function(_12){var _13={start:0,end:0};try{if("selectionStart" in _12){_13.start=_12.selectionStart;_13.end=_12.selectionEnd;}else{var _14=document.selection.createRange().getBookmark();var _15=_12.createTextRange();_15.moveToBookmark(_14);var _16=_12.createTextRange();_16.collapse(true);_16.setEndPoint("EndToStart",_15);var _17=_16.text.length;var _18=_15.text.length;_13.start=_17;_13.end=_17+_18;}}catch(e){$W.exception.printStackTrace(e);}return _13;};$W._A.setSelection=function(_19,pos){["WebSquare.util.setCaretPosition"];try{if(_19.setSelectionRange){_19.focus();_19.setSelectionRange(pos.start,pos.end);}else{if(_19.createTextRange){var _1b=_19.createTextRange();_1b.collapse(true);_1b.moveEnd("character",pos.end);_1b.moveStart("character",pos.start);_1b.select();}}}catch(e){$W.exception.printStackTrace(e,null,this);if(_19!=null&&_19.focus!=undefined){_19.focus();}}};$W._A.getCaretPos=function(_1c){var len=0;try{if($W._G.isIE()){var _1e=$W.document.selection.createRange();var _1f=_1e.duplicate();var _20=_1c.createTextRange();while(_1f.compareEndPoints("StartToStart",_20)>0){_1f.moveStart("character",-1);len++;}}else{len=_1c.selectionStart;}}catch(e){$W.exception.printStackTrace(e);}return len;};$W._A.setCaretPos=function(_21,pos){try{if($W._G.isIE()){var _23=_21.createTextRange();_23.move("character",pos);_23.select();}else{_21.selectionStart=pos;_21.selectionEnd=pos;}}catch(e){$W.exception.printStackTrace(e);}};$W._A.checkString=function(obj,e){["WebSquare.text.checkString"];var _26=obj.render.value;if($W._N.browserCheck.moz){if(e.charCode==0){return;}if(obj.maxLength!=-1&&_26.length>=obj.maxLength){var _27=obj.render.selectionStart;var end=obj.render.selectionEnd;if(_27!=end){return;}e.preventDefault();return;}}var _29=(e.charCode)?e.charCode:e.keyCode;if(e.ctrlKey==true&&_29==86){return;}if(e.ctrlKey==true&&_29==118){return;}var _2a=String.fromCharCode(_29);if(typeof obj.ignoreChar!="undefined"&&obj.ignoreChar!=null&&obj.ignoreChar!=""){var re=new RegExp("["+obj.ignoreChar+"]");if(_2a.match(re)!=null){if($W._N.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}}if(typeof obj.allowChar!="undefined"&&obj.allowChar!=null&&obj.allowChar!=""){var re=new RegExp("["+obj.allowChar+"]");if(_2a.match(re)==null){if($W._N.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}}if(obj.characterCase!=""&&obj.characterCase=="upper"){if(e.keyCode>=97&&e.keyCode<=122){e.keyCode-=32;}}if(obj.characterCase!=""&&obj.characterCase=="lower"){if(event.keyCode>=65&&event.keyCode<=90){event.keyCode+=32;}}if(obj.valueType=="number"){if((obj.getCaretPos()!=0&&(event.keyCode==45||event.keyCode==43))){if($W._N.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}if((_26.charAt(0)=="+"||_26.charAt(0)=="-")&&obj.getCaretPos()==0){if($W._N.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}if((_26.indexOf(".")>-1&&e.keyCode==46)){if($W._N.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}}};$W._A.validateValue=function(_2c,obj){["WebSquare.text.validateValue"];if(obj.mandatory=="true"){if(_2c.wq_trim()==""){obj.isValid="false";if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" has to be filled ";}return false;}}if(obj.minLength!=-1){if(_2c.length<obj.minLength){obj.isValid="false";if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" has to be same or more than "+obj.minLength;}return false;}}if(obj.maxLength!=-1){if(_2c.length>obj.maxLength){obj.isValid="false";if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" has to be same or less than "+obj.maxLength;}return false;}}return true;};$W._A.validateText=function(_2e,obj){["WebSquare.text.validateText"];if(!$W._A.validateValue(_2e,obj)){$W._A.validateEffect(_2e,obj);return false;}if(obj.validator!=""){var _30=obj;var _31=_2e;var _32=true;try{_32=eval(obj.validator+"(validateValue,validateTextObj);");if(!_32){$W._A.validateEffect(_2e,obj);if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" \uc758 validator\uc5d0 \uc758\ud55c \uc218\ud589 \uc870\uac74\uc744 \ub9cc\uc871\uc2dc\ud0a4\uc9c0 \ubabb\ud558\uc600\uc2b5\ub2c8\ub2e4. ";}}return _32;}catch(e){if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" \uc758 validator\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uac70\ub098 \uac1d\uccb4\uac00 \uc544\ub2d9\ub2c8\ub2e4. ";}return false;}}return true;};$W._A.validateEffect=function(_33,obj){["WebSquare.text.validateEffect"];if(obj.invalid_background_color!=""){obj.render.style.backgroundColor=obj.invalid_background_color;}if(obj.invalid_color!=""){obj.render.style.color=obj.invalid_color;}};$W._A.getPosition=function(_35){var _36=_35.indexOf(".");var _37=0;if(_36>-1){var str=_35.substring(_36);for(var i=0;i<str.length;i++){var _3a=str.charAt(i);if(_3a=="#"||_3a=="0"){_37++;}}_37=_37-(_37*2);}else{for(var j=0;j<_35.length;j++){var _3a=_35.charAt(j);if(_3a=="0"){_37++;}}}return _37;};$W._A.checkComma=function(_3c){var _3d=_3c.indexOf(",");if(_3d==-1){return false;}return true;};$W.numFRe=new RegExp("[^0]+[0-9]*");$W.numberFormatter=function(str,_3f,_40){this.sign="";this.integer=new Array();this.decimal=new Array();this.delimeter=_3f||",";this.decimalDelimeter=_40||".";var _41="";vardecimalStr="";var arr=str.split(this.decimalDelimeter);if(arr.length==1){_41=arr[0];decimalStr="";}else{if(arr.length>1){_41=arr[0];decimalStr=arr[1];}}if(_41.charAt(0)=="+"||_41.charAt(0)=="-"){this.sign=_41.charAt(0);_41=_41.substr(1);}var _43=_41.match($W.numFRe);if(_43!=null){_41=_43.join("");}else{_41="0";}for(var i=0;i<_41.length;i++){this.integer.push(parseInt(_41.charAt(i)));}for(var i=0;i<decimalStr.length;i++){this.decimal.push(parseInt(decimalStr.charAt(i)));}};$W.numberFormatter.prototype.getValue=function(){var _45="";_45+=this.sign;if(this.integer.length>0){_45+=this.integer.join("");}if(this.decimal.length>0){_45+=".";_45+=this.decimal.join("");}return _45;};$W.numberFormatter.prototype.setPrecision=function(_46,_47){if(_46==null){_46=0;}if(_47==null){_47="[round]";}var _48=0;if(_47=="[round]"){_48=5;}else{if(_47=="[floor]"){_48=0;}else{if(_47=="[ceil]"){_48=9;}}}var _49=this.decimal.length;if(_46+1>_49){for(var i=0;i<_46+1-_49;i++){this.decimal.push(0);}}else{this.decimal=this.decimal.slice(0,_46+1);}var _4b=0;if(this.decimal[_46]+_48>9){_4b=1;}for(var i=_46-1;i>=0;i--){this.decimal[i]+=_4b;if(this.decimal[i]>9){_4b=1;this.decimal[i]-=10;}else{_4b=0;}}this.decimal.pop();if(_4b!=0){for(var i=this.integer.length-1;i>=0;i--){this.integer[i]+=_4b;if(this.integer[i]>9){_4b=1;this.integer[i]-=10;}else{_4b=0;}}}if(_4b!=0){this.integer.push(0);for(var i=this.integer.length-1;i>=1;i--){this.integer[i]=this.integer[i-1];}this.integer[0]=1;}};$W.numberFormatter.prototype.getValueWithDelimeter=function(_4c,_4d){var _4e="";if(_4d==null||_4d<=0){return this.getValue();}_4e+=this.sign;if(this.integer.length>0){var _4f=this.integer.length%_4d;var _50=0;for(var i=0;i<this.integer.length;i++){if((i+1)%_4d==_4f){_4e+=this.integer.slice(_50,i+1).join("");if(i+1<this.integer.length){_4e+=_4c||this.delimeter;}_50=i+1;}}}if(this.decimal.length>0){_4e+=this.decimalDelimeter;_4e+=this.decimal.join("");}if(_4e==="-0"){_4e="0";}return _4e;};$W.numberFormatter.prototype.getFormattedValue=function(_52){var _53="";if(!_52){return this.getValue();}_53+=this.sign;var _54=[];$W.extend(_54,this.integer);var _55=[];var _56;if(_52.indexOf(this.decimalDelimeter)>-1){_56=_52.substring(0,_52.indexOf(this.decimalDelimeter));}else{_56=_52.substring(0);}var _57=_56.split(this.delimeter).reverse();for(var i=0;i<this.integer.length;i++){if(_54.length==0){break;}var _59=_57[i%_57.length].length;var _5a=[];for(var j=0;j<_59;j++){_5a.push(_54.pop());}_55.push(_5a.reverse().join(""));}_53+=_55.reverse().join(this.delimeter);if(this.decimal.length>0){_53+=this.decimalDelimeter;_53+=this.decimal.join("");}return _53;};$W.numberFormatter.prototype.cutZeroDecimal=function(_5c){var _5d=_5c.lastIndexOf("0")-1;var _5e=this.decimal.length-1;while(_5e>=0&&this.decimal[_5e]==0&&_5e>_5d){this.decimal.pop();_5e--;}};$W._A.formatCurrency=function(_5f,_60,obj,_62,_63,_64){_5f=_5f+"";if(_5f.wq_trim()==""){return "";}else{if(typeof _60=="undefined"||_60==null||_60==""){return parseFloat(_5f)+"";}}if(!_63){_63=",";}if(!_64){_64=".";}var _65=new RegExp("\\[("+_64+"*)\\]","g");var _66=new RegExp("["+_64+"]+[#0]+");var _67=new RegExp("["+_63+"]+[#0]+");var _68=new RegExp("["+_64+"][0-9]*");var _69=_60.match(_65);_60=_60.replace(_65,"");var _6a=_60.match(_66);if(_6a!=null){_6a=_6a.join("");}else{_6a=_64;}var _6b=_6a.length-1;_60=_60.replace(_66,"");var _6c=_60.match(_67);if(_6c!=null){_6c=_6c.join("");}else{_6c=_63;}var _6d=_6c.length-1;_60=_60.replace(_67,"");var _6e=new $W.numberFormatter(_5f,_63,_64);if(_62){if(_69==null){_69="[floor]";}var _6f=_5f.match(_68);_6a=_64;if(_6f&&_6f.toString().length>=2){var len=_6f.toString().length;for(var i=0;i<len-1;i++){_6a+="0";}}}_6e.setPrecision(_6b,_69);_6e.cutZeroDecimal(_6a);var _72=_6e.getValueWithDelimeter(_63,_6d);if(_62&&_5f.slice(-1)==_64){_72+=_64;}if(_62&&(_5f==="-"||_5f==="+")){_72=_5f;}var _73=_60.substr(0,_60.indexOf("#"));var _74=_60.substr(_60.lastIndexOf("#")+1,_60.length-1-_60.lastIndexOf("#"));if(_73){_72=_73+_72;}if(_74){_72=_72+_74;}return _72;};$W._A.formatEuroCurrency=function(_75,_76,obj,_78,_79,_7a){_75=_75+"";if(_75.wq_trim()==""){return "";}else{if(typeof _76=="undefined"||_76==null||_76==""){return parseFloat(_75)+"";}}if(!_79){_79=".";}if(!_7a){_7a=",";}var _7b=new RegExp("\\[("+_79+"*)\\]","g");var _7c=new RegExp("["+_7a+"]+[#0]+");var _7d=new RegExp("["+_79+"]+[#0]+");var _7e=new RegExp("["+_7a+"][0-9]*");var _7f=_76.match(_7b);_76=_76.replace(_7b,"");var _80=_76.match(_7c);if(_80!=null){_80=_80.join("");}else{_80=_7a;}var _81=_80.length-1;_76=_76.replace(_7c,"");var _82=_76.match(_7d);if(_82!=null){_82=_82.join("");}else{_82=_79;}var _83=_82.length-1;_76=_76.replace(_7d,"");var _84=new $W.numberFormatter(_75,_79,_7a);if(_78){if(_7f==null){_7f="[floor]";}var _85=_75.match(_7e);_80=_7a;if(_85&&_85.toString().length>=2){var len=_85.toString().length;for(var i=0;i<len-1;i++){_80+="0";}}}_84.setPrecision(_81,_7f);_84.cutZeroDecimal(_80);var _88=_84.getValueWithDelimeter(_79,_83);if(_78&&_75.slice(-1)==_7a){_88+=_7a;}if(_78&&(_75==="-"||_75==="+")){_88=_75;}var _89=_76.substr(0,_76.indexOf("#"));var _8a=_76.substr(_76.lastIndexOf("#")+1,_76.length-1-_76.lastIndexOf("#"));if(_89){_88=_89+_88;}if(_8a){_88=_88+_8a;}return _88;};$W._A.formatRupeeCurrency=function(_8b,_8c,obj,_8e,_8f,_90){var _91=_8c;_8b=_8b+"";if(_8b.wq_trim()==""){return "";}else{if(typeof _8c=="undefined"||_8c==null||_8c==""){return parseFloat(_8b)+"";}}if(!_8f){_8f=",";}if(!_90){_90=".";}if(_8c.indexOf(";")>-1){var _92=_8c.split(";");var _93="";for(var i=0;i<_92.length;i++){_93=_92[i].wq_trim();var _95=_93.match($W._A.formatRupeeCRe1);if(_95&&_95.length>0){var _96=_95[0].replace("[","").replace("]","");if(eval("Number("+_8b+")"+_96)){break;}}}if(_93){return $W._A.formatRupeeCurrency(_8b,_93.replace($W._A.formatRupeeCRe1,""),obj,_8e,_8f,_90);}}var _97=new RegExp("\\[("+_90+"*)\\]","g");var _98=new RegExp("["+_90+"]+[#0]+");var _99=new RegExp("["+_8f+"]+[#0]+");var _9a=new RegExp("["+_90+"][0-9]*");var _9b=_8c.match(_97);_8c=_8c.replace(_97,"");var _9c=_8c.match(_98);if(_9c!=null){_9c=_9c.join("");}else{_9c=_90;}var _9d=_9c.length-1;_8c=_8c.replace(_98,"");var _9e=_8c.substr(0,_8c.indexOf("#"));var _9f=_8c.substr(_8c.lastIndexOf("#")+1,_8c.length-1-_8c.lastIndexOf("#"));var _a0=_8c.match(_99);if(_a0!=null){_a0=_a0.join("");}else{_a0=_8f;}var _a1=_a0.length-1;_8c=_8c.replace(_99,"");var _a2=new $W.numberFormatter(_8b,_8f,_90);if(_8e){if(_9b==null){_9b="[floor]";}var _a3=_8b.match(_9a);_9c=_90;if(_a3&&_a3.toString().length>=2){var len=_a3.toString().length;for(var i=0;i<len-1;i++){_9c+="0";}}}_a2.setPrecision(_9d,_9b);_a2.cutZeroDecimal(_9c);var _a5=_a2.getFormattedValue(_91);if(_8e&&_8b.slice(-1)==_90){_a5+=_90;}if(_8e&&(_8b==="-"||_8b==="+")){_a5=_8b;}if(_9e){_a5=_9e+_a5;}if(_9f){_a5=_a5+_9f;}return _a5;};$W._A.formatTengeCurrency=function(_a6,_a7,obj,_a9,_aa,_ab){_a6=_a6+"";if(_a6.wq_trim()==""){return "";}else{if(typeof _a7=="undefined"||_a7==null||_a7==""){return parseFloat(_a6)+"";}}if(!_aa){_aa=" ";}if(!_ab){_ab="-";}var _ac=new RegExp("\\[("+_ab+"*)\\]","g");var _ad=new RegExp("["+_ab+"]+[#0]+");var _ae=new RegExp("["+_aa+"]+[#0]+");var _af=new RegExp("["+_ab+"][0-9]*");var _b0=_a7.match(_ac);_a7=_a7.replace(_ac,"");var _b1=_a7.match(_ad);if(_b1!=null){_b1=_b1.join("");}else{_b1=_ab;}var _b2=_b1.length-1;_a7=_a7.replace(_ad,"");var _b3=_a7.match(_ae);if(_b3!=null){_b3=_b3.join("");}else{_b3=_aa;}var _b4=_b3.length-1;_a7=_a7.replace(_ae,"");var _b5=new $W.numberFormatter(_a6,_aa,_ab);if(_a9){if(_b0==null){_b0="[floor]";}var _b6=_a6.match(_af);_b1=_ab;if(_b6&&_b6.toString().length>=2){var len=_b6.toString().length;for(var i=0;i<len-1;i++){_b1+="0";}}}_b5.setPrecision(_b2,_b0);_b5.cutZeroDecimal(_b1);var _b9=_b5.getValueWithDelimeter(_aa,_b4);if(_a9&&_a6.slice(-1)==_ab){_b9+=_ab;}if(_a9&&(_a6==="-"||_a6==="+")){_b9=_a6;}var _ba=_a7.substr(0,_a7.indexOf("#"));var _bb=_a7.substr(_a7.lastIndexOf("#")+1,_a7.length-1-_a7.lastIndexOf("#"));if(_ba){_b9=_ba+_b9;}if(_bb){_b9=_b9+_bb;}return _b9;};$W._A.formatDate=function(_bc,_bd,_be){if(typeof _be=="undefined"||_be==null||_be==""){_be="yyyyMMdd";}if(_bc.length!==_be.length){return _bc;}if(typeof _bd=="undefined"||_bd==null||_bd==""){_bd="yyyy/MM/dd";}for(var i=0;i<_bc.length&&i<_be.length;i++){var _c0=_be.charAt(i);var _c1=_bc.charAt(i);if("yMdHmS".indexOf(_c0)>=0){_bd=_bd.replace(_c0,_c1);}}if(_bd.indexOf("E")>=0){var _c2=$W._s._parseDate(_bc,_be);var _c3=$W._s._getDay(_c2.slice(0,3).join(""),false);if(_c3>=0){var _c4=new Date(_c2[0],_c2[1]-1,_c2[2],_c2[3],_c2[4],_c2[5]);_bd=$W._s.getFormattedDate(_c4,_bd);}else{_bd=_bd.wq_replaceAll("E","");}}return _bd;};$W._A.formatTime=function(_c5,_c6,_c7){if(typeof _c7=="undefined"||_c7==null||_c7==""){_c7="HHmmss";}if(typeof _c6=="undefined"||_c6==null||_c6==""){_c6="HH:mm";}if(_c5==""){return "";}for(var i=0;i<_c5.length&&i<_c7.length;i++){var _c9=_c7.charAt(i);var _ca=_c5.charAt(i);if("Hms".indexOf(_c9)>=0){_c6=_c6.replace(_c9,_ca);}}_c6=_c6.replace(/H|m|s/g,"0");return _c6;};$W._A.formatWithFormatter=function(_cb,_cc){if(typeof _cb!="string"){return eval(_cc+"('"+_cb+"');");}else{return eval(_cc+"('"+_cb.replace(/'/g,"\\'")+"');");}};$W._A.formatText=function(_cd,_ce){_cd=_cd+"";if(typeof _ce=="undefined"||_ce==null||_ce==""){return _cd;}var _cf="";var j=_cd.length-1;var i=_ce.length-1;for(;i>=0&&j>=0;i--){var _d2=_ce.charAt(i);if(_d2!="#"){_cf=_d2+_cf;}else{_cf=_cd.charAt(j)+_cf;j--;}}if(j>-1&&j<_cd.length){_cf=_cd.substring(0,j+1)+_cf;}if(i>-1&&_ce.substring(0,i+1).indexOf("#")==-1){_cf=_ce.substring(0,i+1)+_cf;}return _cf;};$W._A.format=function(_d3,_d4,_d5,_d6){["WebSquare.text.format"];var _d7;if(_d5=="number"){_d7=$W._A.formatCurrency(_d3,_d4);}else{if(_d5=="currency"){_d7=$W._A.formatEuroCurrency(_d3,_d4,_d6);}else{if(_d5=="date"){_d7=$W._A.formatDate(_d3,_d4,_d6);}else{if(_d5=="time"){_d7=$W._A.formatTime(_d3,_d4,_d6);}else{_d7=$W._A.formatText(_d3,_d4);}}}}return _d7;};$W._A.getValidString=function(_d8,_d9,_da,_db){return _d8;};$W._A.unformatCurrency=function(_dc,_dd){var _de="";for(var i=0;i<_dd.length;i++){if(_dd.charAt(i)!=","){if(_dd.charAt(i)=="$"){if(_dc.indexOf("$")==-1){_de=_de+_dd.charAt(i);}}else{if(_dd.charAt(i)=="\\"){if(_dc.indexOf("\\")==-1){_de=_de+_dd.charAt(i);}}else{if(_dd.charAt(i)=="+"){if(_dc.indexOf("+")==-1){_de=_de+_dd.charAt(i);}}else{if(_dd.charAt(i)=="-"){if(_dc.indexOf("-")==-1){_de=_de+_dd.charAt(i);}}else{_de=_de+_dd.charAt(i);}}}}}}return _de;};$W._A.unformatDate=function(_e0,_e1){if(typeof _e0=="undefined"||_e0==null||_e0==""){_e0="yyyy/MM/dd";}if(_e1.length!=_e0.length){return _e1;}var ret="";var _e3=_e0.indexOf("yyyy");var _e4=_e0.indexOf("MM");var _e5=_e0.indexOf("dd");if(_e3!=-1){ret+=_e1.substr(_e3,4);}if(_e4!=-1){ret+=_e1.substr(_e4,2);}if(_e5!=-1){ret+=_e1.substr(_e5,2);}return ret;};$W._A.unformatTime=function(_e6,_e7){if(_e7.length!=_e6.length){return _e7;}if(typeof _e6=="undefined"||_e6==null||_e6==""){_e6="HH:mm:SS";}var ret="";var _e9=_e6.indexOf("HH");var _ea=_e6.indexOf("mm");var _eb=_e6.indexOf("SS");if(_e9!=-1){ret+=_e7.substr(_e9,2);}if(_ea!=-1){ret+=_e7.substr(_ea,2);}if(_eb!=-1){ret+=_e7.substr(_eb,2);}return ret;};$W._A.unformatText=function(_ec,_ed){if(typeof _ec=="undefined"||_ec==null||_ec==""){return _ed;}_ec=_ec.substring(_ec.indexOf(","));var _ee="";var j=_ed.length-1;var i=_ec.length-1;for(;i>=0&&j>=0;i--){var _f1=_ec.charAt(i);var _f2=_ed.charAt(j);if(_f1=="#"&&_f2!="#"){_ee=_f2+_ee;}else{if(_f1!=_f2){_ee=_f2+_ee;}}j--;}if(j>-1){_ee=_ed.substring(0,j+1)+_ee;}return _ee;};$W._A.unformat=function(obj){["WebSquare.text.unformat"];if(!(typeof obj.formatArray!="undefined"&&typeof obj.formatArray["displayFormat"]!="undefined"&&obj.formatArray["displayFormat"]!=null)){return obj.render.value;}if(obj.status!="format"){return obj.render.value;}else{obj.status="unformat";}var _f4=obj.render.value;var _f5=obj.formatArray["displayFormat"];var _f6=obj.valueType;var _f7;if(typeof _f6!="undefined"&&_f6!=null&&_f6=="number"){_f7=$W._A.unformatCurrency(_f5,_f4);}else{if(typeof _f6!="undefined"&&_f6!=null&&_f6=="date"){_f7=$W._A.unformatDate(_f5,_f4);}else{if(typeof _f6!="undefined"&&_f6!=null&&_f6=="time"){_f7=$W._A.unformatTime(_f5,_f4);}else{_f7=$W._A.unformatText(_f5,_f4);}}}return _f7;};$W._A.BASE64Encoder=function(d){["WebSquare.text.BASE64Encoder"];var _f9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var b64=new Array();for(var i=0;i<_f9.length;i++){b64[i]=_f9.charAt(i);}var r=new Array();var i=0;if(d.charCodeAt(0)!=65279){d=String.fromCharCode(65279)+d;}var dl=d.length;if((dl%3)==1){d+=String.fromCharCode(0)+String.fromCharCode(0);}if((dl%3)==2){d+=String.fromCharCode(0);}while((i+2)<d.length){r[r.length]=b64[d.charCodeAt(i)>>10];r[r.length]=b64[(d.charCodeAt(i)&1008)>>4];r[r.length]=b64[(d.charCodeAt(i)&15)<<2|(d.charCodeAt(i+1)>>14)];r[r.length]=b64[(d.charCodeAt(i+1)&16128)>>8];if((r.length%76)==0){r[r.length]="\n";}r[r.length]=b64[(d.charCodeAt(i+1)&252)>>2];r[r.length]=b64[(d.charCodeAt(i+1)&3)<<4|(d.charCodeAt(i+2)>>12)];r[r.length]=b64[(d.charCodeAt(i+2)&4032)>>6];r[r.length]=b64[d.charCodeAt(i+2)&63];if((r.length%76)==0){r[r.length]="\n";}i+=3;}if((dl%3)==1){r.pop();r.pop();r.pop();r.pop();if(dl==28){r.pop();}r[r.length-1]="=";}if((dl%3)==2){r[r.length-1]=r[r.length-2]="=";}var t=r.join("");return t;};$W._A.BASE64Decoder=function(t){["WebSquare.text.BASE64Decoder"];var b64s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var f64=new Array(),i;for(i=0;i<b64s.length;i++){f64[b64s.charAt(i)]=i;}var d=new Array();var i=0;t=t.replace(/\n|\r/g,"");t=t.replace(/=/g,"");var len=parseInt(t.length*3/4)/2;while(i<t.length){d[d.length]=(f64[t.charAt(i)]<<10)|(f64[t.charAt(i+1)]<<4)|(f64[t.charAt(i+2)]>>2);d[d.length]=((f64[t.charAt(i+2)]&3)<<14)|(f64[t.charAt(i+3)]<<8)|(f64[t.charAt(i+4)]<<2)|(f64[t.charAt(i+5)])>>4;d[d.length]=((f64[t.charAt(i+5)]&15)<<12)|(f64[t.charAt(i+6)]<<6)|f64[t.charAt(i+7)];i+=8;}d=d.slice(1,len);var r="";try{r=String.fromCharCode.apply(document,d);}catch(e){for(i=0;i<d.length;i++){r+=String.fromCharCode(d[i]);}}return r;};$W._A.BASE64URLEncoder=function(d){["WebSquare.text.BASE64URLEncoder"];return escape($W._A.BASE64Encoder(d));};$W._A.BASE64URLDecoder=function(t){["WebSquare.text.BASE64URLDecoder"];return $W._A.BASE64Decoder(unescape(t));};$W._A.fillZero=function(str,len){["WebSquare.text.fillZero"];var _10a;var i;var _10c=(str+"");if(isNaN(_10c)){return str;}if(_10c.length>=len){return _10c;}_10a=len-_10c.length;while(_10a>0){switch(_10a){case 1:_10a=0;_10c="0"+_10c;break;case 2:_10a=0;_10c="00"+_10c;break;case 3:_10a=0;_10c="000"+_10c;break;case 4:_10a=0;_10c="0000"+_10c;break;case 5:_10a=0;_10c="00000"+_10c;break;case 6:_10a=0;_10c="000000"+_10c;break;case 7:_10a=0;_10c="0000000"+_10c;break;case 8:_10a=0;_10c="00000000"+_10c;break;case 9:_10a=0;_10c="000000000"+_10c;break;case 10:_10a=0;_10c="0000000000"+_10c;break;case 11:_10a=0;_10c="00000000000"+_10c;break;case 12:_10a=0;_10c="000000000000"+_10c;break;case 13:_10a=0;_10c="0000000000000"+_10c;break;case 14:_10a=0;_10c="00000000000000"+_10c;break;case 15:_10a=0;_10c="000000000000000"+_10c;break;default:_10a-=15;_10c="000000000000000"+_10c;break;}}return _10c;};$W._A.isKorean=function(str){["WebSquare.text.isKorean"];if(str!=null&&str.length>0){var _10e=0;for(var i=0;i<str.length;i++){_10e|=$W._A.getLocale(str.charAt(i));}if((_10e&~3)==0){return true;}}return false;};$W._A.getLocale=function(str){["WebSquare.text.getLocale"];var _111=0;if(str.length>0){var _112=str.charCodeAt(0);if(_112>=44032&&_112<=55203){_111=1;}else{if((_112>=4352&&_112<=4601)||(_112>=12593&&_112<=12686)){_111=2;}else{if(_112>=48&&_112<=57){_111=4;}else{if((_112>=32&&_112<=47)||(_112>=58&&_112<=64)||(_112>=91&&_112<=96)||(_112>=123&&_112<=126)){_111=8;}else{if(_112>=65&&_112<=90){_111=16;}else{if(_112>=97&&_112<=122){_111=32;}else{_111=48;}}}}}}}return _111;};$W._A.URLEncoder=function(str){["WebSquare.text.URLEncoder"];if(typeof str=="number"){return str;}var ret="";if(str==null||str.length==0){return ret;}for(var i=0;i<str.length;i++){var code="";if(str.charAt(i)==" "){ret+="+";}else{if((str.charCodeAt(i)>=48&&str.charCodeAt(i)<=57)||(str.charCodeAt(i)>=65&&str.charCodeAt(i)<=90)||(str.charCodeAt(i)>=97&&str.charCodeAt(i)<=122)||str.charAt(i)=="@"||str.charAt(i)=="."||str.charAt(i)=="-"||str.charAt(i)=="*"||str.charAt(i)=="_"){ret+=str.charAt(i);}else{if((code=$W._A.getEUCKR(str.charCodeAt(i)))!=null&&code>=42145){ret+="%"+(code>>8).toString(16)+"%"+(code&255).toString(16);}else{if(str.charCodeAt(i)<=126){var _117=str.charCodeAt(i).toString(16);if(_117.length==1){ret+="%0"+_117;}else{ret+="%"+_117;}}else{ret+="%3f";}}}}}return ret;};$W._A.URLDecoder=function(str){["WebSquare.text.URLDecoder"];var ret="";if(str==null||str.length==0){return ret;}for(var i=0;i<str.length;i++){if(str.charAt(i)=="+"){ret+=" ";}else{if(str.charAt(i)!="%"){ret+=str.charAt(i);}else{if(i+5<=str.length){var tmp=str.substring(i+1,i+3);if(str.charAt(i+3)=="%"&&parseInt(tmp,16)>160){tmp+=str.substring(i+4,i+6);tmp=tmp.toUpperCase();ret+=String.fromCharCode($W._A.getUNICODE(parseInt(tmp,16)));i+=5;}else{ret+=String.fromCharCode(parseInt(tmp,16));i+=2;}}else{if(i+2<=str.length){var tmp=str.substring(i+1,i+3);ret+=String.fromCharCode(parseInt(tmp,16));i+=2;}else{ret+=str.charAt(i);}}}}}return ret;};$W._A.getEUCKR=function(k){["WebSquare.text.getEUCKR"];if(!$W._A.EUCKR){$W._A.setEUCKR();}if(!$W._A.UNICODE){$W._A.setUNICODE();}var max=16;var str=0;var end=$W._A.UNICODE.length-1;var pos=Math.round((str+end)/2);while(max-->0){if($W._A.UNICODE[pos]>k){end=pos;pos=Math.round((str+end)/2);}else{if($W._A.UNICODE[pos]<k){str=pos;pos=Math.round((str+end)/2);}else{return $W._A.EUCKR[pos];}}}return "";};$W._A.getUNICODE=function(k){["WebSquare.text.getUNICODE"];if(!$W._A.EUCKR){$W._A.setEUCKR();}if(!$W._A.UNICODE){$W._A.setUNICODE();}var max=16;var str=0;var end=$W._A.EUCKR.length-1;var pos=Math.round((str+end)/2);while(max-->0){if($W._A.EUCKR[pos]>k){end=pos;pos=Math.round((str+end)/2);}else{if($W._A.EUCKR[pos]<k){str=pos;pos=Math.round((str+end)/2);}else{return $W._A.UNICODE[pos];}}}return 63;};$W._A.isFinalConsonant=function(str){["WebSquare.text.isFinalConsonant"];var code=str.charCodeAt(str.length-1);if(code<44032||code>55197){return false;}if((code-16)%28==0){return false;}return true;};$W._A.arraySort=function(arr,_129){["WebSquare.text.arraySort"];var a=new Array();for(var i=0;i<arr.length;i++){a.push(arr[i]);}if(typeof _129=="undefined"){return a.sort();}else{return a.sort(_129);}};$W._A.setEUCKR=function(){var _12c=[42145];var len=2444;for(var i=1;i<94;i++){_12c[i]=_12c[i-1]+1;}_12c[i]=_12c[i-1]+2979;for(i++;i<len;i++){_12c[i]=_12c[i-1]+((i-188)%94==0?163:1);}$W._A.EUCKR=_12c;};$W._A.setUNICODE=function(){var _12f=[12593];var len=2444;var conv="#%%###(#######$####%&*#$##)#%&-$)&&6#%%#$(#$###%###&&*#$##)##$%#*#$##&%&&+$+#%%#$$%##$$#(#%&$(#$$)&&+%#)#%&*#$$)&&+$+#%%###'##$$#(#%&.#)5+#%&*#$+&&6#%%##)#$$)>#%%#$(#$$#&$##$&$(#$##&%#%&*#$##)#)R##$&*#$##)#%.%$)&&-#'%>#%$$*#$$##'#).#)#6)&&*#&)>#%&)##$$#(*.#)#%&*#%*&&*#->#%$$$'##$$&A#%&*#$$)##$%###(#$####$$##%&*#$##)#%&*'E#$#&$#'#$##(##%&*#$##)#%&*#%#%&&:#%&$(#$$'##&&.F&&*#$+#%&+$$)#%%#*#$$)6*>&&*#-#)*#&)#%&##(#$$#&$&&6#%&$(#$$'$##$%####&##$####&##%&*#$##)Z##$%#$#'#$$$%$#%&*#$##)&&.#)&:#%%#$$&#$$$$%&&66*&&*#$+>#%&*#$$)6*7)&&+$$)&&*')#%%#$(#$$)>#%%#*#$###(#%&*#$##(##%&*#$##a#%&$#'#$##(##%&*#$##)6F#%&/)*6>&V#%&)#'E>&&*#&E#%%#*#$+&&*#-&&*#$$)#%&*#$###&###%&*#$##)#%1$E#%&*#$##(##%&*#$$)#%&*#$##)&/$+#%&*#$$)&3=*&&*#$$)&&+$$)#%&*#$$)6*>#%&*%$)#%&*#$$)#%&*#$$#%#@#%&*#$$)#%$####(#$$#%$##%&*#$###(#)/E#%&$(#$$#'##%&*#$##)#%&-##$'>#$#&$(#$$)&2#E&&+$$)&&+$+##$%###(#$$&$#&&+$+>&&6&&*%+&&*%G#%%#$(#$##$$%####%####'#$$&%#%&*#$##&%#%/I#%%#$(#$$#(#%%#*#$##)#%&+$##&%&:##$&*#$$)&2*6*#%&*#-&:#%%###(#$$&#$*.*>#%&/)&&*%$)#%&*#$G#%&$(#$$##'#%&$(#$##(##%&*#$##)#1J#%%#*%##)7)#1#$##E#%&*#&a>7)#%&*%$}7)&&*#I#%&*#$$)#$#%###(#$##&%#%&*#$##)#%&*#$$)&&*')####%#$#'#$##'$#%&*#$##)#%&*#$##)&&/)##$&$(#$$&%#%&/)&&*%#*&&*#$+#%&*#$$)#%%#*#$$$$#$6*#%&*')#%&*#$$)#)*%$)#%&#)#$$E#%%#)##$$'$#$#&*#%#(##%&*#%#>E#%&$(#%#)&&V:#%%#$(#&)#%2*6*&&*#->#%&*#&)6*>&O)#%&$'##-&&*.#%&*#$$)#%##$##'##$##&#$#%&*#$##)#%&%'#$$&$#&&+-#%#$###(######$$$#%&*#$$)##$&$#'#####&###&&*#$#*#%&##$%##$$$'#%&*#$##)#%.%$)#%&*#$$)#%&*#$$)#%&##(#$$)#%&*#%#)#%&*#&)#%&*#$$)#%&*#$$$'#%&($#$$#######&&*%+#%&##'##$###&$#%$##$(#$###(#%&*#$##)#%$$*')&&6#%&$(#$$#(#%&*#$$)&&*#%#)>#%&$(#$$##&##)+$$)6#)&&*#$$)#%3)#%&##(#$$)6*>#%&*#$+&&*.#%&*#$$E#%%#$(#$$#%#$#%$$%'#$##)#%&*#$##)&3E#%&*#$##)7)6F#%&*#$$$'#).*6*&&*#B)#%&*#&)6#E>>2%$E#%&*#&#'##%$$*#$###(#%&*#$##)&$$*'E#%&*#$##)#%&*#$$)&2*&3)#%&*#$$)&&/E&&*#$$)2.#%&*#$$)6*&:&&*#$$)&&*')#%&*#$$E#%%##)#$$)#%&*#$$)#%&*#$##)#6E#%%#*#$##)#%&*#$$)&&*#$##)>#%&*#$$)#%&*')7)*6>#%&*#$$)&&/)7)#%&*#$$)&&*.#%&*#&E#%&*#$$)#%&#)#$##)#%&*#$##)7E#%&$(#$##)#%&*#$$)&2*&:#%&*#$$'$&:>&1$)>#%&*#$$)6*>#%&*#&)&&*')#%%#$(#$+&&*#-#%&*#$$)##$&$(#$##&%#%&*#$##)#Y#%&*#$##)#%&*#$$)&&*#%#)*+$+#%&*#$$)7E&:&&+$+#%%#$(#$$)7E&&*%+&&*%$)&&*#$G#%&*#$$)#%&'%#$$)#%&*#$##)7E#%&$(#$$)#%&*#$$)#%&*#$##)&&+-#%&'%#$$&%#%&-$)#%1$)#%&+$$)&&+$+#%&'%%$)&&*')#%&/)#%&*#$$)#%&*%$)#%$###)#$$&%&&*#&)#%&*#$$";for(var i=1;i<94;i++){_12f[i]=_12f[i-1]+1;}_12f[i]=_12f[i-1]+31346;for(i++;i<len;i++){_12f[i]=_12f[i-1]+conv.substr(i-95,1).charCodeAt(0)-34;}$W._A.UNICODE=_12f;};;WebSquare.text=$W._A;$W.layer={};$W.layer.cache={};$W.layer.processMsg="";$W.layer.disabledList=[];$W.layer.saveLayer=function(_1,_2){["WebSquare.layer.saveLayer"];try{var _3=$W.document.getElementById(_1);if(typeof _3!="undefined"&&_3!=null){$W.layer.cache[_1+_2]=_3.innerHTML;}}catch(e){$W.exception.printStackTrace(e);}};$W.layer.loadLayer=function(_4,_5){["WebSquare.layer.loadLayer"];try{if(typeof $W.layer.cache[_4+_5]!="undefined"&&$W.layer.cache[_4+_5].wq_trim()!=""){var _6=$W.document.getElementById(_4);if(typeof _6!="undefined"&&_6!=null){_6.innerHTML=$W.layer.cache[_4+_5];return true;}return false;}return false;}catch(e){$W.exception.printStackTrace(e);}};$W.layer.clearLayer=function(){["WebSquare.layer.clearLayer"];try{$W.layer.cache=new Object();}catch(e){$W.exception.printStackTrace(e);}};$W.layer.showProcessMessage=function(_7,_8){["WebSquare.layer.showProcessMessage"];try{if(_7=="$blank"){return;}if(!_7){return;}$l("WebSquare.layer.showProcessMessage ["+_7+"]");var _9=_7.wq_trim();var _a=/^javascript\s*:\s*(.*)/i;var _b=_9.match(_a);if(_b==null||typeof _b=="undefined"){}else{_7=eval(_b[1]);}var _c=(_8&&_8.type=="pasteMsg")?$W.document.getElementById("___processbar2_paste"):$W.document.getElementById("___processbar2");var _d=(_8&&_8.type=="pasteMsg")?$W.document.getElementById("___processbar2_i_paste"):$W.document.getElementById("___processbar2_i");var _e=$W._N.getConfiguration("processMsgURL");var _f=$W._N.getConfiguration("processMsgHeight");var _10=$W._N.getConfiguration("processMsgWidth");var _11=$W._N.getConfiguration("processMsgBackground");var _12=$W._N.getConfiguration("/WebSquare/processMsgBackground/@backgroundColor");var _13=$W._N.getConfiguration("processMsgTitle")||"process Message";if(_12==""){_12="#112233";}if(_e==""){if(_8&&_8.type=="pasteMsg"){_e=$W.baseURI+"message/pasteMsg.html";}else{_e=$W.baseURI+"message/processMsg.html";}}if($W.WebSquareCache==false){_e=$W.BootLoader.getRandomPostfix(_e+"?param="+$W._A.URLEncoder(_7));}else{_e=_e+"?param="+$W._A.URLEncoder(_7);}$W.layer.processMsg=_7;if(_f==""||_10==""){_f="81";_10="295";}if(!_c){var _14=$W.document.createElement("div");_14.id=(_8&&_8.type=="pasteMsg")?"___processbar2_paste":"___processbar2";_14.className="w2modal";_14.style.backgroundColor=_12;_14.tabIndex=1;if(_11=="true"){_14.style.visibility="visible";}else{_14.style.visibility="hidden";}$W.getBody().appendChild(_14);}else{_c.tabIndex=1;_c.style.zIndex=10000;_c.style.display="block";_c.style.top="0px";_c.style.left="0px";}var _15=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;var _16=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;var _17=document.documentElement.clientHeight||document.body.clientHeight||0;var _18=document.documentElement.clientWidth||document.body.clientWidth||0;if(!_d){var _19=_15+_17/2-parseInt(_f)/2;var _1a=_16+_18/2-parseInt(_10)/2;var _1b=$W.document.createElement("div");_1b.id=(_8&&_8.type=="pasteMsg")?"___processbar2_i_paste":"___processbar2_i";_1b.style.position="absolute";_1b.style.top=parseInt(_19)+"px";_1b.style.left=parseInt(_1a)+"px";_1b.style.overflow="hidden";_1b.style.zIndex=10001;_1b.style.visibility="visible";_1b.style.height=_f+"px";_1b.style.width=_10+"px";$W.getBody().appendChild(_1b);_1b.innerHTML="<iframe frameborder='0' scrolling='no' allowtransparency='true' name='__processbarIFrame' style='position:absolute; width:"+_10+"px; height:"+_f+"px; top:0px; left:0px' src='"+_e+"' title='"+_13+"'></iframe>";}else{var _19=_15+_17/2-parseInt(_f)/2;var _1a=_16+_18/2-parseInt(_10)/2;_d.style.top=parseInt(_19)+"px";_d.style.left=parseInt(_1a)+"px";_d.style.zIndex=10001;if(frames["__processbarIFrame"].onload!=null){frames["__processbarIFrame"].onload();}else{if(frames["__processbarIFrame"].init!=null){frames["__processbarIFrame"].init();}}_d.style.display="block";}}catch(e){$W.exception.printStackTrace(e);}};$W.layer.setProcessMsgColor=function(){["WebSquare.layer.setProcessMsgColor"];try{var _1c=$W.layer.colorArr.shift();$W.layer.colorArr.push(_1c);document.getElementById("processMsgLayer").style.color=_1c;}catch(e){$W.exception.printStackTrace(e);}};$W.layer.hideProcessMessage=function(_1d){["WebSquare.layer.hideProcessMessage"];try{var _1e=(_1d&&_1d.type=="pasteMsg")?$W.document.getElementById("___processbar2_paste"):$W.document.getElementById("___processbar2");var _1f=(_1d&&_1d.type=="pasteMsg")?$W.document.getElementById("___processbar2_i_paste"):$W.document.getElementById("___processbar2_i");if(typeof _1e!="undefined"&&_1e!=null){_1e.style.zIndex=-1;_1e.style.display="none";_1e.tabIndex="-1";_1e.innerHTML="";}if(typeof _1f!="undefined"&&_1f!=null){_1f.style.zIndex=-1;_1f.style.display="none";}if(frames["__processbarIFrame"]!=undefined&&frames["__processbarIFrame"].processKey){frames["__processbarIFrame"].clearInterval(frames["__processbarIFrame"].processKey);}}catch(e){$W.exception.printStackTrace(e);}};$W.layer.submissionIDQueue=new Array();$W.layer.submissionMessageQueue=new Array();$W.layer.addSubmissionMessage=function(_20,_21){["WebSquare.layer.addSubmissionMessage"];try{try{var _22=$W._J.getSubmission(_20);if(_22.hideProcessMsg===false){$W.layer.showProcessMessage(_21);return;}}catch(e){}$W.layer.submissionIDQueue.push(_20);$W.layer.submissionMessageQueue.push(_21);if($W.layer.submissionIDQueue.length==1){$W.layer.showProcessMessage(_21);}else{if($W.layer.submissionMessageQueue[$W.layer.submissionMessageQueue.length-2]!=_21){$W.layer.showProcessMessage(_21);}}}catch(e){$W.exception.printStackTrace(e);}};$W.layer.deleteSubmissionMessage=function(_23){["WebSquare.layer.deleteSubmissionMessage"];try{try{var _24=$W._J.getSubmission(_23);if(_24.hideProcessMsg===false){return;}}catch(e){}var idx=-1;for(var i=0;i<$W.layer.submissionIDQueue.length;i++){if($W.layer.submissionIDQueue[i]==_23){idx=i;}}if(idx>=0){$W.layer.submissionIDQueue.splice(idx,1);var _27=($W.layer.submissionMessageQueue.splice(idx,1))[0];if(idx==$W.layer.submissionIDQueue.length){if(_27!=$W.layer.submissionMessageQueue[idx-1]){$W.layer.showProcessMessage($W.layer.submissionMessageQueue[idx-1]);}}}if($W.layer.submissionIDQueue.length==0){$W.layer.hideProcessMessage();}}catch(e){$W.exception.printStackTrace(e);}};$W.layer.showModal=function(_28){["WebSquare.layer.showModal"];try{if($W.layer.disabledList.length>0){$l("[WebSquare.layer.showModal]\ud604\uc7ac showModal\uc0c1\ud0dc\uc774\ubbc0\ub85c \ucc98\ub9ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");return;}$W.layer.disabledList.push($W._G.setDisabled({"componentId":"","disabled":true,"excludeIdList":_28}));$W.getBody().showModal(null,_28);}catch(e){$W.exception.printStackTrace(e);}};$W.layer.hideModal=function(){["WebSquare.layer.hideModal"];try{if($W.layer.disabledList.length>0){var _29=$W.layer.disabledList.splice($W.layer.disabledList.length-1,1)[0];$W._G.setDisabled({"componentId":"","disabled":false,"excludeIdList":_29.skipComponents});$W.getBody().hideModal();}}catch(e){WebSqre.exception.printStackTrace(e);}};$W._k={};$W._k.setCookie=function(_1,_2){["WebSquare.cookie.setCookie"];$W.document.cookie=_1+"="+escape(_2)+";path=/";};$W._k.setCookieAsync=function(_3,_4){["WebSquare.cookie.setCookieAsync"];window.setTimeout("WebSquare.document.cookie = '"+_3+"="+escape(_4)+";path=/';",1);};$W._k.getCookie=function(_5){["WebSquare.cookie.getCookie"];try{var _6=$W.document.cookie.split("; ");for(var i=0;i<_6.length;i++){var _8=_6[i].split("=");if(_5==_8[0]){if(_8.length==1){return "";}else{return unescape(_8[1]);}}}}catch(e){$W.exception.printStackTrace(e);}return null;};$W._k.delCookie=function(_9){["WebSquare.cookie.delCookie"];try{$W.document.cookie=_9+"=abc; expires=Fri, 31 Dec 1970 23:59:59 GMT;path=/";}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.cookie=$W._k;$W.domIterator=function(){};$W.domIterator.prototype.construct=function(_1){["WebSquare.domIterator.construct"];this.status=0;this.element=_1;};$W.domIterator.prototype.next=function(){["WebSquare.domIterator.next"];if(this.status==0){this.status=1;return true;}};$W.domIterator.prototype.stop=function(){["WebSquare.domIterator.stop"];this.status=2;};$W.domIterator.prototype.match=function(_2,id,_4){["WebSquare.domIterator.match "];if(this.status==2){return false;}var _5=true;if(_2&&(" "+this.element.className+" ").indexOf(" "+_2.wq_trim()+" ")<0){_5=false;}if(id&&this.element.id!=id){_5=false;}if(_4&&this.element.tagName.toUpperCase()!=_4.toUpperCase()){_5=false;}return _5;};$W.domIterator.prototype.matchSvg=function(_6,id,_8){["WebSquare.domIterator.matchSvg "];if(this.status==2){return false;}var _9=false;if(this.element.className.baseVal){_9=true;if(_6&&(" "+this.element.className.baseVal+" ").indexOf(" "+_6.wq_trim()+" ")<0){_9=false;}if(id&&this.element.id!=id){_9=false;}if(_8&&this.element.tagName.toUpperCase()!=_8.toUpperCase()){_9=false;}}return _9;};$W.domIterator.prototype.getElement=function(){["WebSquare.domIterator.getElement"];return this.element;};$W.childIterator=function(_a,_b){["WebSquare.childIterator"];this.construct(_a);this.options=$W.extend({type:"dfs",pruning:null},$W.extend({},_b));this.elementStack=[];};$W.extend($W.childIterator.prototype,$W.domIterator.prototype);$W.childIterator.prototype.next=function(){["WebSquare.childIterator.next"];if(this.status==0){this.status=1;return true;}if(this.status==2){return false;}if(!(this.options.pruning&&this.options.pruning.call(this,this.element))){for(var _c=this.element.firstChild;_c!=null;_c=_c.nextSibling){if(_c.nodeType==1){this.elementStack.push(_c);}}}if(this.elementStack.length==0){return false;}else{if(this.options.type=="dfs"){this.element=this.elementStack.pop();}else{if(this.options.type=="bfs"){this.element=this.elementStack.shift();}else{this.element=this.elementStack.shift();}}return true;}};$W.targetIterator=function(_d,_e){["WebSquare.targetIterator"];this.construct(_d);this.upperBoundElem=_e||document.body;};$W.extend($W.targetIterator.prototype,$W.domIterator.prototype);$W.targetIterator.prototype.next=function(){["WebSquare.targetIterator.next"];if(this.status==0){this.status=1;return true;}if(this.status==2){return false;}if(this.element!=this.upperBoundElem&&this.element.parentNode){this.element=this.element.parentNode;return true;}return false;};requires("engine/thread.js");$W._M={};$W._M.transitions={};$W._M.transitions.linear=function(_1){return _1;};$W._M.transitions.sinoidal=function(_2){return (-Math.cos(_2*Math.PI)/2)+0.5;};$W._M.transitions.reverse=function(_3){return 1-_3;};$W._M.transitions.flicker=function(_4){return ((-Math.cos(_4*Math.PI)/4)+0.75)+Math.random()/4;};$W._M.transitions.wobble=function(_5){return (-Math.cos(_5*Math.PI*(9*_5))/2)+0.5;};$W._M.transitions.pulse=function(_6){return (Math.floor(_6*10)%2==0?(_6*10-Math.floor(_6*10)):1-(_6*10-Math.floor(_6*10)));};$W._M.transitions.none=function(_7){return 0;};$W._M.transitions.full=function(_8){return 1;};$W._M.transitions.exponential=function(_9){return Math.exp(_9)/Math.E;};$W._M.transitions.square2=function(_a){return _a*_a;};$W._M.transitions.square3=function(_b){return _b*_b*_b;};$W._M.transitions.square4=function(_c){return _c*_c*_c*_c;};$W._M.transitions.square5=function(_d){return _d*_d*_d*_d*_d;};$W._M.effectManager=function(){this.effects=[];this.timeState="stopped";var _e=this;this._mouseMoveEvent=function(){_e.onDrag.apply(_e,arguments);};};$W._M.effectManager.prototype={add:function(_f,_10){_f.init(_10);this.effects.push(_f);if(this.timeState=="stopped"){this.timeState="running";this.startTimeout();}},remove:function(_11){var _12=[];for(var i=0;i<this.effects.length;i++){if(this.effects[i]!=_11){_12.push(this.effects[i]);}}this.effects=_12;if(this.effects.length==0){this.cancelTimeout();}},startTimeout:function(){var _14=this;this.interval=setInterval(function(){var _15=new Date().getTime();_14.notifyLoop(_15);},10);},cancelTimeout:function(){clearInterval(this.interval);this.timeState="stopped";},notifyLoop:function(){var _16=[];for(var i=0;i<this.effects.length;i++){if(this.effects[i].state!="finished"){_16.push(this.effects[i]);}}this.effects=_16;var _18=new Date().getTime();for(var i=0;i<this.effects.length;i++){if(this.effects[i].state!="finished"){this.effects[i].loop(_18);}}if(this.effects.length==0){this.cancelTimeout();}}};$W._M.effectManager=new $W._M.effectManager();$W._M.defaultOptions={transition:$W._M.transitions.sinoidal,duration:1,fps:60,from:0,to:1,delay:0};$W._M.base={};$W._M.base.prototype={position:null,init:function(_19){this.options=$W.extend($W.extend({},$W._M.defaultOptions),_19||{});this.currentFrame=0;this.state="stoped";this.startOn=this.options.delay*1000;this.finishOn=this.startOn+(this.options.duration*1000);var _1a=new Date().getTime();this.startOn+=_1a;this.finishOn+=_1a;},loop:function(_1b){if(_1b>=this.startOn){if(_1b>=this.finishOn){this.render(1);if(this.finish){this.finish();}this.state="finished";return;}var pos=(_1b-this.startOn)/(this.finishOn-this.startOn);var _1d=Math.round(pos*this.options.fps*this.options.duration);if(_1d>this.currentFrame){this.render(pos);this.currentFrame=_1d;}}},render:function(pos){if(this.state=="stoped"){this.state="running";if(this.setup){this.setup();}}if(this.state=="running"){if(this.options.transition){pos=this.options.transition(pos);}pos=pos*(this.options.to-this.options.from)+this.options.from;if(this.update){this.update(pos);}}},setup:function(){},update:function(pos){},finish:function(){try{if(this.options.finish){this.options.finish.call();}}catch(e){$W.exception.printStackTrace(e);}}};$W._M.move=function(_20,_21){["WebSquare.effect.move"];try{this.element=_20;var _22=$W.extend({x:0,y:0,mode:"delta"},_21||{});$W._M.effectManager.add(this,_22);}catch(e){$e(e);}};$W.extend($W.extend($W._M.move.prototype,$W._M.base.prototype),{setup:function(){this.originalLeft=parseFloat($W._H.getStyle(this.element,"left")||0);this.originalTop=parseFloat($W._H.getStyle(this.element,"top")||0);if(this.options.mode=="absolute"){this.options.x=this.options.x-this.originalLeft;this.options.y=this.options.y-this.originalTop;}},update:function(_23){$W._H.setStyle(this.element,{left:this.options.x*_23+this.originalLeft+"px",top:this.options.y*_23+this.originalTop+"px"});}});$W._M.resize=function(_24,_25){["WebSquare.effect.resize"];try{this.element=_24;var _26=$W.extend({width:null,height:null,fromLeft:true,fromTop:true,mode:"delta"},_25||{});$W._M.effectManager.add(this,_26);}catch(e){$e(e);}};$W.extend($W.extend($W._M.resize.prototype,$W._M.base.prototype),{setup:function(){this.originalLeft=parseFloat($W._H.getStyle(this.element,"left")||0);this.originalTop=parseFloat($W._H.getStyle(this.element,"top")||0);this.originalWidth=parseFloat($W._H.getSize(this.element,"width")||0);this.originalHeight=parseFloat($W._H.getSize(this.element,"height")||0);if(this.options.mode=="absolute"){if(this.options.width!=null){this.options.width=(this.options.width-this.originalWidth);}if(this.options.height!=null){this.options.height=(this.options.height-this.originalHeight);}}},update:function(_27){if(this.options.width!=null){this.element.style.width=(this.options.width*_27+this.originalWidth)+"px";if(!this.options.fromLeft){$W._H.setStyle(this.element,{left:(-1*this.options.width*_27+this.originalLeft)+"px"});}}if(this.options.height!=null){this.element.style.height=(this.options.height*_27+this.originalHeight)+"px";if(!this.options.fromTop){$W._H.setStyle(this.element,{top:(-1*this.options.height*_27+this.originalTop)+"px"});}}}});$W._M.scale=function(_28,_29){["WebSquare.effect.scale"];try{this.element=_28;var _2a=$W.extend({scaleX:true,scaleY:true,scaleFromCenter:false,scaleFromEnd:false,scaleFrom:100,scaleTo:_29},arguments[2]||{});$W._M.effectManager.add(this,_2a);}catch(e){$e(e);}};$W.extend($W.extend($W._M.scale.prototype,$W._M.base.prototype),{setup:function(){this.elementPositioning=$W._H.getStyle(this.element,"position");this.originalTop=parseInt(this.element.style.top,10);this.originalLeft=parseInt(this.element.style.left,10);this.factor=(this.options.scaleTo-this.options.scaleFrom)/100;this.dims=null;this.dims=[parseInt(this.element.style.height,10),parseInt(this.element.style.width,10)];},update:function(_2b){var _2c=(this.options.scaleFrom/100)+(this.factor*_2b);this.setDimensions(this.dims[0]*_2c,this.dims[1]*_2c);},setDimensions:function(_2d,_2e){var d={};if(this.options.scaleX){d.width=_2e+"px";}if(this.options.scaleY){d.height=_2d+"px";}if(this.options.scaleFromCenter){var _30=(_2d-this.dims[0])/2;var _31=(_2e-this.dims[1])/2;if(this.options.scaleY){d.top=this.originalTop-_30+"px";}if(this.options.scaleX){d.left=this.originalLeft-_31+"px";}}if(this.options.scaleFromEnd){var _30=(_2d-this.dims[0]);var _31=(_2e-this.dims[1]);if(this.options.scaleY){d.top=parseInt(this.originalTop-_30,10)+"px";}if(this.options.scaleX){d.left=parseInt(this.originalLeft-_31,10)+"px";}}$W._H.setStyle(this.element,d);}});$W._M.pathAnimation=function(_32){["WebSquare.effect.pathAnimation"];try{this.element=_32;if(arguments.length<2){return;}this.fromOptions=$W.extend({pointList:[]},arguments[1]||{});this.toOptions=$W.extend({pointList:[]},arguments[2]||{});var _33=$W.extend({id:"",graphicUtil:null},arguments[3]||{});$W._M.effectManager.add(this,_33);}catch(e){$e(e);}};$W.extend($W.extend($W._M.pathAnimation.prototype,$W._M.base.prototype),{setup:function(){var _34=this.fromOptions.pointList.length;var _35=this.toOptions.pointList.length;this.pointLength=Math.min(_34,_35);this.updatePointList=new Array(this.pointLength);for(var i=0;i<this.pointLength;i++){this.updatePointList[i]=new $W.point2d(0,0);}},update:function(pos){for(var i=0;i<this.pointLength;i++){this.updatePointList[i].x=this.fromOptions.pointList[i].x+pos*(this.toOptions.pointList[i].x-this.fromOptions.pointList[i].x);this.updatePointList[i].y=this.fromOptions.pointList[i].y+pos*(this.toOptions.pointList[i].y-this.fromOptions.pointList[i].y);}this.options.graphicUtil.drawToolkit.modifyPath(this.options.id,{pointList:this.updatePointList,closeFlag:false});},finish:function(){}});$W._M.rectAnimation=function(_39){["WebSquare.effect.rectAnimation"];try{this.element=_39;if(arguments.length<2){return;}this.fromOptions=$W.extend({},arguments[1]||{});this.toOptions=$W.extend({},arguments[2]||{});var _3a=$W.extend({id:"",graphicUtil:null},arguments[3]||{});$W._M.effectManager.add(this,_3a);}catch(e){$e(e);}};$W.extend($W.extend($W._M.rectAnimation.prototype,$W._M.base.prototype),{setup:function(){if(this.fromOptions.x!=null&&this.toOptions.x!=null){this.modifyX=true;}if(this.fromOptions.y!=null&&this.toOptions.y!=null){this.modifyY=true;}if(this.fromOptions.width!=null&&this.toOptions.width!=null){this.modifyWidth=true;}if(this.fromOptions.height!=null&&this.toOptions.height!=null){this.modifyHeight=true;}},update:function(pos){var x=this.fromOptions.x+pos*(this.toOptions.x-this.fromOptions.x);var y=this.fromOptions.y+pos*(this.toOptions.y-this.fromOptions.y);var _3e=this.fromOptions.width+pos*(this.toOptions.width-this.fromOptions.width);var _3f=this.fromOptions.height+pos*(this.toOptions.height-this.fromOptions.height);if(this.options.svg3D){var _40=(this.options.inverse?_3f:_3e)/3;var _41=[{x:x,y:y},{x:x+_40,y:y-_40},{x:x+_40+_3e,y:y-_40},{x:x+_3e,y:y}];this.options.graphicUtil.drawToolkit.modifyPath(this.options.id+"_upper",{pointList:_41,closeFlag:true});var _42=[{x:x+_3e,y:y},{x:x+_3e+_40,y:y-_40},{x:x+_3e+_40,y:y+_3f-_40},{x:x+_3e,y:y+_3f}];this.options.graphicUtil.drawToolkit.modifyPath(this.options.id+"_right",{pointList:_42,closeFlag:true});}this.options.graphicUtil.drawToolkit.modifyRectangle(this.options.id,{x:this.modifyX?x:null,y:this.modifyY?y:null,width:this.modifyWidth?_3e:null,height:this.modifyHeight?_3f:null});},finish:function(){}});$W._M.arcAnimation=function(_43){["WebSquare.effect.arcAnimation"];try{this.element=_43;if(arguments.length<2){return;}this.fromOptions=$W.extend({},arguments[1]||{});this.toOptions=$W.extend({},arguments[2]||{});var _44=$W.extend({id:"",graphicUtil:null},arguments[3]||{});$W._M.effectManager.add(this,_44);}catch(e){$e(e);}};$W.extend($W.extend($W._M.arcAnimation.prototype,$W._M.base.prototype),{setup:function(){if(this.fromOptions.centerX!=null&&this.toOptions.centerX!=null&&this.fromOptions.centerY!=null&&this.toOptions.centerY!=null&&this.fromOptions.radius!=null&&this.toOptions.radius!=null&&this.fromOptions.startAngle!=null&&this.fromOptions.endAngle!=null&&this.toOptions.startAngle!=null&&this.toOptions.endAngle!=null){this.modify=true;}this.movingVector=new $W.point2d(0,0);this.center=new $W.point2d(0,0);},update:function(pos){if(this.modify){this.options.graphicUtil.drawToolkit.modifyArc(this.options.id,{centerX:this.fromOptions.centerX+pos*(this.toOptions.centerX-this.fromOptions.centerX),centerY:this.fromOptions.centerY+pos*(this.toOptions.centerY-this.fromOptions.centerY),radius:this.fromOptions.radius+pos*(this.toOptions.radius-this.fromOptions.radius),startAngle:this.fromOptions.startAngle+pos*(this.toOptions.startAngle-this.fromOptions.startAngle),endAngle:this.fromOptions.endAngle+pos*(this.toOptions.endAngle-this.fromOptions.endAngle)});}},finish:function(){}});$W._M.blindDown=function(_46){["WebSquare.effect.blindDown"];try{this.element=_46;$W._H.setStyle(this.element,{display:"none"});var _47=$W.extend({},arguments[1]||{});$W._M.effectManager.add(this,_47);}catch(e){$e(e);}};$W.extend($W.extend($W._M.blindDown.prototype,$W._M.base.prototype),{setup:function(){this.originalHeight=parseInt(this.element.style.height,10);$W._H.setStyle(this.element,{height:0,overflow:"hidden",display:"block"});},update:function(pos){this.element.style.height=this.originalHeight*pos;},finish:function(){}});$W._M.blindUp=function(_49){["WebSquare.effect.blindUp"];try{this.element=_49;$W._H.setStyle(this.element,{display:"none"});var _4a=$W.extend({},arguments[1]||{});$W._M.effectManager.add(this,_4a);}catch(e){$e(e);}};$W.extend($W.extend($W._M.blindUp.prototype,$W._M.base.prototype),{setup:function(){this.originalHeight=parseInt(this.element.style.height,10);$W._H.setStyle(this.element,{overflow:"hidden",display:"block"});},update:function(pos){$W._H.setStyle(this.element,{height:this.originalHeight*(1-pos)});},finish:function(){}});$W._M.slide=function(_4c){["WebSquare.effect.slide"];try{this.element=_4c;$W._H.setStyle(this.element,{display:"none"});var _4d=$W.extend({direction:"down"},arguments[1]||{});$W._M.effectManager.add(this,_4d);}catch(e){$e(e);}};$W.extend($W.extend($W._M.slide.prototype,$W._M.base.prototype),{setup:function(){this.originalLeft=parseInt(this.element.style.left,10);this.originalTop=parseInt(this.element.style.top,10);this.originalWidth=parseInt(this.element.style.width,10);this.originalHeight=parseInt(this.element.style.height,10);$W._H.setStyle(this.element,{display:"block"});},update:function(pos){switch(this.options.direction){case "down":this.element.style.top=this.originalTop+this.originalHeight*(-1+pos)+"px";break;case "up":this.element.style.top=this.originalTop+this.originalHeight*(1-pos)+"px";break;case "left":this.element.style.left=this.originalLeft+this.originalWidth*(1-pos)+"px";break;case "right":this.element.style.left=this.originalLeft+this.originalWidth*(-1+pos)+"px";break;}},finish:function(){}});$W._M.opacity=function(_4f){["WebSquare.effect.opacity"];try{this.element=_4f;var _50=$W.extend({opacity:0},arguments[1]||{});$W._M.effectManager.add(this,_50);}catch(e){$e(e);}};$W.extend($W.extend($W._M.opacity.prototype,$W._M.base.prototype),{setup:function(){},update:function(pos){var _52=1*(1-pos)+this.options.opacity*pos;$W._H.setOpacity(this.element,_52);},finish:function(){}});$W._M.newEffect=function(_53){["WebSquare.effect.newEffect"];try{this.element=_53;var _54=$W.extend({},arguments[1]||{});$W._M.effectManager.add(this,_54);}catch(e){$e(e);}};$W.extend($W.extend($W._M.newEffect.prototype,$W._M.base.prototype),{setup:function(){},update:function(pos){},finish:function(){}});$W._M.animate=function(_56,_57,_58,_59){["WebSquare.effect.animate"];try{this.options=$W.extend({mode:"absolute",transition:null},_59||{});var _5a=function(pos){for(var _5c in _57){var _5d=_57[_5c];var _5e=_58[_5c];var _5f="";switch(_5c){case "left":case "top":case "width":case "height":_5d=parseInt(_5d,10);_5e=parseInt(_5e,10);_5f=_5d+(_5e-_5d)*pos;_56.style[_5c]=_5f+"px";break;case "scrollLeft":case "scrollTop":_5d=parseInt(_5d,10);_5e=parseInt(_5e,10);_5f=_5d+(_5e-_5d)*pos;_56[_5c]=_5f+"px";break;case "opacity":_5d=parseInt(_5d,10);_5e=parseInt(_5e,10);_5f=_5d+(_5e-_5d)*pos;$W._H.setOpacity(_56,_5f);break;case "color":break;}}};var _60=new $W.thread(_56.id,_5a);_60.run();}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.effect=$W._M;$W.threadManager=function(){this.threadHash={};};$W.threadManager.prototype.add=function(_1){if(this.threadHash[_1.id]){this.threadHash[_1.id].abort();}this.threadHash[_1.id]=_1;};$W.threadManager.prototype.remove=function(_2){this.threadHash[_2.id]=null;};$W.threadManager=new $W.threadManager();$W.thread=function(id,_4,_5){this.id=id;this.callback=_4;this.options=$W.extend({delay:0,duration:1000,fps:60,mode:"",context:this},_5||{});this.timeState="abort";this.interval=null;};$W.thread.prototype.run=function(){$W.threadManager.add(this);var _6=new Date().getTime();this.startTime=this.options.delay+_6;this.finishTime=this.startTime+this.options.duration;this.currentFrame=0;var _7=this;this.interval=setInterval(function(){var _8=new Date().getTime();_7.runTime(_8);},10);this.timeState="run";};$W.thread.prototype.abort=function(){clearInterval(this.interval);this.interval=null;this.timeState="abort";$W.threadManager.remove(this);};$W.thread.prototype.sleep=function(){};$W.thread.prototype.runTime=function(_9){if(_9>=this.startTime){if(_9>=this.finishTime){this.update(1);this.abort();return;}var _a=(_9-this.startTime)/(this.finishTime-this.startTime);var _b=Math.round(_a*this.options.fps*this.options.duration/1000);if(_b>this.currentFrame){this.update(_a);this.currentFrame=_b;}}};$W.thread.prototype.update=function(_c){this.callback.call(this.options.context,_c);};imports("engine/domIterator.js");$W._c={};$W._c.clear=function(){$l(" WebSquare memory leak initialize start ");for(var k in window._funs){window._funs[k]=null;}for(var i in window._objs){if(typeof window._objs[i]._closures!="undefined"){for(var j in window._objs[i]._closures){try{window._objs[i].detachEvent(window._objs[i]._closures[j].name,window._objs[i]._closures[j]);window._objs[i]._closures[j]=null;window._funs[j]=null;}catch(e){}}window._objs[i]._closures=null;window._objs[i]=null;}}window._objs=null;$l(" WebSquare memory leak initialize end ");};$W._c.cleanObj=function(_4){try{for(var i in _4){$W._c.cleanObj(_4[i]);}}catch(e){}delete _4;};$W._c.clearElement=function(_6){var _7=null;var i=0;var _9=0;var _a="";_7=_6.attributes;if(_7){_9=_7.length;for(i=0;i<_9;i++){_a=_7[i].name;if(typeof _6[_a]=="function"){_6[_a]=null;}}}_7=_6.childNodes;if(_7){_9=_7.length;for(i=0;i<_9;i++){this.clearElement(_6.childNodes[i]);}}};$W._c.applyParentObject=function(_b,_c){["WebSquare.event.applyParentObject"];try{return _c.apply(_b,arguments);}catch(e){$W.exception.printStackTrace(e);}};$W._c.addListener=function(_d,_e,_f,_10){["WebSquare.event.addListener"];$W.addListenerCnt++;try{_10=_10||false;if(_d.attachEvent){try{if(_d!=window){if(_e=="onload"){$W.onload=_f;}else{_d.attachEvent(_e,_f.closure(_d,_e));}}else{_d.attachEvent(_e,_f);}}catch(e){$W.exception.printStackTrace(e);}}else{if(_d.addEventListener){try{if((typeof _e!="undefined")&&(_e!=null)&&(_e!="")){if(_e.startsWith("on")){_d.addEventListener(_e.slice(2),_f,_10);}else{_d.addEventListener(_e,_f,_10);}}}catch(e){$W.exception.printStackTrace(e);}}}}catch(e){$l("ERROR ["+_d.id+"] ["+_e+"] at WebSquare.event.addListener");$W.exception.printStackTrace(e);}};$W._c.removeListener=function(_11,_12,_13,_14){["WebSquare.event.removeListener"];try{_14=_14||false;if(_11.detachEvent){try{if(_11!=window){_11.detachEvent(_12,_13.closure(_11,_12));}else{_11.detachEvent(_12,_13);}}catch(e){$W.exception.printStackTrace(e);}}else{if(_11.removeEventListener){try{_11.removeEventListener(_12.slice(2),_13,_14);}catch(e){$W.exception.printStackTrace(e);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._c.addEvents=function(o,_16,_17){["WebSquare.event.addActions"];var _18=[];try{if(typeof _16!="undefined"&&_16!=null){if(typeof _17!="undefined"){var _19={};for(var i=0;i<_17.length;i++){_19[_17[i]]="";}var _1b=[];for(var i=0;i<_16.length;i++){if(typeof _19[_16[i].name]=="undefined"){_18.push(_16[i]);}else{_1b.push(_16[i]);}}_16=_1b;}var _1c=undefined;try{_1c=$W._N.getComponentById(o.id);}catch(e){$W.exception.printStackTrace(e);}if(typeof _1c!="undefined"){for(var i=0;i<_16.length;i++){switch(_16[i].action){case "script":if(typeof _16[i].param.handler=="string"){eval("var obfuscator_eventHandler = "+_16[i].param.handler);_16[i].param.handler=obfuscator_eventHandler;}if(typeof _16[i].param.handler=="function"){var obfuscator_obj=_1c;var obfuscator_xmlEvents=_16;eval("var obfuscator_event"+i+" = obfuscator_xmlEvents[i].name;");eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent.call(obfuscator_obj, obfuscator_obj, obfuscator_event"+i+" , e );};");$W._c.addListener(o,_16[i].name,eval("applyEvent"+i),false);}break;case "send":case "dispatch":case "refresh":case "setValue":case "prompt":case "reset":case "rebuild":case "recalculate":case "revalidate":case "setfocus":case "load":case "toggle":case "insert":case "copy":case "delete":case "setindex":case "upload":default:var obfuscator_obj=_1c;var obfuscator_event=_16[i].name;eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent.call(obfuscator_obj, obfuscator_obj, obfuscator_event , e);};");$W._c.addListener(o,_16[i].name,eval("applyEvent"+i),false);break;}}if(typeof _1c.userEventList=="object"&&typeof _1c.userEventList.length=="number"){_1c.userEventList=_1c.userEventList.concat(_16);}else{_1c.userEventList=_16;}}else{for(var i=0;i<_16.length;i++){switch(_16[i].action){case "script":if(typeof _16[i].param.handler=="string"){eval("var obfuscator_eventHandler = "+_16[i].param.handler);_16[i].param.handler=obfuscator_eventHandler;}if(typeof _16[i].param.handler=="function"){$W._c.addListener(o,_16[i].name,_16[i].param.handler);}break;case "send":$W._c.addListener(o,_16[i].name,function(){$W._J.executeSubmission(_16[i].param.submission);});break;case "refresh":var _1d=_16[i].param.model;var _1e=$W._J.getModelByID(_1d);if(_1e!=null){$W._c.addListener(o,_16[i].name,function(){_1e.refresh();});}break;case "setValue":if(typeof _16[i].param.xpath!="undefined"){var _1f=function(){var _20="";if(typeof _16[i].param.value!="undefined"){_20=$W._J.getInstanceValue(_16[i].param.value);}else{if(typeof _16[i].param._text!="undefined"){_20=_text;}}var _21=new $W._e.WebSquareSetValueAction(null,null,_16[i].param.xpath,_20);_21.activate();};$W._c.addListener(o,_16[i].name,_1f);}break;case "upload":var _1f=function(){var _22=new $W._e.WebSquareUploadAction(_16[i].param);_22.activate();};$W._c.addListener(o,_16[i].name,_1f);break;case "dispatch":case "prompt":case "reset":case "rebuild":case "recalculate":case "revalidate":case "setfocus":case "load":case "toggle":case "insert":case "copy":case "delete":case "setindex":default:$W.logger.printLog("[WebSquare.event.addEvents]"+$W._m.getMessage("E_event_AddEventError",_16[i].action));break;}}}}}catch(e){$W.exception.printStackTrace(e);}return _18;};$W._c.addUserEvents=function(o,obfuscator_Actions,_24){["WebSquare.event.addUserEvents"];var _25=[];try{if(obfuscator_Actions){if(typeof _24!="undefined"){var _26={};for(var i=0;i<_24.length;i++){_26[_24[i]]="";}var _28=[];for(var i=0;i<obfuscator_Actions.length;i++){if(typeof _26[obfuscator_Actions[i].name]=="undefined"){_25.push(obfuscator_Actions[i]);}else{_28.push(obfuscator_Actions[i]);}}obfuscator_Actions=_28;}for(var i=0;i<obfuscator_Actions.length;i++){if(obfuscator_Actions[i].action=="script"){if(typeof obfuscator_Actions[i].param.handler=="string"){try{eval("if(typeof "+obfuscator_Actions[i].param.handler+" != \"undefined\"){obfuscator_Actions[i].param.handler = "+obfuscator_Actions[i].param.handler+"}");}catch(e){}}}}if(typeof o.userEventList=="object"&&typeof o.userEventList.length=="number"){o.userEventList=o.userEventList.concat(obfuscator_Actions);}else{o.userEventList=obfuscator_Actions;}}}catch(e){$W.exception.printStackTrace(e);}return _25;};$W._c.fireEvent=function(o,ev){["WebSquare.event.fireEvent"];try{var _2b=o.userEventList;if(o.options&&o.options.parentEvent&&(o!=o.options.parentEvent)){o.options.parentEvent.childFiredEvent.apply(o.options.parentEvent,arguments);return;}if(_2b){var _2c=null;var ret=undefined;for(var i=0;i<_2b.length;i++){if(typeof _2b[i].name!="undefined"&&_2b[i].name==ev.toLowerCase()){switch(_2b[i].action){case "script":if(typeof _2b[i].param.handler=="string"){var _2f=_2b[i].param.handler;try{if(o.scope_obj){eval("if(typeof "+_2b[i].param.handler+" != \"undefined\"){WebSquare.scope_obj="+o.scope_obj.id+";\nwith(WebSquare.util.getComponentById('"+o.scope_obj.id+"').scope) {\n var udc_obj = "+o.scope_obj.id+"; \n var obfuscator_eventHandler = "+_2b[i].param.handler+"\n}\nWebSquare.scope_obj=null;\n}");}else{eval("if(typeof "+_2b[i].param.handler+" != \"undefined\"){var obfuscator_eventHandler = "+_2b[i].param.handler+"}");}if(typeof obfuscator_eventHandler=="function"){_2b[i].param.handler=obfuscator_eventHandler;}}catch(e){_2b[i].param.handler=_2f;$W.logger.printLog("Event error ["+o.id+",ev:"+_2b[i].name+"] : "+e.message);break;}}if(typeof _2b[i].param.handler=="function"){if(_2c==null){_2c=[];if(arguments.length>2){for(var j=2;j<arguments.length;j++){_2c.push(arguments[j]);}}}if(!_2b[i].disabled){ret=_2b[i].param.handler.apply(o,_2c);}}else{$W.logger.printLog("Event error ["+o.id+",ev:"+_2b[i].name+"] : "+_2b[i].param.handler+" is not a function");}break;case "send":$W._J.executeSubmission(_2b[i].param.submission);break;case "dispatch":var _31=parseInt(_2b[i].param.delay);if(!isNaN(_31)){setTimeout("WebSquare.event.fireEvent( WebSquare.core.getComponentById( '"+_2b[i].param.target+"'), '"+_2b[i].param.name+"');",_31);}else{$W._c.fireEvent($W._N.getComponentById(_2b[i].param.target),_2b[i].param.name);}break;case "refresh":var _32=_2b[i].param.model;var _33=$W._J.getModelByID(_32);if(_33!=null){_33.refresh();}break;case "setValue":if(typeof _2b[i].param.xpath!="undefined"){var _34="";if(typeof _2b[i].param.value!="undefined"){_34=$W._J.getInstanceValue(_2b[i].param.value);}else{if(typeof _2b[i].param._text!="undefined"){_34=_text;}}var _35=new $W._e.WebSquareSetValueAction(null,null,_2b[i].param.xpath,_34);_35.activate();}break;case "prompt":break;case "reset":break;case "rebuild":break;case "recalculate":break;case "revalidate":break;case "setfocus":break;case "load":break;case "toggle":break;case "insert":break;case "copy":break;case "delete":break;case "setindex":break;case "upload":var _36=new $W._e.WebSquareUploadAction(_2b[i].param);_36.activate();break;case "popup":var _37=new $W._e.WebSquarePopupAction(_2b[i].param);_37.activate();break;default:break;}}}if(typeof ret!="undefined"){return ret;}}}catch(e){$W.exception.printStackTrace(e,null,o);}};$W._c.fireSystemEvent=function(o,_39,_3a){["WebSquare.event.fireSystemEvent"];try{if(!$W._G.isIE()&&"createEvent" in document){if(_39.slice(0,2)=="on"){_39=_39.substring(2,_39.length);}var ev=document.createEvent("HTMLEvents");ev.initEvent(_39,true,true);for(var key in _3a){ev[key]=_3a[key];}o.render.dispatchEvent(ev);}else{if("createEventObject" in document){if(_39.slice(0,2)!="on"){_39="on"+_39;}var ev=document.createEventObject();ev.eventType=_39;ev.cancelBubble=true;ev.returnValue=true;for(var key in _3a){ev[key]=_3a[key];}o.render.fireEvent(_39,ev);}}}catch(e){$W.exception.printStackTrace(e);}};$W._c.getTarget=function(e){["WebSquare.event.getTarget"];try{if(e==null){return null;}if(e.target){return e.target;}else{if(e.srcElement){return e.srcElement;}}return null;}catch(e){$W.exception.printStackTrace(e);}};$W._c.getRelatedTarget=function(e){["WebSquare.event.getRelatedTarget"];try{if(e==null){return null;}else{if(e.relatedTarget){return e.relatedTarget;}else{if(window.event!=undefined&&event.fromElement){return e.fromElement===$W._c.getTarget(e)?e.toElement:e.fromElement;}}}return null;}catch(e){$W.exception.printStackTrace(e);}};$W._c.getClientX=function(e){["WebSquare.event.getClientX"];try{if($W._N.browserCheck.ie){return event.clientX;}else{return e.clientX;}}catch(e){$W.exception.printStackTrace(e);}};$W._c.getClientY=function(e){["WebSquare.event.getClientY"];try{if($W._N.browserCheck.ie){return event.clientY;}else{return e.clientY;}}catch(e){$W.exception.printStackTrace(e);}};$W._c.getOffsetX=function(ev){["WebSquare.event.getOffsetX"];try{if($W._N.browserCheck.ie){return event.offsetX;}else{var e=ev.target;var _43=$W._H.getAbsoluteLeft(e);return ev.pageX-_43;}}catch(e){$W.exception.printStackTrace(e);}};$W._c.getOffsetY=function(ev){["WebSquare.event.getOffsetY"];try{if($W._N.browserCheck.ie){return event.offsetY;}else{var e=ev.target;var _46=$W._H.getAbsoluteTop(e);return ev.pageY-_46;}}catch(e){$W.exception.printStackTrace(e);}};$W._c.getScreenX=function(e){["WebSquare.event.getScreenX"];try{if($W._N.browserCheck.ie){return event.screenX;}else{return e.screenX;}}catch(e){$W.exception.printStackTrace(e);}};$W._c.getScreenY=function(e){["WebSquare.event.getScreenY"];try{if($W._N.browserCheck.ie){return event.screenX;}else{return e.screenX;}}catch(e){$W.exception.printStackTrace(e);}};$W._c.getMouseX=function(e){["WebSquare.event.getClientX"];try{e=e||event;var _4a=e.clientX;_4a+=$W.document.documentElement.scrollLeft||$W.document.body.scrollLeft;if($W._G.isMobile()){_4a=e.touches.item(0).pageX;}return _4a;}catch(e){$W.exception.printStackTrace(e);}};$W._c.getMouseY=function(e){["WebSquare.event.getClientX"];try{e=e||event;var _4c=e.clientY;_4c+=$W.document.documentElement.scrollTop||$W.document.body.scrollTop;if($W._G.isMobile()){_4c=e.touches.item(0).pageY;}return _4c;}catch(e){$W.exception.printStackTrace(e);}};$W._c.stopPropagation=function(e){["WebSquare.event.stopPropagation"];try{if(e.stopPropagation){e.stopPropagation();}else{e.cancelBubble=true;}}catch(e){$W.exception.printStackTrace(e);}};$W._c.preventDefault=function(e){["WebSquare.event.preventDefault"];try{if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;}}catch(e){$W.exception.printStackTrace(e);}};$W._c.stopEvent=function(e){["WebSquare.event.stopEvent"];try{$W._c.stopPropagation(e);$W._c.preventDefault(e);}catch(e){$W.exception.printStackTrace(e);}};$W._c.bindAsEventListener=function(_50,_51){return function(e){_51.apply(_50,[e||window.event].concat(Array.prototype.slice.call(arguments,2)));};};$W._z=function(){this.cache=null;};$W._z.prototype.addListener=function(_53,_54,_55,_56){_56=_56||null;if(_53.addEventListener){_53.addEventListener(_54.slice(2),_55,_56);}else{if(_53.attachEvent){_53.attachEvent(_54,_55);}}this.setCache(_53,_54,_55,_56);};$W._z.prototype.removeListener=function(_57,_58,_59,_5a){_5a=_5a||null;if(_57.removeEventListener){_57.removeEventListener(_58.slice(2),_59,_5a);}else{if(_57.detachEvent){_57.detachEvent(_58,_59);}}};$W._z.prototype.setCache=function(_5b,_5c,_5d,_5e){if(!this.cache){this.cache=[];}this.cache.push([_5b,_5c,_5d,_5e]);};$W._z.prototype.clearCache=function(){if(!this.cache){return;}for(var i=0;i<this.cache.length;i++){this.removeListener.apply(this,this.cache[i]);this.cache[i][0]=null;}this.cache=null;};$W._z.prototype.bind=function(_60,_61){var _62=[];for(var i=2;i<arguments.length;i++){_62.push(arguments[i]);}return function(){_61.apply(_60,_62);};};$W._z.prototype.bindAsEventListener=function(_64,_65){var _66=[];for(var i=2;i<arguments.length;i++){_66.push(arguments[i]);}return function(e){_65.apply(_64,[e||window.event].concat(_66));};};$W._z.prototype.clearElement=function(_69){var _6a=null;var i=0;var _6c=0;var _6d="";_6a=_69.attributes;if(_6a){_6c=_6a.length;for(i=0;i<_6c;i++){_6d=_6a[i].name;if(typeof _69[_6d]=="function"){_69[_6d]=null;}}}};$W._z.prototype.getTarget=function(e,_6f){_6f=_6f||"main";var _70=$W._c.getTarget(e);while(_70){var _71=_70.getAttribute("catch");if(_71&&_71.indexOf(_6f)>-1){break;}_70=_70.parentNode;}return _70;};$W._z.prototype.getTargetIterator=function(e,_73){var _74=$W._c.getTarget(e);return new $W.targetIterator(_74,_73);};$W._z.prototype.getChildIterator=function(_75){return new $W.childIterator(_75);};$W._z.prototype.addEvents=function(o,_77,_78){var _79=[];try{if(typeof _77!="undefined"&&_77!=null){if(typeof _78!="undefined"){var _7a={};for(var i=0;i<_78.length;i++){_7a[_78[i]]="";}var _7c=[];for(var i=0;i<_77.length;i++){if(typeof _7a[_77[i].name]=="undefined"){_79.push(_77[i]);}else{_7c.push(_77[i]);}}_77=_7c;}var _7d=undefined;try{_7d=$W._N.getComponentById(o.id);}catch(e){}if(typeof _7d!="undefined"){for(var i=0;i<_77.length;i++){switch(_77[i].action){case "script":if(typeof _77[i].param.handler=="string"){eval("var obfuscator_eventHandler = "+_77[i].param.handler);_77[i].param.handler=obfuscator_eventHandler;}if(typeof _77[i].param.handler=="function"){var obfuscator_obj=_7d;var obfuscator_xmlEvents=_77;eval("var obfuscator_event"+i+" = obfuscator_xmlEvents[i].name;");eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent.call(obfuscator_obj, obfuscator_obj, obfuscator_event"+i+" , e );};");this.addListener(o,_77[i].name,eval("applyEvent"+i),false);}break;case "send":case "dispatch":case "refresh":case "setValue":case "prompt":case "reset":case "rebuild":case "recalculate":case "revalidate":case "setfocus":case "load":case "toggle":case "insert":case "copy":case "delete":case "setindex":case "upload":default:var obfuscator_obj=_7d;var obfuscator_event=_77[i].name;eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent.call(obfuscator_obj, obfuscator_obj, obfuscator_event , e);};");this.addListener(o,_77[i].name,eval("applyEvent"+i),false);break;}}if(typeof _7d.userEventList=="object"&&typeof _7d.userEventList.length=="number"){_7d.userEventList.concat(_77);}else{_7d.userEventList=_77;}}else{for(var i=0;i<_77.length;i++){switch(_77[i].action){case "script":if(typeof _77[i].param.handler=="string"){eval("var obfuscator_eventHandler = "+_77[i].param.handler);_77[i].param.handler=obfuscator_eventHandler;}if(typeof _77[i].param.handler=="function"){this.addListener(o,_77[i].name,_77[i].param.handler);}break;case "send":this.addListener(o,_77[i].name,function(){$W._J.executeSubmission(_77[i].param.submission);});break;case "refresh":var _7e=_77[i].param.model;var _7f=$W._J.getModelByID(_7e);if(_7f!=null){this.addListener(o,_77[i].name,function(){_7f.refresh();});}break;case "setValue":if(typeof _77[i].param.xpath!="undefined"){var _80=function(){var _81="";if(typeof _77[i].param.value!="undefined"){_81=$W._J.getInstanceValue(_77[i].param.value);}else{if(typeof _77[i].param._text!="undefined"){_81=_text;}}var _82=new $W._e.WebSquareSetValueAction(null,null,_77[i].param.xpath,_81);_82.activate();};this.addListener(o,_77[i].name,_80);}break;case "upload":var _80=function(){var _83=new $W._e.WebSquareUploadAction(_77[i].param);_83.activate();};this.addListener(o,_77[i].name,_80);break;case "dispatch":case "prompt":case "reset":case "rebuild":case "recalculate":case "revalidate":case "setfocus":case "load":case "toggle":case "insert":case "copy":case "delete":case "setindex":default:$W.logger.printLog("[WebSquare.event.addEvents]"+$W._m.getMessage("E_event_AddEventError",_77[i].action));break;}}}}}catch(e){$W.exception.printStackTrace(e);}return _79;};$W._c.addEvent=function(_84,_85,_86){if(!_86.$$guid){_86.$$guid=$W._c.addEvent.guid++;}if(!_84.events){_84.events={};}var _87=_84.events[_85];if(!_87){_87=_84.events[_85]={};if(_84["on"+_85]){_87[0]=_84["on"+_85];}}_87[_86.$$guid]=_86;_84["on"+_85]=$W._c.handleEvent;};$W._c.removeEvent=function(_88,_89,_8a){if(_88.events&&_88.events[_89]){delete _88.events[_89][_8a.$$guid];}};$W._c.handleEvent=function(_8b){var _8c=true;_8b=_8b||window.event;var _8d=this.events[_8b.type];for(var i in _8d){this.$$handleEvent=_8d[i];if(this.$$handleEvent(_8b)===false){_8c=false;}}return _8c;};$W._c.fixEvent=function(_8f){_8f.preventDefault=$W._c.fixEvent.preventDefault;_8f.stopPropagation=$W._c.fixEvent.stopPropagation;};$W._c.fixEvent.preventDefault=function(){this.returnValue=false;};$W._c.fixEvent.stopPropagation=function(){this.cancelBubble=true;};$W._c.isEventSupported=function(_90,_91){["WebSquare.event.isEventSupported"];var _92=false;try{if(!_90){return false;}var _93=_91;if(typeof _93==="string"&&(_93.charAt(0)!=="o"||_93.charAt(1)!=="n")){_93="on"+_93;}_92=_93 in _90;if(!_92){if(_90.setAttribute&&_90.removeAttribute){_90.setAttribute(_93,"");_92=(typeof _90[_93]==="function");if(typeof _90[_93]!=="undefined"){_90[_93]=undefined;}_90.removeAttribute(_93);}}}catch(e){$W.exception.printStackTrace(e);}return _92;};;WebSquare.event=$W._c;;WebSquare.event2=$W._z;$W._y={};$W._y.skinTag=$W.externalCSSURL.slice(0);$W._y.addImport=function(_1,_2){["WebSquare.skin.addImport"];try{if(typeof _1==="string"){var _3={};_3.href=$W._N.getURL(_1);_3.type="text/css";_3.rel="stylesheet";_1=_3;}var _4=false;for(var i in $W._y.skinTag){if(_1.href==$W._y.skinTag[i]){_4=true;break;}}if(_4&&$W._N.docType!="quirk"){}else{$W._y.skinTag.push(_1.href);if($W._N.getConfiguration("/WebSquare/stylesheet/@import")=="link"){if(_2==true){$W.cssManager.linkExternalCSS(_1);}else{$W.cssManager.linkControlCSS(_1);}}else{var _6=_1.href;var _7=$W._N.load(_6);if(_2==true){$W.cssManager.addExternalCSS(_7);}else{$W.cssManager.addControlCSS(_7);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._y.parseCSS=function(_8){["WebSquare.skin.parseCss"];try{if($W._N.browserCheck.ie){var _9=$W.document.createStyleSheet();_9.cssText=_8;}else{if($W._N.browserCheck.opera){var _a=$W.document.createElementNS("http://www.w3.org/1999/xhtml","style");_a.appendChild(document.createTextNode(_8));$W.document.getElementsByTagName("head").item(0).appendChild(_a);}else{var _a=$W.document.createElementNS("http://www.w3.org/1999/xhtml","style");_a.appendChild(document.createTextNode(_8));$W.document.getElementsByTagName("head").item(0).appendChild(_a);}}}catch(e){$W.exception.printStackTrace(e);}};$W._y.importCSS=function(_b){["WebSquare.skin.importCSS"];try{var _c=$W._B.getElementsByTagName(_b.documentElement,"style",$W._N._XML_NAMESPACE.XHTML);var _d="";for(var i=0;i<_c.length;i++){var _f=_c[i];if(_f.nodeType==1){var _10=_f.childNodes;for(var j=0;j<_10.length;j++){var _12=_10[j];if(_12.nodeType==4||_12.nodeType==3){_d+=_12.nodeValue;}}}}if(_d.wq_trim()!=""){$W.cssManager.addInternalCSS(_d);}var _10=_b.childNodes;for(var i=0;i<_10.length;i++){var _f=_10[i];if(_f.nodeType==7&&_f.nodeName==="xml-stylesheet"){var _13=_f.data.wq_replaceAll("=","");var _14=_13.split("\"");_14.pop();var obj={};for(var j=0;j<_14.length;j+=2){obj[_14[j].wq_trim()]=_14[j+1];}if(obj.href){obj.href=$W._N.getURL(obj.href);}if(obj.type==undefined){obj.type="text/css";}if(obj.rel==undefined){obj.rel="stylesheet";}$W._y.addImport(obj,true);}}}catch(e){$W.exception.printStackTrace(e);}};$W._y.applyClass=function(obj,_17){["WebSquare.skin.applyClass"];try{obj.className=_17;}catch(e){}};$W._y.ClassStyleCache={};$W._y.makeTime=0;$W._y.makeClassStyle=function(_18){["WebSquare.skin.makeClassStyle"];var _19={};if(typeof _18=="undefined"||_18==null||_18==""){return _19;}if(typeof $W._y.ClassStyleCache[_18]!="undefined"&&$W._y.ClassStyleCache[_18]!=null){return $W._y.ClassStyleCache[_18];}try{var _1a=$W.document.styleSheets;if($W._N.browserCheck.ie){for(var i=_1a.length-1;i>=0;i--){var _1c=_1a[i];for(var j=0;j<_1c.rules.length;j++){var _1e=_1c.rules.item(j);if(typeof _1e.selectorText=="undefined"){continue;}var _1f=_1e.selectorText;var _20=_1f.lastIndexOf(".");if(_20>-1){var end=_1f.indexOf(" ",_20);if(end>-1){_1f=_1f.substring(_20+1,end);}else{_1f=_1f.substring(_20+1);}}if(_1f==_18){var _22=_1e.style.cssText.split(";");for(var k=0;k<_22.length;k++){var s=_22[k].split(":");if(s[1]!=null){if(s[1].indexOf("url")>=0){s[1]=s[1].wq_trim();if(s[1].startsWith("url")){var _25=s[1].substring(3).wq_trim();if(_25.charAt(0)=="("&&_25.charAt(_25.length-1)==")"){s[1]="url("+$W._N.getImageURL(_25.substring(1,_25.length-1))+")";}}}_19[(s[0].wq_trim()).capitalizeStyle()]=s[1].wq_trim();}}$W._y.ClassStyleCache[_18]=_19;break;}}}}else{if($W._N.browserCheck.opera){for(var i=_1a.length-1;i>=0;i--){var _1c=_1a[i];for(var j=0;j<_1c.cssRules.length;j++){var _1e=_1c.cssRules[j];if(typeof _1e.selectorText=="undefined"){continue;}var _1f=_1e.selectorText;var _20=_1f.lastIndexOf(".");if(_20>-1){var end=_1f.indexOf(" ",_20);if(end>-1){_1f=_1f.substring(_20+1,end);}else{_1f=_1f.substring(_20+1);}}if(_1f==_18){var _22=_1e.style.cssText.split(";");for(var k=0;k<_22.length;k++){var idx=_22[k].indexOf(":");if(idx>-1){var _27=_22[k].substring(0,idx);var _28=_22[k].substring(idx+1);_19[(_27.wq_trim()).capitalizeStyle()]=_28.wq_trim();}}$W._y.ClassStyleCache[_18]=_19;break;}}}}else{for(var i=_1a.length-1;i>=0;i--){var _1c=_1a[i];for(var j=0;j<_1c.cssRules.length;j++){var _1e=_1c.cssRules[j];if(typeof _1e.selectorText=="undefined"){continue;}var _1f=_1e.selectorText;var _20=_1f.lastIndexOf(".");if(_20>-1){var end=_1f.indexOf(" ",_20);if(end>-1){_1f=_1f.substring(_20+1,end);}else{_1f=_1f.substring(_20+1);}}_1f=_1f.toLowerCase();_18=_18.toLowerCase();if(_1f==_18){var _22=_1e.style.cssText.split(";");for(var k=0;k<_22.length;k++){var s=_22[k].split(":");if(s[1]!=null){if(s[1].indexOf("url")>=0){s[1]=s[1].wq_trim();if(s[1].startsWith("url")){if(s[1].indexOf("http")>=0){index=2;while(s[index]!=null){s[1]=s[1]+":"+s[index];index++;}}else{var _25=s[1].substring(3).wq_trim();if(_25.charAt(0)=="("&&_25.charAt(_25.length-1)==")"){s[1]="url("+$W._N.getImageURL(_25.substring(1,_25.length-1))+")";}}}}_19[(s[0].wq_trim()).capitalizeStyle()]=s[1].wq_trim();}}$W._y.ClassStyleCache[_18]=_19;break;}}}}}}catch(e){$W.exception.printStackTrace(e);}return _19;};$W._y.makeBackgroundImageUrl=function(_29){["WebSquare.skin.makeBackgroundImageUrl"];var _2a="";if(typeof _29=="undefined"||_29==null||_29==""){return "";}try{var _2b=$W.document.styleSheets;if($W._N.browserCheck.ie){for(var i=_2b.length-1;i>=0;i--){var _2d=_2b[i];for(var j=0;j<_2d.rules.length;j++){var _2f=_2d.rules.item(j);if(typeof _2f.selectorText=="undefined"){continue;}var _30=_2f.selectorText;var _31=_30.lastIndexOf(".");if(_31>-1){var end=_30.indexOf(" ",_31);if(end>-1){_30=_30.substring(_31+1,end);}else{_30=_30.substring(_31+1);}}if(_30==_29){var _33=_2f.style.cssText.split(";");for(var k=0;k<_33.length;k++){var s=_33[k].split(":");if(s[1]!=null&&(s[0].toUpperCase()=="BACKGROUND-IMAGE")){if(s[1].indexOf("url")>=0){s[1]=s[1].wq_trim();if(s[1].startsWith("url")){var _36=s[1].substring(3).wq_trim();if(_36.charAt(0)=="("&&_36.charAt(_36.length-1)==")"){s[1]=$W._N.getImageURL(_36.substring(1,_36.length-1));}}}_2a=s[1].wq_trim();}}break;}}}}else{if($W._N.browserCheck.opera){for(var i=_2b.length-1;i>=0;i--){var _2d=_2b[i];for(var j=0;j<_2d.cssRules.length;j++){var _2f=_2d.cssRules[j];if(typeof _2f.selectorText=="undefined"){continue;}var _30=_2f.selectorText;var _31=_30.lastIndexOf(".");if(_31>-1){var end=_30.indexOf(" ",_31);if(end>-1){_30=_30.substring(_31+1,end);}else{_30=_30.substring(_31+1);}}if(_30==_29){var _33=_2f.style.cssText.split(";");for(var k=0;k<_33.length;k++){var s=_33[k].split(":");var idx=_33[k].indexOf(":");if(idx>-1){var _38=_33[k].substring(0,idx);var _39=_33[k].substring(idx+1);if(_38.toUpperCase().wq_trim()=="BACKGROUND-IMAGE"){if(_39.indexOf("url")>=0){_39=_39.wq_trim();if(_39.startsWith("url")){var _36=_39.substring(3).wq_trim();_36=_36.replace(/"/g,"");if(_36.charAt(0)=="("&&_36.charAt(_36.length-1)==")"){var _3a=_36.lastIndexOf($W.baseURI);_3a+=$W.baseURI.length;_39=$W._N.getImageURL(_36.substring(_3a,_36.length-1));}}}_2a=_39;}}}break;}}}}else{for(var i=_2b.length-1;i>=0;i--){var _2d=_2b[i];for(var j=0;j<_2d.cssRules.length;j++){var _2f=_2d.cssRules[j];if(typeof _2f.selectorText=="undefined"){continue;}var _30=_2f.selectorText;var _31=_30.lastIndexOf(".");if(_31>-1){var end=_30.indexOf(" ",_31);if(end>-1){_30=_30.substring(_31+1,end);}else{_30=_30.substring(_31+1);}}_30=_30.toLowerCase();_29=_29.toLowerCase();if(_30==_29){var _33=_2f.style.cssText.split(";");for(var k=0;k<_33.length;k++){var s=_33[k].split(":");if(s[1]!=null&&(s[0].toUpperCase().wq_trim()=="BACKGROUND-IMAGE")){if(s[1].indexOf("url")>=0){s[1]=s[1].wq_trim();if(s[1].startsWith("url")){if(s[1].indexOf("http")>=0){index=2;while(s[index]!=null){s[1]=s[1]+":"+s[index];index++;}}else{var _36=s[1].substring(3).wq_trim();if(_36.charAt(0)=="("&&_36.charAt(_36.length-1)==")"){s[1]=$W._N.getImageURL(_36.substring(1,_36.length-1));}}}}_2a=s[1].wq_trim();}}break;}}}}}}catch(e){$W.exception.printStackTrace(e);}return _2a;};$W._y.loadCSS=function(url){["WebSquare.skin.loadCSS"];try{if(!url||url===""){return;}var _3c=$W._N.load(url);if($W._N.browserCheck.ie){var _3d=$W.document.createStyleSheet();_3d.cssText=_3c;}else{var _3e=$W.document.createElementNS("http://www.w3.org/1999/xhtml","style");_3e.appendChild(document.createTextNode(_3c));$W.document.getElementsByTagName("head")[0].appendChild(_3e);}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.skin=$W._y;$W._m={};$W._m.getMessage=function(){["WebSquare.language.getMessage"];try{var _1="";if(arguments.length==0){return "";}if(typeof WebSquareLang[arguments[0]]=="undefined"){$W.logger.printLog("'"+arguments[0]+"' is not definde.");_1="";}else{_1=WebSquareLang[arguments[0]];}for(var i=1;i<arguments.length;i++){try{_1=_1.replace(eval("/%"+i+"/g"),arguments[i]);}catch(e){$W.logger.printLog(e.message);}}return _1;}catch(e){$W.logger.printLog(e.message);}};;WebSquare.language=$W._m;$W.point2d=function(x,y){this.x=null;this.y=null;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}this.x=x;this.y=y;};$W.point2d.prototype.assign=function(_3){this.x=_3.x;this.y=_3.y;};$W.point2d.prototype.add=function(_4){["WebSquare.point2d.add"];try{return new $W.point2d(this.x+_4.x,this.y+_4.y);}catch(e){$W.exception.printStackTrace(e);}};$W.point2d.prototype.subtract=function(_5){["WebSquare.point2d.subtract"];try{return new $W.point2d(this.x-_5.x,this.y-_5.y);}catch(e){$W.exception.printStackTrace(e);}};$W.point2d.prototype.scale=function(_6){["WebSquare.point2d.scale"];try{return new $W.point2d(this.x*_6,this.y*_6);}catch(e){$W.exception.printStackTrace(e);}};$W.point2d.prototype.getSize=function(){["WebSquare.point2d.getSize"];try{return Math.sqrt(this.x*this.x+this.y*this.y);}catch(e){$W.exception.printStackTrace(e);}};$W.point2d.prototype.innerProduct=function(_7){["WebSquare.point2d.innerProduct"];try{return this.x*_7.x+this.y*_7.y;}catch(e){$W.exception.printStackTrace(e);}};$W.point2d.prototype.crossProduct=function(_8){["WebSquare.point2d.crossProduct"];try{}catch(e){$W.exception.printStackTrace(e);}};$W.point3d=function(x,y,z){this.x=null;this.y=null;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}if(isNaN(z)){z=0;}this.x=x;this.y=y;this.z=z;};$W.point3d.prototype.assign=function(_c){this.x=_c.x;this.y=_c.y;this.z=_c.z;};$W.point3d.prototype.add=function(_d){["WebSquare.point3d.add"];try{return new $W.point3d(this.x+_d.x,this.y+_d.y,this.z+_d.z);}catch(e){$W.exception.printStackTrace(e);}};$W.point3d.prototype.subtract=function(_e){["WebSquare.point3d.subtract"];try{return new $W.point3d(this.x-_e.x,this.y-_e.y,this.z-_e.z);}catch(e){$W.exception.printStackTrace(e);}};$W.point3d.prototype.scale=function(_f){["WebSquare.point3d.scale"];try{return new $W.point3d(this.x*_f,this.y*_f,this.z*_f);}catch(e){$W.exception.printStackTrace(e);}};$W.point3d.prototype.getSize=function(){["WebSquare.point3d.getSize"];try{return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);}catch(e){$W.exception.printStackTrace(e);}};$W.point3d.prototype.innerProduct=function(rhs){["WebSquare.point3d.innerProduct"];try{return this.x*rhs.x+this.y*rhs.y+this.z*rhs.z;}catch(e){$W.exception.printStackTrace(e);}};$W.point3d.prototype.crossProduct=function(rhs){["WebSquare.point3d.crossProduct"];try{}catch(e){$W.exception.printStackTrace(e);}};$W.matrix=function(row,col){["WebSquare.matrix"];try{this.rowCount=null;this.colCount=null;this.data=null;this.rowCount=row|0;this.colCount=col|0;this.data=new Array(row);for(var i=0;i<row;i++){this.data[i]=new Array(col);}for(var i=0;i<row;i++){for(var j=0;j<col;j++){this.data[i][j]=0;}}}catch(e){$W.exception.printStackTrace(e);}};$W.matrix.prototype.add=function(mat){["WebSquare.matrix.add"];try{var _17=new $W.matrix(this.rowCount,this.colCount);if(this.rowCount==mat.rowCount&&this.colCount==mat.colCount){for(var i=0;i<this.rowCount;i++){for(var j=0;j<this.colCount;j++){_17.data[i][j]=this.data[i][j]+mat.data[i][j];}}}return _17;}catch(e){$W.exception.printStackTrace(e);}};$W.matrix.prototype.scale=function(_1a){["WebSquare.matrix.scale"];try{for(var i=0;i<this.rowCount;i++){for(var j=0;j<this.colCount;j++){this.data[i][j]*=_1a;}}}catch(e){$W.exception.printStackTrace(e);}};$W.matrix.prototype.multiplyMatrix=function(rhs){["WebSquare.matrix.add"];try{var l=this.rowCount;var m=this.colCount;var m2=rhs.rowCount;var n=mat.colCount;var _22=new $W.matrix(l,n);if(m==m2){for(var i=0;i<l;i++){for(var j=0;j<n;j++){var sum=0;for(var k=0;k<m;k++){sum+=this.data[i][k]*rhs.data[k][j];}_22.data[i][j]=sum;}}}return _22;}catch(e){$W.exception.printStackTrace(e);}};$W.matrix.prototype.rightMultiply2d=function(_27){["WebSquare.matrix.rightMultiply2d"];try{var _28=new $W.point2d();_28.x=this.data[0][0]*_27.x+this.data[0][1]*_27.y;_28.y=this.data[1][0]*_27.x+this.data[1][1]*_27.y;return _28;}catch(e){$W.exception.printStackTrace(e);}};$W.matrix.prototype.rightMultiply3d=function(_29){["WebSquare.matrix.rightMultiply3d"];try{var _2a=new $W.point3d();_2a.x=this.data[0][0]*_29.x+this.data[0][1]*_29.y+this.data[0][2]*_29.z;_2a.y=this.data[1][0]*_29.x+this.data[1][1]*_29.y+this.data[1][2]*_29.z;_2a.z=this.data[2][0]*_29.x+this.data[2][1]*_29.y+this.data[2][2]*_29.z;return _2a;}catch(e){$W.exception.printStackTrace(e);}};$W._i={rotMatrix2:new $W.matrix(2,2),rotMatrix3:new $W.matrix(3,3),rotMatrix4:new $W.matrix(4,4)};$W._i.translate2d=function(_2b,_2c){["WebSquare.geometry.translate2d"];try{_2b.x=_2b.x+_2c.x;_2b.y=_2b.y+_2c.y;}catch(e){$W.exception.printStackTrace(e);}};$W._i.translate3d=function(_2d,_2e){["WebSquare.geometry.translate3d"];try{_point2d.x+=_2e.x;_point2d.y+=_2e.y;_point2d.z+=_2e.z;}catch(e){$W.exception.printStackTrace(e);}};$W._i.reflect2d=function(_2f,_30){["WebSquare.geometry.reflect2d"];try{if(_30.x==1&&_30.y==1){this.rotMatrix2.data[0][0]=0;this.rotMatrix2.data[0][1]=1;this.rotMatrix2.data[1][0]=1;this.rotMatrix2.data[1][1]=0;}else{if(_30.x==0&&_30.y==1){this.rotMatrix2.data[0][0]=-1;this.rotMatrix2.data[0][1]=0;this.rotMatrix2.data[1][0]=0;this.rotMatrix2.data[1][1]=1;}}return this.rotMatrix2.rightMultiply2d(_2f);}catch(e){$W.exception.printStackTrace(e);}};$W._i.reflect3d=function(_31,_32){["WebSquare.geometry.reflect3d"];try{}catch(e){$W.exception.printStackTrace(e);}};$W._i.rotate2d=function(_33,_34,_35){["WebSquare.geometry.rotate2d"];try{this.rotMatrix2.data[0][0]=Math.cos(_35*Math.PI/180);this.rotMatrix2.data[0][1]=Math.sin(_35*Math.PI/180)*-1;this.rotMatrix2.data[1][0]=Math.sin(_35*Math.PI/180);this.rotMatrix2.data[1][1]=Math.cos(_35*Math.PI/180);return this.rotMatrix2.rightMultiply2d(_33.subtract(_34)).add(_34);}catch(e){$W.exception.printStackTrace(e);}};$W._i.rotate3d=function(_36,_37,_38){["WebSquare.geometry.rotate3d"];try{}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.geometry=$W._i;requires("engine/effect.js");$W._D={};$W._D.shape=function(id){["WebSquare.shape.shape"];this.id=id;this.renderType="";};$W._D.shape.prototype.render=function(_2){["WebSquare.shape.render"];alert("should override WebSquare.shape.render");};$W._D.shape.prototype.renderTime=function(_3,_4){["WebSquare.shape.render"];this.render(_3);};$W._D.lineShape=function(id,_6,_7,_8,_9,_a,_b){["WebSquare.shape.lineShape"];try{_b=$W.extend({},_b);$W._D.shape.call(this,id);this.startX=_6;this.startY=_7;this.endX=_8;this.endY=_9;this.style=_a;this.params=_b;this.graphicObj=null;}catch(e){$W.exception.printStackTrace(e);}};$W._D.lineShape.inherit($W._D.shape);$W._D.lineShape.prototype.render=function(_c){["WebSquare.shape.lineShape.render"];try{if(this.style.borderColor=="autoDark"){this.style.borderColor=_c.getDarkColor(this.style.backgroundColor,4);}this.graphicObj=_c.drawToolkit.createLine(this.id,this.style.borderWidth,this.startX,this.startY,this.endX,this.endY,this.style.borderColor,true,this.style.zIndex);return this.graphicObj;}catch(e){$W.exception.printStackTrace(e);}};$W._D.lineShape.prototype.renderTime=function(_d,_e){["WebSquare.shape.lineShape.renderTime"];try{var _f=this;if(_e!=null&&_e>=0){setTimeout(function(){_f.graphicObj=_d.drawToolkit.createLine(_f.id,this.style.borderWidth,_f.startX,_f.startY,_f.endX,_f.endY,this.style.borderColor,true,this.style.zIndex);},_e);}return null;}catch(e){$W.exception.printStackTrace(e);}};$W._D.arcShape=function(id,_11,_12,_13,_14,_15,_16,_17){["WebSquare.shape.arcShape"];try{_17=$W.extend({},_17);$W._D.shape.call(this,id);this.centerX=_11;this.centerY=_12;this.radius=_13;this.startAngle=_14;this.endAngle=_15;this.style=_16;this.params=_17;this.graphicObj=null;}catch(e){$W.exception.printStackTrace(e);}};$W._D.arcShape.inherit($W._D.shape);$W._D.arcShape.prototype.render=function(_18){["WebSquare.shape.arcShape.render"];try{if(this.style.borderColor=="autoDark"){this.style.borderColor=_18.getDarkColor(this.style.backgroundColor,4);}if(this.renderType.indexOf("[animation]")>-1){if(this.renderType.indexOf("[animation]1")>-1){this.graphicObj=_18.drawToolkit.createArc(this.id,this.style.borderWidth,this.centerX,this.centerY,1,this.startAngle,this.endAngle,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);new $W._M.arcAnimation(null,{centerX:this.centerX,centerY:this.centerY,radius:this.radius,startAngle:this.startAngle,endAngle:this.startAngle},{centerX:this.centerX,centerY:this.centerY,radius:this.radius,startAngle:this.startAngle,endAngle:this.endAngle},{id:this.id,graphicUtil:_18,duration:0.5});}else{if(this.renderType.indexOf("[animation]2")>-1){var _19=new $W.point2d(this.radius/2,0);var _1a=new $W.point2d(0,0);var _1b=(this.startAngle+this.endAngle)/2;_19=$W._i.rotate2d(_19,_1a,-_1b);this.graphicObj=_18.drawToolkit.createArc(this.id,this.style.borderWidth,this.centerX+_19.x,this.centerY+_19.y,this.radius,this.startAngle,this.endAngle,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);new $W._M.arcAnimation(null,{centerX:this.centerX+_19.x,centerY:this.centerY+_19.y,radius:this.radius,startAngle:this.startAngle,endAngle:this.endAngle},{centerX:this.centerX,centerY:this.centerY,radius:this.radius,startAngle:this.startAngle,endAngle:this.endAngle},{id:this.id,graphicUtil:_18,transition:$W._M.transitions.square4,duration:0.5});}else{this.graphicObj=_18.drawToolkit.createArc(this.id,this.style.borderWidth,this.centerX,this.centerY,1,this.startAngle,this.endAngle,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);new $W._M.arcAnimation(null,{centerX:this.centerX,centerY:this.centerY,startAngle:0,endAngle:0,radius:this.radius},{centerX:this.centerX,centerY:this.centerY,startAngle:this.startAngle,endAngle:this.endAngle,radius:this.radius},{id:this.id,graphicUtil:_18,duration:0.5});}}}else{this.graphicObj=_18.drawToolkit.createArc(this.id,this.style.borderWidth,this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);}if(this.renderType.indexOf("[gradient]")>-1){var _1c=_18.getBrightColor(this.style.backgroundColor,2);_18.drawToolkit.addLinearGradient(this.id,"bottom_top",this.style.backgroundColor,_1c);}return this.graphicObj;}catch(e){$W.exception.printStackTrace(e);}};$W._D.circleShape=function(id,_1e,_1f,_20,_21,_22){["WebSquare.shape.circleShape"];try{_22=$W.extend({},_22);$W._D.shape.call(this,id);this.centerX=_1e;this.centerY=_1f;this.radius=_20;this.style=_21;this.params=_22;this.graphicObj=null;}catch(e){$W.exception.printStackTrace(e);}};$W._D.circleShape.inherit($W._D.shape);$W._D.circleShape.prototype.render=function(_23){["WebSquare.shape.circleShape.render"];try{if(this.style.borderColor=="autoDark"){this.style.borderColor=_23.getDarkColor(this.style.backgroundColor,4);}this.graphicObj=_23.drawToolkit.createCircle(this.id,this.style.borderWidth,this.centerX,this.centerY,this.radius,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);if(this.renderType.indexOf("[gradient]")>-1){var _24=_23.getBrightColor(this.style.backgroundColor,2);_23.drawToolkit.addLinearGradient(this.id,"bottom_top",this.style.backgroundColor,_24);}return this.graphicObj;}catch(e){$W.exception.printStackTrace(e);}};$W._D.rectangleShape=function(id,_26,_27,_28,_29,_2a,_2b){["WebSquare.shape.rectangleShape"];try{_2b=$W.extend({},_2b);$W._D.shape.call(this,id);this.startX=_26;this.startY=_27;this.endX=_28;this.endY=_29;this.style=_2a;this.params=_2b;this.graphicObj=null;}catch(e){$W.exception.printStackTrace(e);}};$W._D.rectangleShape.inherit($W._D.shape);$W._D.rectangleShape.prototype.render=function(_2c){["WebSquare.shape.rectangleShape.render"];try{var _2d=Math.abs(this.endX-this.startX);var _2e=Math.abs(this.endY-this.startY);var _2f=Math.min(this.startX,this.endX);var _30=Math.min(this.startY,this.endY);if(this.style.borderColor=="autoDark"){this.style.borderColor=_2c.getDarkColor(this.style.backgroundColor,4);}if(this.renderType.indexOf("[animation]")>-1){this.graphicObj=_2c.drawToolkit.createRectangle(this.id,this.style.borderWidth,_2f,_30,0,0,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);var _31=this.renderType.indexOf("[inverse]")>=0;var _32=!_31?{x:_2f,y:_30+_2e,width:_2d,height:0}:{x:_2f,y:_30,width:0,height:_2e};new $W._M.rectAnimation(null,_32,{x:_2f,y:_30,width:_2d,height:_2e},{id:this.id,graphicUtil:_2c,transition:$W._M.transitions.linear,duration:0.5,inverse:_31,svg3D:(_2c.platformType==="svg"&&this.renderType.indexOf("[3D]")>=0)});}else{this.graphicObj=_2c.drawToolkit.createRectangle(this.id,this.style.borderWidth,_2f,_30,_2d,_2e,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);}if(this.renderType.indexOf("[gradient]")>-1){var _33=_2c.getBrightColor(this.style.backgroundColor,2);_2c.drawToolkit.addLinearGradient(this.id,"bottom_top",this.style.backgroundColor,_33);}var _34=_2d;if(this.renderType.indexOf("[inverse]")>-1){_34=_2e;}if(this.renderType.indexOf("[3D]")>-1){_2c.drawToolkit.add3DEffect(this.id,_34);}return this.graphicObj;}catch(e){$W.exception.printStackTrace(e);}};$W._D.pathShape=function(id,_36,_37,_38){["WebSquare.shape"];try{_38=$W.extend({},_38);$W._D.shape.call(this,id);this.pointArr=_36;this.style=_37;this.params=$W.extend({closeFlag:true,fillFlag:true},_38);this.graphicObj=null;}catch(e){$W.exception.printStackTrace(e);}};$W._D.pathShape.inherit($W._D.shape);$W._D.pathShape.prototype.render=function(_39){["pathShape.render"];try{if(this.style.borderColor=="autoDark"){this.style.borderColor=_39.getDarkColor(this.style.backgroundColor,4);}if(this.renderType.indexOf("[animation]")>-1){if(this.renderType.indexOf("[animation]1")>-1){this.graphicObj=_39.drawToolkit.createPath2(this.id,this.style.borderWidth,[],this.style.borderColor,this.style.backgroundColor,this.params.fillFlag,this.params.closeFlag,true,this.style.zIndex);var _3a=new $W.point2d(0,0);for(var i=0;i<this.pointArr.length;i++){if(i==0){_3a.x=this.pointArr[i].x;_3a.y=this.pointArr[i].y;}}var _3c=new Array(this.pointArr.length);for(var i=0;i<_3c.length;i++){_3c[i]=new $W.point2d(_3a.x,_3a.y);}new $W._M.pathAnimation(null,{pointList:_3c},{pointList:this.pointArr},{id:this.id,graphicUtil:_39,transition:$W._M.transitions.sinodial,duration:0.5});}else{this.graphicObj=_39.drawToolkit.createPath2(this.id,this.style.borderWidth,[],this.style.borderColor,this.style.backgroundColor,this.params.fillFlag,this.params.closeFlag,true,this.style.zIndex);var _3a=new $W.point2d(0,0);for(var i=0;i<this.pointArr.length;i++){_3a.x+=this.pointArr[i].x;_3a.y+=this.pointArr[i].y;if(i==this.pointArr.length-1){_3a.x/=this.pointArr.length;_3a.y/=this.pointArr.length;}}var _3c=new Array(this.pointArr.length);for(var i=0;i<_3c.length;i++){_3c[i]=new $W.point2d(_3a.x,_3a.y);}new $W._M.pathAnimation(null,{pointList:_3c},{pointList:this.pointArr},{id:this.id,graphicUtil:_39,transition:$W._M.transitions.sinodial,duration:0.5});}}else{if(this.params.closeFlag==true){this.graphicObj=_39.drawToolkit.createPath(this.id,this.style.borderWidth,this.pointArr,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);}else{this.graphicObj=_39.drawToolkit.createPath2(this.id,this.style.borderWidth,this.pointArr,this.style.borderColor,this.style.backgroundColor,this.params.fillFlag,this.params.closeFlag,true,this.style.zIndex);}}return this.graphicObj;}catch(e){$W.exception.printStackTrace(e);}};$W._D.textShape=function(id,_3e,_3f,_40,_41,_42){["WebSquare.shape.textShape"];try{_42=$W.extend({},_42);$W._D.shape.call(this,id);this.text=_3e;this.centerX=_3f;this.centerY=_40;this.style=_41;this.params=_42;this.graphicObj=null;}catch(e){$W.exception.printStackTrace(e);}};$W._D.textShape.inherit($W._D.shape);$W._D.textShape.prototype.render=function(_43){["WebSquare.shape.textShape.render"];try{var _44=document.createElement("div");var _45=parseInt(this.style.fontSize);if(isNaN(_45)){_45=12;}var _46=this.text.length*_45;_44.id=this.id;$W._N.applyStyle(_44,this.style);_44.style.width=_46+"px";_44.style.left=this.centerX-_46/2+"px";_44.style.top=this.centerY-_45/2+"px";_44.innerHTML=this.text;if(this.params.graphicID){_44.graphicID=this.params.graphicID;}if(this.params.className){_44.className=this.params.className;}_43.drawToolkit.appendObj(_44.id,_44,false);_43.render.appendChild(_44);this.graphicObj=_44;}catch(e){$W.exception.printStackTrace(e);}return this.graphicObj;};$W._D.shapeComposite=function(id){["WebSquare.shape.shapeComposite"];try{$W._D.shape.call(this,id);this.shapeList=new Array();this.graphicObj=null;}catch(e){$W.exception.printStackTrace(e);}};$W._D.shapeComposite.inherit($W._D.shape);$W._D.shapeComposite.prototype.addShape=function(_48){["WebSquare.shape.shapeComposite.addShape"];try{this.shapeList.push(_48);}catch(e){$W.exception.printStackTrace(e);}};$W._D.shapeComposite.prototype.render=function(_49){["WebSquare.shape.shapeComposite.render"];try{if(this.renderType=="sequence Animation"){var _4a=0;for(var i=0;i<this.shapeList.length;i++){_4a+=50;this.shapeList[i].renderTime(_49,_4a);}}else{if(this.renderType=="simultaneous Animation"){var _4a=0;for(var i=0;i<this.shapeList.length;i++){this.shapeList[i].renderTime(_49,_4a);}}else{for(var i=0;i<this.shapeList.length;i++){if(this.renderType!=null&&this.renderType!=""){this.shapeList[i].renderType=this.renderType;}var _4c=this.shapeList[i].render(_49);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._D.debugPoint=function(_4d,_4e,_4f){["WebSquare.shape.debugPoint"];try{if(_4e==null){_4e=$W.document.body;}_4f=$W.extend({style:{},colorIndex:0,graphicUtil:null},_4f||{});var _50=new Array("#b83c55","#6142a4","#3771df","#43993c","#c8d238","#db7141","#7380C1","#7BB39C","#AED22F","#AFC084","#FC9C32","#DB4C81","#9B60C1","#DCD64F","#C7725B","#C0C3B8","#C181B3","#DBAC46","#838B9E","#82C6D2","#4F77AE");var _51=5;var _52=2;var _53=$W._H.extendStyle({position:"absolute",backgroundColor:_50[_4f.colorIndex],borderColror:_50[_4f.colorIndex],borderStyle:"solid",borderWidth:"0px",width:_51,height:_52},_4f.style||{});if(_4f.graphicUtil){var _54=new $W._D.circleShape("debug_circle",_4d.x,_4d.y,3,_53);_54.render(_4f.graphicUtil);}else{var div=$W.document.createElement("div");$W._H.setStyle(div,_53);$W._H.setStyle(div,{left:_4d.x-_51/2,top:_4d.y-_52/2});_4e.appendChild(div);}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.shape=$W._D;$W.configManager=function(_1){if(Object.prototype.toString.call(_1)==="[object Array]"){this.xmlDoc=_1;}else{this.xmlDoc=[_1];}this.configCache={};};$W.configManager.prototype.setConfig=function(_2){["WebSquare.configManager.setConfig"];try{if(Object.prototype.toString.call(_2)==="[object Array]"){this.xmlDoc=_2;}else{this.xmlDoc=[_2];}this.configCache={};}catch(e){$W.exception.printStackTrace(e);}};$W.configManager.prototype.parseConfig=function(_3){["WebSquare.configManager.parseConfig"];try{var _4={};for(var i=0;i<this.xmlDoc.length;i++){var _6=$W._B.findNode(this.xmlDoc[i],"/WebSquare/"+_3);if(_6){for(var _7=_6.firstChild;_7!=null;_7=_7.nextSibling){if(_7.nodeType==1){var _8=_7.tagName;var _9=$W._B.getValue(_7,"@value");_4[_8]=_9;}}break;}}this.configCache[_3]=_4;}catch(e){$W.exception.printStackTrace(e);}};$W.configManager.prototype.getConfig=function(_a){["WebSquare.configManager.getConfig"];try{if(!this.configCache[_a]){this.parseConfig(_a);}return this.configCache[_a];}catch(e){$W.exception.printStackTrace(e);}};$W.configManager=new $W.configManager($W.BootLoader.configurationDOM);$W._E={};$W._E.CSSStyleSheet=function(){this.rules=[];this.ruleIndex=[];if(document.createStyleSheet&&false){this.sheet=document.createStyleSheet();}else{this.styleElement=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(this.styleElement);this.sheet=this.styleElement.styleSheet?this.styleElement.styleSheet:this.styleElement.sheet;}};$W._E.CSSStyleSheet.addRuleRe1=new RegExp("^\\{?([^\\}])");$W._E.CSSStyleSheet.addRuleRe2=new RegExp("^\\{[^\\}]*\\}$");$W._E.CSSStyleSheet.prototype.addRule=function(_1,_2){var _3;if(!this.sheet){_2=_2.replace($W._E.CSSStyleSheet.addRuleRe1,"$1");if(!this.ruleIndex[_1]){this.ruleIndex[_1]=this.rules.length;}this.rules[this.ruleIndex[_1]]=_2;var _4="";for(var _5 in this.ruleIndex){_4=_5+" {"+this.rules[this.ruleIndex[_5]]+"}";}this.styleElement.innerHTML=_4;}else{if(this.sheet.addRule){_2=_2.replace($W._E.CSSStyleSheet.addRuleRe1,"$1");var r=this.sheet.rules.length;this.sheet.addRule(_1,_2);_3=this.sheet.rules[r];this.ruleIndex[_1]=r;this.rules=this.sheet.rules;}else{if(this.sheet.insertRule){if(!$W._E.CSSStyleSheet.addRuleRe2.test(_2)){_2="{"+_2+"}";}var r=this.sheet.cssRules.length;this.sheet.insertRule(_1+" "+_2,r);_3=this.sheet.cssRules[r];this.ruleIndex[_1]=r;if(this.rules.length==0){this.rules=this.sheet.cssRules;}}else{alert("Cannot create rule");}}}return _3;};$W._E.CSSStyleSheet.prototype.changeRule=function(_7,_8,_9){["WebSquare.styleSheet.CSSStyleSheet.prototype.changeRule"];try{var _a=this.ruleIndex[_7];if(typeof _a=="undefined"){this.addRule(_7,_8+":"+_9);return;}if(!this.sheet){var _b=this.rules[_a];if(_b){var _c=new RegExp("^(.*"+_8+"\\s*:\\s*)([^;]*)(.*)$");var _d=_c.exec(_b);if(_d){if(_d[4]!=_9){this.rules[_a]=_d[1]+_9+_d[3];}}else{this.rules[_a]=_b+"; "+_8+": "+_9+";";}_b="";for(var _e in this.ruleIndex){_b=_e+" {"+this.rules[this.ruleIndex[_e]]+"}";}this.styleElement.innerHTML=_b;}var _b="";var _b="";for(var _e in this.ruleIndex){_b=_e+" {"+this.rules[this.ruleIndex[_e]]+"}";}}else{if(this.rules[_a].style){var m=/^([^-]*)-([a-z])(.*)$/.exec(_8);while(m){_8=m[1]+m[2].toUpperCase()+m[3];m=/^([^-]*)-([a-z])(.*)$/.exec(_8);}var _10=this;setTimeout(function(){_10.rules[_a].style[_8]=_9;},1);}else{if(this.sheet.insertRule){var _11=this.rules[_a];if(_11){var _b=_11.cssText;var _c=new RegExp("^[^\\{]*(\\{.*"+_8+"\\s*\\:\\s*)([^};]*)([^}]*})");var _d=_c.exec(_b);if(_d){if(_d[4]!=_9){_b=_d[1]+_9+_d[3];this.sheet.deleteRule(_a);this.sheet.insertRule(_7+" "+_b,_a);}}else{var _c=new RegExp("\\{([^}]*)}");_d=_c.exec(_b);_b="{ "+_d[1]+"; "+_8+": "+_9+" }";this.sheet.deleteRule(_a);this.sheet.insertRule(_7+" "+_b,_a);}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._E.CSSStyleSheet.prototype.getRuleProperty=function(_12,_13){var _14=this.ruleIndex[_12];if(typeof _14=="undefined"){return;}if(!this.sheet){var _15=this.rules[_14];if(_15){var _16=new RegExp("^.*"+_13+"s*:s*([^;]*)");var _17=_16.exec(_15);if(_17){return _17[1];}}}else{if(this.rules[_14].style){var m=/^([^-]*)-([a-z])(.*)$/.exec(_13);while(m){_13=m[1]+m[2].toUpperCase()+m[3];m=/^([^-]*)-([a-z])(.*)$/.exec(_13);}var _19=this.rules[_14].style;return _19[_13];}else{if(this.sheet.insertRule){var _1a=this.rules[_14];if(_1a){_15=_1a.cssText;var _16=new RegExp("^.*"+_13+"\\s*\\:\\s*([^};]*)");var _17=_16.exec(_15);if(_17){return _17[1];}}}}}};$W._E.CSSStyleSheet.prototype.getRule=function(_1b){var _1c=this.ruleIndex[_1b];if(typeof _1c=="undefined"){return;}if(!this.sheet){var _1d=this.rules[_1c];return _1d;}else{if(this.rules[_1c].style){var _1e=this.rules[_1c].style;return _1e.cssText;}else{if(this.sheet.insertRule){var _1f=this.rules[_1c];if(_1f){_1d=_1f.cssText;return _1d;}}}}};$W.cssStyleSheet={};$W.cssStyleSheet.styleSheet=null;$W.cssStyleSheet.initialize=function(){if($W.cssStyleSheet.styleSheet==null){$W.cssStyleSheet.styleSheet=new $W._E.CSSStyleSheet();}};$W.cssStyleSheet.addRule=function(_20,_21){$W.cssStyleSheet.initialize();$W.cssStyleSheet.styleSheet.addRule(_20,_21);};$W.cssStyleSheet.changeRule=function(_22,_23,_24){["WebSquare.cssStyleSheet.changeRule"];$W.cssStyleSheet.initialize();$W.cssStyleSheet.styleSheet.changeRule(_22,_23,_24);};$W.cssStyleSheet.getRuleProperty=function(_25,_26){$W.cssStyleSheet.initialize();$W.cssStyleSheet.styleSheet.getRuleProperty(_25,_26);};$W.cssStyleSheet.getRule=function(_27){$W.cssStyleSheet.initialize();$W.cssStyleSheet.styleSheet.getRule(_27);};;WebSquare.styleSheet=$W._E;$W.eventControl=function(){["WebSquare.eventControl"];try{this.cache=null;}catch(e){$W.exception.printStackTrace(e);}};if(document.addEventListener&&!$W._G.isIE()){$W.eventControl.prototype.addListener=function(_1,_2,_3,_4){try{_4=_4||null;if(_2.toLowerCase().wq_trim()=="onchange"){return;}var ff=function(e){if(typeof this.disabled!="undefined"&&(this.disabled||this.getAttribute("disabled")=="true")){return;}else{_3.apply(_1,arguments);}};var _7=_2.slice(2);if(_2.toLowerCase()=="onmousewheel"&&$W._N.browserCheck.moz){_7="DOMMouseScroll";}_1.addEventListener(_7,ff,_4);this.setCache(_1,_2,ff,_4);}catch(e){$l(this.addListener.caller,"caller");$W.exception.printStackTrace(e);}};}else{if(document.attachEvent){$W.eventControl.prototype.addListener=function(_8,_9,_a,_b){try{_b=_b||null;if(_9.toLowerCase().wq_trim()=="onchange"){return;}var ff=function(){if(typeof _8.disabled!="undefined"&&(_8.disabled||_8.getAttribute("disabled")=="true")){return;}else{_a.apply(_8,arguments);}};_8.attachEvent(_9,ff);this.setCache(_8,_9,ff,_b);}catch(e){$l(this.addListener.caller,"caller");$W.exception.printStackTrace(e);}};}else{$W.eventControl.prototype.addListener=function(){};}}$W.eventControl.prototype.addListener2=function(_d,_e,_f,_10){try{var _11=(function(_12,_13){return function(e){_13.call(_12,e||window.event);};})(_10||_d,_f);if(_d.attachEvent){_d.attachEvent(_e,_11);}else{if(_d.addEventListener){_e=_e.slice(2);if(_e.wq_trim().toLowerCase()=="mousewheel"&&$W._G.isFF()){_e="DOMMouseScroll";}_d.addEventListener(_e,_11,false);}}this.setCache(_d,_e,_11,null);}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.removeListener=function(_15,_16,_17,_18){["WebSquare.eventControl.removeListener"];try{_18=_18||null;try{if(!$W._G.isIE()&&_15.removeEventListener){_15.removeEventListener(_16.slice(2),_17,_18);}else{if(_15.detachEvent){_15.detachEvent(_16,_17);}}}catch(e){}}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.setCache=function(_19,_1a,_1b,_1c){["WebSquare.eventControl.setCache"];try{if(!this.cache){this.cache=[];}this.cache.push([_19,_1a,_1b,_1c]);}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.clearCache=function(){["WebSquare.eventControl.clearCache"];try{if(!this.cache){return;}for(var i=0;i<this.cache.length;i++){this.removeListener.apply(this,this.cache[i]);this.cache[i]=null;}this.cache=null;}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.bindAsEventListener=function(_1e,_1f){["WebSquare.eventControl.bindAsEventListener"];try{var _20=[];for(var i=2;i<arguments.length;i++){_20.push(arguments[i]);}return function(e){if(_1e["__removed_object__"]){return;}if(_1e.getDisabled&&_1e.getDisabled()==true){return;}if(e&&e.type!="resize"&&_1e.options&&(_1e.options.pluginName!="gridView"&&_1e.options.pluginName!="grid")){var _23=_1e.getReadOnly&&_1e.getReadOnly()==true;var _24=false;if(_23&&_1e.options&&_1e.options.pluginName=="input"&&_1e.options.copyOnReadOnly=="noFormat"){if($W._G.isIEAllVersion()){_24=e.keyCode==67&&(e.ctrlKey||e.metaKey);}else{_24=e.type=="copy";}}if(_23&&!_24){return;}}if(e&&e.type==="mousedown"){$W.getBody().getLayerListener().otherClick(e);}_1f.apply(_1e,[e||window.event].concat(_20));};}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.clearElement=function(_25){["WebSquare.eventControl.clearElement"];try{var _26=null;var i=0;var _28=0;var _29="";_26=_25.attributes;if(_26){_28=_26.length;for(i=0;i<_28;i++){if(_26[i]){_29=_26[i].name;if(typeof _25[_29]=="function"){_25[_29]=null;}}}}}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.getTarget=function(e,_2b){["WebSquare.eventControl.getTarget"];try{_2b=_2b||"main";var _2c=$W._c.getTarget(e);while(_2c){var _2d=_2c.getAttribute("catch");if(_2d&&_2d.indexOf(_2b)>-1){break;}_2c=_2c.parentNode;}return _2c;}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.getTargetIterator=function(e,_2f){["WebSquare.eventControl.getTargetIterator"];try{var _30=$W._c.getTarget(e);return new $W.targetIterator(_30,_2f);}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.getChildIterator=function(_31){["WebSquare.eventControl.getChildIterator"];try{return new $W.childIterator(_31);}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.isMe=function(e,_33){["WebSquare.eventControl.isMe"];try{var _34=$W._c.getTarget(e);while(_34!=null){if(_34==_33){return true;}_34=_34.parentNode;}return false;}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.isMine=function(e,_36){["WebSquare.eventControl.isMine"];try{var _37=$W._c.getTarget(e);while(_37!=null){if(_37.id&&_37.id.indexOf(_36.id)>=0){return true;}_37=_37.parentNode;}return false;}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.addEvents=function(_38,_39){["WebSquare.eventControl.addEvents"];var _3a=[];try{if(_38!=null&&_39!=null){for(var i=0;i<_39.length;i++){if($W._c.isEventSupported(_38.render,_39[i].name)){switch(_39[i].action){case "script":if(typeof _39[i].param.handler=="function"||typeof _39[i].param.handler=="string"){if(_38.systemEventList[_39[i].name]==undefined||!(_38.systemEventList[_39[i].name].count>0)){_38.systemEventList[_39[i].name]={};_38.systemEventList[_39[i].name].count=1;var _3c=(function(_3d){return function(e){$W._c.fireEvent(_38,_3d,e);};})(_39[i].name);this.addListener(_38.render,_39[i].name,_3c,false);if(_38.event.cache){_38.systemEventList[_39[i].name].handler=_38.event.cache[_38.event.cache.length-1][2];}}else{_38.systemEventList[_39[i].name].count++;}}else{$W.logger.printLog("Event error ["+_38.id+",ev:"+_39[i].name+"] : "+_39[i].param.handler+" is not a function");break;}break;default:var obfuscator_obj=_38;var obfuscator_event=_39[i].name;eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent(obfuscator_obj, obfuscator_event , e);};");if(_38.systemEventList[_39[i].name]==undefined||!(_38.systemEventList[_39[i].name].count>0)){_38.systemEventList[_39[i].name]={};_38.systemEventList[_39[i].name].count=1;_38.systemEventList[_39[i].name].handler=eval("applyEvent"+i);this.addListener(_38.render,_39[i].name,_38.systemEventList[_39[i].name].handler,false);}else{_38.systemEventList[_39[i].name].count++;}break;}}else{if(_39[i].param!=undefined&&typeof _39[i].param.handler=="string"){if(_38.scope_obj){eval("if(typeof "+_39[i].param.handler+" != \"undefined\"){WebSquare.scope_obj="+_38.scope_obj.id+";\nwith(WebSquare.util.getComponentById('"+_38.scope_obj.id+"').scope) {\n var udc_obj = "+_38.scope_obj.id+"; \n var obfuscator_eventHandler = "+_39[i].param.handler+"\n}\nWebSquare.scope_obj=null;\n}");}else{eval("if(typeof "+_39[i].param.handler+" != \"undefined\"){var obfuscator_eventHandler = "+_39[i].param.handler+"}");}if(typeof obfuscator_eventHandler=="function"){_39[i].param.handler=obfuscator_eventHandler;}}}}_38.userEventList=_38.userEventList.concat(_39);}}catch(e){$W.exception.printStackTrace(e);}};$W.eventControl.prototype.addUserEvents=function(_3f,obfuscator_Actions,_40){["WebSquare.eventControl.addUserEvents"];var _41=[];try{if(obfuscator_Actions){if(typeof _40!="undefined"){var _42={};for(var i=0;i<_40.length;i++){_42[_40[i]]="";}var _44=[];for(var i=0;i<obfuscator_Actions.length;i++){if(typeof _42[obfuscator_Actions[i].name]=="undefined"){_41.push(obfuscator_Actions[i]);}else{_44.push(obfuscator_Actions[i]);}}obfuscator_Actions=_44;}for(var i=0;i<obfuscator_Actions.length;i++){if(obfuscator_Actions[i].action=="script"){if(typeof obfuscator_Actions[i].param.handler=="string"){try{if(_3f.scope_obj){eval("if(typeof "+obfuscator_Actions[i].param.handler+" != \"undefined\"){WebSquare.scope_obj="+_3f.scope_obj.id+";\nwith(WebSquare.util.getComponentById('"+_3f.scope_obj.id+"').scope) {\n var udc_obj = "+_3f.scope_obj.id+"; \n obfuscator_Actions[i].param.handler = "+obfuscator_Actions[i].param.handler+"\n}\nWebSquare.scope_obj=null;\n}");}else{eval("if(typeof "+obfuscator_Actions[i].param.handler+" != \"undefined\"){obfuscator_Actions[i].param.handler = "+obfuscator_Actions[i].param.handler+"}");}}catch(e){}}}}_3f.userEventList=_3f.userEventList.concat(obfuscator_Actions);}}catch(e){$W.exception.printStackTrace(e);}return _41;};requires("uiplugin/control/eventControl.js");$W._K={};$W._K.ghostDragManager=function(){["WebSquare.uiplugin.ghostDragManager"];try{this.init();this.event=new $W.eventControl();var _1=this;this.mouseMoveListener=function(e){_1.update.apply(_1,arguments);};this.mouseUpListener=function(e){_1.finish.apply(_1,arguments);};}catch(e){$W.exception.printStackTrace(e);}};$W._K.ghostDragManager.prototype.init=function(){["WebSquare.uiplugin.ghostDragManager.init"];try{this.dragGhost=null;this.element=null;this.target=null;this.currentFrame=0;this.deltaX=0;this.deltaY=0;this.oldMouseX=-1;this.oldMouseY=-1;this.status="stop";this.options={id:"w2drag",className:"w2drag",contents:"",direction:"x y",resizeDirection:"width height",frameGap:20,delay:0,mode:"move",applyMousePosition:false,dropClass:"",onDrop:null,makeGhostLayer:null,useDragLayer:false,handleStart:null,handleUpdate:null,handleFinish:null,beforeStart:null,afterFinish:null};this.original={position:"",left:0,top:0,width:0,height:0,mouseX:0,mouseY:0};}catch(e){$W.exception.printStackTrace(e);}};$W._K.ghostDragManager.prototype.activate=function(e,_5,_6){["WebSquare.uiplugin.ghostDragManager.activate"];try{if($W._G.isMobile()==true){$W._c.addListener(document.documentElement,"ontouchmove",this.mouseMoveListener);$W._c.addListener(document.documentElement,"ontouchend",this.mouseUpListener);}else{$W._c.addListener(document.documentElement,"onmousemove",this.mouseMoveListener);$W._c.addListener(document.documentElement,"onmouseup",this.mouseUpListener);}if($W._G.isFF()){$W._c.preventDefault(e);}this.options=$W.extend(this.options,_6||{});var _7=$W._H.getAbsoluteLeft(_5);var _8=$W._H.getAbsoluteTop(_5);var _9=this.getDragGhost();var _a=$W._H.getAbsoluteTop(_9.render);var _b=$W._H.getAbsoluteLeft(_9.render);if(_9.render.style.display=="none"){_a=0;_b=0;}if(_9.saveOffsetTop==undefined){_9.saveOffsetTop=_a;}if(_9.saveOffsetLeft==undefined){_9.saveOffsetLeft=_b;}_9.saveLeft=_7;_9.saveTop=_8;if(this.options.makeGhostLayer){_9=this.options.makeGhostLayer(_9,e);if(this.options.mode=="resize"||this.options.mode=="resize_right"||this.options.mode=="resize_bottom"){_9.show();}}_9.render.innerHTML=this.options.contents;if(_9){this.dragGhost=_9;this.element=_5;this.target=this.dragGhost.render;this.original={left:this.dragGhost.saveOffsetLeft+_7,top:this.dragGhost.saveOffsetTop+_8,width:this.target.offsetWidth,height:this.target.offsetHeight,mouseX:$W._c.getMouseX(e),mouseY:$W._c.getMouseY(e)};}$W.getBody().addClass("w2drag_activate");}catch(e){$W.exception.printStackTrace(e);}};$W._K.ghostDragManager.prototype.drawSize=function(_c,_d){["WebSquare.uiplugin.ghostDragManager.drawSize"];try{if(this.target){if(_c>=0&&this.options.resizeDirection.indexOf("width")>-1){this.target.style.width=_c+"px";}if(_d>=0&&this.options.resizeDirection.indexOf("height")>-1){this.target.style.height=_d+"px";}}}catch(e){$W.exception.printStackTrace(e);}};$W._K.ghostDragManager.prototype.drawPosition=function(x,y){["WebSquare.uiplugin.ghostDragManager.drawPosition"];try{if(this.target){if(this.options.direction.indexOf("x")>-1){this.target.style.left=x+"px";}if(this.options.direction.indexOf("y")>-1){this.target.style.top=y+"px";}}}catch(e){$W.exception.printStackTrace(e);}};$W._K.ghostDragManager.prototype.start=function(e){["WebSquare.uiplugin.ghostDragManager.start"];try{if(this.status=="stop"){this.status="started";if(this.options.beforeStart){this.options.beforeStart(e);}if(this.options.handleStart){this.options.handleStart(e);}this.dragGhost.show();this.dragGhost.setPosition(this.dragGhost.saveLeft,this.dragGhost.saveTop);}}catch(e){$W.exception.printStackTrace(e);}};$W._K.ghostDragManager.prototype.update=function(e){["WebSquare.uiplugin.ghostDragManager.update"];try{var _12=false;if(this.target){$W._c.stopEvent(e);var _13=$W._c.getMouseX(e);var _14=$W._c.getMouseY(e);if(this.oldMouseX!=_13||this.oldMouseY!=_14){this.oldMouseX=_13;this.oldMouseY=_14;_12=true;}this.deltaX=_13-this.original.mouseX;this.deltaY=_14-this.original.mouseY;}if(_12&&this.target&&Math.abs(this.deltaX)+Math.abs(this.deltaY)>this.options.delay){this.start(e);}if(_12&&this.target&&this.status=="started"){if(this.options.mode=="move"){this.options.applyMousePosition?this.drawPosition(this.original.mouseX+this.deltaX,this.original.mouseY+this.deltaY):this.drawPosition(this.original.left+this.deltaX,this.original.top+this.deltaY);}else{if(this.options.mode=="resize"){var _15=this.original.width+this.deltaX;var _16=this.original.height+this.deltaY;var _17=this.original.left;var top=this.original.top;if(_15<0){_15=Math.abs(_15);_17=_17-_15;}if(_16<0){_16=Math.abs(_16);top=top-_16;}this.options.applyMousePosition?this.drawPosition(this.original.mouseX,this.original.mouseY):this.drawPosition(_17,top);this.drawSize(_15,_16);}else{if(this.options.mode=="resize_right"){var _15=this.original.width+this.deltaX;var _16=this.original.height;var _17=this.original.left;var top=this.original.top;if(_15<0){_15=Math.abs(_15);_17=_17-_15;}this.options.applyMousePosition?this.drawPosition(this.original.mouseX,this.original.mouseY):this.drawPosition(_17,top);this.drawSize(_15,_16);}else{if(this.options.mode=="resize_bottom"){var _15=this.original.width;var _16=this.original.height+this.deltaY;var _17=this.original.left;var top=this.original.top;if(_16<0){_16=Math.abs(_16);top=top-_16;}this.options.applyMousePosition?this.drawPosition(this.original.mouseX,this.original.mouseY):this.drawPosition(_17,top);this.drawSize(_15,_16);}}}}if(this.options.handleUpdate){this.options.handleUpdate(this.original.left,this.original.top,this.deltaX,this.deltaY,e);}if(this.options.onDragover){var _19=null;if(this.options.dragoverClass!=""){var it=this.event.getTargetIterator(e);while(it.next()){if(it.match(this.options.dragoverClass)){_19=it.getElement();it.stop();}}it=null;}this.options.onDragover(this.element,_19,this.original.left,this.original.top,this.deltaX,this.deltaY,e);}}}catch(e){$W.exception.printStackTrace(e);}};$W._K.ghostDragManager.prototype.finish=function(e){["WebSquare.uiplugin.ghostDragManager.finish"];try{if(this.target){if(this.status=="started"||this.dragGhost.getStyle("visibility")=="visible"){if(!$W._G.isMobile()){$W._c.removeListener(document.documentElement,"onmousemove",this.mouseMoveListener);$W._c.removeListener(document.documentElement,"onmouseup",this.mouseUpListener);}else{$W._c.removeListener(document.documentElement,"ontouchmove",this.mouseMoveListener);$W._c.removeListener(document.documentElement,"ontouchend",this.mouseUpListener);}if(this.options.onDrop){var _1c=null;if(this.options.dropClass!=""){var it=this.event.getTargetIterator(e);while(it.next()){if(it.match(this.options.dropClass)){_1c=it.getElement();it.stop();}}it=null;}this.options.onDrop(this.element,_1c,this.original.left,this.original.top,this.deltaX,this.deltaY,e);}if(this.options.handleFinish){this.options.handleFinish(this.original.left,this.original.top,this.deltaX,this.deltaY,e);}if(this.options.afterFinish){this.options.afterFinish(this.original.left,this.original.top,this.deltaX,this.deltaY,e);}this.dragGhost.hide();}this.init();$W.getBody().removeClass("w2drag_activate");}}catch(e){$W.exception.printStackTrace(e);}};$W._K.ghostDragManager.prototype.getDragGhost=function(){["WebSquare.dragdrop.ghostDragManager.getDragGhost"];try{var _1e=null;var _1f=$W.getBody();if(_1f){_1e=_1f.getChild(this.options.id);if(!_1e){requires("uiplugin/group/group.js");_1e=new $W._a._o(this.options.id,{className:"w2drag "+this.options.className});_1e.writeTo(_1f,null,this.parentFrame);_1e.activate();_1e.hide();}}return _1e;}catch(e){$W.exception.printStackTrace(e);}};$W._K.gDragManager=new $W._K.ghostDragManager();$W._K.sortDragManager=function(){["WebSquare.uiplugin.sortDragManager"];try{this.sortGroupArrHash={};this.sortItemArrHash={};this.event=new $W.eventControl();}catch(e){$W.exception.printStackTrace(e);}};$W._K.sortDragManager.prototype.registerItem=function(obj,_21){_21=$W.extend({handle:obj.render},_21||{});obj.addClass(obj.render,"w2sort_item");this.event.addListener(_21.handle,"onmousedown",function(e){$W._c.stopEvent(e);$W._K.sDragManager.activate(e,obj.render,_21);});};$W._K.sortDragManager.prototype.registerGroup=function(_23,_24,_25){["WebSquare.uiplugin.sortDragManager.init"];try{var _26=[];var it=this.event.getChildIterator(_24.render);while(it.next()){if(it.match("w2sort_item")){_26.push(it.getElement());}}if(!this.sortGroupArrHash[_23]){this.sortGroupArrHash[_23]=[];}if(!this.sortItemArrHash[_23]){this.sortItemArrHash[_23]=[];}this.sortGroupArrHash[_23].push({groupElement:_24.render,sortItemArr:_26});this.sortItemArrHash[_23]=this.sortItemArrHash[_23].concat(_26);}catch(e){$W.exception.printStackTrace(e);}};$W._K.sortDragManager.prototype.activate=function(e,_29,_2a){["WebSquare.uiplugin.sortDragManager.activate"];try{var _2b=this;var _2c=_29;var _2d=null;_2a=$W.extend({className:"w2drag_widget_ghost",makeGhostLayer:function(_2e){_2e.setSize(_2c.offsetWidth,_2c.offsetHeight);return _2e;},handleStart:function(){var _2f=_2c.offsetWidth;var _30=_2c.offsetHeight;_2d=document.createElement("div");_2d.style.width=_2f+"px";_2d.style.height=_30+"px";_2d.className="w2sort_ghost";_2c.parentNode.insertBefore(_2d,_2c);_2c.old_display=_2c.style.display;_2c.style.display="none";_2b.initCache();},handleUpdate:function(x,y,dx,dy,e){var _36=$W._c.getMouseX(e);var _37=$W._c.getMouseY(e);for(var id in _2b.sortGroupArrHash){var _39=_2b.sortGroupArrHash[id];var _3a=_2b.sortItemArrHash[id];for(var i=0;i<_39.length;i++){var _3c=_39[i];var _3d=_2b.isIn(_36,_37,_3c.groupElement);if(_3d!="out"){_3c.groupElement.appendChild(_2d);}}for(var i=0;i<_3a.length;i++){var _3e=_3a[i];if(_3e!=_2c){var _3f=_2b.isIn(_36,_37,_3e);if(_3f=="top"&&_2d!=_3e.previousSibling){_3e.parentNode.insertBefore(_2d,_3e);_2b.initCache();}else{if(_3f=="bottom"&&_2d!=_3e.nextSibling){_3e.parentNode.insertBefore(_2d,_3e.nextSibling);_2b.initCache();}else{}}}}}},handleFinish:function(x,y,dx,dy){_2d.parentNode.insertBefore(_2c,_2d);_2d.parentNode.removeChild(_2d);_2c.style.display=_2c.old_display;}},_2a||{});$W._K.gDragManager.activate(e,_2c,_2a);}catch(e){$W.exception.printStackTrace(e);}};$W._K.sortDragManager.prototype.initCache=function(){["WebSquare.uiplugin.sortDragManager.initCache"];try{return;}catch(e){$W.exception.printStackTrace(e);}};$W._K.sortDragManager.prototype.isIn=function(x,y,_46){["WebSquare.uiplugin.sortDragManager.isIn"];try{var _47=$W._H.getAbsoluteLeft(_46);var top=$W._H.getAbsoluteTop(_46);var _49=_46.clientWidth;var _4a=_46.clientHeight;var _4b="";if(x>_47&&x<_47+_49&&y>top&&y<top+_4a/2){_4b="top";}else{if(x>_47&&x<_47+_49&&y>top+_4a/2&&y<top+_4a){_4b="bottom";}else{_4b="out";}}return _4b;}catch(e){$W.exception.printStackTrace(e);}};$W._K.sDragManager=new $W._K.sortDragManager();$W.dragdrop2={"droppable":{},"scrollable":{},"scrollByDragDelay":300,"scrollByDragSpeed":50};;WebSquare.dragdrop=$W._K;$W._C={};$W._C.createFormatter=function(_1,_2,_3,_4,_5,_6){["WebSquare.format.createFormatter"];try{var _7=null;if(_3){_7=new $W._C.formatterAdapter(_1,_2,_3,_4);return _7;}if(_1!=""){switch(_1){case "text":_7=new $W._C.textFormatter(_1,_2,_3,_4);break;case "bigDecimal":case "number":if(_2==""){_7=new $W._C.emptyFormatter(_1,_2,_3,_4);}else{_7=new $W._C.numberFormatter(_1,_2,_3,_4,_5,_6);}break;case "euro":_7=new $W._C.euroFormatter(_1,_2,_3,_4,_5,_6);break;case "rupee":_7=new $W._C.rupeeFormatter(_1,_2,_3,_4,_5,_6);break;case "tenge":_7=new $W._C.tengeFormatter(_1,_2,_3,_4,_5,_6);break;case "date":_7=new $W._C.dateFormatter(_1,_2,_3,_4);break;case "time":_7=new $W._C.timeFormatter(_1,_2,_3,_4);break;default:_7=new $W._C.emptyFormatter(_1,_2,_3,_4);}}else{_7=new $W._C.emptyFormatter(_1,_2,_3,_4);}return _7;}catch(e){$W.exception.printStackTrace(e);}};$W._C.formatter=function(_8,_9,_a,_b){["WebSquare.format.formatter"];try{this.type=_8||"text";this.masking=_9||"";this.userFunc=_a||null;this.ioFormat=_b||null;this.count=0;this.hash_format_to_original={};}catch(e){$W.exception.printStackTrace(e);}};$W._C.formatter.prototype.setMasking=function(_c){this.masking=_c;};$W._C.formatter.prototype.format=function(_d,_e){["WebSquare.format.formatter.format"];try{if($W._G.isNull(_d)){return "";}_d=_d.toString();var _f=this.executeFormat(_d,_e);if(this.count>100){this.hash_format_to_original={};this.count=0;}this.hash_format_to_original[_f]=_d;this.count++;return _f;}catch(e){$W.exception.printStackTrace(e);}};$W._C.formatter.prototype.unformat=function(_10){["WebSquare.format.formatter.unformat"];try{if(this.hash_format_to_original[_10]!=undefined){return this.hash_format_to_original[_10];}else{return _10;}}catch(e){$W.exception.printStackTrace(e);}};$W._C.formatter.prototype.executeFormat=function(_11){alert("you should override 'executeFormat'");};$W._C.emptyFormatter=function(_12,_13,_14,_15){$W._C.formatter.call(this,_12,_13,_14,_15);};$W.extend($W._C.emptyFormatter.prototype,$W._C.formatter.prototype);$W._C.emptyFormatter.prototype.executeFormat=function(_16){return _16;};$W._C.textFormatter=function(_17,_18,_19,_1a){$W._C.formatter.call(this,_17,_18,_19,_1a);};$W.extend($W._C.textFormatter.prototype,$W._C.formatter.prototype);$W._C.textFormatter.prototype.executeFormat=function(_1b){["WebSquare.format.textFormatter.executeFormat"];try{_1b=$W._A.formatText(_1b,this.masking,this.ioFormat);return _1b;}catch(e){$W.exception.printStackTrace(e);}};$W._C.numberFormatter=function(_1c,_1d,_1e,_1f,_20,_21){$W._C.formatter.call(this,_1c,_1d,_1e,_1f);this.delemeter=_20;this.decimalDelimeter=_21;};$W.extend($W._C.numberFormatter.prototype,$W._C.formatter.prototype);$W._C.numberFormatter.prototype.executeFormat=function(_22,_23){["WebSquare.format.numberFormatter.executeFormat"];try{_22=$W._A.formatCurrency(_22,this.masking,this.ioFormat,_23,this.delemeter,this.decimalDelimeter);return _22;}catch(e){$W.exception.printStackTrace(e);}};$W._C.euroFormatter=function(_24,_25,_26,_27,_28,_29){$W._C.formatter.call(this,_24,_25,_26,_27);this.delemeter=_28;this.decimalDelimeter=_29;};$W.extend($W._C.euroFormatter.prototype,$W._C.formatter.prototype);$W._C.euroFormatter.prototype.executeFormat=function(_2a,_2b){["WebSquare.format.euroFormatter.executeFormat"];try{_2a=$W._A.formatEuroCurrency(_2a,this.masking,this.ioFormat,_2b,this.delemeter,this.decimalDelimeter);return _2a;}catch(e){$W.exception.printStackTrace(e);}};$W._C.rupeeFormatter=function(_2c,_2d,_2e,_2f,_30,_31){$W._C.formatter.call(this,_2c,_2d,_2e,_2f);this.delemeter=_30;this.decimalDelimeter=_31;};$W.extend($W._C.rupeeFormatter.prototype,$W._C.formatter.prototype);$W._C.rupeeFormatter.prototype.executeFormat=function(_32,_33){["WebSquare.format.rupeeFormatter.executeFormat"];try{_32=$W._A.formatRupeeCurrency(_32,this.masking,this.ioFormat,_33,this.delemeter,this.decimalDelimeter);return _32;}catch(e){$W.exception.printStackTrace(e);}};$W._C.tengeFormatter=function(_34,_35,_36,_37,_38,_39){$W._C.formatter.call(this,_34,_35,_36,_37);this.delemeter=_38;this.decimalDelimeter=_39;};$W.extend($W._C.tengeFormatter.prototype,$W._C.formatter.prototype);$W._C.tengeFormatter.prototype.executeFormat=function(_3a,_3b){["WebSquare.format.tengeFormatter.executeFormat"];try{_3a=$W._A.formatTengeCurrency(_3a,this.masking,this.ioFormat,_3b,this.delemeter,this.decimalDelimeter);return _3a;}catch(e){$W.exception.printStackTrace(e);}};$W._C.dateFormatter=function(_3c,_3d,_3e,_3f){$W._C.formatter.call(this,_3c,_3d,_3e,_3f);};$W.extend($W._C.dateFormatter.prototype,$W._C.formatter.prototype);$W._C.dateFormatter.prototype.executeFormat=function(_40){["WebSquare.format.dateFormatter.executeFormat"];try{_40=$W._A.formatDate(_40,this.masking,this.ioFormat);return _40;}catch(e){$W.exception.printStackTrace(e);}};$W._C.timeFormatter=function(_41,_42,_43,_44){$W._C.formatter.call(this,_41,_42,_43,_44);};$W.extend($W._C.timeFormatter.prototype,$W._C.formatter.prototype);$W._C.timeFormatter.prototype.executeFormat=function(_45){["WebSquare.format.timeFormatter.executeFormat"];try{_45=$W._A.formatTime(_45,this.masking,this.ioFormat);return _45;}catch(e){$W.exception.printStackTrace(e);}};$W._C.formatterAdapter=function(_46,_47,_48,_49){$W._C.formatter.call(this,_46,_47,_48,_49);this.userFunc=_48;};$W.extend($W._C.formatterAdapter.prototype,$W._C.formatter.prototype);$W._C.formatterAdapter.prototype.executeFormat=function(_4a){["WebSquare.format.formatterAdapter.executeFormat"];try{if(typeof this.userFunc!="function"){try{var _4b=$W._G.getGlobalFunction(this.userFunc);if(_4b!=null){this.userFunc=_4b;}}catch(e){}}if(typeof this.userFunc=="function"){_4a=this.userFunc(_4a);}return _4a;}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.format=$W._C;$W._H={styleHash:new Object()};$W._H.camelize=function(_1){["WebSquare.style.makeStyle"];var _2=_1.split("-");if(_2.length==1){return _2[0];}var _3=_1.indexOf("-")==0?_2[0].charAt(0).toUpperCase()+_2[0].substring(1):_2[0];for(var i=1,len=_2.length;i<len;i++){var s=_2[i];_3+=s.charAt(0).toUpperCase()+s.substring(1);}return _3;};$W._H.setStyle=function(_6,_7,_8){["WebSquare.style.setStyle"];if(typeof _7=="object"){for(var _9 in _7){_6.style[$W._H.camelize(_9)]=_7[_9];}}else{if(typeof _7=="string"){var _9=_7.capitalizeStyle();if(_9=="opacity"){if(_6.style.opacity===undefined){var _a=parseFloat(_8,10);_a=isNaN(_a)?1:_a;_9="filter";_8="alpha(opacity="+100*_a+")";}}else{if(_9=="float"){if(_6.style.cssFloat!==undefined){_6.style.cssFloat=_8;}else{if(_6.style.styleFloat!==undefined){_6.style.styleFloat=_8;}}}}_6.style[_9]=_8;}}};if(document.documentElement.currentStyle){$W._H.getStyleProperty=function(_b,_c){_c=_c.wq_trim().capitalizeStyle();var _d=_b.currentStyle[_c];if(_c.toLowerCase().indexOf("color")>-1){return $W._G.toHexColor(_d);}else{return _d;}};}else{if(window.getComputedStyle){$W._H.getStyleProperty=function(_e,_f){var _10=document.defaultView.getComputedStyle(_e,null).getPropertyValue(_f);if(_f.toLowerCase().indexOf("color")>-1){return $W._G.toHexColor(_10);}else{return _10;}};}else{$W._H.getStyleProperty=function(_11,_12){var _13=_11.style[_12];if(_12.toLowerCase().indexOf("color")>-1){return $W._G.toHexColor(_13);}else{return _13;}};}}$W._H.getStyle=function(_14,_15){["WebSquare.style.getStyle"];var _16=$W._H.getStyleProperty(_14,_15);if(!_16){if(_15=="opacity"){var _17=$W._H.getStyleProperty(_14,"filter");var _18=_17.match(/alpha\(.*\)/gi)||[""];var _19=_18[0].match(/opacity=\d+/gi)||[""];_16=(parseInt(_19[0].substr(8)||"100",10)/100)+"";}else{if(_15=="float"){_16=$W._H.getStyleProperty(_14,"styleFloat");}}}return _16;};$W._H.OpacRe1=new RegExp("Gecko");$W._H.OpacRe2=new RegExp("Konqueror|Safari|KHTML");$W._H.OpacRe3=new RegExp("MSIE");$W._H.OpacRe4=new RegExp("alpha\\([^\\)]*\\)","gi");$W._H.setOpacity=function(_1a,_1b){if(_1b==1){$W._H.setStyle(_1a,{opacity:($W._H.OpacRe1.test(navigator.userAgent)&&!$W._H.OpacRe2.test(navigator.userAgent))?0.999999:null});if($W._H.OpacRe3.test(navigator.userAgent)){$W._H.setStyle(_1a,{filter:$W._H.getStyle(_1a,"filter").replace($W._H.OpacRe4,"")});}}else{if(_1b<0.00001){_1b=0;}$W._H.setStyle(_1a,{opacity:_1b});if($W._H.OpacRe3.test(navigator.userAgent)){$W._H.setStyle(_1a,{filter:$W._H.getStyle(_1a,"filter").replace($W._H.OpacRe4,"")+"alpha(opacity="+_1b*100+")"});}}};$W._H.extendStyle=function(_1c,_1d){["WebSquare.style.makeStyleString"];var _1e=new Object();for(key in _1c){_1e[$W._H.camelize(key)]=_1c[key];}for(key in _1d){var _1f=$W._H.camelize(key);_1e[_1f]=_1d[key];}return _1e;};$W._H.setSize=function(_20,_21,_22){["WebSquare.style.setSize"];try{if(!_20){return;}_21=parseInt(_21);_22=parseInt(_22);if(_21!=null&&!isNaN(_21)&&_21>=0){_20.style.width=_21+"px";}if(_22!=null&&!isNaN(_22)&&_22>=0){_20.style.height=_22+"px";}}catch(e){$W.exception.printStackTrace(e);}};$W._H.getSize=function(_23,_24){["WebSquare.style.getSize"];try{if(!_23){return;}var _24=_24.toLowerCase();if(_24=="height"){return _23.clientHeight;}else{if(_24=="width"){return _23.clientWidth;}else{if(_24=="innerheight"){var _25=parseInt($W._H.getStyleProperty(_23,"padding-top"))||0;var _26=parseInt($W._H.getStyleProperty(_23,"padding-bottom"))||0;return _23.clientHeight+_25+_26;}else{if(_24=="innerwidth"){var _27=parseInt($W._H.getStyleProperty(_23,"padding-left"))||0;var _28=parseInt($W._H.getStyleProperty(_23,"padding-right"))||0;return _23.clientWidth+_27+_28;}else{if(_24=="outerheight"){var _29=parseInt($W._H.getStyleProperty(_23,"border-top-width"))||0;var _2a=parseInt($W._H.getStyleProperty(_23,"border-bottom-width"))||0;var _25=parseInt($W._H.getStyleProperty(_23,"padding-top"))||0;var _26=parseInt($W._H.getStyleProperty(_23,"padding-bottom"))||0;return _23.clientHeight+_29+_2a+_25+_26;}else{if(_24=="outerwidth"){var _2b=parseInt($W._H.getStyleProperty(_23,"border-left-width"))||0;var _2c=parseInt($W._H.getStyleProperty(_23,"border-right-width"))||0;var _27=parseInt($W._H.getStyleProperty(_23,"padding-left"))||0;var _28=parseInt($W._H.getStyleProperty(_23,"padding-right"))||0;return _23.clientWidth+_2b+_2c+_27+_28;}else{if(_24=="outermarginheight"){var _29=parseInt($W._H.getStyleProperty(_23,"border-top-width"))||0;var _2a=parseInt($W._H.getStyleProperty(_23,"border-bottom-width"))||0;var _25=parseInt($W._H.getStyleProperty(_23,"padding-top"))||0;var _26=parseInt($W._H.getStyleProperty(_23,"padding-bottom"))||0;var _2d=parseInt($W._H.getStyleProperty(_23,"margin-top"))||0;var _2e=parseInt($W._H.getStyleProperty(_23,"margin-bottom"))||0;return _23.clientHeight+_29+_2a+_25+_26+_2d+_2e;}else{if(_24=="outermarginwidth"){var _2b=parseInt($W._H.getStyleProperty(_23,"border-left-width"))||0;var _2c=parseInt($W._H.getStyleProperty(_23,"border-right-width"))||0;var _27=parseInt($W._H.getStyleProperty(_23,"padding-left"))||0;var _28=parseInt($W._H.getStyleProperty(_23,"padding-right"))||0;var _2f=parseInt($W._H.getStyleProperty(_23,"margin-left"))||0;var _30=parseInt($W._H.getStyleProperty(_23,"margin-right"))||0;return _23.clientWidth+_2b+_2c+_27+_28+_2f+_30;}}}}}}}}$l("getSize : wrong sizeName["+_24+"]");return;}catch(e){$W.exception.printStackTrace(e);}};$W._H.animate=function(_31,_32,_33){var _33=_33||{duration:500};_33.easing=_33.easing||"ease";_33.startTime=new Date();_33.key=_33.key||"WebSquare.style.animate_"+Math.random();_33.delay=15;if(typeof _32=="object"){if(_31&&_31.render){_31=_31.render;}var _34=$W._G.isArray(_31)?_31:[_31];var _35=[];var _36=[];for(var i=0;i<_34.length;i++){var el=_34[i];var _39={};var _3a=_32;for(var key in _3a){_39[key]=$W._H.getStyle(el,key);if(typeof _39[key]=="string"){var str=(_3a[key]+"").wq_trim();if(str.startsWith("+=")){_3a[key]=parseFloat(_39[key])+parseFloat(str.substr(2));}else{if(str.startsWith("-=")){_3a[key]=parseFloat(_39[key])-parseFloat(str.substr(2));}}}}_35.push(_39);_36.push(_3a);}_32=function(t){for(var i=0;i<_34.length;i++){var el=_34[i];var _40=_35[i];var _41=_36[i];for(var key in _41){var _43=parseFloat(_40[key]);var _44=_40[key].substr((_43+"").length);var _45=_43+t*(_41[key]-_43);$W._H.setStyle(el,key,_45+_44);}}};}else{if(!_33.caller&&_31){_33.caller=_31;}}var _46=function(){var _47=(new Date()-_33.startTime)/_33.duration;(_47>1)&&(_47=1);t=$W._H.cubicBezierAtTime(_47,_33.easing,_33.duration);_32.call(_33.caller,t);if(t<1){$W._N.setTimer(_46,_33);}else{if(_33.complete){_33.complete.call(_33.caller);}}};$W._N.setTimer(_46,_33);return _33.key;};$W._H.cubicBezierAtTime=function(t,cp,_4a){if(typeof cp=="string"){switch(cp){case "ease":cp=[0.25,0.1,0.25,1];break;case "linear":cp=[0,0,1,1];break;case "ease-in":cp=[0.42,0,1,1];break;case "ease-out":cp=[0,0,0.58,1];break;case "ease-in-out":cp=[0.42,0,0.58,1];break;case "deceleration":cp=[0,0,0,1];break;case "acceleration":cp=[1,0,1,1];break;case "default":default:cp=[0.25,0.1,0.25,1];}}var p1x=cp[0],p1y=cp[1],p2x=cp[2],p2y=cp[3];var ax=0,bx=0,cx=0,ay=0,by=0,cy=0;function sampleCurveX(t){return ((ax*t+bx)*t+cx)*t;}function sampleCurveY(t){return ((ay*t+by)*t+cy)*t;}function sampleCurveDerivativeX(t){return (3*ax*t+2*bx)*t+cx;}function solveEpsilon(_50){return 1/(200*_50);}function solve(x,_52){return sampleCurveY(solveCurveX(x,_52));}function solveCurveX(x,_54){var t0,t1,t2,x2,d2,i;function fabs(n){if(n>=0){return n;}else{return 0-n;}}for(t2=x,i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(fabs(x2)<_54){return t2;}d2=sampleCurveDerivativeX(t2);if(fabs(d2)<0.000001){break;}t2=t2-x2/d2;}t0=0;t1=1;t2=x;if(t2<t0){return t0;}if(t2>t1){return t1;}while(t0<t1){x2=sampleCurveX(t2);if(fabs(x2-x)<_54){return t2;}if(x>x2){t0=t2;}else{t1=t2;}t2=(t1-t0)*0.5+t0;}return t2;}cx=3*p1x;bx=3*(p2x-p1x)-cx;ax=1-cx-bx;cy=3*p1y;by=3*(p2y-p1y)-cy;ay=1-cy-by;return solve(t,solveEpsilon(_4a));};$W._H.addClass=function(_57,_58){["WebSquare.style.addClass"];try{if(!_57||!_58){return;}var _59=_57.className.wq_trim();var _5a=_59.split(" ");for(var i=0;i<_5a.length;i++){var tmp=_5a[i].wq_trim();if((" "+tmp+" ").indexOf(" "+_58+" ")>-1){if(i==_5a.length-1){return;}}else{continue;}}if(_5a.length>1){_59+=" ";}_59+=_58.wq_trim();_57.className=_59;}catch(e){$W.exception.printStackTrace(e);}};$W._H.removeClass=function(_5d,_5e){["WebSquare.style.removeClass"];try{if(!_5d||!_5e){return;}var _5f=_5d.className.split(" ");var _60=[];for(var i=0;i<_5f.length;i++){var tmp=_5f[i].wq_trim();if((" "+tmp+" ").indexOf(" "+_5e+" ")>-1){continue;}else{if(tmp.length>0){_60.push(tmp);}}}_5d.className=_60.join(" ");}catch(e){$W.exception.printStackTrace(e);}};$W._H.show=function(_63,_64){["WebSquare.style.show"];try{if(!_63){return;}if(typeof _64==="undefined"){_64="block";}_63.style.display=_64;_63.style.visibility="visible";if($W._G.isIE(6)){$W._H.addClass(_63," ");}_63.setAttribute("aria-hidden","false");if($W.layer.disabledList.length>0){$W._H.addClass(_63,"w2modal_popupLayer");}}catch(e){$W.exception.printStackTrace(e);}};$W._H.hide=function(_65){["WebSquare.style.hide"];try{if(!_65){return;}_65.style.display="none";_65.style.visibility="hidden";_65.setAttribute("aria-hidden","true");$W._H.removeClass(_65,"w2modal_popupLayer");}catch(e){$W.exception.printStackTrace(e);}};$W._H.getAbsoluteTop=function(_66){["WebSquare.style.getAbsoluteTop"];var _67=0;try{if(!_66){return 0;}if(_66.getBoundingClientRect!=null){var top=_66.getBoundingClientRect().top;var doc=_66.ownerDocument;var _6a=doc.documentElement;var _6b=doc.body;var _6c=(doc.window===doc)?doc:(doc.nodeType===9?(doc.defaultView||doc.parentWindow):null);var _6d=_6a.clientTop||_6b.clientTop||0;var _6e=_6c.pageYOffset||_6a.scrollTop;if($W._G.isIE(9)||$W._G.isIE(10)){_6e=_6a.scrollTop;}var _6f=_6b.getBoundingClientRect();var _70=($W._G.isIE("6")||$W._G.isIE("7"))?((_6f.bottom-_6f.top)/_6b.offsetHeight):1;_67=(top+_6e-_6d)/_70;}else{var _71=_66;var _72=_66;var _73=0;while(_72.tagName!="BODY"){var _74=$W._G.parseFloat($W._G.getStyleProperty(_72,"border-top-width"),0);if($W._G.isOpera()){_74=0;}var top=_72.offsetTop;if($W._G.getStyleProperty(_72,"position")=="fixed"){top=$W._G.parseFloat($W._G.getStyleProperty(_72,"top"),0);if(!$W._G.isIE("6")){_73+=top+_74-_72.scrollTop+_74+(window.scrollY||document.documentElement.scrollTop);break;}}else{if($W._G.getStyleProperty(_72,"position")!="static"||_71==_72){_73+=top+_74-_72.scrollTop;}else{_73-=_72.scrollTop;}}_72=_72.parentNode;}_67=_73;}}catch(e){}return _67;};$W._H.getAbsoluteLeft=function(_75){["WebSquare.style.getAbsoluteLeft"];var _76=0;try{if(!_75){return 0;}if(_75.getBoundingClientRect!=null){var _77=_75.getBoundingClientRect().left;var doc=_75.ownerDocument;var _79=doc.documentElement;var _7a=doc.body;var _7b=(doc.window===doc)?doc:(doc.nodeType===9?(doc.defaultView||doc.parentWindow):null);var _7c=_79.clientLeft||_7a.clientLeft||0;var _7d=_7b.pageXOffset||_79.scrollLeft;if($W._G.isIE(9)||$W._G.isIE(10)){_7d=_79.scrollLeft;}var _7e=_7a.getBoundingClientRect();var _7f=($W._G.isIE("6")||$W._G.isIE("7"))?((_7e.right-_7e.left)/_7a.offsetWidth):1;_76=(_77+_7d-_7c)/_7f;}else{var _80=0;var _81=_75;var _82=_75;while(_81.tagName!="BODY"){var _83=$W._G.parseFloat($W._G.getStyleProperty(_81,"border-left-width"),0);if($W._G.isOpera()){_83=0;}var _77=_81.offsetLeft;if($W._G.getStyleProperty(_81,"position")=="fixed"){if(typeof $W._G.getStyleProperty(_81,"left")=="number"){_77=$W._G.parseFloat($W._G.getStyleProperty(_81,"left"),0);}if(!$W._G.isIE("6")){_80+=_77+_83-_81.scrollLeft+(window.scrollX||document.documentElement.scrollLeft);break;}}else{if($W._G.getStyleProperty(_81,"position")!="static"||_82==_81){_80+=_77+_83-_81.scrollLeft;}else{_80-=_81.scrollLeft;}}_81=_81.parentNode;}_76=_80;}}catch(e){}return _76;};$W._H.getRelativeTop=function(_84,_85){["WebSquare.style.getRelativeTop"];var _86=0;try{_86=$W._H.getAbsoluteTop(_84)-$W._H.getAbsoluteTop(_85);}catch(e){}return _86;};$W._H.getRelativeLeft=function(_87,_88){["WebSquare.style.getRelativeLeft"];var _89=0;try{_89=$W._H.getAbsoluteLeft(_87)-$W._H.getAbsoluteLeft(_88);}catch(e){}return _89;};;WebSquare.style=$W._H;$W._p={};$W.IValidate=function(){};$W.IValidate.prototype.validate=function(){return true;};$W.IValidate.prototype.setMandatory=function(_1){if(this.validator){if(_1==false){this.validator.removeCommand(new $W._p.mandatoryCommand(this.options.mandatory));}else{this.validator.addCommand(new $W._p.mandatoryCommand(_1));}this.onPropertyChange("mandatory",_1);}this.options.mandatory=_1;};$W.IValidate.prototype.getMandatory=function(){return this.options.mandatory;};$W.IValidate.prototype.setMinLength=function(_2){if(this.validator){this.validator.removeCommand(new $W._p.minLengthCommand(this.options.minLength));this.validator.addCommand(new $W._p.minLengthCommand(_2));}this.options.minlength=_2;};$W.IValidate.prototype.getMinLength=function(){return this.options.minlength;};$W.IValidate.prototype.setMaxLength=function(_3){if(this.validator){this.validator.removeCommand(new $W._p.maxLengthCommand(this.options.maxLength));this.validator.addCommand(new $W._p.maxLengthCommand(_3));}this.options.maxlength=_3;};$W.IValidate.prototype.getMaxLength=function(){return this.options.maxlength;};$W.IValidate.prototype.setMinByteLength=function(_4){if(this.validator){this.validator.removeCommand(new $W._p.minByteLengthCommand(this.options.minByteLength));this.validator.addCommand(new $W._p.minByteLengthCommand(_4));}this.options.minByteLength=_4;};$W.IValidate.prototype.getMinByteLength=function(){return this.options.minByteLength;};$W.IValidate.prototype.setMaxByteLength=function(_5){if(this.validator){this.validator.removeCommand(new $W._p.maxByteLengthCommand(this.options.maxByteLength));this.validator.addCommand(new $W._p.maxByteLengthCommand(_5));}this.options.maxByteLength=_5;};$W.IValidate.prototype.getMaxByteLength=function(){return this.options.maxByteLength;};$W.IValidate.prototype.getAllowChar=function(){return this.options.allowChar;};$W.IValidate.prototype.setIgnoreChar=function(_6){this.options.ignoreChar=_6;};$W.IValidate.prototype.getIgnoreChar=function(){return this.options.ignoreChar;};$W.IValidate.prototype.getDisplayMessage=function(){return this.options.displaymessage;};$W.IValidate.prototype.getInvalidMessage=function(){return this.options.invalidMessage;};$W._p.validateCommand=function(){};$W._p.validateCommand.prototype.executeValidate=function(_7){alert("you should override 'executeValidate'");return true;};$W._p.validateCommand.prototype.executeValidateString=function(_8){alert("you should override 'executeValidateString'");return _8;};$W._p.validateCommand.prototype.executeValidateKeyPress=function(_9,_a,e){alert("you should override 'executeValidateKeyPress'");return true;};$W._p.validateCommand.prototype.executeInvalidMessage=function(){alert("you should override 'executeInvalidMessage'");return "invalidMessage";};$W._p.validateCommand.prototype.getType=function(){alert("you should override 'getType'");return "";};$W._p.validateCommand.prototype.getValue=function(){alert("you should override 'getValue'");return "";};$W._p.invalidObject=function(_c,_d){["WebSquare.validator.invalidObject"];try{this.invalidCommand=_d;this.callerId=_c;}catch(e){$W.exception.printStackTrace(e);}};$W._p.invalidObject.prototype.getCaller=function(){var _e=null;try{_e=$W._N.getComponentById(this.callerId);}catch(e){}return _e;};$W._p.invalidObject.prototype.getType=function(){if(this.invalidCommand){return this.invalidCommand.getType();}return "";};$W._p.invalidObject.prototype.getValue=function(){if(this.invalidCommand){return this.invalidCommand.getValue();}return "";};$W._p.invalidObject.prototype.getPrefix=function(){return null;};$W._p.validateInvoker=function(id,_10){["WebSquare.validator.validateInvoker"];try{this.commandList=[];this.invalidMessage=_10.invalidMessage||"";this.displaymessage=_10.displaymessage||false;this.invalidMessageFunc=_10.invalidMessageFunc||null;if(this.invalidMessageFunc){if(this.invalidMessageFunc.indexOf("(")<0){this.invalidMessageFunc+="()";}this.invalidMsgFuncName=this.invalidMessageFunc.substring(0,this.invalidMessageFunc.indexOf("("));this.tmpFunc=this.invalidMessageFunc.replace(this.invalidMsgFuncName,"this.doValidate");}this.callerId=id;if(typeof _10.mandatory!="undefined"&&_10.mandatory==true){this.addCommand(new $W._p.mandatoryCommand(_10.mandatory));}if(typeof _10.allowChar!="undefined"&&_10.allowChar!=""){this.addCommand(new $W._p.allowCharCommand(_10.allowChar));}if(typeof _10.ignoreChar!="undefined"&&_10.ignoreChar!=""){this.addCommand(new $W._p.ignoreCharCommand(_10.ignoreChar));}if(typeof _10.maxlength!="undefined"&&_10.maxlength!=-1){this.addCommand(new $W._p.maxLengthCommand(_10.maxlength));}if(typeof _10.minlength!="undefined"&&_10.minlength!=-1){this.addCommand(new $W._p.minLengthCommand(_10.minlength));}if(typeof _10.maxByteLength!="undefined"&&_10.maxByteLength!=-1){this.addCommand(new $W._p.maxByteLengthCommand(_10.maxByteLength));}if(typeof _10.minByteLength!="undefined"&&_10.minByteLength!=-1){this.addCommand(new $W._p.minByteLengthCommand(_10.minByteLength));}if(typeof _10.validator!="undefined"&&_10.validator!=""){this.addCommand(new $W._p.commandAdapter(_10.validator));}}catch(e){$W.exception.printStackTrace(e);}};$W._p.validateInvoker.prototype.addCommand=function(_11,_12){["WebSquare.validator.validateInvoker.addCommand"];try{if(_12===true){this.commandList.unshift(_11);}else{this.commandList.push(_11);}}catch(e){$W.exception.printStackTrace(e);}};$W._p.validateInvoker.prototype.removeCommand=function(_13){["WebSquare.validator.validateInvoker.removeCommand"];try{var _14=new Array();for(var i=0;i<this.commandList.length;i++){if(this.commandList[i].getType()!=_13.getType()){_14.push(this.commandList[i]);}}this.commandList=_14;}catch(e){$W.exception.printStackTrace(e);}};$W._p.validateInvoker.prototype.clearCommand=function(){["WebSquare.validator.validateInvoker.clearCommand"];try{this.commandList=null;this.commandList=[];}catch(e){$W.exception.printStackTrace(e);}};$W._p.validateInvoker.prototype.applyPriority=function(){["WebSquare.validator.validateInvoker.applyPriority"];try{}catch(e){$W.exception.printStackTrace(e);}};$W._p.validateInvoker.prototype.validate=function(_16){["WebSquare.validator.validateInvoker.validate"];try{var _17=true;var _18="";this.obfuscator_invalidObject=null;for(var i=0;i<this.commandList.length;i++){if(!this.commandList[i].executeValidate(_16)){_17=false;var _1a=this.commandList[i].executeInvalidMessage();_18+=(_1a+"\n");this.obfuscator_invalidObject=new $W._p.invalidObject(this.callerId,this.commandList[i]);break;}}if(_17==false){if(this.invalidMessage!=""){_18=this.invalidMessage;}if(this.invalidMessageFunc&&this.obfuscator_invalidObject){_18=eval(this.tmpFunc);}if(this.displaymessage==true){alert(_18);}}return _17;}catch(e){$W.exception.printStackTrace(e);}};$W._p.validateInvoker.prototype.doValidate=function(){var _1b=eval(this.invalidMsgFuncName);var ret=_1b.apply(this.obfuscator_invalidObject,arguments);return ret;};$W._p.validateInvoker.prototype.validateString=function(_1d){["WebSquare.validator.validateInvoker.validateString"];try{this.applyPriority();for(var i=0;i<this.commandList.length;i++){_1d=this.commandList[i].executeValidateString(_1d);}return _1d;}catch(e){$W.exception.printStackTrace(e);}};$W._p.validateInvoker.prototype.validateKeyPress=function(_1f,_20,e){["WebSquare.validator.validateInvoker.validateKeyPress"];try{var _22=true;for(var i=0;i<this.commandList.length;i++){if(!this.commandList[i].executeValidateKeyPress(_1f,_20,e)){_22=false;break;}}return _22;}catch(e){$W.exception.printStackTrace(e);}};$W._p.mandatoryCommand=function(_24){this.mandatory=_24;};$W.extend($W._p.mandatoryCommand.prototype,$W._p.validateCommand.prototype);$W._p.mandatoryCommand.prototype.getType=function(){return "mandatory";};$W._p.mandatoryCommand.prototype.getValue=function(){return "";};$W._p.mandatoryCommand.prototype.executeValidate=function(_25){["WebSquare.validator.mandatoryCommand.executeValidate"];try{if(_25!=""){return true;}else{return false;}}catch(e){$W.exception.printStackTrace(e);}};$W._p.mandatoryCommand.prototype.executeValidateString=function(_26){return _26;};$W._p.mandatoryCommand.prototype.executeValidateKeyPress=function(_27){return true;};$W._p.mandatoryCommand.prototype.executeInvalidMessage=function(){var _28=$W._m.getMessage("V_error_mandatory");return _28;};$W._p.maxLengthCommand=function(max){this.maxLength=max||0;};$W.extend($W._p.maxLengthCommand.prototype,$W._p.validateCommand.prototype);$W._p.maxLengthCommand.prototype.getType=function(){return "maxLength";};$W._p.maxLengthCommand.prototype.getValue=function(){return this.maxLength;};$W._p.maxLengthCommand.prototype.executeValidate=function(_2a){var _2b=true;if(_2a.length>this.minLength){_2b=false;}return _2b;};$W._p.maxLengthCommand.prototype.executeValidateString=function(_2c){["WebSquare.validator.maxLengthCommand.executeValidateString"];try{if(_2c&&_2c.length>this.maxLength){_2c=_2c.substr(0,this.maxLength);}return _2c;}catch(e){$W.exception.printStackTrace(e);}};$W._p.maxLengthCommand.prototype.executeValidateKeyPress=function(_2d,_2e,e){["WebSquare.validator.maxLengthCommand.executeValidateKeyPress"];try{_2d.maxLength=this.maxLength;return true;}catch(e){$W.exception.printStackTrace(e);}};$W._p.maxLengthCommand.prototype.executeInvalidMessage=function(){var _30=$W._m.getMessage("V_error_maxLength",this.maxLength);return _30;};$W._p.minLengthCommand=function(min){this.minLength=min||0;};$W.extend($W._p.minLengthCommand.prototype,$W._p.validateCommand.prototype);$W._p.minLengthCommand.prototype.getType=function(){return "minLength";};$W._p.minLengthCommand.prototype.getValue=function(){return this.minLength;};$W._p.minLengthCommand.prototype.executeValidate=function(_32){["WebSquare.validator.minLengthCommand.executeValidate"];try{var _33=true;if(_32.length<this.minLength){_33=false;}return _33;}catch(e){$W.exception.printStackTrace(e);}};$W._p.minLengthCommand.prototype.executeValidateString=function(_34){return _34;};$W._p.minLengthCommand.prototype.executeValidateKeyPress=function(_35,_36,e){return true;};$W._p.minLengthCommand.prototype.executeInvalidMessage=function(){var _38=$W._m.getMessage("V_error_minLength",this.minLength);return _38;};$W._p.maxByteLengthCommand=function(max){this.maxByteLength=max||0;};$W.extend($W._p.maxByteLengthCommand.prototype,$W._p.validateCommand.prototype);$W._p.maxByteLengthCommand.prototype.getType=function(){return "maxByteLength";};$W._p.maxByteLengthCommand.prototype.getValue=function(){return this.maxByteLength;};$W._p.maxByteLengthCommand.prototype.executeValidate=function(_3a){try{var _3b=true;var _3c=$W._G.getStringByteSize(_3a);if(_3c>this.maxByteLength){_3b=false;}return _3b;}catch(e){$W.exception.printStackTrace(e);}};$W._p.maxByteLengthCommand.prototype.executeValidateString=function(_3d){["WebSquare.validator.maxByteLengthCommand.executeValidateString"];try{var _3e=$W._G.getStringByteSize(_3d);while(_3d.length>0&&_3e>this.maxByteLength){_3d=_3d.substr(0,_3d.length-1);_3e=$W._G.getStringByteSize(_3d);}return _3d;}catch(e){$W.exception.printStackTrace(e);}};$W._p.maxByteLengthCommand.prototype.executeValidateKeyPress=function(_3f,_40,e){["WebSquare.validator.maxByteLengthCommand.executeValidateKeyPress"];return true;};$W._p.maxByteLengthCommand.prototype.executeInvalidMessage=function(){var _42=$W._m.getMessage("V_error_maxByteLength",this.maxByteLength);return _42;};$W._p.minByteLengthCommand=function(min){this.minByteLength=min||0;};$W.extend($W._p.minByteLengthCommand.prototype,$W._p.validateCommand.prototype);$W._p.minByteLengthCommand.prototype.getType=function(){return "minByteLength";};$W._p.minByteLengthCommand.prototype.getValue=function(){return this.minByteLength;};$W._p.minByteLengthCommand.prototype.executeValidate=function(_44){["WebSquare.validator.minByteLengthCommand.executeValidate"];try{var _45=true;var _46=$W._G.getStringByteSize(_44);if(_46<this.minByteLength){_45=false;}return _45;}catch(e){$W.exception.printStackTrace(e);}};$W._p.minByteLengthCommand.prototype.executeValidateString=function(_47){return _47;};$W._p.minByteLengthCommand.prototype.executeValidateKeyPress=function(_48,_49,e){return true;};$W._p.minByteLengthCommand.prototype.executeInvalidMessage=function(){var _4b=$W._m.getMessage("V_error_minByteLength",this.minByteLength);return _4b;};$W._p.allowCharCommand=function(_4c){this.allowChar=_4c;this.regExp=new RegExp("["+_4c+"]","g");};$W.extend($W._p.allowCharCommand.prototype,$W._p.validateCommand.prototype);$W._p.allowCharCommand.prototype.getType=function(){return "allowChar";};$W._p.allowCharCommand.prototype.getValue=function(){return this.allowChar;};$W._p.allowCharCommand.prototype.executeValidate=function(_4d){["WebSquare.validator.allowCharCommand.executeValidate"];try{var _4e=true;if(_4d!=""){if(!_4d.match(this.regExp)){_4e=false;}}return _4e;}catch(e){$W.exception.printStackTrace(e);}};$W._p.allowCharCommand.prototype.executeValidateString=function(_4f){["WebSquare.validator.allowCharCommand.executeValidateString"];try{var _50=_4f.match(this.regExp);if(_50){_4f=_50.join("");}else{_4f="";}return _4f;}catch(e){$W.exception.printStackTrace(e);}};$W._p.allowCharCommand.prototype.executeValidateKeyPress=function(_51,_52,e){["WebSquare.validator.allowCharCommand.executeValidateKeyPress"];try{var _54=true;if(e){var _55=(e.charCode)?e.charCode:e.keyCode;var _56=String.fromCharCode(_55);if(!_56.match(this.regExp)){_54=false;}if($W._G.isFF()&&e.charCode==0){_54=true;}if($W._G.isOpera()){if($W._G.isOpera()){if($W._G.getIgnoreKeyPressCodes()[_55]){_54=true;}}}}return _54;}catch(e){$W.exception.printStackTrace(e);}};$W._p.allowCharCommand.prototype.executeInvalidMessage=function(){var _57=$W._m.getMessage("V_error_allowChar",this.allowChar);return _57;};$W._p.ignoreCharCommand=function(_58){this.ignoreChar=_58;this.regExp=new RegExp("["+_58+"]","g");};$W.extend($W._p.ignoreCharCommand.prototype,$W._p.validateCommand.prototype);$W._p.ignoreCharCommand.prototype.getType=function(){return "ignoreChar";};$W._p.ignoreCharCommand.prototype.getValue=function(){return this.ignoreChar;};$W._p.ignoreCharCommand.prototype.executeValidate=function(_59){["WebSquare.validator.ignoreCharCommand.executeValidate"];try{var _5a=true;if(_59!=""){if(_59.match(this.regExp)){_5a=false;}}return _5a;}catch(e){$W.exception.printStackTrace(e);}};$W._p.ignoreCharCommand.prototype.executeValidateString=function(_5b){["WebSquare.validator.ignoreCharCommand.executeValidateString"];try{_5b=_5b.replace(this.regExp,"");return _5b;}catch(e){$W.exception.printStackTrace(e);}};$W._p.ignoreCharCommand.prototype.executeValidateKeyPress=function(_5c,_5d,e){["WebSquare.validator.ignoreCharCommand.executeValidateKeyPress"];try{var _5f=true;if(e){var _60=(e.charCode)?e.charCode:e.keyCode;var _61=String.fromCharCode(_60);if(_61.match(this.regExp)){_5f=false;}}return _5f;}catch(e){$W.exception.printStackTrace(e);}};$W._p.ignoreCharCommand.prototype.executeInvalidMessage=function(){var _62=$W._m.getMessage("V_error_ignoreChar",this.ignoreChar);return _62;};$W._p.numberCommand=function(_63,_64){if(!_63){_63=",";}if(!_64){_64=".";}this.pattern=new RegExp("^[+-]?[0-9]*["+_64+"]?[0-9]*");this.delimeter=_63;this.decimalDelimeter=_64;};$W.extend($W._p.numberCommand.prototype,$W._p.validateCommand.prototype);$W._p.numberCommand.prototype.getType=function(){return "number";};$W._p.numberCommand.prototype.getValue=function(){return "";};$W._p.numberCommand.prototype.executeValidate=function(_65){["WebSquare.validator.numberCommand.executeValidate"];try{return true;}catch(e){$W.exception.printStackTrace(e);}};$W._p.numberCommand.prototype.executeValidateString=function(_66){["WebSquare.validator.numberCommand.executeValidateString"];try{var _67=_66.match(/[0-9\+\-\.]+/g);if(_67){_66=_67.join("");}else{_66="";}return _66;}catch(e){$W.exception.printStackTrace(e);}};$W._p.numberCommand.prototype.executeValidateKeyPress=function(_68,_69,e){["WebSquare.validator.numberCommand.executeValidateKeyPress"];try{var _6b=true;if(e){var _6c=$W._c.getTarget(e);var _6d=(e.charCode)?e.charCode:e.keyCode;var _6e=String.fromCharCode(_6d);var _6f=$W._A.getSelection(_68);var _70=_69.substr(0,_6f.start)+_6e+_69.substr(_6f.end);var _71=_70.match(this.pattern);if(_71&&_71+""==_70){_6b=true;}else{_6b=false;}if($W._G.isFF()&&e.charCode==0){_6b=true;}else{if($W._G.isOpera()){if($W._G.getIgnoreKeyPressCodes()[_6d]){_6b=true;}}}}return _6b;}catch(e){$W.exception.printStackTrace(e);}};$W._p.numberCommand.prototype.executeInvalidMessage=function(){return "";};$W._p.digitCommand=function(_72,_73){if(!_72){_72=",";}if(!_73){_73=".";}this.delimeter=_72;this.decimalDelimeter=_73;};$W.extend($W._p.digitCommand.prototype,$W._p.validateCommand.prototype);$W._p.digitCommand.prototype.getType=function(){return "digit";};$W._p.digitCommand.prototype.getValue=function(){return "";};$W._p.digitCommand.prototype.executeValidate=function(_74){["WebSquare.validator.digitCommand.executeValidate"];try{return true;}catch(e){$W.exception.printStackTrace(e);}};$W._p.digitCommand.prototype.executeValidateString=function(_75){["WebSquare.validator.digitCommand.executeValidateString"];try{var _76="";if(_75.charAt(0)==="+"||_75.charAt(0)==="-"){_76=_75.charAt(0);_75=_75.substr(1);}var _77=_75.match(/[^0]+[0-9]*/g);if(_77!=null){var _78="";if(_75.match(/^0+[^0-9]/)!=null){_78="0";}_77=_78+_77.join("");}else{if(_75!==""){_77="0";}else{_77="";}}_75=_76+_77;return _75;}catch(e){$W.exception.printStackTrace(e);}};$W._p.digitCommand.prototype.executeValidateKeyPress=function(_79,_7a,e){["WebSquare.validator.digitCommand.executeValidateKeyPress"];return true;};$W._p.digitCommand.prototype.executeInvalidMessage=function(){return "";};$W._p.dateCommand=function(){requires("uiplugin/helper/dateHelper.js");this.dateHelper=new $W._a._C();};$W.extend($W._p.dateCommand.prototype,$W._p.validateCommand.prototype);$W._p.dateCommand.prototype.getType=function(){return "date";};$W._p.dateCommand.prototype.getValue=function(){return "";};$W._p.dateCommand.prototype.executeValidate=function(_7c){["WebSquare.validator.dateCommand.executeValidate"];try{var _7d=true;switch(_7c.length){case 6:var _7e=_7c.substr(0,4);var _7f=_7c.substr(4,2);if(isNaN(parseInt(_7f,10))||parseInt(_7f,10)<1||parseInt(_7f,10)>12){_7d=false;}break;case 8:var _7e=_7c.substr(0,4);var _7f=_7c.substr(4,2);var _80=_7c.substr(6,2);if(isNaN(parseInt(_7f,10))||parseInt(_7f,10)<1||parseInt(_7f,10)>12){_7d=false;}var _81=this.dateHelper.getMonthCount(_7e,_7f);if(isNaN(parseInt(_80,10))||parseInt(_80,10)<1||parseInt(_80,10)>_81){_7d=false;}break;case 10:var _7e=_7c.substr(0,4);var _7f=_7c.substr(4,2);var _80=_7c.substr(6,2);var _82=_7c.substr(8,2);if(isNaN(parseInt(_7f,10))||parseInt(_7f,10)<1||parseInt(_7f,10)>12){_7d=false;}var _81=this.dateHelper.getMonthCount(_7e,_7f);if(isNaN(parseInt(_80,10))||parseInt(_80,10)<1||parseInt(_80,10)>_81){_7d=false;}if(isNaN(parseInt(_82,10))||parseInt(_82,10)<0||parseInt(_82,10)>23){_7d=false;}break;case 12:var _7e=_7c.substr(0,4);var _7f=_7c.substr(4,2);var _80=_7c.substr(6,2);var _82=_7c.substr(8,2);var _83=_7c.substr(10,2);if(isNaN(parseInt(_7f,10))||parseInt(_7f,10)<1||parseInt(_7f,10)>12){_7d=false;}var _81=this.dateHelper.getMonthCount(_7e,_7f);if(isNaN(parseInt(_80,10))||parseInt(_80,10)<1||parseInt(_80,10)>_81){_7d=false;}if(isNaN(parseInt(_82,10))||parseInt(_82,10)<0||parseInt(_82,10)>23){_7d=false;}if(isNaN(parseInt(_83,10))||parseInt(_83,10)<0||parseInt(_83,10)>59){_7d=false;}break;case 14:var _7e=_7c.substr(0,4);var _7f=_7c.substr(4,2);var _80=_7c.substr(6,2);var _82=_7c.substr(8,2);var _83=_7c.substr(10,2);var _84=_7c.substr(12,2);if(isNaN(parseInt(_7f,10))||parseInt(_7f,10)<1||parseInt(_7f,10)>12){_7d=false;}var _81=this.dateHelper.getMonthCount(_7e,_7f);if(isNaN(parseInt(_80,10))||parseInt(_80,10)<1||parseInt(_80,10)>_81){_7d=false;}if(isNaN(parseInt(_82,10))||parseInt(_82,10)<0||parseInt(_82,10)>23){_7d=false;}if(isNaN(parseInt(_83,10))||parseInt(_83,10)<0||parseInt(_83,10)>59){_7d=false;}if(isNaN(parseInt(_84,10))||parseInt(_84,10)<0||parseInt(_84,10)>59){_7d=false;}break;default:_7d=false;break;}return _7d;}catch(e){$W.exception.printStackTrace(e);}};$W._p.dateCommand.prototype.executeValidateString=function(_85){["WebSquare.validator.dateCommand.executeValidateString"];try{return _85;}catch(e){$W.exception.printStackTrace(e);}};$W._p.dateCommand.prototype.executeValidateKeyPress=function(_86,_87,e){["WebSquare.validator.dateCommand.executeValidateKeyPress"];try{return true;}catch(e){$W.exception.printStackTrace(e);}};$W._p.dateCommand.prototype.executeInvalidMessage=function(){var _89=$W._m.getMessage("V_error_date");return _89;};$W._p.euroCommand=function(_8a,_8b){if(!_8a){_8a=".";}if(!_8b){_8b=",";}this.pattern=new RegExp("^[0-9]*["+_8b+"]?[0-9]*");this.delimeter=_8a;this.decimalDelimeter=_8b;};$W.extend($W._p.euroCommand.prototype,$W._p.validateCommand.prototype);$W._p.euroCommand.prototype.getType=function(){return "euro";};$W._p.euroCommand.prototype.getValue=function(){return "";};$W._p.euroCommand.prototype.executeValidate=function(_8c){["WebSquare.validator.euroCommand.executeValidate"];try{return true;}catch(e){$W.exception.printStackTrace(e);}};$W._p.euroCommand.prototype.executeValidateString=function(_8d){["WebSquare.validator.euroCommand.executeValidateString"];try{var _8e=_8d.match(new RegExp("[0-9\\"+this.decimalDelimeter+"]+","g"));if(_8e){_8d=_8e.join("");}else{_8d="";}return _8d;}catch(e){$W.exception.printStackTrace(e);}};$W._p.euroCommand.prototype.executeValidateKeyPress=function(_8f,_90,e){["WebSquare.validator.euroCommand.executeValidateKeyPress"];try{var _92=true;if(e){var _93=$W._c.getTarget(e);var pos=$W._A.getCaretPos(_93);var _95=(e.charCode)?e.charCode:e.keyCode;var _96=String.fromCharCode(_95);var _97=_90.substr(0,pos)+_96+_90.substr(pos);var _98=_97.match(this.pattern);if(_98&&_98+""==_97){_92=true;}else{_92=false;}if($W._G.isFF()&&e.charCode==0){_92=true;}else{if($W._G.isOpera()){if($W._G.getIgnoreKeyPressCodes()[_95]){_92=true;}}}}return _92;}catch(e){$W.exception.printStackTrace(e);}};$W._p.euroCommand.prototype.executeInvalidMessage=function(){return "";};$W._p.rupeeCommand=function(_99,_9a){if(!_99){_99=".";}if(!_9a){_9a=",";}this.pattern=new RegExp("^[0-9]*["+_9a+"]?[0-9]*");this.delimeter=_99;this.decimalDelimeter=_9a;};$W.extend($W._p.rupeeCommand.prototype,$W._p.validateCommand.prototype);$W._p.rupeeCommand.prototype.getType=function(){return "rupee";};$W._p.rupeeCommand.prototype.getValue=function(){return "";};$W._p.rupeeCommand.prototype.executeValidate=function(_9b){["WebSquare.validator.rupeeCommand.executeValidate"];try{return true;}catch(e){$W.exception.printStackTrace(e);}};$W._p.rupeeCommand.prototype.executeValidateString=function(_9c){["WebSquare.validator.rupeeCommand.executeValidateString"];try{var _9d=_9c.match(new RegExp("[0-9\\"+this.decimalDelimeter+"]+","g"));if(_9d){_9c=_9d.join("");}else{_9c="";}return _9c;}catch(e){$W.exception.printStackTrace(e);}};$W._p.rupeeCommand.prototype.executeValidateKeyPress=function(_9e,_9f,e){["WebSquare.validator.rupeeCommand.executeValidateKeyPress"];try{var _a1=true;if(e){var _a2=$W._c.getTarget(e);var pos=$W._A.getCaretPos(_a2);var _a4=(e.charCode)?e.charCode:e.keyCode;var _a5=String.fromCharCode(_a4);var _a6=_9f.substr(0,pos)+_a5+_9f.substr(pos);var _a7=_a6.match(this.pattern);if(_a7&&_a7+""==_a6){_a1=true;}else{_a1=false;}if($W._G.isFF()&&e.charCode==0){_a1=true;}else{if($W._G.isOpera()){if($W._G.getIgnoreKeyPressCodes()[_a4]){_a1=true;}}}}return _a1;}catch(e){$W.exception.printStackTrace(e);}};$W._p.rupeeCommand.prototype.executeInvalidMessage=function(){return "";};$W._p.tengeCommand=function(_a8,_a9){if(!_a8){_a8=" ";}if(!_a9){_a9="-";}this.pattern=new RegExp("^[0-9]*["+_a9+"]?[0-9]*");this.delimeter=_a8;this.decimalDelimeter=_a9;};$W.extend($W._p.tengeCommand.prototype,$W._p.validateCommand.prototype);$W._p.tengeCommand.prototype.getType=function(){return "tenge";};$W._p.tengeCommand.prototype.getValue=function(){return "";};$W._p.tengeCommand.prototype.executeValidate=function(_aa){["WebSquare.validator.tengeCommand.executeValidate"];try{return true;}catch(e){$W.exception.printStackTrace(e);}};$W._p.tengeCommand.prototype.executeValidateString=function(_ab){["WebSquare.validator.tengeCommand.executeValidateString"];try{var _ac=_ab.match(new RegExp("[0-9\\"+this.decimalDelimeter+"]+","g"));if(_ac){_ab=_ac.join("");}else{_ab="";}return _ab;}catch(e){$W.exception.printStackTrace(e);}};$W._p.tengeCommand.prototype.executeValidateKeyPress=function(_ad,_ae,e){["WebSquare.validator.tengeCommand.executeValidateKeyPress"];try{var _b0=true;if(e){var _b1=$W._c.getTarget(e);var pos=$W._A.getCaretPos(_b1);var _b3=(e.charCode)?e.charCode:e.keyCode;var _b4=String.fromCharCode(_b3);var _b5=_ae.substr(0,pos)+_b4+_ae.substr(pos);var _b6=_b5.match(this.pattern);if(_b6&&_b6+""==_b5){_b0=true;}else{_b0=false;}if($W._G.isFF()&&e.charCode==0){_b0=true;}else{if($W._G.isOpera()){if($W._G.getIgnoreKeyPressCodes()[_b3]){_b0=true;}}}}return _b0;}catch(e){$W.exception.printStackTrace(e);}};$W._p.tengeCommand.prototype.executeInvalidMessage=function(){return "";};$W._p.commandAdapter=function(_b7){this.userFunc=_b7;};$W.extend($W._p.commandAdapter.prototype,$W._p.validateCommand.prototype);$W._p.commandAdapter.prototype.executeValidate=function(_b8){return true;};$W._p.commandAdapter.prototype.getType=function(){return "user";};$W._p.commandAdapter.prototype.getValue=function(){return "";};$W._p.commandAdapter.prototype.executeValidateString=function(_b9){["WebSquare.validator.commandAdapter.executeValidateString"];try{if(typeof this.userFunc!="function"){try{this.userFunc=eval(this.userFunc);}catch(e){}}if(typeof this.userFunc=="function"){_b9=this.userFunc(_b9);}return _b9;}catch(e){$W.exception.printStackTrace(e);}};$W._p.commandAdapter.prototype.executeValidateKeyPress=function(_ba,_bb,e){return true;};$W._p.commandAdapter.prototype.executeInvalidMessage=function(){return "";};;WebSquare.validator=$W._p;$W._f={commandList:[],testFrame:null,currentTestCount:-1,totalTestCount:-1,lock:false,options:{interval:0,showSuccess:true,showLog:false}};$W._f.start=function(){["WebSquare.wUnit.start"];try{this.testFrame=parent.document.getElementById("testFrame");this.testSuiteFrame=parent.document.getElementById("testSuiteFrame");this.selenium_myiframe=parent.document.getElementById("selenium_myiframe");this.commandList=[];this.currentTestCount=-1;this.totalTestCount=-1;this.totalTestCount=-1;this.lock=false;}catch(e){$W.exception.printStackTrace(e);}};$W._f.stop=function(){};$W._f.log=function(){["WebSquare.wUnit.log"];try{var _1=true;var _2=[];for(var i=0;i<this.commandList.length;i++){if(this.commandList[i].success==false){_2.push(i);$l("--fail.."+i);_1=false;}}if($W.logger.getErrorLog()!=""){_1=false;}$lobj2(this.commandList,{log:true});$l("  wUnit TEST : "+_1);if(this.options.showSuccess==true){if(_1){alert("wUnit Test SUCCESS");}else{alert("wUnit Test FAIL "+_2.length+"\n see : "+_2);}}if(_1==false||this.options.showLog==true){$W.logger.showLog();}}catch(e){$W.exception.printStackTrace(e);}};$W._f.runTimeout=function(){["WebSquare.wUnit.runTimeout"];try{var _4=this;var _5=_4.options.interval;if(this.currentTestCount<this.commandList.length){if(this.commandList[this.currentTestCount].command=="pause"){_5=_5+parseInt(this.commandList[this.currentTestCount].target);}}setTimeout(function(){var _6=_4.executeCommand(_4.currentTestCount);if(_6){_4.currentTestCount++;_4.runTimeout();}else{_4.log();}},_5);}catch(e){$W.exception.printStackTrace(e);}};$W._f.run=function(){["WebSquare.wUnit.run"];try{var _7=$W._G.getBoolean($W._r.getParameter("bySelenium"));if(_7==true){}else{this.currentTestCount=0;this.totalTestCount=this.commandList.length;this.runTimeout();}}catch(e){$W.exception.printStackTrace(e);}};$W._f.executeCommand=function(_8){["WebSquare.wUnit.executeCommand"];try{if(_8>this.commandList.length||!this.commandList[_8]){return false;}var _9=this.commandList[_8].command;switch(_9){case "set":eval(this.commandList[_8].target);this.commandList[_8].success="pass";break;case "assert":var _a=eval(this.commandList[_8].target);if(typeof _a!="undefined"&&_a!=null){_a=_a.toString();}if(_a==this.commandList[_8].value){this.commandList[_8].success=true;this.commandList[_8].message="";}else{this.commandList[_8].success=false;this.commandList[_8].message="value '"+this.commandList[_8].value+"' is different from the actual value '"+_a+"'";}break;case "assertNot":var _a=eval(this.commandList[_8].target);if(typeof _a!="undefined"&&_a!=null){_a=_a.toString();}if(_a!=this.commandList[_8].value){this.commandList[_8].success=true;this.commandList[_8].message="";}else{this.commandList[_8].success=false;this.commandList[_8].message="value '"+this.commandList[_8].value+"' is same with the actual value '"+_a+"'";}break;case "object":break;case "exec":var _a=eval("this."+this.commandList[_8].target);this.commandList[_8].success="pass";break;case "assertExec":var _a=eval("this."+this.commandList[_8].target);if(typeof _a!="undefined"&&_a!=null){_a=_a.toString();}if(_a==this.commandList[_8].value){this.commandList[_8].success=true;this.commandList[_8].message="";}else{this.commandList[_8].success=false;this.commandList[_8].message="value '"+this.commandList[_8].value+"' is different from the actual value '"+_a+"'";}break;default:}}catch(e){$l("[wUnit] error to execute command.  idx:"+_8);$W.exception.printStackTrace(e);return false;}return true;};$W._f.setOptions=function(_b){$W.extend(this.options,_b);};$W._f.addCommand=function(_c,_d,_e){["WebSquare.wUnit.addCommand"];try{_c=_c||"";_d=_d||"";_e=_e||"";this.commandList.push({command:_c,target:_d,value:_e,success:null,message:""});}catch(e){$W.exception.printStackTrace(e);}};$W._f.click=function(id){["WebSquare.wUnit.click"];try{var dom=document.getElementById(id);if(dom){dom.click();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.editGridCell=function(id,row,col){["WebSquare.wUnit.editGridCell"];try{var dom=document.getElementById(id+"_cell_"+row+"_"+col);if(dom){dom.click();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.getGridScrollX=function(id){["WebSquare.wUnit.editGridCell"];try{var dom=document.getElementById(id+"_scrollX_right");if(dom){return dom.scrollLeft;}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.getGridScrollXRange=function(id,min,max){["WebSquare.wUnit.editGridCell"];try{var dom=document.getElementById(id+"_scrollX_right");if(dom){return min<=dom.scrollLeft&&dom.scrollLeft<=max;}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.checkCell=function(id){["WebSquare.wUnit.checkCell"];try{var dom=this.getEditCellDom(id);var _1d=$W._A.getSelection(dom);if(_1d.start!=_1d.end){return true;}return false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.getEditCellInfo=function(id){["WebSquare.wUnit.getEditCellInfo"];try{var _1f=$W._G.getComponentById(id);if(_1f){var col=_1f.getFocusedColumnIndex();var row=_1f.getFocusedRowIndex();var _22=document.getElementById(id+"_cell_"+row+"_"+col);if(_22){var _23=_1f.getCellInfo(_22);return _23;}}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.getEditCellDom=function(id){["WebSquare.wUnit.getEditCellDom"];try{var _25=$W._G.getComponentById(id);var _26=this.getEditCellInfo(id);var _27=_25.getFocusedColumnID();return document.getElementById(_26.mainGridId+_26.id);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.openGridCalendar=function(id){["WebSquare.wUnit.openCalendar"];try{var dom=this.getEditCellDom(id);if(dom){this.openCalendar(dom.id);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.openCalendar=function(id){["WebSquare.wUnit.openCalendar"];try{var dom=document.getElementById(id+"_img");if(dom){dom.click();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.openSelectbox=function(id){["WebSquare.wUnit.openCalendar"];try{var dom=document.getElementById(id+"_button");if(dom){dom.click();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.checkInputCalendarPos=function(id){["WebSquare.wUnit.checkInputCalendarPos"];try{return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.checkGridSelectboxPos=function(id){["WebSquare.wUnit.checkSelectboxPos"];try{var dom=this.getEditCellDom(id);if(dom){return this.checkSelectboxPos(dom.id);}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.checkSelectboxPos=function(id){["WebSquare.wUnit.checkSelectboxPos"];try{var _32=document.getElementById(id);var _33=$W._H.getAbsoluteLeft(_32);var _34=$W._H.getAbsoluteTop(_32);var _34=$W._H.getAbsoluteTop(_32);var _35=_32.offsetHeight;var _36=document.getElementById(id+"_itemTable");var _37=$W._H.getAbsoluteLeft(_36);var _38=$W._H.getAbsoluteTop(_36);var _39=_36.offsetHeight;if(Math.abs(_33-_37)<3&&(Math.abs(_34+_35-_38)<3||Math.abs(_38+_39-_34)<3)){return true;}return false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.keyinInput=function(_3a,_3b,_3c){["WebSquare.wUnit.keyinInput"];try{var obj=$W._N.getComponentById(_3c)||$W._G.getComponentById(_3a);var _3e=document.getElementById(_3a);if(obj&&_3e){if(obj.focus){obj.focus();}for(var i=0;i<_3b.length;i++){var _40=_3b.charCodeAt(i);var _41={charCode:_40,keyCode:_40,target:_3e};if(obj.handleKeydownEvent){obj.handleKeydownEvent(_41);$W._c.fireEvent(obj,"onkeydown","");}var _42;if(obj.handleKeypressEvent){_42=obj.validator.validateKeyPress(obj.render,obj.getValue(),_41);if(!_42){}else{_3e.value=_3e.value+String.fromCharCode(_40);}$W._c.fireEvent(obj,"onkeypress","");}if(obj.handleKeyupEvent){obj.handleKeyupEvent(_41);$W._c.fireEvent(obj,"onkeyup","");}}if(obj.blur){obj.blur();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.keyinInputCalendar=function(_43,_44){["WebSquare.wUnit.keyinInputCalendar"];try{var obj=$W._G.getComponentById(_43);var _46=document.getElementById(_43+"_input");if(obj&&_46){if(obj.focus){obj.focus();}for(var i=0;i<_44.length;i++){var _48=_44.charCodeAt(i);var _49={charCode:_48,keyCode:_48};if(obj.handleKeydownEvent){obj.handleKeydownEvent(_49);}var _4a;if(obj.handleKeypressEvent){_4a=obj.validator.validateKeyPress(obj.render,obj.getValue(),_49);if(!_4a){}else{_46.value=_46.value+String.fromCharCode(_48);}}if(obj.handleKeyupEvent){obj.handleKeyupEvent(_49);}}if(obj.blur){obj.blur();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.keyinGridCell=function(_4b,_4c,_4d){["WebSquare.wUnit.keyinGridCell"];try{var _4e=$W._G.getComponentById((_4d||"grid1"));var td=document.getElementById(_4b);var _50=_4e.getCellInfo(td);var obj=_4e.dom[_50.mainGridId+_50.id];var _52=document.getElementById(obj.id);if(obj&&_52){if(obj.focus){obj.focus();}for(var i=0;i<_4c.length;i++){var _54=_4c.charCodeAt(i);var _55={charCode:_54,keyCode:_54,target:_52};if(obj.handleKeydownEvent){obj.handleKeydownEvent(_55);}var _56;if(obj.handleKeypressEvent){_56=obj.validator.validateKeyPress(obj.render,obj.getValue(),_55);if(!_56){}else{_52.value=_52.value+String.fromCharCode(_54);}}if(obj.handleKeyupEvent){obj.handleKeyupEvent(_55);}}if(obj.blur){obj.blur();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.getGridCellDisplayData=function(id,_58){["WebSquare.wUnit.getGridCellDisplayData"];try{var dom=document.getElementById(id);var str=dom?dom.innerHTML:"";var _5b=/<[^<|>]*>/g;str=str.replace(_5b,"");return str;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.getInnerHTML=function(id,_5d){["WebSquare.wUnit.getInnerHTML"];try{var dom=document.getElementById(id);if(dom){return dom.innerHTML;}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.getProperty=function(id,_60){["WebSquare.wUnit.getProperty"];try{var dom=document.getElementById(id);if(dom){var _62=dom[_60];return _62;}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.getStyle=function(id,_64){["WebSquare.wUnit.getProperty"];try{var dom=document.getElementById(id);if(dom){var _66=$W._G.getStyleProperty(dom,_64);return _66;}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.doesExist=function(id){["WebSquare.wUnit.doesExist"];try{var dom=document.getElementById(id);if(dom){return true;}else{return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.isVisible=function(id){["WebSquare.wUnit.isVisible"];try{var dom=document.getElementById(id);if(dom){if($W._G.getStyleProperty(dom,"display")=="none"){return false;}if($W._G.getStyleProperty(dom,"visibility")=="hidden"){return false;}if(dom.offsetWidth==0||dom.offsetHeight==0){return false;}return true;}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._f.clickSelectboxIndex=function(id,idx){var _6d=$W._G.getComponentById(id);if(_6d.options.renderType=="native"){_6d.setSelectedIndex(idx);}else{$W._f.click(id+"_button");var _6e=document.getElementById(id+"_itemTable");var _6f=_6e.firstChild.firstChild.childNodes;setTimeout(function(){_6f[idx].firstChild.click();},20);}};$W._f.getTextNode=function(id){var obj=document.getElementById(id);var _72=obj.firstChild;return _72.data;};$W._f.compareXML=function(src,_74,_75,_76){var _77=src.documentElement;var _78=_74.documentElement;var _79=$W._f.compareNode(_77,_78,_75,_76);if(!_79){$l("\uc6d0\ubcf8 XML "+$W._B.indent(src));$l("\ube44\uad50\ub300\uc0c1 XML "+$W._B.indent(_74));}return _79;};$W._f.compareNode=function(src,_7b,_7c,_7d){if(src==null){$l("src node is null");return false;}if(_7b==null){$l("dest node is null");return false;}var _7e=src.nodeName;var _7f=_7b.nodeName;if(_7e==_7f){if(typeof _7d!="undefined"){for(var i=0;i<_7d.length;i++){src.removeAttribute(_7d[i]);_7b.removeAttribute(_7d[i]);}}if(_7c){var _81=src.attributes;for(var i=0;_81!=null&&i<_81.length;i++){var _82=_81[i];if($W.nodeValueDeprecated){if(_7b.getAttribute(_82.name)!=_82.value){$l("\uc18d\uc131 ["+_82.name+"] \uc774\uc804\uac12["+_82.value+"] \ubcc0\uacbd\ub41c\uac12["+_7b.getAttribute(_82.name)+"]");return false;}}else{if(_7b.getAttribute(_82.nodeName)!=_82.nodeValue){$l("\uc18d\uc131 ["+_82.nodeName+"] \uc774\uc804\uac12["+_82.nodeValue+"] \ubcc0\uacbd\ub41c\uac12["+_7b.getAttribute(_82.nodeName)+"]");return false;}}}}var _83=src.firstChild;var _84=_7b.firstChild;while(_83!=null){if(_84==null){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 \uac1c\uc218\uac00 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8\ub178\ub4dc\uc218["+src.childNodes.length+"] \ube44\uad50\ub300\uc0c1\ub178\ub4dc\uc218["+_7b.childNodes.length+"]");return false;}while(_83!=null&&(_83.nodeType==3||_83.nodeType==4||_83.nodeType==8)){_83=_83.nextSibling;}while(_84!=null&&(_84.nodeType==3||_84.nodeType==4||_84.nodeType==8)){_84=_84.nextSibling;}if(_83==null||_84==null){break;}if(_83.nodeType!=_84.nodeType){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 \uc885\ub958\uac00 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8["+_83.nodeType+"] \ube44\uad50\ub300\uc0c1["+_84.nodeType+"]");return false;}else{if(_83.nodeType==1){if(!$W._f.compareNode(_83,_84,_7c,_7d)){return false;}}else{if(_83.nodeType==3){if(_83.nodeValue!=destNode.nodeValue){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 TextNode \uac12\uc774 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8["+_83.nodeType+"] \ube44\uad50\ub300\uc0c1["+_84.nodeType+"]");return false;}}else{if(_83.nodeType==4){if(_83.nodeValue!=destNode.nodeValue){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 CData \uac12\uc774 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8["+_83.nodeType+"] \ube44\uad50\ub300\uc0c1["+_84.nodeType+"]");return false;}}}}}_83=_83.nextSibling;_84=_84.nextSibling;}if(_83!=null){while(_83!=null&&(_83.nodeType==8||_83.nodeType==3||_83.nodeType==4)){_83=_83.nextSibling;}if(_83!=null){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 \uac1c\uc218\uac00 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8\ub178\ub4dc\uc218["+src.childNodes.length+"] \ube44\uad50\ub300\uc0c1\ub178\ub4dc\uc218["+_7b.childNodes.length+"]");return false;}}if(_84!=null){while(_84!=null&&(_84.nodeType==8||_84.nodeType==3||_84.nodeType==4)){_84=_84.nextSibling;}if(_84!=null){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 \uac1c\uc218\uac00 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8\ub178\ub4dc\uc218["+src.childNodes.length+"] \ube44\uad50\ub300\uc0c1\ub178\ub4dc\uc218["+_7b.childNodes.length+"]");return false;}}}else{$l("\ub178\ub4dc\uc758 \uc774\ub984\uc774 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8["+src.nodeName+"] \ube44\uad50\ub300\uc0c1["+_7b.nodeName+"]");return false;}return true;};;WebSquare.wUnit=$W._f;$W._I={};$W._I.DefaultXML2JSONString=function(_1,_2){["WebSquare.json.DefaultXML2JSONString"];var _3="";var _4=[];if($W._B.isDocumentString(_1)){_1=$W._B.parse(_1);}if($W._B.isDocument(_1)){$W._I.XMLparseForJSON(_1.documentElement,_4,false);}_3=_4.join("");return _3;};$W._I.XML2JSONString=function(_5,_6){var _7=$W._N.getConfiguration("/WebSquare/json/xml2jsonFunction/@value");if(_7){$W._I.XML2JSONString=eval(_7);if($W._I.XML2JSONString){$W.logger.printLog("XML2JSON conversion rule exists in config.xml. [/WebSquare/json/@xml2jsonFunction]");}else{$W._I.XML2JSONString=$W._I.DefaultXML2JSONString;}}else{$W._I.XML2JSONString=$W._I.DefaultXML2JSONString;}return $W._I.XML2JSONString(_5,_6);};$W._I.parseType=function(_8){["WebSquare.json.parseType"];if(_8&&_8.childNodes&&_8.childNodes.length>0){var _9={};var _a=0;for(var i=0;i<_8.childNodes.length;i++){if(_8.childNodes[i].nodeType==1){if(_9[_8.childNodes[i].nodeName]==true){return "array";}_9[_8.childNodes[i].nodeName]=true;_a++;}}if(_a==0){return "string";}else{return "object";}}else{return "string";}};$W._I.XMLparseForJSON=function(_c,_d,_e){["WebSquare.json.XMLparseForJSON"];var _f=_c.getAttribute("type");if(!_f){_f=$W._I.parseType(_c);}if(_e){_d.push("\"");_d.push(_c.nodeName);_d.push("\" : ");}if(_f==="object"){var _10=true;_d.push("{");for(var i=0;i<_c.childNodes.length;i++){if(_c.childNodes[i].nodeType==1){if(_10){_10=false;}else{_d.push(", ");}_d.push($W._I.XMLparseForJSON(_c.childNodes[i],_d,true));}}_d.push("}");}else{if(_f==="array"){var _10=true;_d.push("[");for(var i=0;i<_c.childNodes.length;i++){if(_c.childNodes[i].nodeType==1){if(_10){_10=false;}else{_d.push(", ");}_d.push($W._I.XMLparseForJSON(_c.childNodes[i],_d,false));}}_d.push("]");}else{if(_f==="number"){if(_c.childNodes&&_c.childNodes[0].nodeValue){_d.push(_c.childNodes[0].nodeValue);}}else{if(_f==="true"){_d.push("true");}else{if(_f==="false"){_d.push("false");}else{if(_f==="null"){_d.push("null");}else{_d.push("\"");if(_c.childNodes&&_c.childNodes[0]){_d.push($W._B.decode(_c.childNodes[0].nodeValue).wq_replaceAll("\\","\\\\").wq_replaceAll("\"","\\\"").wq_replaceAll("\n","\\n"));}_d.push("\"");}}}}}}};$W._I.DefaultJSON2XML=function(_12,_13){["WebSquare.json.DefaultJSON2XML"];var _14;if(_12.constructor===String){_14=eval("("+_12+")");}else{_14=_12;}var _15=[];var _16="<object type=\"object\">";var _17="<array type=\"array\">";var _18="</object>";var _19="</array>";var _1a=-1;if(_14.constructor===Array){_1a=1;_15.push(_17);}else{if(typeof _14=="object"){_1a=2;_15.push(_16);}}for(var i in _14){$W._I._recursiveJSON2XML(_15,_14[i],i,_1a);}if(_14.constructor===Array){_15.push(_19);}else{if(typeof _14=="object"){_15.push(_18);}}var _1c=_15.join("");var _1d=$W._B.parse(_1c);return _1d;};$W._I.DefaultJSON2XMLString=function(_1e,_1f){["WebSquare.json.DefaultJSON2XMLString"];var _20;if(_1e.constructor===String){_20=eval("("+_1e+")");}else{_20=_1e;}var _21=[];var _22="<object type=\"object\">";var _23="<array type=\"array\">";var _24="</object>";var _25="</array>";var _26=-1;if(_20.constructor===Array){_26=1;_21.push(_23);}else{if(typeof _20=="object"){_26=2;_21.push(_22);}}for(var i in _20){$W._I._recursiveJSON2XML(_21,_20[i],i,_26);}if(_20.constructor===Array){_21.push(_25);}else{if(typeof _20=="object"){_21.push(_24);}}var _28=_21.join("");return _28;};$W._I.JSON2XML=function(_29,_2a){var _2b=$W._N.getConfiguration("/WebSquare/json/json2xmlFunction/@value");if(_2b){$W._I.JSON2XML=eval(_2b);if($W._I.JSON2XML){$W.logger.printLog("JSON2XML conversion rule exists in config.xml. [/WebSquare/json/@json2xmlFunction]");}else{$W._I.JSON2XML=$W._I.DefaultJSON2XML;}}else{$W._I.JSON2XML=$W._I.DefaultJSON2XML;}return $W._I.JSON2XML(_29,_2a);};$W._I.JSON2XMLString=function(_2c,_2d){var _2e=$W._N.getConfiguration("/WebSquare/json/json2xmlFunction/@value");if(_2e){$W._I.JSON2XMLString=eval(_2e);if($W._I.JSON2XMLString){$W.logger.printLog("JSON2XMLString conversion rule exists in config.xml. [/WebSquare/json/@json2xmlFunction]");}else{$W._I.JSON2XMLString=$W._I.DefaultJSON2XMLString;}}else{$W._I.JSON2XMLString=$W._I.DefaultJSON2XMLString;}return $W._I.JSON2XMLString(_2c,_2d);};$W._I._recursiveJSON2XML=function(_2f,_30,key,_32){["WebSquare.json._recursiveJSON2XML"];var _33="<object type=\"object\">";var _34="<array type=\"array\">";var _35="</object>";var _36="</array>";if(_30==null){_2f.push("<"+key+" type=\""+_30+"\"/>");}else{if(typeof _30=="string"){if(_32==1){_2f.push("<value>"+$W._B.encode(_30)+"</value>");}else{if(_32==2){_2f.push("<"+key+">"+$W._B.encode(_30)+"</"+key+">");}}}else{if(typeof _30=="number"){if(_32==1){_2f.push("<value type=\"number\">"+_30+"</value>");}else{if(_32==2){_2f.push("<"+key+" type=\"number\">"+_30+"</"+key+">");}}}else{if(typeof _30=="boolean"){if(_32==1){_2f.push("<value type=\""+_30+"\"/>");}else{if(_32==2){_2f.push("<"+key+" type=\""+_30+"\"/>");}}}else{if(_30.constructor===Array){if(isNaN(parseInt(key))){_32=1;_2f.push("<"+key+" type=\"array\">");}else{if(_30.constructor!==Array&&typeof _30=="object"){_32=2;_2f.push(_33);}else{_32=1;_2f.push(_34);}}for(var j in _30){$W._I._recursiveJSON2XML(_2f,_30[j],j,_32);}if(isNaN(parseInt(key))){_32=1;_2f.push("</"+key+">");}else{if(_30.constructor!==Array&&typeof _30=="object"){_2f.push(_35);}else{_2f.push(_36);}}}else{if(typeof _30=="object"){if(_30.constructor===Array&&isNaN(parseInt(key))){_32=1;_2f.push("<"+key+" type=\"array\">");}else{if(_30.constructor===Array){_32=1;_2f.push(_34);}else{if(isNaN(parseInt(key))){_32=2;_2f.push("<"+key+" type=\"object\">");}else{_32=2;_2f.push(_33);}}}for(var j in _30){$W._I._recursiveJSON2XML(_2f,_30[j],j,_32);}if(_30.constructor===Array&&isNaN(parseInt(key))){_2f.push("</"+key+">");}else{if(_30.constructor===Array){_2f.push(_36);}else{if(isNaN(parseInt(key))){_2f.push("</"+key+">");}else{_2f.push(_35);}}}}}}}}}};if(typeof JSON!=="object"){JSON={};}(function(){"use strict";function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf();};}var cx,escapable,gap,indent,meta,rep;function quote(_3a){escapable.lastIndex=0;return escapable.test(_3a)?"\""+_3a.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+"\"":"\""+_3a+"\"";}function str(key,_3e){var i,k,v,length,mind=gap,partial,value=_3e[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(_3e,key,value);}switch(typeof value){case "string":return quote(value);case "number":return isFinite(value)?String(value):"null";case "boolean":case "null":return String(value);case "object":if(!value){return "null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if((typeof JSON.stringify!=="function")||$W._N.browserCheck.ie){escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\"":"\\\"","\\":"\\\\"};JSON.stringify=function(_40,_41,_42){var i;gap="";indent="";if(typeof _42==="number"){for(i=0;i<_42;i+=1){indent+=" ";}}else{if(typeof _42==="string"){indent=_42;}}rep=_41;if(_41&&typeof _41!=="function"&&(typeof _41!=="object"||typeof _41.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":_40});};}if(typeof JSON.parse!=="function"||$W._N.browserCheck.ie){cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;JSON.parse=function(_44,_45){var j;function walk(_47,key){var k,v,value=_47[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return _45.call(_47,key,value);}_44=String(_44);cx.lastIndex=0;if(cx.test(_44)){_44=_44.replace(cx,function(a){return "\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(_44.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+_44+")");return typeof _45==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}}());;WebSquare.json=$W._I;try{if(!window["jQuery"]){var versionXPath=$W._N.getConfiguration("/WebSquare/jquerySupport/@src");if(versionXPath!=""){requires(versionXPath);if(!window["jQuery"]){requires("externalJS/jquery/jquery-1.10.2.min.js");$l("ERROR :  config.xml\uc758 jquerySupport \ud0dc\uadf8 version \uacbd\ub85c\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694. \ud604\uc7ac \uc0ac\uc6a9\ud558\uace0 \uc788\ub294 \ubc84\uc804\uc740 default \ubc84\uc804 "+$.fn.jquery+" \uc785\ub2c8\ub2e4.");}}else{requires("externalJS/jquery/jquery-1.10.2.min.js");}}if(window["jQuery"]){(function($){$.expr[":"].wq=function(_2,_3,_4){var _5=null;if("idToUUID" in $W){_5=$W.idCache[$W.idToUUID[$(_2).attr("id")]];}else{_5=$W.WebSquareDocument.componentIdCache[$(_2).attr("id")];}if(_5&&_5.render==_2){if(_4[3]===""||_4[3]==undefined||_4[3]=="*"){return true;}else{return _5.options.pluginName==_4[3].trim();}}return false;};var _6=function(_7){return new _6.fn.init(_7);};var wq=function(_9,_a){var _b=this;if(this.length>0&&!this[0].getPluginName){_b=_6(this);}if(_9){for(var i=0;i<_b.length;i++){var _d=[];for(var j=1;j<arguments.length;j++){_d.push(arguments[j]);}_b[i][_9].apply(_b[i],_d);}}return _b;};_6.fn=_6.prototype={constructor:_6,init:function(_f){if(!_f[0].getPluginName){for(var i=0;i<_f.length;i++){var _11=null;if("idToUUID" in $W){_11=$W.idCache[$W.idToUUID[$(_f[i]).attr("id")]];}else{_11=$W.WebSquareDocument.componentIdCache[$(_f[i]).attr("id")];}if(_11&&_11.render==_f[i]){this.push(_11);}}}},selector:"",length:0,size:$.fn.size,toArray:$.fn.toArray,pushStack:$.fn.pushStack,push:[].push,sort:[].sort,splice:[].splice,wq:wq,jq:function(_12,_13){if(this[0].getPluginName){var _14=[];for(var i=0;i<this.length;i++){_14.push(this[i].render);}this.splice(0,this.length);for(var i=0;i<_14.length;i++){this.push(_14[i]);}}if(_12){var _16=[];for(var j=1;j<arguments.length;j++){_16.push(arguments[j]);}return $(this)[_12].apply($(this),_16);}return $(this);},get:function(_18,_19){var _1a=[];for(var j=1;j<arguments.length;j++){_1a.push(arguments[j]);}return this[0][_18].apply(this[0],_1a);},each:function(_1c){if(typeof _1c=="function"){for(var i=0;i<this.length;i++){_1c.call(this[i],i,this[i]);}}},map:function(obj,_1f){if(typeof _1f=="function"){var _20=[];if(Object.prototype.toString.call(obj)==="[object Array]"){for(var i=0;i<obj.length;i++){_20.push(_1f.call(obj,obj[i],i));}}else{for(var i in obj){_20.push(_1f.call(obj,obj[i],i));}}return _20;}}};_6.fn.init.prototype=_6.fn;jQuery.fn.extend({wq:wq});})(jQuery);}}catch(e){$W.exception.printStackTrace(e);};WebSquare.jquerySupport=$W._F;$W._n=function(){};$W._n.prototype.setStyle=function(_1,_2){["WebSquare.css.setStyle"];try{if(!this.render){return;}$W._H.setStyle(this.render,_1,_2);}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.setStyleAsync=function(_3,_4){["WebSquare.css.setStyleAsync"];try{if(!this.render){return;}if(!this.__setStyleAsyncPeriod){this.__setStyleAsyncPeriod=1;}$W._N.setTimer(function(){$W._N.measureTime(function(_5){this.__setStyleAsyncPeriod=parseInt(_5.aver,10);},{key:this.id+"_setStyleAsync",caller:this});$W._H.setStyle(this.render,_3,_4);},{key:this.id+"_setStyleAsync",caller:this,delay:this.__setStyleAsyncPeriod,max:this.__setStyleAsyncPeriod});}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.getStyle=function(_6){["WebSquare.css.getStyle"];try{if(!this.render){return null;}return $W._H.getStyle(this.render,_6);}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.setPosition=function(x,y,_9){["WebSquare.css.setPosition"];try{if(!this.render){return;}x=parseInt(x);y=parseInt(y);_9=_9||"absolute";if(_9=="absolute"){if(x!=null&&!isNaN(x)){this.render.style.left=x+"px";}if(y!=null&&!isNaN(y)){this.render.style.top=y+"px";}}else{if(_9=="delta"){if(x!=null&&!isNaN(x)){this.render.style.left=this.render.offsetLeft+x+"px";}if(y!=null&&!isNaN(y)){this.render.style.top=this.render.offsetTop+y+"px";}}}}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.getPosition=function(_a){["WebSquare.css.getPosition"];try{if(!this.render){return;}var _a=_a.toLowerCase();if(_a=="top"){return this.render.offsetTop;}else{if(_a=="left"){return this.render.offsetLeft;}}$l("getPosition : wrong positionName["+_a+"]");return;}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.getAbsolutePosition=function(_b,_c){["WebSquare.css.getAbsolutePosition"];try{var _d=_c==undefined?this.render:_c;if(_b=="top"){return $W._H.getAbsoluteTop(_d);}else{if(_b=="left"){return $W._H.getAbsoluteLeft(_d);}}$l("getPosition : wrong positionName["+_b+"]");return;}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.setSize=function(_e,_f){["WebSquare.css.setSize"];try{$W._H.setSize(this.render,_e,_f);}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.getSize=function(_10){["WebSquare.css.getSize"];try{return $W._H.getSize(this.render,_10);}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.show=function(_11){["WebSquare.css.show"];try{$W._H.show(this.render,_11);if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){this.refreshAdaptive();}this.checkResize_recursive(this);}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.hide=function(){["WebSquare.css.hide"];try{$W._H.hide(this.render);}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.refreshAdaptive=function(){["WebSquare.css.refreshAdaptive"];try{if(this.options.pluginName=="group"){if(this.options.tagname=="table"&&(this.options.adaptive=="crosstab"||this.options.adaptive=="layout")){var _12=parseInt(this.options.adaptiveThreshold)||480;if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_12){this.removeAdaptive();this.addAdaptive();}}}if(this.constructor===$W.tag){if(typeof this.element.getAttribute!="undefined"){var _13=this.element.getAttribute("adaptive");if(_13=="crosstab"||_13=="layout"){var _12=parseInt(this.element.getAttribute("adaptiveThreshold"))||480;if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_12){this.removeAdaptive();this.addAdaptive();}}}}for(var i=0;i<this.childControlList.length;i++){if(this.childControlList[i].refreshAdaptive){this.childControlList[i].refreshAdaptive();}}}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.setOpacity=function(_15){["WebSquare.css.setOpacity"];try{this.setStyle("opacity",_15);}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.getOpacity=function(){["WebSquare.css.getOpacity"];try{return this.getStyle("opacity");}catch(e){$W.exception.printStackTrace(e);}};$W._n.addClassRe=new RegExp("\\s\\s");$W._n.prototype.addClass=function(_16){["WebSquare.css.addClass"];try{if(arguments.length===1){this.__addClass(this.render,arguments[0]);}else{if(arguments.length===2){this.__addClass(arguments[0],arguments[1]);}}}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.__addClass=function(_17,_18){["WebSquare.css.__addClass"];try{if(!_17||!_18){return;}var _19=_17.className;if(this.__hasClass(_17,_18)==false){_19+=(" "+_18);_19=_19.replace($W._n.addClassRe," ").wq_trim();}_17.className=_19;}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.removeClass=function(_1a){["WebSquare.css.removeClass"];try{if(arguments.length===1){this.__removeClass(this.render,arguments[0]);}else{if(arguments.length===2){this.__removeClass(arguments[0],arguments[1]);}}}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.__removeClass=function(_1b,_1c){["WebSquare.css.__removeClass"];try{if(!_1b||!_1c){return;}var _1d=$W._N.getConfiguration("/WebSquare/style/removeDefaultClass/@value");if(_1d==""||_1d=="false"){if(this.__hasClass(this.options.className,_1c)==true){return;}}var _1e=" "+_1b.className+" ";_1e=_1e.replace(" "+_1c+" "," ");_1e=_1e.replace($W._n.addClassRe," ").wq_trim();_1b.className=_1e;}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.changeClass=function(_1f,_20){["WebSquare.css.changeClass"];try{if(arguments.length===2){this.__changeClass(this.render,arguments[0],arguments[1]);}else{if(arguments.length===3){this.__changeClass(arguments[0],arguments[1],arguments[2]);}}}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.__changeClass=function(_21,_22,_23){["WebSquare.css.__changeClass"];try{this.removeClass(_21,_22);this.addClass(_21,_23);}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.hasClass=function(_24){["WebSquare.css.hasClass"];try{if(arguments.length===1){return this.__hasClass(this.render,arguments[0]);}else{if(arguments.length===2){return this.__hasClass(arguments[0],arguments[1]);}}return false;}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.__hasClass=function(_25,_26){["WebSquare.css.__hasClass"];try{var _27=typeof _25=="string"?(_25||""):_25.className;var _28=" "+_27+" ";return _28.indexOf(" "+_26+" ")>=0;}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.toggleClass=function(_29){["WebSquare.css.toggleClass"];try{if(arguments.length===1){return this.__toggleClass(this.render,arguments[0]);}else{if(arguments.length===2){return this.__toggleClass(arguments[0],arguments[1]);}}return false;}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.__toggleClass=function(_2a,_2b){["WebSquare.css.__toggleClass"];try{if(this.hasClass(_2a,_2b)){this.removeClass(_2a,_2b);}else{this.addClass(_2a,_2b);}}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.movable=function(_2c,_2d){["WebSquare.css.movable"];try{if(!this.render){return;}var _2e=this;if(!this.handleFinishMove){var id="";var _30="";id="w2drag_move";_30="w2drag_move";_2d=$W.extend({id:id,className:_30,makeGhostLayer:function(_31){_31.setSize(_2e.render.offsetWidth,_2e.render.offsetHeight);return _31;},handleFinish:function(x,y,dx,dy){var _36=parseInt(_2e.getStyle("left"));var top=parseInt(_2e.getStyle("top"));_2e.setPosition(_36+dx,top+dy);}},_2d||{});this.handleFinishMove=function(e){$W._c.stopEvent(e);$W._K.gDragManager.activate(e,_2e.render,_2d);};}if(_2c){this.event.addListener(this.render,"onmousedown",this.handleFinishMove);this.event.addListener(this.render,"ontouchstart",this.handleFinishMove);}else{this.event.removeListener(this.render,"onmousedown",this.handleFinishMove);this.event.removeListener(this.render,"ontouchstart",this.handleFinishMove);}}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.resizable=function(_39,_3a){["WebSquare.css.movable"];try{if(!this.render){return;}var _3b=this;if(!this.handleFinishResize){this.handleFinishResize=function(e){$W._c.stopEvent(e);$W._K.gDragManager.activate(e,_3b.render,{id:"w2drag_resize",className:"w2drag_resize",mode:"resize",makeGhostLayer:function(_3d){_3d.setSize(_3b.render.offsetWidth,_3b.render.offsetHeight);return _3d;},handleFinish:function(x,y,dx,dy){var _42=parseInt(_3b.getStyle("width"));var _43=parseInt(_3b.getStyle("height"));_3b.setSize(_42+dx,_43+dy);}});};}if(_39){this.event.addListener(this.render,"onmousedown",this.handleFinishResize);}else{this.event.removeListener(this.render,"onmousedown",this.handleFinishResize);}}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.visible=function(_44){["WebSquare.css.visible"];try{if(!this.render){return;}var _44=$W._G.getBoolean(_44);this.render.style.visibility=_44?"visible":"hidden";}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.showBySize=function(){["WebSquare.css.showBySize"];try{if(!this.render){return;}this.setStyle("visibility","visible");this.render.style.overflow="";this.render.style.width="";this.render.style.height="";}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.hideBySize=function(){["WebSquare.css.hideBySize"];try{if(!this.render){return;}this.setStyle("visibility","hidden");this.render.style.overflow="hidden";this.render.style.width="0px";this.render.style.height="0px";}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.getStyleValue=function(_45){return this.getStyle(_45);};$W._n.prototype.getStyleIntValue=function(_46){return parseInt(this.getStyle(_46));};$W._n.prototype.getStyleProperty=function(_47){["WebSquare.css.getStyleProperty"];try{return this.getStyle(_47);}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.getClass=function(){["WebSquare.css.getClass"];try{return this.options.className;}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.highlight=function(_48){["WebSquare.css.highlight"];try{if(!this.render){return;}this.render.style.border=_48?"solid 1px blue":"";}catch(e){$W.exception.printStackTrace(e);}};$W._n.prototype.enable=function(){};$W._n.prototype.disable=function(){};$W._n.prototype.hover=function(_49,_4a){};$W._n.prototype.checkResize_recursive=function(_4b){["WebSquare.css.checkResize_recursive"];try{if(typeof _4b.checkResize=="function"){_4b.checkResize();}if(_4b.options.pluginName=="inputCalendar"&&typeof _4b.setSetting=="function"){_4b.setSetting();}if(_4b.childControlList){for(var i=0;i<_4b.childControlList.length;i++){this.checkResize_recursive(_4b.childControlList[i]);}}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.css=$W._n;$W.IAction=function(){};$W.IAction.prototype.activate=function(){alert("you should override 'activate' for "+this.id);};$W.IAction.prototype.setAction=function(){alert("you should override 'setAction' for "+this.id);};$W.IVisible=function(){};$W.IVisible.prototype.toHTML=function(){alert("you should override 'toHTML' for "+this.id);};$W.widget=function(){};requires("uiplugin/control/widget.js");requires("uiplugin/control/IVisible.js");requires("uiplugin/control/IAction.js");$W.control=function(id,_2,_3){["WebSquare.control"];try{$W.widget.call(this);this.parentControl=null;this.childControlList=[];}catch(e){$W.exception.printStackTrace(e);}};$W.extend($W.control.prototype,$W.widget.prototype);$W.extend($W.control.prototype,$W.IVisible.prototype);$W.extend($W.control.prototype,$W.IAction.prototype);$W.control.prototype.initialize=function(){["WebSquare.control.initialize"];try{}catch(e){$W.exception.printStackTrace(e);}};$W.control.prototype.addControl=function(_4,_5){["WebSquare.control.addControl"];try{if(!_4){return;}var _6=this;do{if(_4==_6){$l("cannot execute : "+this.id+".addControl("+_4.id+");");return;}_6=_6.parentControl;}while(_6);if(_4.parentControl){_4.parentControl.removeControl(_4);}this.childControlList.push(_4);if(this.render){_4.domStatus="new";}_4.parentControl=this;if(_5){this.refreshDom();}try{if(this.parentFrame!=undefined&&$W.idCache[this.parentFrame]){_4.parentFrame=this.parentFrame;$W.idCache[_4.parentFrame].childAllControlList.push(_4.uuid);}}catch(e){$W.exception.printStackTrace(e,null,this);$W.exception.printError("parentFrame is not wframe");}}catch(e){$W.exception.printStackTrace(e);}};$W.control.prototype.removeControl=function(_7){["WebSquare.control.removeControl"];try{for(var i in this.childControlList){if(this.childControlList[i]==_7){this.childControlList.splice(i,1);}}_7.parentControl=null;}catch(e){$W.exception.printStackTrace(e);}};$W.control.prototype.getParent=function(){["WebSquare.control.getParent"];try{return this.parentControl;}catch(e){$W.exception.printStackTrace(e);}};$W.control.prototype.getChild=function(id){["WebSquare.control.getChild"];try{for(var i=0;i<this.childControlList.length;i++){var _b=this.childControlList[i];if(_b.id==id){return _b;}}return null;}catch(e){$W.exception.printStackTrace(e);}};$W.control.prototype.getChildren=function(){["WebSquare.control.getChildren"];try{return this.childControlList;}catch(e){$W.exception.printStackTrace(e);}};$W.control.prototype.getAllChildren=function(){["WebSquare.control.getChildren"];try{var _c=this.getChildren().slice(0);var _d=new Array();for(var _e=_c.pop();_e!=null;_e=_c.pop()){if($W.idCache[_e.uuid]!=undefined&&_e.options&&_e.options.pluginName){_d.unshift(_e);}_c=_c.concat(_e.getChildren());}return _d;}catch(e){$W.exception.printStackTrace(e);}};$W.control.prototype.getChildrenCount=function(){["WebSquare.control.getChildrenCount"];try{return this.childControlList.length;}catch(e){$W.exception.printStackTrace(e);}};$W.control.prototype.clearChildren=function(){["WebSquare.control.getChildrenCount"];try{this.childControlList=[];}catch(e){$W.exception.printStackTrace(e);}};$W.control.prototype.toHTML=function(){alert("you should override 'toHTML' for "+this.id);};$W.control.prototype.activate=function(){alert("you should override 'activate' for "+this.id);};$W.control.prototype.setAction=function(){alert("you should override 'setAction' for "+this.id);};$W.control.prototype.destroy=function(){["WebSquare.control.destroy"];try{if(typeof this.finalize=="function"){try{this.finalize();}catch(e){$W.logger.printLog("finalize : "+this.id);}}if(typeof this.unbind=="function"){this.unbind();}if(this.render&&this.render.nodeName=="IFRAME"){var _f=this.getWindow();try{var _10=this.render.getAttribute("src");if(_10){this.render.setAttribute("src","");}if(_f.WebSquare&&_f.WebSquare.getBody){_f.WebSquare.getBody().remove();}}catch(e){}}if(this.modelControl){this.modelControl.unbindRef();this.modelControl.unbindItemset();}for(var i=this.childControlList.length-1;i>=0;i--){window[$W.noConflict].comp[this.childControlList[i].id]=null;delete window[$W.noConflict].comp[this.childControlList[i].id];$W.idCache[this.childControlList[i].uuid]=null;delete $W.idCache[this.childControlList[i].uuid];this.childControlList[i].destroy();for(var k in this.childControlList[i]){this.childControlList[i][k]=null;delete this.childControlList[i][k];}delete this.childControlList[i];}if(this.render!=null){$W.removeNode(this.render);}this.childControlList=[];this.parentControl=null;window[$W.noConflict].comp[this.id]=null;delete window[$W.noConflict].comp[this.id];$W.idToUUID[this.id]=null;delete $W.idToUUID[this.id];$W.idCache[this.uuid]=null;delete $W.idCache[this.uuid];if(window[this.id]){window[this.id]=null;}var _13={"secret":"input","selectbox":"select1","radio":"select1","multiselect":"select","checkbox":"select","checkcombobox":"select","switch":"Switch"};var _14=_13[this.options.pluginName]||this.options.pluginName;var arr=$W.WebSquareDocument.componentsCache[_14]||$W.WebSquareDocument.componentsCache[this._wTagName]||[];for(var idx=0,len=arr.length;idx<len;idx++){if(arr[idx]==this.uuid){arr[idx]=null;arr.splice(idx,1);}}if($W._N.memoryLeakComponent[_14]){$W._N.memoryLeakComponentCount+=$W._N.memoryLeakComponent[_14];}if(this.event){if(this.render){this.event.clearElement(this.render);}this.event.clearCache();}$W.getBody().getLayerListener().remove(this.id);for(var i in this){delete this[i];}}catch(e){$W.exception.printStackTrace(e,null,this);}};requires("engine/cssStyleSheet.js");$W.cssManager=function(){this.cache=true;this.convertedCSSText=null;this.controlCSSText=null;this.importedCSSText=null;this.internalCSSText=null;this.externalCSSText=null;this.externalCSSLink=null;this.controlCSSLink=null;this.classStyleCache=[];this.excludeList=[];this.excludeList["trigger"]="1";this.excludeList["submit"]="1";this.excludeList["inputCalendar"]="1";this.heightPattern=/(?:^|;)\s*height\s*:\s*(\d*)px\s*(?:$|;)/ig;this.widthPattern=/(?:^|;)\s*width\s*:\s*(\d*)px\s*(?:$|;)/ig;};$W.cssManager.prototype.startCache=function(){this.cache=true;};$W.cssManager.prototype.endCache=function(){this.cache=false;};$W.cssManager.prototype.initialize=function(){this.convertedCSSText=[];this.controlCSSText=[];this.internalCSSText=[];this.externalCSSText=[];this.externalCSSLink=[];this.controlCSSLink=[];};$W.cssManager.prototype.addConvertedCSS=function(_1,_2){if(_2==""){return;}if(this.cache==true){this.convertedCSSText.push(_1+" {"+_2+"} \n");}else{$W.cssStyleSheet.addRule(_1,_2);}};$W.cssManager.prototype.addControlCSS=function(_3){this.controlCSSText.push(_3+"\n");};$W.cssManager.prototype.addInternalCSS=function(_4){this.internalCSSText.push(_4+"\n");};$W.cssManager.prototype.addExternalCSS=function(_5){this.externalCSSText.push(_5+"\n");};$W.cssManager.prototype.linkControlCSS=function(_6){this.controlCSSLink.push(_6);};$W.cssManager.prototype.linkExternalCSS=function(_7){this.externalCSSLink.push(_7);};$W.cssManager.prototype.toCSS=function(){var _8=[];if(this.controlCSSText&&this.controlCSSText.length>0){_8=_8.concat(["/*controlCSSText*/\n"]);_8=_8.concat(this.controlCSSText);_8=_8.concat(["\n\n"]);}if(this.convertedCSSText&&this.convertedCSSText.length>0){_8=_8.concat(["/*convertedCSSText*/\n"]);_8=_8.concat(this.convertedCSSText);_8=_8.concat(["\n\n"]);}if(this.externalCSSText&&this.externalCSSText.length>0){_8=_8.concat(["/*externalCSSText*/\n"]);_8=_8.concat(this.externalCSSText);_8=_8.concat(["\n\n"]);}if(this.internalCSSText&&this.internalCSSText.length>0){_8=_8.concat(["/*internalCSSText*/\n"]);_8=_8.concat(this.internalCSSText);}return _8.join("");};$W.cssManager.prototype.executeImport=function(_9){["WebSquare.cssManager.executeImport"];try{var _a=[];var _b=$W.document.getElementsByTagName("head")[0];for(var i=0,len=this.controlCSSLink.length;i<len;i++){var _d=$W.document.createElement("link");for(var _e in this.controlCSSLink[i]){_d[_e]=this.controlCSSLink[i][_e];}if(_9!=undefined){_b.insertBefore(_d,_9);}else{_b.appendChild(_d);}_a.push(_d);$W.logger.printLog("import core css : "+_d.href);}for(var i=0,len=this.externalCSSLink.length;i<len;i++){var _d=$W.document.createElement("link");for(var _e in this.externalCSSLink[i]){if(_e!=""){_d[_e]=this.externalCSSLink[i][_e];}}if(_9!=undefined){_b.insertBefore(_d,_9);if($W._N.browserCheck.ie){_b.insertBefore(_9,_9);}}else{_b.appendChild(_d);}_a.push(_d);$W.logger.printLog("import user css : "+_d.href);}this.controlCSSLink=[];this.externalCSSLink=[];var _f=this.toCSS();if(_f){if($W._N.browserCheck.ie){var s=document.createElement("style");s.setAttribute("type","text/css");s.styleSheet.cssText=_f;if(_9!=undefined){_b.insertBefore(s,_9);}else{_b.appendChild(s);}_a.push(s);}else{var s=$W.document.createElementNS("http://www.w3.org/1999/xhtml","style");s.appendChild(document.createTextNode(_f));if(_9!=undefined){_b.insertBefore(s,_9);}else{_b.appendChild(s);}_a.push(s);}}this.initialize();this.endCache();_b=null;return _a;}catch(e){$W.exception.printStackTrace(e);}};$W.cssManager.prototype.resizeStyle=function(id,_12){["WebSquare.cssManager.styleToClass"];try{var _13=_12["style"];if(_13&&_13!=""){var _14=this.setResizeStyle(_13,_12);if(_14!=null&&_14.newSizeStyle!=null){_12["style"]=_13+";"+_14.newSizeStyle;}}return _12;}catch(e){$W.exception.printStackTrace(e);}};$W.cssManager.prototype.styleToClass=function(id,_16){["WebSquare.cssManager.styleToClass"];try{for(var idx in _16){if(idx.indexOf("Style")>-1){var _18=_16[idx];if(_18!=""){var _19=idx+"Class";var _1a="#"+id+" ."+_19;$W.cssManager.addConvertedCSS(_1a,_18);_16[idx]="";var _1b=idx.replace("Style","Class");if(!_16[_1b]){_16[_1b]="";}if(_16[_1b]!=""){_16[_1b]+=" ";}_16[_1b]+=_19;}}}return _16;}catch(e){$W.exception.printStackTrace(e);}};$W.cssManager.prototype.setResizeStyle=function(_1c,_1d){["WebSquare.cssManager.setResizeStyle"];if(this.excludeList[_1d.pluginName]!=null){return null;}var _1e="";var _1f=null;var _20=/(?:^|;)\s*height\s*:\s*(\d*)px\s*(?:$|;)/i;var _21=_20.exec(_1c);if(_21&&_21.length==2){var _22=parseInt(_21[1]);_1f=this.getSizeObj(_1c,_1d,_1f);_1f.newSizeStyle=";height:"+(_22-(_1f.paddingTop+_1f.paddingBottom+_1f.borderTopWidth+_1f.borderBottomWidth))+"px";}var _23=/(?:^|;)\s*width\s*:\s*(\d*)px\s*(?:$|;)/i;var _24=_23.exec(_1c);if(_24&&_24.length==2){var _25=parseInt(_24[1]);_1f=this.getSizeObj(_1c,_1d,_1f);_1f.newSizeStyle+=";width:"+(_25-(_1f.paddingLeft+_1f.paddingRight+_1f.borderLeftWidth+_1f.borderRightWidth))+"px";}return _1f;};$W.cssManager.prototype.getSizeObj=function(_26,_27,_28){["WebSquare.cssManager.getSizeObj"];if(_28!=null){return _28;}var _29={};_29.paddingTop=0;_29.paddingBottom=0;_29.paddingLeft=0;_29.paddingRight=0;_29.borderTopWidth=0;_29.borderBottomWidth=0;_29.borderLeftWidth=0;_29.borderRightWidth=0;_29.newSizeStyle="";var _2a=new $W.sizeObj(_26);var _2b=this.getSizeStyleObj("w2"+_27.pluginName);var _2c=this.getSizeStyleObj(_27.className);_29=this.inherit(_29,_2b);_29=this.inherit(_29,_2c);_29=this.inherit(_29,_2a);return _29;};$W.cssManager.prototype.inherit=function(_2d,_2e){if(_2e==null){return _2d;}if(_2e.paddingTop!=null){_2d.paddingTop=_2e.paddingTop;}if(_2e.paddingBottom!=null){_2d.paddingBottom=_2e.paddingBottom;}if(_2e.paddingLeft!=null){_2d.paddingLeft=_2e.paddingLeft;}if(_2e.paddingRight!=null){_2d.paddingRight=_2e.paddingRight;}if(_2e.borderTopWidth!=null){_2d.borderTopWidth=_2e.borderTopWidth;}if(_2e.borderBottomWidth!=null){_2d.borderBottomWidth=_2e.borderBottomWidth;}if(_2e.borderLeftWidth!=null){_2d.borderLeftWidth=_2e.borderLeftWidth;}if(_2e.borderRightWidth!=null){_2d.borderRightWidth=_2e.borderRightWidth;}return _2d;};$W.cssManager.prototype.getSizeStyleObj=function(_2f){["WebSquare.cssManager.getSizeStyleObj"];if(_2f==null||_2f==""){return null;}var _30=this.classStyleCache[_2f];if(_30==null){var _31=this.toCSS();var reg=new RegExp("[.]"+_2f+"[ \t\n\r]*{([^}]*)}");var _33=_31.match(reg);var _34="";if(_33!=null&&_33.length==2){_34=_33[1];}_30=new $W.sizeObj(_34);this.classStyleCache[_2f]=_30;}return _30;};$W.sizeObj=function(_35){this.paddingTop=null;this.paddingBottom=null;this.paddingLeft=null;this.paddingRight=null;this.borderTopWidth=null;this.borderBottomWidth=null;this.borderLeftWidth=null;this.borderRightWidth=null;var _36=_35.split(";");for(var i=0;i<_36.length;i++){var _38=_36[i].toLowerCase();if(_38.indexOf("padding")>=0){this.setPaddingProperty(_38);}else{if(_38.indexOf("border")>=0){this.setBorderProperty(_38);}}}};$W.sizeObj.prototype.toString=function(){var ret="paddingTop["+this.paddingTop+"] ";ret+="paddingBottom["+this.paddingBottom+"] ";ret+="paddingLeft["+this.paddingLeft+"] ";ret+="paddingRight["+this.paddingRight+"] ";ret+="borderTopWidth["+this.borderTopWidth+"] ";ret+="borderBottomWidth["+this.borderBottomWidth+"] ";ret+="borderLeftWidth["+this.borderLeftWidth+"] ";ret+="borderRightWidth["+this.borderRightWidth+"] ";};$W.sizeObj.prototype.setPaddingProperty=function(_3a){var _3b=_3a.split(":");var _3c=_3b[0].wq_trim();var _3d=_3b[1].wq_trim();if(_3d==""){return;}if(_3c=="padding"){var _3e=_3d.split(" ");if(_3e.length==1){this.paddingTop=parseInt(_3e[0]);this.paddingRight=parseInt(_3e[0]);this.paddingBottom=parseInt(_3e[0]);this.paddingLeft=parseInt(_3e[0]);}else{if(_3e.length==2){this.paddingTop=parseInt(_3e[0]);this.paddingRight=parseInt(_3e[1]);this.paddingBottom=parseInt(_3e[0]);this.paddingLeft=parseInt(_3e[1]);}else{if(_3e.length==3){this.paddingTop=parseInt(_3e[0]);this.paddingRight=parseInt(_3e[1]);this.paddingBottom=parseInt(_3e[2]);this.paddingLeft=parseInt(_3e[1]);}else{if(_3e.length==4){this.paddingTop=parseInt(_3e[0]);this.paddingRight=parseInt(_3e[1]);this.paddingBottom=parseInt(_3e[2]);this.paddingLeft=parseInt(_3e[3]);}}}}}else{if(_3c.indexOf("padding-left")>=0){this.paddingLeft=parseInt(_3d);}else{if(_3c.indexOf("padding-top")>=0){this.paddingTop=parseInt(_3d);}else{if(_3c.indexOf("padding-right")>=0){this.paddingRight=parseInt(_3d);}else{if(_3c.indexOf("padding-bottom")>=0){this.paddingBottom=parseInt(_3d);}}}}}};$W.sizeObj.prototype.setBorderProperty=function(_3f){var _40=_3f.split(":");var _41=_40[0].wq_trim();var _42=_40[1].wq_trim();var svl=_42.split(" ");var _44=null;for(var i=0;i<svl.length;i++){if(svl[i].indexOf("px")>=0){_44=parseInt(svl[i]);}}if(_44==null){return;}if(_41=="border"){this.borderTopWidth=_44;this.borderBottomWidth=_44;this.borderLeftWidth=_44;this.borderRightWidth=_44;}else{if(_41=="border-width"){this.borderTopWidth=_44;this.borderBottomWidth=_44;this.borderLeftWidth=_44;this.borderRightWidth=_44;}else{if(_41.indexOf("border-left")>=0){this.borderLeftWidth=_44;}else{if(_41.indexOf("border-top")>=0){this.borderTopWidth=_44;}else{if(_41.indexOf("border-right")>=0){this.borderRightWidth=_44;}else{if(_41.indexOf("border-bottom")>=0){this.borderBottomWidth=_44;}}}}}}};$W.sizeObj.prototype.inherit=function(_46){if(_46==null){return;}this.paddingTop=(_46.paddingTop!=null)?_46.paddingTop:this.paddingTop;this.paddingBottom=(_46.paddingBottom!=null)?_46.paddingBottom:this.paddingBottom;this.paddingLeft=(_46.paddingLeft!=null)?_46.paddingLeft:this.paddingLeft;this.paddingRight=(_46.paddingRight!=null)?_46.paddingRight:this.paddingRight;this.borderTopWidth=(_46.borderTopWidth!=null)?_46.borderTopWidth:this.borderTopWidth;this.borderBottomWidth=(_46.borderBottomWidth!=null)?_46.borderBottomWidth:this.borderBottomWidth;this.borderLeftWidth=(_46.borderLeftWidth!=null)?_46.borderLeftWidth:this.borderLeftWidth;this.borderRightWidth=(_46.borderRightWidth!=null)?_46.borderRightWidth:this.borderRightWidth;};$W.sizeObj.prototype.nullToZero=function(_47){this.paddingTop=this.paddingTop||0;this.paddingBottom=this.paddingBottom||0;this.paddingLeft=this.paddingLeft||0;this.paddingRight=this.paddingRight||0;this.borderTopWidth=this.borderTopWidth||0;this.borderBottomWidth=this.borderBottomWidth||0;this.borderLeftWidth=this.borderLeftWidth||0;this.borderRightWidth=this.borderRightWidth||0;};$W.cssManager=new $W.cssManager();$W.cssManager.initialize();$W.cssManager.startCache();$W.cssCustomizer=function(){};$W.cssCustomizer.prototype.setClassName=function(_1){["WebSquare.css.addClass"];try{if(!_1){return;}var _2="w2"+this.getPluginName()+" "+_1;this.setClassByElement(_2);}catch(e){$W.exception.printStackTrace(e);}};$W.cssCustomizer.prototype.addClassName=function(_3){["WebSquare.cssCustomizer.addSelfClass"];try{this.addClass(this.render,_3);}catch(e){$W.exception.printStackTrace(e);}};$W.cssCustomizer.prototype.removeClassName=function(_4){["WebSquare.cssCustomizer.addSelfClass"];try{this.removeClass(this.render,_4);}catch(e){$W.exception.printStackTrace(e);}};$W.cssCustomizer.prototype.getChildEl=function(_5,_6,_7){["WebSquare.controlFactory.getChildEl"];try{if(this.getClassByElement(_6)==_5){this.addClass(_6,_7);return _6;}else{for(var i=0;i<_6.children.length;i++){if(_6.children[i].children.length>0){if(_6.children[i]!=null){this.getChildEl(_5,_6.children[i],_7);}else{$l("child\uac00 null \uc785\ub2c8\ub2e4.");}}else{if(_6!=null){if(this.getClassByElement(_6)==_5){return _6;}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W.cssCustomizer.prototype.removeChildEl=function(_9,_a,_b){["WebSquare.controlFactory.getChildEl"];try{if(this.getClassByElement(_a)==_9){this.removeClass(_a,_b);return _a;}else{for(var i=0;i<_a.children.length;i++){if(_a.children[i].children.length>0){if(_a.children[i]!=null){this.removeChildEl(_9,_a.children[i],_b);}else{$l("child\uac00 null \uc785\ub2c8\ub2e4.");}}else{if(_a!=null){if(this.getClassByElement(_a)==_9){return _a;}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W.cssCustomizer.prototype.getClassByElement=function(_d){["WebSquare.cssCustomizer.getClass"];try{return this.ssplit(_d["className"])||this.ssplit(_d.getAttribute("class"))||"";}catch(e){$W.exception.printStackTrace(e);}};$W.cssCustomizer.prototype.setClassByElement=function(_e){["WebSquare.cssCustomizer.getClass"];try{if(!_e){return;}this.render.className=_e;}catch(e){$W.exception.printStackTrace(e);}};$W.cssCustomizer.prototype.ssplit=function(_f){["WebSquare.cssCustomizer.getClass"];try{if(typeof _f=="undefined"||_f==null){return _f;}var _10=_f.split(" ");if(_10.length>0){return _10[0];}else{return _f;}}catch(e){$W.exception.printStackTrace(e);}};requires("uiplugin/control/control.js");$W.htmlControl=function(id,_2,_3){["WebSquare.htmlControl"];try{$W.control.call(this);}catch(e){$W.exception.printStackTrace(e);}};$W.extend($W.htmlControl.prototype,$W.control.prototype);$W.control.prototype.toHTML=function(){alert("you should override 'toHTML' for "+this.id);};$W.control.prototype.activate=function(){alert("you should override 'activate' for "+this.id);};$W.control.prototype.setAction=function(){alert("you should override 'setAction' for "+this.id);};$W._a={};requires("uiplugin/control/control.js");requires("uiplugin/control/css.js");requires("uiplugin/control/modelControl.js");requires("uiplugin/control/eventControl.js");$W._t=function(id,_2,_3){["WebSquare.xfControl"];try{this.parentControl=null;this.childControlList=[];this.id=id;this.uuid=$W.UUIDPrefix+"_"+$W.UUID++;this.element=_3;this.render=null;this.options=this.getConfiguredOptions();if(_3){this.options=$W.extendKeepingType(this.options,$W.WebSquareparser.parseAttribute(_3));this.options.xmlEvents=$W.WebSquareparser.parseEvent(_3);}if(_2){if(_2._skipExtend===true){this.options._idCollisionCheck=_2._idCollisionCheck;}else{this.options=$W.extendKeepingType(this.options,_2);if(_2._idCollisionCheck!=undefined){this.options._idCollisionCheck=_2._idCollisionCheck;}}}if(!this.id){this.id=this.options.id;}this.options.id=this.id;if(_3){var _4=$W._B.getLocalName(_3);var _5=$W.WebSquareDocument.componentsCache;var _6=_5[_4];if(!_6){_6=_5[_4]=[];}_6.push(this.uuid);this._wTagName=_4;}if(!this.id){this.options.id=this.id=this.uuid;}else{if(window[$W.noConflict].comp[this.id]!=null||window[$W.noConflict].data[this.id]!=null){if(this.options._idCollisionCheck){if(window[$W.noConflict].comp[this.id]!=null&&window[$W.noConflict].comp[this.id]["_orgUUID"]==window[$W.noConflict].comp[this.id]["uuid"]){window[$W.noConflict].comp[this.id]["_orgId"]=null;delete window[$W.noConflict].comp[this.id]["_orgId"];}else{if($W.WebSquaredoc.idCollisionList[this.id]==undefined){var _7=window[$W.noConflict].comp[this.id]||window[$W.noConflict].data[this.id];$W.WebSquaredoc.idCollisionList[this.id]=[_7.uuid];}$W.WebSquaredoc.idCollisionList[this.id].push(this.uuid);var _8=$W._m.getMessage("E_comp_duplicated_Msg",id)||"id["+id+"] \uac00 \uc911\ubcf5\uc0ac\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc18c\uc2a4\ucf54\ub4dc\ub97c \ud655\uc778\ud558\uc138\uc694.";$W.logger.printLog(_8);alert(_8);}}else{try{var _7=window[$W.noConflict].comp[this.id]||window[$W.noConflict].data[this.id];if(_7!=null&&typeof _7.remove=="function"){_7.remove();}}catch(e){$W.exception.printStackTrace(e,null,this);}}}}$W.idCache[this.uuid]=this;$W.idToUUID[this.id]=this.uuid;if($W._N.getConfiguration("/WebSquare/globalExposure/@value").toLowerCase()!="false"){if(this.options.pluginName!="body"){window[this.id]=this;}}if(this.options.pluginName!="body"){window[$W.noConflict].comp[this.id]=this;}if($W._N.docType=="quirk"){this.options=$W.cssManager.resizeStyle(this.id,this.options);}this.dom={};this.attributes=[];if(_3&&this.options.parseAttributes){this.attributes=$W.WebSquareparser.parseAttributesNode(_3);this.getAttributeNode=this.getAttributeNode||$W._t.attributes.getAttributeNode;this.setAttributeNode=this.setAttributeNode||$W._t.attributes.setAttributeNode;this.removeAttributeNode=this.removeAttributeNode||$W._t.attributes.removeAttributeNode;}this.activeStatus="stop";this.completed=false;this.domStatus="";this.modelControl=new $W.modelControl(this.id,this.options.model,this.options.ref,this.options.bind);this.event=new $W.eventControl();this.initialize(_3);this.bindAsEventList=[];this.bindAsUserEventList=[];this.userEventList=[];this.systemEventList={};this.dataObjInfo={};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.extend($W._t.prototype,$W.control.prototype);$W.extend($W._t.prototype,$W._n.prototype);$W._t.prototype.defaultOptions={};$W._t.prototype.configuredOptions={};$W._t.prototype.getConfiguredOptions=function(){var _9=this.defaultOptions.pluginName;var _a,values;var _b={};if(!this.configuredOptions[_9]){var _c=$W.extendKeepingType({id:"",pluginType:"xfControl",pluginName:"",userEvents:[],systemEvents:[],xmlEvents:null,value:"",ref:"",model:"",bind:"",style:"",className:"",tabIndex:"",readOnly:false,disabled:false,useLocale:false,localeRef:"",useConfig:false,toolTip:"",parentEvent:"",_idCollisionCheck:false},this.defaultOptions);if(_c.useConfig||$W._G.getBoolean($W._N.getConfiguration("/WebSquare/"+_9+"/useConfig/@value"))){var _d=$W.configManager.getConfig(_9);_c=$W.extendKeepingType(_c,_d);}_a=[];values=[];for(var _e in _c){_a.push(_e);values.push(_c[_e]);}this.configuredOptions[_9]={keys:_a,values:values};}else{_a=this.configuredOptions[_9].keys;values=this.configuredOptions[_9].values;}for(var i=0;i<_a.length;i++){_b[_a[i]]=values[i];}return _b;};$W._t.prototype.initialize=function(_10){["WebSquare.xfControl.initialize"];try{}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.finalize=function(){["WebSquare.xfControl.finalize"];try{$W._c.fireEvent(this,"ondestroyed");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.applyConfigOption=function(_11){["WebSquare.xfControl.applyConfigOption"];try{var _12=$W.configManager.getConfig(this.options.pluginName);_11=$W.extendKeepingType(_11,_12);return _11;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.setProperty=function(_13,_14){["WebSquare.xfControl.setProperty"];try{if(this.render[_13]!=_14){this.render[_13]=_14;this.onPropertyChange(_13,_14);}}catch(e){$W.exception.printStackTrace(e);}return this;};$W._t.prototype.getProperty=function(_15){["WebSquare.xfControl.getProperty"];try{return this.render[_15];}catch(e){$W.exception.printStackTrace(e);}};$W._t.prototype.setAttribute=function(_16,_17){["WebSquare.xfControl.setAttribute"];try{if(this.options[_16]!=_17){this.options[_16]=_17;$W._c.fireEvent(this,"onattributechanged",_16,_17);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.getAttribute=function(_18){["WebSquare.xfControl.getAttribute"];try{return this.options[_18];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.setUserData=function(key,_1a){["WebSquare.xfControl.setUserData"];try{if(this.defaultOptions[key]!==undefined){$l("!!!WARNING - ["+key+"] can't define as UserData key!!!");return false;}else{this.options[key]=_1a;return true;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.getUserData=function(key){["WebSquare.xfControl.getUserData"];try{if(this.defaultOptions[key]!==undefined){$l("!!!WARNING - ["+key+"] is not UserData key!!!");return;}else{return this.options[key];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.redraw=function(){["WebSquare.xfControl.redraw"];try{if(!this.render){return;}var _1c=this.toHTML();var _1d=/(\<[^<>]*\>)(.*)(\<\/.*\>)/;var _1e=_1c.match(_1d);if(_1e&&_1e.length==4){var _1f=_1e[1];var _20=_1e[2];var _21=_1e[3];this.render.innerHTML=_20;}else{alert("cannot redraw : "+this.id);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.writeTo=function(_22,_23,_24){["WebSquare.xfControl.writeTo"];try{if(this.render){return;}var _25=this.toHTML().wq_trim();var _26={"iframe":true,"img":true,"a":true,"source":true,"embed":true,"form":true,"frame":true,"frameset":true,"line":true,"script":true,"object":true};var bp1=_25.indexOf(">")+1;var bp2=_25.lastIndexOf("<");var _29=bp2<bp1;var _2a=_25.substring(0,bp1).wq_trim();var _2b=_29?"":_25.substring(bp1,bp2);var _2c=_29?"":_25.substring(bp2).wq_trim();if((_2a!=""&&_2c!="")||(_2a!=""&&_29)){var _2d=_2a.match(/\<([^ \>]*)/)[1].toLowerCase();if(_26[_2d]){var re1=/&/g;_2a=_2a.replace(re1,"&amp;");}var _2f=$W._B.parse(_2a+_2c);var _30=$W.WebSquareparser.parseAttribute(_2f.documentElement);if(_2d==="table"){var _31=document.createElement("div");_31.innerHTML=_25;this.render=_31.firstChild;try{for(var idx in _30){if(idx=="style"){this.render.style.cssText=_30[idx];}else{if(idx=="className"){this.render.className=_30[idx];}else{this.render[idx]=_30[idx];}}}}catch(e){$W.exception.printStackTrace(e,null,this);}}else{this.render=document.createElement(_2d);try{for(var idx in _30){if(idx=="style"){this.render.style.cssText=_30[idx];}else{if(idx=="className"){this.render.className=_30[idx];}else{this.render[idx]=_30[idx];}}}if(_2b&&_2d!="iframe"&&_2d!="input"&&_2d!="img"){this.render.innerHTML=_2b;}}catch(e){$W.exception.printStackTrace(e,null,this);}}if(typeof _23=="number"&&_22.targetNode){if(_22.render){_22.render.insertBefore(this.render,_22.targetNode);if(this.parentControl!=_22){_22.addControl(this);}}else{if(_22.insertBefore){_22.insertBefore(this.render,_22.targetNode);}else{alert("cannot writeTo : "+this.id);}}}else{if(_22.render){_22.render.appendChild(this.render);if(this.parentControl!=_22){_22.addControl(this);}}else{if(_22.appendChild){_22.appendChild(this.render);}else{alert("cannot writeTo : "+this.id);}}}}try{if(_24!=undefined&&$W.idCache[_24]){this.parentFrame=_24;$W.idCache[_24].childAllControlList.push(this.uuid);}}catch(e){$W.exception.printStackTrace(e,null,this);$W.exception.printError("parentFrame is not wframe");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.appendToRe1=new RegExp("[\\n\\t\\r]*","g");$W._t.appendToRe2=new RegExp("(^\\<[^<>]*\\>)(.*)(\\<\\/.*\\>$)");$W._t.appendToRe3=new RegExp("\\<([^ \\>]*)");$W._t.prototype.appendTo=function(_33,_34){["WebSquare.xfControl.appendTo"];try{if(this.render){return;}var _35="";var _36="";var _37="";var _38=this.toHTML().wq_trim();_38=_38.replace($W._t.appendToRe1,"");var _39=_38.match($W._t.appendToRe2);if(_39&&_39.length==4){_35=_39[1];_36=_39[2];_37=_39[3];}else{if(!_39&&_38.charAt(0)=="<"&&_38.charAt(_38.length-1)==">"){_35=_38;}}if(_35!=""){var _3a=$W._B.parse(_35+_37);var _3b=$W.WebSquareparser.parseAttribute(_3a.documentElement);var _3c=_35.match($W._t.appendToRe3)[1];this.render=document.createElement(_3c);try{for(var idx in _3b){if(idx=="style"){this.render.style.cssText=_3b[idx];continue;}else{if(idx=="className"){this.render.className=_3b[idx];continue;}}this.render.setAttribute(idx,_3b[idx]);}}catch(e){$W.exception.printStackTrace(e,null,this);}if(_3c.toLowerCase()=="div"){this.render.innerHTML=_36;}else{var _3e=$W._B.parse(_38);var _3f=_3e.documentElement.childNodes;if(_3f.length>0){for(var i=0;i<_3f.length;i++){var _41=_3f[i];this.render.appendChild($W._G.XMLToHTML(_41));}}}if(_33.contentRender){_33.contentRender.appendChild(this.render);_33.addControl(this);}else{if(_33.render){_33.render.appendChild(this.render);_33.addControl(this);}else{if(_33.appendChild){_33.appendChild(this.render);}else{alert("cannot appendTo : "+this.id);}}}}try{if(_34!=undefined&&$W.idCache[_34]){this.parentFrame=_34;$W.idCache[_34].childAllControlList.push(this.uuid);}}catch(e){$W.exception.printStackTrace(e,null,this);$W.exception.printError("parentFrame is not wframe");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.appendChild=function(_42){["WebSquare.xfControl.appendChild"];try{if(!this.render||!_42){return;}if(_42.render){this.render.appendChild(_42.render);}else{this.render.appendChild(_42);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.refreshDom=function(){["WebSquare.xfControl.refreshDom"];try{if(!this.render){return;}for(var i=0;i<this.childControlList.length;i++){var _44=this.childControlList[i];_44.refreshDom();if(_44.domStatus=="new"){if(_44.render){this.render.appendChild(_44.render);}else{_44.writeTo(this);}_44.domStatus="";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.refresh=function(){};$W._t.prototype.refreshItemset=function(){};$W._t.prototype.preActivate=function(){["WebSquare.xfControl.preActivate"];try{if(this.activeStatus!="stop"){$W.logger.printLog("duplicated call for preActivate");return;}this.setRender();var _45=this.childControlList;if((this.options.pluginName==="wframe"||this.options.pluginName=="pageInherit")&&_45[0]!=null){_45=_45[0].childControlList;}for(var i=0;i<_45.length;i++){if(_45[i].activeStatus=="stop"){_45[i].preActivate();}}if(this.render){this.activeStatus="preActive";if(this.setPreAction){this.setPreAction();}this.modelControl.binding();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.activate=function(){["WebSquare.xfControl.activate"];try{if(this.activeStatus=="active"){$l("!!!WARNING!!! duplicate call 'activate' for : "+this.id);return;}if(this.activeStatus=="stop"){this.preActivate();}var _47=this.childControlList;if((this.options.pluginName==="wframe"||this.options.pluginName=="pageInherit")&&_47[0]!=null){_47=_47[0].childControlList;}for(var i=0;i<_47.length;i++){if(_47[i].activeStatus!="active"){_47[i].activate();}}if(this.render){this.activeStatus="active";this.setUserAction();this.setAction();if(this.options.tabIndex){if(this.options.pluginType=="uiplugin.inputCalendar"){var _49=this.getElementById(this.id+"_input");_49.tabIndex=this.options.tabIndex;}else{if(this.options.pluginType=="uiplugin.selectbox"&&this.options.renderType=="native"){var _4a=this.getElementById(this.id+"_input_0");_4a.tabIndex=this.options.tabIndex;}else{this.render.tabIndex=this.options.tabIndex;}}}if(this.options.readOnly==true){this.setReadOnly(this.options.readOnly);}if(this.options.disabled==true){this.setDisabled(this.options.disabled);}if(this.options.toolTip!=""){this.setToolTip(this.render,this.options.toolTip);}$W._c.fireEvent(this,"oncreated",this.options);if(this.modelControl.isDataCollectionRefBinded){this.bind("onclick",this.setRefPosition);}if(this.modelControl.isDataCollectionRefBinded){}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.deactivate=function(){["WebSquare.xfControl.deactivate"];try{this.activeStatus="stop";for(var i=0;i<this.childControlList.length;i++){this.childControlList[i].deactivate();}this.modelControl.unbinding();this.event.clearElement(this.render);this.event.clearCache();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.remove=function(){["WebSquare.xfControl.remove"];try{var _4c=this.render;var _4d=this.getParent();this.destroy();if(_4c!=null){$W.removeNode(_4c);}if(_4d){_4d.removeControl(this);}for(var i in $W.getBody().childControlList){if($W.getBody().childControlList[i]==this){$W.getBody().childControlList.splice(i,1);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.empty=function(){["WebSquare.xfControl.empty"];try{this.destroy();this.render.innerHTML="";return;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.adaptDocType=function(){["WebSquare.xfControl.adaptDocType"];try{if("trigger".indexOf(this.options.pluginName)>-1){return;}if(this.render!=document.body){var _4f=this.render.offsetWidth;if(_4f==0||true){var _50=this.getStyle("height");var _51=this.getStyle("width");var _52={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};if(_50.indexOf("px")>-1){_50=parseInt(_50);var _53=_50-(_52.paddingTop+_52.paddingBottom+_52.borderTopWidth+_52.borderBottomWidth);this.setStyle("height",_53+"px");}else{if(_50.indexOf("%")>-1){}else{}}if(_51.indexOf("px")>-1){_51=parseInt(_51);var _54=_51-(_52.paddingLeft+_52.paddingRight+_52.borderLeftWidth+_52.borderRightWidth);this.setStyle("width",_54+"px");}else{if(_51.indexOf("%")>-1){}else{}}}else{var _50=parseInt(this.getStyle("height"));var _51=parseInt(this.getStyle("width"));this.setStyle("width",(_51-(this.render.offsetWidth-_51))+"px");this.setStyle("height",(_50-(this.render.offsetHeight-_50))+"px");}}}catch(e){$l("error in adaptDocType : "+this.id);$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.setRender=function(dom){["WebSquare.xfControl.setRender"];try{if(dom){if(this.render){this.render.parentNode.insertBefore(dom,this.render);this.render.parentNode.removeChild(this.render);}this.render=dom;}else{if(!this.render||this.render.parentElement==null){this.render=document.getElementById(this.id);}else{}}if(!this.render){}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.getID=function(){["WebSquare.xfControl.getID"];try{return this.id;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.build=function(){["WebSquare.xfControl.build"];try{this.setLayout();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.setUserAction=function(){["WebSquare.xfControl.setUserAction"];try{if(this.options.xmlEvents){this.options.xmlEvents=this.event.addUserEvents(this,this.options.xmlEvents,this.options.userEvents);if(this.options.xmlEvents.length>0){this.event.addEvents(this,this.options.xmlEvents);}}for(var opt in this.options){if(opt.slice(0,3)=="ev:"){var _57=this.options[opt].split(",");for(var j=0;j<_57.length;j++){this.bind(opt.slice(3),_57[j]);}}}if(this.options.eventPause){this.setEventPause(this.options.eventPause,true);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.setLayout=function(){};$W._t.prototype.onComplete=function(){if(this.activeStatus!="active"){return;}if(this.completed){$l("!!!WARNING!!! duplicate call 'onComplete' for : "+this.id);return;}var _59=this.childControlList;if((this.options.pluginName==="wframe"||this.options.pluginName=="pageInherit")&&_59[0]!=null){_59=_59[0].childControlList;}if(_59&&_59.length>0){for(var i=0;i<_59.length;i++){if(!_59[i].completed&&typeof _59[i].onComplete=="function"&&_59[i].getPluginName&&_59[i].getPluginName()!="multiupload"){_59[i].onComplete();}}}this.completed=true;};$W._t.prototype.setToolTip=function(){$W.getBody().setToolTip(this.render,this.options.toolTip);if(this.options.toolTip!=""){this.render.setAttribute("aria-describedby","_balloonTip");}};$W._t.prototype.setInstanceValue=function(_5b,_5c){["WebSquare.xfControl.setInstanceValue"];try{if($W._N.forcedValueSetting==null){$W._N.forcedValueSetting=$W._N.getConfiguration("/WebSquare/forcedValueSetting/@value");}if($W._N.forcedValueSetting=="true"){$W._J.setInstanceValue(_5b,_5c);}else{var _5d=new $W._e.WebSquareSetValueAction(null,null,_5b,_5c,this.id);_5d.activate();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.blur=function(){["WebSquare.xfControl.blur"];try{this.render.blur();}catch(e){$W.exception.printStackTrace(e);}};$W._t.prototype.click=function(){["WebSquare.xfControl.click"];try{this.render.click();}catch(e){$W.exception.printStackTrace(e);}};$W._t.prototype.focus=function(){["WebSquare.xfControl.focus"];try{this.render.focus();}catch(e){$W.exception.printStackTrace(e);}};$W._t.prototype.select=function(){["WebSquare.xfControl.focus"];try{this.render.select();}catch(e){$W.exception.printStackTrace(e);}};$W._t.prototype.getTabIndex=function(){["WebSquare.xfControl.getTabIndex"];try{return this.options.tabIndex;}catch(e){$W.exception.printStackTrace(e);}};$W._t.prototype.onPropertyChange=function(_5e,_5f){["WebSquare.xfControl.onPropertyChange"];};$W._t.prototype.setDisabled=function(_60){["WebSquare.xfControl.setDisabled"];try{_60=$W._G.getBoolean(_60);this.options.disabled=_60;this.setProperty("disabled",_60);this.render.disabled=_60;}catch(e){$W.exception.printStackTrace(e);}return _60;};$W._t.prototype.getDisabled=function(){["WebSquare.xfControl.getDisabled"];try{return this.options&&this.options.disabled;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.setReadOnly=function(_61){["WebSquare.xfControl.setReadOnly"];try{_61=$W._G.getBoolean(_61);this.options.readOnly=_61;this.setProperty("readOnly",_61);}catch(e){$W.exception.printStackTrace(e,null,this);}return _61;};$W._t.prototype.getReadOnly=function(){["WebSquare.xfControl.getReadOnly"];try{return this.options.readOnly;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.getRef=function(){["WebSquare.xfControl.getRef"];try{return this.options.ref;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.displayLocaleValue=function(){if(this.options.localeRef!=null&&this.options.localeRef!=""){var _62=this.getLocaleValue(this.options.localeRef);this.setValue(_62);}};$W._t.prototype.getLocaleValue=function(ref){if(typeof ref=="undefined"||ref==null){ref=this.options.localeRef;}ref=ref.wq_trim();var ret=$W.WebSquareLang[ref];if(ret==null){ret="global_undefined";}return ret;};$W._t.prototype.getDomList=function(key,_66,_67){["WebSquare.xfControl.getLabelList"];_67=_67||this.render;if(this.dom[key]==null){this.dom[key]=_67.getElementsByTagName(_66);}return this.dom[key];};$W._t.prototype.getElementById=function(id){["WebSquare.xfControl.getElementById"];if(this.dom[id]==null){this.dom[id]=document.getElementById(id);}return this.dom[id];};$W._t.prototype.getPluginName=function(){return this.options.pluginName;};$W._t.prototype.toHTML=function(){alert("you should override 'toHTML' for "+this.id);};$W._t.prototype.setAction=function(){alert("you should override 'setAction' for "+this.id);};$W._t.prototype.childFiredEvent=function(o,ev){arguments[0]=this;$W._c.fireEvent.apply(null,arguments);};$W._t.prototype.addEvent=function(_6b,_6c,_6d){["WebSquare.xfControl.addEvent"];try{_6d=_6d||"script";var _6e={name:_6b,action:_6d,param:{handler:_6c}};if(!this.options.xmlEvents){this.options.xmlEvents=[];}this.options.xmlEvents.push(_6e);if(this.activeStatus=="active"){var _6f=this.event.addUserEvents(this,[_6e],this.options.userEvents);if(_6f.length>0){this.event.addEvents(this,_6f);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.bind=function(_70,_71){["WebSquare.xfControl.bind"];try{if(typeof _70==="string"&&(_70.slice(0,2)!="on")){_70="on"+_70;}if(typeof _70==="string"){_70=_70.toLowerCase();var _72=_70.indexOf("(");if(_72>=0){_70=_70.slice(0,_72);}}this.addEvent(_70,_71);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.trigger=function(_73,_74){["WebSquare.xfControl.trigger"];try{if(typeof _73==="string"&&(_73.slice(0,2)!="on")){_73="on"+_73;}if(typeof _73==="string"){_73=_73.toLowerCase();var _75=_73.indexOf("(");if(_75>=0){_73=_73.slice(0,_75);}}var _76=false;if(this.options.userEvents!=undefined){for(var i=0;i<this.options.userEvents.length;i++){if(this.options.userEvents[i]===_73){_76=true;break;}}}if(!_76&&$W._c.isEventSupported(this.render,_73)){if(_74&&extraParamteres.constructor==Array){$W._c.fireSystemEvent(this,_73,_74[0]);}else{$W._c.fireSystemEvent(this,_73);}}else{var _78=[this,_73];_78=_78.concat(_74);$W._c.fireEvent.apply($W._c.fireEvent,_78);_78[0]=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.unbind=function(_79,_7a){["WebSquare.xfControl.unbind"];try{if(typeof _79==="string"&&(_79.slice(0,2)!="on")){_79="on"+_79;}if(typeof _79==="string"){_79=_79.toLowerCase();var _7b=_79.indexOf("(");if(_7b>=0){_79=_79.slice(0,_7b);}}if(typeof _79==="string"&&typeof _7a==="function"){for(var i=this.userEventList.length-1;i>=0;i--){if(_79===this.userEventList[i].name&&_7a===this.userEventList[i].param.handler){this.userEventList.splice(i,1);if(typeof this.systemEventList[_79]==="object"){this.systemEventList[_79].count--;if(this.systemEventList[_79].count<=0){this.event.removeListener(this.render,_79,this.systemEventList[_79].handler);delete this.systemEventList[_79];}}}}}else{if(typeof _79==="string"&&_7a==undefined){for(var i=this.userEventList.length-1;i>=0;i--){if(_79===this.userEventList[i].name){this.userEventList.splice(i,1);}}if(typeof this.systemEventList[_79]==="object"){this.event.removeListener(this.render,_79,this.systemEventList[_79].handler);delete this.systemEventList[_79];}}else{for(var ev in this.systemEventList){this.event.removeListener(this.render,ev,this.systemEventList[ev].handler);}this.userEventList=[];this.systemEventList={};}}this.options.xmlEvents=this.userEventList.slice();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.setEventPause=function(_7e,_7f){var _80={};var _81=false;if(typeof _7e=="string"&&_7e!=""){var _82=_7e.split(",");for(var i=0;i<_82.length;i++){if(_82[i]){_80[_82[i]]=true;}}}else{_81=true;}for(var i=this.userEventList.length-1;i>=0;i--){if(_81||_80[this.userEventList[i].name]){this.userEventList[i].disabled=_7f;}}};$W._t.prototype.getGenerator=function(){var _84=this;while(_84.parentControl){_84=_84.parentControl;if(_84.options&&_84.options.pluginName=="generator"){break;}}return _84;};$W._t.prototype.getGeneratedIndex=function(){if(this.options){var _85=this.getGenerator();for(var i=0;i<_85.generatedIndexSet.length;i++){if(this.options.g_index==_85.generatedIndexSet[i]){return i;}}}else{return null;}};$W._t.prototype.getGeneratedComponent=function(id){var _88=this.getGeneratedIndex();var _89=this.getGenerator();return _89.getChild(_88,id);};$W._t.prototype.getAttributesString=function(obj){var str=" ";var _8c;if(obj){for(var i in obj){if(i.charAt(0)!="@"){_8c=obj[i]+"";str+=i+"='"+_8c.wq_replaceAll("'","&#39;")+"' ";}}}else{if(this.options.parseAttributes){for(var i=0;i<this.attributes.length;i++){_8c=this.attributes[i].value?this.attributes[i].value.wq_replaceAll("'","&#39;"):"";str+=this.attributes[i].name+"='"+_8c+"' ";}}}return str;};$W._t.prototype.invoke=function(_8e,_8f,_90,_91){["WebSquare.uiplugin.xfControl.invoke"];try{var _90=$W.extend({excludePlugin:"",excludeId:"",includePlugin:"",includeId:""},_90||{});var _91=_91||[];if(!this.getPluginName){if(this.childControlList){for(var i=0;i<this.childControlList.length;i++){$W._t.prototype.invoke.call(this.childControlList[i],_8e,_8f,_90,_91);}}return;}var _93={"group":true,"tabContainer":true,"Switch":true,"repeat":true};if(!_93[this.getPluginName()]){$l("The components 'invoke' is not capable of running the component["+this.id+"].");return;}var _94=this.getChildren();for(var i=0;i<_94.length;i++){var _95=_94[i];if(!_95.getPluginName){$W._t.prototype.invoke.call(_95,_8e,_8f,_90,_91);}else{if(_93[_95.getPluginName()]){_95.invoke(_8e,_8f,_90,_91);}else{if(_90.includePlugin.wq_trim().length>0||_90.includeId.wq_trim().length>0){if((" "+_90.includePlugin+" ").indexOf(" "+_95.options.pluginName+" ")===-1&&(" "+_90.includeId+" ").indexOf(" "+_95.id+" ")===-1){continue;}}else{if((" "+_90.excludePlugin+" ").indexOf(" "+_95.options.pluginName+" ")>-1||(" "+_90.excludeId+" ").indexOf(" "+_95.id+" ")>-1){continue;}}switch(_8e){case "assert":if(_95.getValue){var _96="";if(typeof _8f==="function"){_96=_8f(_95);}else{_96=_8f;}if(_95.getValue()==_96){var obj={};obj.id=_95.id;obj.result=true;_91.push(obj);}else{var obj={};obj.id=_95.id;obj.result=false;_91.push(obj);}}break;default:if(_95[_8e]&&typeof _95[_8e]==="function"){if(typeof _8f==="function"){var obj={};obj.id=_95.id;obj.result=_95[_8e](_8f(_95));_91.push(obj);}else{var obj={};obj.id=_95.id;obj.result=_95[_8e](_8f);_91.push(obj);}}break;}}}}return _91;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.getTitle=function(){return this.render.getAttribute("title");};$W._t.prototype.setTitle=function(_98){this.render.setAttribute("title",_98);};$W._t.prototype.makeScope=function(_99){if(!this.scope){this.scope={};}if(_99.childControlList){for(var i=0;i<_99.childControlList.length;i++){var _9b=_99.childControlList[i];if(_9b.org_id){this.scope[_9b.org_id]=_9b;}this.makeScope(_9b);}}};$W._t.attributes=(function(){var _9c={a:["href","target","name","title"]};var _9d={};var _9e=function(_9f){var _a0=_9d[_9f];if(!_a0){var _a1=_9c[_9f];_a0={};if(_a1){for(var i=0;i<_a1.length;i++){_a0[_a1[i]]=true;}}var _a3=$W.configManager.getConfig("attributes/whiteList");if(_a3&&_a3[_9f]){var _a4=_a3[_9f].split(",");for(var i=0;i<_a4.length;i++){_a0[_a4[i]]=true;}}_9d[_9f]=_a0;}return _a0;};var _a5=function(_a6){["WebSquare.xfControl.getAttributeNode"];try{return this.render.getAttribute(_a6);}catch(e){$W.exception.printStackTrace(e);}};var _a7=function(_a8,_a9){["WebSquare.xfControl.setAttributeNode"];try{if(_9e(this.options.tagname)[_a8]){this.render.setAttribute(_a8,_a9);}else{$W.logger.printLog("Cannot set '"+_a8+"' attribute node on ["+this.id+"]. See attributes configurations.");}}catch(e){$W.exception.printStackTrace(e);}};var _aa=function(_ab){["WebSquare.xfControl.removeAttributeNode"];try{if(_9e(this.options.tagname)[_ab]){this.render.removeAttribute(_ab);}else{$W.logger.printLog("Cannot remove '"+_ab+"' attribute node on ["+this.id+"]. See attributes configurations.");}}catch(e){$W.exception.printStackTrace(e);}};return {getAttributeNode:_a5,setAttributeNode:_a7,removeAttributeNode:_aa};})();$W._t.prototype.broadcast=function(_ac){["WebSquare.xfControl.prototype.broadcast"];try{for(var id in this.dataObjInfo){var _ae=this.dataObjInfo[id];switch(_ae.initializeType){case "linkedDataList":if(_ac.linkedDataList){_ae[_ac.linkedDataList[0]].apply(_ae,_ac.linkedDataList[1]||[]);}break;}}if(this.element){if(this.element.tagName=="w2:grid"||this.element.tagName=="w2:gridView"){if(_ac.gridView){this[_ac.gridView[0]].apply(this,_ac.gridView[1]);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.rollback=function(){["WebSquare.xfControl.prototype.rollback"];try{var _af=this.modelControl.getData();var _b0=this.getValue();var _b1=this.options.keepValue?_b0:_af;if(_b1!=_b0){this.setValue(_b1);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.setRefPosition=function(){["WebSquare.xfControl.prototype.setRefPosition"];try{if(this.modelControl.isDataCollectionRefBinded){var _b2=this.modelControl.dataCollectionRefInfo.dataComp;if(_b2){switch(_b2.initializeType){case "dataList":if(typeof _b2.rowPosition=="number"){var _b3=_b2.getColumnPosition();var _b4=this.modelControl.dataCollectionRefInfo.colID;if(_b3!=_b4){_b2.setColumnPosition(_b4);}}break;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._t.prototype.fireRefEvent=function(){["WebSquare.xfControl.prototype.frieRefEvent"];try{if(this.modelControl.isDataCollectionRefBinded){var _b5=this.modelControl.dataCollectionRefInfo.dataComp;if(_b5){switch(_b5.initializeType){case "dataList":if(typeof _b5.rowPosition=="number"){var _b6=_b5.getColumnPosition();var _b7=this.modelControl.dataCollectionRefInfo.colID;var _b8=this.getValue();if(_b6==_b7){var _b9=_b5.fireOnBeforeColumnChangeEvent({"newValue":_b8});if(_b9===false){this.rollback();}}}break;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.xfControl=$W._t;$W.modelControl=function(id,_2,_3,_4){["WebSquare.modelControl"];try{this.id=id;this.model=_2;this.ref=_3;this.bind=_4;this.itemsetObj=null;this.useRef=false;this.useBind=false;this.useItemset=false;this.isDataCollectionRefBinded=false;this.isDataCollectionItemsetBinded=false;this.dataCollectionRefInfo={};this.dataCollectionItemsetInfo={};}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.setItemset=function(_5,_6,_7){["WebSquare.modelControl.setItemset"];try{this.itemsetObj={nodeset:_5||"",label:_6||"",value:_7||""};}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.binding=function(){["WebSquare.modelControl.binding"];try{if(this.isDataCollectionItemsetBinded||(this.ref&&this.ref.indexOf("data:")>-1)){this.dataCollectionBinding(this.ref);}else{this.bindRef();this.bindItemset();}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.bindRef=function(){["WebSquare.modelControl.bindRef"];try{if(this.ref&&this.ref!=""){$W.WebSquaredoc.refElement.push(new $W.RefElement(this.ref,this.id));$W._J.setBindElement(this.ref,this.id);this.useRef=true;}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.bindItemset=function(){["WebSquare.modelControl.bindItemset"];try{if(this.itemsetObj&&this.itemsetObj.nodeset!=""){$W.WebSquaredoc.itemsetElement.push(new $W.ItemsetElement(this.itemsetObj.nodeset,this.itemsetObj.label,this.itemsetObj.value,this.id));this.useItemset=true;}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.unbindRef=function(){["WebSquare.modelControl.unbindRef"];try{if(this.isDataCollectionRefBinded){this.useRef=false;this.isDataCollectionRefBinded=false;if(this.dataCollectionRefInfo.dataComp&&this.dataCollectionRefInfo.dataComp.childCompHash){this.dataCollectionRefInfo.dataComp.removeChild(this.dataCollectionRefInfo.childComp.id);}this.dataCollectionRefInfo={};}else{for(var j in $W.WebSquaredoc.refElement){var _9=$W.WebSquaredoc.refElement[j];var _a=_9.id;if(_a==this.id){$W.WebSquaredoc.refElement.splice(j,1);this.useRef=false;}}}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.unbindItemset=function(){["WebSquare.modelControl.unbindItemset"];try{if(this.isDataCollectionItemsetBinded){this.useItemset=false;this.isDataCollectionItemsetBinded=false;if(this.dataCollectionItemsetInfo.dataComp){this.dataCollectionItemsetInfo.dataComp.removeChild(this.dataCollectionItemsetInfo.childComp.id);}this.dataCollectionItemsetInfo={};}else{for(var k in $W.WebSquaredoc.itemsetElement){var _c=$W.WebSquaredoc.itemsetElement[k];var _d=_c.id;try{if(_d==this.id){$W.WebSquaredoc.itemsetElement.splice(k,1);this.useItemset=false;}}catch(e){}}}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.unbinding=function(){["WebSquare.modelControl.unbinding"];try{if(this.ref!=""){}if(this.itemsetObj.nodeset!=""){}if(this.ref!=""){}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.isBinded=function(){["WebSquare.modelControl.isBinded"];return this.useRef;};$W.modelControl.prototype.isItemsetBinded=function(){["WebSquare.modelControl.isItemsetBinded"];return this.useItemset;};$W.modelControl.prototype.setRef=function(_e){["WebSquare.modelControl.setRef"];try{var _f=_e||"";if(this.useRef&&typeof _f=="string"&&_f.length>0){this.ref=_f;this.binding();}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.setData=function(_10,_11){["WebSquare.modelControl.setData"];try{if(this.useRef==true){if(this.getData()!=_10){if(this.isDataCollectionRefBinded){_11=_11||"column";$W._j.api.setRefValue(this.dataCollectionRefInfo,_10,_11);}else{$W._J.setInstanceValue(this.ref,_10);}}return true;}return false;}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.getData=function(){["WebSquare.modelControl.getData"];try{if(this.ref!=""){if(this.isDataCollectionRefBinded){return $W._j.api.getRefValue(this.dataCollectionRefInfo);}else{return $W._J.getInstanceValue(this.ref,this.model);}}else{return "";}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.setItemsetData=function(_12){["WebSquare.modelControl.setItemsetData"];try{}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.getItemsetData=function(){["WebSquare.modelControl.getItemsetData"];try{var _13=[];if(this.itemsetObj.nodeset!=""){var _14=this.itemsetObj.label;var _15=this.itemsetObj.value;while(1){var _16=_14.lastIndexOf("/");if(_16<0){break;}_14=_14.substring(0,_16);}while(1){var _17=_15.lastIndexOf("/");if(_17<0){break;}_15=_15.substring(0,_17);}var _18=this.itemsetObj.nodeset;var _19=this.itemsetObj.label;var _1a=this.itemsetObj.value;if(_15==_14&&_15!=""){var _1b=_19.lastIndexOf("/");var _1c=_1a.lastIndexOf("/");if(_1b>0&&_1c>0){_18+="/"+_14;_19=_19.replace(_14+"/","");_1a=_1a.replace(_15+"/","");}}if(_18.lastIndexOf("/")==_18.length-1){_18=_18.substring(0,_18.lastIndexOf("/"));}if(_19.indexOf("/")==0){_19=_19.substring(1);}if(_1a.indexOf("/")==0){_1a=_1a.substring(1);}var _1d=$W._J.findInstanceNodes(_18);if(_1d){for(var i=0;i<_1d.length;++i){var _1f=_1d[i];var _14=$W._B.getValue(_1f,_19);var _15=$W._B.getValue(_1f,_1a);_13.push({label:_14,value:_15,xml:_1f});}}}return _13;}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.getDataCollectionItemsetData=function(_20){["WebSquare.modelControl.getDataCollectionItemsetData"];try{var _21=this.itemsetObj.nodeset.replace("data:","");var _22=$W._j["comp"][_21];var _23=$W._N.getComponentById(_20);this.isDataCollectionItemsetBinded=true;$W._j.api.addRelation(_23.id,_21);if(_22&&$W.idCache[_22.uuid]){_22.addChild(_23);this.dataCollectionItemsetInfo["dataComp"]=_22;this.dataCollectionItemsetInfo["childComp"]=_23;switch(_22.initializeType){case "linkedDataList":case "dataList":var _24=[];var _25={};for(var i=0;i<_22.getDataLength();i++){var _27=_22.getCellData(i,this.itemsetObj.label);var _28=_22.getCellData(i,this.itemsetObj.value);if(_25[_27]==_28){continue;}_25[_27]=_28;_24.push({label:_27,value:_28});}return _24;case "dataMap":var _24=[];var _25={};for(var i=0;i<_22.getCount();i++){var _27=_22.get(this.itemsetObj.label);var _28=_22.get(this.itemsetObj.value);if(_25[_27]==_28){continue;}_25[_27]=_28;_24.push({label:_27,value:_28});}return _24;}}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.dataCollectionBinding=function(_29){["WebSquare.modelControl.dataCollectionBinding"];try{this.dataCollectionBindRef(_29);this.dataCollectionBindItemset(_29);}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.dataCollectionBindRef=function(_2a){["WebSquare.modelControl.dataCollectionBindRef"];try{if(this.ref&&this.ref!=""){this.isDataCollectionRefBinded=true;var _2b=_2a.split(".");var _2c=_2b[0].replace("data:","");var _2d=$W._j["comp"][_2c];var _2e=$W._N.getComponentById(this.id);if(_2d){_2d.addRefComp(_2e);this.dataCollectionRefInfo["dataComp"]=_2d;this.dataCollectionRefInfo["childComp"]=_2e;switch(_2d.initializeType){case "linkedDataList":case "dataList":this.dataCollectionRefInfo["colID"]=_2b[1];break;case "dataMap":this.dataCollectionRefInfo["key"]=_2b[1];break;}}$W._j.api.addRefRelation(_2e.id,_2c);this.useRef=true;}}catch(e){$W.exception.printStackTrace(e);}};$W.modelControl.prototype.dataCollectionBindItemset=function(){["WebSquare.modelControl.dataCollectionBindItemset"];try{if(this.itemsetObj&&this.itemsetObj.nodeset!=""){this.useItemset=true;}}catch(e){$W.exception.printStackTrace(e);}};requires("uiplugin/control/control.js");requires("uiplugin/control/xfControl.js");requires("uiplugin/control/htmlControl.js");requires("uiplugin/control/cssManager.js");requires("uiplugin/control/controlFactory.js");requires("uiplugin/control/executeHelper.js");requires("uiplugin/balloonTip/balloonTip.js");$W.controlManager=function(){["WebSquare.controlManager"];try{this.bodyControl=null;this.helperList=new Array();this.addHelper(new $W.visibleHelper());this.addHelper(new $W.actionHelper());}catch(e){$W.exception.printStackTrace(e);}};$W.controlManager.prototype.addHelper=function(_1){["WebSquare.controlManager.addHelper"];try{this.helperList.push(_1);}catch(e){$W.exception.printStackTrace(e);}};$W.controlManager.prototype.run=function(_2,_3){["WebSquare.controlManager.run"];try{$W._N.docType=$W._N.getConfiguration("docType")||"quirk";$W.cssManager.startCache();this.bodyControl=$W.controlFactory.create(null,null,_2);$W.cssManager.endCache();var _4=$W._J.getModelByID();if(_4){for(var i=0;i<$W.pageInheritSubmissionList.length;i++){var _6=$W.pageInheritSubmissionList[i];while(_6.length>0){var _7=_6.pop();_7.parentElement=_4.element;_4.submissions.push(_7);}}for(var i=0;i<$W.pageInheritWorkflowList.length;i++){var _8=$W.pageInheritWorkflowList[i];while(_8.length>0){var _9=_8.pop();_9.parentElement=_4.element;_4.workflows.push(_9);}}}if(_3){$W.BootLoader.performanceCheck.mid3=new Date();$W.BootLoader.printLog("[SPA4][CREATE] WebSquare Object Creation Complete. Time:"+($W.BootLoader.performanceCheck.mid3.getTime()-$W.BootLoader.performanceCheck.mid2.getTime())+"ms");}else{$W.BootLoader.performanceCheck.mid3=new Date();$W.BootLoader.printLog("[STEP4][CREATE] WebSquare Object Creation Complete. Time:"+($W.BootLoader.performanceCheck.mid3.getTime()-$W.BootLoader.performanceCheck.mid2.getTime())+"ms");}$W._N.executePointScript(4);$W.setBody(this.bodyControl);var _a=this;if($W.pageInheritScriptArr){$W.externalScriptArr=$W.pageInheritScriptArr.concat($W.externalScriptArr);$W.pageInheritScriptArr=[];}if($W.externalScriptArr.length>0){$W.externalScriptArr.push(function(){if(!$W.callExecuteHelper){$W.callExecuteHelper=true;_a.executeHelper(_3);}});$W._G.js.apply(null,$W.externalScriptArr);$W.externalScriptArr=[];}else{if(!$W.callExecuteHelper){$W.callExecuteHelper=true;this.executeHelper(_3);}}}catch(e){$W.exception.printStackTrace(e);}};$W.controlManager.prototype.executeHelper=function(_b){["WebSquare.controlManager.executeHelper"];try{for(var i=0;i<this.helperList.length;i++){this.helperList[i].execute(this.bodyControl,_b);}}catch(e){$W.exception.printStackTrace(e);}};$W.controlFactory=function(){this.createControlHash={"script":"pass","label":"pass","value":"pass","choices":"pass","item":"pass","itemset":"pass","tab":"pass","tabs":"pass","mainMenu":"pass","childMenu":"pass","node":"pass","attributes":"pass","switch":"Switch","case":"group","contents":"group","content":"group","autoFinder":"autoComplete"};var _1=$W._N.getConfiguration("/WebSquare/parseHtml/@script")||"false";if(_1=="true"){this.createControlHash.script="script";}};$W.controlFactory.prototype.create=function(id,_3,_4,_5,_6,_7){["WebSquare.controlFactory.create"];try{if(_5=="self"){var _8=this.createControl(id,_3,_4,null,_7,_6);_5=_8;}else{var _8=this.createControl(id,_3,_4,_5,_7,_6);}if(_8){_8.parentFrame=_6;var _9=_3&&_3.pluginName?_3.pluginName:$W._B.getLocalName(_4);if(_8.options&&_8.options.parseChild){for(var _a=_4.firstChild;_a!=null;_a=_a.nextSibling){var _b=this.create(null,null,_a,_5,_6,_7);if(_b){_8.addControl(_b);}}}if(_8.options&&(_8.options.pluginName=="wframe"||_8.options.pluginName=="pageInherit")){_8.makeFrame();}}return _8;}catch(e){$W.exception.printStackTrace(e);}};$W.controlFactory.prototype.createControl=function(id,_d,_e,_f,_10,_11){["WebSquare.controlFactory.createControl"];try{if(!_10&&!_e){return null;}var _12=null;if(_d!=null){_d._idCollisionCheck=true;}else{_d={"_idCollisionCheck":true,"_skipExtend":true};}if((_e==undefined&&_10)||_e.nodeType==1){var _13=id||_e.getAttribute("id");if(_13){var _14=_f?_f.id:"";id=(_14?_14+"_":"")+_13;}else{id=_13;}var _15=_d&&_d.pluginName?_d.pluginName:$W._B.getLocalName(_e);var _16=$W._N._XML_NAMESPACE;if((_10||_e.namespaceURI==_16["XFORMS"]||_e.namespaceURI==_16["W2"])&&_15!="tag"&&_15!="style"){var _17=this.createControlHash[_15]||_15;switch(_17){case "pass":return null;case "secret":_17="uiplugin.input";_e.setAttribute("type","password");_e.setAttribute("pluginName","secret");break;case "select1":var _18=_e.getAttribute("appearance");if(_18=="full"){_17="uiplugin.radio";}else{_17="uiplugin.selectbox";}break;case "select":var _18=_e.getAttribute("appearance");if(_18=="full"){_17="uiplugin.checkbox";}else{if(_18=="checkcombobox"){_17="uiplugin.checkcombobox";}else{_17="uiplugin.multiselect";}}break;default:_17="uiplugin."+_17;break;}try{var _19=$W._G.loadedUserComponentPluginName[_17.slice(9)];var _1a=$W._G.loadedInheritComponentPluginName[_17.slice(9)];if(_19){var _1b=$W._G.loadedUserComponent[_19];var xml=_1b.cloneNode(true);var _1d=xml.getAttribute("class");if(_e!=undefined){if(_d==null){_d={};}$W.extendKeepingType(_d,$W.WebSquareparser.parseAttribute(_e));_d._skipExtend=false;}if(_1d&&_d.className){_d.className=_1d+" "+_d.className;}else{if(_1d&&!_d.className){_d.className=_1d;}}if(_e){while(_e.childNodes[0]){var _1e=_e.childNodes[0];var _1f=$W._B.nodeInfoObj(_1e);var _20=_1f.nodeName;if((_1e.nodeType==1)&&_20=="script"){var _21=_1e.attributes;var _22=false;for(var j=0;j<_21.length;j++){var att=_21[j];if($W._B.matchNode(att,"event",$W._N._XML_NAMESPACE.EVENTS)){_22=true;break;}}if(_22){xml.appendChild(_1e);}else{_e.removeChild(_1e);}}else{_e.removeChild(_1e);}}}_d.pluginName=null;_d.udcName=_17.slice(9);if(!id){id=$W.UUIDPrefix+"_"+$W.UUID++;}_12=this.create(id,_d,xml,"self",_11,_10);if(!_d.style){_12.options.style="";}_f=_12;_12.makeScope(_12);}else{if(_1a){var _1b=$W._G.loadedInheritComponent[_1a];var xml=_1b.cloneNode(true);var _1d=xml.getAttribute("class");if(_e!=undefined){if(_d==null){_d={};}_d.pluginName=null;$W.extendKeepingType(_d,$W.WebSquareparser.parseAttribute(_e));_d._skipExtend=false;}if(_1d&&_d.className){_d.className=_1d+" "+_d.className;}else{if(_1d&&!_d.className){_d.className=_1d;}}while(_e.childNodes[0]){xml.appendChild(_e.childNodes[0]);}_d.inheritedCompName=_17.slice(9);if(!id){id=$W.UUIDPrefix+"_"+$W.UUID++;}_12=this.create(id,_d,xml,"self",_11,_10);if(!_d.style){_12.options.style="";}_f=_12;_12.makeScope(_12);}else{requires(_17);var obfuscator_compNameAry=_17.split(".");var _25=$W._G.isMobile();if(_e){if(obfuscator_compNameAry[1]=="selectbox"){var _26=_e.getAttribute("renderType");if(!_26){_26=$W._N.getConfiguration("/WebSquare/selectbox/renderType/@"+(_25?"mobile":"value"))||"auto";}if(_26=="native"||_26=="select"||(_26=="auto"&&_25)){obfuscator_compNameAry[1]+="_native";}}}if(_d&&_d.inheritedCompName){if(!$W[obfuscator_compNameAry[0]][_d.inheritedCompName]){$W[obfuscator_compNameAry[0]][_d.inheritedCompName]=function(id,_28,_29){$W[obfuscator_compNameAry[0]][obfuscator_compNameAry[1]].call(this,id,_28,_29);};$W.extend($W[obfuscator_compNameAry[0]][_d.inheritedCompName].prototype,$W[obfuscator_compNameAry[0]][obfuscator_compNameAry[1]].prototype);var _2a;if(_e){var _2b=_e.firstChild;for(var _2c=_2b;_2c!=null;_2c=_2c.nextSibling){if(_2c.nodeName=="w2:inheritOverride"){_2a=_2c;break;}}}if(_2a){var _2d=$W._B.getCDataNodeValue(_2a).trim();if(_2d!=""){_2d="."+_2d;}eval("(function(){ var superComponent = WebSquare[obfuscator_compNameAry[0]][obfuscator_compNameAry[1]].prototype;"+"WebSquare"+"."+obfuscator_compNameAry[0]+"."+_d.inheritedCompName+_2d+"})();");}for(key in $W[obfuscator_compNameAry[0]][_d.inheritedCompName].prototype.overrideFunc){$W[obfuscator_compNameAry[0]][_d.inheritedCompName].prototype[key]=$W[obfuscator_compNameAry[0]][_d.inheritedCompName].prototype.overrideFunc[key];}}_12=new $W[obfuscator_compNameAry[0]][_d.inheritedCompName](id,_d,_e);_12.options.inheritFrom=obfuscator_compNameAry[1];}else{if(_f&&$W.WebSquareparser.parseAttribute(_e).ref){var _14=_f?_f.id:"";var _2e=$W.WebSquareparser.parseAttribute(_e).ref.replace("data:","data:"+_14+"_");_e.setAttribute("ref",_2e);}if(_f&&$W.WebSquareparser.parseAttribute(_e).dataList){var _14=_f?_f.id:"";var _2f=(_14?_14+"_":"")+$W.WebSquareparser.parseAttribute(_e).dataList;_e.setAttribute("dataList",_2f);}if(_f&&$W.WebSquareparser.parseItemset(_e).nodeset){var _30=_e.nodeName;if(_30.indexOf(":")>=0){var _31=_30.split(":")[0];}_31=_31||"xf";var _32=(_31=="xf")?$W._N._XML_NAMESPACE.XFORMS:$W._N._XML_NAMESPACE.W2;var _33=$W._B.findNode(_e,"*['"+"choices"+"'=local-name()]['"+_32+"'=namespace-uri()]");if(_33){var _34=$W._B.findNode(_33,"*['"+"itemset"+"'=local-name()]['"+_32+"'=namespace-uri()]");var _14=_f?_f.id:"";var _35=$W.WebSquareparser.parseAttribute(_34).nodeset.replace("data:","data:"+_14+"_");_34.setAttribute("nodeset",_35);}}if(_f&&$W.WebSquareparser.parseAttribute(_e)["for"]){var _14=_f?_f.id:"";var _36=(_14?_14+"_":"")+$W.WebSquareparser.parseAttribute(_e)["for"];_e.setAttribute("for",_36);}_12=new $W[obfuscator_compNameAry[0]][obfuscator_compNameAry[1]](id,_d,_e);}}}if(_f){_12.org_id=_13;_12.scope_obj=_f;}}catch(e){$W.exception.printStackTrace(e);return null;}}else{if(_15=="body"){requires("uiplugin.body");_12=new $W._a.bk(id,null,_e);}else{if(this.createControlHash[_15]!="pass"){requires("uiplugin/html/tag.js");_12=new $W.tag(id,null,_e);}}}}else{if(_e.nodeType==3){if(_e.nodeValue.wq_trim()!=""){requires("uiplugin/html/tag.js");_12=new $W.tag(id,null,_e);}}else{_12=null;}}return _12;}catch(e){$W.exception.printStackTrace(e,"id ["+id+"] compName["+_17+"]");}};$W.controlFactory=new $W.controlFactory();requires("uiplugin/control/controlIterator.js");$W.executeHelper=function(){["WebSquare.executeHelper"];};$W.executeHelper.prototype.execute=function(_1){};$W.visibleHelper=function(){};$W.extend($W.visibleHelper.prototype,$W.executeHelper.prototype);$W.visibleHelper.prototype.execute=function(_2,_3){["WebSquare.visibleHelper.execute"];try{$W.WebSquaredoc.cssList=$W.WebSquaredoc.cssList.concat($W.cssManager.executeImport());var _4=$W._N.getConfiguration("/WebSquare/visibleHelper/targetHandler/@value");var obfuscator_msg=null;if($W.targetInfo&&$W.targetInfo.constructor==Array){}else{$W.BootLoader.printLog("controlCollection.toHTML - before");obfuscator_msg=_2.toHTML();$W.BootLoader.printLog("controlCollection.toHTML - after");}if(_4!=null&&_4!=""){var _5=eval(_4+"(obfuscator_msg);");if(_5!=undefined){if(typeof _5=="string"){_5=document.getElementById(_5);}_5.style.cssText=_2.options.style;}$W.useVisibleHelper=true;}else{if($W.targetInfo){if(typeof $W.targetInfo=="string"){var _5=document.getElementById($W.targetInfo);if(_5){_5.innerHTML=obfuscator_msg;}_5.style.cssText=_2.options.style;}else{if($W.targetInfo.constructor==Array){$W.BootLoader.printLog("controlCollection.toHTML - before");for(var i=0;i<$W.targetInfo.length;i++){var _7=$W.targetInfo[i];var _8=$W.idToUUID[_7.component];if(_8&&$W.idCache[_8]!=undefined){var _9=_7.target;if(typeof _9==="string"){_9=document.getElementById(_9);}_9.innerHTML=$W.idCache[_8].toHTML();}}$W.BootLoader.printLog("controlCollection.toHTML - after");}else{if(typeof $W.targetInfo=="object"){$W.targetInfo.innerHTML=obfuscator_msg;}}}$W.targetInfo="";}else{document.body.innerHTML=obfuscator_msg;document.body.style.cssText=_2.options.style;}}if(!("onhashchange" in window)&&(_3||location.hash.lastIndexOf("w2xPath")>=0)){if($W._G._hiddenFrame){if(document.getElementById($W._G._hiddenFrame.id)==null){document.body.appendChild($W._G._hiddenFrame);}}else{$W._G._makeFrame();}$W._G._iframe_wait=true;$W._G._hiddenFrame.contentWindow.location.search=$W.w2xPath;}if($W._N.getConfiguration("/WebSquare/mobile/hideAddressBar/@value")=="true"&&$W._G.isMobile()){document.body.scrollTop=1;}try{if(typeof WebSquareExternal!="undefined"){if(WebSquareExternal.xmlInstance){WebSquareExternal.xmlInstance=$W._B.parse(WebSquareExternal.xmlInstance);}if(WebSquareExternal.targetInstance){var _a;if(WebSquareExternal.xmlInstance){_a=WebSquareExternal.xmlInstance;}else{if(WebSquareExternal.jsonInstance){_a=$W._I.JSON2XML(WebSquareExternal.jsonInstance);}}if(_a){$W.WebSquaredoc.models[0].rebuild(_a,WebSquareExternal.targetInstance);$W.WebSquaredoc.models[0].refresh();}}}}catch(ee){$W.exception.printStackTrace(ee);}if(_3){$W.BootLoader.performanceCheck.mid4=new Date();$W.BootLoader.printLog("[SPA5][RENDER] HTML Rendering Complete. Time:"+($W.BootLoader.performanceCheck.mid4.getTime()-$W.BootLoader.performanceCheck.mid3.getTime())+"ms");_2.preActivate();$W.BootLoader.performanceCheck.mid5=new Date();$W.BootLoader.printLog("[SPA6][ADJUST] Pre Event Activation. Time:"+($W.BootLoader.performanceCheck.mid5.getTime()-$W.BootLoader.performanceCheck.mid4.getTime())+"ms");}else{$W.BootLoader.performanceCheck.mid4=new Date();$W.BootLoader.printLog("[STEP5][RENDER] HTML Rendering Complete. Time:"+($W.BootLoader.performanceCheck.mid4.getTime()-$W.BootLoader.performanceCheck.mid3.getTime())+"ms");$W._N.executePointScript(5);_2.preActivate();$W.BootLoader.performanceCheck.mid5=new Date();$W.BootLoader.printLog("[STEP6][ADJUST] Pre Event Activation. Time:"+($W.BootLoader.performanceCheck.mid5.getTime()-$W.BootLoader.performanceCheck.mid4.getTime())+"ms");$W._N.executePointScript(6);}}catch(e){$W.exception.printStackTrace(e);}};$W.actionHelper=function(){};$W.extend($W.actionHelper.prototype,$W.executeHelper.prototype);$W.actionHelper.prototype.execute=function(_b,_c){["WebSquare.actionHelper.execute"];try{var _d=$W._N.getConfiguration("/WebSquare/postDrawMode/@value")||"asynchronous";if(_d==="synchronous"){$W.BootLoader.printLog("Synchronous call process");if($W._G._stopProcess(_c)){return;}$W._j["activated"]=true;for(var _e in $W._j["comp"]){$W._j["comp"][_e].activate();}_b.activate();if(_c){$W.BootLoader.performanceCheck.mid6=new Date();$W.BootLoader.printLog("[SPA7][EVENT] Event Activation. Time:"+($W.BootLoader.performanceCheck.mid6.getTime()-$W.BootLoader.performanceCheck.mid5.getTime())+"ms");}else{$W.BootLoader.performanceCheck.mid6=new Date();$W.BootLoader.printLog("[STEP7][EVENT] Event Activation. Time:"+($W.BootLoader.performanceCheck.mid6.getTime()-$W.BootLoader.performanceCheck.mid5.getTime())+"ms");$W._N.executePointScript(7);}if($W._G._stopProcess(_c)){return;}$W.startOnLoad(_c);if($W._G._stopProcess(_c)){return;}else{if("onhashchange" in window){window.onhashchange=$W._G.onhashchange;}else{$W._G._wait_for_iframe_reload(_c);}}_b.onComplete();$W._j.api.onComplete();}else{$W.BootLoader.printLog("Asynchronous call process");$W._N.setTimer(function(){if($W._G._stopProcess(_c)){return;}$W._j["activated"]=true;for(var _f in $W._j["comp"]){$W._j["comp"][_f].activate();}_b.activate();if(_c){$W.BootLoader.performanceCheck.mid6=new Date();$W.BootLoader.printLog("[SPA7][EVENT] Event Activation. Time:"+($W.BootLoader.performanceCheck.mid6.getTime()-$W.BootLoader.performanceCheck.mid5.getTime())+"ms");}else{$W.BootLoader.performanceCheck.mid6=new Date();$W.BootLoader.printLog("[STEP7][EVENT] Event Activation. Time:"+($W.BootLoader.performanceCheck.mid6.getTime()-$W.BootLoader.performanceCheck.mid5.getTime())+"ms");$W._N.executePointScript(7);}if($W._G._stopProcess(_c)){return;}$W.startOnLoad(_c);if($W._G._stopProcess(_c)){return;}else{if("onhashchange" in window){window.onhashchange=$W._G.onhashchange;}else{$W._G._wait_for_iframe_reload(_c);}}_b.onComplete();$W._j.api.onComplete();},{key:"WebSquare_startOnload",caller:this,delay:1});}}catch(e){$W.exception.printStackTrace(e);}};$W._a.av=function(id,_2,_3){["WebSquare.uiplugin.balloonTip"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.av.prototype,$W._t.prototype);$W._a.av.prototype.defaultOptions={pluginType:"uiplugin.balloonTip",pluginName:"balloonTip",editable:true};$W._a.av.prototype.initialize=function(_4){["WebSquare.uiplugin.balloonTip.initialize"];try{}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.av.prototype.toHTML=function(){["WebSquare.uiplugin.balloonTip.toHTML"];try{var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2balloonTip'>");_5.push("<table id='"+this.id+"_mytable' class='w2balloonTip_table' cellpadding='0' cellspacing='0'>");_5.push("<tr>");_5.push("<td class='w2balloonTip_col_topleft'></td>");_5.push("<td class='w2balloonTip_col_topcenter'></td>");_5.push("<td class='w2balloonTip_col_topright'></td>");_5.push("</tr>");_5.push("<tr>");_5.push("<td class='w2balloonTip_col_centerleft'><div class='w2balloonTip_left'></div></td>");_5.push("<td class='w2balloonTip_col_centercenter'>");_5.push("<div id='"+this.id+"_label' role='tooltip' class='w2balloonTip_label'>12121212</div>");_5.push("</td>");_5.push("<td class='w2balloonTip_col_centerright'><div class='w2balloonTip_right'></div></td>");_5.push("</tr>");_5.push("<tr>");_5.push("<td id='bleft' class='w2balloonTip_col_bottomleft'></td>");_5.push("<td class='w2balloonTip_col_bottomcenter'></td>");_5.push("<td id='bright' class='w2balloonTip_col_bottomright'></td>");_5.push("</tr>");_5.push("</table>");_5.push("</div>");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.av.prototype.setAction=function(){["WebSquare.uiplugin.balloonTip.setAction"];try{this.dom.label=document.getElementById(this.id+"_label");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.av.prototype.setValue=function(_7){try{this.dom.label.innerHTML=_7;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.av.prototype.getValue=function(){try{return this.dom.label.innerHTML;}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.balloonTip=$W._a.av;try{$W.createLocalStorage=function(_1){try{if($W["localStorage"]==undefined){$W["localStorage"]=(function(_2){var _3="websquare_localStorage_keyList";var _4=";";if("localStorage" in _2&&typeof _2["localStorage"]!=="unknown"&&_2["localStorage"]!==null){var _5=_2["localStorage"];var _6={};_6.length=_5.length;_6.key=function(_7){var _7=Number(_7);if(isNaN(_7)||_7>=this.length||_7<0){return null;}return _5.key(_7);};_6.getItem=function(_8){return _5.getItem(_8);};_6.setItem=function(_9,_a){var ch=_9.charAt(0);var _c=/[a-zA-Z]/;if(_c.exec(ch)){if(_9===_3){$l(_3+": This key is reserved.");return null;}if(_9.search(_4)>=0){$l(_4+": The key name must not contain colon(;).");return null;}_5.setItem(_9,_a);this.length=_5.length;}else{$l("The key name must start with [a-zA-Z]");return null;}};_6.removeItem=function(_d){_5.removeItem(_d);this.length=_5.length;};_6.clear=function(){_5.clear();this.length=_5.length;};_6.getAllItem=function(){var r={};for(var _f in _5){r[_f]=_5[_f];}return r;};return _6;}else{var _10="websquare_localStorage";var _11="div";var _6={};var _12="";var _13={};var _14=function(){if(document.getElementById(_13.id)!=null){return;}_13=document.createElement(_11);_13.id=_10+"_"+_11;_13.style.display="none";_13.style.position="absolute";_13.style.top="-999999px";_13.style.behavior="url(\"#default#userData\")";document.body.appendChild(_13);_13.load(_10);_12=_13.getAttribute(_3)||"";_6.length=_12.split(_4).length-1;};_6.length=0;_6.key=function(_15){_14();var _15=Number(_15);if(isNaN(_15)||_15>=this.length||_15<0){return null;}var _16=_12.split(_4);var ret=_16[_15];return ret;};_6.getItem=function(key){_14();return _13.getAttribute(key);};_6.setItem=function(key,_1a){_14();var ch=key.charAt(0);var exp=/[a-zA-Z]/;if(exp.exec(ch)){if(key===_3){$l(_3+": This key is reserved.");return null;}if(key.search(_4)>=0){$l(_4+": The key name must not contain colon(;).");return null;}_13.setAttribute(key,_1a);if(_12.search(key)<0){_12+=key+_4;this.length++;}_13.setAttribute(_3,_12);try{_13.save(_10);}catch(e){$l(e.name+" : localstorage overflowed");}}else{$l("The key name must start with [a-zA-Z]");return null;}};_6.removeItem=function(key){_14();_13.removeAttribute(key);var _1e=_12;_12=_1e.replace(key+_4,"");if(_1e!==_12){this.length--;}_13.setAttribute(_3,_12);_13.save(_10);};_6.clear=function(){_14();var _1f=_12.split(_4);for(var i=0;i<_1f.length-1;i++){_13.removeAttribute(_1f[i]);}_13.removeAttribute(_3);_12="";this.length=0;_13.save(_10);};_6.getAllItem=function(){_14();var r={};var _22=_12.split(_4);for(var i=0;i<_22.length-1;i++){var key=_22[i];r[key]=_13.getAttribute(key);}return r;};return _6;}})(_1);}if($W._u){$W._u.local=$W["localStorage"];}}catch(e){$W.exception.printStackTrace(e);}};}catch(e){$W.exception.printStackTrace(e);};WebSquare.localStorage=$W._d;$W._u={"getSubmission":$W._J.getSubmission,"createSubmission":$W._J.createSubmission,"deleteSubmission":$W._J.deleteSubmission,"executeSubmission":$W._J.executeSubmission,"getStringByteSize":$W._G.getStringByteSize,"getRefToReqData":$W._G.getRefToReqData,"dynamicCreate":$W._G.dynamicCreate,"createWorkflow":$W._J.createWorkflow,"deleteWorkflow":$W._J.deleteWorkflow,"getWorkflow":$W._J.getWorkflow,"getRunningWorkflow":$W._J.getRunningWorkflow,"isRunningWorkflow":$W._J.isRunningWorkflow,"getRunningWorkflowID":$W._J.getRunningWorkflowID,"rejectWorkflow":$W._J.rejectWorkflow,"executeWorkflow":$W._J.executeWorkflow,"executeSerial":$W._J.executeSerial,"executeParallel":$W._J.executeParallel,"executeWhilst":$W._J.executeWhilst,"openPopup":$W._G.openPopup,"getPopupParam":$W._G.getPopupParam,"closePopup":$W._G.closePopup,"getPopup":$W._G.getPopup,"getPopupWindow":$W._G.getPopupWindow,"isPopup":$W._G.isPopup,"setDocumentLang":$W._G.setDocumentLang,"setDisabled":$W._G.setDisabled,"setDomain":$W._G.setDomain,"url":$W._G.url,"js":$W._G.js,"reinitialize":$W._G.reinitialize,"clearPage":$W._G.clearPage,"setTimeout":$W._G.setTimeout,"clearTimeout":$W._G.clearTimeout,"setInterval":$W._G.setInterval,"clearInterval":$W._G.clearInterval,"getTimeoutKeys":$W._G.getTimeoutKeys,"getIntervalKeys":$W._G.getIntervalKeys,"getIntervalKeyList":$W._G.getIntervalKeyList,"getTimeoutKeyList":$W._G.getTimeoutKeyList,"toTimestampString":$W._s.toTimestampString,"dateDiff":$W._s.dateDiff,"dateAdd":$W._s.dateAdd,"getFormattedDate":$W._s.getFormattedDate,"getCurrentServerDate":$W._s.getCurrentServerDate,"getMaxMinYear":$W._s.getMaxMinYear,"parseDate":$W._s.parseDate,"showModal":$W.layer.showModal,"hideModal":$W.layer.hideModal,"log":$W.logger.printLog,"getParameter":$W._r.getParameter,"getAllParameter":$W._r.getAllParameter,"getBASE64Parameter":$W._r.getBASE64Parameter,"getAllBASE64Parameter":$W._r.getAllBASE64Parameter,"URLEncoder":$W._A.URLEncoder,"ajax":$W._r.ajax,"download":$W._r.download,"local":$W._d,"top":$W._l,"data":$W._j.api};window[$W.noConflict]=$W._u;window[$W.noConflict]["comp"]={};;WebSquare.api=$W._u;(function(_1){imports("engine/collection.js");imports("engine/WebSquareDocument.js");imports("engine/Parser.js");imports("engine/Model.js");imports("engine/Actions.js");imports("engine/ModelUtil.js");imports("engine/DataCollection.js");imports("engine/Events.js");imports("engine/form.js");imports("engine/net.js");imports("engine/session.js");imports("engine/localStorage.js");imports("engine/util.js");imports("engine/date.js");imports("engine/big.js");imports("engine/text.js");imports("engine/layer.js");imports("engine/cookie.js");imports("engine/event.js");imports("engine/skin.js");imports("engine/language.js");imports("engine/style.js");imports("engine/json.js");requires("engine/geometry.js");requires("engine/shape.js");requires("engine/effect.js");requires("engine/dragdrop.js");requires("engine/wUnit.js");requires("engine/thread.js");requires("engine/cssStyleSheet.js");requires("engine/configManager.js");requires("uiplugin/control/controlManager.js");requires("engine/api.js");requires("engine/jquerySupport.js");requires("externalJS/papaparse.js");var _2=_1.document;var _3=$W._N.getConfiguration("/WebSquare/spa/variable/@value");if(_3){var _4=_3.split(",");for(var i=0;i<_4.length;i++){try{if(eval("typeof "+_4[i]+" != \"undefined\" && "+_4[i]+" != null")){throw ({"message":"variable auto creation error : ["+_4[i]+"] already exist!"});}_1[_4[i]]={};}catch(e){$W.exception.printStackTrace(e,null);}}}if($W._N.getConfiguration("/WebSquare/localStorage/@defer")!="true"){$W.createLocalStorage(_1);}$W.BootLoader.loadLanguagePack();try{if(document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect){$W.graphicPlatformType="svg";}else{$W.graphicPlatformType="vml";}if($W.graphicPlatformType==="vml"){_2.namespaces.add("v","urn:schemas-microsoft-com:vml");$W.defaultStyle=_2.createStyleSheet();$W.defaultStyle.addRule("v\\:group","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:line","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:stroke","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:oval","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:rect","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:roundrect","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:image","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:roundrect","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:shape","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:path","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:fill","behavior: url(#default#VML);");$W.defaultStyle.addRule("v\\:extrusion","behavior: url(#default#VML);");}}catch(e){$W.BootLoader.printStackTrace(e,"VML Namespace");}if($W._N.getConfiguration("debug")=="true"){$W.logger.debug=true;}$W.logger.debugKey=$W._N.getConfiguration("debugKey");if($W._N.getConfiguration("exceptionHandler")!="system"&&$W.skipLog!==true){if($W._N.browserCheck.ie){_1.onerror=$W.exception.ieErrorHandler;}else{_1.onerror=$W.exception.ffErrorHandler;}}if($W._N.getConfiguration("/WebSquare/checkUpdate/@enable")=="true"){$W._G.checkInterval=$W._G.parseInt($W._N.getConfiguration("/WebSquare/checkUpdate/@interval"),30000);$W._G.checkMode=$W._N.getConfiguration("/WebSquare/checkUpdate/@mode");$W._G.checkURL=$W._N.getConfiguration("/WebSquare/checkUpdate/@serverUrl");if($W._G.checkMode==""||$W._G.checkURL==""){$W._G.checkMode="client";}_1.setTimeout("WebSquare.util.checkUpdate()",$W._G.checkInterval);}$W.requestID="";var _6=$W._N.getConfiguration("/WebSquare/submission/requestID/@value");if(_6!=""){$W.requestID=_6+"=";}requires("engine/initCSS.js");$W.initialize=function(_7,_8){["WebSquare.initialize"];$W.allValue=$W._N.getConfiguration("/WebSquare/allValue/@value")||"all";var _9="",urlFunc="",xmlDoc;if($W.WebSquaredoc==null){try{$W.pageURLPrefix=$W._N.getConfiguration("/WebSquare/pageURLPrefix/@value");$W.pageURLPrefixType=$W._N.getConfiguration("/WebSquare/pageURLPrefix/@type");var _a=$W._N.getConfiguration("/WebSquare/pageURLPrefix/@ignoreW2xPath");if($W.pageXMLString){xmlDoc=$W._B.parse($W.pageXMLString);$W.pageXMLString=null;}else{if($W.pageURLPrefix!==""&&$W.pageURLPrefixType=="function"){if($W.pageURLPrefix.indexOf("()")==-1){urlFunc=$W.pageURLPrefix+"()";}else{urlFunc=$W.pageURLPrefix;}if(_a.toLowerCase()=="true"){urlFunc=urlFunc.wq_replaceAll("()","(obfuscator_url)");xmlDoc=$W._B.load(eval("(function(){var obfuscator_url = \""+_7+"\";return "+urlFunc+"})();"),null);}else{xmlDoc=$W._B.load(eval(urlFunc)+encodeURIComponent(_7),null);}}else{if($W.pageURLPrefix!==""&&$W.pageURLPrefixType!="function"){xmlDoc=$W._B.load($W.pageURLPrefix+encodeURIComponent(_7),null);}else{xmlDoc=$W._B.load(_7,null);}}}if(xmlDoc!=null){$W.WebSquaredoc=new $W.WebSquareDocument(xmlDoc);$W.WebSquaredoc.cssList=$W.externalCSSDOM.slice(0);$W.WebSquaredoc.parsing(_8);return true;}else{_9=$W._N.getConfiguration("/WebSquare/pageFaultMsg/@value");if(_9!="false"){$W.loadErrorHandler({code:"E_initializer_XMLLoadFailError",msg:$W._m.getMessage("E_initializer_XMLLoadFailError",_7)});}}}catch(e){if(_9!="false"){$W.loadErrorHandler({code:"E_initializer_XMLLoadFailError1",msg:$W._m.getMessage("E_initializer_XMLLoadFailError1",_7)});}$W.exception.printStackTrace(e);}}return false;};$W.setParentObj=function(){if(typeof opener!="undefined"&&opener!=null){$W.parentObj=opener;}else{if(typeof parent!="undefined"&&parent!=null){$W.parentObj=parent;}else{}}};$W.startPopupApplication=function(_b){["WebSquare.startPopupApplication"];if($W._N.getConfiguration("/WebSquare/localStorage/@defer")=="true"){$W.createLocalStorage(window);}$W.nowRendering=true;var _c=$W._N.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value");if(_c!=null&&_c!=""){if(eval(_c)==false){return;}}$W.setParentObj();if($W.logger.debug){$W.startPopupApplication1(_b);}else{$W.startPopupApplication2(_b);}};$W.startPopupApplication1=function(_d){["WebSquare.startPopupApplication1"];$W.setLanguagePack();$W._N.extNamespace();if(_d){$W.w2xPath=_d;}else{if($W._r.getParameter("w2xPath")!=""){$W.w2xPath=$W._r.getParameter("w2xPath");}else{$W.w2xPath=$W._N.getConfiguration("/WebSquare/welcome-file");}}var re=/[\\]/g;$W.w2xPath=$W.w2xPath.replace(re,"/");var _f=$W.w2xPath.lastIndexOf("/");if($W._r.getParameter("w2xHome")==""){if(_f>-1){$W.w2xHome=$W.w2xPath.substring(0,_f+1);}else{$W.w2xHome="/";}}else{$W.w2xHome=$W._r.getParameter("w2xHome");}if(_f>-1){$W.logFileName=" "+$W.w2xPath.substring(_f+1);}else{$W.logFileName=" "+$W.w2xPath;}var _10=$W._N.getConfiguration("/WebSquare/DocumentRoot");var _11=$W._r.getParameter("w2xDocumentRoot");if(_11=="/"||_11=="\\"){$W.w2xDocumentRoot="";}else{if(_11!=""){$W.w2xDocumentRoot=_11;}else{if(_10!=null&&_10!=""){$W.w2xDocumentRoot=_10;}else{$W.w2xDocumentRoot="";}}}var _12=$W.initialize($W.w2xPath);var _13=$W._N.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value");if(_13!=null&&_13!=""){eval(_13);}if(_12){var _14=$W.parentObj.WebSquare.dataObject;var _15=$W.parentObj.WebSquare.srcData;var _16=$W.parentObj.WebSquare.destData;var _17;var _18=false;var _19="";var _1a=$W._r.getParameter("popupID");if($W.parentObj.WebSquare.docTitleInfo){_19=$W.parentObj.WebSquare.docTitleInfo[_1a];}if(_19){_2.title=_19;}if(typeof _14!="undefined"&&_14!=null){try{var _1b=_14.type.toLowerCase();var _1c;var _1d=_14.name;var _1e=typeof _14.data;if(_1d){switch(_1b){case "string":if(_1e=="string"){_1c=_14.data;}else{if(_1e=="object"){$W.logger.printLog("PopUp dataObject error : data of dataObject is in discord with type of dataObject!");return;}}break;case "json":if(_1e=="string"){var _1f=JSON.parse(_14.data);if(_1f){_1c=_1f;}}else{if(_1e=="object"){var _12=$W._N.isXML(_14.data);if(_12){$W.logger.printLog("PopUp dataObject error : data of dataObject is in discord with type of dataObject!!");return;}else{_1c=_14.data;}}}break;case "xml":if(_1e=="string"){var _1f=$W._B.parse(_14.data);if(_1f){_1c=_1f;}}else{if(_1e=="object"){var _12=$W._N.isXML(_14.data);if(_12){_1c=_14.data;}else{$W.logger.printLog("PopUp dataObject error : data of dataObject is in discord with type of dataObject!!");return;}}}break;case "array":_1c=_14.data;break;}$W._G.setData(_1d,_1c);}}catch(e){$W.exception.printStackTrace(e,null,this);}}if(!(typeof _15=="undefined"||_15==null||_15==""||typeof _16=="undefined"||_16==null||_16=="")){try{_18=_15.indexOf("data:")>-1?true:false;if(_18){var _20=_15.wq_replaceAll("data:","");var _21=$W.parentObj.WebSquare.util.getComponentById(_20);if(_21){switch(_21.initializeType){case "dataList":_15=_21.getAllJSON();break;case "dataMap":_15=_21.getJSON();break;}}}else{var _22=$W.parentObj.WebSquare.ModelUtil.findSerializedNode(_15);_15=$W._B.parse(_22).documentElement;}}catch(e){}try{if(_18){var _23=_16.wq_replaceAll("data:","");var _24=$W._G.getComponentById(_23);if(!_24){$l("Error! : No match data. Must be the same as a srcDataType, a destDataType!");return;}}else{_17=$W._J.findInstanceNode(_16);}}catch(e){}if(_18&&typeof _15!="undefined"&&_15!=null){_24.setJSON(_15,true);}else{if(typeof _17!="undefined"&&_17!=null&&typeof _15!="undefined"&&_15!=null){var _25=_17.childNodes;var _26=_15.childNodes;for(var j=_25.length-1;j>=0;j--){_17.removeChild(_25.item(j));}if($W._N.browserCheck.ieAllVersion){var _28=_26.length-1;for(var j=0;j<=_28;j++){$W._B.appendChild(_17,_26[0]);}}else{for(var j=0;j<=_26.length-1;j++){$W._B.appendChild(_17,_26[j]);}}var _29=$W._J.getModelByID($W.parentObj.WebSquare.destModelID);$W.WebSquaredoc.unrender($W.parentObj.WebSquare.destData);_29.refresh();}}}}if(_12){}};$W.startPopupApplication2=function(src){["WebSquare.startPopupApplication2"];try{$W.startPopupApplication1(src);}catch(e){$W.exception.printStackTrace(e);}};$W.nowRendering=false;$W.startApplication=function(src){["WebSquare.startApplication"];$W.nowRendering=true;if($W._N.getConfiguration("/WebSquare/localStorage/@defer")=="true"){$W.createLocalStorage(window);}var _2c=$W._N.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value");if(_2c!=null&&_2c!=""){if(eval(_2c)==false){return;}}$W.setLanguagePack();if($W.logger.debug){$W.startApplication1(src);}else{$W.startApplication2(src);}};$W.initializeComponent=function(src,_2e){["WebSquare.initializeComponent"];$W.nowRendering=true;if($W._N.getConfiguration("/WebSquare/localStorage/@defer")=="true"){$W.createLocalStorage(window);}var _2f=$W._N.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value");if(_2f!=null&&_2f!=""){if(eval(_2f)==false){return;}}$W.setLanguagePack();$W._N.extNamespace();if(src){$W.targetInfo=_2e;$W.w2xPath=src;}else{if($W._r.getParameter("w2xPath")!=""){$W.w2xPath=$W._r.getParameter("w2xPath");}}$W._loadCSS();if(1==2){var _30="ErtOqpezr Ukptvqtzp IIWENNA Stwbreo Agp Zvydtn Vmfwnvzh";}var re=/[\\]/g;$W.w2xPath=$W.w2xPath.replace(re,"/");var _32=$W.w2xPath.lastIndexOf("/");var _33="";var _34="";if(typeof WebSquareExternal=="object"&&WebSquareExternal!=null){_33=WebSquareExternal.w2xHome||"";_34=WebSquareExternal.w2xDocumentRoot||"";}if(_33==""&&$W._r.getParameter("w2xHome")==""){if(_32>-1){$W.w2xHome=$W.w2xPath.substring(0,_32+1);}else{$W.w2xHome="/";}}else{$W.w2xHome=_33||$W._r.getParameter("w2xHome");}if(_32>-1){$W.logFileName=" "+$W.w2xPath.substring(_32+1);}else{$W.logFileName=" "+$W.w2xPath;}var _35=$W._N.getConfiguration("/WebSquare/DocumentRoot");var _36=_34||$W._r.getParameter("w2xDocumentRoot");if(_36=="/"||_36=="\\"){$W.w2xDocumentRoot="";}else{if(_36!=""){$W.w2xDocumentRoot=_36;}else{if(_35!=null&&_35!=""){$W.w2xDocumentRoot=_35;}else{$W.w2xDocumentRoot="";}}}$W.logger.printLog("w2xDocumentRoot["+$W.w2xDocumentRoot+"]");$W.logger.printLog("w2xHome        ["+$W.w2xHome+"]");$W.logger.printLog("w2xPath        ["+$W.w2xPath+"]");$W.logger.printLog("w2xTheme       ["+$W.w2xTheme+"]");var _37=$W.initialize($W.w2xPath);var _38=$W._N.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value");if(_38!=null&&_38!=""){eval(_38);}};$W.setGridEvent=function(e){};$W.loadingApplication=function(){["WebSquare.loadingApplication"];$W.nowRendering=true;_1.onbeforeunload=$W._c.clear;var _3a=$W._N.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value");if(_3a!=null&&_3a!=""){if(eval(_3a)==false){return;}}$W.initApplicationEngine();var _3b=_2.body;$W.parseHtmlBody(_3b);};$W.initApplicationEngine=function(){["WebSquare.initApplicationEngine"];$W._N.extNamespace();$W.w2xPath="";$W.w2xHome="/";$W.w2xDocumentRoot="/";if($W.WebSquaredoc==null){try{$W.WebSquaredoc=new $W.WebSquareDocument(null);$W.WebSquaredoc.cssList=$W.externalCSSDOM.slice(0);if($W.WebSquareParser==null){$W.WebSquareparser=new $W._o.WebSquareParser();}return true;}catch(e){alert(e.message);$W.exception.printStackTrace(e);}}var _3c=$W._N.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value");if(_3c!=null&&_3c!=""){eval(_3c);}if(typeof $W.onload=="function"){$W.onload();}$W.scriptSection="";};$W.parseHtmlBody=function(_3d){var _3e=_3d.childNodes;for(var i=0;i<_3e.length;i++){var _40=_3e[i];$W.parseHtmlBody(_40);if(_40.nodeName.toLowerCase()=="div"&&_40.getAttribute("type")=="w2"){var _41=_40.getAttribute("src");if(_41!=null){var _42=$W._B.load(_41,true);$W.WebSquaredoc.renderW2(_42,_40);}}}};$W.startApplication1=function(src){["WebSquare.startApplication1"];$W._N.extNamespace();if(src){$W.w2xPath=src;}else{if($W._r.getParameter("w2xPath")!=""){$W.w2xPath=$W._r.getParameter("w2xPath");}else{$W.w2xPath=$W._N.getConfiguration("/WebSquare/welcome-file");}}if(1==2){var _44="ErtOqpezr Ukptvqtzp IIWENNA Stwbreo Agp Zvydtn Vmfwnvzh";}var re=/[\\]/g;$W.w2xPath=$W.w2xPath.replace(re,"/");var _46=$W.w2xPath.lastIndexOf("/");if($W._r.getParameter("w2xHome")==""){if(_46>-1){$W.w2xHome=$W.w2xPath.substring(0,_46+1);}else{$W.w2xHome="/";}}else{$W.w2xHome=$W._r.getParameter("w2xHome");}if(_46>-1){$W.logFileName=" "+$W.w2xPath.substring(_46+1);}else{$W.logFileName=" "+$W.w2xPath;}var _47=$W._N.getConfiguration("/WebSquare/DocumentRoot");var _48=$W._r.getParameter("w2xDocumentRoot");if(_48=="/"||_48=="\\"){$W.w2xDocumentRoot="";}else{if(_48!=""){$W.w2xDocumentRoot=_48;}else{if(_47!=null&&_47!=""){$W.w2xDocumentRoot=_47;}else{$W.w2xDocumentRoot="";}}}$W.logger.printLog("w2xDocumentRoot["+$W.w2xDocumentRoot+"]");$W.logger.printLog("w2xHome        ["+$W.w2xHome+"]");$W.logger.printLog("w2xPath        ["+$W.w2xPath+"]");$W.logger.printLog("w2xTheme       ["+$W.w2xTheme+"]");var _49=$W.initialize($W.w2xPath);var _4a=$W._N.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value");if(_4a!=null&&_4a!=""){eval(_4a);}if(_49){}};$W.startOnLoad=function(spa){["WebSquare.startOnLoad"];var _4c=$W._N.getConfiguration("/WebSquare/clearMemory/@value");if(_4c=="true"){_1.onbeforeunload=function(){if(WebSquare_clearMemory){WebSquare_clearMemory();}};}$W.nowRendering=false;if(typeof $W.onload=="function"){$W.onload();}var _4d=true;if($W.pageInheritScript&&$W.pageInheritScript.length>0){if($W.BootLoader.traceWframe){for(var i=0;i<$W.pageInheritScript.length;i++){$W.BootLoader.globalEval($W.pageInheritScript[i],"internal");}}else{$W.scriptSection=$W.pageInheritScript.join("")+$W.scriptSection;}$W.pageInheritScript=[];_4d=false;}if($W.wframeScript&&$W.wframeScript.length>0){if(!$W.BootLoader.traceWframe){$W.scriptSection+=$W.wframeScript.reverse().join("");$W.wframeScript=[];}_4d=false;}if(!_4d){$W.scriptSection=$W.scriptIdentifier+$W.w2xPath+"\";"+$W.scriptSection;}var _4f=$W._N.getConfiguration("/WebSquare/postScript/@value");if(_4f=="true"){$W.scriptSection+=$W._N.getConfiguration("/WebSquare/postScript");}$W.BootLoader.globalEval($W.scriptSection,"internal");$W.scriptSection="";if($W.BootLoader.traceWframe&&$W.wframeScript&&$W.wframeScript.length>0){for(var i=$W.wframeScript.length-1;i>=0;i--){$W.BootLoader.globalEval($W.wframeScript[i],"internal");}$W.wframeScript=[];}$W.scriptSectionExcuteFlag="executed";$W.BootLoader.performanceCheck.end=new Date();if(spa){$W.BootLoader.printLog("[SPA8][EXECUTE] JS load and Global Script Execution Completed. Time:"+($W.BootLoader.performanceCheck.end.getTime()-$W.BootLoader.performanceCheck.mid6.getTime())+"ms");$W.BootLoader.printLog("[SPA SUMMARY] Initial procedures completed. Duration : "+($W.BootLoader.performanceCheck.end.getTime()-$W.BootLoader.performanceCheck.start.getTime())+", \uc2dc\uac04 \uc694\uc57d :\t"+($W.BootLoader.performanceCheck.mid1.getTime()-$W.BootLoader.performanceCheck.start.getTime())+"\t"+($W.BootLoader.performanceCheck.mid2.getTime()-$W.BootLoader.performanceCheck.mid1.getTime())+"\t"+($W.BootLoader.performanceCheck.mid3.getTime()-$W.BootLoader.performanceCheck.mid2.getTime())+"\t"+($W.BootLoader.performanceCheck.mid4.getTime()-$W.BootLoader.performanceCheck.mid3.getTime())+"\t"+($W.BootLoader.performanceCheck.mid5.getTime()-$W.BootLoader.performanceCheck.mid4.getTime())+"\t"+($W.BootLoader.performanceCheck.mid6.getTime()-$W.BootLoader.performanceCheck.mid5.getTime())+"\t"+($W.BootLoader.performanceCheck.end.getTime()-$W.BootLoader.performanceCheck.mid6.getTime())+"\t"+($W.BootLoader.performanceCheck.end.getTime()-$W.BootLoader.performanceCheck.start.getTime()));}else{$W.BootLoader.printLog("[STEP8][EXECUTE] JS load and Global Script Execution Completed. Time:"+($W.BootLoader.performanceCheck.end.getTime()-$W.BootLoader.performanceCheck.mid6.getTime())+"ms");$W.BootLoader.printLog("[STEP SUMMARY] Initial procedures completed. Duration : "+($W.BootLoader.performanceCheck.end.getTime()-$W.BootLoader.performanceCheck.start.getTime())+", \uc2dc\uac04 \uc694\uc57d :\t"+($W.BootLoader.performanceCheck.mid1.getTime()-$W.BootLoader.performanceCheck.start.getTime())+"\t"+($W.BootLoader.performanceCheck.mid2.getTime()-$W.BootLoader.performanceCheck.mid1.getTime())+"\t"+($W.BootLoader.performanceCheck.mid3.getTime()-$W.BootLoader.performanceCheck.mid2.getTime())+"\t"+($W.BootLoader.performanceCheck.mid4.getTime()-$W.BootLoader.performanceCheck.mid3.getTime())+"\t"+($W.BootLoader.performanceCheck.mid5.getTime()-$W.BootLoader.performanceCheck.mid4.getTime())+"\t"+($W.BootLoader.performanceCheck.mid6.getTime()-$W.BootLoader.performanceCheck.mid5.getTime())+"\t"+($W.BootLoader.performanceCheck.end.getTime()-$W.BootLoader.performanceCheck.mid6.getTime())+"\t"+($W.BootLoader.performanceCheck.end.getTime()-$W.BootLoader.performanceCheck.start.getTime()));$W._N.executePointScript(8);}try{if($W.lazyImportsArr.length>0){$W.lazyImportsArr.push(function(){$W.BootLoader.printLog("defer JavaScript loaded.");});$W.BootLoader.printLog("defer JavaScript loading.");$W._G.js.apply(null,$W.lazyImportsArr);$W.lazyImportsArr=[];}}catch(e){$W.exception.printStackTrace(e);}};$W.startApplication2=function(src){try{$W.startApplication1(src);}catch(e){$W.exception.printStackTrace(e);}};$W.loadApplication=function(_51,_52,_53){["WebSquare.loadApplication"];$W.nowRendering=true;var _54=$W._N.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value");if(_54!=null&&_54!=""){if(eval(_54)==false){return;}}if($W.logger.debug){$W.loadApplication1(_51,_52,_53);}else{$W.loadApplication2(_51,_52,_53);}};$W.loadApplication1=function(_55,_56,_57){["WebSquare.loadApplication1"];$W.WebSquaredoc=null;_2.body.innerHTML="";if(typeof _55=="string"&&_55!=""){$W.w2xPath=_55.wq_trim();}else{$W.w2xPath=$W._N.getConfiguration("/WebSquare/welcome-file");}var re=/[\\]/g;$W.w2xPath=$W.w2xPath.replace(re,"/");var _59=$W.w2xPath.lastIndexOf("/");if(typeof _56=="string"&&_56!=""){$W.w2xHome=_56.wq_trim();}else{if(_59>-1){$W.w2xHome=$W.w2xPath.substring(0,_59+1);}else{$W.w2xHome="/";}}if(_59>-1){$W.logFileName=" "+$W.w2xPath.substring(_59+1);}else{$W.logFileName=" "+$W.w2xPath;}if(typeof _57=="string"&&_57!=""&&_57!="/"&&_57!="\\"){$W.w2xDocumentRoot=_57.wq_trim();}else{$W.w2xDocumentRoot="";}var _5a=$W.initialize($W.w2xPath);var _5b=$W._N.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value");if(_5b!=null&&_5b!=""){eval(_5b);}if(_5a){}};$W.loadApplication2=function(_5c,_5d,_5e){["WebSquare.loadApplication2"];try{$W.loadApplication1(_5c,_5d,_5e);}catch(e){$W.exception.printStackTrace(e);}};$W.useLanguagePack=false;$W.setLanguagePack=function(){if(!$W.useUserSystemLang){$W.useLanguagePack=$W._N.getConfiguration("/WebSquare/languagePack/@useLanguagePack");if($W.useLanguagePack=="true"){var _5f=$W.BootLoader.getBrowserLanguage();$W.loagLanguagePack(_5f);$W.systemLanguage=_5f;}else{$W.WebSquareLang={};}}};$W.loagLanguagePack=function(_60){var _60=$W._k.getCookie("system_language")||_60||"ko";var _61=$W._N.getConfiguration("/WebSquare/languagePack/url[@lang='"+_60+"']/@value");imports(_61);};$W.isAxLogger=true;$W.ax_logger=function(_62){};})(window);$W.historyManager=function(){this.maxSize=50;this.historyArr=[];};$W.historyManager.prototype.set=function(_1,id,_3,_4){if(this.historyArr.length>=this.maxSize){this.historyArr.shift();}this.historyArr.push([_1,id,_3||{},_4||{}]);};$W.historyManager.prototype.get=function(_5,id){var _7={};for(var i=this.historyArr.length-1;i>=0;i--){var _9=this.historyArr[i];if(_9[0]==_5&&_9[1]==id){_7=_9[2];break;}}return _7;};$W.historyManager.prototype.clear=function(){for(var i=0;i<this.historyArr.length;i++){this.historyArr[i]=null;}this.historyArr=[];};$W.historyManager.prototype.setKeyEvent=function(_b){$W._c.addEvent(document.documentElement,"keydown",$W._c.bindAsEventListener(this,this.handlerKeydownEvent));};$W.historyManager.prototype.handlerKeydownEvent=function(e){var _d=(e.charCode)?e.charCode:e.keyCode;switch(_d){case 37:break;case 38:break;case 39:break;case 40:break;case 33:break;case 34:break;case 27:break;case 90:if(e.ctrlKey){if(this.historyArr.length>0){var _e=this.historyArr.pop();if(_e[3].onRestore){_e[3].onRestore.call(this,_e[2]);}}}break;case 68:if(e.ctrlKey){$W._c.stopEvent(e);}break;case 75:if(e.ctrlKey){var _f=$W._N.getConfiguration("/WebSquare/cloneTab/@value")||"false";if(_f=="false"){$W._c.stopEvent(e);}}break;default:break;}};$W.historyManager=new $W.historyManager();$W.historyManager.setKeyEvent();$W.itemsetControl=function(){};$W.itemsetControl.prototype.initializeItemArr=function(_1,_2){["WebSquare.itemsetControl.prototype.initializeItemArr"];var _3=$W.WebSquareparser.parseItemset(_1);this.modelControl.setItemset(_3.nodeset,_3.label,_3.value);this.itemsetObj=_3;this.itemArr=[];var _4=$W.WebSquareparser.parseChoices(_1,_2);if(_4.length>0){this.itemArr=_4;}else{if(_3.nodeset.match("data:")){var id=this.id;if(this.element.tagName=="w2:column"){if(!this.comp){return;}id=this.comp.id;}this.modelControl.dataCollectionBindItemset(this.itemsetObj.nodeset);this.itemArr=this.modelControl.getDataCollectionItemsetData(id)||[];}else{this.itemArr=this.modelControl.getItemsetData();}}if(this.options.useLocale){this.itemArr=this.getLocaleItemArr(this.itemArr);}this.initializeFilter(_1);if(this.filterFunc==null&&typeof this.setSelectItemArr=="function"){this.setSelectItemArr();}};$W.itemsetControl.prototype.refreshItemArr=function(){["WebSquare.itemsetControl.prototype.refreshItemArr"];this.itemArr;if(this.modelControl.isDataCollectionItemsetBinded){this.itemArr=this.modelControl.getDataCollectionItemsetData(this.id)||[];}else{this.itemArr=this.modelControl.getItemsetData();}if(this.options.useLocale){this.itemArr=this.getLocaleItemArr(this.itemArr);}this.originalItemArr=this.itemArr;if(this.filterFunc!=null){this.filterItemArr();}else{if(typeof this.setSelectItemArr=="function"){this.setSelectItemArr();}}};$W.itemsetControl.prototype.setNodeSet=function(_6,_7,_8){["WebSquare.itemsetControl.setNodeSet"];try{this.modelControl.unbindItemset();_6=($W._G.isNull(_6))?this.itemsetObj.nodeset:_6;_7=($W._G.isNull(_7))?this.itemsetObj.label:_7;_8=($W._G.isNull(_8))?this.itemsetObj.value:_8;this.modelControl.setItemset(_6,_7,_8);this.itemsetObj=this.modelControl.itemsetObj;this.itemArr;if(this.itemsetObj.nodeset.match("data:")){this.itemArr=this.modelControl.getDataCollectionItemsetData(this.id);}else{this.itemArr=this.modelControl.getItemsetData();}if(this.options.useLocale){this.itemArr=this.getLocaleItemArr(this.itemArr);}this.originalItemArr=this.itemArr;if(this.filterFunc!=null){this.filterItemArr();}if(this.itemsetObj.nodeset.match("data:")){this.modelControl.dataCollectionBindItemset();}else{this.modelControl.bindItemset();}this.refreshItemset("replace");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.itemsetControl.prototype.setGridNodeSet=function(_9,_a,_b,_c){["WebSquare.itemsetControl.setGridNodeSet"];try{if(this.itemTableMode!="grid"){return;}var _d=false;if(_a!=this.itemsetObj.label||_b!=this.itemsetObj.value){_d=true;}this.itemsetObj.nodeset=_9;if(_d){this.itemsetObj.label=_a;this.itemsetObj.value=_b;}if(Object.prototype.toString.call(_c)==="[object Array]"){for(var i=0;i<this.itemsetObj.items.length;i++){this.itemsetObj.items[i]=_c[i];}}else{$l("setGridNodeSet \ud568\uc218\ub97c \uc2e4\ud589\ud558\ub294 \uc911 "+this.id+" \uc758 gridItemset\uc758 \uceec\ub7fc\uc5d0 \ub300\ud55c \uc815\ubcf4\uac00 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");return;}this.modelControl.unbindItemset();_9=($W._G.isNull(_9))?this.itemsetObj.nodeset:_9;_a=($W._G.isNull(_a))?this.itemsetObj.label:_a;_b=($W._G.isNull(_b))?this.itemsetObj.value:_b;this.modelControl.setItemset(_9,_a,_b);this.itemArr=this.modelControl.getItemsetData();if(this.options.useLocale){this.itemArr=this.getLocaleItemArr(this.itemArr);}this.originalItemArr=this.itemArr;if(this.filterFunc!=null){this.filterItemArr();}this.modelControl.bindItemset();this.refreshItemset();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.itemsetControl.prototype.getItemArray=function(){["WebSquare.itemsetControl.prototype.refreshItemArr"];return this.itemArr;};$W.itemsetControl.prototype.getLocaleItemArr=function(_f,key){["WebSquare.itemsetControl.prototype.getLocaleItemArr"];if(typeof key=="undefined"||key==null){key="label";}for(var i=0;i<_f.length;i++){var _12=_f[i];_12[key]=this.getLocaleValue(_12[key]);}return _f;};$W.itemsetControl.prototype.initializeFilter=function(_13){["WebSquare.itemsetControl.prototype.initializeFilter"];var _14=this.options.filter;this.originalItemArr=this.itemArr;this.setFilterFunc(_14);this.filterItemArr();};$W.itemsetControl.prototype.setFilter=function(_15){["WebSquare.itemsetControl.prototype.setFilter"];var _16=this.getValue();this.setFilterFunc(_15);this.filterItemArr();this.componentRedraw(_16);};$W.itemsetControl.prototype.setFilterFunc=function(_17){["WebSquare.itemsetControl.prototype.setFilterFunc"];try{if(typeof _17=="undefined"||_17==null||_17==""){this.filterFunc=null;}else{this.filterFunc=eval(_17);}}catch(e){this.filterFunc=null;$W.exception.printStackTrace(e);}};$W.itemsetControl.prototype.filterItemArr=function(){["WebSquare.itemsetControl.prototype.filterItemArr"];if(this.filterFunc==null){this.itemArr=this.originalItemArr;}else{this.itemArr=[];for(var i=0;i<this.originalItemArr.length;i++){var _19=this.originalItemArr[i];if(this.match(_19)){this.itemArr.push(_19);}}if(typeof this.setSelectItemArr=="function"){this.setSelectItemArr();}}};$W.itemsetControl.prototype.match=function(_1a){["WebSquare.itemsetControl.prototype.match"];try{return this.filterFunc.call(this.filterFunc,_1a.label,_1a.value,_1a.xml);}catch(e){$W.exception.printStackTrace(e);return false;}};$W.itemsetControl.prototype.initializeGridItemArr=function(_1b,_1c){["WebSquare.itemsetControl.prototype.initializeGridItemArr"];if(!this.itemsetObj){this.itemsetObj={nodeset:"",value:"",label:"",items:[]};}var _1d=this.itemsetObj;_1c=_1c||"xf";try{var _1e=_1b.nodeName;if(_1e.indexOf(":")>=0){_1c=_1e.split(":")[0];}}catch(e){}if(_1b){var _1f=(_1c=="xf")?$W._N._XML_NAMESPACE.XFORMS:$W._N._XML_NAMESPACE.W2;var _20=$W._B.findNode(_1b,"*['"+"choices"+"'=local-name()]['"+_1f+"'=namespace-uri()]");if(_20){var _21=$W._B.findNode(_20,"*['"+"gridItemset"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_21){_1d.nodeset=$W._B.getValue(_21,"@nodeset");if(_1d.nodeset.wq_trim().substr(-1)=="/"){_1d.nodeset=_1d.nodeset.wq_trim().slice(0,-1);}this.gridOptions=$W.WebSquareparser.parseAttribute(_21);_1d.labelId=this.gridOptions.labelId;_1d.valueId=this.gridOptions.valueId;_1d.label=this.gridOptions.label;_1d.value=this.gridOptions.value;var _22=$W._B.getChildren(_20,"*['"+"gridItemset"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");for(var i=0;i<_22.length;i++){delete _22[i]["@tagName"];if(_1d.labelId&&_22[i].id===_1d.labelId){_1d.label=_22[i].ref;}if(_1d.valueId&&_22[i].id===_1d.valueId){_1d.value=_22[i].ref;}}_1d.items=_22;}}}this.modelControl.setItemset(_1d.nodeset,_1d.label,_1d.value);this.refreshGridItemArr();};$W.itemsetControl.prototype.refreshGridItemArr=function(){this.itemArr=[];this.gridItemArr=[];this.gridRowItemArr=[];var _24=this.itemsetObj;if(_24.nodeset){if(_24.nodeset.match("data:")&&$W._j["comp"][_24.nodeset.slice("data:".length)]!=undefined){this.itemArr=this.modelControl.getDataCollectionItemsetData(this.modelControl.id);var _25=$W._j["comp"][_24.nodeset.slice("data:".length)];this.gridItemArr=_25.getAllData();this.gridOptions.dataComp=_25;}else{var _26=$W._J.findInstanceNodes(_24.nodeset);if(_26){for(var i=0;i<_26.length;++i){this.itemArr.push({label:$W._B.getValue(_26[i],_24.label),value:$W._B.getValue(_26[i],_24.value),xml:_26[i]});var _28={};for(var j=0;j<_24.items.length;j++){if(!_24.items[j].id){_24.items[j].id=this.id+"_items"+j;}var _2a="";var ref=_24.items[j].ref;if(ref){if(_24.label&&ref===_24.label){_24.labelId=_24.items[j].id;}else{if(_24.value&&ref===_24.value){_24.valueId=_24.items[j].id;}}_2a=$W._B.getValue(_26[i],ref);}this.gridItemArr.push(_2a);_28[_24.items[j].id]=_2a;}this.gridRowItemArr.push(_28);}}}}if(typeof this.setSelectItemArr=="function"){this.setSelectItemArr();}};$W.itemsetControl.prototype.initializeGridViewItemArr=function(_2c,_2d){["WebSquare.itemsetControl.prototype.initializeGridViewItemArr"];if(!this.itemsetObj){this.itemsetObj={nodeset:"",value:"",label:"",items:[]};}var _2e=this.itemsetObj;_2d=_2d||"xf";try{var _2f=_2c.nodeName;if(_2f.indexOf(":")>=0){_2d=_2f.split(":")[0];}}catch(e){}if(_2c){var _30=(_2d=="xf")?$W._N._XML_NAMESPACE.XFORMS:$W._N._XML_NAMESPACE.W2;var _31=$W._B.findNode(_2c,"*['"+"choices"+"'=local-name()]['"+_30+"'=namespace-uri()]");if(_31){var _32=$W._B.findNode(_31,"*['"+"gridViewItemset"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_32){_2e.nodeset=$W._B.getValue(_32,"@nodeset");if(_2e.nodeset.wq_trim().substr(-1)=="/"){_2e.nodeset=_2e.nodeset.wq_trim().slice(0,-1);}this.gridViewOptions=$W.WebSquareparser.parseAttribute(_32);_2e.labelId=this.gridViewOptions.labelId;_2e.valueId=this.gridViewOptions.valueId;_2e.label=this.gridViewOptions.label;_2e.value=this.gridViewOptions.value;var _33=$W._B.getChildren(_31,"*['"+"gridViewItemset"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");for(var i=0;i<_33.length;i++){delete _33[i]["@tagName"];if(_2e.labelId&&_33[i].id===_2e.labelId){_2e.label=_33[i].ref;}if(_2e.valueId&&_33[i].id===_2e.valueId){_2e.value=_33[i].ref;}}_2e.items=_33;}}}this.modelControl.setItemset(_2e.nodeset,_2e.label,_2e.value);this.refreshGridViewItemArr();};$W.itemsetControl.prototype.refreshGridViewItemArr=function(){this.gridViewItemArr=[];this.gridViewRowItemArr=[];var _35=this.itemsetObj;if(_35.nodeset){if(_35.nodeset.match("data:")&&$W._j["comp"][_35.nodeset.slice("data:".length)]!=undefined){this.itemArr=this.modelControl.getDataCollectionItemsetData(this.modelControl.id);var _36=$W._j["comp"][_35.nodeset.slice("data:".length)];this.gridViewItemArr=_36.getAllData();this.gridViewOptions.dataComp=_36;}}if(typeof this.setSelectItemArr=="function"){this.setSelectItemArr();}};$W._j.dataController=function(){["WebSquare.DataCollection.dataController"];};$W._j.dataController.prototype.getRealRowIndex=function(_1){["WebSquare.DataCollection.dataController.prototype.getRealRowIndex"];var _2=this.filteredRowIndexArr[_1];return _2;};$W._j.dataController.prototype.getFilteredRowIndex=function(_3){["WebSquare.DataCollection.dataController.prototype.getFilteredRowIndex"];if(this.filteredRowIndexArr[this.filteredRowIndexMap[_3]]!==_3){this.filteredRowIndexMap={};for(var i=0;i<this.filteredRowIndexArr.length;i++){this.filteredRowIndexMap[this.filteredRowIndexArr[i]]=i;}}return this.filteredRowIndexMap[_3];};$W._j.dataController.prototype.getTotalRow=function(){["WebSquare.DataCollection.dataController.prototype.getTotalRow"];try{var _5=this.dataArr.length/this.oneRowDataLength;return _5;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getTotalCol=function(){["WebSquare.DataCollection.dataController.prototype.getTotalCol"];try{var _6=this.oneRowDataLength;return _6;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getRowCount=function(){["WebSquare.DataCollection.dataController.prototype.getRowCount"];try{return this.getDataLength();}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype._getData=function(_7,_8){["WebSquare.DataCollection.dataController.prototype._getData"];try{var _8=this.getColumnIndex(_8);value=this.dataArr[_7*this.getColumnCount()+_8];if(value==null){value="";}return value;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getCellData=function(_9,_a){["WebSquare.DataCollection.dataController.prototype.getCellData"];try{var _b;var _c;if(typeof _a=="number"){_b=_a;_c=this.cellIdList[_b];}else{_b=this.bodyIdColIndexMap[_a];_c=_a;}var _d=(this.options.depthColumn)?_9:this.filteredRowIndexArr[_9];var _e=this.cellInfoHash[_c];if(_e){if(_e.options.inputType=="expression"){return _e.getExpressionValue(_d);}var _f=this.dataArr[_d*this.cellIdList.length+_b];if(_f==null){_f="";}return _f;}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getOriginalCellData=function(_10,_11){["WebSquare.DataCollection.dataController.prototype.getOriginalCellData"];try{var _12;if(typeof _11=="number"){_12=_11;}else{_12=this.bodyIdColIndexMap[_11];}var _13=(this.options.depthColumn)?_10:this.filteredRowIndexArr[_10];var _14=this.originalDataArr[_13*this.cellIdList.length+_12];if(_14==null){_14="";}return _14;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype._getOriginalCellData=function(_15,_16){["WebSquare.DataCollection.dataController.prototype._getOriginalCellData"];try{var _17;if(typeof _16=="number"){_17=_16;}else{_17=this.bodyIdColIndexMap[_16];}var _18=this.originalDataArr[_15*this.cellIdList.length+_17];if(_18==null){_18="";}return _18;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getDataLength=function(){["WebSquare.DataCollection.dataController.prototype.getDataLength"];return this.filteredRowIndexArr.length;};$W._j.dataController.prototype.getColCnt=function(){["WebSquare.DataCollection.dataController.prototype.getColCnt"];try{return this.getTotalCol();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.getDepth=function(_19){["WebSquare.DataCollection.dataController.prototype.getDepth"];var _1a=-1;if(this.options.depthColumn){_1a=parseInt(this._getData(_19,this.getColumnID(this.options.depthColumn)));}return _1a;};$W._j.dataController.prototype.hasChild=function(_1b){["WebSquare.DataCollection.dataController.prototype.hasChild"];var _1c=_1b+1;var _1d=this.getTotalCol();var _1e=this.getColumnID(this.options.depthColumn);if(this.options.dataColumn=="dataList"){_1e=this.getColumnID(this.options.depthColumn);}var _1f=parseInt(this._getData(_1b,_1e));var _20=parseInt(this._getData(_1c,_1e));_20=(isNaN(_20))?0:_20;return (_1f<_20);};$W._j.dataController.prototype.getColSum=function(_21){["WebSquare.DataCollection.dataController.prototype.getColSum"];try{var _22="";var _23=this.getColData(_21);if(_23.length>0){for(var i=0;i<_23.length;i++){if(_23[i].replace(/^\s+|\s+$/g,"")==""){_23[i]="0";}}_22=eval(_23.join("+"));}return $W._G.setPrecision(_22);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.getColAvg=function(_25){["WebSquare.DataCollection.dataController.prototype.getColAvg"];try{var _26="";var _27=this.getColData(_25);if(_27.length>0){for(var i=0;i<_27.length;i++){if(_27[i].replace(/^\s+|\s+$/g,"")==""){_27[i]="0";}}_26=eval(_27.join("+"));}if(_26==""){return "";}else{return _26/_27.length;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.getColMax=function(_29){["WebSquare.DataCollection.dataController.prototype.getColMax"];try{var max=null;var _2b=this.getColData(_29);for(var i=0;i<_2b.length;i++){var _2d=parseFloat(_2b[i]);if(!isNaN(_2d)){if(max==null||max<_2d){max=_2d;}}}max=(max==null)?"":max;max=$W._G.setPrecision(max);return max;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.getColMin=function(_2e){["WebSquare.DataCollection.dataController.prototype.getColMin"];try{var min=null;var _30=this.getColData(_2e);for(var i=0;i<_30.length;i++){var _32=parseFloat(_30[i]);if(!isNaN(_32)){if(min==null||min>_32){min=_32;}}}min=(min==null)?"":min;min=$W._G.setPrecision(min);return min;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.getColData=function(_33,_34){["WebSquare.DataCollection.dataController.prototype.getColData"];try{var _35=[];var _36=this.getColumnIndex(_33);var _37=this.getTotalRow();if(typeof _34==="object"&&_34!=null&&_34.length>=0&&_34.length<=_37){var _38=_34.length;for(var row=0;row<_38;row++){_35.push(this._getData(_34[row],_36));}}else{for(var row=0;row<_37;row++){_35.push(this._getData(row,_36));}}return _35;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getRowData=function(_3a,_3b){["WebSquare.DataCollection.dataController.prototype.getRowData"];try{var _3c=[];for(var col=0;col<this.getColumnCount();col++){_3c.push(this.getCellData(_3a,col));}return _3c;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype._getRowData=function(_3e){["WebSquare.DataCollection.dataController.prototype._getRowData"];try{var _3f=[];for(var col=0;col<this.getColumnCount();col++){_3f.push(this._getData(_3e,col));}return _3f;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getOriginalRowData=function(_41){["WebSquare.DataCollection.dataController.prototype.getOriginalRowData"];try{var _42=(this.options.depthColumn)?_41:this.getRealRowIndex(_41);return this._getOriginalRowData(_42);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype._getOriginalRowData=function(_43){["WebSquare.DataCollection.dataController.prototype._getOriginalRowData"];try{var _44=[];for(var col=0;col<this.getColumnCount();col++){_44.push(this._getOriginalCellData(_43,col));}return _44;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getDataRow=function(_46){["WebSquare.DataCollection.dataController.prototype.getDataRow"];try{var _47=[];for(var col=0;col<this.getColumnCount();col++){var _49=this.getColumnID(col);_47[_49]=this.getCellData(_46,col);}return _47;}catch(e){$l("dataController.getDataRow :"+e.message);$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.getMatchedData=function(_4a,_4b,_4c,_4d,_4e,_4f){["WebSquare.DataCollection.dataController.prototype.getMatchedData"];try{this.broadcast({"gridView":["_endEdit"]});var _50=[];var _51=this.getMatchedIndex(_4a,_4b,_4c,_4d,_4e);for(var i=0;i<_51.length;i++){_50.push(this.getRowData(_51[i],_4f));}return _50;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getUnmatchedData=function(_53,_54,_55,_56,_57,_58){["WebSquare.DataCollection.dataController.prototype.getUnmatchedData"];try{this.broadcast({"gridView":["_endEdit"]});var _59=[];var _5a=this.getUnmatchedIndex(_53,_54,_55,_56,_57);for(var i=0;i<_5a.length;i++){_59.push(this.getRowData(_5a[i],_58));}return _59;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getMatchedColumnData=function(_5c,_5d,_5e,_5f,_60,_61){["WebSquare.DataCollection.dataController.prototype.getMatchedColumnData"];try{this.broadcast({"gridView":["_endEdit"]});var _62=[];var _63=this.getMatchedIndex(_5c,_5d,_5f,_60,_61);for(var i=0;i<_63.length;i++){_62.push(this.getCellData(_63[i],_5e));}return _62;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getUnmatchedColumnData=function(_65,_66,_67,_68,_69,_6a){["WebSquare.DataCollection.dataController.prototype.getUnmatchedColumnData"];try{this.broadcast({"gridView":["_endEdit"]});var _6b=[];var _6c=this.getUnmatchedIndex(_65,_66,_68,_69,_6a);for(var i=0;i<_6c.length;i++){_6b.push(this.getCellData(_6c[i],_67));}return _6b;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getFilteredColData=function(_6e){["WebSquare.DataCollection.dataController.prototype.getFilteredColData"];var _6f=[];_6e=this.getColumnIndex(_6e);var _70=this.getColumnID(_6e);for(var row=0;row<this.getDataLength();row++){var _72=row;if(this.options.depthColumn){_72=this.filteredRowIndexArr[row];}_6f.push(this.getCellData(_72,_70));}return _6f;};$W._j.dataController.prototype.getMatchedIndex=function(_73,_74,_75,_76,_77){["WebSquare.DataCollection.dataController.prototype.getMatchedIndex"];try{_75=(typeof _75=="undefined"||_75==null)?true:_75;_75=$W._G.getBoolean(_75);if(_75!=false){_75=true;}var _78=this.getColumnIndex(_73);if(this.options.depthColumn){var _79=this.getColData(_78);}else{var _79=this.getFilteredColData(_78);}var _7a=[];if(typeof _76!="number"){_76=0;}if(typeof _77!="number"){_77=_79.length;}if(_77>_79.length){_77=_79.length;}for(var i=_76;i<_77;i++){var _7c=_79[i];if(_75==true){if(_7c===_74){_7a.push(i);}}else{if(_7c.indexOf(_74)>-1){_7a.push(i);}}}return _7a;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getUnmatchedIndex=function(_7d,_7e,_7f,_80,_81){["WebSquare.DataCollection.dataController.prototype.getUnmatchedIndex"];try{if(_7f!=false){_7f=true;}var _82=this.getColumnIndex(_7d);if(this.options.depthColumn){var _83=this.getColData(_82);}else{var _83=this.getFilteredColData(_82);}var _84=[];if(typeof _80!="number"){_80=0;}if(typeof _81!="number"){_81=_83.length;}if(_81>_83.length){_81=_83.length;}for(var i=_80;i<_81;i++){var _86=_83[i];if(_7f==true){if(_86!==_7e){_84.push(i);}}else{if(_86.indexOf(_7e)<=-1){_84.push(i);}}}return _84;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.toArray=function(str){["WebSquare.DataCollection.dataController.prototype.toArray"];try{if(typeof str!="string"){if(str===null){$W.logger.printLog("[WebSquare.uiplugin.grid.toArray] parameter is null.");}else{$W.logger.printLog("[WebSquare.uiplugin.grid.toArray] parameter isn't string. ["+(typeof str)+"]");}return [];}var re=/^\[\s*\]$/g;if(str.match(re)!=null){return (new Array());}var _89=str.split("\",\"");_89[0]=_89[0].substr(2);_89[_89.length-1]=_89[_89.length-1].substr(0,((_89[_89.length-1]).length-2));return _89;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getMappingData=function(_8a,_8b,_8c){["WebSquare.DataCollection.dataController.prototype.getMappingData"];try{var _8d={};var _8e;var _8f=0;var _90=this.cellIdList.length;var _91=_8b.length;var _92=_8a.length/_91;for(var i=0;i<_91;i++){_8e=false;for(var j=0;j<_90;j++){if(_8b[i]===this.cellIdList[j]){_8e=true;_8d[j]=i;break;}}if(!_8e){_8f++;}}if(_8f===_91){$W.logger.printLog("[WebSquare.uiplugin.grid.setData] not exist all target column in "+this.id);return [];}var _95=new Array(_92*_90);var _96,dataIdx;for(var _97=0;_97<_92;_97++){for(var _98=0;_98<_90;_98++){dataIdx=_8d[_98];if(typeof dataIdx!="undefined"){_96=_8a[dataIdx+(_97*_91)];_95[_97*_90+_98]=_96;}else{_95[_97*_90+_98]="";}}}_8a=null;return _95;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getRangeData=function(_99,to,_9b,_9c){["WebSquare.DataCollection.dataController.prototype.getRangeData"];try{var _9d=[];var _9e;if(this.options.depthColumn){_9e=this.getTotalRow()-1;}else{_9e=this.getDataLength()-1;}if(_99>to){var tmp=to;to=_99;_99=tmp;}if(_99<0){_99=0;}if(to>_9e){to=_9e;}for(var i=_99;i<=to;i++){_9d=_9d.concat(this.getRowData(i,_9c));}return _9d;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getAllData=function(_a1){["WebSquare.DataCollection.dataController.prototype.getAllData"];try{this.broadcast({"gridView":["_endEdit"]});if(this.getTotalRow()!=this.getDataLength()){var _a2=[];var _a3=this.getTotalRow();for(var i=0;i<_a3;i++){var _a5=this._getRowData(i,_a1);for(var j=0;j<_a5.length;j++){_a2.push(_a5[j]);}}return _a2;}else{var _a2=[];var _a7=this.getDataLength();for(var i=0;i<_a7;i++){var _a5=this.getRowData(i,_a1);for(var j=0;j<_a5.length;j++){_a2.push(_a5[j]);}}return _a2;}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getAllArrayEvalString=function(){["WebSquare.DataCollection.dataController.prototype.getAllArrayEvalString"];try{this.broadcast({"gridView":["_endEdit"]});var ret="[";for(var i=0;i<this.dataArr.length;i++){var t=this.dataArr[i];if(typeof t==="string"){if(t.indexOf("\"")>=0){t=t.replaceAll("\"","\\\"");}t="\""+t+"\"";}if(i<this.dataArr.length-1){ret+=t+",";}else{ret+=t;}}ret+="]";return ret;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getColumnDistinctDataArray=function(_ab,_ac){["WebSquare.DataCollection.dataController.prototype.getColumnDistinctDataArray"];try{this.broadcast({"gridView":["_endEdit"]});var _ad=[];var _ae={};if(typeof _ab=="string"){_ab=this.bodyIdColIndexMap[_ab];}var _af=this.getCellInfo(_ab);var _b0=this.getColData(_ab);for(var i=0;i<_b0.length;i++){var _b2=_b0[i];_ae[_b2]=1;}for(var _b3 in _ae){_ad.push(_b3);}if(_ac&&_ac.sort==false){return _ad;}if(_af.options.dataType=="text"){_ad=_ad.sort();}else{_ad=_ad.sort(this.comparator);}return _ad;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getAllFilteredData=function(_b4){["WebSquare.DataCollection.dataController.prototype.getAllFilteredData"];this.broadcast({"gridView":["_endEdit"]});var _b5=[];for(var i=0;i<this.getDataLength();i++){_b5=_b5.concat(this.getRowData(i,_b4));}return _b5;};$W._j.dataController.prototype.getChildrenRowArr=function(_b7){["WebSquare.DataCollection.dataController.prototype.getChildrenRowArr"];var _b8=[];if(this.options.depthColumn){var _b9=this.getTotalCol();var _ba=this.getTotalRow();var col=this.options.depthColumn;var _bc=this.getColumnID(col);var row=_b7+1;var _be=parseInt(this._getData(_b7,_bc),10);if(row<_ba&&this._getData(row,_bc)>(_be)){_b8.push(row);var _bf=parseInt(this._getData(row,_bc),10);var _c0=true;}if(_c0){for(var row=_b7+2;row<_ba;row++){if(this._getData(row,_bc)<(_be+1)){break;}if(this._getData(row,_bc)<(_bf+1)){_b8.push(row);_bf=parseInt(this._getData(row,_bc),10);}}}}return _b8;};$W._j.dataController.prototype.getRecursiveRowIndex=function(_c1){["WebSquare.DataCollection.dataController.prototype.getRecursiveRowIndex"];try{var _c2=[];var _c3=this.getChildrenRowArr(_c1);for(var i=0;i<_c3.length;i++){var _c5=_c3[i];_c2.push(_c5);_c2=_c2.concat(this.getRecursiveRowIndex(_c5));}return _c2;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.getRangeXML=function(_c6,to,_c8){["WebSquare.DataCollection.dataController.prototype.getRangeXML"];try{var _c9;if(this.options.depthColumn){_c9=this.getTotalRow()-1;}else{_c9=this.getDataLength()-1;}if(_c6>to){var tmp=to;to=_c6;_c6=tmp;}if(_c6<0){_c6=0;}if(to>_c9){to=_c9;}var _cb=[];for(var i=_c6;i<=to;i++){_cb.push(i);}var _cd=this.getArrXML(_cb,_c8);return _cd;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getMatchedXML=function(_ce,_cf,_d0,_d1,_d2,_d3){["WebSquare.DataCollection.dataController.prototype.getMatchedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _d4=this.getMatchedIndex(_ce,_cf,_d0,_d1,_d2);var _d5=this.getArrXML(_d4,_d3);return _d5;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getUnmatchedXML=function(_d6,_d7,_d8,_d9,_da,_db){["WebSquare.DataCollection.dataController.prototype.getUnmatchedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _dc=this.getUnmatchedIndex(_d6,_d7,_d8,_d9,_da);var _dd=this.getArrXML(_dc,_db);return _dd;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getRowXML=function(_de,_df){["WebSquare.DataCollection.dataController.prototype.getRowXML"];try{var _e0=this.getRangeXML(_de,_de,_df);var uri;if(this.initializeType=="dataMap"){uri=this.options.baseNode+"/"+this.options.repeatNode.split("/")[0];}else{uri=this.options.baseNode+"/"+this.options.repeatNode;}_e0=$W._B.findNode(_e0,uri);_e0=$W._B.parse($W._B.serialize(_e0));return _e0;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getAllXML=function(_e2){["WebSquare.DataCollection.dataController.prototype.getAllXML"];try{this.broadcast({"gridView":["_endEdit"]});if(this.getTotalRow()==this.getDataLength()){return this.getAllFilteredXML(_e2);}else{return this.getAllArrXML(_e2);}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getAllFilteredXML=function(_e3){["WebSquare.DataCollection.dataController.prototype.getAllFilteredXML"];try{this.broadcast({"gridView":["_endEdit"]});var _e4=this.getDataLength();var _e5=[];for(var i=0;i<_e4;i++){_e5.push(i);}var _e7=this.getArrXML(_e5,_e3);return _e7;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getRowJSON=function(_e8,_e9){["WebSquare.DataCollection.dataController.prototype.getRowJSON"];try{if(typeof _e9==="undefined"||_e9==null){_e9={};}var _ea={};var _eb=(this.options.depthColumn||_e9.realRowIndex)?_e8:this.filteredRowIndexArr[_e8];var _ec=this.cellIdList.length;if(typeof _e9.includeColumns==="object"&&_e9.includeColumns!=null&&_e9.includeColumns.constructor===Array){var _ed=_e9.includeColumns.length;for(var i=0;i<_ed;i++){var _ef=_e9.includeColumns[i];var _f0=this.cellInfoHash[_ef];if(_f0){if(_f0.options.inputType=="expression"){_ea[_ef]=_f0.getExpressionValue(_eb);}else{var col=this.bodyIdColIndexMap[_ef];_ea[_ef]=this.dataArr[_eb*_ec+col];if(_ea[_ef]==null){_ea[_ef]="";}}}}}else{for(var col=0;col<_ec;col++){var _ef=this.cellIdList[col];var _f0=this.cellInfoHash[_ef];if(_f0){if(_f0.options.inputType=="expression"){_ea[_ef]=_f0.getExpressionValue(_eb);}else{_ea[_ef]=this.dataArr[_eb*_ec+col];if(_ea[_ef]==null){_ea[_ef]="";}}}}}var _f2=this.options.rowStatusNodeName;if(_e9.rowStatusNodeName){_f2=_e9.rowStatusNodeName;}if(this.initializeType=="dataList"||this.initializeType=="removeManager"){_ea[_f2]=this.rowStatusArr[_eb];if(this.options.rowNumData){_ea["rowNum"]=_e8+1;}}return _ea;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getVirtualRowJSON=function(_f3,_f4,_f5){["WebSquare.DataCollection.dataController.prototype.getVirtualRowJSON"];try{var _f6={};_f4=this.getColumnID(_f4);for(var col=0;col<this.getColumnCount();col++){var _f8=this.getColumnID(col);if(_f8==_f4){_f6[_f8]=_f5;}else{_f6[_f8]=this.getCellData(_f3,_f8);}}return _f6;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getAllJSON=function(_f9){["WebSquare.DataCollection.dataController.prototype.getAllJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _fa=[];var _fb=this.getTotalRow();var _fc=this.getDataLength();if(_fb!=_fc){if(typeof _f9==="undefined"||_f9==null){_f9={"realRowIndex":true};}else{_f9.realRowIndex=true;}for(var i=0;i<_fb;i++){_fa=_fa.concat(this.getRowJSON(i,_f9));}}else{for(var i=0;i<_fc;i++){_fa=_fa.concat(this.getRowJSON(i,_f9));}}return _fa;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getRangeJSON=function(_fe,to,_100){["WebSquare.DataCollection.dataController.prototype.getRangeJSON"];try{var _101=[];var _102;if(this.options.depthColumn){_102=this.getTotalRow()-1;}else{_102=this.getDataLength()-1;}if(_fe>to){var tmp=to;to=_fe;_fe=tmp;}if(_fe<0){_fe=0;}if(to>_102){to=_102;}for(var i=_fe;i<=to;i++){_101.push(this.getRowJSON(i,_100));}return _101;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getMatchedJSON=function(_105,_106,_107,_108,_109,_10a){["WebSquare.DataCollection.dataController.prototype.getMatchedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _10b=[];var _10c=this.getMatchedIndex(_105,_106,_107,_108,_109,_10a);for(var i=0;i<_10c.length;i++){_10b.push(this.getRowJSON(_10c[i],_10a));}return _10b;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getUnmatchedJSON=function(_10e,_10f,_110,_111,_112,_113){["WebSquare.DataCollection.dataController.prototype.getUnmatchedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _114=[];var _115=this.getUnmatchedIndex(_10e,_10f,_110,_111,_112,_113);for(var i=0;i<_115.length;i++){_114.push(this.getRowJSON(_115[i],_113));}return _114;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getAllFilteredJSON=function(_117){["WebSquare.DataCollection.dataController.prototype.getAllFilteredJSON"];this.broadcast({"gridView":["_endEdit"]});var _118=[];var _119=this.getDataLength();for(var i=0;i<_119;i++){_118.push(this.getRowJSON(i,_117));}return _118;};$W._j.dataController.prototype.getFusionChartData=function(_11b,_11c,_11d){["WebSquare.DataCollection.dataController.prototype.getFusionChartData"];try{var _11e={};var _11f=this.getAllArray();var _120;if(!_11c){_11c=_11f.columnInfo[0];}if(!_11d){var _121=new Array();for(var i=1;i<=_11f.columnInfo.length;i++){if(this.getCellInfo(i).options.dataType=="number"){_121.push(_11f.columnInfo[i]);}}if(_11b.toLowerCase()=="msstackedcolumn2d"){_120=[];_120[0]=new Array(_121[0]);_120[1]=new Array(_121[1]);}else{if(_11b.toLowerCase()=="msstackedcolumn2dlinedy"){_120=[];_120[0]=new Array(_121[0]);_120[1]=new Array(_121[1]);_120[2]=new Array(_121[2]);}else{_11d=_121;}}}else{_120=_11d.wq_replaceAll("'","\"");_120=JSON.parse(_120);_11d=_120[0];}this._singleSerises=function(){var obj=[];var data=this.getAllJSON();for(var i=0;i<data.length;i++){var _126={"label":data[i][_11c],"value":data[i][_11d[0]]};obj.push(_126);}_11e.data=obj;return _11e;};this._multiSerises=function(){_11e=this._getFusionChartCategory();_11e.dataset=[];for(var i=0;i<_11d.length;i++){var _128=this._getFusionChartSeriesDate(i);_11e["dataset"].push(_128);}return _11e;};this._msStacked=function(){_11e=this._getFusionChartCategory();_11e.dataset=[];for(var i=0;i<_120.length;i++){_11d=_120[i];var obj={};obj.dataset=[];for(var j=0;j<_11d.length;j++){var _12c=this._getFusionChartSeriesDate(j);obj["dataset"].push(_12c);}_11e["dataset"].push(obj);}return _11e;};this._msStackedColumn2DLineDY=function(){_11e=this._getFusionChartCategory();_11e.dataset=[];for(var i=0;i<_120.length-1;i++){_11d=_120[i];var obj={};obj.dataset=[];for(var j=0;j<_11d.length;j++){var _130=this._getFusionChartSeriesDate(j);obj["dataset"].push(_130);}_11e["dataset"].push(obj);}_11e.lineset=[];var _131=_120.length-1;_11d=_120[_131];for(var i=0;i<_11d.length;i++){var _130=this._getFusionChartSeriesDate(i);_11e["lineset"].push(_130);}return _11e;};this._scatter=function(){_11e.dataset=[];var _132=this.getColData(_11c).unique();for(var i=0;i<_132.length;i++){var obj1={};obj1.data=[];for(var j=0;j<this.getRowCount();j++){if(_132[i]==this.getCellData(j,_11c)){var obj2={};if(_11b.toLowerCase()=="scatter"){obj2={"x":this.getCellData(j,_11d[0]),"y":this.getCellData(j,_11d[1])};}else{if(_11b.toLowerCase()=="bubble"){obj2={"x":this.getCellData(j,_11d[0]),"y":this.getCellData(j,_11d[1]),"z":this.getCellData(j,_11d[2])};}}obj1["data"].push(obj2);}}obj1["seriesname"]=_132[i];_11e["dataset"].push(obj1);}return _11e;};this._zoomLine=function(){if(this.getRowCount()==1){_11e={"categories":[{"category":this.getCellData(0,_11c)}]};_11e.dataset=[];for(var i=0;i<_11d.length;i++){var obj={};obj["seriesname"]=this.getColumnName(_11d[i]);obj["data"]=this.getCellData(0,_11d[i]);_11e["dataset"].push(obj);}return _11e;}else{return this._multiSerises();}};this._getFusionChartCategory=function(){var obj=[];var data=this.getColData(_11c);for(var i=0;i<data.length;i++){var _13c={"label":data[i]};obj.push(_13c);}return {"categories":[{"category":obj}]};};this._getFusionChartSeriesDate=function(_13d){var obj={};obj.data=[];var _13f;var _140=[];if(typeof _11d[_13d]!="string"){_13f=_11d[_13d].id;obj["seriesname"]=this.getColumnName(_13f);for(var obj1 in _11d[_13d]){if(_11d[_13d].hasOwnProperty(obj1)){if(this.hasColumn(_11d[_13d][obj1])&&obj1.toLowerCase()!="id"){var obj3={};obj3[obj1]=_11d[_13d][obj1];_140.push(obj3);}else{obj[obj1]=_11d[_13d][obj1];}}}}else{_13f=_11d[_13d];obj["seriesname"]=this.getColumnName(_13f);}for(var j=0;j<this.getRowCount();j++){var obj2={"value":this.getCellData(j,_13f)};for(var i=0;i<_140.length;i++){for(var obj4 in _140[i]){obj2[obj4]=this.getCellData(j,_140[i][obj4]);}}obj["data"].push(obj2);}return obj;};Array.prototype.unique=function(){var a={};for(var i=0;i<this.length;i++){if(typeof a[this[i]]=="undefined"){a[this[i]]=1;}}this.length=0;for(var i in a){this[this.length]=i;}return this;};switch(_11b.toLowerCase()){case "column2d":return this._singleSerises();break;case "column3d":return this._singleSerises();break;case "bar2d":return this._singleSerises();break;case "bar3d":return this._singleSerises();break;case "pie2d":return this._singleSerises();break;case "pie3d":return this._singleSerises();break;case "doughnut2d":return this._singleSerises();break;case "doughnut3d":return this._singleSerises();break;case "pareto2d":return this._singleSerises();break;case "pareto3d":return this._singleSerises();break;case "line":return this._singleSerises();break;case "area2d":return this._singleSerises();break;case "ssgrid":return this._singleSerises();break;case "funnel":return this._singleSerises();break;case "pyramid":return this._singleSerises();break;case "sparkline":return this._singleSerises();break;case "sparkcolumn":return this._singleSerises();break;case "sparkwinloss":return this._singleSerises();break;case "mscolumn2d":return this._multiSerises();break;case "mscolumn3d":return this._multiSerises();break;case "msline":return this._multiSerises();break;case "msarea":return this._multiSerises();break;case "msbar2d":return this._multiSerises();break;case "msbar3d":return this._multiSerises();break;case "marimekko":return this._multiSerises();break;case "stackedcolumn2d":return this._multiSerises();break;case "stackedcolumn3d":return this._multiSerises();break;case "stackedarea2d":return this._multiSerises();break;case "stackedbar2d":return this._multiSerises();break;case "stackedbar3d":return this._multiSerises();break;case "mscombi3d":return this._multiSerises();break;case "mscombi2d":return this._multiSerises();break;case "mscolumnline3d":return this._multiSerises();break;case "stackedcolumn2dline":return this._multiSerises();break;case "stackedcolumn3dline":return this._multiSerises();break;case "mscombidy2d":return this._multiSerises();break;case "mscolumn3dlinedy":return this._multiSerises();break;case "scrollcolumn2d":return this._multiSerises();break;case "scrollline2d":return this._multiSerises();break;case "scrollArea2d":return this._multiSerises();break;case "scrollstackedcolumn2d":return this._multiSerises();break;case "scrollcombi2d":return this._multiSerises();break;case "scrollcombidy2d":return this._multiSerises();break;case "stackedcolumn3dlinedy":return this._multiSerises();break;case "scatter":return this._scatter();break;case "bubble":return this._scatter();break;case "zoomline":return this._zoomLine();break;case "msstackedcolumn2d":return this._msStacked();break;case "msstackedcolumn2dlinedy":return this._msStackedColumn2DLineDY();break;}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getfwGanttChartData=function(info){["WebSquare.DataCollection.dataController.prototype.getfwGanttChartData"];try{var _14a={};_14a.chart={};_14a.categories=[];_14a.processes={};_14a.processes.process=[];_14a.tasks={};_14a.tasks.task=[];_14a.legend={};_14a.legend.item=[];var _14b=info.monthNames.split(",");var _14c=info.quarterNames.split(",");var _14d=this.getColumnDistinctDataArray(info.processNode,{sort:false});var _14e=this.getColumnDistinctDataArray(info.taskNode,{sort:false});var _14f=[];_14f.push(info.startDateNode);_14f.push(info.endDateNode);var _150=[];var _151={},processidData,taskid_list={},taskidData;if(info.processIdNode&&info.taskIdNode){processidData=this.getColumnDistinctDataArray(info.processIdNode,{sort:false});taskidData=this.getColumnDistinctDataArray(info.taskIdNode,{sort:false});for(var i=0;i<processidData.length;i++){_151[_14d[i]]=processidData[i];}}this._getGanttTaskData=function(_153,_154,_155,_156,_157,_158){var _159=this.getRowCount();var _15a=this.getMatchedIndex(info.taskNode,_153,true,0,_159);var _15b=[];for(var i=0;i<_15a.length;i++){var obj={};var _15e=this.getCellData(_15a[i],info.processNode);obj.label=this.getCellData(_15a[i],info.taskNode);obj.processid=_154[_15e];obj.color=_158[_15e];if(info.taskIdNode){obj.id=this.getCellData(_15a[i],info.taskIdNode);}else{obj.id=obj.processid+"_"+i;}if($W._G.getBoolean(info.multiTasks)){var len=_155.length;if(len==2){if(_15a[i]%len==0){obj.toppadding="22%";obj.height="25%";}else{obj.toppadding="70%";obj.height="25%";}}else{if(len==3){if(_15a[i]%len==0){obj.toppadding="12.5%";obj.height="16.6%";}else{if(_15a[i]%len==1){obj.toppadding="41.6%";obj.height="16.6%";}else{obj.toppadding="71.9%";obj.height="16.6%";}}}}}if(typeof _156=="object"){if(info.dateformat=="yyyyMMdd"){obj.start=$W._A.formatDate(this.getCellData(_15a[i],_156[0]),"yyyy/MM/dd","yyyyMMdd");obj.end=$W._A.formatDate(this.getCellData(_15a[i],_156[1]),"yyyy/MM/dd","yyyyMMdd");}else{obj.start=this.getCellData(_15a[i],_156[0]);obj.end=this.getCellData(_15a[i],_156[1]);}}_15b.push(obj);if(info.dateformat=="dd/mm/yyyy"||info.dateformat=="dd-mm-yyyy"){if(info.dateformat.indexOf("/")!=-1){_157.push(new Date(obj.start.replace(/(\d{2})\/(\d{2})\/(\d{4})/,"$2/$1/$3")));_157.push(new Date(obj.end.replace(/(\d{2})\/(\d{2})\/(\d{4})/,"$2/$1/$3")));}else{if(info.dateformat.indexOf("-")!=-1){_157.push(new Date(obj.start.replace(/(\d{2})-(\d{2})-(\d{4})/,"$2-$1-$3")));_157.push(new Date(obj.end.replace(/(\d{2})-(\d{2})-(\d{4})/,"$2-$1-$3")));}}}else{_157.push(new Date(obj.start));_157.push(new Date(obj.end));}}return _15b;};var _160=[];var _161={};var _162={};var j=0;var _164=info.plotColor.split(",");for(var i=0;i<_14d.length;i++,j++){var temp={};if(info.processIdNode&&info.taskIdNode){temp.id=_151[_14d[i]];}else{temp.id="process_"+i;}temp.name=_14d[i];_161[_14d[i]]=temp.id;if(_164.length>j){_162[_14d[i]]=_164[j];}else{j=0;_162[_14d[i]]=_164[j];}_160.push(temp);}_14a.processes.process=_160;var _166=[];for(var i=0;i<_14e.length;i++){var task=this._getGanttTaskData(_14e[i],_161,_14e,_14f,_150,_162);_166=_166.concat(task);}_14a.tasks.task=_166;_14a.tasks["showlabels"]="1";if($W._G.getBoolean(info.autoCategory)){_150.sort(function(a,b){return a-b;});var _16a=_150[0];var _16b=_150[_150.length-1];this._getMonthOfFirstDay=function(date){return (new Date(date.getFullYear(),date.getMonth()+1,1)).getDate();};this._getMonthOfLastDay=function(date){return (new Date(date.getFullYear(),date.getMonth()+1,0)).getDate();};if(info.timeBase.toLowerCase()=="date"){var _16e=this._getMonthOfFirstDay(_16a);var _16f=this._getMonthOfLastDay(_16b);var _170=_16a.getFullYear()+"/"+(_16a.getMonth()+1)+"/"+_16e;var _171=_16b.getFullYear()+"/"+(_16b.getMonth()+1)+"/"+_16f;var _172=new Date(_170);var _173=new Date(_171);var _174=[];var _175=new Date(_172.getTime());_174.push(new Date(_172.getTime()));while(_175.getTime()<_173.getTime()){_174.push(new Date(_175.setDate(this._getMonthOfLastDay(_175))));_175=new Date(_175.setDate(this._getMonthOfFirstDay(_175)));_175=new Date(_175.setMonth((_175.getMonth()+1)>12?0:(_175.getMonth()+1)));_174.push(_175);}var form=info.dateformat=="dd/mm/yyyy"||info.dateformat=="dd-mm-yyyy"||info.dateformat=="mm/dd/yyyy"||info.dateformat=="mm-dd-yyyy"||info.dateformat=="yyyy-mm-dd"||info.dateformat=="yyyy/mm/dd"?info.dateformat.wq_replaceAll("mm","MM"):info.dateformat;if(form=="yyyyMMdd"){form="yyyy/MM/dd";}if(info.categoryDepth==2){var obj2={};obj2.category=[];var _178={"quater1_start":"/01/01","quater1_end":"/03/31","quater2_start":"/04/01","quater2_end":"/06/30","quater3_start":"/07/01","quater3_end":"/09/30","quater4_start":"/10/01","quater4_end":"/12/31"};var _179=new Date(_172.getTime());while(_179.getTime()<_173.getTime()){var tobj={};if(_179.getMonth()+1<=3){tobj["start"]=$W._s.getFormattedDate(_179,form);tobj["end"]=$W._s.getFormattedDate(new Date(_179.getFullYear()+_178.quater1_end),form);tobj["label"]=_14c[0];obj2.category.push(tobj);_179=new Date(_179.getFullYear()+_178.quater2_start);}else{if(_179.getMonth()+1<=6){tobj["start"]=$W._s.getFormattedDate(_179,form);tobj["end"]=$W._s.getFormattedDate(new Date(_179.getFullYear()+_178.quater2_end),form);tobj["label"]=_14c[1];obj2.category.push(tobj);_179=new Date(_173.getFullYear()+_178.quater3_start);}else{if(_179.getMonth()+1<=9){tobj["start"]=$W._s.getFormattedDate(_179,form);tobj["end"]=$W._s.getFormattedDate(new Date(_179.getFullYear()+_178.quater3_end),form);tobj["label"]=_14c[2];obj2.category.push(tobj);_179=new Date(_179.getFullYear()+_178.quater4_start);}else{tobj["start"]=$W._s.getFormattedDate(_179,form);tobj["end"]=$W._s.getFormattedDate(new Date(_179.getFullYear()+_178.quater4_end),form);tobj["label"]=_14c[3];obj2.category.push(tobj);if(_179<_173){_179=new Date(_179.getFullYear()+1+_178.quater1_start);}}}}}_14a.categories.push(obj2);}var obj={};obj.category=[];for(var i=0;i<_174.length;i=i+2){var tobj={};tobj["start"]=$W._s.getFormattedDate(_174[i],form);tobj["end"]=$W._s.getFormattedDate(_174[i+1],form);tobj["label"]=_14b[_174[i].getMonth()];if(tobj.start&&tobj.end){obj.category.push(tobj);}}_14a.categories.push(obj);}else{if(info.timeBase.toLowerCase()=="time"){if(info.timeGap=="12"){var _174=["00:00:00","11:59:59","12:00:00","23:59:59"];var _17c=WebSquareLang.fwGanttChart_ampm.split(",");var obj={};obj.category=[];for(var i=0;i<_174.length;i+=2){var tobj={};tobj["start"]=_174[i];tobj["end"]=_174[i+1];switch(i){case 0:tobj["label"]=_17c[0];break;case 2:tobj["label"]=_17c[1];break;}obj.category.push(tobj);}_14a.chart.outputdateformat="hh:mn ampm";_14a.categories.push(obj);}else{if(info.timeGap=="6"){var _174=["00:00:00","05:59:59","06:00:00","11:59:59","12:00:00","17:59:59","18:00:00","23:59:59"];var _17c=WebSquareLang.fwGanttChart_timeGap6Label.split(",");var obj={};obj.category=[];for(var i=0;i<_174.length;i+=2){var tobj={};tobj["start"]=_174[i];tobj["end"]=_174[i+1];switch(i){case 0:tobj["label"]=_17c[0];break;case 2:tobj["label"]=_17c[1];break;case 4:tobj["label"]=_17c[2];break;case 6:tobj["label"]=_17c[3];break;}obj.category.push(tobj);}_14a.chart.outputdateformat="hh:mn ampm";_14a.categories.push(obj);}else{var _174=["00:00:00","02:59:59","03:00:00","05:59:59","06:00:00","08:59:59","09:00:00","11:59:59","12:00:00","14:59:59","15:00:00","17:59:59","18:00:00","20:59:59","21:00:00","23:59:59"];var _17c=WebSquareLang.fwGanttChart_timeGap3Label.split(",");var obj={};obj.category=[];for(var i=0;i<_174.length;i+=2){var tobj={};tobj["start"]=_174[i];tobj["end"]=_174[i+1];switch(i){case 0:tobj["label"]=_17c[0];break;case 2:tobj["label"]=_17c[1];break;case 4:tobj["label"]=_17c[2];break;case 6:tobj["label"]=_17c[3];break;case 8:tobj["label"]=_17c[4];break;case 10:tobj["label"]=_17c[5];break;case 12:tobj["label"]=_17c[6];break;case 14:tobj["label"]=_17c[7];break;}obj.category.push(tobj);}_14a.chart.outputdateformat="hh:mn ampm";_14a.categories.push(obj);}}}else{if(info.timeBase.toLowerCase()=="datetime"){if(info.timeGap=="12"){var _170=(_16a.getMonth()+1)+"/"+_16a.getDate()+"/"+_16a.getFullYear()+" 00:00:00";var _171=(_16b.getMonth()+1)+"/"+_16b.getDate()+"/"+_16b.getFullYear()+" 23:59:59";var _172=new Date(_170);var _173=new Date(_171);var _174=[];var _175=new Date(_172.getTime());_174.push(_175);while(_175<_173){if(_175.getSeconds()=="0"){_175=new Date(_175.getTime()+(3600*12-1)*1000);_174.push(_175);}else{_175=_175.getTime()+1000;_175=new Date(_175);_174.push(_175);}}var obj={};obj.category=[];if(info.categoryDepth==2){var obj2={};obj2.category=[];for(var i=0;i<_174.length;i+=4){var tobj={};tobj["start"]=_174[i];tobj["end"]=_174[i+3];tobj["label"]=$W._s.getFormattedDate(_174[i],"yyyy/MM/dd");obj2.category.push(tobj);}_14a.categories.push(obj2);}var _17c=WebSquareLang.fwGanttChart_ampm.split(",");for(var i=0;i<_174.length;i+=2){var tobj={};tobj["start"]=_174[i];tobj["end"]=_174[i+1];if((_174[i+1].getHours()*1)>12){tobj["label"]=_17c[1];}else{tobj["label"]=_17c[0];}obj.category.push(tobj);}_14a.categories.push(obj);}else{if(info.timeGap.toLowerCase()=="24"){var _170=(_16a.getMonth()+1)+"/"+_16a.getDate()+"/"+_16a.getFullYear()+" 00:00:00";var _171=(_16b.getMonth()+1)+"/"+_16b.getDate()+"/"+_16b.getFullYear()+" 23:59:59";var _172=new Date(_170);var _173=new Date(_171);var _174=[];var _175=new Date(_172.getTime());_174.push(_175);while(_175<_173){if(_175.getSeconds()=="0"){_175=new Date(_175.getTime()+(3600*24-1)*1000);_174.push(_175);}else{_175=_175.getTime()+1000;_175=new Date(_175);_174.push(_175);}}if(info.categoryDepth==2){var obj2={};obj2.category=[];var _16e=this._getMonthOfFirstDay(_16a);var _16f=this._getMonthOfLastDay(_16b);var _170=_16a.getFullYear()+"/"+(_16a.getMonth()+1)+"/"+_16e;var _171=_16b.getFullYear()+"/"+(_16b.getMonth()+1)+"/"+_16f;var _172=new Date(_170);var _173=new Date(_171);var _17d=[];var _175=new Date(_172.getTime());_17d.push(new Date(_172.getTime()));while(_175.getTime()<_173.getTime()){_17d.push(new Date(_175.setDate(this._getMonthOfLastDay(_175))));_175=new Date(_175.setDate(this._getMonthOfFirstDay(_175)));_175=new Date(_175.setMonth((_175.getMonth()+1)>12?0:(_175.getMonth()+1)));_17d.push(_175);}for(var i=0;i<_17d.length;i=i+2){var tobj={};tobj["start"]=$W._s.getFormattedDate(_17d[i],info.dateformat);tobj["end"]=$W._s.getFormattedDate(_17d[i+1],info.dateformat);tobj["label"]=_14b[_17d[i].getMonth()];if(tobj.start&&tobj.end){obj2.category.push(tobj);}}_14a.categories.push(obj2);}var obj={};obj.category=[];for(var i=0;i<_174.length;i+=2){var tobj={};tobj["start"]=_174[i];tobj["end"]=_174[i+1];tobj["label"]=info.categoryDepth==2?$W._s.getFormattedDate(_174[i],"dd")+WebSquareLang.fwGanttChart_dateSuffix:$W._s.getFormattedDate(_174[i],"yyyy/MM/dd");obj.category.push(tobj);}_14a.chart.outputdateformat="dd/mm/yyyy hh:mn:ss ampm";_14a.categories.push(obj);}}}}}}return _14a;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getRealtimeData=function(_17e,_17f,_180,_181){var _182={};var _183=this.getAllArray();if(!_17e){_17e=_183.columnInfo[0];}if(!_17f){_17f=_183.columnInfo[1];}if(!_180){var _184=new Array();for(var i=0;i<_183.columnInfo.length;i++){if(this.getCellInfo(i).options.dataType=="number"){_184.push(_183.columnInfo[i]);}}_180=_184[0];}this._multiSerises=function(){_182={};_182.categories=[{category:[]}];_182.dataset=[];var _186=_181.plotColor.split(",");var _187=this.getColumnDistinctDataArray(_17f,{sort:false});for(var i=0;i<_187.length;i++){var _189=this._getfwRealtimeChartSeriesDate(_187[i]);_189["color"]=_186[i];_182["dataset"].push(_189);}return _182;};this._getfwRealtimeChartSeriesDate=function(_18a){var obj={};obj["seriesname"]=_18a;return obj;};return this._multiSerises();};$W._j.dataController.prototype.getFusionChartSimpleData=function(_18c,_18d,_18e,_18f){["WebSquare.DataCollection.dataController.prototype.getFusionChartSimpleData"];try{var _190={};var _191=this.getAllArray();if(!_18d){_18d=_191.columnInfo[0];}if(!_18e){_18e=_191.columnInfo[1];}if(!_18f){var _192=new Array();for(var i=0;i<_191.columnInfo.length;i++){if(this.getCellInfo(i).options.dataType=="number"){_192.push(_191.columnInfo[i]);}}_18f=_192[0];}this._singleSerises=function(){var obj=[];var data=this.getAllJSON();for(var i=0;i<data.length;i++){var _197={"label":data[i][_18d],"value":data[i][_18f]};obj.push(_197);}_190.data=obj;return _190;};this._multiSerises=function(){_190=this._getFusionChartCategory();_190.dataset=[];var _198=this.getColumnDistinctDataArray(_18e,{sort:false});for(var i=0;i<_198.length;i++){var _19a=this._getFusionChartSeriesDate(_198[i]);_190["dataset"].push(_19a);}return _190;};this._combiSerises=function(){return false;};this._msStacked=function(){return false;};this._msStackedColumn2DLineDY=function(){return false;};this._scatter=function(){return false;};this._zoomLine=function(){if(this.getRowCount()==1){return false;}else{return this._multiSerises();}};this._getFusionChartCategory=function(){var obj=[];var _19c=this.getColumnDistinctDataArray(_18d,{sort:false});for(var i=0;i<_19c.length;i++){var _19e={"label":_19c[i]};obj.push(_19e);}return {"categories":[{"category":obj}]};};this._getFusionChartSeriesDate=function(_19f){var obj={};obj.data=[];obj["seriesname"]=_19f;var _1a1=this.getColumnDistinctDataArray(_18d,{sort:false});var _1a2=this.getRowCount();var _1a3=this.getMatchedIndex(_18e,_19f,true,0,_1a2);for(var i=0;i<_1a1.length;i++){var obj2={"value":0};for(var j=0;j<_1a3.length;j++){if(_1a1[i]==this.getCellData(_1a3[j],_18d)){obj2={"value":this.getCellData(_1a3[j],_18f)};}}obj["data"].push(obj2);}return obj;};switch(_18c.toLowerCase()){case "column2d":return this._singleSerises();break;case "column3d":return this._singleSerises();break;case "bar2d":return this._singleSerises();break;case "bar3d":return this._singleSerises();break;case "pie2d":return this._singleSerises();break;case "pie3d":return this._singleSerises();break;case "doughnut2d":return this._singleSerises();break;case "doughnut3d":return this._singleSerises();break;case "pareto2d":return this._singleSerises();break;case "pareto3d":return this._singleSerises();break;case "line":return this._singleSerises();break;case "area2d":return this._singleSerises();break;case "ssgrid":return this._singleSerises();break;case "funnel":return this._singleSerises();break;case "pyramid":return this._singleSerises();break;case "sparkline":return this._singleSerises();break;case "sparkcolumn":return this._singleSerises();break;case "sparkwinloss":return this._singleSerises();break;case "mscolumn2d":return this._multiSerises();break;case "mscolumn3d":return this._multiSerises();break;case "msline":return this._multiSerises();break;case "msarea":return this._multiSerises();break;case "msbar2d":return this._multiSerises();break;case "msbar3d":return this._multiSerises();break;case "marimekko":return this._multiSerises();break;case "stackedcolumn2d":return this._multiSerises();break;case "stackedcolumn3d":return this._multiSerises();break;case "stackedarea2d":return this._multiSerises();break;case "stackedbar2d":return this._multiSerises();break;case "stackedbar3d":return this._multiSerises();break;case "mscombi3d":return this._combiSerises();break;case "mscombi2d":return this._combiSerises();break;case "mscolumnline3d":return this._combiSerises();break;case "stackedcolumn2dline":return this._combiSerises();break;case "stackedcolumn3dline":return this._combiSerises();break;case "mscombidy2d":return this._combiSerises();break;case "mscolumn3dlinedy":return this._combiSerises();break;case "stackedcolumn3dlinedy":return this._combiSerises();break;case "scrollcolumn2d":return this._multiSerises();break;case "scrollline2d":return this._multiSerises();break;case "scrollArea2d":return this._multiSerises();break;case "scrollstackedcolumn2d":return this._multiSerises();break;case "scrollcombi2d":return this._combiSerises();break;case "scrollcombidy2d":return this._combiSerises();break;case "scatter":return this._scatter();break;case "bubble":return this._scatter();break;case "zoomline":return this._zoomLine();break;case "msstackedcolumn2d":return this._msStacked();break;case "msstackedcolumn2dlinedy":return this._msStackedColumn2DLineDY();break;}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getRowArray=function(_1a7){["WebSquare.DataCollection.dataController.prototype.getRowArray"];try{var _1a8={};_1a8["columnInfo"]=this.cellIdList;_1a8["data"]=this.getRowData(_1a7);return _1a8;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getAllArray=function(_1a9){["WebSquare.DataCollection.dataController.prototype.getAllArray"];try{var _1aa={};if(typeof _1a9==="undefined"||_1a9==null){_1a9={};}if(typeof _1a9.includeColumns==="object"&&_1a9.includeColumns!=null&&_1a9.includeColumns.constructor===Array){_1aa["columnInfo"]=_1a9.includeColumns;}else{_1aa["columnInfo"]=this.cellIdList;}_1aa["data"]=this.getAllData(_1a9);return _1aa;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getRangeArray=function(from,to,_1ad){["WebSquare.DataCollection.dataController.prototype.getRangeArray"];try{var _1ae={};_1ae["columnInfo"]=this.cellIdList;_1ae["data"]=this.getRangeData(from,to,_1ad);return _1ae;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getMatchedArray=function(_1af,_1b0,_1b1,_1b2,_1b3,_1b4){["WebSquare.DataCollection.dataController.prototype.getMatchedArray"];try{if(typeof _1b4==="undefined"||_1b4==null){_1b4={};}var _1b5={};if(typeof _1b4.includeColumns==="object"&&_1b4.includeColumns!=null&&_1b4.includeColumns.constructor===Array){_1b5["columnInfo"]=_1b4.includeColumns;}else{_1b5["columnInfo"]=this.cellIdList;}var _1b6=this.getMatchedIndex(_1af,_1b0,_1b1,_1b2,_1b3);var _1b7=[];for(var i=0;i<_1b6.length;i++){_1b7=_1b7.concat(this.getRowData(_1b6[i],_1b4));}_1b5["data"]=_1b7;return _1b5;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.getUnmatchedArray=function(_1b9,_1ba,_1bb,_1bc,_1bd,_1be){["WebSquare.DataCollection.dataController.prototype.getUnmatchedArray"];try{if(typeof _1be==="undefined"||_1be==null){_1be={};}var _1bf={};if(typeof _1be.includeColumns==="object"&&_1be.includeColumns!=null&&_1be.includeColumns.constructor===Array){_1bf["columnInfo"]=_1be.includeColumns;}else{_1bf["columnInfo"]=this.cellIdList;}var _1c0=this.getUnmatchedIndex(_1b9,_1ba,_1bb,_1bc,_1bd);var _1c1=[];for(var i=0;i<_1c0.length;i++){_1c1=_1c1.concat(this.getRowData(_1c0[i],_1be));}_1bf["data"]=_1c1;return _1bf;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setCellData=function(_1c3,_1c4,data,_1c6,_1c7){["WebSquare.DataCollection.dataController.prototype.setCellData"];try{this._setCellData.call(this,_1c3,_1c4,data,_1c6,_1c7);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype._setCellData=function(_1c8,_1c9,_1ca,_1cb,_1cc,_1cd,_1ce){["WebSquare.DataCollection.dataController.prototype._setCellData"];try{if(typeof _1c8=="object"&&_1c8!=null){_1c9=_1c8.colID;_1ca=_1c8.value;_1cb=_1c8.direction;_1cc=_1c8.skipBroadCast;_1cd=_1c8.noEvent;var _1cf=_1c8.filteredRowIndex;_1c8=null;_1c8=_1cf;}if(_1cc!==false){_1cc=_1cc||_1cd||$W._j["stopBroadCast"];}if(_1ca===null||_1ca===undefined){_1ca="";}this.broadcast({"gridView":["notifyBeforeSettedCellData"]});_1c9=this.getColumnID(_1c9);var _1d0=this.getColumnIndex(_1c9);var _1d1=this.getTotalRow();var _1d2=this.getTotalCol();var _1d3=(this.options.depthColumn)?_1c8:this.filteredRowIndexArr[_1c8];var _1d4=this.cellIdList.length;if(_1c8>=0&&_1c8<_1d1&&_1d0>=0&&_1d0<_1d2){var _1d5=this.cellInfoHash[_1c9];var _1d6=_1d5.options.inputType||"text";var _1d7="";if(_1d5){if(_1d5.options.inputType=="expression"){_1d7=_1d5.getExpressionValue(_1d3);}else{_1d7=this.dataArr[_1d3*_1d4+_1d0];if(_1d7==null){_1d7="";}}}if(_1d5.options.dataType=="bigDecimal"&&typeof _1ca=="string"){if(_1d5.options.keepEmptyString&&_1ca===""){_1ca="";}else{_1ca=$W._b(_1ca).toString();}}else{if(_1d5.options.dataType=="bigDecimal"){$l("If dataType is bigDecimal, value must be entered to String.");_1ca=$W._b(_1ca).toString();}else{if(this.options.keepDataType&&_1d5.options.dataType=="number"&&(!isNaN(parseFloat(_1ca))&&isFinite(_1ca))){_1ca=Number(_1ca);}}}var _1d8=_1ca.toString().replace(/\r(\n)?/,"\n");var _1d9=_1d7.toString().replace(/\r(\n)?/,"\n");if(_1d8!==_1d9){if(this.initializeType=="dataList"&&!_1cd){var _1da=$W._c.fireEvent(this,"onbeforecelldatachange",{"rowIndex":_1c8,"colID":_1c9,"oldValue":_1d7,"newValue":_1ca});if(_1da===false){this.broadcast({"gridView":["notifyCellChanged",[_1c8,_1c9]],"fusionchart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"generalComp":["rollback"]});return;}}this.dataArr[_1d3*_1d4+_1d0]=_1ca;if(!_1d5.options.ignoreStatus){var _1db=false;var _1dc=this.originalDataArr[_1d3*_1d4+_1d0];if($W._G.isNull(_1dc)){_1dc="";}if(_1dc===_1ca){var _1dd=[];for(var t=0;t<_1d4;t++){if(this.ignoreStatusColArr[t]===true){continue;}_1dd.push(this.originalDataArr[_1d3*_1d4+t]);}var _1df=[];for(var t=0;t<_1d4;t++){if(this.ignoreStatusColArr[t]===true){continue;}var _1e0="";if(_1d5.options.inputType=="expression"){_1e0=_1d5.getExpressionValue(_1d3);}else{_1e0=this.dataArr[_1d3*_1d4+t];if(_1e0==null){_1e0="";}}_1df.push(_1e0);}var _1e1=false;for(var i=0;i<_1dd.length;i++){if(_1dd[i]!=_1df[i]){_1e1=true;break;}}if(!_1e1){_1db=true;}}if(_1db){if(this.rowStatusArr[_1d3]=="U"){this.modifyRowStatus(_1c8,"R");}}else{this._updateRowStatus(_1d3);}}if(this.initializeType=="dataList"){this.fireOnModelChangeEvent({"type":"cell","rowIndex":_1c8,"colID":_1c9,"oldValue":_1d7,"newValue":_1ca});if(!_1cd){$W._c.fireEvent(this,"oncelldatachange",{"rowIndex":_1c8,"colID":_1c9,"oldValue":_1d7,"newValue":_1ca});}}if(!_1cc){var _1e3=this.getFilteredRowIndex(_1d3);if(_1e3==undefined){_1e3=_1c8;}this.broadcast({"colID":_1c9,"gridView":["notifySettedCellData",[_1e3,_1c9,_1ca]],"linkedDataList":["notifyCellChanged",[_1d3,_1c9,_1ca]],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"generalComp":"both","excludeId":_1ce});}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype._setData=function(_1e4,_1e5,_1e6){["WebSquare.DataCollection.dataController.prototype._setData"];try{var _1e5=this.getColumnIndex(_1e5);this.dataArr[_1e4*this.getColumnCount()+_1e5]=_1e6;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setOriginalCellData=function(_1e7,_1e8,_1e9){["WebSquare.DataCollection.dataController.prototype.setOriginalCellData"];try{var _1ea=this.getColumnIndex(_1e8);var _1eb=(this.options.depthColumn)?_1e7:this.getRealRowIndex(_1e7);this._setOriginalCellData.call(this,_1eb,_1ea,_1e9);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype._setOriginalCellData=function(_1ec,_1ed,data){["WebSquare.DataCollection.dataController.prototype._setOriginalCellData"];try{var _1ef=this.getColumnIndex(_1ed);if(data===null||data===undefined){data="";}var _1f0=this.getTotalRow();var _1f1=this.getTotalCol();var _1f2="";if(_1ec>=0&&_1ec<_1f0&&_1ef>=0&&_1ef<_1f1){_1f2=this.getOriginalCellData(_1ec,_1ef);}if(_1ec>=0&&_1ec<_1f0&&_1ef>=0&&_1ef<_1f1){var _1f3=data.toString().replace(/\r(\n)?/,"\n");var _1f4=_1f2.toString().replace(/\r(\n)?/,"\n");if(_1f3!==_1f4){var _1f5=this.cellInfoHash[this.cellIdList[_1ef]];this.originalDataArr[_1ec*this.getColumnCount()+_1ef]=data;}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setColumnDefaultValue=function(_1f6,_1f7){["WebSquare.dataController.grid.prototype.setColumnDefaultValue"];try{var _1f8=this.getColumnIndex(_1f6);var _1f9=this.getCellInfo(_1f8);_1f9.options.defaultValue=_1f7;this.broadcast({"linkedDataList":["notifyDataChanged"],"gridView":["notifySetColumnDefaultValue",[_1f8,_1f7]],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.setRowData=function(_1fa,_1fb,_1fc,_1fd,_1fe){["WebSquare.DataCollection.dataController.prototype.setRowData"];try{if(_1fb==null){$l("data is null");return;}if(!_1fc){_1fa=this.insertRow(_1fa);}var _1ff=this.getColumnCount();var _200=false;var _201={};if(typeof _1fd==="object"&&_1fd!=null&&_1fd.constructor===Array){_200=true;for(var t=0;t<_1fd.length;t++){_201[_1fd[t]]=true;}}for(var col=0;col<_1ff;col++){var _204=this.cellIdList[col];var _205=this.cellInfoHash[_204];if(_200&&!_201[colID]){if(this.initializeType==="dataMap"&&!_1fe){this._setCellData({filteredRowIndex:_1fa,colID:colID,value:_205.options.defaultValue,noEvent:true});}continue;}var _206=_1fb[col];if(_206==null){_206=_205.options.defaultValue;}this._setCellData({filteredRowIndex:_1fa,colID:col,value:_206,noEvent:true});}var _207=this.filteredRowIndexArr[_1fa];this.broadcast({"gridView":["notifyRowModified",[_1fa]],"linkedDataList":["notifyRowChanged",[_207]],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setOriginalDataArr=function(_208){["WebSquare.dataController.grid.prototype.setOriginalDataArr"];try{this.originalDataArr=_208;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.setDataFile=function(arr,_20a,_20b,_20c){["WebSquare.DataCollection.dataController.prototype.setDataFile"];try{if(typeof arr=="string"){arr=this.toArray(arr);}var _20d=0;var _20e=[];for(var i=0;i<_20b.length;i++){var _210=$W._N.getComponentById(_20c).getCellInfo(_20b[i]);if(_210.options.inputType=="expression"){_20e.push(i);}}_20d=arr.length/_20b.length;for(var i=0;i<_20e.length;i++){for(var j=0;j<_20d;j++){var _212=j*_20b.length+parseInt(_20e[i],10);arr[_212]="";}}for(var i=0;i<_20b.length;i++){var _210=$W._N.getComponentById(_20c).getCellInfo(_20b[i]);var _213=_210.id;var _214=_210.options.dataType;if(_210.itemsetObj&&_210.itemsetObj.nodeset!=""&&_210.itemsetObj.nodeset.wq_replaceAll(" ","").indexOf("data:")>=0&&!_210.itemArr){_210.itemArr=[];var _215=_210.itemsetObj.nodeset.replace("data:","");var _216=$W._j["comp"][_215];if(_216&&$W.idCache[_216.uuid]){switch(_216.initializeType){case "linkedDataList":case "dataList":var _217=[];var _218={};for(var k=0;k<_216.getDataLength();k++){var _21a=_216.getCellData(k,_210.itemsetObj.label);var _21b=_216.getCellData(k,_210.itemsetObj.value);if(_218[_21a]==_21b){continue;}_218[_21a]=_21b;_217.push({label:_21a,value:_21b});}_210.itemArr=_217;break;case "dataMap":var _217=[];var _218={};for(var k=0;k<_216.getCount();k++){var _21a=_216.get(_210.itemsetObj.label);var _21b=_216.get(_210.itemsetObj.value);if(_218[_21a]==_21b){continue;}_218[_21a]=_21b;_217.push({label:_21a,value:_21b});}_210.itemArr=_217;break;}}}if(_210.options.inputType=="select"){var _21c=[];for(var j=0;j<_210.itemArr.length;j++){var _21d=_210.itemArr[j];_21c[_21d.label]=_21d.value;}for(var j=0;j<_20d;j++){var _212=j*_20b.length+i;arr[_212]=_21c[arr[_212]];}}else{if(_210.options.inputType=="checkcombobox"){var _21c=[];for(var j=0;j<_210.itemArr.length;j++){var _21d=_210.itemArr[j];_21c[_21d.label]=_21d.value;}for(var j=0;j<_20d;j++){var _212=j*_20b.length+i;var _21e=[];var _21f=arr[_212].split(_210.separator);for(var k=0;k<_21f.length;k++){_21e.push(_21c[_21f[k]]);}arr[_212]=_21e.join(_210.separator);}}else{if(_210.options.inputType=="autoComplete"){var _21c=[];for(var j=0;j<_210.itemArr.length;j++){var _21d=_210.itemArr[j];_21c[_21d.label]=_21d.value;}for(var j=0;j<_20d;j++){var _212=j*_20b.length+i;arr[_212]=_21c[arr[_212]];}}}}if(_210.options.displayFormat!=""){for(var j=0;j<_20d;j++){var _212=j*_20b.length+i;var _220=arr[_212];var _221=_210.options.displayFormat;if(_214=="number"||_214=="bigDecimal"){retVal=$W._A.unformatCurrency(_221,_220);}else{if(_214=="date"){retVal=$W._A.unformatDate(_221,_220);}else{if(_214=="time"){retVal=$W._A.unformatTime(_221,_220);}else{retVal=$W._A.unformatText(_221,_220);}}}arr[_212]=retVal;}}}this.setData(arr,_20a,_20b);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setData=function(arr,_223,_224){["WebSquare.DataCollection.dataController.prototype.setData"];try{if(typeof arr=="string"){arr=this.toArray(arr);}if(_224){if(!(_224 instanceof Array)&&(typeof _224=="string")){_224=this.toArray(_224);}if(!$W._G.isInteger(arr.length/_224.length)){$W.logger.printLog("[WebSquare.uiplugin.grid.getMappingData] Inconsistent array. Array length["+arr.length+"] is not a multiple of column length["+_224.length+"].");return;}arr=this.getMappingData(arr,_224,_223);}if(!$W._G.isInteger(arr.length/this.oneRowDataLength)){$W.logger.printLog("[WebSquare.uiplugin.grid.setData] Inconsistent array. Array length["+arr.length+"] is not a multiple of column length["+this.oneRowDataLength+"].");return;}this.setGridData(arr,_223);this.broadcast({"gridView":["notifySettedData",[_223]]});}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setGridData=function(arr,_226){["WebSquare.DataCollection.dataController.prototype.setGridData"];try{this.filterManager.clear();this.filteredRowIndexArr=[];var len=this.getTotalRow();for(var i=0;i<len;i++){this.filteredRowIndexArr.push(i);}this.broadcast({"gridView":["clearHeaderSort"]});var _229=arr.length/this.oneRowDataLength;if(this.options.keepDataType){var _22a=this.getTotalCol();for(var i=0;i<_22a;i++){var _22b=this.getCellInfo(i);if(_22b.options.dataType=="number"){for(var j=0;j<_229;j++){var _22d=arr[j*this.oneRowDataLength+i];if(!isNaN(parseFloat(_22d))&&isFinite(_22d)){arr[j*this.oneRowDataLength+i]=Number(_22d);}}}}}_226=_226||false;var _22e=this.getTotalRow();if(_226){this.dataArr=this.dataArr.concat(arr);this.originalDataArr=this.originalDataArr.concat(arr);}else{_22e=0;this.dataArr=arr;this.filteredRowIndexArr=[];this.originalDataArr=[];this.originalDataArr=this.dataArr.slice(0);if(this.initializeType=="dataList"){this.removeManager.removeAll();}}for(var i=0;i<_229;i++){this.filteredRowIndexArr.push(i+_22e);}this.initRowStatus(_22e);this.rowPosition=null;this.broadcast({"linkedDataList":["notifyDataChanged"],"gridView":["notifySettedGridData",[arr,_226,_22e]],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwRealtimeChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"generalComp":"both"});$W._c.fireEvent(this,"ondataload");}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.insertData=function(_22f,_230){["WebSquare.DataCollection.dataController.prototype.insertData"];try{return this._insertData(_22f,_230);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype._insertData=function(_231,_232,_233){["WebSquare.DataCollection.dataController.prototype.insertData"];try{if(_232==null){$l("data is null");return;}var _234=this.getColumnCount();var _235=_232.length/this.getColumnCount();if(_232){if(!(_232 instanceof Array)){return;}if(!$W._G.isInteger(_235)){$W.logger.printLog("[WebSquare.uiplugin.grid.getMappingData] Inconsistent array. Array length["+_232.length+"] is not a multiple of column length["+_234+"].");return;}}var _236={};var _237=[];var _238=_235;var end=0;var d=1;if(_233<0){_238=1;end=_235+1;d=-1;}var _23b=this.filteredRowIndexArr[_231];for(var row=_238;row*d>end*d;row-=d){var _23d=_231+row-1;_236[_23d]=[];_237.push(_23d);this.insertRow(_231,{noEvent:true});for(var col=0;col<_234;col++){var _23f=_232[_234*(row-1)+col];this._setCellData({filteredRowIndex:_231,colID:col,value:_23f,noEvent:true});_236[_23d].push(_23f);}}this.broadcast({"gridView":["notifyDataChanged"],"linkedDataList":["notifyRowInserted",[_23b,_237]],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"generalComp":"both"});$W._c.fireEvent(this,"oninsertrow",{"insertedDataObj":_236});}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setRowXML=function(_240,_241,_242,_243,_244){["WebSquare.DataCollection.dataController.prototype.setRowXML"];try{if(_241==null){$l("data is null");return;}if(!_242){_240=this.insertRow(_240);}var _245;if(typeof _241.documentElement=="undefined"){_245=_241;}else{_245=_241.documentElement;}var _246=[];var obfuscator_rowDataObj={};var _247=this.getColumnCount();var _248=false;var _249={};if(typeof _243==="object"&&_243!=null&&_243.constructor===Array){_248=true;for(var t=0;t<_243.length;t++){_249[_243[t]]=true;}}for(var col=0;col<_247;col++){var _24c=this.cellIdList[col];var _24d=null;var _24e=this.cellInfoHash[_24c];var node=null;if(_248&&!_249[colID]){if(this.initializeType==="dataMap"&&!_244){this._setCellData({filteredRowIndex:_240,colID:colID,value:_24e.options.defaultValue,noEvent:true});}continue;}if(_24e.options.importFormatter){_246.push(_24c);continue;}else{if((node=_245.selectSingleNode(_24c))!=null){if(this.options.valueNode==""||this.allowTextNode){if(this.allowTextNode){var temp=$W._B.getCDataNodeValue(node);_24d=temp==null?this.getTextNodeValue(node):temp;}else{_24d=this.getTextNodeValue(node);}if(!_24d&&this.allowTextNode){if(this.options.valueNode==""){_24d=null;}else{_24d=node.getAttribute(this.options.valueNode);}}}else{_24d=node.getAttribute(this.options.valueNode);}}else{if((node=$W._B.getElementsByTagName(_245,_24c)[0])!=null){if(this.options.valueNode==""||this.allowTextNode){if(this.allowTextNode){var temp=$W._B.getCDataNodeValue(node);_24d=temp==null?this.getTextNodeValue(node):temp;}else{_24d=this.getTextNodeValue(node);}if(!_24d&&this.allowTextNode){if(this.options.valueNode==""){_24d=null;}else{_24d=node?node.getAttribute(this.options.valueNode):null;}}}else{_24d=node?node.getAttribute(this.options.valueNode):null;}}}}if(_24d==null){_24d=_24e.options.defaultValue;}this._setCellData({filteredRowIndex:_240,colID:col,value:_24d,noEvent:true});obfuscator_rowDataObj[_24c]=_24d;}for(var i=0;i<_246.length;i++){var _24e=this.cellInfoHash[_246[i]];try{var obfuscator_rowIndex=_240;_24d=eval(_24e.options.importFormatter+"(obfuscator_rowDataObj, obfuscator_rowIndex)");}catch(e){_24d=_24e.options.defaultValue;$W.exception.printStackTrace(e,null,this);}this._setCellData({filteredRowIndex:_240,colID:_246[i],value:_24d,noEvent:true});}var _252=this.filteredRowIndexArr[_240];this.broadcast({"gridView":["notifyRowModified",[_240]],"linkedDataList":["notifyRowChanged",[_252]],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setXML=function(_253,_254,_255){["WebSquare.DataCollection.dataController.prototype.setXML"];try{if(_253==null){$W.logger.printLog("[WebSquare.DataCollection.dataController.setXML] XML is null");return;}var _256=this.xmlData2ArrData(_253,_255);if(typeof _256=="undefined"){$W.logger.printLog("[WebSquare.DataCollection.dataController.setXML] DataArray which converted from XML is undefined.");return;}this.setData(_256,_254);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.insertXML=function(_257,_258){["WebSquare.DataCollection.dataController.prototype.insertXML"];try{if(_258==null){$l("data is null");return;}var _259;if(typeof _258.documentElement=="undefined"){_259=_258;}else{_259=_258.documentElement;}var _25a=this.xmlData2ArrData(_259);this.insertData(_257,_25a);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setJSON=function(_25b,_25c,_25d){["WebSquare.DataCollection.dataController.prototype.setJSON"];try{if(_25b==null){$W.logger.printLog("[WebSquare.uiplugin.grid.setJSON] data is null");return;}var _25e=this.jsonData2ArrData(_25b,_25d);if(typeof _25e=="undefined"){$W.logger.printLog("[WebSquare.uiplugin.grid.setJSON] DataArray which converted from JSON is undefined.");return;}this.setData(_25e,_25c);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setRowJSON=function(_25f,_260,_261,_262,_263){["WebSquare.DataCollection.dataController.prototype.setRowJSON"];try{if(_260==null){$l("data is null");return;}if(!_261){_25f=this.insertRow(_25f);}var _264=this.getColumnCount();var obfuscator_rowData=_260;var _265=false;var _266={};if(typeof _262==="object"&&_262!=null&&_262.constructor===Array){_265=true;for(var t=0;t<_262.length;t++){_266[_262[t]]=true;}}for(var _268 in _260){if(_265&&!_266[_268]){if(this.initializeType==="dataMap"&&!_263){var _269=this.getCellInfo(_268);this._setCellData({filteredRowIndex:_25f,colID:_268,value:_269.options.defaultValue,noEvent:true});}continue;}var _269=this.getCellInfo(_268);var _26a=null;if(_269.options.importFormatter){try{var obfuscator_columnIndex=this.getColumnIndex(_268);_26a=eval(_269.options.importFormatter+"(obfuscator_rowData, obfuscator_columnIndex)");}catch(e){_26a=_269.options.defaultValue;$W.exception.printStackTrace(e,null,this);}}else{_26a=_260[_268];}if(_26a==null){_26a=_269.options.defaultValue;}this._setCellData({filteredRowIndex:_25f,colID:_268,value:_26a,noEvent:true});}var _26b=this.filteredRowIndexArr[_25f];this.broadcast({"gridView":["notifyRowModified",[_25f]],"linkedDataList":["notifyRowChanged",[_26b]],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.insertJSON=function(_26c,_26d){["WebSquare.DataCollection.dataController.prototype.insertJSON"];try{if(_26d==null){$W.logger.printLog("[WebSquare.uiplugin.grid.insertJSON] data is null");return;}var _26e=this.jsonData2ArrData(_26d);if(typeof _26e=="undefined"){$W.logger.printLog("[WebSquare.uiplugin.grid.insertJSON] DataArray which converted from JSON is undefined.");return;}this.insertData(_26c,_26e);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setArray=function(_26f,_270,_271){["WebSquare.DataCollection.dataController.prototype.setArray"];try{if(_26f==null){$W.logger.printLog("[WebSquare.uiplugin.grid.setArray] data is null");return;}var _272=_26f.data;var _273=[];if(typeof _271==="object"&&_271!=null&&_271.constructor===Array){_273=_271;}else{_273=_26f.columnInfo;}if(typeof _272=="undefined"){$W.logger.printLog("[WebSquare.uiplugin.grid.setArray] DataArray which converted from jsonArray is undefined.");return;}this.setData(_272,_270,_273);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setArrayFile=function(_274,_275,_276){["WebSquare.DataCollection.dataController.prototype.setArrayFile"];try{if(_274==null){$W.logger.printLog("[WebSquare.uiplugin.grid.setArrayFile] data is null");return;}var _277=_274.data;var _278=_274.columnInfo;if(typeof _277=="undefined"){$W.logger.printLog("[WebSquare.uiplugin.grid.setArrayFile] DataArray which converted from jsonArray is undefined.");return;}this.setDataFile(_277,_275,_278,_276);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.setRowArray=function(_279,_27a,_27b){["WebSquare.DataCollection.dataController.prototype.setRowArray"];try{if(_27a==null){$W.logger.printLog("[WebSquare.uiplugin.grid.setRowArray] data is null");return;}var _27c=[];_27c=this.getMappingData(_27a.data,_27a.columnInfo);if(_27c.length==0){$W.logger.printLog("[WebSquare.uiplugin.grid.setRowArray] DataArray which converted from jsonArray is undefined.");return;}this.setRowData(_279,_27c,_27b);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.rowMoveUp=function(_27d){["WebSquare.dataController.grid.prototype.rowMoveUp"];try{var _27e=(this.options.depthColumn)?_27d:this.getRealRowIndex(_27d);if(_27e>=this.getRowCount()){_27e=this.getRowCount()-1;}if(_27e<=0){return;}else{var _27f=_27e-1;var _280=_27e;var len=this.oneRowDataLength;var temp;for(var i=0;i<len;i++){temp=this.dataArr[len*_27f+i];this.dataArr[len*_27f+i]=this.dataArr[len*_280+i];this.dataArr[len*_280+i]=temp;temp=this.originalDataArr[len*_27f+i];this.originalDataArr[len*_27f+i]=this.originalDataArr[len*_280+i];this.originalDataArr[len*_280+i]=temp;}var _284=this.getRowStatus(_27d-1);var _285=this.getRowStatus(_27d);this._setRowStatus(_27f,_285);this._setRowStatus(_280,_284);var _27e=this.filteredRowIndexArr[_27d];this.broadcast({"linkedDataList":["notifyRowMoveUp",[_27e]],"gridView":["notifyRowMoveUp",[_27d]],"generalComp":"both"});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.rowMoveDown=function(_286){["WebSquare.dataController.grid.prototype.rowMoveDown"];try{var _287=(this.options.depthColumn)?_286:this.getRealRowIndex(_286);if(_287<0){_287=0;}if(_287>=this.getRowCount()-1){return;}else{var _288=_287+1;var _289=_287;var len=this.oneRowDataLength;var temp;for(var i=0;i<len;i++){temp=this.dataArr[len*_288+i];this.dataArr[len*_288+i]=this.dataArr[len*_289+i];this.dataArr[len*_289+i]=temp;temp=this.originalDataArr[len*_288+i];this.originalDataArr[len*_288+i]=this.originalDataArr[len*_289+i];this.originalDataArr[len*_289+i]=temp;}var _28d=this.getRowStatus(_286+1);var _28e=this.getRowStatus(_286);this._setRowStatus(_288,_28e);this._setRowStatus(_289,_28d);var _287=this.filteredRowIndexArr[_286];this.broadcast({"linkedDataList":["notifyRowMoveDown",[_287]],"gridView":["notifyRowMoveDown",[_286]],"generalComp":"both"});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataController.prototype.insertRow=function(_28f,_290){["WebSquare.DataCollection.dataController.prototype.insertRow"];try{_290=_290||{};var _291=this.getDataLength();var _292=this.getTotalRow();if(isNaN(parseInt(_28f))){_28f=_291;}var _293=_28f;if(this.filterManager.useFilter()||_293>_292){_293=_292;}if(!this.options.depthColumn&&_28f>this.getDataLength()){_28f=this.getDataLength();}this.broadcast({"gridView":["notifyBeforeInsertedRow",[_28f]]});var _294=this.getTotalCol();var _295=[_293*_294,0];var _296=[];for(var i=0;i<_294;i++){var _298=this.getCellInfo(i);var _299=_298.options.defaultValue;_295.push(_299);_296.push(_299);}[].splice.apply(this.dataArr,_295);[].splice.apply(this.originalDataArr,_295);this._createRowStatus(_293);var _29a=this.filteredRowIndexArr.length;if(this.options.depthColumn){for(var i=0;i<this.filteredRowIndexArr.length;i++){if(this.filteredRowIndexArr[i]<=_293&&_293<this.filteredRowIndexArr[i+1]){_29a=i;break;}else{if(_293==this.filteredRowIndexArr[i+1]){_29a=i+1;break;}}}}else{_29a=_28f;}for(var i=0;i<this.filteredRowIndexArr.length;i++){if(this.filteredRowIndexArr[i]>=_293){this.filteredRowIndexArr[i]++;}}this.filteredRowIndexArr.splice(_29a,0,_293);var _293=this.filteredRowIndexArr[_28f];if(!_290.noEvent){this.broadcast({"linkedDataList":["notifyRowInserted",[_293]],"gridView":["notifyAfterInsertedRow",[_29a]],"generalComp":"both"});var _29b={};_29b[_29a]=_296;$W._c.fireEvent(this,"oninsertrow",{"insertedDataObj":_29b});}else{this.broadcast({"gridView":["notifyAfterInsertedRow",[_29a,true]]});}return _28f;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.removeRow=function(_29c,_29d){["WebSquare.DataCollection.dataController.prototype.removeRow"];try{_29d=_29d||{};if(_29c==null){_29c=this.getTotalRow()-1;}_29c=parseInt(_29c,10);var _29e=(this.options.depthColumn)?_29c:this.getRealRowIndex(_29c);var _29f=this.getTotalCol();if(_29e==null||_29e>=this.getTotalRow()){return;}if(this.options.depthColumn&&_29d.removeChildren!==false&&this.hasChild(_29e)){var _2a0=this.getRecursiveRowIndex(_29e);_2a0.push(_29e);_29d.noEvent=true;_29d.removeChildren=false;return this.removeRows(_2a0,_29d);}this.broadcast({"gridView":["notifyBeforeRemovedRow",[_29c]]});var _2a1=this.dataArr.splice(_29e*_29f,_29f);var _2a2=this.removeRowStatus(_29c);this.originalDataArr.splice(_29e*_29f,_29f);var _2a3=this.getFilteredRowIndex(_29e);if(_2a3>-1){this.filteredRowIndexArr.splice(_2a3,1);}for(var i=0;i<this.filteredRowIndexArr.length;i++){if(this.filteredRowIndexArr[i]>=_29e){this.filteredRowIndexArr[i]--;}}if(this.initializeType=="dataList"&&(!this.options.removeDummyRowStatus||this.options.removeDummyRowStatus&&_2a2!="C")){this.saveRemovedRow(_29e,_2a1);}var _2a5=_2a1.slice(0);if(!_29d.noEvent){this.broadcast({"linkedDataList":["notifyRowRemoved",[_29e]],"gridView":["notifyAfterRemovedRow",[_2a3,null,_29e]],"generalComp":"both"});var _2a6={};_2a6[_2a3]=_2a5;$W._c.fireEvent(this,"onremoverow",{"removedDataObj":_2a6});}else{this.broadcast({"gridView":["notifyAfterRemovedRow",[_2a3,true,_29e]]});}return _2a1;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.removeRows=function(_2a7,_2a8){["WebSquare.DataCollection.dataController.prototype.removeRows"];try{_2a8=_2a8||{noEvent:true};var _2a9=this.getTotalCol();function compare(a,b){if(parseInt(a)<parseInt(b)){return 1;}return -1;}_2a7=_2a7.sort(compare);var _2ac=[];var _2ad={};for(var i=0;i<_2a7.length;i++){var _2af=this.removeRow(_2a7[i],_2a8);_2ad[_2a7[i]]=_2af.slice(0);_2ac.push(_2af);}this.rowPosition=null;this.columnPosition=null;if(!_2a8.skipNotify){this.broadcast({"gridView":["notifyRowChanged"],"linkedDataList":["notifyRowRemoved"],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"generalComp":"both"});}$W._c.fireEvent(this,"onremoverow",{"removedDataObj":_2ad});return _2ac;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.removeAll=function(info){["WebSquare.DataCollection.dataController.prototype.removeAll"];try{if(info==undefined||info.skipSavingRemovedData!="true"){if(this.initializeType=="dataList"){this.removeManager.setData(this.getAllData(),true);}}if(!this.dataArr){return;}var _2b1=this.dataArr.slice(0);this.dataArr=[];this.originalDataArr=[];this.filteredRowIndexArr=[];this.initRowStatus(0);this.broadcast({"linkedDataList":["notifyRemoveAll"],"gridView":["notifyRemovedAll"],"generalComp":"both"});var _2b2=false;if(this.userEventList){for(var i=this.userEventList.length-1;i>=0;i--){if(this.userEventList[i].name=="onremoverow"){_2b2=true;break;}}if(_2b2){var _2b4=_2b1.slice(0);var _2b5={};var _2b6=_2b4.length/this.oneRowDataLength;for(var i=0;i<_2b6;i++){_2b5[i]=_2b4.splice(0,this.oneRowDataLength);}$W._c.fireEvent(this,"onremoverow",{"removedDataObj":_2b5});}}return _2b1;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.removeRange=function(_2b7,_2b8){["WebSquare.DataCollection.dataController.prototype.removeRange"];try{var _2b9=[];for(var row=_2b8;row>=_2b7;row--){_2b9.push(row);}return this.removeRows(_2b9);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.reform=function(){["WebSquare.DataCollection.dataController.prototype.reform"];try{this.initRowStatus();this.originalDataArr=this.dataArr.slice(0);if(this.initializeType=="dataList"){this.removeManager.removeAll();}this.broadcast({"linkedDataList":["notifyReformed"],"gridView":["notifyReformed"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.undoRow=function(_2bb){["WebSquare.DataCollection.dataController.prototype.undoRow"];try{this._undoRow(_2bb);var _2bc=this.filteredRowIndexArr[_2bb];this.broadcast({"linkedDataList":["notifyRowChanged",[_2bc]],"gridView":["notifyRowModified",[_2bb]],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype._undoRow=function(_2bd){["WebSquare.DataCollection.dataController.prototype._undoRow"];try{var _2be;var _2bf=(this.options.depthColumn)?_2bd:this.getRealRowIndex(_2bd);for(var j=0;j<this.oneRowDataLength;j++){_2be=this.getColumnID(j);var _2c1=this.originalDataArr[_2bf*this.oneRowDataLength+j];this._setData(_2bf,j,_2c1);}this._updateRowStatus(_2bf);this._undeleteRowStatus(_2bf);}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataController.prototype.undoAll=function(){["WebSquare.DataCollection.dataController.prototype.undoAll"];try{var _2c2=this.getRowIndexByStatus("UDV");for(var i=0;i<_2c2.length;i++){var _2c4=_2c2[i];this._undoRow(_2c4);}this.broadcast({"linkedDataList":["notifyDataChanged"],"gridView":["notifyDataChanged"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.dataController=$W._a.aJ;$W._j.statusController=function(){["WebSquare.DataCollection.statusController"];};$W._j.statusController.prototype.getRowStatusValue=function(_1){["WebSquare.DataCollection.statusController.prototype.getRowStatusValue"];try{var _2=(this.options.depthColumn)?_1:this.getRealRowIndex(_1);return this._getRowStatusValue(_2);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.statusController.prototype._getRowStatusValue=function(_3){["WebSquare.DataCollection.statusController.prototype._getRowStatusValue"];try{var _4=this.rowStatusArr[_3];switch(_4){case "R":return 0;break;case "U":return 1;break;case "C":return 2;break;case "D":return 3;break;case "V":return 4;break;case "E":return 5;break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.statusController.prototype.getRowStatus=function(_5){["WebSquare.DataCollection.statusController.prototype.getRowStatus"];try{var _6=(this.options.depthColumn)?_5:this.getRealRowIndex(_5);return this._getRowStatus(_6);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.statusController.prototype._getRowStatus=function(_7){["WebSquare.DataCollection.statusController.prototype._getRowStatus"];try{return this.rowStatusArr[_7];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.statusController.prototype.getRowIndexByStatus=function(_8){["WebSquare.DataCollection.statusController.prototype.getRowIndexByStatus"];try{var _9=[];for(var i=0;i<this.getTotalRow();i++){var _b=(this.options.depthColumn)?i:this.getRealRowIndex(i);if(_8.indexOf(this.rowStatusArr[_b])>-1){_9.push(i);}}return _9;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getInsertedIndex=function(){["WebSquare.DataCollection.statusController.prototype.getInsertedIndex"];try{return this.getRowIndexByStatus("C");}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getUpdatedIndex=function(){["WebSquare.DataCollection.statusController.prototype.getUpdatedIndex"];try{return this.getRowIndexByStatus("U");}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getDeletedIndex=function(){["WebSquare.DataCollection.statusController.prototype.getDeletedIndex"];try{return this.getRowIndexByStatus("DV");}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getVoidIndex=function(){["WebSquare.DataCollection.statusController.prototype.getVoidIndex"];try{return this.getRowIndexByStatus("V");}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getOnlyDeletedIndex=function(){["WebSquare.DataCollection.statusController.prototype.getDeletionsIndex"];try{return this.getRowIndexByStatus("D");}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getModifiedIndex=function(){["WebSquare.DataCollection.statusController.prototype.getModifiedIndex"];try{return this.getRowIndexByStatus("CUD");}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getInsertedData=function(_c){["WebSquare.DataCollection.statusController.prototype.getInsertedData"];try{this.broadcast({"gridView":["_endEdit"]});var _d=[];var _e=this.getInsertedIndex();for(var i=0;i<_e.length;i++){_d.push(this.getRowData(_e[i],_c));}return _d;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getInsertedXML=function(_10){["WebSquare.DataCollection.statusController.prototype.getInsertedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _11=this.getInsertedIndex();var _12=this.getArrXML(_11,_10);return _12;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getInsertedJSON=function(_13){["WebSquare.DataCollection.statusController.prototype.getInsertedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _14=[];var _15=this.getInsertedIndex();for(var i=0;i<_15.length;i++){_14.push(this.getRowJSON(_15[i],_13));}return _14;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getInsertedArray=function(_17){["WebSquare.DataCollection.statusController.prototype.getInsertedArray"];try{if(typeof _17==="undefined"||_17==null){_17={};}var _18={};if(typeof _17.includeColumns==="object"&&_17.includeColumns!=null&&_17.includeColumns.constructor===Array){_18["columnInfo"]=_17.includeColumns;}else{_18["columnInfo"]=this.cellIdList;}this.broadcast({"gridView":["_endEdit"]});var _19=[];var _1a=this.getInsertedIndex();for(var i=0;i<_1a.length;i++){_19=_19.concat(this.getRowData(_1a[i],_17));}_18["data"]=_19;return _18;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getDeletedData=function(_1c,_1d){["WebSquare.DataCollection.statusController.prototype.getDeletedData"];try{this.broadcast({"gridView":["_endEdit"]});var _1e=[];var _1f=this.getDeletedIndex();for(var i=0;i<_1f.length;i++){_1e.push(this.getRowData(_1f[i],_1d));}if(!_1c&&this.initializeType=="dataList"){for(var i=0;i<this.removeManager.getDataLength();i++){_1e.push(this.removeManager.getRowData(i,_1d));}}return _1e;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getDeletedXML=function(_21,_22){["WebSquare.DataCollection.statusController.prototype.getDeletedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _23=this.getDeletedIndex();var _24=this.getArrXML(_23,_22);if(!_21&&this.initializeType=="dataList"){if(this.options.removedDataMatch){var _25=$W._B.findNode(_24,this.options.baseNode);for(var i=0;i<this.removeManager.getDataLength();i++){var _27=_25;var _28=this.options.repeatNode.split("/");for(var j=0;j<_28.length-1;j++){var _2a=_28[j];var idx=_2a.indexOf(":");if(idx>=0){try{var _2c=_2a.substring(0,idx);var _2d=$W._N.getNamespaces(node);if(_2d[_2c]){_2a=_2a+" xmlns:"+_2c+"=\""+_2d[_2c]+"\"";}}catch(e){}}_27=_27.appendChild($W._B.parse("<"+_2a+"/>").documentElement);}_27.appendChild(this.removeManager.getRowXML(i,_22).documentElement);}}else{var _2e=$W._B.findNode(_24,this.options.baseNode);for(var i=0;i<this.removeManager.getDataLength();i++){_2e.appendChild(this.removeManager.getRowXML(i,_22).documentElement);}}}return _24;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getDeletedJSON=function(_2f,_30){["WebSquare.DataCollection.statusController.prototype.getDeletedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _31=[];var _32=this.getDeletedIndex();for(var i=0;i<_32.length;i++){_31.push(this.getRowJSON(_32[i],_30));}if(!_2f&&this.initializeType=="dataList"){for(var i=0;i<this.removeManager.getDataLength();i++){_31.push(this.removeManager.getRowJSON(i,_30));}}return _31;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getDeletedArray=function(_34,_35){["WebSquare.DataCollection.statusController.prototype.getDeletedArray"];try{if(typeof _35==="undefined"||_35==null){_35={};}var _36={};if(typeof _35.includeColumns==="object"&&_35.includeColumns!=null&&_35.includeColumns.constructor===Array){_36["columnInfo"]=_35.includeColumns;}else{_36["columnInfo"]=this.cellIdList;}this.broadcast({"gridView":["_endEdit"]});var _37=[];var _38=this.getDeletedIndex();for(var i=0;i<_38.length;i++){_37=_37.concat(this.getRowData(_38[i],_35));}if(!_34&&this.initializeType=="dataList"){for(var i=0;i<this.removeManager.getDataLength();i++){_37=_37.concat(this.removeManager.getRowData(i,_35));}}_36["data"]=_37;return _36;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getVoidData=function(_3a,_3b){["WebSquare.DataCollection.statusController.prototype.getVoidData"];try{this.broadcast({"gridView":["_endEdit"]});var _3c=[];var _3d=this.getVoidIndex();for(var i=0;i<_3d.length;i++){_3c.push(this.getRowData(_3d[i]));}if(!_3a&&this.initializeType=="dataList"){for(var i=0;i<this.removeManager.getDataLength();i++){_3c.push(this.removeManager.getRowData(i));}}return _3c;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getVoidXML=function(_3f,_40){["WebSquare.DataCollection.statusController.prototype.getVoidXML"];try{this.broadcast({"gridView":["_endEdit"]});var _41=this.getVoidIndex();var _42=this.getArrXML(_41,_40);if(!_3f&&this.initializeType=="dataList"){if(this.options.removedDataMatch){var _43=$W._B.findNode(_42,this.options.baseNode);for(var i=0;i<this.removeManager.getDataLength();i++){var _45=_43;var _46=this.options.repeatNode.split("/");for(var j=0;j<_46.length-1;j++){var _48=_46[j];var idx=_48.indexOf(":");if(idx>=0){try{var _4a=_48.substring(0,idx);var _4b=$W._N.getNamespaces(node);if(_4b[_4a]){_48=_48+" xmlns:"+_4a+"=\""+_4b[_4a]+"\"";}}catch(e){}}_45=_45.appendChild($W._B.parse("<"+_48+"/>").documentElement);}_45.appendChild(this.removeManager.getRowXML(i,_40).documentElement);}}else{var _4c=$W._B.findNode(_42,this.options.baseNode);for(var i=0;i<this.removeManager.getDataLength();i++){_4c.appendChild(this.removeManager.getRowXML(i,_40).documentElement);}}}return _42;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getVoidJSON=function(_4d,_4e){["WebSquare.DataCollection.statusController.prototype.getVoidJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _4f=[];var _50=this.getVoidIndex();for(var i=0;i<_50.length;i++){_4f.push(this.getRowJSON(_50[i]));}if(!_4d&&this.initializeType=="dataList"){for(var i=0;i<this.removeManager.getDataLength();i++){_4f.push(this.removeManager.getRowJSON(i));}}return _4f;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getVoidArray=function(_52,_53){["WebSquare.DataCollection.statusController.prototype.getVoidArray"];try{var _54={};_54["columnInfo"]=this.cellIdList;this.broadcast({"gridView":["_endEdit"]});var _55=[];var _56=this.getVoidIndex();for(var i=0;i<_56.length;i++){_55=_55.concat(this.getRowData(_56[i]));}if(!_52&&this.initializeType=="dataList"){for(var i=0;i<this.removeManager.getDataLength();i++){_55=_55.concat(this.removeManager.getRowData(i));}}_54["data"]=_55;return _54;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getOnlyDeletedData=function(_58,_59){["WebSquare.DataCollection.statusController.prototype.getOnlyDeletedData"];try{this.broadcast({"gridView":["_endEdit"]});var _5a=[];var _5b=this.getOnlyDeletedIndex();for(var i=0;i<_5b.length;i++){_5a.push(this.getRowData(_5b[i]));}if(!_58&&this.initializeType=="dataList"){for(var i=0;i<this.removeManager.getDataLength();i++){_5a.push(this.removeManager.getRowData(i));}}return _5a;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getOnlyDeletedXML=function(_5d,_5e){["WebSquare.DataCollection.statusController.prototype.getOnlyDeletedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _5f=this.getOnlyDeletedIndex();var _60=this.getArrXML(_5f,_5e);if(!_5d&&this.initializeType=="dataList"){if(this.options.removedDataMatch){var _61=$W._B.findNode(_60,this.options.baseNode);for(var i=0;i<this.removeManager.getDataLength();i++){var _63=_61;var _64=this.options.repeatNode.split("/");for(var j=0;j<_64.length-1;j++){var _66=_64[j];var idx=_66.indexOf(":");if(idx>=0){try{var _68=_66.substring(0,idx);var _69=$W._N.getNamespaces(node);if(_69[_68]){_66=_66+" xmlns:"+_68+"=\""+_69[_68]+"\"";}}catch(e){}}_63=_63.appendChild($W._B.parse("<"+_66+"/>").documentElement);}_63.appendChild(this.removeManager.getRowXML(i,_5e).documentElement);}}else{var _6a=$W._B.findNode(_60,this.options.baseNode);for(var i=0;i<this.removeManager.getDataLength();i++){_6a.appendChild(this.removeManager.getRowXML(i,_5e).documentElement);}}}return _60;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getOnlyDeletedJSON=function(_6b,_6c){["WebSquare.DataCollection.statusController.prototype.getOnlyDeletedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _6d=[];var _6e=this.getOnlyDeletedIndex();for(var i=0;i<_6e.length;i++){_6d.push(this.getRowJSON(_6e[i]));}if(!_6b&&this.initializeType=="dataList"){for(var i=0;i<this.removeManager.getDataLength();i++){_6d.push(this.removeManager.getRowJSON(i));}}return _6d;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getOnlyDeletedArray=function(_70,_71){["WebSquare.DataCollection.statusController.prototype.getOnlyDeletedArray"];try{var _72={};_72["columnInfo"]=this.cellIdList;this.broadcast({"gridView":["_endEdit"]});var _73=[];var _74=this.getOnlyDeletedIndex();for(var i=0;i<_74.length;i++){_73=_73.concat(this.getRowData(_74[i]));}if(!_70&&this.initializeType=="dataList"){for(var i=0;i<this.removeManager.getDataLength();i++){_73=_73.concat(this.removeManager.getRowData(i));}}_72["data"]=_73;return _72;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getUpdatedData=function(_76){["WebSquare.DataCollection.statusController.prototype.getUpdatedData"];try{this.broadcast({"gridView":["_endEdit"]});var _77=[];var _78=this.getUpdatedIndex();for(var i=0;i<_78.length;i++){_77.push(this.getRowData(_78[i],_76));}return _77;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getUpdatedXML=function(_7a){["WebSquare.DataCollection.statusController.prototype.getUpdatedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _7b=this.getUpdatedIndex();var _7c=this.getArrXML(_7b,_7a);return _7c;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getUpdatedJSON=function(_7d){["WebSquare.DataCollection.statusController.prototype.getUpdatedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _7e=[];var _7f=this.getUpdatedIndex();for(var i=0;i<_7f.length;i++){_7e.push(this.getRowJSON(_7f[i],_7d));}return _7e;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getUpdatedArray=function(_81){["WebSquare.DataCollection.statusController.prototype.getUpdatedArray"];try{if(typeof _81==="undefined"||_81==null){_81={};}var _82={};if(typeof _81.includeColumns==="object"&&_81.includeColumns!=null&&_81.includeColumns.constructor===Array){_82["columnInfo"]=_81.includeColumns;}else{_82["columnInfo"]=this.cellIdList;}this.broadcast({"gridView":["_endEdit"]});var _83=[];var _84=this.getUpdatedIndex();for(var i=0;i<_84.length;i++){_83=_83.concat(this.getRowData(_84[i]));}_82["data"]=_83;return _82;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getRemovedData=function(_86){["WebSquare.DataCollection.statusController.prototype.getRemovedData"];try{return this.removeManager.getAllData(_86);}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getRemovedXML=function(_87){["WebSquare.DataCollection.statusController.prototype.getRemovedXML"];try{if(typeof _87==="undefined"||_87==null){_87={};}_87.id=this.id;return this.removeManager.getAllXML(_87);}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getRemovedJSON=function(_88){["WebSquare.DataCollection.statusController.prototype.getRemovedJSON"];try{return this.removeManager.getAllJSON(_88);}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getRemovedArray=function(_89){["WebSquare.DataCollection.statusController.prototype.getRemovedArray"];try{return this.removeManager.getAllArray(_89);}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getModifiedData=function(_8a){["WebSquare.DataCollection.statusController.prototype.getModifiedData"];try{_8a=_8a||{};this.broadcast({"gridView":["_endEdit"]});var _8b=[];var _8c=this.getModifiedIndex();for(var i=0;i<_8c.length;i++){_8b.push(this.getRowData(_8c[i],_8a));}if(this.initializeType=="dataList"&&(_8a.saveRemovedData||(this.options.saveRemovedData&&_8a.saveRemovedData!==false))){for(var i=0;i<this.removeManager.getDataLength();i++){_8b.push(this.removeManager.getRowData(i,_8a));}}return _8b;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getModifiedXML=function(_8e){["WebSquare.DataCollection.statusController.prototype.getModifiedXML"];try{_8e=_8e||{};this.broadcast({"gridView":["_endEdit"]});var _8f=this.getModifiedIndex();var _90=this.getArrXML(_8f,_8e);if(this.initializeType=="dataList"&&(_8e.saveRemovedData||(this.options.saveRemovedData&&_8e.saveRemovedData!==false))){if(this.options.removedDataMatch){var _91=$W._B.findNode(_90,this.options.baseNode);for(var i=0;i<this.removeManager.getDataLength();i++){var _93=_91;var _94=this.options.repeatNode.split("/");for(var j=0;j<_94.length-1;j++){var _96=_94[j];var idx=_96.indexOf(":");if(idx>=0){try{var _98=_96.substring(0,idx);var _99=$W._N.getNamespaces(node);if(_99[_98]){_96=_96+" xmlns:"+_98+"=\""+_99[_98]+"\"";}}catch(e){}}_93=_93.appendChild($W._B.parse("<"+_96+"/>").documentElement);}_93.appendChild(this.removeManager.getRowXML(i,_8e).documentElement);}}else{var _9a=$W._B.findNode(_90,this.options.baseNode);for(var i=0;i<this.removeManager.getDataLength();i++){_9a.appendChild(this.removeManager.getRowXML(i,_8e).documentElement);}}}return _90;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getModifiedJSON=function(_9b){["WebSquare.DataCollection.statusController.prototype.getModifiedJSON"];try{_9b=_9b||{};this.broadcast({"gridView":["_endEdit"]});var _9c=[];var _9d=[];var _9e=[];var _9f=this.getModifiedIndex();for(var i=0;i<_9f.length;i++){_9c.push(this.getRowJSON(_9f[i],_9b));}if(this.initializeType=="dataList"&&(_9b.saveRemovedData||(this.options.saveRemovedData&&_9b.saveRemovedData!==false))){for(var i=0;i<this.removeManager.getDataLength();i++){_9d.push(this.removeManager.getRowJSON(i,_9b));}}if(_9b&&_9b.DB){_9e=_9e.concat(_9d);_9e=_9e.concat(_9c);}else{if(_9b&&_9b.excludeRemovedData){_9e=_9e.concat(_9c);}else{_9e=_9e.concat(_9c);_9e=_9e.concat(_9d);}}return _9e;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getModifiedArray=function(_a1){["WebSquare.DataCollection.statusController.prototype.getModifiedArray"];try{if(typeof _a1==="undefined"||_a1==null){_a1={};}var _a2={};if(typeof _a1.includeColumns==="object"&&_a1.includeColumns!=null&&_a1.includeColumns.constructor===Array){_a2["columnInfo"]=_a1.includeColumns;}else{_a2["columnInfo"]=this.cellIdList;}this.broadcast({"gridView":["_endEdit"]});var _a3=[];var _a4=this.getModifiedIndex();for(var i=0;i<_a4.length;i++){_a3=_a3.concat(this.getRowData(_a4[i],_a1));}if(this.initializeType=="dataList"&&(_a1.saveRemovedData||(this.options.saveRemovedData&&_a1.saveRemovedData!==false))){for(var i=0;i<this.removeManager.getDataLength();i++){_a3=_a3.concat(this.removeManager.getRowData(i,_a1));}}_a2["data"]=_a3;return _a2;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype._setRowStatus=function(_a6,_a7){["WebSquare.DataCollection.statusController.prototype._setRowStatus"];try{var _a8=this.rowStatusArr[_a6];if(_a7!=_a8){this.rowStatusArr[_a6]=_a7;}return _a8;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.initRowStatus=function(_a9){["WebSquare.DataCollection.statusController.prototype.initRowStatus"];try{if(_a9==null||typeof _a9=="undefined"){_a9=0;}if(_a9==0){this.rowStatusArr=[];}var _aa=this.getTotalRow();for(var i=_a9;i<_aa;i++){switch(this.initializeType){case "removeManager":this.rowStatusArr.push("E");break;default:this.rowStatusArr.push("R");break;}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype._createRowStatus=function(_ac){["WebSquare.DataCollection.statusController.prototype._createRowStatus"];try{this.rowStatusArr=this.rowStatusArr.slice(0,_ac).concat(["C"]).concat(this.rowStatusArr.slice(_ac));this.broadcast({"gridView":["notifyCreatedRowStatus",[_ac]]});}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype._updateRowStatus=function(_ad){["WebSquare.DataCollection.statusController.prototype._updateRowStatus"];try{var _ae=this.rowStatusArr[_ad];var _af=_ae;if(_ae=="C"||_ae=="D"){return;}var _b0=false;var _b1=this.getTotalCol();for(var col=0;col<_b1;col++){var _b3=this.cellInfoHash[this.cellIdList[col]];var _b4=_b3.options.inputType;var _b5=this._getOriginalCellData(_ad,_b3.id);var _b6=this._getData(_ad,col);if(_b4!="expression"&&this.ignoreStatusColArr[col]!=true&&_b5!=_b6){if(_b5!==null||_b6!==""){_b0=true;break;}}}if(_ae=="R"){if(_b0==true){_ae="U";}}else{if(_ae=="U"){if(_b0==false){_ae="R";}}}this._setRowStatus(_ad,_ae);var _b7=this.getFilteredRowIndex(_ad);if(_ae!=_af){$W._c.fireEvent(this,"onrowstatuschange",[{"rowIndex":_b7,"newRowStatus":_ae,"oldRowStatus":_af}]);}this.broadcast({"gridView":["notifyStatusChanged",[{"rowIndex":[_b7]}]]});}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.removeRowStatus=function(_b8){["WebSquare.DataCollection.statusController.prototype.removeRowStatus"];try{var _b9=(this.options.depthColumn)?_b8:this.getRealRowIndex(_b8);var _ba=this.rowStatusArr[_b9];this.rowStatusArr.splice(_b9,1);this.broadcast({"gridView":["notifyRemovedRowStatus",[_b9]]});return _ba;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.deleteRow=function(_bb){["WebSquare.DataCollection.statusController.prototype.deleteRow"];try{var _bc=(this.options.depthColumn)?_bb:this.getRealRowIndex(_bb);var _bd=this.getFilteredRowIndex(_bc);if(this.options.depthColumn&&this.hasChild(_bc)){var _be=this.getChildrenRowArr(_bc);this.deleteRows(_be);}this._deleteRowStatus(_bc);this.broadcast({"linkedDataList":["notifyDeleteRow",[_bc]],"gridView":["notifyDeleteRow",[_bd]]});}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.deleteRows=function(_bf){["WebSquare.DataCollection.statusController.prototype.deleteRows"];try{var _c0=this.getTotalCol();function compare(a,b){if(parseInt(a)<parseInt(b)){return 1;}return -1;}_bf=_bf.sort(compare);var _c3=[];for(var i=0;i<_bf.length;i++){var _c5=this.deleteRow(_bf[i]);_c3.push(_c5);}return _c3;}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype._deleteRowStatus=function(_c6){["WebSquare.DataCollection.statusController.prototype._deleteRowStatus"];try{var _c7="";if(_c7=="D"||_c7=="V"){return;}var _c8=this.rowStatusArr[_c6];if(_c8=="C"){_c7="V";}else{_c7="D";}this._setRowStatus(_c6,_c7);var _c9=this.getFilteredRowIndex(_c6);if(_c7!=_c8){$W._c.fireEvent(this,"onrowstatuschange",[{"rowIndex":_c9,"newRowStatus":_c7,"oldRowStatus":_c8}]);}if(_c9>-1){this.broadcast({"gridView":["notifyStatusChanged",[_c9]]});}}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.undeleteRow=function(_ca){["WebSquare.DataCollection.statusController.prototype.undeleteRow"];try{var _cb=(this.options.depthColumn)?_ca:this.getRealRowIndex(_ca);this._undeleteRowStatus(_cb);this.broadcast({"gridView":["notifyUndeleteRow",[_ca]]});}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype._undeleteRowStatus=function(_cc){["WebSquare.DataCollection.statusController.prototype._undeleteRowStatus"];try{var _cd=this.rowStatusArr[_cc];var _ce=_cd;if(_cd!="D"&&_cd!="V"){return;}if(_cd=="V"){_cd="C";}else{var _cf=false;var _d0=this.getTotalCol();for(var col=0;col<_d0;col++){var _d2=this.getCellInfo(col);var _d3=_d2.options.inputType;if(_d3!="expression"&&this.ignoreStatusColArr[col]!=true&&this._getOriginalCellData(_cc,_d2.id)!=this._getData(_cc,col)){_cf=true;break;}}if(_cf){_cd="U";}else{_cd="R";}}this._setRowStatus(_cc,_cd);var _d4=this.getFilteredRowIndex(_cc);if(_cd!=_ce){$W._c.fireEvent(this,"onrowstatuschange",[{"rowIndex":_d4,"newRowStatus":_cd,"oldRowStatus":_ce}]);}this.broadcast({"gridView":["notifyStatusChanged",[{"rowIndex":[_d4]}]]});}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.modifyAllStatus=function(_d5){["WebSquare.DataCollection.statusController.prototype.modifyAllStatus"];try{var _d6=[];for(var i=0;i<this.rowStatusArr.length;i++){var _d8=this._setRowStatus(i,_d5);if(_d5!=_d8){_d6.push({"rowIndex":i,"newRowStatus":_d5,"oldRowStatus":_d8});}}$W._c.fireEvent(this,"onrowstatuschange",_d6);this.broadcast({"gridView":["notifyModifyAllStatus",[_d5]]});}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.modifyRangeStatus=function(_d9,to,_db){["WebSquare.DataCollection.statusController.prototype.modifyRangeStatus"];try{var _dc=[];var _dd;if(this.options.depthColumn){_dd=this.getTotalRow();}else{_dd=this.getDataLength();}if(0<=_d9&&to<=_dd){for(var i=_d9;i<=to;i++){var _df=(this.options.depthColumn)?i:this.getRealRowIndex(i);var _e0=this._setRowStatus(_df,_db);if(_db!=_e0){_dc.push({"rowIndex":i,"newRowStatus":_db,"oldRowStatus":_e0});}}}$W._c.fireEvent(this,"onrowstatuschange",_dc);this.broadcast({"gridView":["notifyModifyRangeStatus",[_d9,to,_db]]});}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.modifyMatchedStatus=function(_e1,_e2,_e3){["WebSquare.DataCollection.statusController.prototype.modifyMatchedStatus"];try{var _e4=[];var _e5;if(this.options.depthColumn){_e5=this.getTotalRow();}else{_e5=this.getDataLength();}for(var row=0;row<_e5;row++){var _e7=this.getColumnID(_e1);if(this.getCellData(row,_e7)+""==_e2+""){var _e8=(this.options.depthColumn)?row:this.getRealRowIndex(row);var _e9=this._setRowStatus(_e8,_e3);if(_e3!=_e9){_e4.push({"rowIndex":row,"newRowStatus":_e3,"oldRowStatus":_e9});}}}$W._c.fireEvent(this,"onrowstatuschange",_e4);this.broadcast({"gridView":["notifyModifyMatchedStatus",[_e1,_e2,_e3]]});}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.modifyRowStatus=function(_ea,_eb){["WebSquare.DataCollection.statusController.prototype.modifyRowStatus"];try{var _ec;if(this.options.depthColumn){_ec=this.getTotalRow();}else{_ec=this.getDataLength();}if(_ea>-1&&_ea<_ec){var _ed=(this.options.depthColumn)?_ea:this.getRealRowIndex(_ea);var _ee=this._setRowStatus(_ed,_eb);if(_eb!=_ee){$W._c.fireEvent(this,"onrowstatuschange",[{"rowIndex":_ea,"newRowStatus":_eb,"oldRowStatus":_ee}]);}this.broadcast({"gridView":["notifyModifyRowStatus",[_ea,_eb]]});}}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getRowPosition=function(){["WebSquare.DataCollection.statusController.prototype.getRowPosition"];try{var _ef=typeof this.rowPosition=="number"?this.rowPosition:null;return _ef;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.statusController.prototype.setRowPosition=function(_f0,_f1){["WebSquare.DataCollection.statusController.prototype.setRowPosition"];try{_f0=parseInt(_f0,10);if(isNaN(_f0)){_f0=null;}var _f2=this.rowPosition;if(_f2!=_f0){if(!_f1){var _f3=$W._c.fireEvent(this,"onbeforerowpositionchange",{"oldRowIndex":_f2,"newRowIndex":_f0});if(_f3===false){return false;}}this.rowPosition=_f0;if(!_f1){$W._c.fireEvent(this,"onrowpositionchange",{"oldRowIndex":_f2,"newRowIndex":_f0});}this.broadcast({"linkedDataList":["notifyRowPositionChanged"],"generalComp":"refresh"});return true;}}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getColumnPosition=function(){["WebSquare.DataCollection.statusController.prototype.getColumnPosition"];try{return this.getColumnID(this.columnPosition)||"";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.statusController.prototype.setColumnPosition=function(_f4,_f5){["WebSquare.DataCollection.statusController.prototype.setColumnPosition"];try{var _f6=this.getColumnIndex(_f4);if(this.columnPosition!=_f6){var _f7=this.getColumnID(this.columnPosition);var _f8=this.getColumnID(_f4);var _f9=$W._c.fireEvent(this,"onbeforecolumnchange",{"oldColumnID":_f7,"newColumnID":_f8});if(_f9===false){return false;}this.columnPosition=_f6;$W._c.fireEvent(this,"oncolumnchange",{"oldColumnID":_f7,"newColumnID":_f8});return true;}}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.saveRemovedRow=function(_fa,_fb){["WebSquare.DataCollection.statusController.prototype.saveRemovedRow"];try{this.removeManager.setRowData(this.removeManager.getDataLength(),_fb);this.removeManager.modifyAllStatus("E");}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.statusController=$W._a._a;$W._j.dataListCellController=function(){["WebSquare.DataCollection.dataListCellController"];};$W._j.dataListCellController.prototype.getCellInfo=function(td){["WebSquare.DataCollection.dataListCellController.prototype.getCellInfo"];var _2="";if(typeof td=="string"){_2=td;}else{if(typeof td=="number"){_2=this.cellIdList[td];}}return this.cellInfoHash[_2]||{options:{}};};$W._j.dataListCellController.prototype.getColumnCount=function(){return this.cellIdList.length;};$W._j.dataListCellController.prototype.getColumnID=function(_3){if(typeof _3=="string"){var _4=this.cellInfoHash[_3];if(_4){return _3;}else{return null;}}var _5=this.cellIdList[_3];if(_5){return _5;}else{return null;}};$W._j.dataListCellController.prototype.getColumnIndex=function(_6){["WebSquare.DataCollection.dataListCellController.prototype.getColumnIndex"];if(typeof _6=="number"){return _6;}return this.bodyIdColIndexMap[_6];};$W._j.dataListCellController.prototype.hasColumn=function(_7){["WebSquare.DataCollection.dataListCellController.prototype.hasColumn"];try{if(typeof _7=="number"){_7=this.getColumnID(_7);}var _8=false;if(typeof this.bodyIdColIndexMap[_7]=="number"){_8=true;}return _8;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListCellController.prototype.getColumnName=function(_9){["WebSquare.DataCollection.dataListCellController.prototype.getColumnName"];if(typeof _9=="number"){_9=this.getColumnID(_9);}var _a=this.getCellInfo(_9);return _a?_a.name:"";};$W._j.dataListCellController.prototype.setColumnName=function(_b,_c){["WebSquare.DataCollection.dataListCellController.prototype.setColumnName"];if(typeof _b=="number"){_b=this.getColumnID(_b);}var _d=this.getCellInfo(_b);if(_d&&_d.name){_d.name=_c;}this.broadcast({"fusionChart":["refresh"]});};$W._j.dataListCellInfo=function(_e,_f,_10){["WebSquare.DataCollection.dataListCellInfo"];this.options={name:"",id:"",col_id:"",colIndex:"",defaultValue:"",value:"",useFilter:false,dataType:"text",valueType:"binary",trueValue:null,falseValue:null,ignoreStatus:false,keepEmptyString:false};this.mainDataList=_f;if(_e){this.setOptions(_e);}if(this.options.value!=""&&this.options.defaultValue==""){this.options.defaultValue=this.options.value;}if(this.options.value==""&&this.options.defaultValue!=""){this.options.value=this.options.defaultValue;}this.id=this.options.col_id;this.options.id=this.options.col_id;this.name=this.options.name||"";this.mainDataList.ignoreStatusColArr[_10]=this.options.ignoreStatus;};$W._j.dataListCellInfo.prototype.setOptions=function(_11){if(this.mainDataList.elementType=="XML"){if(this.mainDataList.initializeType=="grid"){var _12=_11.getAttribute("inputType")||"text";this.configOptions=$W.configManager.getConfig("grid/column[@inputType='"+_12+"']");this.options=$W.extendKeepingType(this.options,this.configOptions);}var _13=[];for(var _14 in this.options){_13[_14.toLowerCase()]=_14;}var _15=_11.attributes;for(var i=0;i<_15.length;i++){var _17=_15[i];var _18=_17.name;var _19=_17.value;if(_18=="class"){this.options["className"]=_19;}else{if(_19.wq_trim()!=""){if(_13[_18]){_18=_13[_18];}if(typeof this.options[_18]=="boolean"){_19=$W._G.getBoolean(_19);}else{if(typeof this.options[_18]=="number"){_19=$W._G.getNumber(_19);}}this.options[_18]=_19;}}}}else{if(this.mainDataList.elementType=="JSON"){for(var key in _11){this.options[key]=_11[key];}this.options.col_id=_11.id;}}this.element=_11;};$W._j.dataListCellInfo.prototype.getExpressionValue=function(_1b){this.rowIndex=_1b;var _1c="";var str=this.options.expression;if(this.expressionStr==null){if(str!=""&&str!=undefined){str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.colsum(");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.colavg(");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.colmax(");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.colmin(");str=str.replace(/[cC][aA][lL][cC][\s]*[(]/g,"this.colcalc(");str=str.replace(/[dD][iI][sS][pP][lL][aA][yY][\s]*[(]/g,"this.display(");str=str.replace(/[rR][oO][wW][iI][nN][dD][eE][xX][\s]*[(]/g,"this.getRowIndex(");str=str.replace(/rowStatus[\s]*[(]/ig,"this.rowStatus(");}this.expressionStr=str;}_1c=eval(this.expressionStr);return _1c;};$W._j.dataListCellInfo.prototype.rowStatus=function(){var _1e=this.mainDataList.getRowStatusValue(this.rowIndex);switch(_1e){case 0:return "R";break;case 1:return "U";break;case 2:return "C";break;case 3:return "D";break;case 4:return "V";break;}};$W._j.dataListCellInfo.prototype.colsum=function(){var ret=0;for(var i=0;i<arguments.length;i++){var _21=this.mainDataList.getColumnIndex(arguments[i]);var _22=this.mainDataList.getColumnOption(this.options.col_id,"dataType");if(_22==="bigDecimal"){ret=$W._b(ret).plus($W._b(this.mainDataList._getData(this.rowIndex,_21)))||0;}else{ret+=parseFloat(this.mainDataList._getData(this.rowIndex,_21))||0;}}return ret;};$W._j.dataListCellInfo.prototype.colavg=function(){var ret=0;var _24=this.mainDataList.getColumnOption(this.options.col_id,"dataType");for(var i=0;i<arguments.length;i++){var _26=this.mainDataList.getColumnIndex(arguments[i]);if(_24==="bigDecimal"){ret=$W._b(ret).plus($W._b(this.mainDataList._getData(this.rowIndex,_26)))||0;}else{ret+=parseFloat(this.mainDataList._getData(this.rowIndex,_26))||0;}}if(_24==="bigDecimal"){ret=$W._b(ret).divide($W._b(arguments.length)).toString();}else{ret=ret/arguments.length;}return ret;};$W._j.dataListCellInfo.prototype.colmax=function(){var ret=0;var _28=this.mainDataList.getColumnOption(this.options.col_id,"dataType");for(var i=0;i<arguments.length;i++){var _2a=this.mainDataList.getColumnIndex(arguments[i]);if(_28==="bigDecimal"){ret=$W._b(ret).compare($W._b(this.mainDataList._getData(this.rowIndex,_2a)))||0;}else{var tmp=parseFloat(this.mainDataList._getData(this.rowIndex,_2a))||0;if(i==0||tmp>ret){ret=tmp;}}}return ret;};$W._j.dataListCellInfo.prototype.colmin=function(){var ret=0;var _2d=this.mainDataList.getColumnOption(this.options.col_id,"dataType");for(var i=0;i<arguments.length;i++){var _2f=this.mainDataList.getColumnIndex(arguments[i]);if(_2d==="bigDecimal"){ret=$W._b(ret).toString()==="0"?$W._b(this.mainDataList._getData(this.rowIndex,_2f)):$W._b(ret);ret=$W._b(ret).compare($W._b(this.mainDataList._getData(this.rowIndex,_2f)),true)||0;}else{var tmp=parseFloat(this.mainDataList._getData(this.rowIndex,_2f))||0;if(i==0||tmp<ret){ret=tmp;}}}return ret;};$W._j.dataListCellInfo.prototype.colcalc=function(str){var ret=0;function _push(_33,ele){_33[_33.length]=ele;}function _pop(_35){var _36=_35[_35.length-1];delete _35[_35.length-1];_35.length--;return (_36);}function isOperation(who){return ((!isOperator(who)&&(who!="(")&&(who!=")"))?true:false);}function isOperator(who){return ((who=="+"||who=="-"||who=="*"||who=="/"||who=="^"||who=="%")?true:false);}function topStack(_39){return (_39[_39.length-1]);}function isEmpty(_3a){return ((_3a.length==0)?true:false);}function isCalculation(who){if(who=="^"){return (5);}if((who=="*")||(who=="/")||(who=="%")){return (4);}if((who=="+")||(who=="-")){return (3);}if(who=="("){return (2);}if(who==")"){return (1);}}function InfixToPostfix(_3c,_3d,_3e){var _3d=new Array();var _3f=new Array();var _40=0;_3c=Tokens(_3c);for(var i=0;i<_3c.length;i++){if(isOperation(_3c[i])){_3d[_40]=_3c[i];_40++;}if(isOperator(_3c[i])){if(_3c[i]!="^"){while((!isEmpty(_3f))&&(isCalculation(_3c[i])<=isCalculation(topStack(_3f)))){_3d[_40]=topStack(_3f);_pop(_3f);_40++;}}else{while((!isEmpty(_3f))&&(isCalculation(_3c[i])<isCalculation(topStack(_3f)))){_3d[_40]=topStack(_3f);_pop(_3f);_40++;}}_push(_3f,_3c[i]);}if(_3c[i]=="("){_push(_3f,_3c[i]);}if(_3c[i]==")"){while(topStack(_3f)!="("){_3d[_40]=_pop(_3f);_40++;}_pop(_3f);}}while(!isEmpty(_3f)){if(topStack(_3f)=="("){_pop(_3f);}else{_3d[_3d.length]=_pop(_3f);}}var _42="";for(var i=0;i<_3d.length;i++){_42+=_3d[i];}if(_3e==0){return (_42);}else{return (_3d);}}function PostfixToInfix(_43){var _44=new Array();_43=_43.split("");for(var i=0;i<_43.length;i++){if(isOperation(_43[i])){_push(_44,_43[i]);}else{var _46=topStack(_44);_pop(_44);var _47="("+topStack(_44)+_43[i]+_46+")";_pop(_44);_push(_44,_47);}}return (topStack(_44));}function Tokens(str){var _49=str.split("");var _4a=new String("");var _4b=new Array();var _4c=0;for(var i=0;i<_49.length;i++){if(isOperation(_49[i])&&_49[i].match(/\s/)==null){_4a+=_49[i];}if(isOperator(_49[i])||_49[i]==")"||_49[i]=="("){if(_4a!=""){_4b[_4c]=_4a;_4c++;}_4a="";_4b[_4c]=_49[i];_4c++;}if(i==_49.length-1){if(_4a!=""){_4b[_4c]=_4a;}}}return (_4b);}function Calculation(_4e,_4f,sym){var _51;try{if(sym=="+"){_51=_4e.plus(_4f);}if(sym=="-"){_51=_4e.minus(_4f);}if(sym=="*"){_51=_4e.times(_4f);}if(sym=="/"){_51=_4e.divide(_4f);}if(sym=="^"){_51=_4e.pow(_4f);}if(sym=="%"){_51=_4e.mod(_4f);}return (_51);}catch(e){$W.exception.printStackTrace(e);}}function PostfixEval(_52){var _53=new Array();var _54;var _55;for(var i=0;i<_52.length;i++){if(isOperation(_52[i])){_push(_53,_52[i]);}else{_54=eval(topStack(_53));if(_54.constructor!=$W.bigDecimalObj){_54=$W._b(_54);}_pop(_53);_55=eval(topStack(_53));if(_55.constructor!=$W.bigDecimalObj){_55=$W._b(_55);}var _57=Calculation(_55,_54,_52[i]);_pop(_53);_push(_53,_57);}}return (topStack(_53));}var _58=InfixToPostfix(str);for(var i in _58){var _5a=this.mainDataList.getColumnIndex(_58[i]);_58[i]=_5a!=undefined?$W._b(this.mainDataList._getData(this.rowIndex,_5a)):_58[i];}return PostfixEval(_58);};$W._j.dataListCellInfo.prototype.display=function(){var _5b=this.mainDataList.getColumnIndex(arguments[0]);var ret=this.mainDataList.getCellData(this.rowIndex,_5b);return ret;};$W._j.dataListCellInfo.prototype.getRowIndex=function(){return this.mainDataList.getDisplayRowIndex(this.rowIndex);};;WebSquare.uiplugin.dataListCellController=$W._a._i;$W._j.dataListApiController=function(_1){["WebSquare.DataCollection.dataListApiController"];};$W._j.dataListApiController.prototype.getBroadcast=function(){return (this._broadCastFlag!==false);};$W._j.dataListApiController.prototype.setBroadcast=function(_2){if(_2===false){this._broadCastFlag=_2;}else{this._broadCastFlag=true;}};$W._j.dataListApiController.prototype.broadcast=function(_3){["WebSquare.DataCollection.dataListApiController.prototype.broadcast"];try{if($W._j["stopBroadCast"]||!this.getBroadcast()){return;}for(var id in this.childCompHash){if(_3.excludeId&&_3.excludeId[id]){if(_3.gridView&&_3.gridView[0]==="notifySettedCellData"){_3.gridView[1][3]=true;}else{continue;}}var _5=this.childCompHash[id];if(_5!=null&&$W.idCache[_5.uuid]&&(typeof _5.render=="undefined"||_5.render!=null)){if(_5.activeStatus=="stop"&&typeof _5.preActivate=="function"){_5.preActivate();}var _6=_5.options.pluginName||_5.initializeType;switch(_6){case "linkedDataList":if(_3.linkedDataList){_5[_3.linkedDataList[0]].apply(_5,_3.linkedDataList[1]||[]);}break;case "grid":case "gridView":if(_3.gridView){_5[_3.gridView[0]].apply(_5,_3.gridView[1]||[]);}break;case "fusionchart":if(_3.fusionChart){_5[_3.fusionChart[0]].apply(_5,_3.fusionChart[1]||[]);}break;case "mapchart":if(_3.generalComp=="refreshItemset"||_3.generalComp=="both"||_3.generalComp=="refreshItemArr"){_5.refreshDataLists(this.id);}break;default:if(_3.generalComp=="refreshItemset"||_3.generalComp=="both"){if(_5.modelControl.useItemset){_5.refreshItemset();}}else{if(_3.generalComp=="rollback"){_5["rollback"]();}}break;}}}for(var id in this.refCompHash){if(_3.excludeId&&_3.excludeId[id]){continue;}var _5=this.refCompHash[id];if(_5!=null&&$W.idCache[_5.uuid]){if(_5.options.pluginName.indexOf("fw")<0&&_5.options.pluginName!=="fusionchart"&&_3.colID&&_5.modelControl&&_5.modelControl.dataCollectionRefInfo&&_5.modelControl.dataCollectionRefInfo.colID!=_3.colID){continue;}if(_5.activeStatus=="stop"&&typeof _5.preActivate=="function"){_5.preActivate();}switch(_5.options.pluginName){case "fusionchart":if(_3.fusionChart){_5[_3.fusionChart[0]].apply(_5,_3.fusionChart[1]||[]);}break;case "fwFunnelChart":if(_3.fwFunnelChart){_5[_3.fwFunnelChart[0]].apply(_5,_3.fwFunnelChart[1]||[]);}break;case "fwGanttChart":if(_3.fwGanttChart){_5[_3.fwGanttChart[0]].apply(_5,_3.fwGanttChart[1]||[]);}break;case "fwPyramidChart":if(_3.fwPyramidChart){_5[_3.fwPyramidChart[0]].apply(_5,_3.fwPyramidChart[1]||[]);}break;case "fwSparkChart":if(_3.fwSparkChart){_5[_3.fwSparkChart[0]].apply(_5,_3.fwSparkChart[1]||[]);}break;case "fwRealtimeChart":if(_3.fwRealtimeChart){_5[_3.fwRealtimeChart[0]].apply(_5,_3.fwRealtimeChart[1]||[]);}break;case "linkedDataList":if(_3.linkedDataList){_5.refresh();}break;default:if(_3.generalComp=="refresh"||_3.generalComp=="both"){if(_5.modelControl.useRef){_5.refresh();}}else{if(_3.generalComp=="binding"){_5["modelControl"]["binding"]();}}break;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.synchronize=function(){["WebSquare.DataCollection.dataListApiController.prototype.synchronize"];try{var _7=$W._j.parentToChildRelation[this.id];if(_7){for(var _8 in _7){if(_7[_8]){this.childCompHash[_8]=$W._G.getComponentById(_8);}}}this.broadcast({"gridView":["setDataList"],"linkedDataList":["setDataList"],"generalComp":["refreshItemArr"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.synchronizeRef=function(){["WebSquare.DataCollection.dataListApiController.prototype.synchronizeRef"];try{var _9=$W._j.parentToChildRef[this.id];if(_9){for(var _a in _9){if(_9[_a]){this.refCompHash[_a]=$W._G.getComponentById(_a);}}}this.broadcast({"gridView":["drawData",[0,0]],"generalComp":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype._addRelation=function(_b){["WebSquare.DataCollection.dataListApiController.prototype._addRelation"];try{if(!this.childCompHash){return;}var _c=$W._G.getComponentById(_b);if(!_c){return;}this.childCompHash[_b]=_c;if(_c.activeStatus=="stop"&&typeof _c.preActivate=="function"){_c.preActivate();}var _d=_c.options.pluginName||_c.initializeType;switch(_d){case "linkedDataList":case "grid":case "gridView":_c.setDataList();break;default:break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype._addRefRelation=function(_e){["WebSquare.DataCollection.dataListApiController.prototype._addRefRelation"];try{if(!this.refCompHash){return;}var _f=$W._G.getComponentById(_e);if(!_f){return;}this.refCompHash[_e]=_f;if(_f.activeStatus=="stop"&&typeof _f.preActivate=="function"){_f.preActivate();}var _10=_f.options.pluginName||_f.initializeType;switch(_10){case "grid":case "gridView":_f.drawData(0,0);break;default:if(_f.modelControl.useRef){_f.refresh();}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.addChild=function(_11){["WebSquare.DataCollection.dataListApiController.prototype.addChild"];try{if(this.childCompHash){this.childCompHash[_11.id]=_11;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.removeChild=function(_12){["WebSquare.DataCollection.dataListApiController.prototype.removeChild"];try{if(this.childCompHash){delete this.childCompHash[_12];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.addRefComp=function(_13){["WebSquare.DataCollection.dataListApiController.prototype.addRefComp"];try{this.refCompHash[_13.id]=_13;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.removeRefComp=function(_14){["WebSquare.DataCollection.dataListApiController.prototype.removeRefComp"];try{delete this.refCompHash[_14];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.getConfiguredOptions=function(){["WebSquare.DataCollection.dataListApiController.prototype.getConfiguredOptions"];try{var _15=this.defaultOptions.pluginName;var _16,values;var ret={};this.configuredOptions={};if(!this.configuredOptions[_15]){var _18=$W.extendKeepingType({id:"",pluginType:"xfControl",pluginName:"",userEvents:[],xmlEvents:null,value:"",model:"",bind:"",style:"",useConfig:false},this.defaultOptions);if(_18.useConfig||$W._G.getBoolean($W._N.getConfiguration("/WebSquare/"+_15+"/useConfig/@value"))){var _19=$W.configManager.getConfig(_15);_18=$W.extendKeepingType(_18,_19);}_16=[];values=[];for(var key in _18){_16.push(key);values.push(_18[key]);}this.configuredOptions[_15]={keys:_16,values:values};}else{_16=this.configuredOptions[_15].keys;values=this.configuredOptions[_15].values;}for(var i=0;i<_16.length;i++){ret[_16[i]]=values[i];}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.getStructure=function(){["WebSquare.DataCollection.dataListApiController.prototype.getStructure"];try{switch(this.elementType){case "XML":return this.xml2JSON(this.element);break;case "JSON":return this.json2Structure();break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.json2Structure=function(){["WebSquare.DataCollection.dataListApiController.prototype.json2Structure"];try{var _1c=this.element;var _1d={attr:{id:this.id},rowArr:[[]]};_1d.attr=$W.extendKeepingType(_1d.attr,_1c.options);for(var i=0;i<_1c.columnInfo.length;i++){var _1f=_1c.columnInfo[i];_1d.rowArr[0].push(_1f);}return _1d;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.getInitializeType=function(){["WebSquare.DataCollection.dataListApiController.prototype.getInitializeType"];try{return this.getObjectType();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.setColumnFilter=function(_20,_21,_22,_23){["WebSquare.DataCollection.dataListApiController.prototype.setColumnFilter"];try{var _24=this.getColumnIndex(_20);this.broadcast({"gridView":["notifyBeforeSettedColumnFilter"]});if(typeof arguments[0]==="object"&&!$W._G.isString(arguments[0])){if(arguments[0].type!=="row"&&arguments[0].type!=="func"&&arguments[0].type!=="regExp"){throw new Error("type does not support.[type:"+arguments[0].type+"]");}this.setFilter({type:arguments[0].type,colIndex:(typeof arguments[0].colIndex=="string"&&(arguments[0].colIndex).toLowerCase()=="rowstatus()")?"@rowStatus":arguments[0].colIndex,key:arguments[0].key,condition:arguments[0].condition,param:arguments[0].param});}else{this.setFilter({type:"row",colIndex:_24,key:_21,condition:_22,exactMatch:_23});}this.broadcast({"gridView":["notifyAfterSettedColumnFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.removeColumnFilter=function(_25){["WebSquare.DataCollection.dataListApiController.prototype.removeColumnFilter"];try{var _26=this.getColumnID(_25);this.broadcast({"gridView":["notifyBeforeRemovedColumnFilter"]});this.removeFilter({type:"row",colIndex:_25.toLowerCase()=="rowstatus()"?"@rowStatus":_26,key:""},false);this.removeFilter({type:"func",colIndex:_26,key:""},false);this.removeFilter({type:"regExp",colIndex:_26,key:""},true);this.broadcast({"gridView":["notifyAfterRemovedColumnFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.clearSortFilter=function(){["WebSquare.DataCollection.dataListApiController.prototype.clearSortFilter"];try{var _27="sort^@";this.filterManager.deleteFilterById(_27,false);this.filterManager.executeAllFilter(this.dataArr,this.getTotalRow(),this.getColumnCount());this.sortStatusInfo={};this.sortStatusArr=[];this.broadcast({"gridView":["notifyClearSortFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.removeColumnFilterAll=function(){["WebSquare.DataCollection.dataListApiController.prototype.removeColumnFilter"];try{this.clearFilter();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.removeFilter=function(_28,_29){["WebSquare.DataCollection.dataListApiController.prototype.removeFilter"];try{_28=$W.extend({type:"",colIndex:-1,key:"",condition:"and"},_28||{});_29=(typeof _29=="undefined")?true:_29;if(_28.colIndex!="@rowStatus"){if(typeof _28.colIndex=="string"){_28.colIndex=this.getColumnIndex(_28.colIndex);}}var _2a=_28.type+"^@"+_28.colIndex+"^@"+_28.key;this.filterManager.deleteFilter(_2a,this.dataArr,this.getTotalRow(),this.getTotalCol(),_28,_29);this.broadcast({"gridView":["notifyRemovedFilter"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.clearFilter=function(){["WebSquare.DataCollection.dataListApiController.prototype.clearFilter"];try{this.filterManager.clear();this.filteredRowIndexArr=[];var len=this.getTotalRow();for(var i=0;i<len;i++){this.filteredRowIndexArr.push(i);}this.broadcast({"gridView":["notifyClearFilter"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.sort=function(_2d,_2e){["WebSquare.DataCollection.dataListApiController.prototype.sort"];try{switch(_2e){case 0:this.setFilter({type:"sort",sortIndex:_2d,sortOrder:"1",dataType:"text"});break;case 1:this.setFilter({type:"sort",sortIndex:_2d,sortOrder:"-1",dataType:"text"});break;case 2:this.clearSortFilter();break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.clearSort=function(){["WebSquare.DataCollection.dataListApiController.prototype.removeColumnFilter"];try{this.broadcast({"gridView":["notifyBeforeClearSort"]});this.clearSortFilter();this.broadcast({"gridView":["notifySetFocusedCell"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.multisort=function(_2f){["WebSquare.DataCollection.dataListApiController.prototype.multisort"];try{_2f.type="sort";_2f.sortOrder=_2f.sortOrder||[];var _30;var _31;var _32=typeof _2f.sortIndex;var _33=typeof _2f.sortOrder;if(_32=="object"){_30=_2f.sortIndex;}else{if(_32=="string"){_30=_2f.sortIndex.split(" ");}}if(_33=="object"){_31=_2f.sortOrder;}else{if(_33=="string"){_31=_2f.sortOrder.split(" ");}}for(var i=0;i<_30.length-_31.length;i++){_31.push(1);}var _35=[];for(var i=0;i<_30.length;i++){var _36=this.getCellInfo(this.getColumnID(_30[i]));var _37=_36.options.dataType=="number"?"number":"text";_35.push(_37);}_2f.dataType=_35.join(" ");this.setFilter(_2f);this.broadcast({"gridView":["notifyMultisort"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.setFilter=function(_38){["WebSquare.DataCollection.dataListApiController.prototype.setFilter"];try{this.broadcast({"gridView":["notifySaveFocusedCell"]});_38=$W.extend({type:"",colIndex:-1,key:"",condition:"and",bodyIdColIndexMap:this.bodyIdColIndexMap,dataList:this.id},_38||{});if(_38.colIndex!="@rowStatus"){if(typeof _38.colIndex=="string"){_38.colIndex=this.bodyIdColIndexMap[_38.colIndex];}var _39=this.getCellInfo(_38.colIndex);var _3a=_39.options.dataType;_38.columnDataType=_3a;}var _3b=false;if(_38.sortIndex){this.sortStatusInfo={};this.sortStatusArr=[];var _3c=[];var _3d=[];var _3e=[];if(typeof _38.sortIndex=="string"){_3c=_38.sortIndex.wq_trim().split(" ");}else{_3c=_38.sortIndex;}if(_38.sortOrder&&typeof _38.sortOrder=="string"){_3d=_38.sortOrder.wq_trim().split(" ");}else{if(typeof _38.sortOrder=="object"){_3d=_38.sortOrder;}}if(_38.dataType){_3e=_38.dataType.wq_trim().split(" ");}_38.sortIndexArr=[];_38.sortOrderArr=[];_38.dataTypeArr=[];_38.sortIdArr=[];for(var i=0;i<_3c.length;i++){if(isNaN(_3c[i])){_38.sortIndexArr.push(this.bodyIdColIndexMap[_3c[i]]);}else{_38.sortIndexArr.push(parseInt(_3c[i],10));}var _40=parseInt(_3d[i]);if(isNaN(_40)){_40=1;}_38.sortOrderArr.push(_40);_38.dataTypeArr.push(_3e[i]||"text");_38.sortIdArr.push(this.getColumnID(_38.sortIndexArr[i]));var _41={};var _39=this.getCellInfo(_38.sortIdArr[i]);var _42=_39.options.dataType=="number"?"number":"text";_41.colID=_38.sortIdArr[i];_41.sortOrder=_38.sortOrderArr[i];_41.dataType=_42;if(_38.dataType!=_42){_38.dataType=_42;_38.dataTypeArr[i]=_42;}this.sortStatusInfo[_41.colID]=_41;this.sortStatusArr.push(_41);this.sortStatusArr[_41.colID]=_41;}_3b=true;}var _43=_38.type+"^@"+_38.colIndex+"^@"+_38.key;this.filterManager.addFilter(_43,this.getTotalRow(),this.getTotalCol(),_38);this.broadcast({"gridView":["notifySettedFilter",[{"isSort":_3b}]],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.setXMLLayout=function(_44,_45,_46){["WebSquare.DataCollection.dataListApiController.prototype.setXMLLayout"];try{if(_44!="undefined"&&_44!=null&&_44!=""){if(_44.endsWith("/")){this.options.baseNode=_44.substring(0,_44.length-1);}else{this.options.baseNode=_44;}}else{this.options.baseNode="";}if(_45!="undefined"&&_45!=null){if(_45.startsWith("/")){_45=_45.substring(1);}if(_45.endsWith("/")){_45=_45.substring(0,_45.length-1);}this.options.repeatNode=_45;}if(_46!="undefined"&&_46!=null){this.options.valueNode=_46;}else{this.options.valueNode="";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.xmlData2ArrData=function(_47,_48){["WebSquare.DataCollection.dataListApiController.prototype.xmlData2ArrData"];try{if(_47==null){return;}if(_47.nodeType==9){var _49=_47.selectNodes("/"+this.options.baseNode+"/"+this.options.repeatNode);}else{var _4a=this.options.baseNode;if(_4a.startsWith(_47.tagName)){var _4a=_4a.replace(_47.tagName,".");var _49=_47.selectNodes(_4a+"/"+this.options.repeatNode);}if(_49.length==0){_47=$W._B.parse($W._B.serialize(_47));var _49=_47.selectNodes("/"+this.options.baseNode+"/"+this.options.repeatNode);}}var _4b=[];var _4c=this.options.valueNode;var _4d=_4c==null||_4c=="";var _4e=$W._G.getTextNodeValue;var _4f=_49.length;var _50=this.cellIdList.length;var _51=[];for(var i=0;i<_50;i++){_51[i]=this.getCellInfo(this.cellIdList[i]);}var _53={};var _54=false;if(typeof _48==="object"&&_48!=null&&_48.constructor===Array){_54=true;for(var t=0;t<_48.length;t++){_53[_48[t]]=true;}}for(var i=0;i<_4f;i++){var obfuscator_i=i;var obfuscator_rowXml=_49[i];var len=_4b.length;var obfuscator_rowDataObj={};var _57=[];for(var j=0;j<_50;j++){var _59=this.cellIdList[j];if(_54&&!_53[_59]){_4b[len+j]=_51[j].options.defaultValue;if(this.options.xmlEncode&&_4b[len+j]!=null){_4b[len+j]=$W._B.decode(_4b[len+j]);}obfuscator_rowDataObj[_59]=_4b[len+j];continue;}if(_51[j].options.importFormatter){_57.push(j);continue;}else{var _5a=_49[i].selectSingleNode(_59);if(_5a!=null){if(_4d){_4b[len+j]=_4e(_5a);}else{_4b[len+j]=_5a.getAttribute(_4c);}}else{_4b[len+j]=_51[j].options.defaultValue;}}if(this.options.xmlEncode&&_4b[len+j]!=null){_4b[len+j]=$W._B.decode(_4b[len+j]);}obfuscator_rowDataObj[_59]=_4b[len+j];}for(var _5b=0;_5b<_57.length;_5b++){try{_4b[len+_57[_5b]]=eval(_51[_57[_5b]].options.importFormatter+"(obfuscator_rowDataObj, obfuscator_i)");}catch(e){_4b[len+_57[_5b]]=_51[_57[_5b]].options.defaultValue;$W.exception.printStackTrace(e,null,this);}}}return _4b;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.jsonData2ArrData=function(_5c,_5d){["WebSquare.DataCollection.dataListApiController.prototype.jsonData2ArrData"];try{if(_5c==null){return;}var _5e=[];var _5f=this.options.valueNode;var _60=_5c.length;var _61=this.cellIdList.length;var _62=[];for(var i=0;i<_61;i++){_62[i]=this.getCellInfo(this.cellIdList[i]);}var _64={};var _65=false;if(typeof _5d==="object"&&_5d!=null&&_5d.constructor===Array){var _65=true;for(var t=0;t<_5d.length;t++){_64[_5d[t]]=true;}}for(var i=0;i<_60;i++){var obfuscator_i=i;var obfuscator_rowXml=_5c[i];var len=_5e.length;for(var j=0;j<_61;j++){var _69=this.cellIdList[j];if(_65&&!_64[_69]){_5e[len+j]=_62[j].options.defaultValue;continue;}if(_62[j].options.importFormatter){try{_5e[len+j]=eval(_62[j].options.importFormatter+"(obfuscator_rowXml, obfuscator_i)");}catch(e){_5e[len+j]=_62[j].options.defaultValue;$W.exception.printStackTrace(e,null,this);}}else{var _6a=_5c[i][_69];if(_6a!=null){_5e[len+j]=_6a;}else{_5e[len+j]=_62[j].options.defaultValue;}}}}return _5e;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.getArrXML=function(_6b,_6c){["WebSquare.DataCollection.dataListApiController.prototype.getArrXML"];try{if(typeof _6c==="undefined"||_6c==null){_6c={};}var _6d;switch(this.initializeType){case "grid":for(var id in this.childCompHash){return this.childCompHash[id].getArrXML(_6b);}case "gridView":case "dataList":_6d=this.id;break;case "dataMap":case "removeManager":case "linkedDataList":_6d=this.parent.id;break;}_6d=_6c.id||_6d;var _6f=(_6c.initializeType)?_6c.initializeType:this.initializeType;var _70=(_6c.rowStatusNodeName)?_6c.rowStatusNodeName:this.options.rowStatusNodeName;var _71=(_6c.baseNode||_6c.baseNode=="")?_6c.baseNode:this.options.baseNode;var _72=(_6c.repeatNode||_6c.repeatNode=="")?_6c.repeatNode:this.options.repeatNode;var _73=(_6c.idAttribute||_6c.idAttribute=="")?_6c.idAttribute:this.options.idAttribute;var _74=(_6c.valueAttribute||_6c.valueAttribute=="")?_6c.valueAttribute:this.options.valueAttribute;if(_6b instanceof Array){var _75=false;this.tagNmArr=_71.replace(/\[[^\]]+\]/g,"").split("/");_73=_73==""?"id":_73;for(var i=0;i<this.tagNmArr.length;i++){if(this.tagNmArr[i]!=null&&this.tagNmArr[i].wq_trim()!=""){if(!_75){var _77=[];var _78=$W._B.parse("<"+this.tagNmArr[i]+"/>");_78.documentElement.setAttribute(_73,_6d);_77.push(_78.documentElement);_75=true;}else{var _79=_78.createElement(this.tagNmArr[i]);_79.setAttribute(_73,_6d);_77.push(_79);_77[i-1].appendChild(_77[i]);}}}switch(this.initializeType){case "dataList":if(this.options.attributeMap){var _7a=$W._G.getComponentById(this.options.attributeMap);if(_7a){for(var i=0;i<_77.length;i++){for(var j=0;j<_7a.getCount();j++){_77[i].setAttribute(_7a.getKey(j),_7a.get(j));}}}}break;}var _7c=_72.replace(/\[[^\]]+\]/g,"").split("/");var _7d=null;for(var i=0;i<_6b.length;i++){var obfuscator_rowIndex=_6b[i];_7d=[];var obfuscator_objLastNode=null;for(var j=0;j<_7c.length;j++){if(_7c[j]!=""){var _7e=_78.createElement(_7c[j]);_7d.push(_7e);if(j==0){_77[_77.length-1].appendChild(_7e);}else{_7d[j-1].appendChild(_7d[j]);}}}obfuscator_objLastNode=_7d[_7c.length-1];switch(this.initializeType){case "dataList":obfuscator_objLastNode.setAttribute("index",obfuscator_rowIndex);break;case "removeManager":obfuscator_objLastNode.setAttribute("index","removed");break;case "dataMap":if(this.parent.options.attributeMap){var _7a=$W._G.getComponentById(this.parent.options.attributeMap);for(var i=0;i<_7d.length;i++){_7d[i].setAttribute(_73,this.parent.id);if(_7a){for(var j=0;j<_7a.getCount();j++){_7d[i].setAttribute(_7a.getKey(j),_7a.get(j));}}}}else{for(var i=0;i<_7d.length;i++){_7d[i].setAttribute(_73,this.parent.id);}}break;}var _7f=this.getColumnCount()+1;if(typeof _6c.includeColumns==="object"&&_6c.includeColumns!=null&&_6c.includeColumns.constructor===Array){_7f=_6c.includeColumns.length+1;}else{_7f=this.getColumnCount()+1;}var _80=new Array(_7f);for(var t=0;t<_7f;t++){if(t==_7f-1){if(_6f!="dataList"&&_6f!="removeManager"&&_6f!="linkedDataList"){continue;}var obfuscator_cellValue="";obfuscator_cellValue=this.getRowStatus(obfuscator_rowIndex);if(obfuscator_cellValue==null){obfuscator_cellValue="";}if(this.options.xmlEncode){obfuscator_cellValue=$W._B.encode(obfuscator_cellValue);}_80[t]=_78.createElement(_70);if(_74==""){var _82=_78.createTextNode(obfuscator_cellValue);_80[t].appendChild(_82);}else{_80[t].setAttribute(_74,obfuscator_cellValue);}_80[t].setAttribute("statusValue",this.getRowStatusValue(obfuscator_rowIndex));obfuscator_objLastNode.appendChild(_80[t]);if(this.options.rowNumData){var obfuscator_rowNumValue=_78.createTextNode(obfuscator_rowIndex+1);_80[t+1]=_78.createElement("rowNum");_80[t+1].appendChild(obfuscator_rowNumValue);obfuscator_objLastNode.appendChild(_80[t+1]);}}else{var obfuscator_columnID="";if(typeof _6c.includeColumns==="object"&&_6c.includeColumns!=null&&_6c.includeColumns.constructor===Array){obfuscator_columnID=_6c.includeColumns[t];}else{obfuscator_columnID=this.cellIdList[t];}var col=this.bodyIdColIndexMap[obfuscator_columnID];var _84=this.getCellInfo(col);var obfuscator_cellValue="";obfuscator_cellValue=this.getCellData(obfuscator_rowIndex,col);if(obfuscator_cellValue==null){obfuscator_cellValue="";}if(this.options.xmlEncode){obfuscator_cellValue=$W._B.encode(obfuscator_cellValue);}_80[t]=_78.createElement(obfuscator_columnID);if(_74==""){var _82=_78.createTextNode(obfuscator_cellValue);_80[t].appendChild(_82);}else{_80[t].setAttribute(_74,obfuscator_cellValue);}obfuscator_objLastNode.appendChild(_80[t]);}}}return _78;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.getAllArrXML=function(_85){["WebSquare.DataCollection.dataListApiController.prototype.getArrXML"];try{if(typeof _85==="undefined"||_85==null){_85={};}var _86;switch(this.initializeType){case "grid":for(var id in this.childCompHash){return this.childCompHash[id].getAllArrXML();}case "dataList":case "gridView":_86=this.id;break;case "dataMap":case "removeManager":case "linkedDataList":_86=this.parent.id;break;}_86=_85.id||this.id;var _88=(_85.initializeType)?_85.initializeType:this.initializeType;var _89=(_85.rowStatusNodeName)?_85.rowStatusNodeName:this.options.rowStatusNodeName;var _8a=(_85.baseNode||_85.baseNode=="")?_85.baseNode:this.options.baseNode;var _8b=(_85.repeatNode||_85.repeatNode=="")?_85.repeatNode:this.options.repeatNode;var _8c=(_85.idAttribute||_85.idAttribute=="")?_85.idAttribute:this.options.idAttribute;var _8d=(_85.valueAttribute||_85.valueAttribute=="")?_85.valueAttribute:this.options.valueAttribute;var _8e=false;this.tagNmArr=_8a.replace(/\[[^\]]+\]/g,"").split("/");var _8c=_8c==""?"id":_8c;for(var i=0;i<this.tagNmArr.length;i++){if(this.tagNmArr[i]!=null&&this.tagNmArr[i].wq_trim()!=""){if(!_8e){var _90=[];var _91=$W._B.parse("<"+this.tagNmArr[i]+"/>");_91.documentElement.setAttribute(_8c,_86);_90.push(_91.documentElement);_8e=true;}else{var _92=_91.createElement(this.tagNmArr[i]);_92.setAttribute(_8c,_86);_90.push(_92);_90[i-1].appendChild(_90[i]);}}}switch(this.initializeType){case "dataList":if(this.options.attributeMap){var _93=$W._G.getComponentById(this.options.attributeMap);if(_93){for(var i=0;i<_90.length;i++){for(var j=0;j<_93.getCount();j++){_90[i].setAttribute(_93.getKey(j),_93.get(j));}}}}break;}var _95=_8b.replace(/\[[^\]]+\]/g,"").split("/");var _96=null;for(var i=0;i<this.getTotalRow();i++){var obfuscator_rowIndex=i;_96=[];var obfuscator_objLastNode=null;for(var j=0;j<_95.length;j++){if(_95[j]!=""){var _97=_91.createElement(_95[j]);_96.push(_97);if(j==0){_90[_90.length-1].appendChild(_97);}else{_96[j-1].appendChild(_96[j]);}}}obfuscator_objLastNode=_96[_95.length-1];switch(this.initializeType){case "dataList":obfuscator_objLastNode.setAttribute("index",obfuscator_rowIndex);break;case "removeManager":obfuscator_objLastNode.setAttribute("index","removed");break;case "dataMap":if(this.parent.options.attributeMap){var _93=$W._G.getComponentById(this.parent.options.attributeMap);for(var i=0;i<_96.length;i++){_96[i].setAttribute(_8c,this.parent.id);if(_93){for(var j=0;j<_93.getCount();j++){_96[i].setAttribute(_93.getKey(j),_93.get(j));}}}}else{for(var i=0;i<_96.length;i++){_96[i].setAttribute(_8c,this.parent.id);}}break;}var _98=0;if(typeof _85.includeColumns==="object"&&_85.includeColumns!=null&&_85.includeColumns.constructor===Array){_98=_85.includeColumns.length+1;}else{_98=this.getColumnCount()+1;}var _99=new Array(_98);for(var t=0;t<_98;t++){if(t==_98-1){if(_88!="dataList"&&_88!="removeManager"&&_88!="linkedDataList"){continue;}var obfuscator_cellValue="";obfuscator_cellValue=this._getRowStatus(obfuscator_rowIndex);if(obfuscator_cellValue==null){obfuscator_cellValue="";}if(this.options.xmlEncode){obfuscator_cellValue=$W._B.encode(obfuscator_cellValue);}_99[t]=_91.createElement(_89);if(_8d==""){var _9b=_91.createTextNode(obfuscator_cellValue);_99[t].appendChild(_9b);}else{_99[t].setAttribute(_8d,obfuscator_cellValue);}_99[t].setAttribute("statusValue",this._getRowStatusValue(obfuscator_rowIndex));obfuscator_objLastNode.appendChild(_99[t]);}else{var obfuscator_columnID="";if(typeof _85.includeColumns==="object"&&_85.includeColumns!=null&&_85.includeColumns.constructor===Array){obfuscator_columnID=_85.includeColumns[t];}else{obfuscator_columnID=this.cellIdList[t];}var col=this.bodyIdColIndexMap[obfuscator_columnID];var _9d=this.getCellInfo(col);var obfuscator_cellValue="";obfuscator_cellValue=this._getData(obfuscator_rowIndex,col);if(this.options.xmlEncode){obfuscator_cellValue=$W._B.encode(obfuscator_cellValue);}_99[t]=_91.createElement(obfuscator_columnID);if(_8d==""){var _9b=_91.createTextNode(obfuscator_cellValue);_99[t].appendChild(_9b);}else{_99[t].setAttribute(_8d,obfuscator_cellValue);}obfuscator_objLastNode.appendChild(_99[t]);}}}return _91;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.xml2JSON=function(_9e){var obj={attr:{},rowArr:[]};for(var i=0;i<_9e.attributes.length;i++){if($W.nodeValueDeprecated){obj.attr[_9e.attributes[i].name]=_9e.attributes[i].value;}else{obj.attr[_9e.attributes[i].nodeName]=_9e.attributes[i].nodeValue;}}var _a1;var _a2;switch(this.initializeType){case "removeManager":case "dataList":_a1="columnInfo";_a2="column";break;case "dataMap":_a1="keyInfo";_a2="key";break;case "grid":_a1="row";_a2="column";break;}var _a3=$W._B.getElementsByTagName(_9e,_a1,$W._N._XML_NAMESPACE.W2);for(var i=0;i<_a3.length;i++){var _a4=$W._B.getElementsByTagName(_a3[i],_a2,$W._N._XML_NAMESPACE.W2);var _a5=[];for(var j=0;j<_a4.length;j++){var _a7=_a4[j];var col={"@xml":_a7};for(var k=0;k<_a7.attributes.length;k++){if($W.nodeValueDeprecated){col[_a7.attributes[k].name]=_a7.attributes[k].value;}else{col[_a7.attributes[k].nodeName]=_a7.attributes[k].nodeValue;}}col["@xml"].setAttribute("col_id",col.id);col["@xml"].setAttribute("id",this.id+"_"+col.id);_a5.push(col);}obj.rowArr.push(_a5);}return obj;};$W._j.dataListApiController.prototype.getTextNodeValue=function(_aa){["WebSquare.DataCollection.dataListApiController.prototype.getTextNodeValue"];var _ab=null;for(var _ac=_aa.firstChild;_ac!=null;_ac=_ac.nextSibling){if(_ac.nodeType=="3"){_ab=_ac.nodeValue;}}return _ab;};$W._j.dataListApiController.prototype.getID=function(){["WebSquare.DataCollection.dataListApiController.prototype.getID"];try{return this.id;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataListApiController.prototype.getOption=function(_ad){["WebSquare.DataCollection.dataListApiController.prototype.getOption"];try{var _ae=_ad in this.options;var _af=this.options.attributeMap;if(_ae){return this.options[_ad];}else{if(_af){var _b0=$W._G.getComponentById(_af);if(_b0&&_b0.hasKey(_ad)){return _b0.get(_ad);}}}return;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataListApiController.prototype.setOption=function(key,_b2){["WebSquare.DataCollection.dataListApiController.prototype.setOption"];try{if(typeof _b2=="string"&&_b2.wq_trim()=="$none"){_b2="";}if(key in this.options){this.options[key]=_b2;}var _b3=this.options.attributeMap;if(_b3){var _b4=$W._G.getComponentById(_b3);if(_b4&&_b4.hasKey(key)){_b4.set(key,_b2);}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataListApiController.prototype.syncWithAttributeMap=function(key,_b6){["WebSquare.DataCollection.dataListApiController.prototype.syncWithAttributeMap"];try{if(this.options.attributeMap){var _b7=$W._G.getComponentById(this.options.attributeMap);if(_b7){var _b8=_b7.getCount();for(var i=0;i<_b8;i++){var key=_b7.getKey(i);var _b6=_b7.get(i);this.options[key]=_b6;}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataListApiController.prototype.getObjectType=function(){["WebSquare.DataCollection.dataListApiController.getObjectType"];try{var _ba=this.initializeType;if(_ba=="dataList"){return _ba;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.reset=function(){["WebSquare.DataCollection.dataListApiController.reset"];try{if(this.initializeType=="dataList"){this.removeAll();if(this.elementType=="XML"){var _bb=$W._B.getElementsByTagName(this.element,"data",$W._N._XML_NAMESPACE.W2)[0];if(_bb){if(this.useData){this.allowTextNode=true;var _bc=$W._B.getElementsByTagName(_bb,"row",$W._N._XML_NAMESPACE.W2);for(var i=0;i<_bc.length;i++){this.setRowXML(i,_bc[i]);}this.modifyAllStatus("R");this.allowTextNode=false;}}}else{if(this.elementType=="JSON"){if(this.useData&&this.element.data){this.setJSON(this.element.data);this.modifyAllStatus("R");}}}this.reform();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.initDataList=function(){["WebSquare.DataCollection.dataListApiController.initDataList"];try{this.broadcast({"gridView":["notifyBeforeInitDataList"]});ret=this.dataList.removeAll();this.clearFilter();this.broadcast({"gridView":["notifyAfterInitDataList"]});return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.getColumnOption=function(_be,_bf){["WebSquare.DataCollection.dataListApiController.getColumnOption"];try{var ret;var _c1=this.getCellInfo(_be);ret=_c1.options[_bf];return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.setRowNumData=function(_c2){["WebSquare.DataCollection.dataListApiController.prototype.setRowNumData"];try{if($W._G.getBoolean(_c2)){this.options.rowNumData=true;}else{this.options.rowNumData=false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.getColumnInfo=function(_c3,_c4){["WebSquare.DataCollection.dataListApiController.prototype.setRowNumData"];try{var id="";var _c6=-1;if(typeof _c3=="number"){id=this.cellIdList[_c3];_c6=_c3;}else{id=_c3;_c6=this.bodyIdColIndexMap[_c3];}if(typeof _c4!=="number"){_c4=0;}if(_c6>-1&&_c6<this.structure.rowArr[_c4].length){var _c7={};for(var _c8 in this.structure.rowArr[_c4][_c6]){if(_c8==="@xml"){continue;}_c7[_c8]=this.structure.rowArr[_c4][_c6][_c8];}return _c7;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.getInfo=function(_c9,_ca){["WebSquare.DataCollection.dataListApiController.prototype.setRowNumData"];try{var ret={};if(typeof _c9!=="string"){if(this.initializeType==="dataList"){_c9="dataListInfo";}else{if(this.initializeType==="dataMap"){_c9="dataMapInfo";}else{_c9="attr";}}}if(typeof _ca!=="string"){if(this.initializeType==="dataList"){_ca="columnInfo";}else{if(this.initializeType==="dataMap"){_ca="keyInfo";}else{_ca="col";}}}ret[_c9]=$W.extend({},this.structure.attr);ret[_ca]={};if(this.structure.rowArr.length>1){for(var i=0;i<this.structure.rowArr.length;i++){var _cd=_ca+i;ret[_ca][_cd]={};for(var j=0;j<this.structure.rowArr[i].length;j++){ret[_ca][_cd][this.cellIdList[j]]=this.getColumnInfo(j,i);}}}else{if(this.structure.rowArr.length===1){for(var i=0;i<this.structure.rowArr[0].length;i++){ret[_ca][this.cellIdList[i]]=this.getColumnInfo(i);}}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.fireOnModelChangeEvent=function(_cf){["WebSquare.DataCollection.dataListApiController.prototype.fireOnModelChangeEvent"];try{if(_cf){var _d0={"type":_cf.type,"rowIndex":_cf.rowIndex,"colID":_cf.colID,"oldValue":_cf.oldValue,"newValue":_cf.newValue};$W._c.fireEvent(this,"onmodelchange",_d0);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.fireOnBeforeColumnChangeEvent=function(_d1){["WebSquare.DataCollection.dataListApiController.prototype.fireOnBeforeColumnChangeEvent"];try{if(_d1){return $W._c.fireEvent(this,"onbeforecolumnchange",{"oldColID":_d1.oldColumnID,"newColID":_d1.newColumnID});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataListApiController.prototype.fireOnColumnChangeEvent=function(_d2){["WebSquare.DataCollection.dataListApiController.prototype.fireOnColumnChangeEvent"];try{if(_d2){return $W._c.fireEvent(this,"oncolumnchange",{"oldColID":_d2.oldColumnID,"newColID":_d2.newColumnID});}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.dataListApiController=$W._a.bf;$W._j.filterController=function(_1){this.parent=_1;this.filterArr=[];this.allRowIndexArr=[];this.firstFiltering=true;};$W._j.filterController.prototype.useFilter=function(){if(this.filterArr.length!=0){return true;}return false;};$W._j.filterController.prototype.clear=function(){this.filterArr=[];this.firstFiltering=true;};$W._j.filterController.prototype._setAllRowIndexArr=function(_2){if(this.allRowIndexArr.length!=_2){this.allRowIndexArr=[];for(var i=0;i<_2;i++){this.allRowIndexArr.push(i);}}};$W._j.filterController.prototype.executeAllFilter=function(_4,_5,_6){this._setAllRowIndexArr(_5);this.firstFiltering=true;for(var i=0;i<this.filterArr.length;i++){this.executeFilter(this.filterArr[i],_4,_5,_6);}if(this.filterArr.length==0){for(var i=0;i<this.parent.getDataLength();i++){this.parent.filteredRowIndexArr[i]=i;}}};$W._j.filterController.prototype.executeFilter=function(_8,_9,_a,_b){["WebSquare.DataCollection.filterController.prototype.executeFilter"];try{if(_8.options.condition=="and"){if(this.firstFiltering){this.parent.filteredRowIndexArr=_8.execute(_9,_a,_b,this.allRowIndexArr);}else{this.parent.filteredRowIndexArr=_8.execute(_9,_a,_b,this.parent.filteredRowIndexArr);}}else{if(_8.options.condition=="or"){var _c=_8.execute(_9,_a,_b,this.allRowIndexArr);if(this.firstFiltering){this.parent.filteredRowIndexArr=this.mergeArray(this.allRowIndexArr,_c);}else{this.parent.filteredRowIndexArr=this.mergeArray(this.parent.filteredRowIndexArr,_c);}}else{if(_8.options.condition==">"||_8.options.condition==">="||_8.options.condition=="<"||_8.options.condition=="<="){if(_8.options.columnDataType!="number"){this.parent.filteredRowIndexArr=this.allRowIndexArr;this.firstFiltering=false;return;}if(this.firstFiltering){this.parent.filteredRowIndexArr=_8.executeCondition(_9,_a,_b,this.allRowIndexArr);}else{this.parent.filteredRowIndexArr=_8.executeCondition(_9,_a,_b,this.parent.filteredRowIndexArr);}}}}this.firstFiltering=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.filterController.prototype.addFilter=function(_d,_e,_f,_10){["WebSquare.DataCollection.filterController.prototype.addFilter"];try{var _11=this.parent.dataArr;if(_10.sortIndexArr){var _12=[];for(var i=0;i<_10.sortIdArr.length;i++){_12.push(this.parent.getColumnIndex(_10.sortIdArr[i]));}_10.sortIndexArr=_12;}this._setAllRowIndexArr(_e);var _14=null;if(_10.type=="row"){_14=new $W.rowFilter(_d,_10);}else{if(_10.type=="user"){_14=new $W.userFilter(_d,_10);}else{if(_10.type=="cell"){_14=new $W.cellFilter(_d,_10);}else{if(_10.type=="sort"){_14=new $W.sortFilter(_d,_10);this.deleteFilterById("sort^@",false);var _15=_10.sortIndex;if(typeof _15=="string"){var _15=_10.sortIndex.split(" ");}var _16=this.parent.getColCnt();for(var i=0;i<_15.length;i++){var _17=this.parent.getCellInfo(_15[i]);if(_17.options.inputType=="expression"){var _18=this.parent.getColumnIndex(_17.options.id);for(var j=0;j<_e;j++){_11[_18+_16*j]=_17.getDisplayData(null,j);}}}}else{if(_10.type=="func"){_14=new $W.funcFilter(_d,_10);}else{if(_10.type=="regExp"){_14=new $W.regExpFilter(_d,_10);}}}}}}this.executeFilter(_14,_11,_e,_f);this.filterArr.push(_14);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.filterController.prototype.deleteFilter=function(_1a,_1b,_1c,_1d,_1e,_1f){if(typeof _1f=="undefined"){_1f=true;}var _20=[];for(var i=0;i<this.filterArr.length;i++){if(this.filterArr[i].id.indexOf(_1a)==-1){_20.push(this.filterArr[i]);}}this.filterArr=_20;if(_1f==true){this.firstFiltering=true;for(var i=0;i<this.filterArr.length;i++){this.executeFilter(this.filterArr[i],_1b,_1c,_1d);}if(this.filterArr.length==0){var _1c=this.parent.getTotalRow();this.parent.filteredRowIndexArr=[];for(var i=0;i<_1c;i++){this.parent.filteredRowIndexArr.push(i);}}}};$W._j.filterController.prototype.mergeArray=function(_22,_23){var _24=[];var _25=[];for(var i=0;i<_22.length;i++){_24[_22[i]]=1;}for(var i=0;i<_23.length;i++){_24[_23[i]]=1;}for(var i=0;i<_24.length;i++){if(_24[i]==1){_25.push(i);}}return _25;};$W._j.filterController.prototype.deleteFilterById=function(_27,_28){if(typeof _28=="undefined"){_28=true;}var _29=[];for(var i=0;i<this.filterArr.length;i++){if(this.filterArr[i].id.indexOf(_27)==-1){_29.push(this.filterArr[i]);}}this.filterArr=_29;if(_28==true){}else{if(this.filterArr.length==0){this.firstFiltering=true;}}};$W._j.filterController.prototype.getOriginalRowIndex=function(_2b){var _2c=this.filteredRowIndexArr[_2b];return _2c;};$W._j.filterController.prototype.getDisplayRowIndex=function(_2d){if(this.parent._dataList.filteredRowIndexArr.length!=0){for(var i=0;i<this.parent._dataList.filteredRowIndexArr.length;i++){if(_2d==this.parent._dataList.filteredRowIndexArr[i]){return i;}}}return _2d;};$W.filter=function(id){this.id=id;};$W.filter.prototype.execute=function(_30,_31,_32,_33){alert("overriede 'executeFilter'");};$W.rowFilter=function(id,_35){$W.filter.call(this,id);this.options=$W.extend({colIndex:-1,key:"",condition:"and",exactMatch:false},_35||{});};$W.extend($W.rowFilter.prototype,$W.filter.prototype);$W.rowFilter.prototype.execute=function(_36,_37,_38,_39){var _3a=[];for(var i=0;i<_39.length;i++){var row=_39[i];var _3d=$W._G.getComponentById(this.options.dataList);var _3e=this.options.colIndex=="@rowStatus"?_3d.rowStatusArr[row]:_36[row*_38+this.options.colIndex];if(_3e==null){_3e="";}if(this.options.exactMatch){if(_3e==this.options.key){_3a.push(row);}}else{if(_3e.indexOf(this.options.key)>-1){_3a.push(row);}}}return _3a;};$W.rowFilter.prototype.executeCondition=function(_3f,_40,_41,_42){var _43=[];for(var i=0;i<_42.length;i++){var row=_42[i];var _46;var _47;if(this.options.columnDataType=="number"){_46=parseFloat(_3f[row*_41+this.options.colIndex])||0;_47=parseFloat(this.options.key);}if(this.options.condition==">"){if(_46>_47){_43.push(row);}}else{if(this.options.condition==">="){if(_46>=_47){_43.push(row);}}else{if(this.options.condition=="<"){if(_46<_47){_43.push(row);}}else{if(this.options.condition=="<="){if(_46<=_47){_43.push(row);}}}}}}return _43;};$W.userFilter=function(id,_49){$W.filter.call(this,id);this.options=$W.extend({key:"",condition:"and"},_49||{});};$W.extend($W.userFilter.prototype,$W.filter.prototype);$W.userFilter.prototype.getColumnData=function(_4a,_4b,_4c,_4d,_4e){if(typeof _4e=="string"){_4e=this.options.bodyIdColIndexMap[_4e];}var _4f=_4a[_4d*_4c+_4e];return _4f;};$W.userFilter.prototype.execute=function(_50,_51,_52,_53){var exp=this.options.key.replace(/col[\s]*\(/g,"this.getColumnData(dataArr, totalRow, totalCol, row, ");var _55=[];for(var i=0;i<_53.length;i++){if(eval(exp)){_55.push(_53[i]);}}return _55;};$W.cellFilter=function(id,_58){$W.filter.call(this,id);this.options=$W.extend({key:""},_58||{});};$W.extend($W.cellFilter.prototype,$W.filter.prototype);$W.cellFilter.prototype.execute=function(_59,_5a,_5b,_5c){var _5d=[];for(var i=0;i<_5c.length;i++){var row=_5c[i];for(var col=0;col<_5b;col++){var _61=_59[row*_5b+col];if(_61==null){_61="";}if(_61.indexOf(this.options.key)>-1){_5d.push(row);}}}return _5d;};$W.sortFilter=function(id,_63){$W.filter.call(this,id);this.options=$W.extend({colIndex:"",sortIndex:"",sortOrder:"",dataType:"",sortIndexArr:[],sortOrderArr:[],dataTypeArr:[],sortFuncArr:[],sortIdArr:[]},_63||{});};$W.extend($W.sortFilter.prototype,$W.filter.prototype);$W.sortFilter.prototype.execute=function(_64,_65,_66,_67){var _68=_67.slice(0).sort(function(a,b){return (a-b);});var _6b=this.options;var _6c=[];for(var i=0;i<_68.length;i++){_6c[i]=_68[i]*_66;}var _6e=[];for(var i=0;i<_6b.sortIndexArr.length;i++){_6e[i]={};if(_6b.sortFuncArr[i]){for(var j=0;j<_6c.length;j++){_6e[i][_68[j]]=_64[_6c[j]+_6b.sortIndexArr[i]];}}else{if(_6b.dataTypeArr[i]=="number"){for(var j=0;j<_6c.length;j++){var _70=_64[_6c[j]+_6b.sortIndexArr[i]];_6e[i][_68[j]]=(_70==="")?"":Number(_70);}}else{for(var j=0;j<_6c.length;j++){_6e[i][_68[j]]=_64[_6c[j]+_6b.sortIndexArr[i]]||"";}}}}if(_6e.length==1){if(!_6b.sortFuncArr[0]){var _71=_6b.sortOrderArr[0];var _72=_6e[0];if(_6b.ignoreEmptyStringOnSort){_68.sort(function(lhs,rhs){if(_72[lhs]===_72[rhs]){return 0;}else{if(_72[lhs]===""){return 1;}else{if(_72[rhs]===""){return -1;}else{if(_72[lhs]>_72[rhs]){return _71;}else{return -(_71);}}}}});}else{if(_6b.setEmptyStringFirstOnSort){_68.sort(function(lhs,rhs){if(_72[lhs]==_72[rhs]){if(_72[lhs]===0&&_72[rhs]===""){return _71;}else{if(_72[lhs]===""&&_72[rhs]===0){return -(_71);}}return 0;}else{if(_72[lhs]===""){return -(_71);}else{if(_72[rhs]===""){return _71;}else{if(_72[lhs]>_72[rhs]){return _71;}else{return -(_71);}}}}});}else{_68.sort(function(lhs,rhs){if(_72[lhs]==_72[rhs]){return 0;}else{if(_72[lhs]>_72[rhs]){return _71;}else{return -(_71);}}});}}}else{var _79=_6b.sortFuncArr[0];var _72=_6e[0];_68.sort(function(lhs,rhs){return _79(_72[lhs],_72[rhs]);});}}else{_68.sort(function(lhs,rhs){for(var i=0;i<_6e.length;i++){var _7f;if(!_6b.sortFuncArr[i]){if(_6e[i][lhs]==_6e[i][rhs]){_7f=0;}else{if(_6e[i][lhs]<_6e[i][rhs]){_7f=-(_6b.sortOrderArr[i]);}else{_7f=_6b.sortOrderArr[i];}}}else{_7f=_6b.sortFuncArr[i](_6e[i][lhs],_6e[i][rhs]);}if(_7f!=0){return _7f;}}return 0;});}return _68;};$W.funcFilter=function(id,_81){$W.filter.call(this,id);this.options=$W.extend({colIndex:-1,key:"",condition:"and"},_81||{});};$W.extend($W.funcFilter.prototype,$W.filter.prototype);$W.funcFilter.prototype.execute=function(_82,_83,_84,_85){if(typeof this.options.key!=="function"){throw new Error("This key is not a Function.[key:"+this.options.key+"]");}var _86=[];for(var i=0;i<_85.length;i++){var row=_85[i];if(this.options.key(_82[row*_84+this.options.colIndex],this.options.param,row)){_86.push(row);}}return _86;};$W.regExpFilter=function(id,_8a){$W.filter.call(this,id);this.options=$W.extend({colIndex:-1,key:"",condition:"and"},_8a||{});this.regExp=this.options.key;};$W.extend($W.regExpFilter.prototype,$W.filter.prototype);$W.regExpFilter.prototype.execute=function(_8b,_8c,_8d,_8e){if(!$W._G.isRegExp(this.regExp)){throw new Error("This key is not a regular expression.[key:"+this.regExp+"]");}var _8f=[];for(var i=0;i<_8e.length;i++){var row=_8e[i];var _92=_8b[row*_8d+this.options.colIndex]+"";if(_92==null){_92="";}if(_92.match(this.regExp)){_8f.push(row);}}return _8f;};;WebSquare.uiplugin.filterController=$W._a.ap;requires("uiplugin/dataList/dataController.js");requires("uiplugin/dataList/statusController.js");requires("uiplugin/dataList/filterController.js");requires("uiplugin/dataList/dataListCellController.js");requires("uiplugin/dataList/dataListApiController.js");$W._j.dataList=function(id,_2,_3,_4,_5){["WebSquare.DataCollection.dataList"];try{this.initialize(id,_2,_3,_4,_5);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.extend($W._j.dataList.prototype,$W._j.dataController.prototype);$W.extend($W._j.dataList.prototype,$W._j.statusController.prototype);$W.extend($W._j.dataList.prototype,$W._j.filterController.prototype);$W.extend($W._j.dataList.prototype,$W._j.dataListCellController.prototype);$W.extend($W._j.dataList.prototype,$W._j.dataListApiController.prototype);$W._j.dataList.prototype.defaultOptions={useConfig:true,pluginType:"DataCollection.dataList",pluginName:"dataList",userEvents:["onbeforerowpositionchange","onrowpositionchange","oncelldatachange","onbeforecelldatachange","oninsertrow","onremoverow","ondataload","onmodelchange","onbeforecolumnchange","oncolumnchange","onbeforecolumnfilterchange","onaftercolumnfilterchange"],baseNode:"list",repeatNode:"map",valueNode:"",valueAttribute:"",idAttribute:"",rowStatusNodeName:"rowStatus",importFormatter:"",JSONPath:"",rowNumData:false,saveRemovedData:true,removeDummyRowStatus:false,removedDataMatch:false};$W._j.dataList.prototype.initialize=function(id,_7,_8,_9,_a){["WebSquare.DataCollection.dataList.prototype.initialize"];try{this.elementType=_8.elementType?_8.elementType:"XML";this.initializeType=_9||"dataList";this.id=id;this.uuid=$W.UUIDPrefix+"_"+$W.UUID++;this.element=_8;this.options=this.getConfiguredOptions();this._broadCastFlag=true;if(_8){switch(this.elementType){case "XML":this.options=$W.extendKeepingType(this.options,$W.WebSquareparser.parseAttribute(_8));if(this.initializeType=="dataList"){this.options.xmlEvents=$W.WebSquareparser.parseEvent(_8);}break;case "JSON":this.options=$W.extendKeepingType(this.options,_8.option);this.options.id=_8.id;break;}}if(_7){this.options=$W.extendKeepingType(this.options,_7);}if(!this.id){this.id=this.options.id;}if($W.idCache[_a]&&$W.idCache[_a].options.scope){var _b=this.id;var _c=$W.idCache[_a]?$W.idCache[_a].id:"";var id=(_c?_c+"_":"")+this.id;this.id=id;this.org_id=_b;this.scope_obj=$W.idCache[_a];this.scope_obj.scope[this.org_id]=this;}this.options.id=this.id;if(_8){var _d="dataList";var _e=$W.WebSquareDocument.componentsCache;var _f=_e[_d];if(!_f){_f=_e[_d]=[];}_f.push(this.uuid);}if(!this.id){this.options.id=this.id=this.uuid;}else{if(window[$W.noConflict].data[this.id]!=null||window[$W.noConflict].comp[this.id]!=null){var _10=$W._m.getMessage("E_dc_duplicated_Msg",this.id,"dataList")||"id["+this.id+"] \uac00 \uc911\ubcf5\uc0ac\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uae30\uc874\uc5d0 \uc788\ub358 dataList\ub97c \uc0ad\uc81c\ud558\uace0 \uc0c8\ub85c \uc0dd\uc131\ud569\ub2c8\ub2e4.";$W.logger.printLog(_10);var _11=$W._j["stopBroadCast"];try{$W._j["stopBroadCast"]=true;$W._j.api.remove(this.id);$W._j["stopBroadCast"]=_11;}catch(e){_11=$W._j["stopBroadCast"];}}}$W.idCache[this.uuid]=this;$W.idToUUID[this.id]=this.uuid;if(this.initializeType=="dataList"){window[$W.noConflict].data[this.id]=this;if($W._N.getConfiguration("/WebSquare/globalExposure/@value").toLowerCase()!="false"){window[this.id]=this;}}this.event=new $W.eventControl();this.initializeDataList(_8);this.bindAsEventList=[];this.bindAsUserEventList=[];this.userEventList=[];this.systemEventList={};if(this.initializeType=="dataList"&&this.options.xmlEvents){this.options.xmlEvents=this.event.addUserEvents(this,this.options.xmlEvents,this.options.userEvents);if(this.options.xmlEvents.length>0){this.event.addEvents(this,this.options.xmlEvents);}}if(_a!=undefined&&$W.idCache[_a]){this.parentFrame=_a;$W.idCache[_a].childAllControlList.push(this.uuid);}$W._c.fireEvent(this,"onload",null);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataList.prototype.initializeDataList=function(_12){["WebSquare.DataCollection.dataList.prototype.initializeDataList"];try{this.childCompHash={};this.refCompHash={};this.activated=false;switch(this.initializeType){case "dataList":if(this.options.attributeMap){if(!$W._j.attributeMapInfo[this.options.attributeMap]){$W._j.attributeMapInfo[this.options.attributeMap]=[];}$W._j.attributeMapInfo[this.options.attributeMap].push(this.id);this.syncWithAttributeMap();}}this.filterManager=new $W._j.filterController(this);if(this.initializeType=="dataList"){if(this.elementType=="JSON"){this.removeManager=new $W._j.dataList(this.id+"??removeManager",this.options,this.element,"removeManager");}else{this.removeManager=new $W._j.dataList(this.id+"??removeManager",this.options,this.element.cloneNode(true),"removeManager");}}else{var _13=this.id.split("??");this.parent=$W._G.getComponentById(_13[0]);}this.columnPosition=null;this.rowPosition=null;this.dataArr=[];this.originalDataArr=[];this.filteredRowIndexArr=[];this.filteredRowIndexMap={};this.oneRowDataLength=0;this.bodyIdColIndexMap={};this.cellInfoHash={};this.cellIdList=[];this.rowStatusArr=[];this.ignoreStatusColArr=[];this.structure=this.getStructure();if(this.options.valueAttribute.wq_trim()=="$none"){this.options.valueAttribute="";}var _14=this.options.valueNode==""?this.options.valueAttribute:this.options.valueNode;_14=this.options.valueAttribute==""?this.options.valueNode:this.options.valueAttribute;this.options.valueNode=_14;this.options.valueAttribute=_14;var _15=0;var _16=this.structure.rowArr;for(var i=0;i<_16.length;i++){this.oneRowDataLength+=_16[i].length;for(var j=0;j<_16[i].length;j++){var _19=_16[i][j];if(this.elementType=="JSON"){_19["@xml"]=_19;}var _1a=new $W._j.dataListCellInfo(_19["@xml"],this,_15);this.cellIdList.push(_19.id);this.bodyIdColIndexMap[_1a.id]=_15;this.cellInfoHash[_1a.id]=_1a;_15++;}}if(this.initializeType=="dataList"){$W._j.api.addChild(this);this.synchronize();this.synchronizeRef();if(this.elementType=="XML"){var _1b=$W._B.getElementsByTagName(_12,"data",$W._N._XML_NAMESPACE.W2)[0];if(_1b){this.useData=$W._G.getBoolean(_1b.getAttribute("use"));if(this.useData){this.allowTextNode=true;var _1c=$W._B.getElementsByTagName(_1b,"row",$W._N._XML_NAMESPACE.W2);var _1d=$W._j["stopBroadCast"];$W._j["stopBroadCast"]=true;for(var i=0;i<_1c.length;i++){this.setRowXML(i,_1c[i]);}$W._j["stopBroadCast"]=_1d;this.broadcast({"linkedDataList":["notifyDataChanged"],"gridView":["notifySettedGridData"],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"generalComp":"both"});this.originalDataArr=this.dataArr.slice(0);this.modifyAllStatus("R");this.allowTextNode=false;}}}else{if(this.elementType=="JSON"){this.useData=$W._G.getBoolean(this.element.option.useData);if(this.useData&&this.element.data){this.setJSON(this.element.data);this.modifyAllStatus("R");}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataList.prototype.finalize=function(){["WebSquare.DataCollection.dataList.prototype.finalize"];try{this.removeAll({"skipSavingRemovedData":"true"});for(var _1e in this.childCompHash){var _1f=this.childCompHash[_1e];if(_1f){if(_1f.constructor==$W._j.linkedDataList||_1f.constructor==$W._j.dataMap||_1f.constructor==$W._j.dataList){if(!$W._j["stopBroadCast"]){_1f.refresh();}$W._j.api.remove(_1e);}else{_1f.successBinding=false;}}else{delete this.childCompHash[_1e];}}this.activated=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataList.prototype.activate=function(){["WebSquare.DataCollection.dataList.prototype.activate"];try{if(!this.activated){for(var opt in this.options){if(opt.slice(0,3)=="ev:"){var _21=this.options[opt].split(",");for(var j=0;j<_21.length;j++){this.bind(opt.slice(3),_21[j]);}}}if(this.options.eventPause){this.setEventPause(this.options.eventPause,true);}}this.activated=true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataList.prototype.addEvent=function(_23,_24,_25){["WebSquare.dataList.addEvent"];try{_25=_25||"script";var _26={name:_23,action:_25,param:{handler:_24}};if(!this.options.xmlEvents){this.options.xmlEvents=[];}this.options.xmlEvents.push(_26);this.event.addUserEvents(this,[_26],this.options.userEvents);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataList.prototype.bind=function(_27,_28){["WebSquare.dataList.bind"];try{if(typeof _27==="string"&&(_27.slice(0,2)!="on")){_27="on"+_27;}if(_27==="string"){_27=_27.toLowerCase();}this.addEvent(_27,_28);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataList.prototype.trigger=function(_29,_2a){["WebSquare.dataList.trigger"];try{if(typeof _29==="string"&&(_29.slice(0,2)!="on")){_29="on"+_29;}var _2b=false;if(this.options.userEvents!=undefined){for(var i=0;i<this.options.userEvents.length;i++){if(this.options.userEvents[i]===_29){_2b=true;break;}}}if(!_2b&&$W._c.isEventSupported(this.render,_29)){if(_2a&&extraParamteres.constructor==Array){$W._c.fireSystemEvent(this,_29,_2a[0]);}else{$W._c.fireSystemEvent(this,_29);}}else{var _2d=[this,_29];_2d=_2d.concat(_2a);$W._c.fireEvent.apply($W._c.fireEvent,_2d);_2d[0]=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataList.prototype.unbind=function(_2e,_2f){["WebSquare.dataList.unbind"];try{if(typeof _2e==="string"&&(_2e.slice(0,2)!="on")){_2e="on"+_2e;}if(typeof _2e==="string"&&typeof _2f==="function"){for(var i=0;i<this.userEventList.length;i++){if(_2e===this.userEventList[i].name&&_2f===this.userEventList[i].param.handler){this.userEventList.splice(i,1);if(typeof this.systemEventList[_2e]==="object"){this.systemEventList[_2e].count--;if(this.systemEventList[_2e].count<=0){this.event.removeListener(this.render,_2e,this.systemEventList[_2e].handler);delete this.systemEventList[_2e];}}}}}else{if(typeof _2e==="string"&&_2f==undefined){for(var i=this.userEventList.length-1;i>=0;i--){if(_2e===this.userEventList[i].name){this.userEventList.splice(i,1);}}if(typeof this.systemEventList[_2e]==="object"){this.event.removeListener(this.render,_2e,this.systemEventList[_2e].handler);delete this.systemEventList[_2e];}}else{for(var ev in this.systemEventList){this.event.removeListener(this.render,ev,this.systemEventList[ev].handler);}this.userEventList=[];this.systemEventList={};}}this.options.xmlEvents=this.userEventList.slice();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataList.prototype.onComplete=function(){if(this.completed){$l("!!!WARNING!!! duplicate call 'onComplete' for : "+this.id);return;}this.completed=true;};$W._j.dataList.prototype.setEventPause=function(_32,_33){var _34={};var _35=false;if(typeof _32=="string"&&_32!=""){var _36=_32.split(",");for(var i=0;i<_36.length;i++){if(_36[i]){_34[_36[i]]=true;}}}else{_35=true;}for(var i=this.userEventList.length-1;i>=0;i--){if(_35||_34[this.userEventList[i].name]){this.userEventList[i].disabled=_33;}}};;WebSquare.uiplugin.dataList=$W._a.as;$W._j.dataMapApiController=function(){["WebSquare.DataCollection.dataMapApiController"];};$W._j.dataMapApiController.prototype.getBroadcast=function(){return (this._broadCastFlag!==false);};$W._j.dataMapApiController.prototype.setBroadcast=function(_1){if(_1===false){this._broadCastFlag=_1;}else{this._broadCastFlag=true;}};$W._j.dataMapApiController.prototype.broadcast=function(_2){["WebSquare.DataCollection.dataMapApiController.prototype.broadcast"];try{if($W._j["stopBroadCast"]||!this.getBroadcast()){return;}for(var id in this.childCompHash){var _4=this.childCompHash[id];if(_4!=null&&$W.idCache[_4.uuid]&&(typeof _4.render=="undefined"||_4.render!=null)){if(_4.activeStatus=="stop"&&typeof _4.preActivate=="function"){_4.preActivate();}switch(_4.initializeType){case "linkedDataList":if(_2.linkedDataList){_4[_2.linkedDataList[0]](_2.linkedDataList[1]);break;}default:if(_2.generalComp=="refreshItemset"||_2.generalComp=="both"){if(_4.modelControl.useItemset){_4.refreshItemset();}}else{if(_2.generalComp=="rollback"){_4["rollback"]();}}break;}}}for(var id in this.refCompHash){var _4=this.refCompHash[id];if(_4!=null&&$W.idCache[_4.uuid]){if(_2.key&&_4.modelControl&&_4.modelControl.dataCollectionRefInfo&&_4.modelControl.dataCollectionRefInfo.key!=_2.key){continue;}if(_4.activeStatus=="stop"&&typeof _4.preActivate=="function"){_4.preActivate();}switch(_4.initializeType){case "linkedDataList":if(_2.linkedDataList){_4.refresh();break;}default:if(_2.generalComp=="refresh"||_2.generalComp=="both"){if(_4.modelControl.useRef){_4.refresh();}}else{if(_2.generalComp=="binding"){_4["modelControl"]["binding"]();}}break;}}}if($W._j.attributeMapInfo[this.id]){for(var i=0;i<$W._j.attributeMapInfo[this.id].length;i++){var _6=$W._j.attributeMapInfo[this.id][i];var _7=$W._G.getComponentById(_6);_7.syncWithAttributeMap();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.synchronize=function(){["WebSquare.DataCollection.dataMapApiController.prototype.synchronize"];try{var _8=$W._j.parentToChildRelation[this.id];if(_8){for(var _9 in _8){if(_8[_9]){this.childCompHash[_9]=$W._G.getComponentById(_9);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.synchronizeRef=function(){["WebSquare.DataCollection.dataMapApiController.prototype.synchronizeRef"];try{var _a=$W._j.parentToChildRef[this.id];if(_a){for(var _b in _a){if(_a[_b]){this.refCompHash[_b]=$W._G.getComponentById(_b);}}}this.broadcast({"generalComp":["binding"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype._addRelation=function(_c){["WebSquare.DataCollection.dataMapApiController.prototype._addRelation"];try{if(!this.childCompHash){return;}var _d=$W._G.getComponentById(_c);if(!_d){return;}this.childCompHash[_c]=_d;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype._addRefRelation=function(_e){["WebSquare.DataCollection.dataMapApiController.prototype._addRefRelation"];try{if(!this.refCompHash){return;}var _f=$W._G.getComponentById(_e);if(!_f){return;}this.refCompHash[_e]=_f;if(_f.activeStatus=="stop"&&typeof _f.preActivate=="function"){_f.preActivate();}_f["modelControl"]["binding"]();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.addChild=function(_10){["WebSquare.DataCollection.dataMapApiController.prototype.addChild"];try{this.childCompHash[_10.id]=_10;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.removeChild=function(_11){["WebSquare.DataCollection.dataMapApiController.prototype.removeChild"];try{delete this.childCompHash[_11];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.addRefComp=function(_12){["WebSquare.DataCollection.dataMapApiController.prototype.addRefComp"];try{this.refCompHash[_12.id]=_12;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.removeRefComp=function(_13){["WebSquare.DataCollection.dataMapApiController.prototype.removeRefComp"];try{delete this.refCompHash[_13];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.syncWithAttributeMap=function(key,_15){["WebSquare.DataCollection.dataMapApiController.prototype.syncWithAttributeMap"];try{if(this.options.attributeMap&&this.options.attributeMap!=this.id){var _16=$W._G.getComponentById(this.options.attributeMap);if(_16){var _17=_16.getCount();for(var i=0;i<_17;i++){var key=_16.getKey(i);var _15=_16.get(i);this.options[key]=_15;}}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataMapApiController.prototype.hasKey=function(key){["WebSquare.DataCollection.dataMapApiController.prototype.hasKey"];try{key=this.getKey(key);return this._dataList.hasColumn(key);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getID=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getID"];try{return this.id;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataMapApiController.prototype.getOption=function(key){["WebSquare.DataCollection.dataMapApiController.prototype.getOption"];try{var _1b=key in this.options;var _1c=this.options.attributeMap;if(_1b){return this.options[key];}else{if(_1c){var _1d=$W._G.getComponentById(_1c);if(_1d.hasKey(key)){return _1d.get(key);}}}return;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataMapApiController.prototype.setOption=function(key,_1f){["WebSquare.DataCollection.dataMapApiController.prototype.setOption"];try{if(typeof _1f=="string"&&_1f.wq_trim()=="$none"){_1f="";}var _20={"bind":true,"id":true,"pluginName":true,"pluginType":true};if(key in this.options){this.options[key]=_1f;if(this._dataList&&this._dataList.options&&!_20[key]){this._dataList.options[key]=_1f;}}var _21=this.options.attributeMap;if(_21){var _22=$W._G.getComponentById(_21);if(_22.hasKey(key)){_22.set(key,_1f);}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataMapApiController.prototype.getKey=function(_23){["WebSquare.DataCollection.dataMapApiController.prototype.getKey"];try{return this._dataList.getColumnID(_23);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getIndex=function(key){["WebSquare.DataCollection.dataMapApiController.prototype.getKey"];try{return this._dataList.getColumnIndex(key);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getCount=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getCount"];try{return this._dataList.getTotalCol();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.get=function(key){["WebSquare.DataCollection.dataMapApiController.prototype.get"];try{key=this.getKey(key);return this._dataList.getCellData(0,key);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getOriginal=function(key){["WebSquare.DataCollection.dataMapApiController.prototype.getOriginal"];try{var _27;key=this.getKey(key);if(key){_27=this._dataList.getOriginalCellData(0,key);}return _27;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getArray=function(_28){["WebSquare.DataCollection.dataMapApiController.prototype.getArray"];try{return this._dataList.getRowData(0,_28);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getXML=function(_29){["WebSquare.DataCollection.dataMapApiController.prototype.getXML"];try{_29=_29||{};var ret=this._dataList.getRowXML(0,_29);if(_29.id){if(ret.documentElement!=undefined){ret.documentElement.setAttribute("id",_29.id);}else{ret.setAttribute("id",_29.id);}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getJSON=function(_2b){["WebSquare.DataCollection.dataMapApiController.prototype.getJSON"];try{return this._dataList.getRowJSON(0,_2b);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getType=function(key){["WebSquare.DataCollection.dataMapApiController.prototype.getType"];try{key=this.getKey(key);var _2d=this._dataList.getCellInfo(key);if(_2d){return _2d.options?_2d.options.dataType:"";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getDefaultValue=function(key){["WebSquare.DataCollection.dataMapApiController.prototype.getDefaultValue"];try{key=this.getKey(key);var _2f=this._dataList.getCellInfo(key);if(_2f){return _2f.options?_2f.options.defaultValue:"";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getName=function(key){["WebSquare.DataCollection.dataMapApiController.prototype.getName"];try{key=this.getKey(key);var _31=this._dataList.getCellInfo(key);if(_31){return _31.name?_31.name:"";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getInitializeType=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getInitializeType"];try{return this.getObjectType();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.set=function(key,_33){["WebSquare.DataCollection.dataMapApiController.prototype.set"];try{key=this.getKey(key);if(key!=null&&key!=undefined){var _34=this._dataList.getCellData(0,key);if(_34!==_33){this._dataList.setCellData(0,key,_33);if(!this.firstSetting[key]&&this.options.firstSet){this.setOriginal(key,_34);}else{this.setOriginal(key,_33);}$W._c.fireEvent(this,"onmodelchange",{"key":key,"oldValue":_34,"newValue":_33});}this.broadcast({"key":key,"linkedDataList":["refresh"],"generalComp":"both"});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.setArray=function(_35,_36){["WebSquare.DataCollection.dataMapApiController.prototype.setArray"];try{this._dataList.setRowData(0,_35,true,_36,this.options.keepValue);for(var i=0;i<this.getCount();i++){this.setOriginal(i,this.get(i));}this.broadcast({"linkedDataList":["refresh"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.setXML=function(xml,_39,_3a){["WebSquare.DataCollection.dataMapApiController.prototype.setXML"];try{_39=_39===false?false:true;this._dataList.setRowXML(0,xml,_39,_3a,this.options.keepValue);if(this.options.firstSetSubmission){this.firstSetting={};}for(var i=0;i<this.getCount();i++){this.setOriginal(i,this.get(i));}$W._c.fireEvent(this,"onsetdata");this.broadcast({"linkedDataList":["refresh"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.setJSON=function(_3c,_3d,_3e){["WebSquare.DataCollection.dataMapApiController.prototype.setJSON"];try{this._dataList.setRowJSON(0,_3c,true,_3e,this.options.keepValue);var cnt=this.getCount();if(this.options.firstSetSubmission){this.firstSetting={};}for(var i=0;i<cnt;i++){this.setOriginal(i,this.get(i));}$W._c.fireEvent(this,"onsetdata");this.broadcast({"linkedDataList":["refresh"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.setOriginal=function(key,_42){["WebSquare.DataCollection.dataMapApiController.prototype.setOriginal"];try{key=this.getKey(key);if(!this.firstSetting[key]){this._dataList.setOriginalCellData(0,key,_42);this.firstSetting[key]=true;}if(this.firstSetting[key]&&key){this.statusHash[key]=(this.getOriginal(key)==this.get(key))?true:false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.addColumn=function(_43){["WebSquare.DataCollection.dataMapApiController.prototype.addColumn"];try{var _44=this.getCount();var _45=this._dataList.elementType;this._dataList.elementType="JSON";var _46=new $W._j.dataListCellInfo(_43,this._dataList,_44);this._dataList.elementType=_45;this._dataList.cellIdList.push(_43.id);this._dataList.bodyIdColIndexMap[_46.id]=_44;this._dataList.cellInfoHash[_46.id]=_46;this._dataList.oneRowDataLength=++_44;var _47=_46.options.defaultValue||"";if(_47!=""){this.firstSetting[_46.options.id]=true;this.statusHash[_46.options.id]=true;}this._dataList.dataArr.push(_47);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.reform=function(){["WebSquare.DataCollection.dataMapApiController.prototype.reform"];try{this._dataList.reform();for(var key in this.statusHash){this.statusHash[key]=true;}this.broadcast({"linkedDataList":["refresh"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.undo=function(){["WebSquare.DataCollection.dataMapApiController.prototype.undo"];try{var _49=this.getCount();for(var i=0;i<_49;i++){var key=this.getKey(i);var _4c=this.getOriginal(key);this.set(key,_4c);}this.broadcast({"linkedDataList":["refresh"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getConfiguredOptions=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getConfiguredOptions"];try{var _4d=this.defaultOptions.pluginName;var _4e,values;var ret={};this.configuredOptions={};if(!this.configuredOptions[_4d]){var _50=$W.extendKeepingType({id:"",pluginType:"xfControl",pluginName:"",userEvents:[],xmlEvents:null,value:"",model:"",bind:"",style:"",useConfig:false},this.defaultOptions);if(_50.useConfig||$W._G.getBoolean($W._N.getConfiguration("/WebSquare/DataCollection"+_4d+"/useConfig/@value"))){var _51=$W.configManager.getConfig(_4d);_50=$W.extendKeepingType(_50,_51);}_4e=[];values=[];for(var key in _50){_4e.push(key);values.push(_50[key]);}this.configuredOptions[_4d]={keys:_4e,values:values};}else{_4e=this.configuredOptions[_4d].keys;values=this.configuredOptions[_4d].values;}for(var i=0;i<_4e.length;i++){ret[_4e[i]]=values[i];}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getModifiedKey=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getModifiedKey"];try{var _54=[];for(var k in this.statusHash){if(!this.statusHash[k]){_54.push(k);}}return _54;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getModifiedIndex=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getModifiedIndex"];try{var _56=[];var _57=[];_57=this.getModifiedKey();for(var i=0;i<_57.length;i++){_56.push(this.getIndex(_57[i]));}return _56;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getModifiedData=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getModifiedData"];try{var _59=[];var _5a=this.getModifiedIndex();for(var i=0;i<_5a.length;i++){_59.push(this.get(_5a[i]));}return _59;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getModifiedXML=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getModifiedXML"];try{var _5c=this.getModifiedKey();var obfuscator_index=-1;var _5d=function(_5e){obfuscator_index++;var _5f=_5e[obfuscator_index];var str="<"+_5f+">";if(obfuscator_index<_5e.length-1){str+=_5d(_5e);}str+="</"+_5f+">";return str;};var _61=this.getOption("baseNode").split();var _62=_5d(_61);var _63=$W._B.parse(_62).documentElement;for(var i=0;i<_5c.length;i++){var _65=$W._B.parse("<"+_5c[i]+"></"+_5c[i]+">").documentElement;if(this.getOption("valueAttribute")){_65.setAttribute(this.getOption("valueAttribute"),this.get(_5c[i]));}else{_65.appendChild(document.createTextNode(this.get(_5c[i])));}_63.appendChild(_65);}return _63;}catch(e){$W.exception.printStackTrace(e);}};$W._j.dataMapApiController.prototype.getModifiedJSON=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getModifiedData"];try{var _66={};var _67=this.getModifiedIndex();for(var i=0;i<_67.length;i++){var _69=this.getKey(_67[i]);_66[_69]=this.get(_67[i]);}return _66;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getModifiedArray=function(){["WebSquare.DataCollection.dataMapApiController.prototype.getModifiedArray"];try{var _6a={};_6a["key"]=this.getModifiedKey();_6a["value"]=this.getModifiedData();return _6a;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getObjectType=function(){["WebSquare.DataCollection.dataMapApiController.getObjectType"];try{var _6b=this.initializeType;if(_6b=="dataMap"){return _6b;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.reset=function(){["WebSquare.DataCollection.dataMapApiController.reset"];try{if(this.initializeType=="dataMap"){this.statusHash={};this.firstSetting={};this._dataList.removeAll();if(this.elementType=="XML"){var _6c=$W._B.getElementsByTagName(this.element,"data",$W._N._XML_NAMESPACE.W2)[0];if(_6c){if(this.useData){this._dataList.allowTextNode=true;this.setXML(_6c,false);this._dataList.allowTextNode=false;}else{this._dataList.allowTextNode=true;this.setEmpty();this._dataList.allowTextNode=false;}}else{this._dataList.allowTextNode=true;this.setEmpty();this._dataList.allowTextNode=false;}}else{if(this.elementType=="JSON"){if(this.useData&&this.element.data){this.setJSON(this.element.data);}}}if(this._dataList.getRowCount()==0){this._dataList.insertRow(0);var _6d=this.getCount();for(var i=0;i<_6d;i++){var _6f=this._dataList.getCellInfo(i);var _70=_6f.options.defaultValue;if(_70!=""){this.firstSetting[_6f.options.id]=true;this.statusHash[_6f.options.id]=true;}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.setEmpty=function(){["WebSquare.DataCollection.dataMapApiController.setEmpty"];try{if(this._dataList.getRowCount()==0){this._dataList.insertRow(0);}var _71=this.getCount();for(i=0;i<_71;i++){var key=this.getKey(i);var _73=this._dataList.getCellInfo(i);var _74=_73.options.defaultValue;this.set(key,_74);this.setOriginal(key,_74);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getKeyInfo=function(key,_76){["WebSquare.DataCollection.dataMapApiController.getInfo"];try{return this._dataList.getColumnInfo(key,_76);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMapApiController.prototype.getInfo=function(_77,_78){["WebSquare.DataCollection.dataMapApiController.getInfo"];try{return this._dataList.getInfo(_77,_78);}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.dataMapApiController=$W._a._G;requires("uiplugin/dataList/dataList.js");requires("uiplugin/dataMap/dataMapApiController.js");$W._j.dataMap=function(id,_2,_3,_4,_5){["WebSquare.DataCollection.dataMap"];try{this.initialize(id,_2,_3,_4,_5);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.extend($W._j.dataMap.prototype,$W._j.dataMapApiController.prototype);$W._j.dataMap.prototype.defaultOptions={useConfig:true,pluginType:"DataCollection.dataMap",pluginName:"dataMap",userEvents:["onmodelchange","onvalidatekey","onsetdata"],baseNode:"map",repeatNode:"",valueNode:"",valueAttribute:"",idAttribute:"",JSONPath:"",firstSet:false,firstSetSubmission:false,keepValue:false};$W._j.dataMap.prototype.initialize=function(id,_7,_8,_9,_a){["WebSquare.DataCollection.dataMap.prototype.initialize"];try{this.elementType=_8.elementType?_8.elementType:"XML";this.initializeType="dataMap";this.id=id;this.uuid=$W.UUIDPrefix+"_"+$W.UUID++;this.element=_8;this.options=this.getConfiguredOptions();this._broadCastFlag=true;if(_8){switch(this.elementType){case "XML":this.options=$W.extendKeepingType(this.options,$W.WebSquareparser.parseAttribute(_8));this.options.xmlEvents=$W.WebSquareparser.parseEvent(_8);break;case "JSON":this.options=$W.extendKeepingType(this.options,_8.option);this.options.id=_8.id;break;}}if(_7){this.options=$W.extendKeepingType(this.options,_7);}if(!this.id){this.id=this.options.id;}if($W.idCache[_a]&&$W.idCache[_a].options.scope){var _b=this.id;var _c=$W.idCache[_a]?$W.idCache[_a].id:"";var id=(_c?_c+"_":"")+this.id;this.id=id;this.org_id=_b;this.scope_obj=$W.idCache[_a];this.scope_obj.scope[this.org_id]=this;}this.options.id=this.id;if(_8){var _d="dataMap";var _e=$W.WebSquareDocument.componentsCache;var _f=_e[_d];if(!_f){_f=_e[_d]=[];}_f.push(this.uuid);}if(!this.id){this.options.id=this.id=this.uuid;}else{if(window[$W.noConflict].data[this.id]!=null||window[$W.noConflict].comp[this.id]!=null){var _10=$W._m.getMessage("E_dc_duplicated_Msg",this.id,"dataMap")||"id["+this.id+"] \uac00 \uc911\ubcf5\uc0ac\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uae30\uc874\uc5d0 \uc788\ub358 dataMap\uc744 \uc0ad\uc81c\ud558\uace0 \uc0c8\ub85c \uc0dd\uc131\ud569\ub2c8\ub2e4.";$W.logger.printLog(_10);var _11=$W._j["stopBroadCast"];try{$W._j["stopBroadCast"]=true;$W._j.api.remove(this.id);$W._j["stopBroadCast"]=_11;}catch(e){_11=$W._j["stopBroadCast"];}}}$W.idCache[this.uuid]=this;$W.idToUUID[this.id]=this.uuid;window[$W.noConflict].data[this.id]=this;if($W._N.getConfiguration("/WebSquare/globalExposure/@value").toLowerCase()!="false"){window[this.id]=this;}this.event=new $W.eventControl();this.initializeDataMap(_8);this.bindAsEventList=[];this.bindAsUserEventList=[];this.userEventList=[];this.systemEventList={};if(this.options.xmlEvents){this.options.xmlEvents=this.event.addUserEvents(this,this.options.xmlEvents,this.options.userEvents);if(this.options.xmlEvents.length>0){this.event.addEvents(this,this.options.xmlEvents);}}if(_a!=undefined&&$W.idCache[_a]){this.parentFrame=_a;$W.idCache[_a].childAllControlList.push(this.uuid);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMap.prototype.initializeDataMap=function(_12){try{this.childCompHash={};this.refCompHash={};this.statusHash={};this.firstSetting={};this.activated=false;if(this.options.attributeMap){if(this.id!=this.options.attributeMap){if(!$W._j.attributeMapInfo[this.options.attributeMap]){$W._j.attributeMapInfo[this.options.attributeMap]=[];}$W._j.attributeMapInfo[this.options.attributeMap].push(this.id);this.syncWithAttributeMap();}}if(this.options.valueAttribute.wq_trim()=="$none"){this.options.valueAttribute="";}var _13=this.options.valueNode==""?this.options.valueAttribute:this.options.valueNode;_13=this.options.valueAttribute==""?this.options.valueNode:this.options.valueAttribute;this.options.valueNode=_13;this.options.valueAttribute=_13;this.options.repeatNode=this.options.baseNode;this.element=_12;if(this.elementType=="JSON"){_12.columnInfo=_12.keyInfo;}this._dataList=new $W._j.dataList(this.id+"??dataList",this.options,_12,"dataMap");if(this.initializeType=="dataMap"){$W._j.api.addChild(this);this.synchronize();this.synchronizeRef();if(this.elementType=="XML"){var _14=$W._B.getElementsByTagName(_12,"data",$W._N._XML_NAMESPACE.W2)[0];if(_14){this.useData=$W._G.getBoolean(_14.getAttribute("use"));if(this.useData){this._dataList.allowTextNode=true;this.setXML(_14,false);this._dataList.allowTextNode=false;}}}else{if(this.elementType=="JSON"){this.useData=this.element.option.useData;if(this.useData&&this.element.data){this.setJSON(this.element.data);}}}if(this._dataList.getRowCount()==0){this._dataList.insertRow(0);var _15=this.getCount();for(var i=0;i<_15;i++){var _17=this._dataList.getCellInfo(i);var _18=_17.options.defaultValue;if(_18!=""){this.firstSetting[_17.options.id]=true;this.statusHash[_17.options.id]=true;}}}}if($W._j.attributeMapInfo[this.id]){for(var i=0;i<$W._j.attributeMapInfo[this.id].length;i++){var _19=$W._j.attributeMapInfo[this.id][i];var _1a=$W._G.getComponentById(_19);_1a.syncWithAttributeMap();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMap.prototype.finalize=function(){["WebSquare.DataCollection.dataMap.prototype.finalize"];try{this.activated=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMap.prototype.activate=function(){["WebSquare.DataCollection.dataMap.prototype.activate"];try{if(!this.activated){for(var opt in this.options){if(opt.slice(0,3)=="ev:"){var _1c=this.options[opt].split(",");for(var j=0;j<_1c.length;j++){this.bind(opt.slice(3),_1c[j]);}}}if(this.options.eventPause){this.setEventPause(this.options.eventPause,true);}}this.activated=true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMap.prototype.addEvent=function(_1e,_1f,_20){["WebSquare.dataMap.addEvent"];try{_20=_20||"script";var _21={name:_1e,action:_20,param:{handler:_1f}};if(!this.options.xmlEvents){this.options.xmlEvents=[];}this.options.xmlEvents.push(_21);this.event.addUserEvents(this,[_21],this.options.userEvents);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMap.prototype.bind=function(_22,_23){["WebSquare.dataMap.bind"];try{if(typeof _22==="string"&&(_22.slice(0,2)!="on")){_22="on"+_22;}if(_22==="string"){_22=_22.toLowerCase();}this.addEvent(_22,_23);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMap.prototype.trigger=function(_24,_25){["WebSquare.dataMap.trigger"];try{if(typeof _24==="string"&&(_24.slice(0,2)!="on")){_24="on"+_24;}var _26=false;if(this.options.userEvents!=undefined){for(var i=0;i<this.options.userEvents.length;i++){if(this.options.userEvents[i]===_24){_26=true;break;}}}if(!_26&&$W._c.isEventSupported(this.render,_24)){if(_25&&extraParamteres.constructor==Array){$W._c.fireSystemEvent(this,_24,_25[0]);}else{$W._c.fireSystemEvent(this,_24);}}else{var _28=[this,_24];_28=_28.concat(_25);$W._c.fireEvent.apply($W._c.fireEvent,_28);_28[0]=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMap.prototype.unbind=function(_29,_2a){["WebSquare.dataMap.unbind"];try{if(typeof _29==="string"&&(_29.slice(0,2)!="on")){_29="on"+_29;}if(typeof _29==="string"&&typeof _2a==="function"){for(var i=0;i<this.userEventList.length;i++){if(_29===this.userEventList[i].name&&_2a===this.userEventList[i].param.handler){this.userEventList.splice(i,1);if(typeof this.systemEventList[_29]==="object"){this.systemEventList[_29].count--;if(this.systemEventList[_29].count<=0){this.event.removeListener(this.render,_29,this.systemEventList[_29].handler);delete this.systemEventList[_29];}}}}}else{if(typeof _29==="string"&&_2a==undefined){for(var i=this.userEventList.length-1;i>=0;i--){if(_29===this.userEventList[i].name){this.userEventList.splice(i,1);}}if(typeof this.systemEventList[_29]==="object"){this.event.removeListener(this.render,_29,this.systemEventList[_29].handler);delete this.systemEventList[_29];}}else{for(var ev in this.systemEventList){this.event.removeListener(this.render,ev,this.systemEventList[ev].handler);}this.userEventList=[];this.systemEventList={};}}this.options.xmlEvents=this.userEventList.slice();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.dataMap.prototype.onComplete=function(){if(this.completed){$l("!!!WARNING!!! duplicate call 'onComplete' for : "+this.id);return;}this.completed=true;};$W._j.dataMap.prototype.setEventPause=function(_2d,_2e){var _2f={};var _30=false;if(typeof _2d=="string"&&_2d!=""){var _31=_2d.split(",");for(var i=0;i<_31.length;i++){if(_31[i]){_2f[_31[i]]=true;}}}else{_30=true;}for(var i=this.userEventList.length-1;i>=0;i--){if(_30||_2f[this.userEventList[i].name]){this.userEventList[i].disabled=_2e;}}};;WebSquare.uiplugin.dataMap=$W._a.ab;$W._j.linkedFilterController=function(_1){this.parent=_1;this.filterArr=[];this.colArr=[];for(var i=0;i<this.parent._dataList.cellIdList.length;i++){var _3=this.parent._dataList.cellIdList[i];this.colArr[_3]=_3;}};$W._j.linkedFilterController.prototype.runFilter=function(_4){["WebSquare.DataCollection.linkedFilterController.prototype.runFilter"];try{this.evaluateFilterCondition(_4);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.runSort=function(_5){["WebSquare.DataCollection.linkedFilterController.prototype.runSort"];try{this.evaluateSortCondition(_5);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.evaluateFilterCondition=function(_6){["WebSquare.DataCollection.linkedFilterController.prototype.evaluateFilterCondition"];try{if(typeof _6!="string"||_6.trim()==""){this.parent.broadcast({"gridView":["notifySettedFilter",[{isSort:false}]]});return;}var _7;if(this.parent.conditionInfo.filterInfo.parse){_7=this.parent.conditionInfo.filterInfo.condition;}else{var _8=_6;_7="this.executeLinkedFilter({condition:'and'";if(_6!=""){_6=_6.trim();_6=_6.replaceAll("\"","'");_6=_6.replace(/[\s]*[=][=][\s]*/g,",operator:'E'");_6=_6.replace(/[\s]*[!][=][\s]*/g,",operator:'IE'");_6=_6.replace(/[\s]*[>][=][\s]*/g,",operator:'GTE'");_6=_6.replace(/[\s]*[<][=][\s]*/g,",operator:'LTE'");_6=_6.replace(/[\s]*[>][\s]*/g,",operator:'GT'");_6=_6.replace(/[\s]*[<][\s]*/g,",operator:'LT'");_6=_6.replace(/[\s]+[lL][iI][kK][eE][\s]+/g,",operator:'LIKE'");_6=_6.replace(/[cC][oO][lL][\s]*[(]/g,",colID:this.getColumnID(");_6=_6.replace(/[rR][oO][wW][sS][tT][aA][tT][uU][sS][\s]*[(][\s]*[)]/g,",colID:'@rowStatus'");_6=_6.replace(/[\s]*[&][&][\s]*/g," });this.executeLinkedFilter({condition:'and'");_6=_6.replace(/[\s]*[|][|][\s]*/g," });this.executeLinkedFilter({condition:'or'");_6=_6.replace(/[vV][aA][lL][\s]*[(]/g,",key:this.getComponentValue(");_6=_6.replace(/[rR][eE][fF][\s]*[(]/g,",key:this.getRefValue(");_6=_6.replaceAll("''","',key:'");}_7=_7+_6+"});";}try{eval(_7);this.parent.conditionInfo.filterInfo.parse=true;this.parent.conditionInfo.filterInfo.condition=_7;}catch(e){try{this.deprecatedEvaluateFilterCondition(_8);}catch(e){this.parent.conditionInfo.filterInfo.parse=false;$l(" filter error ");this.parent.broadcast({"gridView":["notifySettedFilter",[{"isSort":false}]]});}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.deprecatedEvaluateFilterCondition=function(_9){["WebSquare.DataCollection.linkedFilterController.prototype.deprecatedEvaluateFilterCondition"];var _a="this.executeLinkedFilter{ 'and', this.colArr['";if(_9!=""){_9=_9.trim();_9=_9.replace(/[vV][aA][lL][\s]*[(]/g,"this.getComponentValue{");_9=_9.replace(/[rR][eE][fF][\s]*[(]/g,"this.getRefValue{");_9=_9.replace(/[rR][oO][wW][sS][tT][aA][tT][uU][sS][\s]*[(][\s]*[)]/g,"@rowStatus");_9=_9.replace(/[\s]*[=][=][\s]*/g,"'], 'E', ");_9=_9.replace(/[\s]*[!][=][\s]*/g,"'], 'IE', ");_9=_9.replace(/[\s]*[>][=][\s]*/g,"'], 'GTE', ");_9=_9.replace(/[\s]*[<][=][\s]*/g,"'], 'LTE', ");_9=_9.replace(/[\s]*[>][\s]*/g,"'], 'GT', ");_9=_9.replace(/[\s]*[<][\s]*/g,"'], 'LT', ");_9=_9.replace(/[\s]+[lL][iI][kK][eE][\s]+/g,"'], 'LIKE', ");_9=_9.replace(/[\s]*[&][&][\s]*/g,"); this.executeLinkedFilter{ 'and', this.colArr['");_9=_9.replace(/[\s]*[|][|][\s]*/g,"); this.executeLinkedFilter{ 'or', this.colArr['");}_a=_a+_9+");";_a=_a.replace(/[\s]*[(][\s]*/g,"");_a=_a.wq_replaceAll("this.colArr['@rowStatus']","'@rowStatus'");var _b=_a.split(";");_a="";for(var i=0;i<_b.length;i++){if(_b[i]!=""){_b[i]=_b[i].replace(/[{][\s]*/g,"(");var _d=_b[i].match(/[(]/g).length;var _e=_b[i].match(/[)]/g).length;if(_d<=_e){_b[i]=_b[i].replace(/[)][\s]*/g,"");for(var j=0;j<_d;j++){if(j==_d-1){_b[i]=_b[i]+");";}else{_b[i]=_b[i]+")";}}}_a+=_b[i];}}eval(_a);this.parent.conditionInfo.filterInfo.parse=true;this.parent.conditionInfo.filterInfo.condition=_a;};$W._j.linkedFilterController.prototype.executeLinkedFilter=function(_10){["WebSquare.DataCollection.linkedFilterController.prototype.executeLinkedFilter"];try{var key;var _12;var _13;var _14;if(arguments.length>1){_14=arguments[0];_12=arguments[1];_13=arguments[2];key=arguments[3];}else{_14=_10.condition;_12=_10.colID;_13=_10.operator;key=_10.key;}var _15={};_15.type="row";_15.colIndex=_12;_15.condition=_14;switch(_13){case "GT":_15.operator=">";break;case "GTE":_15.operator=">=";break;case "LT":_15.operator="<";break;case "LTE":_15.operator="<=";break;case "E":_15.operator="==";break;case "IE":_15.operator="!=";break;case "LIKE":_15.operator="LIKE";break;}if(key==="*"||key===$W.allValue){_15.key="";}else{_15.key=key||"";_15.exactMatch=true;}this.parent.conditionInfo.keyArray.push(_15.key);this.parent.conditionInfo.columnArray.push(_15.colIndex);this.parent.setFilter(_15);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.evaluateSortCondition=function(str){["WebSquare.DataCollection.linkedFilterController.prototype.evaluateSortCondition"];try{if(typeof str!="string"||str.trim()==""){return;}var _17;if(this.parent.conditionInfo.sortInfo.parse){_17=this.parent.conditionInfo.sortInfo.condition;}else{_17="this.executeLinkedSort([";if(str!=""){str=str.trim();str=str.replace(/[aA][sS][cC][\s]*[(]/g,"{ order: 1, columns: ");str=str.replace(/[dD][eE][sS][cC][\s]*[(]/g,"{ order: -1, columns: ");str=str.replace(/[)]/g,"");str=str.replace("&&","}, ");str=str.replace("||","}, ");}_17=_17+str+"}]);";}try{eval(_17);this.parent.conditionInfo.sortInfo.parse=true;this.parent.conditionInfo.sortInfo.condition=_17;}catch(e){this.parent.conditionInfo.sortInfo.parse=false;$l(" sort error ");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.executeLinkedSort=function(_18){["WebSquare.DataCollection.linkedFilterController.prototype.executeLinkedSort"];try{var _19={sortIndex:[],sortOrder:[]};for(var _1a=0;_1a<_18.length;_1a++){var _1b=_18[_1a];var _1c=_1b.columns.split(",");for(var i=0;i<_1c.length;i++){_19.sortIndex.push(_1c[i].trim());_19.sortOrder.push(_1b.order);}}if(_19.sortIndex.length>0){this.parent.multisort(_19);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.getRefValue=function(uri){["WebSquare.DataCollection.linkedFilterController.prototype.getRefValue"];try{uri=uri.replace("data:","");uriArr=uri.split(".");var _1f=$W._G.getComponentById(uriArr[0]);if(_1f){if(!this.parent.conditionInfo.targetInfo[uriArr[0]]){this.parent.conditionInfo.targetInfo[uriArr[0]]=[];}this.parent.conditionInfo.targetInfo[uriArr[0]].push(uriArr[1]);_1f.addRefComp(this.parent);this.parent.conditionInfo.filterInfo.useRef=true;switch(_1f.initializeType){case "linkedDataList":case "dataList":return _1f.getCellData(_1f.getRowPosition(),uriArr[1])||"";case "dataMap":return _1f.get(uriArr[1]);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.getComponentValue=function(uri){["WebSquare.DataCollection.linkedFilterController.prototype.getComponentValue"];try{var _21=$W._G.getComponentById(uri);if(_21){this.parent.conditionInfo.targetInfo[uri]=true;_21.dataObjInfo[this.parent.id]=this.parent;return _21.getValue();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.getColumnID=function(_22){["WebSquare.DataCollection.linkedFilterController.prototype.getColumnID"];try{return _22;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.getKey=function(key){["WebSquare.DataCollection.linkedFilterController.prototype.getKey"];try{return key;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.useFilter=function(){if(this.filterArr.length!=0){return true;}return false;};$W._j.linkedFilterController.prototype.clear=function(){this.filterArr=[];};$W._j.linkedFilterController.prototype.executeAllFilter=function(){for(var i=0;i<this.filterArr.length;i++){this.executeFilter(this.filterArr[i]);}};$W._j.linkedFilterController.prototype.restartFilter=function(){this.parent.initialRowIndexArr=this.parent._dataList.filteredRowIndexArr.slice(0);this.parent.filteredRowIndexArr=this.parent._dataList.filteredRowIndexArr.slice(0);for(var i=0;i<this.parent.initialFilterList.length;i++){this.executeFilter(this.parent.initialFilterList[i]);this.deleteFilterById(this.parent.initialFilterList[i].id,false);}this.parent.initialRowIndexArr=this.parent.filteredRowIndexArr.slice(0);for(var i=0;i<this.filterArr.length;i++){this.executeFilter(this.filterArr[i]);}this.filterArr=this.parent.initialFilterList.concat(this.filterArr);};$W._j.linkedFilterController.prototype.executeFilter=function(_26){["WebSquare.DataCollection.linkedFilterController.prototype.executeFilter"];try{var _27=false;if(_26.options.operator==">"||_26.options.operator==">="||_26.options.operator=="<"||_26.options.operator=="<="||_26.options.operator=="!="||_26.options.operator=="LIKE"){_27=true;}if(_26.options.condition=="and"){this.parent.filteredRowIndexArr=_27?_26.executeCondition(this.parent.uuid,"and"):_26.execute(this.parent.uuid,"and");}else{if(_26.options.condition=="or"){var _28=_27?_26.executeCondition(this.parent.uuid,"or"):_26.execute(this.parent.uuid,"or");this.parent.filteredRowIndexArr=this.mergeArray(this.parent.filteredRowIndexArr,_28);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.addFilter=function(_29,_2a){["WebSquare.DataCollection.linkedFilterController.prototype.addFilter"];try{if(_2a.sortIndexArr){var _2b=[];for(var i=0;i<_2a.sortIdArr.length;i++){_2b.push(this.parent._dataList.getColumnIndex(_2a.sortIdArr[i]));}_2a.sortIndexArr=_2b;}var _2d=null;if(_2a.type=="row"){_2d=new $W.linkedRowFilter(_29,_2a);}else{if(_2a.type=="user"){_2d=new $W.linkedUserFilter(_29,_2a);}else{if(_2a.type=="cell"){_2d=new $W.linkedCellFilter(_29,_2a);}else{if(_2a.type=="sort"){_2d=new $W.linkedSortFilter(_29,_2a);this.deleteFilterById("sort^@",false);}else{if(_2a.type=="func"){_2d=new $W.linkedFuncFilter(_29,_2a);}else{if(_2a.type=="regExp"){_2d=new $W.linkedRegExpFilter(_29,_2a);}}}}}}this.executeFilter(_2d);this.filterArr.push(_2d);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedFilterController.prototype.deleteFilter=function(_2e,_2f,_30){if(typeof _30=="undefined"){_30=true;}var _31=[];for(var i=0;i<this.filterArr.length;i++){if(this.filterArr[i].id.indexOf(_2e)==-1){_31.push(this.filterArr[i]);}}this.filterArr=_31;this.parent.filteredRowIndexArr=this.parent.initialRowIndexArr.slice(0);if(_30==true){for(var i=0;i<this.filterArr.length;i++){this.executeFilter(this.filterArr[i]);}}};$W._j.linkedFilterController.prototype.mergeArray=function(_33,_34){var _35=[];var _36=[];for(var i=0;i<_33.length;i++){_35[_33[i]]=1;}for(var i=0;i<_34.length;i++){_35[_34[i]]=1;}for(var i=0;i<_35.length;i++){if(_35[i]===1){_36.push(i);}}return _36;};$W._j.linkedFilterController.prototype.deleteFilterById=function(_38,_39){if(typeof _39=="undefined"){_39=true;}var _3a=[];for(var i=0;i<this.filterArr.length;i++){if(this.filterArr[i].id.indexOf(_38)==-1){_3a.push(this.filterArr[i]);}}this.filterArr=_3a;};$W._j.linkedFilterController.prototype.replacechar=function(_3c){if(_3c=="^"||_3c=="$"||_3c=="."||_3c=="["||_3c=="]"||_3c=="{"||_3c=="}"||_3c=="+"||_3c=="("||_3c==")"||_3c=="|"){return "\\"+_3c;}else{if(_3c=="\\"){return "\\"+_3c;}}};$W.linkedRowFilter=function(id,_3e){this.id=id;this.options=$W.extend({colIndex:-1,key:"",condition:"and",exactMatch:false},_3e||{});};$W.linkedRowFilter.prototype.execute=function(_3f,_40){var _41=[];var _42=$W.idCache[_3f];var _43=_42._dataList.getColumnIndex(this.options.colIndex);var _44=_42._dataList.cellIdList.length;var _45=(_40==="and")?_42.filteredRowIndexArr:_42.initialRowIndexArr;for(var i=0;i<_45.length;i++){var _47=_45[i];var _48=this.options.colIndex=="@rowStatus"?_42._dataList.rowStatusArr[_47]:_42._dataList.dataArr[_47*_44+_43];if(_48==null){_48="";}if(this.options.exactMatch){if(_48==this.options.key){_41.push(_47);}}else{if(_48.indexOf(this.options.key)>-1){_41.push(_47);}}}return _41;};$W.linkedRowFilter.prototype.executeCondition=function(_49,_4a){var _4b=[];var _4c=$W.idCache[_49];var _4d=_4c._dataList.getColumnIndex(this.options.colIndex);var _4e=_4c._dataList.cellIdList.length;var _4f=(_4a==="and")?_4c.filteredRowIndexArr:_4c.initialRowIndexArr;for(var i=0;i<_4f.length;i++){var _51=_4f[i];var _52;var _53;if(this.options.columnDataType=="number"){_52=parseFloat(_4c._dataList.dataArr[_51*_4e+_4d],10)||0;_53=parseFloat(this.options.key);}else{_52=this.options.colIndex=="@rowStatus"?_4c._dataList.rowStatusArr[_51]:_4c._dataList.dataArr[_51*_4e+_4d];_53=this.options.key;}if(this.options.operator==">"){if(_52>_53){_4b.push(_51);}}else{if(this.options.operator==">="){if(_52>=_53){_4b.push(_51);}}else{if(this.options.operator=="<"){if(_52<_53){_4b.push(_51);}}else{if(this.options.operator=="<="){if(_52<=_53){_4b.push(_51);}}else{if(this.options.operator=="!="){if(_52!=_53){_4b.push(_51);}}else{if(this.options.operator=="LIKE"){if(_52.match("^(?:"+_53.wq_replaceAll("_",".").wq_replaceAll("%",".*")+"$)")!=null){_4b.push(_51);}}}}}}}}return _4b;};$W.linkedUserFilter=function(id,_55){this.id=id;this.options=$W.extend({key:"",condition:"and"},_55||{});};$W.linkedUserFilter.prototype.getColumnData=function(_56,_57,_58){var _59=$W.idCache[_56];var _58=_59._dataList.getColumnIndex(_58);var _5a=_59._dataList.cellIdList.length;var _5b=_59._dataList.dataArr[_57*_5a+_58];return _5b;};$W.linkedUserFilter.prototype.execute=function(obfuscator_uuid,_5c){var exp=this.options.key.replace(/col[\s]*\(/g,"this.getColumnData(obfuscator_uuid, obfuscator_realRow, ");var _5e=$W.idCache[obfuscator_uuid];var _5f=_5e._dataList.getColumnIndex(this.options.colIndex);var _60=_5e._dataList.cellIdList.length;var _61=(_5c==="and")?_5e.filteredRowIndexArr:_5e.initialRowIndexArr;var _62=[];for(var i=0;i<_61.length;i++){var obfuscator_realRow=_61[i];if(eval(exp)){_62.push(obfuscator_realRow);}}return _62;};$W.linkedCellFilter=function(id,_65){this.id=id;this.options=$W.extend({key:""},_65||{});};$W.linkedCellFilter.prototype.execute=function(_66,_67){var _68=[];var _69=$W.idCache[_66];var _6a=_69._dataList.getColumnIndex(this.options.colIndex);var _6b=_69._dataList.cellIdList.length;var _6c=(_67==="and")?_69.filteredRowIndexArr:_69.initialRowIndexArr;var _6d=_69._dataList.oneRowDataLength;for(var i=0;i<_6c.length;i++){var row=_6c[i];for(var col=0;col<_6d;col++){var _71=_69._dataList._getData(row,col);if(_71==null){_71="";}if(_71.indexOf(this.options.key)>-1){_68.push(row);}}}return _68;};$W.linkedSortFilter=function(id,_73){this.id=id;this.options=$W.extend({colIndex:"",sortIndex:"",sortOrder:"",dataType:"",sortIndexArr:[],sortOrderArr:[],dataTypeArr:[],sortFuncArr:[],sortIdArr:[]},_73||{});};$W.linkedSortFilter.prototype.execute=function(_74,_75){var _76=[];var _77=$W.idCache[_74];var _78=_77._dataList.getColumnIndex(this.options.colIndex);var _79=_77._dataList.cellIdList.length;var _7a=(_75==="and")?_77.filteredRowIndexArr:_77.initialRowIndexArr;var _7b=_77._dataList.oneRowDataLength;var _7c=_7a.slice(0).sort(function(a,b){return (a-b);});var _7f=this.options;var _80=_77._dataList.dataArr;var _81=[];for(var i=0;i<_7c.length;i++){_81[i]=_7c[i]*_7b;}var _83=[];for(var i=0;i<_7f.sortIndexArr.length;i++){_83[i]={};if(_7f.sortFuncArr[i]){for(var j=0;j<_81.length;j++){_83[i][_7c[j]]=_80[_81[j]+_7f.sortIndexArr[i]];}}else{if(_7f.dataTypeArr[i]=="number"){for(var j=0;j<_81.length;j++){_83[i][_7c[j]]=Number(_80[_81[j]+_7f.sortIndexArr[i]]);}}else{for(var j=0;j<_81.length;j++){_83[i][_7c[j]]=_80[_81[j]+_7f.sortIndexArr[i]]||"";}}}}if(_83.length==1){if(!_7f.sortFuncArr[0]){var _85=_7f.sortOrderArr[0];var _86=_83[0];_7c.sort(function(lhs,rhs){if(_86[lhs]==_86[rhs]){return 0;}else{if(_86[lhs]>_86[rhs]){return _85;}else{return -(_85);}}});}else{var _89=_7f.sortFuncArr[0];var _86=_83[0];_7c.sort(function(lhs,rhs){return _89(_86[lhs],_86[rhs]);});}}else{_7c.sort(function(lhs,rhs){for(var i=0;i<_83.length;i++){var _8f;if(!_7f.sortFuncArr[i]){if(_83[i][lhs]==_83[i][rhs]){_8f=0;}else{if(_83[i][lhs]<_83[i][rhs]){_8f=-(_7f.sortOrderArr[i]);}else{_8f=_7f.sortOrderArr[i];}}}else{_8f=_7f.sortFuncArr[i](_83[i][lhs],_83[i][rhs]);}if(_8f!=0){return _8f;}}return 0;});}return _7c;};$W.linkedFuncFilter=function(id,_91){this.id=id;this.options=$W.extend({colIndex:-1,key:"",condition:"and"},_91||{});};$W.linkedFuncFilter.prototype.execute=function(_92,_93){if(typeof this.options.key!=="function"){throw new Error("This key is not a Function.[key:"+this.options.key+"]");}var _94=[];var _95=$W.idCache[_92];var _96=_95._dataList.getColumnIndex(this.options.colIndex);var _97=_95._dataList.cellIdList.length;var _98=(_93==="and")?_95.filteredRowIndexArr:_95.initialRowIndexArr;var _99=_95._dataList.oneRowDataLength;for(var i=0;i<_98.length;i++){var row=_98[i];if(this.options.key(_95._dataList._getData(row,this.options.colIndex),this.options.param,row)){_94.push(row);}}return _94;};$W.linkedRegExpFilter=function(id,_9d){this.id=id;this.options=$W.extend({colIndex:-1,key:"",condition:"and"},_9d||{});this.regExp=this.options.key;};$W.linkedRegExpFilter.prototype.execute=function(_9e,_9f){if(!$W._G.isRegExp(this.regExp)){throw new Error("This key is not a regular expression.[key:"+this.regExp+"]");}var _a0=[];var _a1=$W.idCache[_9e];var _a2=_a1._dataList.getColumnIndex(this.options.colIndex);var _a3=_a1._dataList.cellIdList.length;var _a4=(_9f==="and")?_a1.filteredRowIndexArr:_a1.initialRowIndexArr;var _a5=_a1._dataList.oneRowDataLength;for(var i=0;i<_a4.length;i++){var row=_a4[i];var _a8=_a1._dataList._getData(row,this.options.colIndex)+"";if(_a8==null){_a8="";}if(_a8.match(this.regExp)){_a0.push(row);}}return _a0;};;WebSquare.uiplugin.linkedFilterController=$W._a._V;$W._j.linkedDataListApiController=function(){["WebSquare.DataCollection.linkedDataListApiController"];};$W._j.linkedDataListApiController.prototype.getBroadcast=function(){return (this._broadCastFlag!==false);};$W._j.linkedDataListApiController.prototype.setBroadcast=function(_1){if(_1===false){this._broadCastFlag=_1;}else{this._broadCastFlag=true;}};$W._j.linkedDataListApiController.prototype.broadcast=function(_2){["WebSquare.DataCollection.linkedDataListApiController.prototype.broadcast"];try{if($W._j["stopBroadCast"]||!this.getBroadcast()){return;}for(var id in this.childCompHash){var _4=this.childCompHash[id];if(_4!=null&&$W.idCache[_4.uuid]&&_4.render!=null){if(_4.activeStatus=="stop"&&typeof _4.preActivate=="function"){_4.preActivate();}switch(_4.options.pluginName){case "gridView":if(_2.gridView){_4[_2.gridView[0]].apply(_4,_2.gridView[1]||[]);}break;case "fusionchart":if(_2.fusionChart){_4[_2.fusionChart[0]].apply(_4,_2.fusionChart[1]||[]);}break;default:if(_2.generalComp=="refreshItemset"||_2.generalComp=="both"){if(_4.modelControl.useItemset){_4.refreshItemset(_2.mode||"keepIndex");}}else{if(_2.generalComp){_4[_2.generalComp[0]].apply(_4,_2.generalComp[1]||[]);}}break;}}}for(var id in this.refCompHash){var _4=this.refCompHash[id];if(_4!=null&&$W.idCache[_4.uuid]){if(_4.activeStatus=="stop"&&typeof _4.preActivate=="function"){_4.preActivate();}switch(_4.options.pluginName){case "linkedDataList":if(_2.linkedDataList){_4.refresh();break;}case "fusionchart":if(_2.fusionChart){_4[_2.fusionChart[0]].apply(_4,_2.fusionChart[1]||[]);}break;default:if(_2.generalComp=="refresh"||_2.generalComp=="both"){if(_4.modelControl.useRef){_4.refresh();}}break;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.synchronize=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.synchronize"];try{var _5=$W._j.parentToChildRelation[this.id];if(_5){for(var _6 in _5){if(_5[_6]){this.childCompHash[_6]=$W._G.getComponentById(_6);}}}this.broadcast({"gridView":["setDataList"],"generalComp":["refreshItemArr"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype._addRelation=function(_7){["WebSquare.DataCollection.linkedDataListApiController.prototype._addRelation"];try{if(!this.childCompHash){return;}var _8=$W._G.getComponentById(_7);if(!_8){return;}this.childCompHash[_7]=_8;if(_8.activeStatus=="stop"&&typeof _8.preActivate=="function"){_8.preActivate();}var _9=_8.options.pluginName||_8.initializeType;switch(_9){case "linkedDataList":case "grid":case "gridView":_8.setDataList();break;default:break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype._addRefRelation=function(_a){["WebSquare.DataCollection.linkedDataListApiController.prototype._addRefRelation"];try{if(!this.refCompHash){return;}var _b=$W._G.getComponentById(_a);if(!_b){return;}this.refCompHash[_a]=_b;if(_b.activeStatus=="stop"&&typeof _b.preActivate=="function"){_b.preActivate();}var _c=_b.options.pluginName||_b.initializeType;switch(_c){case "grid":case "gridView":_b.drawData(0,0);break;default:if(_b.modelControl.useRef){_b.refresh();}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.syncWithParent=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.syncWithParent"];try{if(this._dataList){this.conditionInfo.targetInfo={};this.conditionInfo.keyArray=[];this.conditionInfo.columnArray=[];this.initialRowIndexArr=[];this.initialFilterList=[];this.filteredRowIndexArr=this._dataList.filteredRowIndexArr.slice(0);this.initialRowIndexArr=this._dataList.filteredRowIndexArr.slice(0);this.filterManager.clear();this.filterManager.runFilter(this.conditionInfo.filterInfo.condition);this.filterManager.runSort(this.conditionInfo.sortInfo.condition);this.initialRowIndexArr=this.filteredRowIndexArr.slice(0);this.initialFilterList=this.filterManager.filterArr.slice(0);if(this.conditionInfo.sortInfo.condition==""&&this.sortStatusInfo){for(var i in this.sortStatusInfo){var _e=this.sortStatusInfo[i].colID;var _f=this.sortStatusInfo[i].sortOrder;if(_f==1){this.sort(_e,0);}else{if(_f==-1){this.sort(_e,1);}}}}this.broadcast({"generalComp":["refreshItemArr"]});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.addChild=function(_10){["WebSquare.DataCollection.linkedDataListApiController.prototype.addChild"];try{this.childCompHash[_10.id]=_10;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.removeChild=function(_11){["WebSquare.DataCollection.linkedDataListApiController.prototype.removeChild"];try{if(this.childCompHash){delete this.childCompHash[_11];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.addRefComp=function(_12){["WebSquare.DataCollection.linkedDataListApiController.prototype.addRefComp"];try{this.refCompHash[_12.id]=_12;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.removeRefComp=function(_13){["WebSquare.DataCollection.linkedDataListApiController.prototype.removeRefComp"];try{delete this.refCompHash[_13];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.refresh=function(_14){["WebSquare.DataCollection.linkedDataListApiController.prototype.refresh"];try{if(this.successBinding){this.syncWithParent();this.broadcast({"gridView":["refresh"],"generalComp":"both","mode":_14});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.refreshRef=function(_15){["WebSquare.DataCollection.linkedDataListApiController.prototype.refreshRef"];try{if(this.successBinding&&this.conditionInfo.filterInfo.useRef){this.syncWithParent();this.broadcast({"gridView":["refresh"],"generalComp":"both","mode":_15});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getConfiguredOptions=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getConfiguredOptions"];try{var _16=this.defaultOptions.pluginName;var _17,values;var ret={};this.configuredOptions={};if(!this.configuredOptions[_16]){var _19=$W.extendKeepingType({id:"",pluginType:"xfControl",pluginName:"",userEvents:[],xmlEvents:null,value:"",model:"",bind:"",style:"",useConfig:false},this.defaultOptions);if(_19.useConfig||$W._G.getBoolean($W._N.getConfiguration("/WebSquare/"+_16+"/useConfig/@value"))){var _1a=$W.configManager.getConfig(_16);_19=$W.extendKeepingType(_19,_1a);}_17=[];values=[];for(var key in _19){_17.push(key);values.push(_19[key]);}this.configuredOptions[_16]={keys:_17,values:values};}else{_17=this.configuredOptions[_16].keys;values=this.configuredOptions[_16].values;}for(var i=0;i<_17.length;i++){ret[_17[i]]=values[i];}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getOption=function(_1d){["WebSquare.DataCollection.linkedDataListApiController.prototype.getOption"];try{var _1e=_1d in this.options;var _1f=this.options.attributeMap;if(_1e){return this.options[_1d];}else{if(_1f){var _20=$W._G.getComponentById(_1f);if(_20&&_20.hasKey(_1d)){return _20.get(_1d);}}}return;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getID=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getID"];try{return this.id;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.setOption=function(key,_22){["WebSquare.DataCollection.linkedDataListApiController.prototype.setOption"];try{if(typeof _22=="string"&&_22.wq_trim()=="$none"){_22="";}if(key in this.options){this.options[key]=_22;}var _23=this.options.attributeMap;if(_23){var _24=$W._G.getComponentById(_23);if(_24&&_24.hasKey(key)){_24.set(key,_22);}}}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getRealRowIndex=function(_25){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRealRowIndex"];return this.filteredRowIndexArr[_25];};$W._j.linkedDataListApiController.prototype.getLinkedRowIndex=function(_26){["WebSquare.DataCollection.linkedDataListApiController.prototype.getLinkedRowIndex"];return this.getRealRowIndex(_26);};$W._j.linkedDataListApiController.prototype.getParentRealRowIndex=function(_27){["WebSquare.DataCollection.linkedDataListApiController.prototype.getParentRealRowIndex"];return this.initialRowIndexArr[_27];};$W._j.linkedDataListApiController.prototype.getLinkedRealRowIndex=function(_28){["WebSquare.DataCollection.linkedDataListApiController.prototype.getLinkedRowIndex"];var _29=this.filteredRowIndexArr[_28];if(typeof _29=="number"){for(var i=0;i<this.initialRowIndexArr.length;i++){if(this.initialRowIndexArr[i]===_29){return i;}}}return null;};$W._j.linkedDataListApiController.prototype.getFilteredRowIndex=function(_2b){["WebSquare.DataCollection.linkedDataListApiController.prototype.getFilteredRowIndex"];if(this.filteredRowIndexArr[this.filteredRowIndexMap[_2b]]!==_2b){this.filteredRowIndexMap={};for(var i=0;i<this.filteredRowIndexArr.length;i++){this.filteredRowIndexMap[this.filteredRowIndexArr[i]]=i;}}return this.filteredRowIndexMap[_2b];};$W._j.linkedDataListApiController.prototype.getTotalRow=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getTotalRow"];try{var _2d=this.initialRowIndexArr.length;return _2d;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getTotalCol=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getTotalCol"];try{return this._dataList.getTotalCol();}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getRowCount=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowCount"];try{return this.getDataLength();}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getCellData=function(_2e,_2f){["WebSquare.DataCollection.linkedDataListApiController.prototype.getCellData"];try{var _30=this.getRealRowIndex(_2e);return this._dataList.getCellData(_30,_2f);}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getOriginalCellData=function(_31,_32){["WebSquare.DataCollection.linkedDataListApiController.prototype.getOriginalCellData"];try{var _33=this.getRealRowIndex(_31);return this._dataList.getOriginalCellData(_33,_32);}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getDataLength=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDataLength"];return this.filteredRowIndexArr.length;};$W._j.linkedDataListApiController.prototype.getColCnt=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getColCnt"];try{return this._dataList.getColCnt();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getRowPosition=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowPosition"];try{return this.getFilteredRowIndex(this._dataList.getRowPosition());}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.setRowPosition=function(idx){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowPosition"];try{return this._dataList.setRowPosition(this.getRealRowIndex(idx));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getColSum=function(_35){["WebSquare.DataCollection.linkedDataListApiController.prototype.getColSum"];try{var _36="";var _37=this.getColData(_35);if(_37.length>0){for(var i=0;i<_37.length;i++){if(_37[i].replace(/^\s+|\s+$/g,"")==""){_37[i]="0";}}_36=eval(_37.join("+"));}return $W._G.setPrecision(_36);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getColAvg=function(_39){["WebSquare.DataCollection.linkedDataListApiController.prototype.getColAvg"];try{var _3a="";var _3b=this.getColData(_39);if(_3b.length>0){for(var i=0;i<_3b.length;i++){if(_3b[i].replace(/^\s+|\s+$/g,"")==""){_3b[i]="0";}}_3a=eval(_3b.join("+"));}if(_3a==""){return "";}else{return _3a/_3b.length;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getColMax=function(_3d){["WebSquare.DataCollection.linkedDataListApiController.prototype.getColMax"];try{var max=null;var _3f=this.getColData(_3d);for(var i=0;i<_3f.length;i++){var _41=parseFloat(_3f[i]);if(!isNaN(_41)){if(max==null||max<_41){max=_41;}}}max=(max==null)?"":max;max=$W._G.setPrecision(max);return max;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getColMin=function(_42){["WebSquare.DataCollection.linkedDataListApiController.prototype.getColMin"];try{var min=null;var _44=this.getColData(_42);for(var i=0;i<_44.length;i++){var _46=parseFloat(_44[i]);if(!isNaN(_46)){if(min==null||min>_46){min=_46;}}}min=(min==null)?"":min;min=$W._G.setPrecision(min);return min;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getColData=function(_47){["WebSquare.DataCollection.linkedDataListApiController.prototype.getColData"];try{var _48=[];for(var row=0;row<this.filteredRowIndexArr.length;row++){_48.push(this.getCellData(row,_47));}return _48;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getRowData=function(_4a){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowData"];try{var _4b=this.getRealRowIndex(_4a);return this._dataList.getRowData(_4b);}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getDataRow=function(_4c){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDataRow"];try{var _4d=this.getRealRowIndex(_4c);return this._dataList.getDataRow(_4d);}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getMatchedData=function(_4e,_4f,_50,_51,_52){["WebSquare.DataCollection.linkedDataListApiController.prototype.getMatchedData"];try{this.broadcast({"gridView":["_endEdit"]});var _53=[];var _54=this.getMatchedIndex(_4e,_4f,_50,_51,_52);for(var i=0;i<_54.length;i++){var _56=this.getFilteredRowIndex(_54[i]);_53.push(this.getRowData(_56));}return _53;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getUnmatchedData=function(_57,_58,_59,_5a,_5b){["WebSquare.DataCollection.linkedDataListApiController.prototype.getUnmatchedData"];try{this.broadcast({"gridView":["_endEdit"]});var _5c=[];var _5d=this.getUnmatchedIndex(_57,_58,_59,_5a,_5b);for(var i=0;i<_5d.length;i++){var _5f=this.getFilteredRowIndex(_5d[i]);_5c.push(this.getRowData(_5f));}return _5c;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getMatchedColumnData=function(_60,_61,_62,_63,_64,_65){["WebSquare.DataCollection.linkedDataListApiController.prototype.getMatchedColumnData"];try{this.broadcast({"gridView":["_endEdit"]});var _66=[];var _67=this.getMatchedIndex(_60,_61,_63,_64,_65);for(var i=0;i<_67.length;i++){var _69=this.getFilteredRowIndex(_67[i]);_66.push(this.getCellData(_69,_62));}return _66;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getUnmatchedColumnData=function(_6a,_6b,_6c,_6d,_6e,_6f){["WebSquare.DataCollection.linkedDataListApiController.prototype.getUnmatchedColumnData"];try{this.broadcast({"gridView":["_endEdit"]});var _70=[];var _71=this.getUnmatchedIndex(_6a,_6b,_6d,_6e,_6f);for(var i=0;i<_71.length;i++){var _73=this.getFilteredRowIndex(_71[i]);_70.push(this.getCellData(_73,_6c));}return _70;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getFilteredColData=function(_74){["WebSquare.DataCollection.linkedDataListApiController.prototype.getFilteredColData"];var _75=[];for(var row=0;row<this.getDataLength();row++){_75.push(this.getCellData(row,_74));}return _75;};$W._j.linkedDataListApiController.prototype.getMatchedIndex=function(_77,_78,_79,_7a,_7b){["WebSquare.DataCollection.linkedDataListApiController.prototype.getMatchedIndex"];try{_79=(typeof _79=="undefined"||_79==null)?true:_79;_79=$W._G.getBoolean(_79);if(_79!=false){_79=true;}colIndex=this._dataList.getColumnIndex(_77);var _7c=this.getFilteredColData(colIndex);var _7d=[];if(typeof _7a!="number"){_7a=0;}if(typeof _7b!="number"){_7b=_7c.length;}if(_7b>_7c.length){_7b=_7c.length;}for(var i=_7a;i<_7b;i++){var _7f=_7c[i];var _80=this.getRealRowIndex(i);if(_79==true){if(_7f===_78){_7d.push(_80);}}else{if(_7f.indexOf(_78)>-1){_7d.push(_80);}}}return _7d;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getUnmatchedIndex=function(_81,_82,_83,_84,_85){["WebSquare.DataCollection.linkedDataListApiController.prototype.getUnmatchedIndex"];try{if(_83!=false){_83=true;}colIndex=this._dataList.getColumnIndex(_81);var _86=this.getFilteredColData(colIndex);var _87=[];if(typeof _84!="number"){_84=0;}if(typeof _85!="number"){_85=_86.length;}if(_85>_86.length){_85=_86.length;}for(var i=_84;i<_85;i++){var _89=_86[i];var _8a=this.getRealRowIndex(i);if(_83==true){if(_89!==_82){_87.push(_8a);}}else{if(_89.indexOf(_82)<=-1){_87.push(_8a);}}}return _87;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getRangeData=function(_8b,to){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRangeData"];try{var _8d=[];if(_8b>to){var tmp=to;to=_8b;_8b=tmp;}if(_8b<0){_8b=0;}if(to>this.getDataLength()-1){to=this.getDataLength()-1;}for(var i=_8b;i<=to;i++){var _90=this.getRealRowIndex(i);_8d=_8d.concat(this.getRowData(_90));}return _8d;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getAllData=function(_91){["WebSquare.DataCollection.linkedDataListApiController.prototype.getAllData"];try{this.broadcast({"gridView":["_endEdit"]});if(!_91){_91={};}_91["rowStatusNodeName"]=this.options.rowStatusNodeName;var _92=[];for(var i=0;i<this.initialRowIndexArr.length;i++){_92=_92.concat(this._dataList.getRowData(this.initialRowIndexArr[i],_91));}return _92;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getAllFilteredData=function(_94){["WebSquare.DataCollection.linkedDataListApiController.prototype.getAllFilteredData"];this.broadcast({"gridView":["_endEdit"]});if(!_94){_94={};}_94["rowStatusNodeName"]=this.options.rowStatusNodeName;var _95=[];for(var i=0;i<this.filteredRowIndexArr.length;i++){_95=_95.concat(this._dataList.getRowData(this.filteredRowIndexArr[i],_94));}return _95;};$W._j.linkedDataListApiController.prototype.getColumnDistinctDataArray=function(_97){["WebSquare.DataCollection.linkedDataListApiController.prototype.getColumnDistinctDataArray"];try{this.broadcast({"gridView":["_endEdit"]});var _98=[];var _99=[];if(typeof _97=="string"){_97=this._dataList.bodyIdColIndexMap[_97];}var _9a=this._dataList.getCellInfo(_97);var _9b=this.getColData(_97);for(var i=0;i<_9b.length;i++){var _9d=_9b[i];_99[_9d]=1;}for(var _9e in _99){_98.push(_9e);}if(_9a.options.dataType=="text"){_98=_98.sort();}else{_98=_98.sort(this.comparator);}return _98;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getRangeXML=function(_9f,to){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRangeXML"];try{var _a1=[];if(_9f>to){var tmp=to;to=_9f;_9f=tmp;}if(_9f<0){_9f=0;}if(to>this.getDataLength()-1){to=this.getDataLength()-1;}var _a3=[];for(var i=_9f;i<=to;i++){var _a5=this.getRealRowIndex(i);_a3.push(_a5);}return this._dataList.getArrXML(_a3);}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getMatchedXML=function(_a6,_a7,_a8,_a9,_aa){["WebSquare.DataCollection.linkedDataListApiController.prototype.getMatchedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _ab=this.getMatchedIndex(_a6,_a7,_a8,_a9,_aa);return this._dataList.getArrXML(_ab);}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getUnmatchedXML=function(_ac,_ad,_ae,_af,_b0){["WebSquare.DataCollection.linkedDataListApiController.prototype.getUnmatchedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _b1=this.getUnmatchedIndex(_ac,_ad,_ae,_af,_b0);return this._dataList.getArrXML(_b1);}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getRowXML=function(_b2){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowXML"];try{var _b3=this.getRealRowIndex(_b2);return this._dataList.getRowXML(_b3,{"rowStatusNodeName":this.options.rowStatusNodeName});}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getAllXML=function(_b4){["WebSquare.DataCollection.linkedDataListApiController.prototype.getAllXML"];try{this.broadcast({"gridView":["_endEdit"]});var _b5={"id":this.id,"initializeType":this.initializeType,"baseNode":this.options.baseNode,"repeatNode":this.options.repeatNode,"idAttribute":this.options.idAttribute,"valueAttribute":this.options.valueAttribute,"rowStatusNodeName":this.options.rowStatusNodeName};if(_b4){_b5={"id":_b4.id||this.id,"initializeType":this.initializeType,"baseNode":_b4.baseNode||this.options.baseNode,"repeatNode":_b4.repeatNode==""||_b4.repeatNode?_b4.repeatNode:this.options.repeatNode,"idAttribute":_b4.idAttribute==""||_b4.idAttribute?_b4.idAttribute:this.options.idAttribute,"valueAttribute":_b4.valueAttribute==""||_b4.valueAttribute?_b4.valueAttribute:this.options.valueAttribute,"rowStatusNodeName":_b4.rowStatusNodeName==""||_b4.rowStatusNodeName?_b4.rowStatusNodeName:this.options.rowStatusNodeName};}var _b6=this._dataList.getArrXML(this.initialRowIndexArr,_b5);return _b6;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getAllFilteredXML=function(_b7){["WebSquare.DataCollection.linkedDataListApiController.prototype.getAllFilteredXML"];this.broadcast({"gridView":["_endEdit"]});_b7=_b7||{};var _b8={"id":_b7.id||this.id,"initializeType":this.initializeType,"baseNode":_b7.baseNode||this.options.baseNode,"repeatNode":_b7.repeatNode==""||_b7.repeatNode?_b7.repeatNode:this.options.repeatNode,"idAttribute":_b7.idAttribute==""||_b7.idAttribute?_b7.idAttribute:this.options.idAttribute,"valueAttribute":_b7.valueAttribute==""||_b7.valueAttribute?_b7.valueAttribute:this.options.valueAttribute,"rowStatusNodeName":_b7.rowStatusNodeName==""||_b7.rowStatusNodeName?_b7.rowStatusNodeName:this.options.rowStatusNodeName};var _b9=this._dataList.getArrXML(this.filteredRowIndexArr,_b8);return _b9;};$W._j.linkedDataListApiController.prototype.getRowJSON=function(_ba){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowJSON"];try{var _bb=this.getRealRowIndex(_ba);return this._dataList.getRowJSON(_bb,{"rowStatusNodeName":this.options.rowStatusNodeName});}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getAllJSON=function(_bc){["WebSquare.DataCollection.linkedDataListApiController.prototype.getAllJSON"];try{this.broadcast({"gridView":["_endEdit"]});if(!_bc){_bc={};}_bc["rowStatusNodeName"]=this.options.rowStatusNodeName;var _bd=[];for(var i=0;i<this.initialRowIndexArr.length;i++){_bd=_bd.concat(this._dataList.getRowJSON(this.initialRowIndexArr[i],_bc));}return _bd;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getAllFilteredJSON=function(_bf){["WebSquare.DataCollection.linkedDataListApiController.prototype.getAllFilteredJSON"];try{this.broadcast({"gridView":["_endEdit"]});if(!_bf){_bf={};}_bf["rowStatusNodeName"]=this.options.rowStatusNodeName;var _c0=[];for(var i=0;i<this.filteredRowIndexArr.length;i++){_c0=_c0.concat(this._dataList.getRowJSON(this.filteredRowIndexArr[i],_bf));}return _c0;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getRangeJSON=function(_c2,to){["WebSquare.DataCollection.linkedDataListApiController.prototype.getAllJSON"];try{var _c4=[];if(_c2>to){var tmp=to;to=_c2;_c2=tmp;}if(_c2<0){_c2=0;}if(to>this.getDataLength()-1){to=this.getDataLength()-1;}for(var i=_c2;i<=to;i++){_c4.push(this.getRowJSON(i));}return _c4;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getMatchedJSON=function(_c7,_c8,_c9,_ca,_cb){["WebSquare.DataCollection.linkedDataListApiController.prototype.getMatchedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _cc=[];var _cd=this.getMatchedIndex(_c7,_c8,_c9,_ca,_cb);for(var i=0;i<_cd.length;i++){var _cf=this.getFilteredRowIndex(_cd[i]);_cc.push(this.getRowJSON(_cf));}return _cc;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getUnmatchedJSON=function(_d0,_d1,_d2,_d3,_d4){["WebSquare.DataCollection.linkedDataListApiController.prototype.getUnmatchedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _d5=[];var _d6=this.getUnmatchedIndex(_d0,_d1,_d2,_d3,_d4);for(var i=0;i<_d6.length;i++){var _d8=this.getFilteredRowIndex(_d6[i]);_d5.push(this.getRowJSON(_d8));}return _d5;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getFusionChartData=function(_d9,_da,_db){["WebSquare.DataCollection.linkedDataListApiController.prototype.getFusionChartData"];try{var _dc={};var _da=_da;var _dd=_db.wq_replaceAll("'","\"");_dd=JSON.parse(_dd);var _db=_dd[0];this._singleSerises=function(){var obj=[];var _df=this.getAllJSON();for(var i=0;i<_df.length;i++){var _e1={"label":_df[i][_da],"value":_df[i][_db]};obj.push(_e1);}_dc.data=obj;return _dc;};this._multiSerises=function(){_dc=this._getFusionChartCategory();_dc.dataset=[];for(var i=0;i<_db.length;i++){var _e3=this._getFusionChartSeriesDate(i);_dc["dataset"].push(_e3);}return _dc;};this._msStacked=function(){_dc=this._getFusionChartCategory();_dc.dataset=[];for(var i=0;i<_dd.length;i++){_db=_dd[i];var obj={};obj.dataset=[];for(var j=0;j<_db.length;j++){var _e7=this._getFusionChartSeriesDate(j);obj["dataset"].push(_e7);}_dc["dataset"].push(obj);}return _dc;};this._msStackedColumn2DLineDY=function(){_dc=this._getFusionChartCategory();_dc.dataset=[];for(var i=0;i<_dd.length-1;i++){_db=_dd[i];var obj={};obj.dataset=[];for(var j=0;j<_db.length;j++){var _eb=this._getFusionChartSeriesDate(j);obj["dataset"].push(_eb);}_dc["dataset"].push(obj);}_dc.lineset=[];var _ec=_dd.length-1;_db=_dd[_ec];for(var i=0;i<_db.length;i++){var _eb=this._getFusionChartSeriesDate(i);_dc["lineset"].push(_eb);}return _dc;};this._scatter=function(){_dc.dataset=[];var _ed=this.getColData(_da).unique();for(var i=0;i<_ed.length;i++){var _ef={};_ef.data=[];for(var j=0;j<this.getRowCount();j++){if(_ed[i]==this.getCellData(j,_da)){var _f1={};if(_d9.toLowerCase()=="scatter"){_f1={"x":this.getCellData(j,_db[0]),"y":this.getCellData(j,_db[1])};}else{if(_d9.toLowerCase()=="bubble"){_f1={"x":this.getCellData(j,_db[0]),"y":this.getCellData(j,_db[1]),"z":this.getCellData(j,_db[2])};}}_ef["data"].push(_f1);}}_ef["seriesname"]=this.getColumnName(_ed[i]);_dc["dataset"].push(_ef);}return _dc;};this._zoomLine=function(){if(this.getRowCount()==1){_dc={"categories":[{"category":this.getCellData(0,_da)}]};_dc.dataset=[];for(var i=0;i<_db.length;i++){var obj={};obj["seriesname"]=this.getColumnName(_db[i]);obj["data"]=this.getCellData(0,_db[i]);_dc["dataset"].push(obj);}return _dc;}else{return this._multiSerises();}};this._getFusionChartCategory=function(){var obj=[];var _f5=this.getColData(_da);for(var i=0;i<_f5.length;i++){var _f7={"label":_f5[i]};obj.push(_f7);}return {"categories":[{"category":obj}]};};this._getFusionChartSeriesDate=function(_f8){var obj={};obj.data=[];var _fa;var _fb=[];if(typeof _db[_f8]!="string"){_fa=_db[_f8].id;obj["seriesname"]=this.getColumnName(_fa);for(var _fc in _db[_f8]){if(_db[_f8].hasOwnProperty(_fc)){if(this.hasColumn(_db[_f8][_fc])&&_fc.toLowerCase()!="id"){var _fd={};_fd[_fc]=_db[_f8][_fc];_fb.push(_fd);}else{obj[_fc]=_db[_f8][_fc];}}}}else{_fa=_db[_f8];obj["seriesname"]=this.getColumnName(_fa);}for(var j=0;j<this.getRowCount();j++){var _ff={"value":this.getCellData(j,_fa)};for(var i=0;i<_fb.length;i++){for(var obj4 in _fb[i]){_ff[obj4]=this.getCellData(j,_fb[i][obj4]);}}obj["data"].push(_ff);}return obj;};Array.prototype.unique=function(){var a={};for(var i=0;i<this.length;i++){if(typeof a[this[i]]=="undefined"){a[this[i]]=1;}}this.length=0;for(var i in a){this[this.length]=i;}return this;};switch(_d9.toLowerCase()){case "column2d":return this._singleSerises();break;case "column3d":return this._singleSerises();break;case "bar2d":return this._singleSerises();break;case "bar3d":return this._singleSerises();break;case "pie2d":return this._singleSerises();break;case "pie3d":return this._singleSerises();break;case "doughnut2d":return this._singleSerises();break;case "doughnut3d":return this._singleSerises();break;case "pareto2d":return this._singleSerises();break;case "pareto3d":return this._singleSerises();break;case "line2d":return this._singleSerises();break;case "area":return this._singleSerises();break;case "ssgrid":return this._singleSerises();break;case "mscolumn2d":return this._multiSerises();break;case "mscolumn3d":return this._multiSerises();break;case "msline":return this._multiSerises();break;case "msarea":return this._multiSerises();break;case "msbar2d":return this._multiSerises();break;case "msbar3d":return this._multiSerises();break;case "marimekko":return this._multiSerises();break;case "stackedcolumn2d":return this._multiSerises();break;case "stackedcolumn3d":return this._multiSerises();break;case "stackedarea2d":return this._multiSerises();break;case "stackedbar2d":return this._multiSerises();break;case "stackedbar3d":return this._multiSerises();break;case "mscombi3d":return this._multiSerises();break;case "mscombi2d":return this._multiSerises();break;case "mscolumnline3d":return this._multiSerises();break;case "stackedcolumn2dline":return this._multiSerises();break;case "stackedcolumn3dline":return this._multiSerises();break;case "mscombidy2d":return this._multiSerises();break;case "mscolumn3dlinedy":return this._multiSerises();break;case "stackedcolumn3dlinedy":return this._multiSerises();break;case "scrollcolumn2d":return this._multiSerises();break;case "scrollline2d":return this._multiSerises();break;case "scrollArea2d":return this._multiSerises();break;case "scrollstackedcolumn2d":return this._multiSerises();break;case "scrollcombi2d":return this._multiSerises();break;case "scrollcombidy2d":return this._multiSerises();break;case "stackedcolumn3dlinedy":return this._multiSerises();break;case "scatter":return this._scatter();break;case "bubble":return this._scatter();break;case "zoomline":return this._zoomLine();break;case "msstackedcolumn2d":return this._msStacked();break;case "msstackedcolumn2dlinedy":return this._msStackedColumn2DLineDY();break;}}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getRowArray=function(_104){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowArray"];try{var _105=this.getRealRowIndex(_104);return this._dataList.getRowArray(_105);}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getRowStatusValue=function(_106){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowStatusValue"];try{var _107=this.getRealRowIndex(_106);return this._dataList._getRowStatusValue(_107);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getRowStatus=function(_108){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowStatus"];try{var _109=this.getRealRowIndex(_108);return this._dataList._getRowStatus(_109);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getRowIndexByStatus=function(_10a){["WebSquare.DataCollection.linkedDataListApiController.prototype.getRowIndexByStatus"];try{var _10b=[];for(var i=0;i<this.getDataLength();i++){var _10d=this.getRealRowIndex(i);if(_10a.indexOf(this._dataList.getRowStatus(_10d))>-1){_10b.push(_10d);}}return _10b;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getInsertedIndex=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getInsertedIndex"];try{return this.getRowIndexByStatus("C");}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getUpdatedIndex=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getUpdatedIndex"];try{return this.getRowIndexByStatus("U");}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getDeletedIndex=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletedIndex"];try{return this.getRowIndexByStatus("DV");}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getModifiedIndex=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getModifiedIndex"];try{return this.getRowIndexByStatus("CUD");}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getInsertedData=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletedData"];try{this.broadcast({"gridView":["_endEdit"]});var _10e=[];var _10f=this.getInsertedIndex();for(var i=0;i<_10f.length;i++){_10e.push(this.getRowData(_10f[i]));}return _10e;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getInsertedXML=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _111=this.getInsertedIndex();var _112=this._dataList.getArrXML(_111);return _112;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getInsertedJSON=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getInsertedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _113=[];var _114=this.getInsertedIndex();for(var i=0;i<_114.length;i++){_113.push(this.getRowJSON(_114[i]));}return _113;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getDeletedData=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletedData"];try{this.broadcast({"gridView":["_endEdit"]});var _116=[];var _117=this.getDeletedIndex();for(var i=0;i<_117.length;i++){_116.push(this.getRowData(_117[i]));}return _116;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getDeletedXML=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _119=this.getDeletedIndex();var _11a=this._dataList.getArrXML(_119);return _11a;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getDeletedJSON=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _11b=[];var _11c=this.getDeletedIndex();for(var i=0;i<_11c.length;i++){_11b.push(this.getRowJSON(_11c[i]));}return _11b;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getUpdatedData=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getUpdatedData"];try{this.broadcast({"gridView":["_endEdit"]});var _11e=[];var _11f=this.getUpdatedIndex();for(var i=0;i<_11f.length;i++){_11e.push(this.getRowData(_11f[i]));}return _11e;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getUpdatedXML=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _121=this.getUpdatedIndex();var _122=this._dataList.getArrXML(_121);return _122;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getUpdatedJSON=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getUpdatedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _123=[];var _124=this.getUpdatedIndex();for(var i=0;i<_124.length;i++){_123.push(this.getRowJSON(_124[i]));}return _123;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getModifiedData=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletedData"];try{this.broadcast({"gridView":["_endEdit"]});var _126=[];var _127=this.getModifiedIndex();for(var i=0;i<_127.length;i++){_126.push(this.getRowData(_127[i]));}return _126;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getModifiedXML=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletedXML"];try{this.broadcast({"gridView":["_endEdit"]});var _129=this.getModifiedIndex();var _12a=this._dataList.getArrXML(_129);return _12a;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getModifiedJSON=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getModifiedJSON"];try{this.broadcast({"gridView":["_endEdit"]});var _12b=[];var _12c=this.getModifiedIndex();for(var i=0;i<_12c.length;i++){_12b.push(this.getRowJSON(_12c[i]));}return _12b;}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.setCondition=function(type,_12f){["WebSquare.DataCollection.linkedDataListApiController.prototype.setCondition"];try{switch(type.toLowerCase()){case "filter":this.setFilterCondition(_12f);break;case "sort":this.setSortCondition(_12f);break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.setFilterCondition=function(_130){["WebSquare.DataCollection.linkedDataListApiController.prototype.setFilterCondition"];try{if(typeof _130=="string"){this.conditionInfo.filterInfo.parse=false;this.conditionInfo.filterInfo.useRef=false;this.conditionInfo.filterInfo.condition=_130;this.syncWithParent();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.setSortCondition=function(_131){["WebSquare.DataCollection.linkedDataListApiController.prototype.setSortCondition"];try{if(typeof _131=="string"){this.conditionInfo.sortInfo.parse=false;this.conditionInfo.sortInfo.condition=_131;this.syncWithParent();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getObjectType=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getObjectType"];try{var _132=this.initializeType;if(_132=="linkedDataList"){return _132;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.setColumnFilter=function(_133,_134,_135,_136){["WebSquare.DataCollection.linkedDataListApiController.prototype.setColumnFilter"];try{var _137=this._dataList.getColumnIndex(_133);this.broadcast({"gridView":["notifyBeforeSettedColumnFilter"]});if(typeof arguments[0]==="object"&&!$W._G.isString(arguments[0])){if(arguments[0].type!=="row"&&arguments[0].type!=="func"&&arguments[0].type!=="regExp"){throw new Error("type does not support.[type:"+arguments[0].type+"]");}this.setFilter({type:arguments[0].type,colIndex:(arguments[0].colIndex).toLowerCase()=="rowstatus()"?"@rowStatus":arguments[0].colIndex,key:arguments[0].key,condition:arguments[0].condition,param:arguments[0].param});}else{this.setFilter({type:"row",colIndex:_137,key:_134,condition:_135,exactMatch:_136});}this.broadcast({"gridView":["notifyAfterSettedColumnFilter"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.removeColumnFilter=function(_138){["WebSquare.DataCollection.linkedDataListApiController.prototype.removeColumnFilter"];try{var _139=this.getColumnID(_138);this.broadcast({"gridView":["notifyBeforeRemovedColumnFilter"]});this.removeFilter({type:"row",colIndex:_138.toLowerCase()=="rowstatus()"?"@rowStatus":_139,key:""},false);this.removeFilter({type:"func",colIndex:_139,key:""},false);this.removeFilter({type:"regExp",colIndex:_139,key:""},true);this.broadcast({"gridView":["notifyAfterRemovedColumnFilter"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.clearSortFilter=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.clearSortFilter"];try{this.setSortCondition("");this.sortStatusInfo={};this.sortStatusArr=[];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.removeColumnFilterAll=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.removeColumnFilter"];try{this.clearFilter();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getAllNoFilteredData=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getAllNoFilteredData"];try{return this._dataList.getAllData();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.setFilter=function(_13a){["WebSquare.DataCollection.linkedDataListApiController.prototype.setFilter"];try{this.broadcast({"gridView":["notifySaveFocusedCell"]});_13a=$W.extend({type:"",colIndex:-1,key:"",condition:"and",bodyIdColIndexMap:this.bodyIdColIndexMap},_13a||{});if(_13a.colIndex!="@rowStatus"){if(typeof _13a.colIndex=="string"){_13a.colIndex=this._dataList.bodyIdColIndexMap[_13a.colIndex];}var _13b=this._dataList.getCellInfo(_13a.colIndex);var _13c=_13b.options.dataType;_13a.columnDataType=_13c;}var _13d=false;if(_13a.sortIndex){this.sortStatusInfo={};this.sortStatusArr=[];var _13e=[];var _13f=[];var _140=[];if(typeof _13a.sortIndex=="string"){_13e=_13a.sortIndex.wq_trim().split(" ");}else{_13e=_13a.sortIndex;}if(_13a.sortOrder&&typeof _13a.sortOrder=="string"){_13f=_13a.sortOrder.wq_trim().split(" ");}else{if(typeof _13a.sortOrder=="object"){_13f=_13a.sortOrder;}}if(_13a.dataType){_140=_13a.dataType.wq_trim().split(" ");}_13a.sortIndexArr=[];_13a.sortOrderArr=[];_13a.dataTypeArr=[];_13a.sortIdArr=[];for(var i=0;i<_13e.length;i++){if(isNaN(_13e[i])){_13a.sortIndexArr.push(this._dataList.bodyIdColIndexMap[_13e[i]]);}else{_13a.sortIndexArr.push(parseInt(_13e[i],10));}var _142=parseInt(_13f[i]);if(isNaN(_142)){_142=1;}_13a.sortOrderArr.push(_142);_13a.dataTypeArr.push(_140[i]||"text");_13a.sortIdArr.push(this._dataList.getColumnID(_13a.sortIndexArr[i]));var _143={};var _13b=this._dataList.getCellInfo(_13a.sortIdArr[i]);var type=_13b.options.dataType=="number"?"number":"text";_143.colID=_13a.sortIdArr[i];_143.sortOrder=_13a.sortOrderArr[i];_143.dataType=type;if(_13a.dataType!=type){_13a.dataType=type;_13a.dataTypeArr[i]=type;}this.sortStatusInfo[_143.colID]=_143;this.sortStatusArr.push(_143);this.sortStatusArr[_143.colID]=_143;}_13d=true;}var _145=_13a.type+"^@"+_13a.colIndex+"^@"+_13a.key;this.filterManager.addFilter(_145,_13a);this.broadcast({"gridView":["notifySettedFilter",[{"isSort":_13d}]]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.removeFilter=function(_146,_147){["WebSquare.DataCollection.linkedDataListApiController.prototype.removeFilter"];try{_146=$W.extend({type:"",colIndex:-1,key:"",condition:"and"},_146||{});_147=(typeof _147=="undefined")?true:_147;if(_146.colIndex!="@rowStatus"){if(typeof _146.colIndex=="string"){_146.colIndex=this.getColumnIndex(_146.colIndex);}}var _148=_146.type+"^@"+_146.colIndex+"^@"+_146.key;this.filterManager.deleteFilter(_148,_146,_147);this.broadcast({"gridView":["notifyRemovedFilter"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.clearFilter=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.clearFilter"];try{this.filterManager.filterArr=this.initialFilterList.slice(0);this.filteredRowIndexArr=this.initialRowIndexArr.slice(0);this.broadcast({"gridView":["notifyClearFilter"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.sort=function(_149,_14a){["WebSquare.DataCollection.linkedDataListApiController.prototype.sort"];try{switch(_14a){case 0:this.setFilter({type:"sort",sortIndex:_149,sortOrder:"1",dataType:"text"});break;case 1:this.setFilter({type:"sort",sortIndex:_149,sortOrder:"-1",dataType:"text"});break;case 2:this.clearSortFilter();break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.clearSort=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.removeColumnFilter"];try{this.broadcast({"gridView":["clearHeaderSort"]});this.clearSortFilter();this.broadcast({"gridView":["notifySetFocusedCell"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.multisort=function(_14b){["WebSquare.DataCollection.linkedDataListApiController.prototype.multisort"];try{_14b.type="sort";_14b.sortOrder=_14b.sortOrder||[];var _14c;var _14d;var _14e=typeof _14b.sortIndex;var _14f=typeof _14b.sortOrder;if(_14e=="object"){_14c=_14b.sortIndex;}else{if(_14e=="string"){_14c=_14b.sortIndex.split(" ");}}if(_14f=="object"){_14d=_14b.sortOrder;}else{if(_14f=="string"){_14d=_14b.sortOrder.split(" ");}}for(var i=0;i<_14c.length-_14d.length;i++){_14d.push(1);}var _151=[];this.sortStatusInfo={};this.sortStatusArr=[];for(var i=0;i<_14c.length;i++){var _152={};var _14e=typeof _14c[i];var _153;if(_14e=="string"){_153=this._dataList.getCellInfo(_14c[i]);}else{if(_14e=="number"){_153=this._dataList.getCellInfo(this.getColumnID(_14c[i]));}}_152.colID=_14c[i];_152.sortOrder=parseInt(_14d[i]);_152.dataType=(_153.options.dataType!="number")?"text":"number";_151.push(_152.dataType);this.sortStatusInfo[_152.colID]=_152;this.sortStatusArr.push(_152);this.sortStatusArr[_152.colID]=_152;}_14b.dataType=_151.join(" ");this.setFilter(_14b);this.broadcast({"gridView":["drawHeaderSortImages"],"generalComp":"both"});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getCellInfo=function(td){["WebSquare.DataCollection.linkedDataListApiController.prototype.getCellInfo"];var tdId="";if(typeof td=="string"){tdId=td;}else{if(typeof td=="number"){tdId=this.cellIdList[td];}}return this.cellInfoHash[tdId]||{options:{}};};$W._j.linkedDataListApiController.prototype.getColumnCount=function(){return this.cellIdList.length;};$W._j.linkedDataListApiController.prototype.getColumnID=function(_156){if(typeof _156=="string"){return _156;}var _157=this.cellIdList[_156];if(_157){return _157;}else{return null;}};$W._j.linkedDataListApiController.prototype.getColumnIndex=function(_158){["WebSquare.DataCollection.linkedDataListApiController.prototype.getColumnIndex"];if(typeof _158=="number"){return _158;}return this.bodyIdColIndexMap[_158];};$W._j.linkedDataListApiController.prototype.hasColumn=function(_159){["WebSquare.DataCollection.linkedDataListApiController.prototype.hasColumn"];try{if(typeof _159=="number"){_159=this.getColumnID(_159);}var _15a=false;if(typeof this.bodyIdColIndexMap[_159]=="number"){_15a=true;}return _15a;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.getColumnName=function(_15b){["WebSquare.DataCollection.linkedDataListApiController.prototype.getColumnName"];if(typeof _15b=="number"){_15b=this.getColumnID(_15b);}var _15c=this.getCellInfo(_15b);return _15c?_15c.name:"";};$W._j.linkedDataListApiController.prototype.notifyDataChanged=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyDataChanged"];try{this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifySettedFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyCellChanged=function(_15d,_15e,_15f){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyRowChanged"];try{var _160=false;for(var i=0;i<this.conditionInfo.columnArray.length;i++){if(this.conditionInfo.columnArray[i]===_15e){_160=true;break;}}if(_160){this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifySettedFilter"]});}else{var _162=this.getFilteredRowIndex(_15d);if(typeof _162==="number"){this.broadcast({"gridView":["notifySettedCellData",[_162,_15e,_15f]],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"generalComp":"both"});}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyRowChanged=function(_163){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyRowChanged"];try{this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifySettedFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyRowRemoved=function(_164){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyRowRemoved"];try{this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifySettedFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyRowInserted=function(_165){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyRowInserted"];try{this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifySettedFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyRowMoveUp=function(_166){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyRowMoveUp"];try{this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifySettedFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyRowMoveDown=function(_167){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyRowMoveDown"];try{this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifySettedFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyRemoveAll=function(_168){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyRemoveAll"];try{this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifySettedFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyReformed=function(_169){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyReformed"];try{this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifySettedFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyDeleteRow=function(_16a){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyDeleteRow"];try{this.filterManager.restartFilter();this.broadcast({"generalComp":"both","gridView":["notifySettedFilter"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataListApiController.prototype.notifyRowPositionChanged=function(_16b){["WebSquare.DataCollection.linkedDataListApiController.prototype.notifyDeleteRow"];try{this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.linkedDataListApiController=$W._a.ag;requires("uiplugin/linkedDataList/linkedDataListApiController.js");requires("uiplugin/linkedDataList/linkedFilterController.js");$W._j.linkedDataList=function(id,_2,_3,_4,_5){["WebSquare.DataCollection.linkedDataList"];try{this.initialize(id,_2,_3,_4,_5);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.extend($W._j.linkedDataList.prototype,$W._j.linkedDataListApiController.prototype);$W._j.linkedDataList.prototype.defaultOptions={useConfig:true,pluginType:"DataCollection.linkedDataList",pluginName:"linkedDataList",baseNode:"list",repeatNode:"map",valueAttribute:"",idAttribute:"",rowStatusNodeName:"rowStatus",JSONPath:""};$W._j.linkedDataList.prototype.initialize=function(id,_7,_8,_9,_a){["WebSquare.DataCollection.linkedDataList.prototype.initialize"];try{this.elementType=_8.elementType?_8.elementType:"XML";this.initializeType="linkedDataList";this.id=id;this.uuid=$W.UUIDPrefix+"_"+$W.UUID++;this.element=_8;this.options=this.getConfiguredOptions();this._broadCastFlag=true;if(_8){switch(this.elementType){case "XML":this.options=$W.extendKeepingType(this.options,$W.WebSquareparser.parseAttribute(_8));if(this.initializeType=="linkedDataList"){this.options.xmlEvents=$W.WebSquareparser.parseEvent(_8);}break;case "JSON":this.options=$W.extendKeepingType(this.options,_8.option);this.options.id=_8.id;break;}}if(_7){this.options=$W.extendKeepingType(this.options,_7);}if(!this.id){this.id=this.options.id;}if($W.idCache[_a]&&$W.idCache[_a].options.scope){var _b=this.id;var _c=$W.idCache[_a]?$W.idCache[_a].id:"";var id=(_c?_c+"_":"")+this.id;this.id=id;this.org_id=_b;this.scope_obj=$W.idCache[_a];this.options.bind=(_c?_c+"_":"")+this.options.bind;this.scope_obj.scope[this.org_id]=this;}this.options.id=this.id;if(_8){var _d="linkedDataList";var _e=$W.WebSquareDocument.componentsCache;var _f=_e[_d];if(!_f){_f=_e[_d]=[];}_f.push(this.uuid);}if(!this.id){this.options.id=this.id=this.uuid;}else{if(window[$W.noConflict].data[this.id]!=null||window[$W.noConflict].comp[this.id]!=null){$W.logger.printLog("id["+this.id+"] \uac00 \uc911\ubcf5\uc0ac\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uae30\uc874\uc5d0 \uc788\ub358 linkedDataList\ub97c \uc0ad\uc81c\ud558\uace0 \uc0c8\ub85c \uc0dd\uc131\ud569\ub2c8\ub2e4.");var _10=$W._j["stopBroadCast"];try{$W._j["stopBroadCast"]=true;$W._j.api.remove(this.id);$W._j["stopBroadCast"]=_10;}catch(e){_10=$W._j["stopBroadCast"];}}}$W.idCache[this.uuid]=this;$W.idToUUID[this.id]=this.uuid;if($W._N.getConfiguration("/WebSquare/globalExposure/@value").toLowerCase()!="false"){window[this.id]=this;}window[$W.noConflict].data[this.id]=this;this.event=new $W.eventControl();this.initializeLinkedDataList(_8);this.bindAsEventList=[];this.bindAsUserEventList=[];this.userEventList=[];this.systemEventList={};if(_a!=undefined&&$W.idCache[_a]){this.parentFrame=_a;$W.idCache[_a].childAllControlList.push(this.uuid);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataList.prototype.initializeLinkedDataList=function(_11){try{this.element=_11;if(this.options.valueAttribute.wq_trim()=="$none"){this.options.valueAttribute="";}this.options.valueNode=this.options.valueAttribute;this.initialRowIndexArr=[];this.initialFilterList=[];this.filteredRowIndexArr=[];this.filteredRowIndexMap={};this.childCompHash={};this.refCompHash={};this.activated=false;this.conditionInfo={targetInfo:{},sortInfo:{parse:false,set:false},filterInfo:{parse:false,set:false,useRef:false}};if(this.elementType=="XML"){var _12=$W._B.getElementsByTagName(_11,"condition",$W._N._XML_NAMESPACE.W2);for(var i=0;i<_12.length;i++){var _14=_12[i];var _15=_14.getAttribute("type");switch(_15){case "sort":if(!this.conditionInfo.sortInfo.set){this.conditionInfo.sortInfo.set=true;this.conditionInfo.sortInfo.condition=$W._B.getCDataNodeValue(_14);}break;case "filter":if(!this.conditionInfo.filterInfo.set){this.conditionInfo.filterInfo.set=true;this.conditionInfo.filterInfo.condition=$W._B.getCDataNodeValue(_14);}break;}}}else{this.conditionInfo.sortInfo.set=true;this.conditionInfo.filterInfo.set=true;this.conditionInfo.sortInfo.condition=this.element.option.sortCondition;this.conditionInfo.filterInfo.condition=this.element.option.filterCondition;}this._dataList=$W._G.getComponentById(this.options.bind);$W._j.api.addChild(this);$W._j.api.addRelation(this.id,this.options.bind);if(this._dataList){if(!this.successBinding){this.successBinding=true;this.parent=this._dataList;this.columnPosition=null;this.rowPosition=null;this.oneRowDataLength=this._dataList.oneRowDataLength;this.bodyIdColIndexMap=this._dataList.bodyIdColIndexMap;this.cellInfoHash=this._dataList.cellInfoHash;this.cellIdList=this._dataList.cellIdList;this.structure=this._dataList.structure;this.initialRowIndexArr=this._dataList.filteredRowIndexArr.slice(0);this._dataList.addChild(this);this.filterManager=new $W._j.linkedFilterController(this);this.synchronize();if($W._j["activated"]){this.activate();}}}else{$l(this.id+" has been ignored because dataList is null. ");this.successBinding=false;this._dataList={};}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataList.prototype.finalize=function(){["WebSquare.DataCollection.dataList.prototype.finalize"];try{this.activated=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataList.prototype.activate=function(){["WebSquare.DataCollection.linkedDataList.prototype.activate"];try{if(!this.activated){this.refresh();for(var opt in this.options){if(opt.slice(0,3)=="ev:"){var _17=this.options[opt].split(",");for(var j=0;j<_17.length;j++){this.bind(opt.slice(3),_17[j]);}}}if(this.options.eventPause){this.setEventPause(this.options.eventPause,true);}}this.activated=true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataList.prototype.setDataList=function(){["WebSquare.DataCollection.linkedDataList.prototype.setDataList"];try{if(!this.successBinding){this._dataList=$W._G.getComponentById(this.options.bind);if(this._dataList){this.successBinding=true;this.parent=this._dataList;this.columnPosition=null;this.rowPosition=null;this.oneRowDataLength=this._dataList.oneRowDataLength;this.bodyIdColIndexMap=this._dataList.bodyIdColIndexMap;this.cellInfoHash=this._dataList.cellInfoHash;this.cellIdList=this._dataList.cellIdList;this.structure=this._dataList.structure;this.initialRowIndexArr=this._dataList.filteredRowIndexArr.slice(0);this._dataList.addChild(this);this.filterManager=new $W._j.linkedFilterController(this);this.synchronize();if($W._j["activated"]){this.refresh();this.activated=true;}}else{$l(this.id+" has been ignored because dataList is null. ");this.successBinding=false;this._dataList={};}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataList.prototype.addEvent=function(_19,_1a,_1b){["WebSquare.linkedDataList.addEvent"];try{_1b=_1b||"script";var _1c={name:_19,action:_1b,param:{handler:_1a}};if(!this.options.xmlEvents){this.options.xmlEvents=[];}this.options.xmlEvents.push(_1c);this.event.addUserEvents(this,[_1c],this.options.userEvents);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataList.prototype.bind=function(_1d,_1e){["WebSquare.linkedDataList.bind"];try{if(typeof _1d==="string"&&(_1d.slice(0,2)!="on")){_1d="on"+_1d;}if(_1d==="string"){_1d=_1d.toLowerCase();}this.addEvent(_1d,_1e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataList.prototype.trigger=function(_1f,_20){["WebSquare.linkedDataList.trigger"];try{if(typeof _1f==="string"&&(_1f.slice(0,2)!="on")){_1f="on"+_1f;}var _21=false;if(this.options.userEvents!=undefined){for(var i=0;i<this.options.userEvents.length;i++){if(this.options.userEvents[i]===_1f){_21=true;break;}}}if(!_21&&$W._c.isEventSupported(this.render,_1f)){if(_20&&extraParamteres.constructor==Array){$W._c.fireSystemEvent(this,_1f,_20[0]);}else{$W._c.fireSystemEvent(this,_1f);}}else{var _23=[this,_1f];_23=_23.concat(_20);$W._c.fireEvent.apply($W._c.fireEvent,_23);_23[0]=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataList.prototype.unbind=function(_24,_25){["WebSquare.linkedDataList.unbind"];try{if(typeof _24==="string"&&(_24.slice(0,2)!="on")){_24="on"+_24;}if(typeof _24==="string"&&typeof _25==="function"){for(var i=0;i<this.userEventList.length;i++){if(_24===this.userEventList[i].name&&_25===this.userEventList[i].param.handler){this.userEventList.splice(i,1);if(typeof this.systemEventList[_24]==="object"){this.systemEventList[_24].count--;if(this.systemEventList[_24].count<=0){this.event.removeListener(this.render,_24,this.systemEventList[_24].handler);delete this.systemEventList[_24];}}}}}else{if(typeof _24==="string"&&_25==undefined){for(var i=this.userEventList.length-1;i>=0;i--){if(_24===this.userEventList[i].name){this.userEventList.splice(i,1);}}if(typeof this.systemEventList[_24]==="object"){this.event.removeListener(this.render,_24,this.systemEventList[_24].handler);delete this.systemEventList[_24];}}else{for(var ev in this.systemEventList){this.event.removeListener(this.render,ev,this.systemEventList[ev].handler);}this.userEventList=[];this.systemEventList={};}}this.options.xmlEvents=this.userEventList.slice();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._j.linkedDataList.prototype.onComplete=function(){if(this.completed){$l("!!!WARNING!!! duplicate call 'onComplete' for : "+this.id);return;}this.completed=true;};$W._j.linkedDataList.prototype.setEventPause=function(_28,_29){var _2a={};var _2b=false;if(typeof _28=="string"&&_28!=""){var _2c=_28.split(",");for(var i=0;i<_2c.length;i++){if(_2c[i]){_2a[_2c[i]]=true;}}}else{_2b=true;}for(var i=this.userEventList.length-1;i>=0;i--){if(_2b||_2a[this.userEventList[i].name]){this.userEventList[i].disabled=_29;}}};;WebSquare.uiplugin.linkedDataList=$W._a._B;$W._a.bk=function(id,_2,_3){["WebSquare.uiplugin.body"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bk.prototype,$W._t.prototype);$W._a.bk.prototype.defaultOptions={pluginType:"uiplugin.body",pluginName:"body",parseChild:true,useConfig:true,toolTipSec:10};$W._a.bk.prototype.initialize=function(_4){this.wmodeFrameHash={};this.modal=null;this.toolTip=null;this.toolTipTime=null;this.toolTipSec=this.options.toolTipSec;this.forceClose=$W._N.getConfiguration("/WebSquare/body/layerForceClose/@value");this.layerListener=new $W.bodyLayerListener();if(!this.resizeChecker){$W._a.bk.prototype.resizeChecker=new $W.resizeChecker();$W._G.setInterval(this.resizeChecker.checkResize,{key:"body_checkResize",caller:this.resizeChecker,delay:60});}};$W._a.bk.prototype.setRender=function(){if(this.parentControl&&this.parentControl.options.pluginName=="wframe"){this.render=this.parentControl.render;}else{this.render=document.body;this.render.className=this.options.className;if($W.w2xTheme){this.addClass("w5_"+$W.w2xTheme);}}var _5=$W._N.getChildConfigurationDocument("/WebSquare/browserSelector");for(var i=0;i<_5.length;i++){if(_5[i]["@tagName"]=="className"){if((new RegExp(_5[i].pattern)).test(navigator.userAgent)){this.addClass(_5[i].value);}}}};$W._a.bk.prototype.setAction=function(){if(this.parentControl==null){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(){if(typeof __WebSquare_gridArr__==="object"&&__WebSquare_gridArr__!=null){for(var i=__WebSquare_gridArr__.length-1;i>=0;i--){try{if(__WebSquare_gridArr__[i]){__WebSquare_gridArr__[i].otherClickHandler(arguments[0]);}}catch(e){__WebSquare_gridArr__[i]=null;delete __WebSquare_gridArr__[i];var _8=__WebSquare_gridArr__.length-1;__WebSquare_gridArr__[i]=__WebSquare_gridArr__[_8];__WebSquare_gridArr__[_8]=null;delete __WebSquare_gridArr__[_8];__WebSquare_gridArr__.length=_8;}}}}));}};$W._a.bk.prototype.toHTML=function(){var _9=[];var _a=this.getChildren();for(var i=0;i<_a.length;i++){_9.push(_a[i].toHTML());}return _9.join("");};$W._a.bk.prototype.parseDomToRender=function(_c){if(_c){var id=_c.getAttribute("id");for(var _e=_c.firstChild;_e!=null;_e=_e.nextSibling){if(_e.nodeType==1){this.parseDomToRender(_e);}}}};$W._a.bk.prototype.showWModeFrame=function(_f,_10){["WebSquare.uiplugin.body.prototype.showWModeFrame"];try{if(!this.render||!_10){return;}if(_f=="menu"){if(_10.childNodes.length==0){return;}var _11=_10.childNodes;var _12=_11[0].className.split(" ")[0];this.wmodeFrameHash[_12]=document.getElementById(_12+"_wmode_frame");if(!this.wmodeFrameHash[_12]){this.wmodeFrameHash[_12]=document.createElement("iframe");this.wmodeFrameHash[_12].id=_12+"_wmode_frame";this.wmodeFrameHash[_12].className="w2wmode_frame w2wmode_menuFrame";this.wmodeFrameHash[_12].style.position="absolute";this.wmodeFrameHash[_12].frameBorder="no";if(location.protocol=="https:"){this.wmodeFrameHash[_12].src=$W._r.getSSLBlankPage(true);}}if(this.wmodeFrameHash[_12]){var _13=this;setTimeout(function(){_13.wmodeFrameHash[_12].controlID=_12;_13.wmodeFrameHash[_12].style.top=$W._H.getAbsoluteTop(_11[0])+"px";_13.wmodeFrameHash[_12].style.width=_11[0].offsetWidth+"px";_13.wmodeFrameHash[_12].style.height=_11[0].offsetHeight+"px";_13.wmodeFrameHash[_12].style.display="block";_13.wmodeFrameHash[_12].style.left=$W._H.getAbsoluteLeft(_11[0])+"px";_13.render.insertBefore(_13.wmodeFrameHash[_12],_10.parentElement);},1);}}else{this.wmodeFrameHash[_f]=document.getElementById(this.id+"_"+_f+"_wmode_frame");if(!this.wmodeFrameHash[_f]){this.wmodeFrameHash[_f]=document.createElement("iframe");this.wmodeFrameHash[_f].id=this.id+"_"+_f+"_wmode_frame";this.wmodeFrameHash[_f].className="w2wmode_frame";this.wmodeFrameHash[_f].style.position="absolute";this.wmodeFrameHash[_f].frameBorder="no";if(location.protocol=="https:"){this.wmodeFrameHash[_f].src=$W._r.getSSLBlankPage(true);}}if(this.wmodeFrameHash[_f]){var _13=this;setTimeout(function(){_13.wmodeFrameHash[_f].controlID=_10.id;_13.wmodeFrameHash[_f].style.left=_10.offsetLeft+"px";_13.wmodeFrameHash[_f].style.top=_10.offsetTop+"px";_13.wmodeFrameHash[_f].style.width=_10.offsetWidth+"px";_13.wmodeFrameHash[_f].style.height=_10.offsetHeight+"px";_13.wmodeFrameHash[_f].style.display="block";_13.render.insertBefore(_13.wmodeFrameHash[_f],_10);},1);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.hideWModeFrame=function(_14,id){["WebSquare.uiplugin.body.prototype.hideWModeFrame"];try{if(_14=="menu"){if(this.wmodeFrameHash[id]&&this.wmodeFrameHash[id].controlID==id){this.wmodeFrameHash[id].style.display="none";}}else{if(this.wmodeFrameHash[_14]&&this.wmodeFrameHash[_14].controlID==id){this.wmodeFrameHash[_14].style.display="none";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.removeWModeFrame=function(_16,id){["WebSquare.uiplugin.body.prototype.removeWModeFrame"];try{if(_16=="menu"){if(this.wmodeFrameHash[id]&&this.wmodeFrameHash[id].controlID==id){document.body.removeChild(this.wmodeFrameHash[id]);delete this.wmodeFrameHash[id];}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.showModal=function(_18,_19){["WebSquare.uiplugin.body.prototype.showModal"];try{if(!this.modal){this.modal=document.createElement("div");this.modal.id="_modal";this.modalStack=[];this.modalStackPopupLayer=[];}if(_18){this.modalStack[this.modalStack.length]=_18;this.modal.className=_18;}else{this.modalStack[this.modalStack.length]="w2modal";this.modal.className="w2modal";}if(this.modal){this.render.appendChild(this.modal);this.modal.style.display="block";if(this.modal.setActive){this.modal.setActive();}else{if(document.activeElement){document.activeElement.blur();}else{this.modal.focus();}}if($W._G.isIE(6)){this.modal.style.top=document.documentElement.scrollTop+"px";this.modal.style.left=document.documentElement.scrollLeft+"px";this.modal.style.width=document.documentElement.scrollWidth+"px";this.modal.style.height=document.documentElement.scrollHeight+"px";}if(!$W._G.isFF()&&!$W._G.isMobile()){this.addClass(document.documentElement,"w2modalopenedbody");}if(_19&&_19.length>0){for(var i=0;i<_19.length;i++){var _1b=_19[i];if(_1b&&$W._G.getComponentById(_1b).options.pluginName){$W._G.getComponentById(_1b).addClass("w2modal_popupLayer");}else{$l("[body.showModal]\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 WebSquare Component\uc785\ub2c8\ub2e4.("+i+")");}}this.modalStackPopupLayer[this.modalStackPopupLayer.length]=_19;}if($W._G.isMobile()&&$W._N.getConfiguration("/WebSquare/modal/@preventTouch")=="true"){$W._c.addListener(this.modal,"ontouchmove",this.handleTouchMove);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.handleTouchMove=function(e){$W._c.preventDefault(e);};$W._a.bk.prototype.modalEvent=function(_1d){["WebSquare.uiplugin.body.prototype.modalEvent"];try{if(this.modal){if(_1d){$W._c.addListener(this.modal,"onclick",function(){_1d.focus();});$W._c.addListener(this.modal,"ondblclick",function(){_1d.focus();});}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.hideModal=function(){["WebSquare.uiplugin.body.prototype.showModal"];try{if(this.modal){this.modalStack.pop();if(this.modalStack.length==0){this.modal.style.display="none";if(!$W._G.isFF()&&!$W._G.isMobile()){this.removeClass(document.documentElement,"w2modalopenedbody");}}else{var _1e=this.modalStack[this.modalStack.length-1];this.modal.className=_1e;}if(this.modalStackPopupLayer.length>0){var _1f=this.modalStackPopupLayer[this.modalStackPopupLayer.length-1];for(var i=0;i<_1f.length;i++){var _21=_1f[i];if($W._G.getComponentById(_21)){$W._G.getComponentById(_21).removeClass("w2modal_popupLayer");}}this.modalStackPopupLayer.splice(this.modalStackPopupLayer.length-1,1);}if($W._G.isMobile()&&$W._N.getConfiguration("/WebSquare/modal/@preventTouch")=="true"){$W._c.removeListener(this.modal,"ontouchmove",this.handleTouchMove);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.setToolTip=function(_22,_23){["WebSquare.uiplugin.body.prototype.showToolTip"];try{var _24=this;if($W._G.isMobile()){$W._c.addListener(_22,"ontouchstart",this.event.bindAsEventListener(this,function(e){$W.getBody().showToolTip(e,_22,_23);}));$W._c.addListener(_22,"ontouchend",this.event.bindAsEventListener(this,function(e){$W.getBody().hideToolTip(e);}));}else{$W._c.addListener(_22,"onmouseover",this.event.bindAsEventListener(this,function(e){$W.getBody().showToolTip(e,_22,_23);}));$W._c.addListener(_22,"onmouseout",this.event.bindAsEventListener(this,function(e){$W.getBody().hideToolTip(e);}));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.showToolTip=function(e,_2a,_2b){["WebSquare.uiplugin.body.prototype.showToolTip"];try{var idx=_2b.indexOf("javascript:");if(idx>-1){var _2d=_2b.substring(11,_2b.length);var _2e=eval(_2d);_2b=_2e;}if(_2b==""){return;}if(this.toolTipTime){clearTimeout(this.toolTipTime);this.toolTipTime=null;}if(!this.toolTip){this.toolTip=new $W._a.av(this.id+"_balloonTip");this.toolTip.writeTo(this);this.toolTip.activate();}if(this.toolTip){var _2f=$W._H.getAbsoluteLeft(_2a);var top=$W._H.getAbsoluteTop(_2a);var _31=$W._H.getSize(_2a,"height");this.toolTip.setValue(_2b);var _32=this;this.toolTipTime=setTimeout(function(){_32.toolTip.show();var _33=_32.toolTip.render.offsetWidth;var _34=_32.toolTip.render.offsetHeight;if(_2f+_33>document.documentElement.scrollLeft+document.documentElement.clientWidth-10){_2f=document.documentElement.scrollLeft+document.documentElement.clientWidth-_33-10;}var _35=top-_34;if(_35<document.documentElement.scrollTop+10){if(_35<0){_35=top+_31+5;}else{_35=document.documentElement.scrollTop+10;}}_32.toolTip.setPosition(_2f,_35);_32.toolTip.setOpacity(0);new $W._M.opacity(_32.toolTip.render,{opacity:0,from:1,to:0});},this.toolTipSec);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.hideToolTip=function(){["WebSquare.uiplugin.body.prototype.hideToolTip"];try{if(this.toolTipTime){clearTimeout(this.toolTipTime);this.toolTipTime=null;}if(this.toolTip){this.toolTip.hide();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bk.prototype.getLayerListener=function(){["WebSquare.uiplugin.body.prototype.getLayerListener"];try{return this.layerListener;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener=function(){["WebSquare.bodyLayerListener"];this.layers={};this.existShow=false;this.useOtherComponentId={};};$W.bodyLayerListener.prototype.addListener=function(obj){["WebSquare.bodyLayerListener"];try{var _37=true;for(var id in this.layers){_37=false;break;}var _39=obj.component;var _3a=obj.component.id;this.layers[_3a]={component:obj.component,show:obj.fnShow,hide:obj.fnHide,paramHide:obj.paramHide,event:obj.event,isShow:false,otherClick:obj.otherClick};if(_37){if($W._G.isMobile()){$W.getBody().event.addListener(document.documentElement,"ontouchstart",$W.getBody().event.bindAsEventListener($W.getBody(),this.handleMouseDownEventDocument));}else{$W.getBody().event.addListener(document.documentElement,"onmousedown",$W.getBody().event.bindAsEventListener($W.getBody(),this.handleMouseDownEventDocument));$W.getBody().event.addListener(document.documentElement,"onmousewheel",$W.getBody().event.bindAsEventListener($W.getBody(),this.handleMouseWheelEventDocument));$W.getBody().event.addListener(window,"onscroll",$W.getBody().event.bindAsEventListener($W.getBody(),this.handleScrollEventDocument));$W.getBody().event.addListener(window,"onresize",$W.getBody().event.bindAsEventListener($W.getBody(),this.handleMouseWheelEventDocument));}}if(obj.event){for(var _3b in obj.event){_39.event.addListener(document.documentElement,_3b,_39.event.bindAsEventListener(_39,obj.event[_3b]));}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.show=function(id,_3d){["WebSquare.bodyLayerListener.show"];try{if(this.layers[id]&&typeof this.layers[id].show==="function"){var _3e=this.layers[id].component;var _3f={};while(_3e.parentControl){_3e=_3e.parentControl;if(_3e.id){_3f[_3e.id]=true;}}this.hideAll(_3f);this.layers[id].show.call(this.layers[id].component,_3d);this.layers[id].isShow=true;this.existShow=true;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.hide=function(id,_41){["WebSquare.bodyLayerListener.hide"];try{if(this.layers[id]&&typeof this.layers[id].hide==="function"){this.layers[id].hide.call(this.layers[id].component,_41);this.layers[id].isShow=false;this.existShow=false;for(var _42 in this.layers){if(this.layers[_42].isShow){this.existShow=true;break;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.hideAll=function(_43){["WebSquare.bodyLayerListener.hideAll"];try{this.targetHideArr=[];for(var id in this.layers){if(_43&&_43[id]){continue;}if(this.layers[id].isShow){var _45={};_45["id"]=id;_45["param"]=this.layers[id].paramHide;this.targetHideArr.push(_45);this.hide(id,this.layers[id].paramHide);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.isExist=function(id){["WebSquare.bodyLayerListener.isExist"];try{if(this.layers[id]){return true;}else{return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.isShow=function(id){["WebSquare.bodyLayerListener.show"];try{if(this.layers[id]){return !!this.layers[id].isShow;}else{return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.remove=function(id){["WebSquare.bodyLayerListener.remove"];try{if(this.layers[id]){for(var _49 in this.layers[id].event){$W._c.removeListener(document.documentElement,_49,this.layers[id].event[_49]);}this.layers[id].component=null;this.layers[id].draw=null;this.layers[id].show=null;this.layers[id].hide=null;this.layers[id].event=null;delete this.layers[id];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.removeAll=function(){["WebSquare.bodyLayerListener.removeAll"];try{for(var id in this.layers){for(var _4b in this.layers[id].event){$W._c.removeListener(document.documentElement,_4b,this.layers[id].event[_4b]);}this.layers[id].component=null;this.layers[id].draw=null;this.layers[id].show=null;this.layers[id].hide=null;this.layers[id].event=null;delete this.layers[id];}this.layers={};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.handleMouseDownEventDocument=function(e){["WebSquare.bodyLayerListener.handleMouseDownEventDocument"];try{if(!this.layerListener.existShow){return;}else{var top,left;if($W._G.isIE("6 7 8")){top=document.documentElement.scrollTop;left=document.documentElement.scrollLeft;}else{top=window.pageYOffset;left=window.pageXOffset;}if($W._c.getMouseX(e)<document.documentElement.clientWidth+left&&$W._c.getMouseY(e)<document.documentElement.clientHeight+top){this.layerListener.hideAll();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.handleMouseWheelEventDocument=function(e){["WebSquare.bodyLayerListener.handleMouseWheelEventDocument"];try{if($W._G.isIE("6 7 8")&&e&&e.type.toLowerCase()==="resize"){return;}if(!this.layerListener.existShow){return;}else{var _4f;for(var id in this.layerListener.layers){if(this.layerListener.layers[id].isShow&&this.layerListener.layers[id].component&&this.layerListener.layers[id].component.render.parentNode){_4f=this.layerListener.layers[id].component.render.parentNode;}}var _51=$W._c.getTarget(e);if(this.forceClose=="true"||(_51!=$W.getBody().render&&_4f!=$W.getBody().render)){this.layerListener.hideAll();return;}var doc=document.documentElement;var top,left;if($W._G.isIE("6 7 8")){top=document.documentElement.scrollTop;left=document.documentElement.scrollLeft;}else{top=window.pageYOffset;left=window.pageXOffset;}if(top===0||doc.scrollHeight-top===doc.clientHeight||left===0||doc.scrollWidth-left===doc.clientWidth){return;}this.useWheel=true;this.layerListener.hideAll();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.handleScrollEventDocument=function(e){["WebSquare.bodyLayerListener.handleScrollEventDocument"];try{var _55=this.layerListener.targetHideArr;if(!_55||_55.length<=0||this.useWheel==undefined||!this.useWheel){return;}else{for(var i=0;i<_55.length;i++){this.layerListener.show(_55[i]["id"],_55[i]["param"]);}this.layerListener.targetHideArr=[];this.useWheel=false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.bodyLayerListener.prototype.otherClick=function(e){for(var _58 in this.layers){if(typeof this.layers[_58].otherClick==="function"){this.layers[_58].otherClick.call(this.layers[_58].component,e);}}};$W.resizeChecker=function(){["WebSquare.resizeChecker"];this.comps=[];};$W.resizeChecker.prototype.register=function(_59){this.comps.push(_59);};$W.resizeChecker.prototype.setResize=function(_5a){for(var i=0;i<this.comps.length;i++){this.comps[i].handleResize();}};$W.resizeChecker.prototype.checkResize=function(_5c){if(!_5c){for(var i=0;i<this.comps.length;i++){this.comps[i].checkResize();}}};;WebSquare.uiplugin.body=$W._a.bk;requires("uiplugin/control/cssCustomizer.js");$W._a._o=function(id,_2,_3){["WebSquare.uiplugin.group"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._o.prototype,$W._t.prototype);$W.extend($W._a._o.prototype,$W.cssCustomizer.prototype);$W._a._o.prototype.defaultOptions={pluginType:"uiplugin.group",pluginName:"group",userEvents:["ondragstart","ondrag","ondragend","ondragenter","ondragover","ondragleave","ondrop"],systemEvents:["onblur","onclick","ondblclick","onfocus","onmousedown","onmouseout","onmouseover","onmouseup","onmousemove"],parseChild:true,parseAttributes:true,tagname:"div",lazyDraw:false,role:""};$W._a._o.prototype.initialize=function(_4){this.bindDrag=false;this.bindDrop=false;};$W._a._o.html5={"article":"div","aside":"div","bdi":"div","details":"div","dialog":"div","figcaption":"div","figure":"div","footer":"div","header":"div","main":"div","mark":"div","menuitem":"div","meter":"div","nav":"div","progress":"div","rp":"div","rt":"div","ruby":"div","section":"div","summary":"div","time":"div","wbr":"div"};$W._a._o.prototype.toHTML=function(){["WebSquare.uiplugin.group.toHTML"];try{var _5=[];var _6=(this.options.role!="")?"role='"+this.options.role+"'":"";var _7=(this.options.style=="")?"":"style='"+this.options.style+"'";var _8=this.options.tagname;if($W._N.browserCheck.ie){var _9=$W._N.browserVersion();if(_9=="6"||_9=="7"||_9=="8"){if($W._a._o.html5[_8]){_8=$W._a._o.html5[_8];}}}_5.push("<"+_8+" id='"+this.id+"' "+_7+" class='w2group "+this.options.className+"' "+_6+" "+this.getAttributesString()+">");if(!this.options.lazyDraw){var _a=this.getChildren();for(var i=0;i<_a.length;i++){_5.push(_a[i].toHTML());}}_5.push("</"+_8+">");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.setAction=function(){this.setDragDrop();if(this.options.tagname=="table"&&(this.options.adaptive=="crosstab"||this.options.adaptive=="layout")){var _c=this.getElementById(this.id).getElementsByTagName("tr");for(var i=0;i<_c.length;i++){var _e=_c[i].className;if(_e.indexOf("w2group")>-1&&_e.indexOf("w2tb_tr")==-1){_c[i].className=_e+" w2tb_tr";}}this.setAdaptive();this.event.addListener(window,"onresize",this.event.bindAsEventListener(this,this.setAdaptive));this.invoke("setSetting","");}if(this.options.tagname=="td"){if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if($W._G.isIEAllVersion()){if(this.render.previousSibling!=null){if(this.render.previousSibling.tagName!="TH"){this.addClass("w2tb_noTH");}else{this.render.setAttribute("data-title",this.render.previousSibling.innerText||this.render.previousSibling.textContent);}}else{this.addClass("w2tb_noTH");}}else{if(this.element.previousElementSibling!=null){if(this.render.previousElementSibling.tagName!="TH"){this.addClass("w2tb_noTH");}else{this.render.setAttribute("data-title",this.render.previousElementSibling.innerText||this.render.previousElementSibling.textContent);}}else{this.addClass("w2tb_noTH");}}}}if(this.options.tagname=="a"){var _f=this.uuid;if(!$W._G.isIEAllVersion()){this.render.addEventListener("click",function(e){var _11=$W.idCache[_f];if(_11.getDisabled()){$W._c.preventDefault(e);}});}if($W._G.isIE(6)||$W._G.isIE(7)){this.render.attachEvent("onclick",function(e){var _13=$W.idCache[_f];if(_13.getDisabled()){$W._c.preventDefault(e);}});}}};$W._a._o.prototype.draw=function(){["WebSquare.uiplugin.group.draw"];try{var _14=[];var _15=this.getChildren();if(_15.length>0&&_15[0].render){return;}else{for(var i=0;i<_15.length;i++){_14.push(_15[i].toHTML());}this.render.innerHTML=_14.join("");for(var i=0;i<_15.length;i++){_15[i].activate();_15[i].onComplete();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.setInitValue=function(_17){["WebSquare.uiplugin.group.init"];try{this.init(_17);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.init=function(_18){["WebSquare.uiplugin.group.init"];try{_18=$W.extend({excludePlugin:"",excludeId:"",fireEvent:false,recursive:false},_18||{});var _19=this.getChildren().slice(0).reverse();while(_19.length>0){var _1a=_19.pop();if(_1a.setInitValue&&(" "+_18.excludePlugin+" ").indexOf(" "+_1a.options.pluginName+" ")==-1&&(" "+_18.excludeId+" ").indexOf(" "+_1a.id+" ")==-1){_1a.setInitValue(_18);}if(_18.recursive){for(var i=0;i<_1a.childControlList.length;i++){_19.push(_1a.childControlList[i]);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.invoke=function(_1c,_1d,_1e,_1f){["WebSquare.uiplugin.group.invoke"];try{return $W._t.prototype.invoke.call(this,_1c,_1d,_1e,_1f);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.setDisabled=function(_20){["WebSquare.uiplugin.group.setDisabled"];try{$W._t.prototype.setDisabled.call(this,_20);_20=$W._G.getBoolean(_20);for(var i=0;i<this.childControlList.length;i++){var _22=this.childControlList[i];if(_22.setDisabled&&_22.activeStatus!="stop"){_22.setDisabled(_20);}}}catch(e){$W.exception.printStackTrace(e);}return _20;};$W._a._o.prototype.getDisabled=function(){["WebSquare.uiplugin.group.getDisabled"];try{return this.options&&this.options.disabled;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.getAttributeNode=function(_23){["WebSquare.uiplugin.group.getAttributeNode"];try{return $W._t.attributes.getAttributeNode.call(this,_23);}catch(e){$W.exception.printStackTrace(e);}};$W._a._o.prototype.setAttributeNode=function(_24,_25){["WebSquare.uiplugin.group.setAttributeNode"];try{$W._t.attributes.setAttributeNode.call(this,_24,_25);}catch(e){$W.exception.printStackTrace(e);}};$W._a._o.prototype.removeAttributeNode=function(_26){["WebSquare.uiplugin.group.removeAttributeNode"];try{$W._t.attributes.removeAttributeNode.call(this,_26);}catch(e){$W.exception.printStackTrace(e);}};$W._a._o.prototype.setAdaptive=function(){["WebSquare.uiplugin.group.setAdaptive"];try{var _27=parseInt(this.options.adaptiveThreshold)||480;if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_27){this.addAdaptive();}else{this.removeAdaptive();}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._o.prototype.addAdaptive=function(){["WebSquare.uiplugin.group.addAdaptive"];try{if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){var _28=this.options.adaptive;var _29;if(_28=="layout"){_29="w2tb_adaptive_layout";}else{if(_28=="crosstab"){_29="w2tb_adaptive_crosstab";}}if(!this.hasClass(_29)){this.addClass(_29);}this.removeAdaptiveHeight(_28);this.setAdaptiveHeight(_28);}}catch(e){$W.exception.printStackTrace(e);}};$W._a._o.prototype.removeAdaptive=function(){["WebSquare.uiplugin.group.removeAdaptive"];try{if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){var _2a=this.options.adaptive;var _2b;if(_2a=="layout"){_2b="w2tb_adaptive_layout";}else{if(_2a=="crosstab"){_2b="w2tb_adaptive_crosstab";}}if(this.hasClass(_2b)){this.removeClass(_2b);}this.removeAdaptiveHeight(_2a);}}catch(e){$W.exception.printStackTrace(e);}};$W._a._o.prototype.setAdaptiveHeight=function(_2c){["WebSquare.uiplugin.group.setAdaptiveHeight"];try{if(_2c=="crosstab"){var ths=document.getElementById(this.id).getElementsByClassName("w2tb_th");var _2e=document.getElementById(this.id).getElementsByTagName("tbody")[0].getElementsByClassName("w2tb_tr");var _2f=parseInt($W._G.getComponentById(ths[0].id).getStyle("padding-top"));var _30=parseInt($W._G.getComponentById(ths[0].id).getStyle("padding-bottom"));var td=document.getElementById(this.id).getElementsByClassName("w2tb_td")[0];var _32=parseInt($W._G.getComponentById(td.id).getStyle("padding-top"));var _33=parseInt($W._G.getComponentById(td.id).getStyle("padding-bottom"));for(var i=0;i<ths.length;i++){var _35=ths[i].offsetHeight;var _36=0;for(var j=0;j<_2e.length;j++){var tds=_2e[j].getElementsByClassName("w2tb_td");for(var k=0;k<tds.length;k++){var _3a=tds[i].offsetHeight;_36=_36>=_3a?_36:_3a;}}if(_35>_36){for(var l=0;l<_2e.length;l++){var tds=_2e[l].getElementsByClassName("w2tb_td");$W._G.getComponentById(tds[i].id).setSize("height",_35-(_32+_33+1));}}else{if(_35<_36){$W._G.getComponentById(ths[i].id).setSize("height",_36-(_2f+_30+1));for(var l=0;l<_2e.length;l++){var tds=_2e[l].getElementsByClassName("w2tb_td");$W._G.getComponentById(tds[i].id).setSize("height",_36-(_2f+_30+1));}}}}}else{if(_2c=="layout"){var tds=document.getElementById(this.id).getElementsByClassName("w2tb_td");for(var i=0;i<tds.length;i++){var _3c=tds[i].getAttribute("data-title");if(_3c){var _3d=$W._G.getRulerSpan();_3d.style["padding"]=window.getComputedStyle(tds[i],":before").getPropertyValue("padding");_3d.style["padding-top"]=window.getComputedStyle(tds[i],":before").getPropertyValue("padding-top");_3d.style["padding-right"]=window.getComputedStyle(tds[i],":before").getPropertyValue("padding-right");_3d.style["padding-bottom"]=window.getComputedStyle(tds[i],":before").getPropertyValue("padding-bottom");_3d.style["padding-left"]=window.getComputedStyle(tds[i],":before").getPropertyValue("padding-left");_3d.style["width"]=window.getComputedStyle(tds[i],":before").getPropertyValue("width");_3d.style["border-width"]=window.getComputedStyle(tds[i],":before").getPropertyValue("border-width");_3d.style["line-height"]=window.getComputedStyle(tds[i],":before").getPropertyValue("line-height");_3d.style["white-space"]=window.getComputedStyle(tds[i],":before").getPropertyValue("white-space");_3d.style["word-wrap"]=window.getComputedStyle(tds[i],":before").getPropertyValue("word-wrap");_3d.style["word-break"]=window.getComputedStyle(tds[i],":before").getPropertyValue("word-break");_3d.style["font-weight"]=window.getComputedStyle(tds[i],":before").getPropertyValue("font-weight");_3d.innerHTML=_3c;if(_3d.offsetHeight>tds[i].offsetHeight){tds[i].style.height=parseInt(window.getComputedStyle(_3d).getPropertyValue("height"),10)+"px";}_3d.style.top="-10000px";_3d.style.left="-10000px";_3d.style.visibility="hidden";}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._o.prototype.removeAdaptiveHeight=function(_3e){["WebSquare.uiplugin.group.removeAdaptiveHeight"];try{if(_3e=="crosstab"){var ths=document.getElementById(this.id).getElementsByClassName("w2tb_th");var tds=document.getElementById(this.id).getElementsByClassName("w2tb_td");for(var i=0;i<ths.length;i++){ths[i].style.removeProperty("height");}for(var k=0;k<tds.length;k++){tds[k].style.removeProperty("height");}}else{if(_3e=="layout"){var tds=document.getElementById(this.id).getElementsByClassName("w2tb_td");for(var i=0;i<tds.length;i++){tds[i].style.removeProperty("height");}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._o.prototype.setAdaptiveLabel=function(_43){["WebSquare.uiplugin.group.setAdaptiveLabel"];try{if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){var _44=this.render.nextSibling||this.render.nextElementSibling;if(_44!=null&&_44.tagName=="TD"&&_44.getAttribute("data-title")!=null){_44.setAttribute("data-title",_43);this.render.innerHTML=_43;}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._o.prototype.setReadOnly=function(_45){["WebSquare.uiplugin.group.removeAttributeNode"];try{this.options.readOnly=_45;this.invoke("setReadOnly",_45);}catch(e){$W.exception.printStackTrace(e);}};$W._a._o.prototype.bind=function(_46,_47){["WebSquare.xfControl.bind"];try{$W._t.prototype.bind.call(this,_46,_47);this.setDragDrop();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._o.prototype.setDragDrop=function(){var _48=false;var _49=false;if(this.options.xmlEvents==undefined){return;}for(var i=0;i<this.userEventList.length;i++){var _4b=this.userEventList[i];switch(_4b.name){case "ondragstart":case "ondrag":case "ondragend":_48=true;break;case "ondragenter":case "ondragover":case "ondragleave":case "ondrop":_49=true;break;}}if(_48&&!this.bindDrag){if($W._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(document.documentElement,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(document.documentElement,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));}this.bindDrag=true;}if(_49&&!this.bindDrop){$W.dragdrop2["droppable"][this.uuid]={"over":false};this.bindDrop=true;}};$W._a._o.prototype.finalize=function(){this.bindDrag=false;this.bindDrop=false;$W.dragdrop2["droppable"][this.uuid]=null;delete $W.dragdrop2["droppable"][this.uuid];};$W._a._o.prototype.handleTouchStart=function(e){if(!e.touches||e.touches.length==1){this.setUserData("dragStatus","stop");var _4d=$W.getBody();_4d.addClass("w2noselect");$W._G.emptySelection();}};$W._a._o.prototype.handleTouchMove=function(e){if(!e.touches||e.touches.length==1){var _4f=this.getUserData("dragStatus");if((_4f!="stop"&&_4f!="move")||!this.getUserData("draggable")){return;}$W._N.setTimer(this._handleTouchMove,{key:this.id+"_handleTouchMove",caller:this,args:[{clientX:e.touches?e.touches[0].pageX:e.clientX,clientY:e.touches?e.touches[0].pageY:e.clientY}],delay:30,max:30});$W._c.preventDefault(e);}};$W._a._o.prototype._handleTouchMove=function(e){var _51=this.getUserData("dragStatus");if((_51!="stop"&&_51!="move")||!this.getUserData("draggable")){return;}var x=e.touches?e.touches[0].pageX:e.clientX;var y=e.touches?e.touches[0].pageY:e.clientY;x+=document.body.scrollLeft;y+=document.body.scrollTop;if(_51=="stop"){function updatePosition(arr){for(var _55 in arr){if($W.idCache[_55]==null){continue;}var el=$W.idCache[_55].render;var top=$W._H.getAbsoluteTop(el);var _58=$W._H.getAbsoluteLeft(el);arr[_55].position={top:top,left:_58,bottom:top+el.offsetHeight,right:_58+el.offsetWidth};}}updatePosition($W.dragdrop2["droppable"]);updatePosition($W.dragdrop2["scrollable"]);this.setUserData("dragStatus","move");$W._c.fireEvent(this,"ondragstart",x,y);}$W._c.fireEvent(this,"ondrag",x,y);for(var _59 in $W.dragdrop2["scrollable"]){var _5a=$W.dragdrop2["scrollable"][_59];var _5b=$W.idCache[_59];if(_5b==null){continue;}var pos=_5a.position;var _5d=_5b.options.dragScrollSize;var _5e,speed;if(pos.left<=x&&x<=pos.right){if(pos.top<=y&&y<=pos.top+_5d){_5e="up";speed=_5b.render.clientHeight*(_5d-(y-pos.top))/_5d+$W.dragdrop2.scrollByDragSpeed;}else{if(pos.bottom-_5d<=y&&y<=pos.bottom){_5e="down";speed=_5b.render.clientHeight*(_5d-(pos.bottom-y))/_5d+$W.dragdrop2.scrollByDragSpeed;}}}if(_5e==null){_5a.scroll=false;$W._N.clearTimer(_5b.id+"_setSlideByDrag");$W._N.clearTimer(_5b.id+"_slideByDrag");}else{var _5f=_5a.scroll?50:$W.dragdrop2.scrollByDragDelay;$W._N.setTimer(function(_60,_61,_62){var _63=$W.idCache[_62];var _64=_63.getScrollTop();var _65=_60=="up"?0:_63.getMaxScrollTop();if(_64!=_65){_63.scroll=true;$W._H.animate(_63,function(t){var _67=parseInt(_64+t*(_65-_64),10);var _68=_67-this.getScrollTop();this._scrollTo(null,_67);for(var _69 in $W.dragdrop2["droppable"]){var _6a=$W.idCache[_69];var _6b=false;while(_6a=_6a.parentControl){if(_6a==this){_6b=true;break;}}if(_6b){$W.dragdrop2["droppable"][_69].position.top-=_68;$W.dragdrop2["droppable"][_69].position.bottom-=_68;}}for(var _6c in $W.dragdrop2["droppable"]){var _6d=$W.dragdrop2["droppable"][_6c];var pos=_6d.position;if($W.idCache[_6c]==null){continue;}if(pos.left<=x&&x<=pos.right&&pos.top<=y&&y<=pos.bottom){if(!_6d.over){_6d.over=true;$W._c.fireEvent($W.idCache[_6c],"ondragenter");}_6d.drop=$W._c.fireEvent($W.idCache[_6c],"ondragover")===false;}else{if(_6d.over){_6d.over=false;_6d.drop=false;$W._c.fireEvent($W.idCache[_6c],"ondragleave");}}}},{key:_63.id+"_slideByDrag",easing:"linear",duration:1000/_61*Math.abs(_65-_64)});}},{key:_5b.id+"_setSlideByDrag",delay:_5f,args:[_5e,speed,_59]});}}for(var _6f in $W.dragdrop2["droppable"]){var _70=$W.dragdrop2["droppable"][_6f];var pos=_70.position;if($W.idCache[_6f]==null){continue;}if(pos.left<=x&&x<=pos.right&&pos.top<=y&&y<=pos.bottom){if(!_70.over){_70.over=true;$W._c.fireEvent($W.idCache[_6f],"ondragenter");}_70.drop=$W._c.fireEvent($W.idCache[_6f],"ondragover")===false;}else{if(_70.over){_70.over=false;_70.drop=false;$W._c.fireEvent($W.idCache[_6f],"ondragleave");}}}};$W._a._o.prototype.handleTouchEnd=function(e){var _72=this.getUserData("dragStatus","move");var _73=$W.getBody();_73.removeClass("w2noselect");$W._G.emptySelection();if(_72!="pass"){for(var _74 in $W.dragdrop2["droppable"]){if($W.dragdrop2["droppable"][_74].over&&$W.dragdrop2["droppable"][_74].drop&&$W.idCache[_74]!=null){$W._c.fireEvent($W.idCache[_74],"ondrop",this);}$W.dragdrop2["droppable"][_74].over=false;$W.dragdrop2["droppable"][_74].drop=false;}$W._c.fireEvent(this,"ondragend");if(this.render){this.setUserData("dragStatus","pass");}for(var _75 in $W.dragdrop2["scrollable"]){$W.dragdrop2["scrollable"][_75].scroll=false;$W._N.clearTimer($W.idCache[_75].id+"_setSlideByDrag");$W._N.clearTimer($W.idCache[_75].id+"_slideByDrag");}}};;WebSquare.uiplugin.group=$W._a._o;$W._a._d=function(id,_2,_3){["WebSquare.uiplugin.floatingLayer"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._d.prototype,$W._t.prototype);$W._a._d.prototype.defaultOptions={pluginType:"uiplugin.floatingLayer",pluginName:"floatingLayer",parseChild:true,userEvents:["onclose","onlayermove"],useConfig:true,bodyComplex:true,dragAlwaysView:false,title:"",titleClass:"",useResizeDrag:false,modal:false,closeButtonSrc:"",closeButtonClass:"",headerLeftClass:"",headerCenterClass:"",headerRightClass:"",bodyLeftClass:"",bodyCenterClass:"",bodyRightClass:"",bodyLeftBottomClass:"",bodyBottomClass:"",bodyRightBottomClass:"",useModal:false,useAnchor:false,dragAutoPosition:false,movable:true};$W._a._d.prototype.initialize=function(_4){["WebSquare.uiplugin.floatingLayer.initialize"];try{}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.toHTML=function(){["WebSquare.uiplugin.floatingLayer.toHTML"];try{var _5=[];var _6=this.options.title?"title='"+this.options.title.wq_replaceAll("'","&#39;")+"'":"";var _7=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div role='application' id='"+this.id+"' "+_7+" class='w2floatingLayer "+this.options.className+"' tabindex='0' >");_5.push("<table class='w2floatingLayer_table' cellpadding='0' cellspacing='0'>");_5.push("<tr class='w2floatingLayer_dragArea'>");_5.push("<td class='w2floatingLayer_topleft "+this.options.headerLeftClass+"'></td>");_5.push("<td class='w2floatingLayer_topcenter "+this.options.headerCenterClass+"' "+_6+" >");_5.push("<div id='"+this.id+"_titleDiv' class='w2floatingLayer_title "+this.options.titleClass+"' >"+this.options.title+"</div>");_5.push("<div id='"+this.id+"_closeButton' class='w2floatingLayer_close_button "+this.options.closeButtonClass+"' tabindex='0' title='close' ></div>");_5.push("</td>");_5.push("<td class='w2floatingLayer_topright "+this.options.headerRightClass+"'></td>");_5.push("</tr>");if($W._G.getBoolean(this.options.fullContentArea)){_5.push("<tr>");_5.push("<td class='w2floatingLayer_fullContentArea' colSpan=3>");_5.push("<div id='"+this.id+"_contents' class='w2floatingLayer_contents "+this.options.bodyCenterClass+"'>");_5.push("<div id='"+this.id+"_innerLink' class='w2floatingLayer_innerLink' tabIndex='0'>"+this.options.title+"</div>");var _8=this.getChildren();for(var i=0;i<_8.length;i++){_5.push(_8[i].toHTML());}_5.push("</div>");_5.push("</td>");_5.push("</tr>");}else{_5.push("<tr>");_5.push("<td class='w2floatingLayer_dragArea w2floatingLayer_centerleft "+this.options.bodyLeftClass+"'></td>");_5.push("<td class='w2floatingLayer_centercenter'>");_5.push("<div id='"+this.id+"_contents' class='w2floatingLayer_contents "+this.options.bodyCenterClass+"'>");_5.push("<div id='"+this.id+"_innerLink' class='w2floatingLayer_innerLink' tabIndex='0'>"+this.options.title+"</div>");var _8=this.getChildren();for(var i=0;i<_8.length;i++){_5.push(_8[i].toHTML());}_5.push("</div>");_5.push("</td>");_5.push("<td class='w2floatingLayer_dragArea w2floatingLayer_centerright "+this.options.bodyRightClass+"'></td>");_5.push("</tr>");_5.push("<tr class='w2floatingLayer_dragArea'>");_5.push("<td class='w2floatingLayer_bottomleft "+this.options.bodyLeftBottomClass+"'></td>");_5.push("<td class='w2floatingLayer_bottomcenter "+this.options.bodyBottomClass+"'></td>");_5.push("<td class='w2floatingLayer_bottomright "+this.options.bodyRightBottomClass+"'></td>");_5.push("</tr>");}_5.push("</table>");_5.push("</div>");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.setAction=function(){["WebSquare.uiplugin.floatingLayer.setAction"];try{this.dom.contents=this.getElementById(this.id+"_contents");this.dom.closeButton=this.getElementById(this.id+"_closeButton");if(this.options.useModal==true){var _a=$W._G.getStyleProperty(this.render,"z-index");if(!$W._G.getStyleProperty(this.render,"z-index")||_a=="auto"){this.render.style["zIndex"]=4500;}}this.resetContentSize();if($W._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleMousedownEvent));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedownEvent));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,this.handleSelectStart));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseOverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOutEvent));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleKeydownEvent"];try{var _c=(e.charCode)?e.charCode:e.keyCode;if(_c!=13){return;}this.handleClickEvent(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleFocusEvent"];try{if(!this.dom.titleDiv){this.dom.titleDiv=this.getElementById(this.id+"_titleDiv");}$W.document.title=this.dom.titleDiv.innerHTML;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleBlurEvent"];try{$W.document.title=$W.docTitle;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.focus=function(){["WebSquare.uiplugin.floatingLayer.focus"];try{this.render.focus();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleClickEvent"];try{$W._c.stopPropagation(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_close_button")){this.hide();$W._c.fireEvent(this,"onclose");}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.handleMousedownEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleMousedownEvent"];try{if(!this.options.movable){return;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_dragArea")){var _13=this;$W._K.gDragManager.activate(e,this.render,{id:this.id+"_drag",className:"w2drag_resize",delay:10,mode:"move",makeGhostLayer:function(_14){_14.setSize(_13.render.offsetWidth,_13.render.offsetHeight);var _15=$W._H.getAbsoluteLeft(_13.render);var top=$W._H.getAbsoluteTop(_13.render);_14.setPosition(_15,top);return _14;},handleStart:function(){if(_13.options.useModal==true){$W.getBody().showModal("w2modal_onmove");}},handleFinish:function(x,y,dx,dy){if(_13.options.dragAutoPosition){var _1b=_13.render.offsetLeft;var top=_13.render.offsetTop;var _1d=_13.render.clientWidth;var _1e=_13.render.clientHeight;var _1f=_13.getMaxSize();var _20=_1f.width;var _21=_1f.height;var _22=_1b+dx;var _23=top+dy;if(_1b+dx<0){_22=0;}if(_1b+_1d+dx>_20){if(_1d<=_20){_22=_20-_1d;}else{_22=0;}}if(top+dy<0){_23=0;}if(top+_1e+dy>_21){if(_1e<=_21){_23=_21-_1e;}else{_23=0;}}_13.setPosition(_22,_23);}else{_13.setPosition(x+dx,y+dy);}if(_13.options.useModal==true){$W.getBody().hideModal();}$W._c.fireEvent(_13,"onlayermove",x+dx,y+dy);}});}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.handleMouseOverEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleMouseOverEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_close_button")){this.addClass(this.dom.closeButton,"w2floatingLayer_close_button_over");}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.handleMouseOutEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleMouseOutEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_close_button")){this.removeClass(this.dom.closeButton,"w2floatingLayer_close_button_over");}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.handleSelectStart=function(e){["WebSquare.uiplugin.floatingLayer.handleSelectStart"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_dragArea")){$W._c.stopEvent(e);}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.setSize=function(_2a,_2b){["WebSquare.uiplugin.floatingLayer.setSize"];try{if(!this.render){return;}_2a=parseInt(_2a);_2b=parseInt(_2b);if(_2a!=null&&!isNaN(_2a)&&_2a>=0){this.render.style.width=_2a+"px";}if(_2b!=null&&!isNaN(_2b)&&_2b>=0){this.render.style.height=_2b+"px";this.resetContentSize();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.resetContentSize=function(){["WebSquare.uiplugin.floatingLayer.resetContentSize"];try{var _2c=$W._G.getStyleProperty(this.render,"height");_2c=parseInt(_2c,10);if(isNaN(_2c)){var _2d=this.getSize("height")-42;if(typeof _2d=="number"&&_2d>0){this.dom.contents.style.height=(this.getSize("height")-42)+"px";}else{this.dom.contents.style.height="";}}else{this.dom.contents.style.height=(_2c-42)+"px";}if(this.options.fullContentArea){this.dom.contents.style.width=this.render.style.width;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.setTitle=function(_2e){["WebSquare.uiplugin.floatingLayer.setTitle"];try{if(!this.dom.titleDiv){this.dom.titleDiv=this.getElementById(this.id+"_titleDiv");}this.dom.titleDiv.innerHTML=_2e;this.dom.titleDiv.parentNode.setAttribute("title",_2e.wq_replaceAll("'","&#39;"));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._d.prototype.showModal=function(){$W.getBody().showModal("w2modal_floatingLayer");};$W._a._d.prototype.hideModal=function(){$W.getBody().hideModal();};$W._a._d.prototype.show=function(_2f){$W._n.prototype.show.call(this,_2f);if(this.options.useModal==true){this.showModal();}if(this.options.useAnchor){var _30=this.id+"_innerLink";var _31=this.getElementById(_30);_31.setAttribute("name",_30+"_name");var _32=document.createElement("a");document.body.appendChild(_32);_32.setAttribute("href","#"+_30+"_name");_32.click();document.body.removeChild(_32);_32=null;}};$W._a._d.prototype.hide=function(){$W._n.prototype.hide.apply(this);if(this.options.useModal==true){this.hideModal();}if(this.options.useAnchor&&this.backlink){var _33=$W._G.getComponentById(this.backlink);_33.render.setAttribute("name",_33.id+"_backlink");var _34=document.createElement("a");document.body.appendChild(_34);_34.setAttribute("href","#"+_33.id+"_backlink");_34.click();document.body.removeChild(_34);}};$W._a._d.prototype.setBackLink=function(obj){if(typeof obj=="string"){this.backlink=obj;}else{if(obj&&typeof obj.id=="string"){this.backlink=obj.id;}}};$W._a._d.prototype.getMaxSize=function(){["WebSquare.uiplugin.floatingLayer.prototype.getMaxSize"];var _36;var _37;var _38=this.parentControl;while(_38!=undefined&&_38.render==null){_38=_38.parentControl;}if(_38){_36=$W._H.getSize(_38.render,"width");_37=$W._H.getSize(_38.render,"height");}else{_36=this.options.width;_37=this.options.height;}if(this.render){var _39=parseInt($W._G.getStyleProperty(this.render,"border-left-width"),10)||0;var _3a=parseInt($W._G.getStyleProperty(this.render,"border-right-width"),10)||0;var _3b=parseInt($W._G.getStyleProperty(this.render,"padding-left"),10)||0;var _3c=parseInt($W._G.getStyleProperty(this.render,"padding-right"),10)||0;_36=_36-_39-_3a-_3b-_3c;var _3d=parseInt($W._G.getStyleProperty(this.render,"border-top-width"),10)||0;var _3e=parseInt($W._G.getStyleProperty(this.render,"border-bottom-width"),10)||0;var _3f=parseInt($W._G.getStyleProperty(this.render,"padding-top"),10)||0;var _40=parseInt($W._G.getStyleProperty(this.render,"padding-bottom"),10)||0;_37=_37-_3d-_3e-_3f-_40;}return {"width":_36,"height":_37};};;WebSquare.uiplugin.floatingLayer=$W._a._d;$W._a._C=function(_1){["WebSquare.uiplugin.dateHelper"];this.displayFormat="yyyyMMdd";this.dayStrArr=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];this.monthDays=[31,28,31,30,31,30,31,31,30,31,30,31];this.year=null;this.month=null;this.date=null;this.day=null;this.hour=null;this.minute=null;this.second=null;this.setToday(_1);};$W._a._C.prototype.setToday=function(_2){["WebSquare.uiplugin.dateHelper.setToday"];if(_2&&_2==true){var _3=this.getServerDate();if(!_3||_3===""){var _4=new Date();}else{var _5="";var _6="";var _7="";if(_3&&_3.length==8){_5=_3.substr(0,4);_6=_3.substr(4,2);_7=_3.substr(6,2);}var _4=new Date(parseInt(_5),parseInt(_6,10)-1,parseInt(_7,10));}}else{var _4=new Date();}this.year=_4.getFullYear();this.month=_4.getMonth()+1;this.date=_4.getDate();this.hour=_4.getHours();this.minute=_4.getMinutes();this.second=_4.getSeconds();};$W._a._C.prototype.setYear=function(_8){["WebSquare.uiplugin.dateHelper.setYear"];this.year=parseInt(_8);};$W._a._C.prototype.setMonth=function(_9){["WebSquare.uiplugin.dateHelper.setMonth"];this.month=parseInt(_9);};$W._a._C.prototype.setDate=function(_a){["WebSquare.uiplugin.dateHelper.setDate"];this.date=parseInt(_a);};$W._a._C.prototype.setDateAll=function(_b,_c,_d,_e,_f,_10){["WebSquare.uiplugin.dateHelper.setDateAll"];if(!_b||!_c){return;}if(_e){_f=!!(_f)?_f:0;var _11=new Date(parseInt(_b),parseInt(_c)-1,parseInt(_d),parseInt(_e),parseInt(_f));this.year=_11.getFullYear();this.month=_11.getMonth()+1;this.date=_11.getDate();this.hour=_11.getHours();this.minute=_11.getMinutes();if(_10){_11=new Date(parseInt(_b),parseInt(_c)-1,parseInt(_d),parseInt(_e),parseInt(_f),parseInt(_10));this.year=_11.getFullYear();this.month=_11.getMonth()+1;this.date=_11.getDate();this.hour=_11.getHours();this.minute=_11.getMinutes();this.second=_11.getSeconds();}}else{if(_d){var _11=new Date(parseInt(_b),parseInt(_c)-1,parseInt(_d));this.year=_11.getFullYear();this.month=_11.getMonth()+1;this.date=_11.getDate();}else{var _11=new Date(parseInt(_b),parseInt(_c)-1);this.year=_11.getFullYear();this.month=_11.getMonth()+1;}}};$W._a._C.prototype.setDateAllByString=function(_12){["WebSquare.uiplugin.dateHelper.setDateAllByString"];if(_12&&_12.length==8){var _13=_12.substr(0,4);var _14=_12.substr(4,2);if(_14.charAt(0)=="0"){_14=_14.charAt(1);}var _15=_12.substr(6,2);if(_15.charAt(0)=="0"){_15=_15.charAt(1);}this.setDateAll(_13,_14,_15);}else{if(_12&&_12.length==12){var _13=_12.substr(0,4);var _14=_12.substr(4,2);if(_14.charAt(0)=="0"){_14=_14.charAt(1);}var _15=_12.substr(6,2);if(_15.charAt(0)=="0"){_15=_15.charAt(1);}var _16=_12.substr(8,2);if(_16.charAt(0)=="0"){_16=_16.charAt(1);}var _17=_12.substr(10,2);if(_17.charAt(0)=="0"){_17=_17.charAt(1);}this.setDateAll(_13,_14,_15,_16,_17);}else{if(_12&&_12.length==6){var _13=_12.substr(0,4);var _14=_12.substr(4,2);if(_14.charAt(0)=="0"){_14=_14.charAt(1);}this.setDateAll(_13,_14);}else{if(_12&&_12.length==14){var _13=_12.substr(0,4);var _14=_12.substr(4,2);if(_14.charAt(0)=="0"){_14=_14.charAt(1);}var _15=_12.substr(6,2);if(_15.charAt(0)=="0"){_15=_15.charAt(1);}var _16=_12.substr(8,2);if(_16.charAt(0)=="0"){_16=_16.charAt(1);}var _17=_12.substr(10,2);if(_17.charAt(0)=="0"){_17=_17.charAt(1);}var _18=_12.substr(12,2);if(_18.charAt(0)=="0"){_18=_18.charAt(1);}this.setDateAll(_13,_14,_15,_16,_17,_18);}}}}};$W._a._C.prototype.getYear=function(){["WebSquare.uiplugin.dateHelper.getYear"];return this.year;};$W._a._C.prototype.getMonth=function(){["WebSquare.uiplugin.dateHelper.getMonth"];return this.month;};$W._a._C.prototype.getDate=function(){["WebSquare.uiplugin.dateHelper.getDate"];return this.date;};$W._a._C.prototype.getHour=function(){["WebSquare.uiplugin.dateHelper.getDate"];return this.hour;};$W._a._C.prototype.getMinute=function(){["WebSquare.uiplugin.dateHelper.getDate"];return this.minute;};$W._a._C.prototype.getSecond=function(){["WebSquare.uiplugin.dateHelper.getDate"];return this.second;};$W._a._C.prototype.getDateAll=function(){["WebSquare.uiplugin.dateHelper.getDateAll"];var _19=this.year+"";var _1a=this.month+"";var _1b=this.date+"";if(_1a.length==1){_1a="0"+_1a;}if(_1b.length==1){_1b="0"+_1b;}var _1c=_19+_1a+_1b;return _1c;};$W._a._C.prototype.getFormatDateAll=function(_1d){["WebSquare.uiplugin.dateHelper.getDateAll"];var _1e="";if(_1d&&_1d!=""){_1e=_1d;}else{_1e=this.displayFormat;}var _1f=this.getDateAll();_1f=$W._A.formatDate(_1f,_1e);return _1f;};$W._a._C.prototype.getDay=function(){["WebSquare.uiplugin.dateHelper.getDay"];var _20=new Date(parseInt(this.year),parseInt(this.month)-1,parseInt(this.date));this.day=_20.getDay();return this.day;};$W._a._C.prototype.getDayStr=function(day,_22){["WebSquare.uiplugin.dateHelper.getDayStr"];_22=_22||this.dayStrArr;if(_22[day]){return _22[day];}else{return "";}};$W._a._C.prototype.getMonthCount=function(_23,_24){["WebSquare.uiplugin.dateHelper.getMonthCount"];var _23=_23||this.getYear();var _24=_24||this.getMonth();this.setLeapYear(_23);return this.monthDays[_24-1];};$W._a._C.prototype.getFirstDay=function(){["WebSquare.uiplugin.dateHelper.getFirstDay"];var _25=new $W._a._C();_25.setDateAll(this.getYear(),this.getMonth(),1);var _26=_25.getDay();return _26;};$W._a._C.prototype.getFirstDayStr=function(_27){["WebSquare.uiplugin.dateHelper.getFirstDay"];var _28=new $W._a._C();_28.setDateAll(this.getYear(),this.getMonth(),1);var _29=_28.getDayStr(_27);return _29;};$W._a._C.prototype.setLeapYear=function(_2a){["WebSquare.uiplugin.dateHelper.setLeapYear"];this.monthDays[1]=(((!(_2a%4))&&(_2a%100))||!(_2a%400))?29:28;};$W._a._C.prototype.getLeapYear=function(_2b){["WebSquare.uiplugin.dateHelper.setLeapYear"];return (((!(_2b%4))&&(_2b%100))||!(_2b%400));};$W._a._C.prototype.equals=function(_2c){["WebSquare.uiplugin.dateHelper.equals"];if(this.getYear()==_2c.getYear()&&this.getMonth()==_2c.getMonth()&&this.getDate()==_2c.getDate()){return true;}return false;};$W._a._C.prototype.setNextYear=function(){["WebSquare.uiplugin.dateHelper.setNextYear"];var _2d=this.getYear();this.setYear(_2d+1);this._checkValidDate();};$W._a._C.prototype.setLastYear=function(){["WebSquare.uiplugin.dateHelper.setLastYear"];var _2e=this.getYear();this.setYear(_2e-1);this._checkValidDate();};$W._a._C.prototype.setNextMonth=function(){["WebSquare.uiplugin.dateHelper.setNextMonth"];var _2f=this.getYear();var _30=this.getMonth();if(_30<12){this.setMonth(_30+1);}else{this.setYear(_2f+1);this.setMonth(1);}this._checkValidDate();};$W._a._C.prototype.setLastMonth=function(){["WebSquare.uiplugin.dateHelper.setLastMonth"];var _31=this.getYear();var _32=this.getMonth();if(_32>1){this.setMonth(_32-1);}else{this.setYear(_31-1);this.setMonth(12);}this._checkValidDate();};$W._a._C.prototype._checkValidDate=function(){["WebSquare.uiplugin.dateHelper._checkValidDate"];var _33=this.getDate();var _34=this.getMonthCount();if(_33>_34){this.setDate(_34);}};$W._a._C.prototype.getServerDate=function(_35){["WebSquare.uiplugin.dateHelper.getServerDate"];if(!_35){_35="";}var _36=$W._N.getXMLHTTPObject();_36.open("POST",$W.baseURI+"engine/system/getServerTime.jsp?pattern="+_35+"&idx="+(new Date()).getTime()+Math.random()*10000,false);_36.send(null);var _37=_36.responseText.trim();_36=null;return _37;};;WebSquare.uiplugin.dateHelper=$W._a._C;requires("uiplugin/control/historyManager.js");$W._a.aV=function(id,_2,_3){["WebSquare.uiplugin.basicInput"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aV.prototype,$W._t.prototype);$W._a.aV.prototype.defaultOptions={pluginType:"uiplugin.input",pluginName:"input",userEvents:["onfocus","onblur","onbeforeedit","oneditend","onafteredit"],useConfig:true,valueType:"",type:"text",editType:"",dataType:"text",ioFormat:"",ioFormatter:"",displayFormat:"",displayFormatter:"",formatArray:"",applyFormat:"display",dateMask:"",timeMask:"",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,onFocusStyle:"",onFocusClass:"w2input_focus",readOnlyClass:"w2input_readonly",initValue:"",title:"",useKeyupBlur:true,preventCopyPaste:false,delimeter:"",decimalDelimeter:""};$W._a.aV.prototype.initialize=function(_4){["WebSquare.uiplugin.basicInput.initialize"];try{this.basicInputEvented=false;this.originalStyleObj=null;this.focusStyleObj=null;this.focusedSizeFlag=false;var _5=this.options["onFocusStyle"];if(_5!=""){var _6="w2input_userfocus";var _7="#"+this.id+"."+_6;$W.cssManager.addConvertedCSS(_7,_5);this.options["onFocusStyle"]="";this.options["onFocusClass"]=_6;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.htmlStr=["<input id='",,"'",," class='w2input ",,"'",,"",,"/>"];$W._a.aV.prototype.toHTML=function(){["WebSquare.uiplugin.basicInput.toHTML"];try{var _8=$W._a.aV.htmlStr;_8[1]=this.id;_8[3]=(this.options.style=="")?"":" style='"+this.options.style+"'";_8[5]=this.options.className+(this.options.readOnly?(" "+this.options.readOnlyClass):"");_8[7]=(this.options.type=="")?"":" type='"+this.options.type+"'";_8[9]=(this.options.title=="")?"":" title='"+this.options.title+"'";_8[9]+=(this.options.name=="")?"":" name='"+this.options.name+"'";return _8.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.setAction=function(){["WebSquare.uiplugin.basicInput.setAction"];try{this.setVerticalAlign();if(this.modelControl.isBinded()){var _9=this.modelControl.getData();this.setValueNM(_9);}this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEventBasic));if(this.getReadOnly()==true){this.basicInputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.refresh=function(){["WebSquare.uiplugin.input.refresh"];try{if(this.modelControl.isBinded()){var _a=this.getValue();var _b=this.modelControl.getData();this.setValueNM(_b);if(_a!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.setValue=function(_c){["WebSquare.uiplugin.input.setValue"];try{if($W._G.isNull(_c)){return;}var _d=this.getValue();this.setValueNM(_c);this.modelControl.setData(_c);if(_d!=this.getValue()){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.setValueNM=function(_e){["WebSquare.uiplugin.input.setValueNM"];try{if($W._G.isNull(_e)){return;}_e=_e.toString();this.render.value=_e;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.getValue=function(){["WebSquare.uiplugin.input.getValue"];try{return this.render.value;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.setFocusSize=function(_f){["WebSquare.uiplugin.input.setFocusSize"];try{if(this.getStyle("height").indexOf("%")==-1&&this.getStyle("width").indexOf("%")==-1){var _10=parseInt(this.getStyle("height"));var _11=parseInt(this.getStyle("width"));var _12=(this.focusStyleObj.paddingLeft+this.focusStyleObj.paddingRight+this.focusStyleObj.borderLeftWidth+this.focusStyleObj.borderRightWidth)-(this.originalStyleObj.paddingLeft+this.originalStyleObj.paddingRight+this.originalStyleObj.borderLeftWidth+this.originalStyleObj.borderRightWidth);var _13=(this.focusStyleObj.paddingTop+this.focusStyleObj.paddingBottom+this.focusStyleObj.borderTopWidth+this.focusStyleObj.borderBottomWidth)-(this.originalStyleObj.paddingTop+this.originalStyleObj.paddingBottom+this.originalStyleObj.borderTopWidth+this.originalStyleObj.borderBottomWidth);if(_f==true&&this.focusedSizeFlag==false){this.setStyle("height",(_10-_13)+"px");this.setStyle("width",(_11-_12)+"px");this.focusedSizeFlag=true;}else{if(_f==false&&this.focusedSizeFlag==true){this.setStyle("height",(_10+_13)+"px");this.setStyle("width",(_11+_12)+"px");this.focusedSizeFlag=false;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.setVerticalAlign=function(){["WebSquare.uiplugin.input.setVerticalAlign"];try{if($W._G.isIE()){var _14=this.getSize("height")||parseInt(this.getStyle("height"));if(!isNaN(_14)){this.setStyle("lineHeight",_14+"px");}}else{if($W._G.isFF()){var _14=parseInt(this.getStyle("height"))||0;var _15=parseInt(this.getStyle("padding-top"))||0;var _16=parseInt(this.getStyle("font-size"))||0;var _17=Math.floor((_14-2-_16)/2);if(_17>0&&(_14-_17)>0){this.setStyle("paddingTop",_17+_15+"px");this.setStyle("height",(_14-_17)+"px");}}else{}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.onPropertyChange=function(_18,_19){["WebSquare.uiplugin.input.onPropertyChange"];try{switch(_18){case "disabled":break;case "readOnly":if(_19==true){this.addClass(this.render,this.options.readOnlyClass);}else{this.removeClass(this.render,this.options.readOnlyClass);}break;case "mandatory":if(_19==true){this.addClass(this.render,"w2input_mandatory");}else{this.removeClass(this.render,"w2input_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.handleFocusEventBasic=function(e){["WebSquare.uiplugin.input.handleFocusEventBasic"];try{$W._c.fireEvent(this,"onbeforeedit");if(this.basicInputEvented==false){this.basicInputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));}var _1b=this;$W.historyManager.set(this.options.pluginName,this.id,{value:this.getValue()},{onRestore:function(_1c){_1b.setValue(_1c.value);}});if(!this.originalStyleObj){this.originalStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}this.addClass(this.render,this.options.onFocusClass);if(!this.focusStyleObj){this.focusStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}if(this.options.editType=="select"){this.render.select();}this.setFocusSize(true);$W._c.fireEvent(this,"onfocus",e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aV.prototype.handleBlurEventBasic=function(e){["WebSquare.uiplugin.input.handleBlurEventBasic"];try{$W._c.fireEvent(this,"oneditend");this.setFocusSize(false);this.removeClass(this.render,this.options.onFocusClass);this.setValue(this.getValue());var _1e=$W.historyManager.get(this.options.pluginName,this.id);if(_1e.value!=this.getValue()){$W._c.fireEvent(this,"onchange");}$W._c.fireEvent(this,"onblur",e);$W._c.fireEvent(this,"onafteredit");}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.basicInput=$W._a.aV;requires("engine/validator.js");requires("engine/formatter.js");requires("uiplugin/control/cssCustomizer.js");requires("uiplugin/control/historyManager.js");$W._a.aF=function(id,_2,_3){["WebSquare.uiplugin.input"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aF.prototype,$W._t.prototype);$W.extend($W._a.aF.prototype,$W.IValidate.prototype);$W.extend($W._a.aF.prototype,$W.cssCustomizer.prototype);$W._a.aF.prototype.defaultOptions={pluginType:"uiplugin.input",pluginName:"input",parseAttributes:true,userEvents:["onfocus","onblur","onbeforeedit","oneditend","onafteredit","onchange","onviewchange"],systemEvents:["onclick","ondblclick","onkeydown","onkeyup","onkeypress","onmouseup","onmousedown","onmouseover","onmouseout","onmousemove"],useConfig:true,valueType:"",type:"text",editType:"",dataType:"text",ioFormat:"",ioFormatter:"",displayFormat:"",displayFormatter:"",formatArray:"",applyFormat:"display",dateMask:"",timeMask:"",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",copyOnReadOnly:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,onFocusStyle:"",onFocusClass:"w2input_focus",readOnlyClass:"w2input_readonly",initValue:"",title:"",name:"",useKeyupBlur:true,preventCopyPaste:false,delimeter:"",decimalDelimeter:"",focusCalcSize:true,enterBlur:true,placeholder:"",autocomplete:"",useVerticalAlign:true,autocorrect:"",autoCapitalize:"off",imeMode:""};$W._a.aF.prototype.initialize=function(_4){["WebSquare.uiplugin.input"];try{this.originalStyleObj=null;this.focusStyleObj=null;this.focusedSizeFlag=false;this.realValue="";this.supportPlaceholder=false;this.supportAutocomplete=false;this._focusStatus="init";this._getFocused=false;this._changeApplyFormat=false;var _5=this.options.dataType;if(this.options.applyFormat=="all"&&this.options.displayFormatter==""&&!(_5==="bigDecimal"||_5==="number"||_5==="euro"||_5==="rupee"||_5==="tenge")){this._changeApplyFormat=true;this.options.applyFormat="display";}var _6=this.options["onFocusStyle"];if(_6!=""){var _7="w2input_userfocus";var _8="#"+this.id+"."+_7;$W.cssManager.addConvertedCSS(_8,_6);this.options["onFocusStyle"]="";this.options["onFocusClass"]=_7;}if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "bigDecimal":case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "euro":this.options.displayFormat=this.options.euroMask;if(!this.options.delimeter){this.options.delimeter=".";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=",";}break;case "rupee":this.options.displayFormat=this.options.rupeeMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "tenge":this.options.displayFormat=this.options.tengeMask;if(!this.options.delimeter){this.options.delimeter=" ";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter="-";}break;}}var _9=this.options.dataType;if(_9=="bigDecimal"){_9="number";}this.formatter=$W._C.createFormatter(_9,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);this.validator=new $W._p.validateInvoker(this.id,this.options);switch(this.options.dataType){case "date":break;case "time":break;case "bigDecimal":case "number":if(this.options.displayFormat==""){this.validator.addCommand(new $W._p.allowCharCommand("+\\-.0-9"));}else{this.validator.addCommand(new $W._p.numberCommand());this.validator.addCommand(new $W._p.digitCommand(this.options.delimeter,this.options.decimalDelimeter),true);}break;case "euro":this.validator.addCommand(new $W._p.euroCommand(this.options.delimeter,this.options.decimalDelimeter));break;case "rupee":this.validator.addCommand(new $W._p.rupeeCommand(this.options.delimeter,this.options.decimalDelimeter));break;case "tenge":this.validator.addCommand(new $W._p.tengeCommand(this.options.delimeter,this.options.decimalDelimeter));break;}this.inputEvented=false;if(this.options.placeholder){if($W._a.aF.placeholder){this.supportPlaceholder=true;}}if(this.options.autocomplete){if($W._a.aF.autocomplete){this.supportAutocomplete=true;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.htmlStr=["<input id='",,"'",," class='w2input ",,"'",,"",," />"];$W._a.aF.placeholder=(function(){var _a=document.createElement("input");return typeof _a.placeholder=="string";})();$W._a.aF.autocomplete=(function(){var _b=document.createElement("input");return typeof _b.autocomplete=="string";})();$W._a.aF.prototype.toHTML=function(){["WebSquare.uiplugin.input.toHTML"];try{var _c=$W._a.aF.htmlStr;var _d="";if(this.options.imeMode=="auto"){_d="ime-mode:auto;";}else{if(this.options.imeMode=="inactive"){_d="ime-mode:inactive;";}else{if(this.options.imeMode=="active"){_d="ime-mode:active;";}else{if(this.options.imeMode=="disabled"){_d="ime-mode:disabled;";}}}}_c[1]=this.id;_c[3]=(this.options.style=="")?"":" style='"+this.options.style+_d+"'"+"";_c[5]=this.options.className+(this.options.readOnly?(" "+this.options.readOnlyClass):"");_c[7]=(this.options.type=="")?"":" type='"+this.options.type+"'";_c[9]=(this.options.title=="")?"":" title='"+this.options.title+"'";_c[9]+=(this.options.name=="")?"":" name='"+this.options.name+"'";_c[9]+=(this.options.maxlength>=0)?" maxLength='"+this.options.maxlength+"'":"";_c[9]+=(this.supportPlaceholder=="")?"":" placeholder='"+this.options.placeholder+"'";_c[9]+=(this.supportAutocomplete==""||this.options.autocomplete=="")?"":" autocomplete='"+this.options.autocomplete+"'";_c[9]+=($W.hybridApp==false||this.options.autocorrect=="")?"":" autocorrect='"+this.options.autocorrect+"'";_c[9]+=($W.hybridApp==false)?"":" autoCapitalize='"+this.options.autoCapitalize+"'";_c[9]+=this.getAttributesString();_c[9]+=(this.options.imeMode=="")?"":" imeMode='"+this.options.imeMode+"'";return _c.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.setAction=function(){["WebSquare.uiplugin.input.setAction"];try{if(this.options.useVerticalAlign){this.setVerticalAlign();}if(this.options.initValue){this.setValue(this.options.initValue);}if(this.modelControl.isBinded()){var _e=this.modelControl.getData();this.setValueNM(_e);}if(this.options.placeholder&&!this.supportPlaceholder){if(this.realValue.length==0){this.render.value=this.options.placeholder;this.addClass("w2input_placeholder");}}var _f=this;this.addEvent("oneditend",function(){var _10="";if(_f.options.dataType=="number"){var _11=_f.render.value.wq_trim();if(_11==="."||_11==="-"||_11==="+"){_f.render.value="";}}if(_f.options.applyFormat=="all"){_10=_f.getValue();}else{_10=_f.render.value;}_10=_f.validator.validateString(_10);if(_f.options.placeholder&&!this.supportPlaceholder){if(_f.realValue.length==0&&this.render.className.match("w2input_placeholder")){return;}}_f.setValueNM(_10,true);});if($W._G.isIEAllVersion()||$W._G.isSpartan()){this.event.addListener(this.render,"onfocusin",this.event.bindAsEventListener(this,this.handleFocusinEvent));this.event.addListener(this.render,"onbeforeeditfocus",this.event.bindAsEventListener(this,this.handleBeforeFocusEvent));}this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusValueEventAdv));if($W._G.isChrome()||$W._G.isSafari()){this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleSelectAfter));}if(this.getReadOnly()==true){this.inputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));this.event.addListener(this.render,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyupEvent));this.event.addListener(this.render,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));if($W._N.browserCheck.android&&$W._N.browserVersion()>=5){this.event.addListener(this.render,"oninput",this.event.bindAsEventListener(this,this.handleInputEvent));}if($W._G.isFF()){this.event.addListener(this.render,"oninput",this.event.bindAsEventListener(this,this.checkMaxByteLength));}if(this.options.dataType=="number"){this.setStyle("imeMode","disabled");}}if(this.options.preventCopyPaste){this.inputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));if($W._G.isOpera()){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){$W._c.stopEvent(e);this.focus();}));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,function(e){if(e.ctrlKey){if(e.keyCode===88||e.keyCode===67||e.keyCode===86){$W._c.stopEvent(e);}}}));}this.setStyle("MozUserSelect","none");this.event.addListener(this.render,"ondragstart",this.event.bindAsEventListener(this,function(e){$W._c.stopEvent(e);}));this.event.addListener(this.render,"ondragover",this.event.bindAsEventListener(this,function(e){$W._c.stopEvent(e);}));this.event.addListener(this.render,"ondrop",this.event.bindAsEventListener(this,function(e){$W._c.stopEvent(e);}));this.event.addListener(this.render,"oncopy",this.event.bindAsEventListener(this,function(e){$W._c.stopEvent(e);}));this.event.addListener(this.render,"oncut",this.event.bindAsEventListener(this,function(e){$W._c.stopEvent(e);}));this.event.addListener(this.render,"onpaste",this.event.bindAsEventListener(this,function(e){$W._c.stopEvent(e);}));this.event.addListener(this.render,"oncontextmenu",this.event.bindAsEventListener(this,function(e){$W._c.stopEvent(e);}));}else{if(this.options.copyOnReadOnly=="noFormat"){if($W._G.isIEAllVersion()){this.event.addListener(this.render,"oncopy",this.event.bindAsEventListener(this,function(e){if(this.options.readOnly&&this.options.copyOnReadOnly=="noFormat"){$W._c.preventDefault(e);}}));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,function(e){if(e.keyCode==67&&(e.ctrlKey||e.metaKey)){this.handleCopyEvent({});}}));}else{this.event.addListener(this.render,"oncopy",this.event.bindAsEventListener(this,this.handleCopyEvent));}}}if(this.options.maxlength>=0){this.render.maxLength=this.options.maxlength;}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.refresh=function(){["WebSquare.uiplugin.input.refresh"];try{if(this.modelControl.isBinded()&&!this.noRefresh){var _1d=this.getValue();var _1e=this.modelControl.getData();this.setValueNM(_1e);if(_1d!=this.getValue()){$W._c.fireEvent(this,"onchange");}}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.setValue=function(_1f){["WebSquare.uiplugin.input.setValue"];try{if($W._G.isNull(_1f)){return;}var _20=this.getValue();this.setValueNM(_1f);this.modelControl.setData(_1f);if(_20!=this.getValue()){$W._c.fireEvent(this,"onchange");}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.setValueNM=function(_21,_22){["WebSquare.uiplugin.input.setValueNM"];try{if($W._G.isNull(_21)){return;}if(this.getDataType()=="bigDecimal"){if(typeof _21=="number"){$W.logger.printLog("Warning : BigDecimal Datatype, then you must enter a string instead of a number to get the exact data.");_21=Big(_21.toString()).toFixed();}else{if(_21.constructor==Big){_21=_21.toFixed();}else{if(typeof _21=="string"){try{if(_21===""){_21="";}else{_21=Big(_21).toFixed();}}catch(e){$W.logger.printLog("Warning : You must enter the exact number of data.");}}}}}else{_21=_21.toString();}_21=(document.activeElement==this.render)?_21:this.formatter.format(_21);if(_22&&this.options.applyFormat=="all"){_21=this.validator.validateString(_21);_21=this.formatter.format(_21);}if(this.options.placeholder&&!this.supportPlaceholder){if(_21.length==0){if(!this.hasClass("w2input_placeholder")){this.addClass("w2input_placeholder");}this.render.value=this.options.placeholder;}else{this.removeClass("w2input_placeholder");this.render.value=_21;}}else{this.render.value=_21;}this.realValue=_21;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.getValue=function(){["WebSquare.uiplugin.input.getValue"];try{var _23;if(this.options.placeholder&&!this.supportPlaceholder&&this.realValue.length==0){if(this.hasClass("w2input_placeholder")){_23="";}else{_23=this.render.value;}}else{_23=this.render.value;}return this.formatter.unformat(_23);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.setFocusSize=function(_24){["WebSquare.uiplugin.input.setFocusSize"];try{if(this.options.focusCalcSize==true){if(this.getStyle("height").indexOf("%")==-1&&this.getStyle("width").indexOf("%")==-1){var _25=parseInt(this.getStyle("height"));var _26=parseInt(this.getStyle("width"));var _27=(this.focusStyleObj.paddingLeft+this.focusStyleObj.paddingRight+this.focusStyleObj.borderLeftWidth+this.focusStyleObj.borderRightWidth)-(this.originalStyleObj.paddingLeft+this.originalStyleObj.paddingRight+this.originalStyleObj.borderLeftWidth+this.originalStyleObj.borderRightWidth);var _28=(this.focusStyleObj.paddingTop+this.focusStyleObj.paddingBottom+this.focusStyleObj.borderTopWidth+this.focusStyleObj.borderBottomWidth)-(this.originalStyleObj.paddingTop+this.originalStyleObj.paddingBottom+this.originalStyleObj.borderTopWidth+this.originalStyleObj.borderBottomWidth);if(_24==true&&this.focusedSizeFlag==false){this.setStyle("height",(_25-_28)+"px");this.setStyle("width",(_26-_27)+"px");this.focusedSizeFlag=true;}else{if(_24==false&&this.focusedSizeFlag==true){this.setStyle("height",(_25+_28)+"px");this.setStyle("width",(_26+_27)+"px");this.focusedSizeFlag=false;}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.setVerticalAlign=function(){["WebSquare.uiplugin.input.setVerticalAlign"];try{if($W._G.isIE()){var _29=this.getSize("height")||parseInt(this.getStyle("height"));if(!isNaN(_29)){this.setStyle("lineHeight",_29+"px");}}else{}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.onPropertyChange=function(_2a,_2b){["WebSquare.uiplugin.input.onPropertyChange"];try{switch(_2a){case "disabled":if(_2b==true){this.addClass(this.render,"w2input_disabled");}else{this.removeClass(this.render,"w2input_disabled");}break;case "readOnly":if(_2b==true){this.addClass(this.render,this.options.readOnlyClass);}else{this.removeClass(this.render,this.options.readOnlyClass);}break;case "mandatory":if(_2b==true){this.addClass(this.render,"w2input_mandatory");}else{this.removeClass(this.render,"w2input_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.getFormattedValue=function(){["WebSquare.uiplugin.input.getFormattedValue"];try{var _2c=this.render.value;return _2c;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.validate=function(){["WebSquare.uiplugin.input.validate"];try{var _2d=this.validator.validate(this.getValue());if(!_2d){this.focus();}return _2d;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.getDataType=function(){["WebSquare.uiplugin.input.getDataType"];try{return this.options.dataType;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.setDataType=function(_2e){["WebSquare.uiplugin.input.setDataType"];try{if(!_2e||(_2e=="number"||_2e=="euro"||_2e=="rupee"||_2e=="tenge")){return;}this.options.dataType=_2e;var _2e=this.options.dataType;if(this.options.applyFormat=="all"&&this.options.displayFormatter==""&&!(_2e==="bigDecimal"||_2e==="number"||_2e==="euro"||_2e==="rupee"||_2e==="tenge")){this._changeApplyFormat=true;this.options.applyFormat="display";}if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "bigDecimal":case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;}}var _2f=this.options.dataType;if(_2f=="bigDecimal"){_2f="number";}var _30=this.getValue();this.formatter=$W._C.createFormatter(_2f,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);this.validator.clearCommand();this.validator=new $W._p.validateInvoker(this.id,this.options);switch(this.options.dataType){case "date":break;case "time":break;case "bigDecimal":case "number":if(this.options.displayFormat==""){this.validator.addCommand(new $W._p.allowCharCommand("+\\-.0-9"));}else{this.validator.addCommand(new $W._p.numberCommand());this.validator.addCommand(new $W._p.digitCommand(this.options.delimeter,this.options.decimalDelimeter),true);}break;case "euro":this.validator.addCommand(new $W._p.euroCommand(this.options.delimeter,this.options.decimalDelimeter));break;case "rupee":this.validator.addCommand(new $W._p.rupeeCommand(this.options.delimeter,this.options.decimalDelimeter));break;case "tenge":this.validator.addCommand(new $W._p.tengeCommand(this.options.delimeter,this.options.decimalDelimeter));break;}this.setValueNM(_30);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.setDisplayFormat=function(_31){["WebSquare.uiplugin.input.setDisplayFormat"];try{this.options.displayFormat=_31;var _32=this.getValue();if(this.options.dataType==="number"){this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);if(this.options.displayFormat==""){this.validator.removeCommand(new $W._p.numberCommand(this.options.delimeter,this.options.decimalDelimeter));this.validator.addCommand(new $W._p.allowCharCommand("+\\-.0-9"));}else{this.validator.removeCommand(new $W._p.allowCharCommand("+\\-.0-9"));this.validator.addCommand(new $W._p.numberCommand(this.options.delimeter,this.options.decimalDelimeter));this.validator.addCommand(new $W._p.digitCommand(this.options.delimeter,this.options.decimalDelimeter),true);}}this.formatter.setMasking(_31);this.setValueNM(_32);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.changeCurrency=function(_33,_34,_35,_36){["WebSquare.uiplugin.input.changeCurrency"];try{if(!_33||(_33!=="number"&&_33!=="euro"&&_33!=="rupee"&&_33!=="tenge")){return;}var _37=this.options.decimalDelimeter;switch(_33){case "number":if(!_34){_34=this.options.numberMask;}this.options.delimeter=_35||",";this.options.decimalDelimeter=_36||".";break;case "euro":if(!_34){_34=this.options.euroMask;}this.options.delimeter=_35||".";this.options.decimalDelimeter=_36||",";break;case "rupee":if(!_34){_34=this.options.rupeeMask;}this.options.delimeter=_35||",";this.options.decimalDelimeter=_36||".";break;case "tenge":if(!_34){_34=this.options.tengeMask;}this.options.delimeter=_35||" ";this.options.decimalDelimeter=_36||"-";break;}if(!_34){return;}this.options.dataType=_33;this.options.displayFormat=_34;if(this._changeApplyFormat){this.options.applyFormat="all";}var _38=this.getValue();if(_38.lastIndexOf(_37)>-1){_38=_38.split(_37).join(this.options.decimalDelimeter);}this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);this.validator.clearCommand();this.validator=new $W._p.validateInvoker(this.id,this.options);if(this.options.dataType==="number"){this.validator.addCommand(new $W._p.numberCommand(this.options.delimeter,this.options.decimalDelimeter));this.validator.addCommand(new $W._p.digitCommand(this.options.delimeter,this.options.decimalDelimeter),true);}else{if(this.options.dataType==="euro"){this.validator.addCommand(new $W._p.euroCommand(this.options.delimeter,this.options.decimalDelimeter));}else{if(this.options.dataType==="rupee"){this.validator.addCommand(new $W._p.rupeeCommand(this.options.delimeter,this.options.decimalDelimeter));}else{if(this.options.dataType==="tenge"){this.validator.addCommand(new $W._p.tengeCommand(this.options.delimeter,this.options.decimalDelimeter));}}}}this.formatter.setMasking(_34);this.setValueNM(_38);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.getDisplayFormat=function(){["WebSquare.uiplugin.input.getDisplayFormat"];try{return this.options.displayFormat;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.setDisplayFormatter=function(_39){["WebSquare.uiplugin.input.setDisplayFormatter"];try{this.options.displayFormatter=_39;this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);this.setValueNM(this.getValue());}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.getDisplayFormatter=function(){["WebSquare.uiplugin.input.getDisplayFormatter"];try{return this.options.displayFormatter;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.getDisplayValue=function(){["WebSquare.uiplugin.input.getDisplayValue"];try{return this.formatter.format(this.getValue());}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.getIOValue=function(){["WebSquare.uiplugin.input.getIOValue"];try{return this.getValue();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.getIOFormat=function(){["WebSquare.uiplugin.input.getIOFormat"];try{return this.options.ioFormat;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.getIOFormatter=function(){["WebSquare.uiplugin.input.getIOFormatter"];try{return this.options.ioFormatter;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.setInitValue=function(_3a){["WebSquare.uiplugin.input.setInitValue"];try{var _3b=this.getValue();this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_3a.fireEvent){if(_3b!=this.getValue()){$W._c.fireEvent(this,"onchange");}}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.setDefaultValue=function(_3c){["WebSquare.uiplugin.input.setDefaultValue"];try{if(typeof _3c=="string"){this.options.initValue=_3c;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.checkMaxByteLength=function(){["WebSquare.uiplugin.input.checkMaxByteLength"];if(this.options.maxByteLength!=-1){var _3d=this.render.value;if(this.options.applyFormat=="all"){_3d=this.validator.validateString(_3d);}var _3e=$W._G.getStringByByteSize(_3d,this.options.maxByteLength);if(_3d!=_3e){this.reFocus=true;this.setValueNM("");this.blur();this.focus();if(this.options.applyFormat=="all"){this.setValueNM(_3e);}else{this.render.value=_3e;this.realValue=_3e;}}}};$W._a.aF.prototype.setRef=function(ref){["WebSquare.uiplugin.input.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.aF.prototype.setPlaceholder=function(str){["WebSquare.uiplugin.input.prototype.setPlaceholder "];try{if($W._G.isNull(str)){return;}if(this.options.placeholder!=str){this.options.placeholder=str;if(this.supportPlaceholder){var dom=document.getElementById(this.id);dom.placeholder=this.options.placeholder;}else{if(this.hasClass("w2input_placeholder")){this.render.value=this.options.placeholder;}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aF.prototype.handleBlurEventBasic=function(e){["WebSquare.uiplugin.input.handleBlurEventBasic"];try{$W._c.fireEvent(this,"oneditend");this.setFocusSize(false);this.removeClass(this.render,this.options.onFocusClass);this.setValue(this.getValue());var _43=$W.historyManager.get(this.options.pluginName,this.id);if(typeof _43.value=="undefined"){_43.value=this.originalValue;}if(_43.value!=this.getValue()){$W._c.fireEvent(this,"onchange");$W._c.fireEvent(this,"onviewchange",{"oldValue":_43.value,"newValue":this.getValue()});}$W._c.fireEvent(this,"onblur",e);$W._c.fireEvent(this,"onafteredit");if(this.options.placeholder&&!this.supportPlaceholder){if(this.realValue.length==0){this.render.value=this.options.placeholder;this.addClass("w2input_placeholder");}}if(!$W._G.isIEAllVersion()&&!$W._G.isOpera()){$W._c.fireEvent(this,"onfocusout",e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.handleSelectAfter=function(e){["WebSquare.uiplugin.input.handleSelectAfter"];if(this.options.editType=="select"&&this._getFocused){this.render.select();this._getFocused=false;}};$W._a.aF.prototype.handleFocusinEvent=function(e){["WebSquare.uiplugin.input.handleFocusinEvent"];if(!this.originalStyleObj){this.originalStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}this.addClass(this.render,this.options.onFocusClass);var _46=this.render.value;if(this.options.applyFormat!="all"){_46=this.formatter.unformat(_46);}if(_46!=this.render.value){this.render.value=_46;}var _47=this;$W.historyManager.set(this.options.pluginName,this.id,{value:this.getValue()},{onRestore:function(_48){_47.render.value=_48.value;}});this._focusStatus="focusin";};$W._a.aF.prototype.handleBeforeFocusEvent=function(e){["WebSquare.uiplugin.input.handleBeforeFocusEvent"];switch(this._focusStatus){case "init":this._focusStatus="ready";break;case "ready":this._focusStatus="cancel";this.focus();break;case "done":this._focusStatus="init";break;}};$W._a.aF.prototype.handleFocusValueEventAdv=function(e){["WebSquare.uiplugin.input.prototype.handleFocusValueEventAdv"];try{if(this.options.placeholder&&!this.supportPlaceholder){if(this.realValue.length==0){this.render.value="";this.removeClass("w2input_placeholder");}}$W._c.fireEvent(this,"onbeforeedit");this.originalValue=this.getValue();if(!$W._G.isIEAllVersion()){var _4b=this;$W.historyManager.set(this.options.pluginName,this.id,{value:this.getValue()},{});}if(!this.originalStyleObj){this.originalStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}this.addClass(this.render,this.options.onFocusClass);if(!this.focusStyleObj){this.focusStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}if(this.reFocus){this.reFocus=null;}else{if(this.options.editType=="select"){if($W._G.isChrome()||$W._G.isSafari()){this._getFocused=true;}else{this.render.select();}}}this.setFocusSize(true);if(this.inputEvented==false){this.inputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));this.event.addListener(this.render,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyupEvent));this.event.addListener(this.render,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));if($W._N.browserCheck.android&&$W._N.browserVersion()>=5){this.event.addListener(this.render,"oninput",this.event.bindAsEventListener(this,this.handleInputEvent));}if($W._G.isFF()){this.event.addListener(this.render,"oninput",this.event.bindAsEventListener(this,this.checkMaxByteLength));}if(this.options.dataType=="number"){this.setStyle("imeMode","disabled");}}var _4c=this.render.value;if(this.options.applyFormat!="all"){_4c=this.formatter.unformat(_4c);}if(_4c!=this.render.value){this.render.value=_4c;if(this.options.editType=="select"&&this.selectFlag){if($W._G.isChrome()||$W._G.isSafari()){this._getFocused=true;}this.render.select();this.selectFlag=false;}}$W._c.fireEvent(this,"onfocus",e);this._focusStatus="done";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.input.handleKeydownEvent"];try{var _4e=(e.charCode)?e.charCode:e.keyCode;if(_4e==37){}else{if(_4e==38){}else{if(_4e==39){}else{if(_4e==40){}else{if(_4e==13){this.blurHandler=true;}else{if(_4e==27){this.blurHandler=true;}else{if(_4e==33){}else{if(_4e==34){}else{if(_4e==35){}else{if(_4e==36){}else{if(_4e==113){}else{if(_4e==8){var _4f=false;_4f=$W._N.browserCheck.android&&$W._N.browserVersion()>=5;if(this.options.applyFormat=="all"&&!_4f){var _50=this.render.value;var pos=$W._A.getCaretPos(this.render);if(isNaN(Number(_50.substring(pos-1,pos)))){this.render.value=_50.slice(0,pos-2)+_50.slice(pos-1,_50.length);$W._A.setCaretPos(this.render,pos-1);}}}else{}}}}}}}}}}}}if($W._G.isOpera()){this.checkMaxByteLength();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.handleInputEvent=function(e){["WebSquare.uiplugin.input.handleInputEvent"];try{if(this.options.applyFormat=="all"&&(this.realValue.length-this.render.value.length)==1){var _53=this.realValue;var _54=this.render.value;var pos=$W._A.getCaretPos(this.render);if(isNaN(Number(_53.substring(pos,pos+1)))){this.render.value=_54.slice(0,pos-1)+_54.slice(pos,_54.length);$W._A.setCaretPos(this.render,pos-1);}this.handleKeyupEvent({});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.handleKeypressEvent=function(e){["WebSquare.uiplugin.input.handleKeypressEvent"];try{var _57=(e.charCode)?e.charCode:e.keyCode;var _58=this.render.value;if(this.options.applyFormat=="all"){_58=this.formatter.unformat(_58);}if(!this.validator.validateKeyPress(this.render,_58,e)){$W._c.stopEvent(e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.handleKeyupEvent=function(e){["WebSquare.uiplugin.input.handleKeyupEvent"];try{var _5a=(e.charCode)?e.charCode:e.keyCode;if(_5a==37){}else{if(_5a==38){}else{if(_5a==39){}else{if(_5a==40){}else{if(_5a==13){if(this.blurHandler==true&&this.options.useKeyupBlur==true){if(this.options.enterBlur===true){this.blur();this.blurHandler=false;}else{var _5b=this.getValue();var _5c=this.modelControl.getData();this.noRefresh=true;this.modelControl.setData(_5b);this.noRefresh=false;if(_5c!=_5b){$W._c.fireEvent(this,"onchange");}}}}else{if(_5a==27){if(this.blurHandler==true&&this.options.useKeyupBlur==true){this.blur();this.blurHandler=false;}}else{if(_5a==33){}else{if(_5a==34){}else{if(_5a==35){}else{if(_5a==36){}else{if(_5a==113){}else{if(_5a==16){}else{if(_5a==9){}else{if(this.options.applyFormat=="all"){var _5b="";if(_5a==90&&e.ctrlKey){var _5d=$W.historyManager.get(this.options.pluginName,this.id);if(typeof _5d.value=="undefined"){_5d.value="";}_5b=_5d.value;}else{_5b=this.render.value;}var pos=$W._A.getCaretPos(this.render);var _5f=0;var _60=0;_5f=_5b.length;_5b=this.formatter.unformat(_5b);_5b=this.validator.validateString(_5b);_5b=this.formatter.format(_5b,true);_5b=this.validator.validateString(_5b);_5b=this.formatter.format(_5b,true);_60=_5b.length;this.render.value=_5b;this.realValue=_5b;$W._A.setCaretPos(this.render,pos+_60-_5f);}this.checkMaxByteLength();}}}}}}}}}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.input.handleBlurEvent"];try{this.setFocusSize(false);this.removeClass(this.render,this.options.onFocusClass);this.setValue(this.getValue());var _62=$W.historyManager.get(this.options.pluginName,this.id);if(typeof _62.value=="undefined"){_62.value=this.originalValue;}if(_62.value!=this.getValue()){$W._c.fireEvent(this,"onchange");}$W._c.fireEvent(this,"onblur",e);this._focusStatus="init";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.handleCopyEvent=function(e){["WebSquare.uiplugin.input.handleCopyEvent"];try{if(this.options.readOnly&&this.options.copyOnReadOnly=="noFormat"){var _64=this.getValue();var _65;if($W._G.isIEAllVersion()){_65=window.clipboardData;var _66=this;$W._N.setTimer(function(){_65.setData("Text",_64);$W._N.clearTimer(_66.id+"_handleCopyEvent");},{key:_66.id+"_handleCopyEvent",caller:_66,delay:1});}else{_65=e.clipboardData;_65.setData("Text",_64);}$W._c.stopEvent(e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aF.prototype.focus=function(e){["WebSquare.uiplugin.input.focus"];try{this.render.focus();if(this.options.editType=="select"){this.render.select();}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aF.prototype.select=function(e){["WebSquare.uiplugin.input.select"];try{this.selectFlag=true;this.render.select();}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.input=$W._a.aF;$W._a.aQ=function(id,_2,_3){["WebSquare.uiplugin.layer"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aQ.prototype,$W._t.prototype);$W._a.aQ.prototype.defaultOptions={pluginType:"uiplugin.layer",pluginName:"layer"};$W._a.aQ.prototype.initialize=function(_4){};$W._a.aQ.prototype.setLayout=function(){["WebSquare.uiplugin.layer.setLayout"];};$W._a.aQ.prototype.toHTML=function(){["WebSquare.uiplugin.layer.toHTML"];try{var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2layer "+this.options.className+"'>");_5.push("</div>");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aQ.prototype.setAction=function(){};$W._a.aQ.prototype.setValue=function(_7){["WebSquare.uiplugin.layer.setValue"];try{this.render.innerHTML=_7;}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.layer=$W._a.aQ;$W._a.aA=function(id,_2,_3){["WebSquare.uiplugin.trigger"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aA.prototype,$W._t.prototype);$W._a.aA.prototype.defaultOptions={pluginType:"uiplugin.trigger",pluginName:"trigger",userEvents:[],systemEvents:["onclick","ondblclick","onfocus","onblur","onmouseup","onmousedown","onmouseover","onmouseout","onmousemove"],useConfig:true,type:"button",leftOnImageClass:"w2trigger_left",centerOnImageClass:"w2trigger_center",rightOnImageClass:"w2trigger_right",leftOffImageClass:"w2trigger_left",centerOffImageClass:"w2trigger_center",rightOffImageClass:"w2trigger_right",singleClassMode:false,localeRef:"",title:""};$W._a.aA.prototype.initialize=function(_4){["WebSquare.uiplugin.trigger.initialize"];try{this.evented=false;if(this.options.localeRef!=""){this.options.value=this.getLocaleValue();}else{if(_4){var _5=$W.WebSquareparser.parseLabel(_4);if(_5){this.options.value=_5.value;}}}if(this.options.leftOnImageClass!="w2trigger_left"&&this.options.centerOnImageClass=="w2trigger_center"&&this.options.rightOnImageClass=="w2trigger_right"){this.options.singleClassMode=true;}this.options=$W.cssManager.styleToClass(this.id,this.options);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aA.prototype.toHTML=function(){["WebSquare.uiplugin.trigger.toHTML"];try{var _6=[];var _7=this.options.value.wq_replaceAll("'","&#39;")==""?"":"value ='"+this.options.value.wq_replaceAll("'","&#39;")+"'";var _8=(this.options.title=="")?"":"title='"+this.options.title.wq_replaceAll("'","&#39;")+"'";var _9=(this.options.style=="")?"":"style='"+this.options.style+"'";if(this.options.type.toLowerCase()=="button"){_6.push("<input type='button' id='"+this.id+"' "+_9+" class='w2trigger "+this.options.className+"' "+_7+" "+_8+"/>");}else{if(this.options.type.toLowerCase()=="image"){_6.push("<table tabIndex='0' role='button' id='"+this.id+"' "+_9+" class='w2trigger w2trigger_table "+this.options.className+"' "+_8+" cellpadding='0' cellspacing='0' onkeydown='if( event.keyCode == 32 || event.keyCode == 13 ) click();'>");_6.push("<tbody>");_6.push("<tr id='"+this.id+"_row'>");if(this.options.singleClassMode==true){_6.push("<td id='"+this.id+"_left' class='w2trigger_col_left "+this.options.leftOffImageClass+"'></td>");_6.push("<td id='"+this.id+"_center' class='w2trigger_col_center w2trigger_label '>"+this.options.value+"</td>");_6.push("<td id='"+this.id+"_right' class='w2trigger_col_right '></td>");}else{_6.push("<td id='"+this.id+"_left' class='w2trigger_col_left "+this.options.leftOffImageClass+"'></td>");_6.push("<td id='"+this.id+"_center' class='w2trigger_col_center "+this.options.centerOffImageClass+" w2trigger_label '>"+this.options.value+"</td>");_6.push("<td id='"+this.id+"_right' class='w2trigger_col_right "+this.options.rightOffImageClass+"'></td>");}_6.push("</tr>");_6.push("</tbody>");_6.push("</table>");}else{if(this.options.type.toLowerCase()=="anchor"){_6.push("<a id='"+this.id+"' style='"+this.options.style+"' class='w2group w2trigger_anchor "+this.options.className+"' href='javascript:void(null);' tabIndex='0' >");_6.push("<span id='"+this.id+"_span' class='w2textbox '>"+this.options.value+"</span>");_6.push("</a>");}}}return _6.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aA.prototype.setAction=function(){["WebSquare.uiplugin.trigger.setAction"];try{if(this.options.type.toLowerCase()=="image"){this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));}else{if(this.options.type.toLowerCase()=="anchor"){this.dom.input=document.getElementById(this.id);var _a=document.getElementById(this.id+"_span");_a.style.setProperty("line-height",this.dom.input.clientHeight+"px");}else{this.dom.input=document.getElementById(this.id);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aA.prototype.setLabel=function(_b){["WebSquare.uiplugin.trigger.setLabel"];try{if(!this.options.disabled){this.options.value=_b;if(this.options.localeRef!=""){_b=this.getLocaleValue();}if(this.options.type.toLowerCase()=="button"){this.dom.input.value=_b;}else{if(this.options.type.toLowerCase()=="anchor"){this.dom.input.childNodes[0].innerHTML=_b;}else{var _c=this.getElementById(this.id+"_center");_c.innerHTML=_b;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aA.prototype.setValue=function(_d){["WebSquare.uiplugin.trigger.setValue"];try{this.setLabel(_d);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aA.prototype.getLabel=function(){["WebSquare.uiplugin.trigger.getLabel"];try{return this.options.value;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aA.prototype.getValue=function(){["WebSquare.uiplugin.trigger.getValue"];try{return this.options.value;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aA.prototype.setBackgroundImage=function(_e){["WebSquare.uiplugin.trigger.setBackgroundImage"];try{if(this.options.type=="button"){_e=_e.wq_trim();if(_e.startsWith("url")){this.render.style.backgroundImage=$W._N.getURL(_e);}else{this.render.style.backgroundImage="url("+$W._N.getURL(_e)+")";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aA.prototype.getBackgroundImage=function(){["WebSquare.uiplugin.trigger.getBackgroundImage"];try{if(this.options.type=="button"){return this.getStyle("background-image");}else{return "";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aA.prototype.getType=function(){["WebSquare.uiplugin.trigger.getType"];try{return this.options.type;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aA.prototype.onPropertyChange=function(_f,_10){["WebSquare.uiplugin.trigger.onPropertyChange"];try{var _11=(this.options.type=="image")?this.getElementById(this.id+"_row"):this.render;switch(_f){case "disabled":if(this.options.type=="image"){if(_10==true){this.removeClass(_11,"w2trigger_over");this.addClass(_11,"w2trigger_disabled");}else{this.removeClass(_11,"w2trigger_disabled");}}else{if(this.options.type.toLowerCase()=="anchor"){_11=this.getElementById(this.id+"_span");if(_10==true){_11.style.setProperty("color","#848684");this.addClass(_11,"w2trigger_disabled");}else{this.removeClass(_11,"w2trigger_disabled");}}else{if(_10==true){this.addClass(_11,"w2trigger_disabled");}else{this.removeClass(_11,"w2trigger_disabled");}}}break;case "readOnly":if(_10==true){this.addClass(_11,"w2trigger_readOnly");}else{this.removeClass(_11,"w2trigger_readOnly");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aA.prototype.handleMouseoverEvent=function(){["WebSquare.uiplugin.trigger.handleMouseoverEvent"];try{if(this.options.disabled==true){return;}var row=this.getElementById(this.id+"_row");this.addClass(row,"w2trigger_over");if(this.options.type=="image"){if(this.evented==false){this.evented=true;this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedownEvent));this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleMouseupEvent));}this.changeClass(this.getElementById(this.id+"_left"),this.options.leftOffImageClass,this.options.leftOnImageClass);if(this.options.singleClassMode==false){this.changeClass(this.getElementById(this.id+"_center"),this.options.centerOffImageClass,this.options.centerOnImageClass);this.changeClass(this.getElementById(this.id+"_right"),this.options.rightOffImageClass,this.options.rightOnImageClass);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aA.prototype.handleMouseoutEvent=function(){["WebSquare.uiplugin.trigger.handleMouseoutEvent"];try{if(this.options.disabled==true){return;}var row=this.getElementById(this.id+"_row");this.removeClass(row,"w2trigger_over");this.removeClass(row,"w2trigger_press");if(this.options.type=="image"){this.changeClass(this.getElementById(this.id+"_left"),this.options.leftOnImageClass,this.options.leftOffImageClass);if(this.options.singleClassMode==false){this.changeClass(this.getElementById(this.id+"_center"),this.options.centerOnImageClass,this.options.centerOffImageClass);this.changeClass(this.getElementById(this.id+"_right"),this.options.rightOnImageClass,this.options.rightOffImageClass);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aA.prototype.handleMousedownEvent=function(){["WebSquare.uiplugin.trigger.handleMousedownEvent"];try{var row=this.getElementById(this.id+"_row");this.addClass(row,"w2trigger_press");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aA.prototype.handleMouseupEvent=function(){["WebSquare.uiplugin.trigger.handleMouseupEvent"];try{var row=this.getElementById(this.id+"_row");this.removeClass(row,"w2trigger_press");}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.trigger=$W._a.aA;requires("uiplugin.trigger");$W._a.ar=function(id,_2,_3){["WebSquare.uiplugin.submit"];$W._a.aA.call(this,id,_2,_3);};$W.extend($W._a.ar.prototype,$W._a.aA.prototype);$W._a.ar.prototype.defaultOptions={pluginType:"uiplugin.submit",pluginName:"submit",type:"button",submission:"",submitType:"async",syncMsg:"",leftOnImageClass:"w2trigger_left",centerOnImageClass:"w2trigger_center",rightOnImageClass:"w2trigger_right",leftOffImageClass:"w2trigger_left",centerOffImageClass:"w2trigger_center",rightOffImageClass:"w2trigger_right"};$W._a.ar.prototype.initialize=function(_4){["WebSquare.uiplugin.submit.initialize"];try{$W._a.aA.prototype.initialize.call(this,_4);this.submission=$W._J.getSubmission(this.options.submission);this.options=$W.cssManager.styleToClass(this.id,this.options);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ar.prototype.setAction=function(){["WebSquare.uiplugin.submit.setAction"];try{$W._a.aA.prototype.setAction.call(this);this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.submitEvent));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ar.prototype.submitEvent=function(){["WebSquare.uiplugin.submit.submitEvent"];try{if(this.options.submitType=="sync"){if(this.submission.processStatus==1&&this.syncMsg!=""){alert(this.syncMsg);return;}if(this.submission.processStatus==1){return;}$W._J.executeSubmission(this.submission,null,this);}else{$W._J.executeSubmission(this.submission);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ar.prototype.getSubmission=function(){["WebSquare.uiplugin.submit.getSubmission"];try{return this.submission;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ar.prototype.setSubmission=function(_5){["WebSquare.uiplugin.submit.setSubmission"];try{this.options.submission=_5;this.submission=$W._J.getSubmission(_5);}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.submit=$W._a.ar;requires("engine/formatter.js");requires("uiplugin/control/cssCustomizer.js");$W._a.aB=function(id,_2,_3){["WebSquare.uiplugin.output"];$W._t.call(this,id,_2,_3);var _4=["div","label","h1","h2","h3","h4","h5","h6"];this.options.tagname=this.options["for"]!=""?"label":this.options.tagname;var _5;for(_5=0;_5<_4.length;_5++){if(_4[_5]==this.options.tagname){break;}}if(_5>=_4.length){this.options.tagname=_4[0];}};$W.extend($W._a.aB.prototype,$W._t.prototype);$W.extend($W._a.aB.prototype,$W.cssCustomizer.prototype);$W._a.aB.prototype.defaultOptions={pluginType:"uiplugin.output",pluginName:"output",useConfig:true,userEvents:[],systemEvents:["onfocus","onblur","onclick","ondblclick","onmouseup","onmousedown","onmouseout","onmouseover","onmousemove"],label:"",ioFormat:"",displayFormat:"",displayFormatter:null,dataType:"text",localeRef:"",escape:false,escapeFormatter:"","for":"",tagname:"div",dateMask:"",timeMask:"",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",delimeter:"",decimalDelimeter:""};$W._a.aB.prototype.initialize=function(_6){["WebSquare.uiplugin.output.initialize"];try{if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "euro":this.options.displayFormat=this.options.euroMask;if(!this.options.delimeter){this.options.delimeter=".";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=",";}break;case "rupee":this.options.displayFormat=this.options.rupeeMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "tenge":this.options.displayFormat=this.options.tengeMask;if(!this.options.delimeter){this.options.delimeter=" ";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter="-";}break;}}this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);if(_6){var _7=$W.WebSquareparser.parseLabel(_6);if(_7){this.options.label=_7.value;this.escapeLabel=_7.value;}}this.useEscapeFormatter=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.htmlStr=["<",null," id='",null,"'",null," class='w2output ",null,"'",null,">",null,"</",null,">"];$W._a.aB.prototype.toHTML=function(){["WebSquare.uiplugin.output.toHTML"];try{var _8=$W._a.aB.htmlStr;var _9="";if(!this.options.escapeFormatter){_9=this.options.escape?this.formatter.format($W._B._encode(this.options.label)):this.formatter.format(this.options.label);}_8[1]=this.options.tagname;_8[3]=this.id;_8[5]=(this.options.style=="")?"":" style ='"+this.options.style+"'";_8[7]=this.options.className;_8[9]=(this.options.tagname=="label")?" for='"+this.options["for"]+"'":"";_8[11]=_9;_8[13]=this.options.tagname;return _8.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.setAction=function(){["WebSquare.uiplugin.output.setAction"];try{this.setVerticalAlign();if(this.modelControl.isBinded()){var _a=this.modelControl.getData();this.setValueNM(_a);}this.displayLocaleValue();if(this.options.tagname!="label"||this.options["for"]==""){return;}var _b=$W._G.getComponentById(this.options["for"])||null;if(_b==null){return;}var _c=typeof _b.getAccessibiltyId=="function"?_b.getAccessibiltyId():this.options["for"];this.render.setAttribute("for",_c);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.onComplete=function(){["WebSquare.uiplugin.output.onComplete"];try{if(this.options.escapeFormatter){try{if(typeof this.options.escapeFormatter=="function"){this.useEscapeFormatter=true;}else{var _d=eval(this.options.escapeFormatter);this.options.escapeFormatter=_d;if(typeof _d=="function"){this.useEscapeFormatter=true;}}}catch(e){$W.exception.printStackTrace(e,null,this);}this.setValueNM(this.options.label);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.refresh=function(){["WebSquare.uiplugin.output.refresh"];try{if(this.modelControl.isBinded()){var _e=this.modelControl.getData();this.setValueNM(_e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.setVerticalAlign=function(){["WebSquare.uiplugin.output.setVerticalAlign"];try{var _f="top";var _10=this.options.style.toLowerCase();if(_10.match(/vertical-align[\s]*:[\s]*middle/)){_f="middle";}else{if(_10.match(/vertical-align[\s]*:[\s]*bottom/)){_f="bottom";}}if(_f=="top"){}else{var _11=this.getStyle("height");if(_11.indexOf("px")>-1){_11=parseInt(_11);var _12=parseInt(this.getStyle("padding-top"))||0;var _13=parseInt(this.getStyle("font-size"))||0;var _14=0;if(_f=="middle"){_14=Math.floor((_11-_13)/2);}else{if(_f=="bottom"){_14=Math.floor(_11-_13);}}if((_14+_12)>0&&(_11-_14)>0){this.setStyle("paddingTop",_14+_12+"px");this.setStyle("height",(_11-_14)+"px");}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.setValue=function(_15){["WebSquare.uiplugin.output.setValue"];try{this.setValueNM(_15);this.modelControl.setData(_15);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.setValue1=function(_16){["WebSquare.uiplugin.output.setValue1"];try{this.setValue(_16);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.setValueNM=function(_17){["WebSquare.uiplugin.output.setValueNM"];try{if($W._G.isNull(_17)){return;}_17=_17.toString();this.options.label=_17;if(this.useEscapeFormatter){_17=this.options.escapeFormatter.call(this,_17);}this.escapeLabel=_17;this.render.innerHTML=this.options.escape?this.formatter.format($W._B._encode(_17+"")):this.formatter.format(_17);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.setWidth=function(_18){["WebSquare.uiplugin.output.setWidth"];try{if(!isNaN(parseInt(_18))){this.render.style.width=_18+"px";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.setHeight=function(_19){["WebSquare.uiplugin.output.setHeight"];try{_19=parseInt(_19,10);if(!isNaN(_19)){this.render.style.height=_19+"px";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.setBackgroundImage=function(url){["WebSquare.uiplugin.output.setBackgroundImage"];try{if(typeof url=="undefined"||url==null||url==""){this.render.style.backgroundImage="";}else{this.render.style.backgroundImage=$W._N.getImageURL(url,true);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.getFormatValue=function(){["WebSquare.uiplugin.output.getFormatValue"];try{return this.formatter.format(this.escapeLabel);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.getLabel=function(){["WebSquare.uiplugin.output.getLabel"];try{return this.getValue();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.setLabel=function(_1b){["WebSquare.uiplugin.output.setLabel"];try{this.setValue(_1b);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.getValue=function(){["WebSquare.uiplugin.output.getValue"];try{return this.formatter.format(this.escapeLabel);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.setLocaleRef=function(_1c){["WebSquare.uiplugin.output.setLocaleRef"];try{this.options.localeRef=_1c;this.displayLocaleValue();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.onPropertyChange=function(_1d,_1e){["WebSquare.uiplugin.output.onPropertyChange"];try{switch(_1d){case "disabled":if(_1e==true){this.addClass(this.render,"w2output_disabled");this.setStyle("color","#c0c0c0");}else{this.removeClass(this.render,"w2output_disabled");this.setStyle("color","");}break;case "readOnly":break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.getRawValue=function(){["WebSquare.uiplugin.output.getRawValue"];try{return this.options.label;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.setDisplayFormat=function(_1f){["WebSquare.uiplugin.output.setDisplayFormat"];try{this.options.displayFormat=_1f;this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.setValueNM(this.options.label);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aB.prototype.setRef=function(ref){["WebSquare.uiplugin.output.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.output=$W._a.aB;$W._a.aL=function(id,_2,_3){["WebSquare.uiplugin.anchor"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aL.prototype,$W._t.prototype);$W._a.aL.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.anchor",pluginName:"anchor",userEvents:["onclick"],outerDiv:true,clickEventElement:"anchor",label:"",href:"",name:"",target:"",title:"",useLocale:false,localeRef:"",disabled:false,escape:false};$W._a.aL.prototype.initialize=function(_4){["WebSquare.uiplugin.anchor.initialize"];try{if(_4){var _5=$W.WebSquareparser.parseLabel(_4);if(_5){this.options.label=_5.value;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aL.prototype.htmlStr1=["<div id='",,"' ",," class='w2anchor ",,"'><a href='",,"' ",,">",,"</a></div>"];$W._a.aL.prototype.htmlStr2=["<a id='",,"' ",," class='w2anchor2 ",,"' href='",,"' ",,">",,"</a>"];$W._a.aL.prototype.toHTML=function(){["WebSquare.uiplugin.anchor.toHTML"];try{var _6=this.options.outerDiv?this.htmlStr1:this.htmlStr2;_6[1]=this.id;_6[3]=(this.options.style?"style=\""+this.options.style+"\"":"");_6[5]=this.options.className;_6[7]=this.options.href?this.options.href:"javascript:void(null);";_6[9]=(this.options.name?" name=\""+this.options.name+"\"":"")+(this.options.target?" target=\""+this.options.target+"\"":"")+(this.options.title?" title=\""+this.options.title+"\"":"");var _7=this.options.useLocale==true?this.getLocaleValue(this.options.localeRef):this.options.label||this.options.label;_6[11]=_7;return _6.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aL.prototype.setAction=function(){["WebSquare.uiplugin.anchor.setAction"];try{this.dom.anchor=this.render.tagName=="A"?this.render:this.render.firstChild;this.setVerticalAlign();if(this.modelControl.isBinded()){var _8=this.modelControl.getData();this.setValueNM(_8);}if(this.options.outerDiv&&this.options.clickEventElement==="outerDiv"){this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}else{this.event.addListener(this.dom.anchor,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aL.prototype.refresh=function(){["WebSquare.uiplugin.anchor.refresh"];try{if(this.modelControl.isBinded()){var _9=this.modelControl.getData();this.setValueNM(_9);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aL.prototype.setVerticalAlign=function(){["WebSquare.uiplugin.anchor.setVerticalAlign"];try{var _a="top";var _b=this.options.style.toLowerCase();if(_b.match(/vertical-align[\s]*:[\s]*middle/)){_a="middle";}else{if(_b.match(/vertical-align[\s]*:[\s]*bottom/)){_a="bottom";}}if(_a=="top"){}else{var _c=this.getStyleValue("height");if(_c.indexOf("px")>-1){_c=parseInt(_c);var _d=parseInt(this.getStyleValue("padding-top"))||0;var _e=parseInt(this.getStyleValue("font-size"))||0;var _f=0;if(_a=="middle"){_f=Math.floor((_c-_e)/2);}else{if(_a=="bottom"){_f=Math.floor(_c-_e);}}if((_f+_d)>0&&(_c-_f)>0){this.setStyle("paddingTop",_f+_d+"px");this.setStyle("height",(_c-_f)+"px");}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aL.prototype.setValue=function(_10){["WebSquare.uiplugin.anchor.setValue"];try{this.setValueNM(_10);this.modelControl.setData(_10);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aL.prototype.setValueNM=function(_11){["WebSquare.uiplugin.anchor.setValueNM"];try{if($W._G.isNull(_11)){return;}_11=_11.toString();this.options.label=_11;if(this.options.escape){_11=$W._B._encode(_11);}this.dom.anchor.innerHTML=_11;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aL.prototype.getValue=function(){["WebSquare.uiplugin.anchor.getValue"];try{return this.options.label;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aL.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.anchor.handleClickEvent"];try{var _13=$W._c.getTarget(e);if(_13&&this.options.outerDiv&&_13===this.render){this.dom.anchor.click();return;}if(this.options.href.wq_trim()==""){$W._c.stopEvent(e);}$W._c.fireEvent(this,"onclick");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aL.prototype.setHref=function(_14){["WebSquare.uiplugin.anchor.setHref"];try{this.options.href=_14;this.dom.anchor.href=_14;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aL.prototype.getHref=function(){["WebSquare.uiplugin.anchor.getHref"];try{return this.dom.anchor.href;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aL.prototype.setDisabled=function(_15){["WebSquare.uiplugin.anchor.setDisabled"];try{if(typeof _15!="boolean"){return false;}if(this.options.outerDiv){this.dom.anchor.disabled=_15;}$W._t.prototype.setDisabled.call(this,_15);if(_15){this.addClass(this.render,"w2anchor_disabled");}else{this.removeClass(this.render,"w2anchor_disabled");}}catch(e){$W.exception.printStackTrace(e);}return _15;};$W._a.aL.prototype.setRef=function(ref){["WebSquare.uiplugin.anchor.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.anchor=$W._a.aL;$W._a.bp=function(id,_2,_3){["WebSquare.uiplugin.image"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bp.prototype,$W._t.prototype);$W._a.bp.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.image",pluginName:"image",systemEvents:["onabort","onblur","onclick","ondblclick","onfocus","onmousedown","onmouseup","onmouseout","onmouseover","onmousemove"],src:"",alt:"",title:"",longdesc:""};$W._a.bp.prototype.initialize=function(_4){};$W._a.bp.prototype.toHTML=function(){["WebSquare.uiplugin.image.toHTML"];try{var _5=[];var _6=this.options.src?$W._N.getImageURL(this.options.src):"";var _7=(this.options.title=="")?"":"title='"+this.options.title+"'";var _8=(this.options.usemap=="")?"":"usemap='"+this.options.usemap+"'";var _9=(this.options.longdesc=="")?"":"longdesc='"+this.options.longdesc+"'";var _a=(this.options.style=="")?"":"style='"+this.options.style+"'";if(this.options.alt=="$empty"){var _b="alt='"+"'";}else{var _b=(this.options.alt=="")?"":"alt='"+this.options.alt+"'";}_5.push("<img id='"+this.id+"' src='"+_6+"' "+_a+" class='w2image "+this.options.className+"' "+_b+" "+_7+" "+_8+" "+_9+" />");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bp.prototype.setAction=function(){["WebSquare.uiplugin.image.setAction"];try{this.refresh();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bp.prototype.refresh=function(){["WebSquare.uiplugin.image.refresh"];try{if(this.modelControl.isBinded()){var _c=this.modelControl.getData();this.setSrcNM(_c);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bp.prototype.setSrc=function(_d){["WebSquare.uiplugin.image.setSrc"];try{var _e=$W._N.getImageURL(_d);this.render.src=_e;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bp.prototype.setSrcNM=function(_f){["WebSquare.uiplugin.image.setSrcNM"];try{var _10=$W._N.getImageURL(_f);this.render.src=_10;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bp.prototype.getSrc=function(){["WebSquare.uiplugin.image.getSrc"];try{return this.render.src;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bp.prototype.setLongdesc=function(_11){["WebSquare.uiplugin.image.setLongdesc"];try{this.render.longDesc=_11;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bp.prototype.getLongdesc=function(){["WebSquare.uiplugin.image.getLongdesc"];try{return this.render.longDesc;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bp.prototype.setAlt=function(alt){["WebSquare.uiplugin.image.setAlt"];try{this.render.alt=alt;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bp.prototype.getAlt=function(){["WebSquare.uiplugin.image.getAlt"];try{return this.render.alt;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bp.prototype.onPropertyChange=function(_13,_14){["WebSquare.uiplugin.image.onPropertyChange"];try{switch(_13){case "disabled":if(_14==true){this.setOpacity(0.3);this.addClass(this.render,"w2image_disabled");}else{this.setOpacity(1);this.removeClass(this.render,"w2image_disabled");}break;case "readOnly":break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.image=$W._a.bp;$W._a.bq=function(id,_2,_3){["WebSquare.uiplugin.iframe"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bq.prototype,$W._t.prototype);$W._a.bq.prototype.defaultOptions={pluginType:"uiplugin.iframe",pluginName:"iframe",src:"",scrolling:"",title:"",name:"",allowTransparency:"",spa:false,spaParam:"wq_spaParam"};$W._a.bq.prototype.initialize=function(_4){["WebSquare.uiplugin.iframe.initialize"];try{if($W._N.getConfiguration("/WebSquare/spa/@value")=="true"){this.options.spa=true;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bq.prototype.toHTML=function(){["WebSquare.uiplugin.iframe.toHTML"];try{var _5=this.options.src;if(_5!=""){var _6=_5.slice(0);var _7=-1;var _8=-1;if((_7=_5.indexOf("?"))>-1){_6=_6.substring(0,_7);}else{if((_8=_5.indexOf("#"))>-1){_6=_6.substring(0,_8);}}if(_6.indexOf("&")>-1){_6=_6.substring(0,_6.indexOf("&"));}if(_6.substring(_6.lastIndexOf("."))===".xml"){if(this.options.spa){var _9="?"+this.options.spaParam+"="+(this.uuid||this.id);var _a=$W._N.getURL(_5);var _b=location.toString();var _c=_b.indexOf("?");if(_c<0){_c=_b.indexOf("#");}if(_c<0){_c=_b.length;}var _d=_b.substring(0,_c);if($W.isHoneyComb){if(window.frameElement){window["sessionStorage"][window.frameElement.id]=_a;}else{window["sessionStorage"]["w2xpath"]=_a;}var _e=_d.indexOf("?");if(_e>=0){_d=_d.substring(0,_e);}_5=_d+_9;}else{if($W._G.getBoolean($W._N.getConfiguration("/WebSquare/stylesheet/@relativePath"))){_5=_d+_9+"#w2xPath="+_a;}else{var _f="&w2xHome="+$W.w2xHome+"&w2xDocumentRoot="+$W.w2xDocumentRoot;_5=_d+_9+"#w2xPath="+_a+_f;}}}else{_5=$W._N.getURL(_5);var _c=(location.toString().indexOf("?"));if(_c<0){_c=location.toString().indexOf("#");}var str=location.toString().substring(0,_c);if(_c<0){str=location.toString();}_5=_5.replace("?","&");if($W.isHoneyComb){if(window.frameElement){window["sessionStorage"][window.frameElement.id]=_5;}else{window["sessionStorage"]["w2xpath"]=_5;}_5=str;}else{if($W._G.getBoolean($W._N.getConfiguration("/WebSquare/stylesheet/@relativePath"))){_5=str+"?w2xPath="+_5;}else{_5=str+"?w2xPath="+_5+"&w2xHome="+$W.w2xHome+"&w2xDocumentRoot="+$W.w2xDocumentRoot;}}}}_5="src='"+_5+"'";}else{_5=$W._r.getSSLBlankPage();if(_5==""){_5="src='about:blank'";}}var _11=(this.options.allowTransparency=="")?"":"allowTransparency='"+this.options.allowTransparency+"'";var _12=(this.options.name=="")?"":"name='"+this.options.name+"'";var _13=(this.options.scrolling=="")?"":"scrolling='"+this.options.scrolling+"'";var _14=(this.options.style=="")?"":"style='"+this.options.style+"'";var _15=(this.options.title=="")?"":"title='"+this.options.title+"'";return "<iframe id='"+this.id+"' "+_5+" "+_14+" class='w2iframe "+this.options.className+"' frameBorder='0' "+_15+" "+_11+" "+_12+" "+_13+"></iframe>";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bq.prototype.setAction=function(){["WebSquare.uiplugin.iframe.setAction"];try{}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bq.prototype.setSrc=function(src,_17){["WebSquare.uiplugin.iframe.setSrc"];try{var _18=false;var _19=$W._G.getBoolean(_17);var _1a="?"+this.options.spaParam+"="+(this.uuid||this.id);var _1b=src.slice(0);var _1c=-1;var _1d=-1;var _1e=-1;if((_1c=src.indexOf("?"))>-1){_1b=_1b.substring(0,_1c);}else{if((_1d=src.indexOf("#"))>-1){_1b=_1b.substring(0,_1d);}}if((_1e=_1b.indexOf("&"))>-1){_1b=_1b.substring(0,_1e);}if(_1b.substring(_1b.lastIndexOf("."))===".xml"){_17="1";_18=this.options.spa;}else{var _1f=this.getWindow();var _20=this.getSrc();try{if(_1f!=undefined&&_1f.WebSquare!=undefined){_20=_1f.location.toString();}var _21=_20.indexOf("#");var _22=src.indexOf("#");if(_21<0){_21=_20.length;}if(_22<0){_22=src.length;}_18=(_20.substring(0,_21)==src.substring(0,_22));}catch(e){$W.logger.printLog("warning : cross-origin frame");}}try{if(!_18){var _23=$W._N.getConfiguration("/WebSquare/clearMemory/@value");if(_23!="true"){if(this.getWindow().WebSquare){this.getWindow().WebSquare.clearMemory();}}}}catch(e){}if(src!="about:blank"&&!_18){if(location.protocol=="https:"){this.render.setAttribute("src",$W._r.getSSLBlankPage(true));}else{this.render.setAttribute("src","about:blank");}}var _1b=src;if(src.indexOf("?")>-1){_1b=_1b.substring(0,_1b.indexOf("?"));}if(src!=null){var _1f=this.getWindow();var _24=location.toString();try{if(_1f!=undefined&&_1f.WebSquare!=undefined){_24=_1f.location.toString();_1a="";}}catch(e){$W.logger.printLog("warning : cross-origin frame");}if(_17==="1"&&_18){var URL=$W._N.getURL(src);var idx=_24.indexOf("#");if(idx<0){idx=_24.length;}var _27=_24.substring(0,idx);var _28="";if($W.isHoneyComb){if(window.frameElement){window["sessionStorage"][window.frameElement.id]=URL;}else{window["sessionStorage"]["w2xpath"]=URL;}var _29=_27.indexOf("?");if(_29>=0){_27=_27.substring(0,_29);}src=_27+_1a;}else{if($W._G.getBoolean($W._N.getConfiguration("/WebSquare/stylesheet/@relativePath"))){src=_27+_1a+"#w2xPath="+URL;}else{_28="&w2xHome="+$W.w2xHome+"&w2xDocumentRoot="+$W.w2xDocumentRoot;src=_27+_1a+"#w2xPath="+URL+_28;}}if((src==(_24+_28)||src==_24)&&_1f&&_1f.WebSquare){_1f.WebSquare.util.reinitialize(_19);}else{if(_19&&_1f&&_1f.WebSquare){if("onhashchange" in _1f.window){_1f.window.onhashchange=null;}else{clearInterval(_1f.WebSquare.util._hashTestKey);}_1f.WebSquare.core.finalize();this.render.setAttribute("src",src);_1f.location.reload();}else{if(_1f&&_1f.WebSquare){_1f.WebSquare.w2xPath="";}try{if(location.protocol=="https:"&&$W._r.isSSLBlankPage(_1f.location.toString())){_1f.location.replace(src);}}catch(e){$W.logger.printLog("warning : cross-origin frame");}this.render.setAttribute("src",src);}}return;}if(_17==="1"){src=$W._N.getURL(src);var idx=(_24.indexOf("?"));if(idx<0){idx=_24.indexOf("#");if(idx<0){idx=_24.length;}}var str=_24.substring(0,idx);src=src.replace("?","&");if($W.isHoneyComb){if(window.frameElement){window["sessionStorage"][window.frameElement.id]=src;}else{window["sessionStorage"]["w2xpath"]=src;}src=str;}else{if($W._G.getBoolean($W._N.getConfiguration("/WebSquare/stylesheet/@relativePath"))){src=str+"?w2xPath="+src;}else{src=str+"?w2xPath="+src+"&w2xHome="+$W.w2xHome+"&w2xDocumentRoot="+$W.w2xDocumentRoot;}}try{if(location.protocol=="https:"&&$W._r.isSSLBlankPage(_1f.location.toString())){_1f.location.replace(src);}}catch(e){$W.logger.printLog("warning : cross-origin frame");}this.render.setAttribute("src",src);return;}try{if(location.protocol=="https:"&&$W._r.isSSLBlankPage(_1f.location.toString())){_1f.location.replace(src);}}catch(e){$W.logger.printLog("warning : cross-origin frame");}this.render.setAttribute("src",src);if(_18&&src==_24&&_1f&&_1f.WebSquare){_1f.WebSquare.util.reinitialize(_19);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bq.prototype.getSrc=function(){["WebSquare.uiplugin.iframe.getSrc"];try{return this.render.getAttribute("src");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bq.prototype.getWindow=function(){["WebSquare.uiplugin.iframe.getWindow"];try{return this.render.contentWindow;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bq.prototype.setDisabled=function(){$l("iframe\uc5d0\uc11c\ub294 setDisabled\ub97c \uc0ac\uc6a9\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");};$W._a.bq.prototype.setReadOnly=function(){$l("iframe\uc5d0\uc11c\ub294 setReadOnly\ub97c \uc0ac\uc6a9\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");};;WebSquare.uiplugin.iframe=$W._a.bq;requires("uiplugin/control/itemsetControl.js");requires("engine/validator.js");$W._a._p=function(id,_2,_3){["WebSquare.uiplugin.radio"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._p.prototype,$W._t.prototype);$W.extend($W._a._p.prototype,$W.itemsetControl.prototype);$W.extend($W._a._p.prototype,$W.IValidate.prototype);$W._a._p.prototype.defaultOptions={pluginType:"uiplugin.radio",pluginName:"radio",userEvents:["onchange","onlabelclick","onradioclick","onviewchange"],renderType:"",tagname:"div",itemTagname:"div",value:"",cols:0,rows:0,name:"",selectedIndex:-1,initValue:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,title:"",useRadioTitle:true,inValidValue:"reset",escape:false,ignoreTabIndex:false};$W._a._p.prototype.initialize=function(_4){["WebSquare.uiplugin.radio.initialize"];try{var _5=$W._N.getConfiguration("/WebSquare/radio/renderType/@value");if(this.options.renderType==""&&_5!=""){this.options.renderType=_5;}else{if(this.options.renderType==""){this.options.renderType="table";}}this.selectedIndex=-1;this.inputType="radio";if(this.options.renderType=="native"){this.itemArr=[{label:"",value:this.options.value}];}else{this.initializeItemArr(_4);}this.itemDisabledArray=[];for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(false);}this.setTableCount();this.validator=new $W._p.validateInvoker(this.id,this.options);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.toHTML=function(){["WebSquare.uiplugin.radio.toHTML"];try{var _7=[];var _8="label";var _9=this.itemArr.length;var _a=this.options.name||this.id+"_input";var _b=(this.options.style=="")?"":"style='"+this.options.style+"'";var _c=(this.options.title=="")?"":"title='"+this.options.title+"'";var _d="";if(this.options.ignoreTabIndex==true){if($W._G.isIEAllVersion("8")||$W._G.isIEAllVersion("9")){_d=" tabindex='-40000'";}else{_d=" tabindex='-1'";}}if(this.options.renderType.toLowerCase()=="native"){_7.push("<input type='"+this.inputType+"' "+_b+" class='w2"+this.inputType+"_input' name='"+_a+"' id='"+this.id+"' index='0' "+_c+_d+" />");}else{if(this.options.renderType.toLowerCase()=="radiogroup"){_7.push("<"+this.options.tagname+" id='"+this.id+"' "+_b+" class='w2"+this.inputType+" "+this.options.className+"' "+_c+" >");for(var i=0;i<_9;i++){var _f=this.id+"_input_"+i;var _10=(this.options.escape)?$W._B._encode(this.itemArr[i].label):this.itemArr[i].label;var _11="";var _12="";if(this.itemDisabledArray[i]){_11="disabled";_12="w2radio_disabled";}_7.push("<"+this.options.itemTagname+" class='w2radio_item w2radio_item_"+i+"'>");_7.push("<input type='"+this.inputType+"' class='w2"+this.inputType+"_input' name='"+_a+"' index='"+i+"'  id='"+_f+"' "+_11+_d+"/>");_7.push("<"+_8+" class='w2"+this.inputType+"_label "+_12+"' index='"+i+"' "+(_8=="label"?"for='"+_f+"'":"")+" >"+_10+"</"+_8+">");_7.push("</"+this.options.itemTagname+">");}_7.push("</"+this.options.tagname+">");}else{_7.push("<div id='"+this.id+"' "+_b+" class='w2"+this.inputType+" "+this.options.className+"' "+_c+" >");_7.push("<table class='w2"+this.inputType+"_main' cellpadding='0' cellspacing='0'>");for(var row=0;row<this.rowCount;row++){var _f=this.id+"_input_"+row;_7.push("<tr class='w2"+this.inputType+"_row'>");for(var col=0;col<this.colCount;col++){var _15=row*this.colCount+col;var _f=this.id+"_input_"+_15;var _11="";var _12="";if(this.itemDisabledArray[_15]){_11="disabled";_12="w2radio_disabled";}if(_15<_9){var _10=(this.options.escape)?$W._B._encode(this.itemArr[_15].label):this.itemArr[_15].label;var _16=this.options.useRadioTitle?" title='"+_10+"' ":"";_7.push("<td class='w2"+this.inputType+"_td_input'><input type='"+this.inputType+"' class='w2"+this.inputType+"_input' name='"+_a+"' index='"+_15+"'  id='"+_f+"'"+_16+" "+_11+_d+"/></td>");_7.push("<td class='w2"+this.inputType+"_td_label' ><"+_8+" class='w2"+this.inputType+"_label "+_12+"' index='"+_15+"' "+(_8=="label"?"for='"+_f+"'":"")+" >"+_10+"</"+_8+"></td>");}else{_7.push("<td class='w2"+this.inputType+"_td_input'></td>");_7.push("<td class='w2"+this.inputType+"_td_label'></td>");}}_7.push("</tr>");}_7.push("</table>");_7.push("</div>");}}return _7.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.setAction=function(){["WebSquare.uiplugin.radio.setAction"];try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}if(this.modelControl.isBinded()){var _17=this.modelControl.getData();this.setValueNM(_17);}if(this.options.selectedIndex>-1){this.setSelectedIndexNM(this.options.selectedIndex);if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.getAccessibiltyId=function(){["WebSquare.uiplugin.radio.getAccessibiltyId"];try{return this.options.renderType=="native"?this.id:this.id+"_input_0";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.refreshItemset=function(){["WebSquare.uiplugin.radio.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){var _18=this.getValue();var _19=false;if(this.getItemCount()==0&&this.options.selectedIndex>-1){_19=true;}this.refreshItemArr();this.itemDisabledArray=new Array();for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(this.options.disabled);}this.componentRedraw(_18);if(_19){this.setSelectedIndexNM(this.options.selectedIndex);if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.refresh=function(){["WebSquare.uiplugin.radio.refresh"];try{if(this.modelControl.isBinded()){var _1b=this.getValue();var _1c=this.modelControl.getData();this.setValueNM(_1c);if(_1b!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.componentRedraw=function(_1d){["WebSquare.uiplugin.radio.componentRedraw"];try{this.setTableCount();this.redraw();this.setValueNM(_1d);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.getItemCount=function(){["WebSquare.uiplugin.radio.getItemCount"];try{return this.itemArr.length;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.setSelectedIndex=function(idx){["WebSquare.uiplugin.radio.setSelectedIndex"];try{if($W._G.isNull(idx)){return;}idx=parseInt(idx);var _1f=this.getSelectedIndex();this.setSelectedIndexNM(idx);this.modelControl.setData(this.itemArr[idx].value);if(_1f!=this.getSelectedIndex()){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.selectbox.getSelectedIndex"];try{return this.selectedIndex;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.setSelectedIndexNM=function(idx,_21){["WebSquare.uiplugin.radio.setSelectedIndexNM"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return false;}this.selectedIndex=idx;var _22=this.getRadioList();var _23=_22[idx];_21=(_21==null)?true:_21;_23.checked=_21;return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.setValue=function(_24){["WebSquare.uiplugin.radio.setValue"];try{if($W._G.isNull(_24)){return;}var _25=this.getValue();this.setValueNM(_24);this.modelControl.setData(_24);if(_25!=this.getValue()){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.setValueNM=function(_26){["WebSquare.uiplugin.radio.setValueNM"];try{if($W._G.isNull(_26)){return;}_26=_26.toString();var _27=this.getItemCount();var _28=false;for(var i=0;i<_27;i++){if(this.itemArr[i].value==_26){this.setSelectedIndexNM(i,true);_28=true;}else{if(this.options.inValidValue=="reset"){this.checkedRadio(i,false);}}}if(this.options.inValidValue=="reset"&&_28==false){this.selectedIndex=-1;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.checkedRadio=function(idx,_2b){["WebSquare.uiplugin.radio.checkedRadio"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return false;}var _2c=this.getRadioList();var _2d=_2c[idx];_2b=(_2b==null)?true:_2b;_2d.checked=_2b;return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.setInstanceValue=function(){["WebSquare.uiplugin.radio.setInstanceValue"];try{var _2e=this.getValue();this.modelControl.setData(_2e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.setTableCount=function(){["WebSquare.uiplugin.radio.setTableCount"];try{this.rowCount=this.itemArr.length;this.colCount=1;if(this.options.rows!=0){var _2f=this.options.rows;this.rowCount=_2f;this.colCount=Math.ceil(this.itemArr.length/_2f);}if(this.options.cols!=0){var _30=this.options.cols;this.colCount=_30;this.rowCount=Math.ceil(this.itemArr.length/_30);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.getValue=function(){["WebSquare.uiplugin.radio.getValue"];try{var ret="";var _32=this.getRadioList();for(var i=0;i<_32.length;i++){if(_32[i].checked){ret=this.itemArr[i].value;}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.getText=function(){["WebSquare.uiplugin.radio.getText"];try{var ret="";var _35=this.getRadioList();for(var i=0;i<_35.length;i++){if(_35[i].checked){ret=this.itemArr[i].label;}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.addItem=function(_37,_38,idx){["WebSquare.uiplugin.radio.addItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){idx=this.getItemCount();}else{if(idx<0||idx>=this.getItemCount()){idx=this.getItemCount();}}var _3a=this.getValue();var _3b={};_3b.value=_37;_3b.label=_38;this.itemArr.splice(idx,0,_3b);this.itemDisabledArray.splice(idx,0,this.options.disabled?true:false);var _3c=this.getRadioList();var _3d=[];for(var i=0;i<_3c.length;i++){_3d.push(_3c[i].itemDisabled);}_3d.splice(idx,0,false);this.componentRedraw(_3a);var _3f=this.getRadioList();for(var i=0;i<_3f.length;i++){_3f[i].itemDisabled=_3d[i];}return idx;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.deleteItem=function(idx){["WebSquare.uiplugin.radio.deleteItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){return;}var _41=this.getValue();var _42=null;var _43=this.getRadioList();var _44=[];for(var i=0;i<_43.length;i++){_44.push(_43[i].itemDisabled);}if(idx>=0&&idx<this.getItemCount()){_42=(this.itemArr.splice(idx,1))[0];this.itemDisabledArray.splice(idx,1);_44.splice(idx,1);}this.componentRedraw(_41);var _46=this.getRadioList();for(var i=0;i<_46.length;i++){_46[i].itemDisabled=_44[i];}return _42;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.removeAll=function(){["WebSquare.uiplugin.radio.removeAll"];try{this.itemArr=new Array();this.itemDisabledArray=new Array();this.componentRedraw("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.onPropertyChange=function(_47,_48){["WebSquare.uiplugin.radio.onPropertyChange"];try{switch(_47){case "readOnly":var _49=this.getRadioList();for(var i=0;i<_49.length;i++){_49[i].disabled=_48;}break;case "mandatory":if(_48==true){this.addClass(this.render,"w2radio_mandatory");}else{this.removeClass(this.render,"w2radio_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.getRadioList=function(){["WebSquare.uiplugin.radio.getRadioList"];try{if(this.options.renderType=="native"){return [this.render];}return this.getDomList("radioArr","input");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.getLabelList=function(){["WebSquare.uiplugin.radio.getLabelList"];try{return this.getDomList("labelArr","label");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.focus=function(){["WebSquare.uiplugin.radio.focus"];try{var _4b=this.getRadioList();_4b[0].focus();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.click=function(i){["WebSquare.uiplugin.radio.click"];try{var _4d=this.getRadioList();_4d[i].click();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.reset=function(){["WebSquare.uiplugin.radio.reset"];try{var _4e=this.getRadioList();var _4f=this.getValue();for(var i=0;i<_4e.length;i++){if(_4e[i].checked){_4e[i].checked=false;}}this.selectedIndex=-1;var _51=this.getValue();this.setInstanceValue();if(_4f!=_51){this.fireOnchange();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.validate=function(){["WebSquare.uiplugin.radio.validate"];try{var _52=this.validator.validate(this.getValue());if(!_52){this.focus();}return _52;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.setDisabled=function(_53){["WebSquare.uiplugin.radio.setDisabled"];try{_53=$W._G.getBoolean(_53);var _54=this.getRadioList();var _55=this.getLabelList();for(var i=0;i<_54.length;i++){if(!_54[i].itemDisabled){_54[i].disabled=_53;this.itemDisabledArray[i]=_53;if(_55[i]){if(_53){this.addClass(_55[i],"w2radio_disabled");}else{this.removeClass(_55[i],"w2radio_disabled");}}}}this.options.disabled=_53;this.render.disabled=_53;return _53;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.setItemDisabled=function(idx,_58){["WebSquare.uiplugin.radio.setItemDisabled"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}_58=$W._G.getBoolean(_58);var _59=this.getRadioList();var _5a=this.getLabelList();_59[idx].disabled=_58;_59[idx].itemDisabled=_58;this.itemDisabledArray[idx]=_58;if(_58==true){this.addClass(_5a[idx],"w2radio_disabled");}else{this.removeClass(_5a[idx],"w2radio_disabled");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.getItemDisabled=function(idx){["WebSquare.uiplugin.radio.getItemDisabled"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}var _5c=this.getRadioList();return _5c[idx].disabled;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.setInitValue=function(_5d){["WebSquare.uiplugin.radio.setInitValue"];try{var _5e=this.getValue();var _5f=this.getRadioList();for(var i=0;i<_5f.length;i++){if(_5f[i].checked){_5f[i].checked=false;}}this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_5d.fireEvent){if(_5e!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.setRef=function(ref){["WebSquare.uiplugin.radio.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a._p.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.radio.handleClickEvent"];try{this.setRefPosition();var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2"+this.inputType+"_input")){var _64=it.getElement().getAttribute("index");var _65=this.selectedIndex;var _66=this.getRadioList();if(_66[_64].disabled){continue;}this.setSelectedIndex(_64);this.fireOnclick({"type":"1","index":_64,"oldIndex":_65});}if(it.match("w2"+this.inputType+"_label")&&!it.match("w2"+this.inputType+"_disabled")){var _64=it.getElement().getAttribute("index");var _66=this.getRadioList();$W._c.stopEvent(e);var _65=this.selectedIndex;this.setSelectedIndex(_64);this.fireOnclick({"type":"2","index":_64,"oldIndex":_65});}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.fireOnchange=function(){["WebSquare.uiplugin.radio.fireOnchange"];try{$W._c.fireEvent(this,"onchange");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._p.prototype.fireOnclick=function(obj){["WebSquare.uiplugin.radio.fireOnclick"];try{if(!obj){return;}var _68=obj.type||"1";var _69=obj.index;var _6a=this.getValue();var _6b=obj.oldIndex;if(_68==="1"){$W._c.fireEvent(this,"onradioclick",_69,_6a);}else{if(_68==="2"){$W._c.fireEvent(this,"onlabelclick",_69,_6a);}}if(_69!=_6b){$W._c.fireEvent(this,"onviewchange",{"index":_69,"value":_6a});}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.radio=$W._a._p;requires("uiplugin/control/itemsetControl.js");requires("engine/validator.js");$W._a.bj=function(id,_2,_3){["WebSquare.uiplugin.checkbox"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bj.prototype,$W._t.prototype);$W.extend($W._a.bj.prototype,$W.itemsetControl.prototype);$W.extend($W._a.bj.prototype,$W.IValidate.prototype);$W._a.bj.prototype.defaultOptions={pluginType:"uiplugin.checkbox",pluginName:"checkbox",userEvents:["onchange","onlabelclick","oncheckboxclick","onviewchange"],renderType:"",tagname:"div",itemTagname:"div",value:"",cols:0,rows:0,name:"",selectedindex:-1,initValue:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,title:"",useCheckboxTitle:true,escape:false,falseValue:"",ignoreTabIndex:false};$W._a.bj.prototype.initialize=function(_4){["WebSquare.uiplugin.checkbox.initialize"];try{this.inputType="checkbox";var _5=$W._N.getConfiguration("/WebSquare/checkbox/renderType/@value");if(this.options.renderType==""&&_5!=""){this.options.renderType=_5;}else{if(this.options.renderType==""){this.options.renderType="table";}}if(this.options.renderType=="native"){this.itemArr=[{label:"",value:this.options.value}];}else{this.initializeItemArr(_4);}this.itemDisabledArray=[];for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(false);}this.setTableCount();this.validator=new $W._p.validateInvoker(this.id,this.options);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.toHTML=function(){["WebSquare.uiplugin.checkbox.toHTML"];try{var _7=[];var _8="label";var _9=this.itemArr.length;var _a=this.options.name||this.id+"_input";var _b=(this.options.style=="")?"":"style='"+this.options.style+"'";var _c=(this.options.title=="")?"":"title='"+this.options.title+"'";var _d=(this.options.ignoreTabIndex==true)?" tabindex='-1'":"";if(this.options.renderType.toLowerCase()=="native"){_7.push("<input type='"+this.inputType+"' "+_b+" class='w2"+this.inputType+"_input' name='"+_a+"' id='"+this.id+"' index='0' "+_c+_d+" />");}else{if(this.options.renderType.toLowerCase()=="checkboxgroup"){_7.push("<"+this.options.tagname+" id='"+this.id+"' "+_b+" class='w2"+this.inputType+" "+this.options.className+"' "+_c+">");for(var i=0;i<_9;i++){var _f=this.id+"_input_"+i;var _10=(this.options.escape)?$W._B._encode(this.itemArr[i].label):this.itemArr[i].label;var _11="";var _12="";if(this.itemDisabledArray[i]){_11="disabled";_12="w2checkbox_disabled";}_7.push("<"+this.options.itemTagname+" class='w2checkbox_item w2checkbox_item_"+i+"'>");_7.push("<input type='"+this.inputType+"' class='w2"+this.inputType+"_input' name='"+_a+"' index='"+i+"' id='"+_f+"' "+_11+_d+" />");_7.push("<"+_8+" class='w2"+this.inputType+"_label "+_12+"' index='"+i+"' "+(_8=="label"?"for='"+_f+"'":"")+">"+_10+"</"+_8+">");_7.push("</"+this.options.itemTagname+">");}_7.push("</"+this.options.tagname+">");}else{_7.push("<div id='"+this.id+"' "+_b+" class='w2"+this.inputType+" "+this.options.className+"' "+_c+">");_7.push("<table class='w2"+this.inputType+"_main' cellpadding='0' cellspacing='0'>");for(var row=0;row<this.rowCount;row++){_f=this.id+"_input_"+row;_7.push("<tr class='w2"+this.inputType+"_row'>");for(var col=0;col<this.colCount;col++){var _15=row*this.colCount+col;var _f=this.id+"_input_"+_15;var _11="";var _12="";if(this.itemDisabledArray[_15]){_11="disabled";_12="w2checkbox_disabled";}if(_15<_9){var _10=(this.options.escape)?$W._B._encode(this.itemArr[_15].label):this.itemArr[_15].label;var _16=this.options.useCheckboxTitle?" title='"+_10+"' ":"";_7.push("<td class='w2"+this.inputType+"_td_input'><input type='"+this.inputType+"' class='w2"+this.inputType+"_input' name='"+_a+"' index='"+_15+"'  id='"+_f+"'"+_16+""+_11+_d+"/></td>");_7.push("<td class='w2"+this.inputType+"_td_label'><"+_8+" class='w2"+this.inputType+"_label "+_12+"' index='"+_15+"' "+(_8=="label"?"for='"+_f+"'":"")+">"+_10+"</"+_8+"></td>");}else{_7.push("<td class='w2"+this.inputType+"_td_input'></td>");_7.push("<td class='w2"+this.inputType+"_td_label'></td>");}}_7.push("</tr>");}_7.push("</table>");_7.push("</div>");}}return _7.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.setAction=function(){["WebSquare.uiplugin.checkbox.setAction"];try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}if(this.modelControl.isBinded()){var _17=this.modelControl.getData();this.setValueNM(_17);}if(this.options.selectedindex>-1){var _18=this.getCheckboxList();for(var i=0;i<_18.length;i++){var _1a=_18[i];_1a.checked=false;}this.setSelectedIndexNM(this.options.selectedindex);if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.getAccessibiltyId=function(){["WebSquare.uiplugin.checkbox.getAccessibiltyId"];try{return this.options.renderType=="native"?this.id:this.id+"_input_0";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.refreshItemset=function(){["WebSquare.uiplugin.checkbox.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){var _1b=this.getValue();this.refreshItemArr();this.itemDisabledArray=new Array();for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(this.options.disabled);}this.componentRedraw(_1b);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.refresh=function(){["WebSquare.uiplugin.checkbox.refresh"];try{if(this.modelControl.isBinded()){var _1d=this.getValue();var _1e=this.modelControl.getData();this.setValueNM(_1e);if(_1d!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.componentRedraw=function(_1f){["WebSquare.uiplugin.checkbox.componentRedraw"];try{this.setTableCount();this.redraw();this.setValueNM(_1f);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.getItemCount=function(){["WebSquare.uiplugin.checkbox.getItemCount"];try{return this.itemArr.length;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.setSelectedIndex=function(idx){["WebSquare.uiplugin.checkbox.setSelectedIndex"];try{if($W._G.isNull(idx)||isNaN(Number(idx))==true){return;}idx=parseInt(idx);var _21=this.getSelectedIndex();var _22=this.getValue();this.setSelectedIndexNM(idx);this.modelControl.setData(this.getValue());if(_22!=this.getValue()){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.getSelectedIndex=function(_23){["WebSquare.uiplugin.checkbox.getSelectedIndex"];try{if(!_23){_23=" ";}var ret=[];var _25=this.getCheckboxList();for(var i=0;i<_25.length;i++){if(_25[i].checked){ret.push(i);}}return ret.join(_23).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.setSelectedIndexNM=function(idx,_28){["WebSquare.uiplugin.checkbox.setSelectedIndexNM"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return false;}var _29=this.getCheckboxList();var _2a=_29[idx];_28=(_28==null)?!_2a.checked:_28;_2a.checked=_28;return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.setValue=function(_2b){["WebSquare.uiplugin.checkbox.setValue"];try{if($W._G.isNull(_2b)){return;}var _2c=this.getValue();this.setValueNM(_2b);this.modelControl.setData(_2b);if(_2c!=this.getValue()){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.setValueNM=function(_2d){["WebSquare.uiplugin.checkbox.setValueNM"];try{if($W._G.isNull(_2d)){return;}_2d=_2d.toString();var _2e=this.getValue();var _2f=_2d.split(" ");var _30=[];for(var i=0;i<_2f.length;i++){_30[_2f[i]+""]="";}var _32=this.getItemCount();for(var i=0;i<_32;i++){var _2d=this.itemArr[i].value;if(_30[_2d]!=null){this.setSelectedIndexNM(i,true);}else{this.setSelectedIndexNM(i,false);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.setInstanceValue=function(){["WebSquare.uiplugin.checkbox.setInstanceValue"];try{var _33=this.getValue();this.modelControl.setData(_33);this.fireOnchange();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.setTableCount=function(){["WebSquare.uiplugin.checkbox.setTableCount"];try{this.rowCount=this.itemArr.length;this.colCount=1;if(this.options.rows!=0){var _34=this.options.rows;this.rowCount=_34;this.colCount=Math.ceil(this.itemArr.length/_34);}if(this.options.cols!=0){var _35=this.options.cols;this.colCount=_35;this.rowCount=Math.ceil(this.itemArr.length/_35);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.getText=function(_36){["WebSquare.uiplugin.checkbox.getText"];try{if(!_36){_36=" ";}var ret=[];var _38=this.getCheckboxList();for(var i=0;i<_38.length;i++){if(_38[i].checked){ret.push(this.itemArr[i].label);}}return ret.join(_36).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.getValue=function(_3a){["WebSquare.uiplugin.checkbox.getValue"];try{if(!_3a){_3a=" ";}var ret=[];var _3c=this.getCheckboxList();for(var i=0;i<_3c.length;i++){if(_3c[i].checked){ret.push(this.itemArr[i].value);}}return ret.join(_3a).wq_trim()||this.options.falseValue;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.addItem=function(_3e,_3f,idx){["WebSquare.uiplugin.checkbox.addItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){idx=this.getItemCount();}else{if(idx<0||idx>=this.getItemCount()){idx=this.getItemCount();}}var _41=this.getValue();var _42={};_42.value=_3e;_42.label=_3f;this.itemArr.splice(idx,0,_42);this.itemDisabledArray.splice(idx,0,this.options.disabled?true:false);var _43=this.getCheckboxList();var _44=[];for(var i=0;i<_43.length;i++){_44.push(_43[i].itemDisabled);}_44.splice(idx,0,false);this.componentRedraw(_41);var _46=this.getCheckboxList();for(var i=0;i<_46.length;i++){_46[i].itemDisabled=_44[i];}return idx;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.deleteItem=function(idx){["WebSquare.uiplugin.checkbox.deleteItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){return;}var _48=this.getValue();var _49=null;var _4a=this.getCheckboxList();var _4b=[];for(var i=0;i<_4a.length;i++){_4b.push(_4a[i].itemDisabled);}if(idx>=0&&idx<this.getItemCount()){_49=(this.itemArr.splice(idx,1))[0];this.itemDisabledArray.splice(idx,1);_4b.splice(idx,1);}this.componentRedraw(_48);var _4d=this.getCheckboxList();for(var i=0;i<_4d.length;i++){_4d[i].itemDisabled=_4b[i];}return _49;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.removeAll=function(){["WebSquare.uiplugin.checkbox.removeAll"];try{this.itemArr=new Array();this.itemDisabledArray=new Array();this.componentRedraw("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.onPropertyChange=function(_4e,_4f){["WebSquare.uiplugin.checkbox.onPropertyChange"];try{switch(_4e){case "readOnly":var _50=this.getCheckboxList();for(var i=0;i<_50.length;i++){_50[i].disabled=_4f;}break;case "mandatory":if(_4f==true){this.addClass(this.render,"w2checkbox_mandatory");}else{this.removeClass(this.render,"w2checkbox_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.getCheckboxList=function(){["WebSquare.uiplugin.checkbox.getCheckboxList"];try{if(this.options.renderType=="native"){return [this.render];}return this.getDomList("checkboxArr","input");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.getLabelList=function(){["WebSquare.uiplugin.checkbox.getLabelList"];try{return this.getDomList("labelArr","label");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.focus=function(){["WebSquare.uiplugin.checkbox.focus"];try{var _52=this.getCheckboxList();_52[0].focus();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.click=function(i){["WebSquare.uiplugin.checkbox.click"];try{var _54=this.getCheckboxList();_54[i].click();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.reset=function(){["WebSquare.uiplugin.checkbox.reset"];try{var _55=this.getCheckboxList();for(var i=0;i<_55.length;i++){if(_55[i].checked){_55[i].checked=false;}}this.setInstanceValue();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.checkAll=function(_57){["WebSquare.uiplugin.checkbox.checkAll"];try{var _58=this.getItemCount();for(var i=0;i<_58;i++){this.setSelectedIndexNM(i,_57);}if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.validate=function(){["WebSquare.uiplugin.checkbox.validate"];try{var _5a=this.validator.validate(this.getValue());if(!_5a){this.focus();}return _5a;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.setDisabled=function(_5b){["WebSquare.uiplugin.checkbox.setDisabled"];try{_5b=$W._G.getBoolean(_5b);var _5c=this.getCheckboxList();var _5d=this.getLabelList();for(var i=0;i<_5c.length;i++){if(!_5c[i].itemDisabled){_5c[i].disabled=_5b;this.itemDisabledArray[i]=_5b;if(_5d[i]){if(_5b){this.addClass(_5d[i],"w2checkbox_disabled");}else{this.removeClass(_5d[i],"w2checkbox_disabled");}}}}this.options.disabled=_5b;this.render.disabled=_5b;return _5b;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.setItemDisabled=function(idx,_60){["WebSquare.uiplugin.checkbox.setItemDisabled"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}_60=$W._G.getBoolean(_60);var _61=this.getCheckboxList();var _62=this.getLabelList();_61[idx].disabled=_60;_61[idx].itemDisabled=_60;this.itemDisabledArray[idx]=_60;if(_60==true){this.addClass(_62[idx],"w2checkbox_disabled");}else{this.removeClass(_62[idx],"w2checkbox_disabled");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.getItemDisabled=function(idx){["WebSquare.uiplugin.checkbox.getItemDisabled"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}var _64=this.getCheckboxList();return _64[idx].disabled;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.setInitValue=function(_65){["WebSquare.uiplugin.checkbox.setInitValue"];try{var _66=this.getValue();this.checkAll(false);this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_65.fireEvent){if(_66!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.setRef=function(ref){["WebSquare.uiplugin.checkbox.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bj.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.checkbox.handleClickEvent"];try{this.setRefPosition();var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2"+this.inputType+"_input")){this.setInstanceValue();var _6a=it.getElement().getAttribute("index");this.fireOnclick({"type":"1","index":_6a});}else{if(it.match("w2"+this.inputType+"_label")&&!it.match("w2"+this.inputType+"_disabled")){var _6a=it.getElement().getAttribute("index");$W._c.stopEvent(e);this.setSelectedIndex(_6a);this.fireOnclick({"type":"2","index":_6a});}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.fireOnchange=function(){["WebSquare.uiplugin.checkbox.fireOnchange"];try{$W._c.fireEvent(this,"onchange");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bj.prototype.fireOnclick=function(obj){["WebSquare.uiplugin.checkbox.fireOnclick"];try{if(!obj){return;}var _6c=obj.type||"1";var _6d=obj.index;var _6e=this.getCheckboxList();var _6f=_6e[_6d].checked;var _70=this.itemArr[_6d].value;if(!_6e[_6d].disabled){if(_6c==="1"){$W._c.fireEvent(this,"oncheckboxclick",_6d,_6f,_70);}else{if(_6c==="2"){$W._c.fireEvent(this,"onlabelclick",_6d,_6f,_70);}}$W._c.fireEvent(this,"onviewchange",{"index":_6d,"checked":_6f,"value":_70});}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.checkbox=$W._a.bj;$W._a.be=function(id,_2,_3){["WebSquare.uiplugin.template"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.be.prototype,$W._t.prototype);$W._a.be.prototype.defaultOptions={pluginType:"uiplugin.template",pluginName:"template"};$W._a.be.prototype.initialize=function(_4){};$W._a.be.prototype.toHTML=function(){["WebSquare.uiplugin.template.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2template "+this.options.className+"'>");_5.push("</div>");return _5.join("");};$W._a.be.prototype.setAction=function(){};$W._a.be.prototype.setLayout=function(){};$W._a.be.prototype.refreshItemset=function(){};$W._a.be.prototype.refresh=function(){};$W._a.be.prototype.handleClickEvent=function(e){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2template")){}}it=null;};$W._a.be.prototype.handleMouseoverEvent=function(e){$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2template")){this.addClass(it.getElement(),"w2template_over");}}it=null;};$W._a.be.prototype.handleMouseoutEvent=function(e){$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2template")){this.removeClass(it.getElement(),"w2template_over");}}it=null;};;WebSquare.uiplugin.template=$W._a.be;requires("engine/validator.js");requires("uiplugin/control/historyManager.js");$W._a.bi=function(id,_2,_3){["WebSquare.uiplugin.textarea"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bi.prototype,$W._t.prototype);$W.extend($W._a.bi.prototype,$W.IValidate.prototype);$W._a.bi.prototype.defaultOptions={pluginType:"uiplugin.textarea",pluginName:"textarea",userEvents:["oneditend","onchange","onviewchange"],systemEvents:["onclick","ondblclick","onkeydown","onfocus","onbeforeeditfocus","onfocusin","onblur","onkeyup","onkeypress","onmouseup","onmousedown","onmouseover","onmouseout","onmousemove"],useConfig:true,initValue:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,title:"",wrap:"",readOnlyClass:"w2textarea_readonly",focusRemember:false,placeholder:""};$W._a.bi.prototype.initialize=function(_4){["WebSquare.uiplugin.textarea.initialize"];try{this.validator=new $W._p.validateInvoker(this.id,this.options);this.refreshStop=false;this.caretPosition={start:-1,end:-1};this.rememberCaretPosition=this.options.focusRemember&&$W._N.browserCheck.ie&&parseInt($W._N.browserVersion(),10)<10;this._focusStatus="init";this.realValue="";this.supportPlaceholder=false;if(this.options.placeholder){if($W._a.bi.placeholder){this.supportPlaceholder=true;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.placeholder=(function(){var _5=document.createElement("textarea");return typeof _5.placeholder=="string";})();$W._a.bi.prototype.toHTML=function(){["WebSquare.uiplugin.textarea.toHTML"];try{var _6=[];var _7=(this.options.style=="")?"":"style='"+this.options.style+"'";var _8=(this.options.title=="")?"":"title='"+this.options.title+"'";var _9=(this.options.wrap=="")?"":"wrap='"+this.options.wrap+"'";var _a=(this.supportPlaceholder=="")?"":" placeholder='"+this.options.placeholder+"'";_6.push("<textarea id='"+this.id+"' "+_7+" class='w2textarea "+this.options.className+"' "+_8+" "+_9+" "+_a+">");_6.push("</textarea>");return _6.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.setAction=function(){["WebSquare.uiplugin.textarea.setAction"];try{this.addEvent("oneditend",function(){if(this.options.placeholder&&!this.supportPlaceholder){if(this.realValue.length==0&&this.render.className.match("w2textarea_placeholder")){return;}}var _b=this.getValue();var _c=_b;if(this.options.maxByteLength!=-1){_b=$W._G.getStringByByteSize(_b,this.options.maxByteLength);}_b=this.validator.validateString(_b);if(!this.options.focusRemember||_c!=_b){this.setValueNM(_b);}});if(this.options.maxlength>0){this.render.setAttribute("maxlength",this.options.maxlength);}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}if($W._G.isIEAllVersion()||$W._G.isSpartan()){this.event.addListener(this.render,"onbeforeeditfocus",this.event.bindAsEventListener(this,this.handleBeforeFocusEvent));this.event.addListener(this.render,"onfocusin",this.event.bindAsEventListener(this,this.handleFocusinEvent));}this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));this.event.addListener(this.render,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyupEvent));if(this.rememberCaretPosition){this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleMouseupEvent));}if(this.options.placeholder&&!this.supportPlaceholder){if(this.realValue.length==0){this.render.value=this.options.placeholder;this.addClass("w2textarea_placeholder");}}this.refresh();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.refresh=function(){["WebSquare.uiplugin.textarea.refresh"];try{if(this.modelControl.isBinded()){var _d=this.getValue();var _e=this.modelControl.getData();this.setValueNM(_e);if(_d!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.setValue=function(_f){["WebSquare.uiplugin.textarea.setValue"];try{if($W._G.isNull(_f)){return;}var _10=this.getValue();this.setValueNM(_f);this.modelControl.setData(_f);if(_10!=this.getValue()){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.setValueNM=function(_11){["WebSquare.uiplugin.textarea.setValueNM"];try{if($W._G.isNull(_11)||this.refreshStop){return;}_11=_11.toString();if(this.options.placeholder&&!this.supportPlaceholder){if(_11.length==0){if(!this.hasClass("w2textarea_placeholder")){this.addClass("w2textarea_placeholder");}this.render.value=this.options.placeholder;}else{this.removeClass("w2textarea_placeholder");this.render.value=_11;}}else{this.render.value=_11;}this.realValue=_11;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.getValue=function(){["WebSquare.uiplugin.textarea.getValue"];try{if(this.refreshStop){return this.refreshStopValue;}else{if(this.options.placeholder&&!this.supportPlaceholder&&this.realValue.length==0){if(this.hasClass("w2textarea_placeholder")){return "";}else{return this.render.value;}}else{return this.render.value;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.validate=function(){["WebSquare.uiplugin.textarea.validate"];try{var _12=this.validator.validate(this.getValue());if(!_12){this.focus();}return _12;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.setInitValue=function(_13){["WebSquare.uiplugin.textarea.setInitValue"];try{var _14=this.getValue();this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_13.fireEvent){if(_14!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.onPropertyChange=function(_15,_16){["WebSquare.uiplugin.textarea.onPropertyChange"];try{switch(_15){case "disabled":if(_16==true){this.addClass(this.render,"w2textarea_disabled");}else{this.removeClass(this.render,"w2textarea_disabled");}break;case "readOnly":if(_16==true){this.addClass(this.render,this.options.readOnlyClass);}else{this.removeClass(this.render,this.options.readOnlyClass);}break;case "mandatory":if(_16==true){this.addClass(this.render,"w2textarea_mandatory");}else{this.removeClass(this.render,"w2textarea_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.setRef=function(ref){["WebSquare.uiplugin.textarea.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bi.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.textarea.handleFocusEvent"];try{if(this.options.placeholder&&!this.supportPlaceholder){if(this.realValue.length==0){this.render.value="";this.removeClass("w2textarea_placeholder");}}if(this.rememberCaretPosition){this.caretPosition=$W._A.getSelection(this.render);}var _19=this;$W.historyManager.set(this.options.pluginName,this.id,{value:this.getValue()},{onRestore:function(_1a){_19.refreshStop=true;_19.refreshStopValue=_1a.value;var _1b=_19.refreshStopValue;if($W._G.isNull(_1b)){return;}var _1c=_19.render.value;_19.setValueNM(_1b);_19.modelControl.setData(_1b);if(_1c!=_1b){$W._c.fireEvent(_19,"onchange");}_19.refreshStop=false;_19.refreshStopValue="";}});this._focusStatus="done";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.textarea.handleBlurEvent"];try{$W._c.fireEvent(this,"oneditend");if(this.options.focusRemember){var _1e=this.getValue();if($W._G.isNull(_1e)){return;}this.modelControl.setData(_1e);}else{this.setValue(this.getValue());}var _1f=$W.historyManager.get(this.options.pluginName,this.id);if(_1f.value!=this.getValue()){$W._c.fireEvent(this,"onchange");$W._c.fireEvent(this,"onviewchange",{"oldValue":_1f.value,"newValue":this.getValue()});}this._focusStatus="init";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.handleKeypressEvent=function(e){["WebSquare.uiplugin.textarea.handleKeypressEvent"];try{if(!this.validator.validateKeyPress(this.render,this.getValue(),e)){$W._c.stopEvent(e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.handleKeyupEvent=function(e){["WebSquare.uiplugin.textarea.handleKeyupEvent"];try{var _22=false;var _23=(e.charCode)?e.charCode:e.keyCode;if(_23==37){}else{if(_23==38){}else{if(_23==39){}else{if(_23==40){}else{if(_23==33){}else{if(_23==34){}else{if(_23==35){}else{if(_23==36){}else{if($W._G.isIE()&&this.options.maxlength>-1){var _24=$W._A.getSelection(this.render);if(e.charCode!=0&&_24.start==_24.end&&this.render.value.length+1>this.options.maxlength){_22=true;}}}}}}}}}}if(this.options.maxByteLength!=-1){var _25=this.render.value;var _26=$W._G.getStringByByteSize(_25,this.options.maxByteLength);if(_25!=_26){_22=true;}}if(this.rememberCaretPosition){this.caretPosition=$W._A.getSelection(this.render);}if(_22){this.render.blur();if(this.rememberCaretPosition){$W._A.setSelection(this.render,this.caretPosition);}else{this.render.focus();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bi.prototype.focus=function(){["WebSquare.uiplugin.textarea.focus"];if(this.rememberCaretPosition){$W._A.setSelection(this.render,this.caretPosition);}else{$W._t.prototype.focus.call(this);}};$W._a.bi.prototype.handleMouseupEvent=function(e){this.caretPosition=$W._A.getSelection(this.render);};$W._a.bi.prototype.handleFocusinEvent=function(e){["WebSquare.uiplugin.textarea.handleFocusinEvent"];this._focusStatus="focusin";};$W._a.bi.prototype.handleBeforeFocusEvent=function(e){["WebSquare.uiplugin.textarea.handleBeforeFocusEvent"];switch(this._focusStatus){case "init":this._focusStatus="ready";break;case "ready":this._focusStatus="cancel";this.focus();break;case "done":this._focusStatus="init";break;}};$W._a.bi.prototype.setPlaceholder=function(str){["WebSquare.uiplugin.textarea.prototype.setPlaceholder "];try{if($W._G.isNull(str)){return;}if(this.options.placeholder!=str){this.options.placeholder=str;if(this.supportPlaceholder){var dom=document.getElementById(this.id);dom.placeholder=this.options.placeholder;}else{if(this.hasClass("w2textarea_placeholder")){this.render.value=this.options.placeholder;}}}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.textarea=$W._a.bi;requires("engine/formatter.js");$W._a.aU=function(id,_2,_3){["WebSquare.uiplugin.textbox"];$W._t.call(this,id,_2,_3);if(_3){var _4=$W._B.getLocalName(_3);if(_4!="textbox"){this.options.tagname=_4;}}if(this.options["for"]!=""){this.options.tagname="label";}};$W.extend($W._a.aU.prototype,$W._t.prototype);$W._a.aU.prototype.defaultOptions={pluginType:"uiplugin.textbox",pluginName:"textbox",parseAttributes:true,userEvents:[],systemEvents:["onclick","ondblclick","onmouseover","onmouseout"],useConfig:true,label:"",escape:false,escapeFormatter:"","for":"",tagname:"div",localeRef:"",ioFormat:"",displayFormat:"",displayFormatter:null,dataType:"text",dateMask:"",timeMask:"",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",delimeter:"",decimalDelimeter:""};$W._a.aU.prototype.htmlStr=["<",""," id='","","' ",""," class='w2textbox ","","' ","",">","","</","",">"];$W._a.aU.prototype.htmlClosingStr=["<",""," id='","","' ",""," class='w2textbox ","","'",""," />"];$W._a.aU.prototype.initialize=function(_5){["WebSquare.uiplugin.textbox.initialize"];if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "euro":this.options.displayFormat=this.options.euroMask;if(!this.options.delimeter){this.options.delimeter=".";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=",";}break;case "rupee":this.options.displayFormat=this.options.rupeeMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "tenge":this.options.displayFormat=this.options.tengeMask;if(!this.options.delimeter){this.options.delimeter=" ";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter="-";}break;}}this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);this.useEscapeFormatter=false;};$W._a.aU.prototype.toHTML=function(){var _6=$W._N.getEmptyTag();var _7="";if(_6[this.options.tagname.toLowerCase()]){_7=this.htmlClosingStr;_7[1]=this.options.tagname;_7[3]=this.id;_7[5]=(this.options.style=="")?"":" style='"+this.options.style+"'";_7[7]=this.options.className;_7[9]=((this.options.tagname=="label")?" for='"+this.options["for"]+"'":"")+this.getAttributesString();}else{_7=this.htmlStr;_7[1]=this.options.tagname;_7[3]=this.id;_7[5]=(this.options.style=="")?"":"style='"+this.options.style+"'";_7[7]=this.options.className;_7[9]=((this.options.tagname=="label")?" for='"+this.options["for"]+"'":"")+this.getAttributesString();var _8="";if(!this.options.escapeFormatter){_8=this.options.escape?this.formatter.format($W._B._encode(this.options.label)):this.formatter.format(this.options.label);}else{_8=this.setEscapeFormatter();}_7[11]=_8;_7[13]=this.options.tagname;}return _7.join("");};$W._a.aU.prototype.setEscapeFormatter=function(){["WebSquare.uiplugin.textbox.setEscapeFormatter"];try{if(this.options.escapeFormatter){try{if(typeof this.options.escapeFormatter=="function"){this.useEscapeFormatter=true;}else{var _9=eval(this.options.escapeFormatter);this.options.escapeFormatter=_9;if(typeof _9=="function"){this.useEscapeFormatter=true;}}}catch(e){$W.logger.printLog("cannot find function : "+this.options.escapeFormatter);}var _a=this.options.label;if(this.useEscapeFormatter){_a=this.options.escapeFormatter.call(this,_a);}return this.options.escape?this.formatter.format($W._B._encode(_a+"")):this.formatter.format(_a);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aU.prototype.onComplete=function(){if(this.options.escapeFormatter&&!this.useEscapeFormatter){this.render.innerHTML=this.setEscapeFormatter();}};$W._a.aU.prototype.setAction=function(){["WebSquare.uiplugin.textbox.setAction"];try{this.refresh();this.displayLocaleValue();if(this.options.tagname!="label"||this.options["for"]==""){return;}var _b=$W._G.getComponentById(this.options["for"])||null;if(_b==null){return;}var _c=typeof _b.getAccessibiltyId=="function"?_b.getAccessibiltyId():this.options["for"];this.render.setAttribute("for",_c);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aU.prototype.setLocaleRef=function(_d){["WebSquare.uiplugin.textbox.setLocaleRef"];try{this.options.localeRef=_d;this.displayLocaleValue();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aU.prototype.refresh=function(){["WebSquare.uiplugin.textbox.refresh"];try{if(this.modelControl.isBinded()){var _e=this.modelControl.getData();this.options.label=_e;if(this.useEscapeFormatter){_e=this.options.escapeFormatter.call(this,_e);}this.render.innerHTML=this.options.escape?this.formatter.format($W._B._encode(_e+"")):this.formatter.format(_e);this.options.label=_e;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aU.prototype.setLabel=function(_f){["WebSquare.uiplugin.textbox.setLabel"];try{this.setValue(_f);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aU.prototype.getLabel=function(){["WebSquare.uiplugin.textbox.getLabel"];try{return this.getValue();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aU.prototype.setValue=function(_10){["WebSquare.uiplugin.textbox.setValue"];try{this.options.label=_10;var _11=this.options.label;if(this.useEscapeFormatter){_11=this.options.escapeFormatter.call(this,_11);}this.render.innerHTML=this.options.escape?this.formatter.format($W._B._encode(_11+"")):this.formatter.format(_11);this.modelControl.setData(_10);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aU.prototype.getValue=function(){["WebSquare.uiplugin.textbox.getValue"];try{var ret=this.options.escape?$W._B._decode(this.options.label):this.options.label;return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aU.prototype.getFormatValue=function(){["WebSquare.uiplugin.textbox.getFormatValue"];try{return this.options.escape?this.formatter.format($W._B._decode(this.options.label)):this.formatter.format(this.options.label);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aU.prototype.setDisplayFormat=function(_13){["WebSquare.uiplugin.textbox.setDisplayFormat"];try{this.options.displayFormat=_13;this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.setValue(this.options.label);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aU.prototype.setDisplayFormatter=function(_14){["WebSquare.uiplugin.textbox.prototype.setDisplayFormatter "];try{this.options.displayFormatter=_14;this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.setValue(this.options.label);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aU.prototype.getDataType=function(){["WebSquare.uiplugin.textbox.prototype.getDataType "];try{return this.options.dataType;}catch(e){$W.exception.printStackTrace(e);}};$W._a.aU.prototype.addClass=function(){["WebSquare.uiplugin.textbox.addClass"];try{$W._n.prototype.addClass.apply(this,arguments);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aU.prototype.removeClass=function(){["WebSquare.uiplugin.textbox.removeClass"];try{$W._n.prototype.removeClass.apply(this,arguments);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aU.prototype.changeClass=function(){["WebSquare.uiplugin.textbox.changeClass"];try{$W._n.prototype.changeClass.apply(this,arguments);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aU.prototype.toggleClass=function(){["WebSquare.uiplugin.textbox.toggleClass"];try{$W._n.prototype.toggleClass.apply(this,arguments);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aU.prototype.getAttributeNode=function(_15){["WebSquare.uiplugin.textbox.getAttributeNode"];try{return $W._t.attributes.getAttributeNode.call(this,_15);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aU.prototype.setAttributeNode=function(_16,_17){["WebSquare.uiplugin.textbox.setAttributeNode"];try{$W._t.attributes.setAttributeNode.call(this,_16,_17);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aU.prototype.removeAttributeNode=function(_18){["WebSquare.uiplugin.textbox.removeAttributeNode"];try{$W._t.attributes.removeAttributeNode.call(this,_18);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aU.prototype.setRef=function(ref){["WebSquare.uiplugin.textbox.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.textbox=$W._a.aU;$W._a.al=function(id,_2,_3){["WebSquare.uiplugin.pageList"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.al.prototype,$W._t.prototype);$W._a.al.prototype.defaultOptions={pluginType:"uiplugin.pageList",pluginName:"pageList",userEvents:["onclick","onchange","onviewchange"],useConfig:true,defaultClass:"w2pageList_label",selectedStyle:"",selectedClass:"w2pageList_label_selected",displayFormat:"#",useDelim:false,delimiter:"",pageSize:10,pagingType:"1",buttonShowType:"1",naviType:"config",leftPageBackImage:"",leftPageImage:"",rightPageImage:"",rightPageBackImage:"",deliImage:"",leftPageBackImageClass:"w2pageList_col_prevPage",leftPageImageClass:"w2pageList_col_prev",rightPageImageClass:"w2pageList_col_next",rightPageBackImageClass:"w2pageList_col_nextPage",deliImageClass:"w2pageList_delimiter",leftPageBackImageStyle:"",leftPageImageStyle:"",rightPageImageStyle:"",rightPageBackImageStyle:"",deliImageStyle:"",indexWidth:-1,deliWidth:-1,shiftMoveButtonWidth:-1,oneMoveButtonWidth:-1,renderType:"table",href:"",displayButtonType:"display"};$W._a.al.prototype.initialize=function(_4){["WebSquare.uiplugin.pageList.initialize"];try{this.pageCount=0;this.displayIndex=1;this.selectedIndex=-1;this.default_leftPageBackImage=$W.baseURI+"uiplugin/pageList/images/b_first.gif";this.default_leftPageImage=$W.baseURI+"uiplugin/pageList/images/b_prev.gif";this.default_rightPageImage=$W.baseURI+"uiplugin/pageList/images/b_next.gif";this.default_rightPageBackImage=$W.baseURI+"uiplugin/pageList/images/b_end.gif";this.options=$W.cssManager.styleToClass(this.id,this.options);this.options.leftPageBackImage=this.options.leftPageBackImage?this.options.leftPageBackImage:this.default_leftPageBackImage;this.options.leftPageImage=this.options.leftPageImage?this.options.leftPageImage:this.default_leftPageImage;this.options.rightPageImage=this.options.rightPageImage?this.options.rightPageImage:this.default_rightPageImage;this.options.rightPageBackImage=this.options.rightPageBackImage?this.options.rightPageBackImage:this.default_rightPageBackImage;this.labelStyle="";if(this.options.indexWidth!=-1){this.labelStyle+="width:"+this.options.indexWidth+"px;";}if(this.options.deliWidth!=-1){this.options.deliImageStyle+=";width:"+this.options.deliWidth+"px;";}if(this.options.shiftMoveButtonWidth!=-1){this.options.leftPageBackImageStyle+=";width:"+this.options.shiftMoveButtonWidth+"px;";this.options.rightPageBackImageStyle+=";width:"+this.options.shiftMoveButtonWidth+"px;";}if(this.options.oneMoveButtonWidth!=-1){this.options.leftPageImageStyle+=";width:"+this.options.oneMoveButtonWidth+"px;";this.options.rightPageImageStyle+=";width:"+this.options.oneMoveButtonWidth+"px;";}if(this.options.deliImage!=""){this.options.deliImageStyle+=";background-image:url("+this.options.deliImage+");";}if(this.options.renderType=="list"){this.options.leftPageBackImageStyle+=";background-image:none;";this.options.leftPageImageStyle+=";background-image:none;";this.options.rightPageImageStyle+=";background-image:none;";this.options.rightPageBackImageStyle+=";background-image:none;";}else{if(this.options.leftPageBackImage!=this.default_leftPageBackImage){this.options.leftPageBackImageStyle+=";background-image:url("+this.options.leftPageBackImage+");";}if(this.options.leftPageImage!=this.default_leftPageImage){this.options.leftPageImageStyle+=";background-image:url("+this.options.leftPageImage+");";}if(this.options.rightPageImage!=this.default_rightPageImage){this.options.rightPageImageStyle+=";background-image:url("+this.options.rightPageImage+");";}if(this.options.rightPageBackImage!=this.default_rightPageBackImage){this.options.rightPageBackImageStyle+=";background-image:url("+this.options.rightPageBackImage+");";}}if(this.options.buttonShowType=="3"){this.options.pagingType="2";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.toHTML=function(){["WebSquare.uiplugin.pageList.toHTML"];try{var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";var _7=(this.options.href=="")?"":"href='"+this.options.href+"'";var _8=(this.options.leftPageImageStyle=="")?"":"style='"+this.options.leftPageImageStyle+"'";var _9=(this.options.leftPageBackImageStyle=="")?"":"style='"+this.options.leftPageBackImageStyle+"'";var _a=(this.options.leftPageImage=="")?"":"src='"+this.options.leftPageImage+"'";var _b=(this.options.leftPageBackImage=="")?"":"src='"+this.options.leftPageBackImage+"'";var _c=(this.options.rightPageImageStyle=="")?"":"style='"+this.options.rightPageImageStyle+"'";var _d=(this.options.rightPageBackImageStyle=="")?"":"style='"+this.options.rightPageBackImageStyle+"'";var _e=(this.options.rightPageImage=="")?"":"src='"+this.options.rightPageImage+"'";var _f=(this.options.rightPageBackImage=="")?"":"src='"+this.options.rightPageBackImage+"'";var _10=(this.labelStyle=="")?"":"style='"+this.labelStyle+"'";var _11=(this.options.deliImageStyle=="")?"":"style='"+this.options.deliImageStyle+"'";this.prevPageButtonId=this.id+"_prevPage_btn";this.nextPageButtonId=this.id+"_nextPage_btn";this.prevButtonId=this.id+"_prev_btn";this.nextButtonId=this.id+"_next_btn";_5.push("<div id='"+this.id+"' "+_6+" class='w2pageList w2pageList_pagePrev_last w2pageList_prev_last "+this.options.className+"'>");if(this.options.renderType=="list"){_5.push("<ul class='w2pageList_ul'>");if(this.options.buttonShowType=="0"||this.options.buttonShowType=="1"){_5.push("<li id='"+this.prevPageButtonId+"' class='w2pageList_control_pagePrev "+this.options.leftPageBackImageClass+"' "+_9+"><a href="+"#"+this.prevPageButtonId+"><img "+_b+" alt='"+$W._m.getMessage("pagelist_previousList_page")+"' /></a></li>");}else{if(this.options.buttonShowType=="3"){_5.push("<li id='"+this.prevPageButtonId+"' class='w2pageList_control_pagePrev "+this.options.leftPageBackImageClass+"' "+_9+"><a href="+"#"+this.prevPageButtonId+"><img "+_b+" alt='"+$W._m.getMessage("Pagelist_first_page")+"' /></a></li>");}else{_5.push("<li id='"+this.prevPageButtonId+"' class='w2pageList_control_pagePrev "+this.options.leftPageBackImageClass+"' "+_9+"><a href="+"#"+this.prevPageButtonId+"><img "+_b+" alt='"+$W._m.getMessage("Pagelist_previous_page")+"' /></a></li>");}}if(this.options.buttonShowType=="1"||this.options.buttonShowType=="3"){_5.push("<li id='"+this.prevButtonId+"' class='w2pageList_control_prev "+this.options.leftPageImageClass+"' "+_8+"><a href="+"#"+this.prevButtonId+"><img "+_a+" alt='"+$W._m.getMessage("Pagelist_previous_page")+"'/></a></li>");}var _12=Math.min(this.pageCount,this.displayIndex+this.options.pageSize-1);for(var i=this.displayIndex;i<=_12;i++){if(this.options.href){_5.push("<li class='w2pageList_li_label' "+_10+"><a id='"+this.id+"_page_"+i+"' "+_7+" class='w2pageList_control_label "+this.options.defaultClass+"' index='"+i+"'>"+this.getLabel(i)+"</a></li>");}else{_5.push("<li class='w2pageList_li_label' "+_10+"><a id='"+this.id+"_page_"+i+"' "+"href="+"#"+this.id+"_page_"+i+" class='w2pageList_control_label "+this.options.defaultClass+"' index='"+i+"'>"+this.getLabel(i)+"</a></li>");}if(this.options.useDelim==true&&i<_12){_5.push("<li class='w2pageList_col_delimiter "+this.options.deliImageClass+"' "+_11+">"+this.options.delimiter+"</li>");}}if(this.options.buttonShowType=="1"||this.options.buttonShowType=="3"){_5.push("<li id='"+this.nextButtonId+"' class='w2pageList_control_next "+this.options.rightPageImageClass+"' "+_c+"'><a href="+"#"+this.nextButtonId+"><img "+_e+" alt='"+$W._m.getMessage("Pagelist_next_page")+"'/></a></li>");}if(this.options.buttonShowType=="0"||this.options.buttonShowType=="1"){_5.push("<li id='"+this.nextPageButtonId+"' class='w2pageList_control_pageNext "+this.options.rightPageBackImageClass+"' "+_d+"'><a href="+"#"+this.nextPageButtonId+"><img "+_f+" alt='"+$W._m.getMessage("pagelist_nextList_page")+"'/></a></li>");}else{if(this.options.buttonShowType=="3"){_5.push("<li id='"+this.nextPageButtonId+"' class='w2pageList_control_pageNext "+this.options.rightPageBackImageClass+"' "+_d+"'><a href="+"#"+this.nextPageButtonId+"><img "+_f+" alt='"+$W._m.getMessage("Pagelist_last_page")+"'/></a></li>");}else{_5.push("<li id='"+this.nextPageButtonId+"' class='w2pageList_control_pageNext "+this.options.rightPageBackImageClass+"' "+_d+"'><a href="+"#"+this.nextPageButtonId+"><img "+_f+" alt='"+$W._m.getMessage("Pagelist_next_page")+"'/></a></li>");}}_5.push("</ul>");}else{_5.push("<table class='w2pageList_table' cellpadding='0' cellspacing='0'><tr>");if(this.options.buttonShowType=="0"||this.options.buttonShowType=="1"){_5.push("<td  id='"+this.prevPageButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_pagePrev "+this.options.leftPageBackImageClass+"' "+_9+" role='button' aria-pressed='false' tabIndex='0' title='"+$W._m.getMessage("pagelist_previousList_page")+"'></td>");}else{if(this.options.buttonShowType=="3"){_5.push("<td  id='"+this.prevPageButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_pagePrev "+this.options.leftPageBackImageClass+"' "+_9+" role='button' aria-pressed='false' tabIndex='0' title='"+$W._m.getMessage("Pagelist_first_page")+"'></td>");}else{_5.push("<td  id='"+this.prevPageButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_pagePrev "+this.options.leftPageBackImageClass+"' "+_9+" role='button' aria-pressed='false' tabIndex='0' title='"+$W._m.getMessage("Pagelist_previous_page")+"'></td>");}}if(this.options.buttonShowType=="1"||this.options.buttonShowType=="3"){_5.push("<td id='"+this.prevButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_prev "+this.options.leftPageImageClass+"' "+_8+" role='button' aria-pressed='false' tabIndex='0' title='"+$W._m.getMessage("Pagelist_previous_page")+"'></td>");}var _12=Math.min(this.pageCount,this.displayIndex+this.options.pageSize-1);for(var i=this.displayIndex;i<=_12;i++){_5.push("<td class='w2pageList_col_label' "+_10+"><div id='"+this.id+"_page_"+i+"' class='w2pageList_control_label "+this.options.defaultClass+"' index='"+i+"' role='button' aria-pressed='false'  tabindex='0' title='"+this.getLabel(i)+"'>"+this.getLabel(i)+"</div></td>");if(this.options.useDelim==true&&i<_12){_5.push("<td class='w2pageList_col_delimiter "+this.options.deliImageClass+"' "+_11+">"+this.options.delimiter+"</td>");}}if(this.options.buttonShowType=="1"||this.options.buttonShowType=="3"){_5.push("<td id='"+this.nextButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_next "+this.options.rightPageImageClass+"' "+_c+" tabindex='0' title='"+$W._m.getMessage("Pagelist_next_page")+"'></td>");}if(this.options.buttonShowType=="0"||this.options.buttonShowType=="1"){_5.push("<td id='"+this.nextPageButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_pageNext "+this.options.rightPageBackImageClass+"' "+_d+" tabindex='0' title='"+$W._m.getMessage("pagelist_nextList_page")+"'></td>");}else{if(this.options.buttonShowType=="3"){_5.push("<td id='"+this.nextPageButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_pageNext "+this.options.rightPageBackImageClass+"' "+_d+" tabindex='0' title='"+$W._m.getMessage("Pagelist_last_page")+"'></td>");}else{_5.push("<td id='"+this.nextPageButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_pageNext "+this.options.rightPageBackImageClass+"' "+_d+" tabindex='0' title='"+$W._m.getMessage("Pagelist_next_page")+"'></td>");}}_5.push("</tr></table>");}_5.push("</div>");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.setAction=function(){["WebSquare.uiplugin.pageList.setAction"];try{this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.pageList.handleKeydownEvent"];try{var _15=(e.charCode)?e.charCode:e.keyCode;if(_15!=13){return;}var el=e.srcElement||e.target;if(el.nodeName.toLowerCase()=="a"){if(el.getAttribute("href")==null){this.handleClickEvent(e);}}else{this.handleClickEvent(e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.getLabel=function(idx){["WebSquare.uiplugin.pageList.getLabel"];try{var _18=idx+"";_18=$W._A.formatCurrency(idx,this.options.displayFormat);return _18;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.getCount=function(){["WebSquare.uiplugin.pageList.getCount"];try{return this.pageCount;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.setCount=function(_19,_1a){["WebSquare.uiplugin.pageList.setCount"];try{var _1b=_1a?_1a:false;if(_1a&&_19<this.selectedIndex){$l("range exception for "+this.id);_1b=false;}this.pageCount=(typeof _19=="string")?(parseInt(_19,10)||0):_19;if(_1b==false){this.displayIndex=1;}else{if(this.selectedIndex==-1){this.displayIndex=1;}}this.redraw();if(_1b==false){this.setSelectedIndex(1);}else{if(this.selectedIndex==-1){this.setSelectedIndex(1);}else{this.setSelectedIndex(this.selectedIndex);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.setSelectedIndex=function(idx){["WebSquare.uiplugin.pageList.setSelectedIndex"];try{if(this.pageCount==0){if(this.options.displayButtonType=="auto"||this.options.displayButtonType=="autoOver"){var _1d=document.getElementById(this.prevPageButtonId);var _1e=document.getElementById(this.prevButtonId);var _1f=document.getElementById(this.nextButtonId);var _20=document.getElementById(this.nextPageButtonId);if(_1d){_1d.style.visibility="hidden";}if(_1e){_1e.style.visibility="hidden";}if(_1f){_1f.style.visibility="hidden";}if(_20){_20.style.visibility="hidden";}}return;}if($W._G.isNull(idx)){return;}idx=parseInt(idx,10);if(idx<1||idx>this.pageCount){$l("range exception for "+this.id);return;}var _21=this.selectedIndex;this.setDisplayIndex(idx);var _22=document.getElementById(this.id+"_page_"+this.selectedIndex);if(_22){this.changeClass(_22,this.options.selectedClass,this.options.defaultClass);}this.selectedIndex=idx;this.changeButtonCursor(idx);var _23=document.getElementById(this.id+"_page_"+idx);this.changeClass(_23,this.options.defaultClass,this.options.selectedClass);if(_21!=-1&&_21!=this.selectedIndex){$W._c.fireEvent(this,"onchange",this.selectedIndex,_21);}var _24=this.options.displayButtonType;var _25=this.options.pagingType;if(_24!="display"){var _1d=document.getElementById(this.prevPageButtonId);var _1e=document.getElementById(this.prevButtonId);var _1f=document.getElementById(this.nextButtonId);var _20=document.getElementById(this.nextPageButtonId);var _26=false;var _27=false;var _28=false;if(_24=="auto"||_24=="autoOver"||_24=="autoHidden"){if(_24=="autoHidden"){if(this.options.pageSize>=this.pageCount){_28=true;}else{if(_25=="1"){var _29=this.pageCount-this.options.pageSize+1;if(this.selectedIndex<=this.options.pageSize&&this.selectedIndex<_29){_27=true;}else{if(this.selectedIndex>=_29){_26=true;}}}else{if(_25=="2"){var _2a;if(parseInt(this.pageCount%this.options.pageSize)==0){_2a=this.pageCount-this.options.pageSize+1;}else{_2a=this.pageCount-parseInt(this.pageCount%this.options.pageSize)+1;}if(this.selectedIndex<=this.options.pageSize){_27=true;}else{if(this.selectedIndex>=_2a){_26=true;}}}}}}else{if(this.selectedIndex===1){_27=true;}else{if(this.selectedIndex==this.pageCount){_26=true;}}}if(_27){if(_1d){_1d.style.visibility="hidden";}if(_1e){_1e.style.visibility="hidden";}if(_1f){_1f.style.visibility="visible";}if(_20){_20.style.visibility="visible";}}else{if(_26){if(_1d){_1d.style.visibility="visible";}if(_1e){_1e.style.visibility="visible";}if(_1f){_1f.style.visibility="hidden";}if(_20){_20.style.visibility="hidden";}}else{if(_28){if(_1d){_1d.style.visibility="hidden";}if(_1e){_1e.style.visibility="hidden";}if(_1f){_1f.style.visibility="hidden";}if(_20){_20.style.visibility="hidden";}}else{if(_1d){_1d.style.visibility="visible";}if(_1e){_1e.style.visibility="visible";}if(_1f){_1f.style.visibility="visible";}if(_20){_20.style.visibility="visible";}}}}}if((_24=="displayOver"||_24=="autoOver")&&this.options.pageSize>=this.pageCount){if(_1d){_1d.style.visibility="hidden";}if(_1e){_1e.style.visibility="hidden";}if(_1f){_1f.style.visibility="hidden";}if(_20){_20.style.visibility="hidden";}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.setFocus=function(idx){["WebSquare.uiplugin.pageList.setFocus"];try{if(this.pageCount==0){return;}if($W._G.isNull(idx)){return;}idx=idx.toString();if(idx<1||idx>this.pageCount){$l("range exception for "+this.id);return;}var dom=document.getElementById(this.id+"_page_"+idx);if(dom){dom.focus();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.setIdxClass=function(idx){["WebSquare.uiplugin.pageList.setIdxClass"];try{this.setSelectedIndex(idx);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.pageList.getSelectedIndex"];try{return this.selectedIndex;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.setValue=function(_2e){["WebSquare.uiplugin.pageList.setValue"];try{if($W._G.isNull(_2e)){return;}_2e=_2e.toString();this.setSelectedIndex(_2e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.moveLeft=function(){["WebSquare.uiplugin.pageList.moveLeft"];try{this.setSelectedIndex(this.selectedIndex-1);this.setFocus(this.selectedIndex);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.moveRight=function(){["WebSquare.uiplugin.pageList.moveRight"];try{this.setSelectedIndex(this.selectedIndex+1);this.setFocus(this.selectedIndex);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.pageLeft=function(){["WebSquare.uiplugin.pageList.pageLeft"];try{var _2f=this.selectedIndex-this.options.pageSize;this.setDisplayIndex(_2f);this.setSelectedIndex(this.displayIndex);this.setFocus(this.selectedIndex);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.pageLeftLast=function(){["WebSquare.uiplugin.pageList.pageLeft"];try{if(this.displayIndex==1){this.setSelectedIndex(1);}else{var _30=this.selectedIndex-this.options.pageSize;this.setDisplayIndex(_30);var _31=this.displayIndex+this.options.pageSize-1;this.setSelectedIndex(_31);this.setFocus(this.selectedIndex);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.pageRight=function(){["WebSquare.uiplugin.pageList.pageRight"];try{var _32=this.selectedIndex+this.options.pageSize;this.setDisplayIndex(_32);if(this.options.pagingType==1){if(_32>this.pageCount){this.setSelectedIndex(this.pageCount);}else{this.setSelectedIndex(this.displayIndex);}}else{this.setSelectedIndex(this.displayIndex);}this.setFocus(this.selectedIndex);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.setDisplayIndex=function(idx){["WebSquare.uiplugin.pageList.setDisplayIndex"];try{if(this.pageCount==0){return;}idx=parseInt(idx,10);var _34=parseInt((idx-1)/this.options.pageSize)*this.options.pageSize+1;if(this.options.pagingType=="1"&&!(this.options.buttonShowType=="3")){if(idx+this.options.pageSize>this.pageCount){_34=this.pageCount-this.options.pageSize+1;}}else{if(this.options.pagingType=="2"){}}if(this.options.buttonShowType=="2"&&this.options.naviType=="1"){_34=idx;}if(_34<1){_34=1;}if(_34>this.pageCount){_34=this.pageCount;}if(this.displayIndex==_34){return;}else{this.displayIndex=_34;this.redraw();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.changeButtonCursor=function(idx){["WebSquare.uiplugin.pageList.changeButtonCursor "];try{if(this.options.buttonShowType=="3"||this.options.buttonShowType=="2"){if(this.displayIndex==1){this.addClass("w2pageList_prev_last");}else{this.removeClass("w2pageList_prev_last");}if(this.displayIndex+this.options.pageSize>this.pageCount){this.addClass("w2pageList_next_last");}else{this.removeClass("w2pageList_next_last");}if(idx==1){this.addClass("w2pageList_pagePrev_last");}else{this.removeClass("w2pageList_pagePrev_last");}if(idx==this.pageCount){this.addClass("w2pageList_pageNext_last");}else{this.removeClass("w2pageList_pageNext_last");}}else{if(this.displayIndex==1){this.addClass("w2pageList_pagePrev_last");}else{this.removeClass("w2pageList_pagePrev_last");}if(this.displayIndex+this.options.pageSize>this.pageCount){this.addClass("w2pageList_pageNext_last");}else{this.removeClass("w2pageList_pageNext_last");}if(idx==1){this.addClass("w2pageList_prev_last");}else{this.removeClass("w2pageList_prev_last");}if(idx==this.pageCount){this.addClass("w2pageList_next_last");}else{this.removeClass("w2pageList_next_last");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.setPageSize=function(_36){["WebSquare.uiplugin.pageList.setPageSize"];try{this.options.pageSize=(typeof _36=="string")?(parseInt(_36,10)||this.options.pageSize):_36||this.options.pageSize;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.getPageSize=function(){["WebSquare.uiplugin.pageList.getPageSize"];try{return this.options.pageSize;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.pageList.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);var _39=this.getSelectedIndex();while(it.next()){if(it.match("w2pageList_control_pagePrev")){if(this.options.buttonShowType=="2"){this.moveLeft();}else{if(this.options.buttonShowType=="3"){this.setSelectedIndex(1);}else{if(this.options.buttonShowType=="0"||this.options.buttonShowType=="1"){this.pageLeft();}else{this.pageLeft();}}}$W._c.fireEvent(this,"onclick",this.getSelectedIndex());if(this.options.renderType=="list"){$W._c.stopEvent(e);}}if(it.match("w2pageList_control_prev")){if(this.options.buttonShowType=="3"){this.pageLeftLast();}else{this.moveLeft();}$W._c.fireEvent(this,"onclick",this.getSelectedIndex());if(this.options.renderType=="list"){$W._c.stopEvent(e);}}if(it.match("w2pageList_control_next")){if(this.options.buttonShowType=="3"){this.pageRight();}else{this.moveRight();}$W._c.fireEvent(this,"onclick",this.getSelectedIndex());if(this.options.renderType=="list"){$W._c.stopEvent(e);}}if(it.match("w2pageList_control_pageNext")){if(this.options.buttonShowType=="2"){this.moveRight();}else{if(this.options.buttonShowType=="3"){this.setSelectedIndex(this.pageCount);}else{if(this.options.buttonShowType=="0"||this.options.buttonShowType=="1"){this.pageRight();}else{this.pageRight();}}}$W._c.fireEvent(this,"onclick",this.getSelectedIndex());if(this.options.renderType=="list"){$W._c.stopEvent(e);}}if(it.match("w2pageList_control_label")){var _3a=it.getElement().getAttribute("index");this.setSelectedIndex(_3a);$W._c.fireEvent(this,"onclick",_3a);if(this.options.renderType=="list"){$W._c.stopEvent(e);}}}it=null;var _3b=this.getSelectedIndex();if(_39!=_3b){var _3c={"oldSelectedIndex":_39,"newSelectedIndex":_3b};$W._c.fireEvent(this,"onviewchange",_3c);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.pageList.handleMouseoverEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2pageList_control_label")){this.addClass(it.getElement(),"w2pageList_label_over");}else{if(it.match("w2pageList_col_prev")){this.addClass(it.getElement(),"w2pageList_col_prev_over");}else{if(it.match("w2pageList_col_next")){this.addClass(it.getElement(),"w2pageList_col_next_over");}else{if(it.match("w2pageList_col_prevPage")){this.addClass(it.getElement(),"w2pageList_col_prevPage_over");}else{if(it.match("w2pageList_col_nextPage")){this.addClass(it.getElement(),"w2pageList_col_nextPage_over");}}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.al.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.pageList.handleMouseoutEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2pageList_control_label")){this.removeClass(it.getElement(),"w2pageList_label_over");}else{if(it.match("w2pageList_col_prev")){this.removeClass(it.getElement(),"w2pageList_col_prev_over");}else{if(it.match("w2pageList_col_next")){this.removeClass(it.getElement(),"w2pageList_col_next_over");}else{if(it.match("w2pageList_col_prevPage")){this.removeClass(it.getElement(),"w2pageList_col_prevPage_over");}else{if(it.match("w2pageList_col_nextPage")){this.removeClass(it.getElement(),"w2pageList_col_nextPage_over");}}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.pageList=$W._a.al;$W._a.repeatAPI={};$W._a.repeatAPI.getRepeatIndex=function(){return this.__repeat.repeatComponents[this.id].repeatIndex;};$W._a.repeatAPI.getSiblingId=function(_1){var _2=this.getRepeatIndex();var _3=this.__repeat.repeatIds[_2];return _3.hashPreFix+_1;};$W._a.repeatAPI.getSibling=function(_4){var _5=this.getRepeatIndex();var _6=this.__repeat.repeatIds[_5];return $W._G.getComponentById(_6.hashPreFix+_4);};$W._a.repeatAPI.getRepeatInstanceNode=function(){var _7=this.getRepeatIndex();var _8=this.__repeat.nodeset+"[@"+this.__repeat.options.repeatKey+"='"+_7+"']";var _9=$W._J.findInstanceNode(_8);return _9;};$W._a.repeatAPI.getInstanceValue=function(){var _a=$W._J.getInstanceValue(this.options.ref);return _a;};$W._a.repeatAPI.getRepeat=function(){return this.__repeat;};$W._a.bd=function(id,_c,_d){["WebSquare.uiplugin.repeat"];$W._t.call(this,id,_c,_d);};$W.extend($W._a.bd.prototype,$W._t.prototype);$W._a.bd.prototype.defaultOptions={pluginType:"uiplugin.repeat",pluginName:"repeat",userEvents:["onrepeatdone"],nodeset:"",repeatKey:"index",cols:"",rows:"",autoCount:false,direction:"horizontal"};$W._a.bd.prototype.initialize=function(_e){["WebSquare.uiplugin.repeat.initialize"];try{this.repeatComponents={};this.repeatIds=[];this.templateElement=_e;this.rowCount=undefined;this.colCount=undefined;this.useDataCollection=this.options.nodeset.match("data:")&&$W._j["comp"][this.options.nodeset.slice("data:".length)]!=undefined;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.toHTML=function(){["WebSquare.uiplugin.repeat.toHTML"];try{var _f=[];var _10=(this.options.style=="")?"":"style='"+this.options.style+"'";_f.push("<div id='"+this.id+"' "+_10+" class='w2repeat "+this.options.className+"'>");_f.push("</div>");return _f.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.setAction=function(){["WebSquare.uiplugin.repeat.setAction"];try{this.refreshRepeat();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.refreshItemset=function(){["WebSquare.uiplugin.repeat.refreshItemset"];try{this.refreshRepeat();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.drawContents=function(){["WebSquare.uiplugin.repeat.drawContents"];try{var _11=[];_11.push("<table class='w2repeat_table' cellpadding='0' cellspacing='0'>");var _12=this.getChildren();var _13=_12.length;for(var row=0;row<this.rowCount;row++){_11.push("<tr class='w2repeat_row'>");for(var col=0;col<this.colCount;col++){var _16=row*this.colCount+col;if(this.options.direction=="vertical"){_16=row+this.rowCount*col;}if(_16<_13){_11.push("<td class=''>");_11.push(_12[_16].toHTML());_11.push("</td>");}else{_11.push("<td class=''></td>");}}_11.push("</tr>");}_11.push("</table>");this.render.innerHTML=_11.join("");for(var i=0;i<_12.length;i++){_12[i].activate();_12[i].onComplete();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.refreshRepeat=function(){["WebSquare.uiplugin.repeat.refreshRepeat"];try{if(this.options.nodeset!=""){this.nodeset=this.options.nodeset;if(this.useDataCollection){this.modelControl.setItemset(this.nodeset,"","");this.modelControl.getDataCollectionItemsetData(this.modelControl.id);var _18=$W._j["comp"][this.nodeset.slice("data:".length)];this.nodeset=this.uuid+"/"+_18.options.baseNode+"/"+_18.options.repeatNode;$W._J.setInstanceNode(_18.getAllXML(),this.uuid,"","replace");}var _19=$W._J.findInstanceNodes(this.nodeset);this.initialize(this.templateElement);for(var i=this.childControlList.length-1;i>=0;i--){this.childControlList[i].remove();}if(_19.length>0){for(var i=0;i<_19.length;i++){this.parseChild(this,this.templateElement,i);}this.setTableCount();if(this.options.autoCount==true){for(var i=0;i<_19.length;i++){_19[i].setAttribute(this.options.repeatKey,i);}}this.drawContents();$W._c.fireEvent(this,"onrepeatdone");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.setTableCount=function(){["WebSquare.uiplugin.repeat.setTableCount"];try{var _1b=this.getChildrenCount();this.rowCount=_1b;this.colCount=1;if(this.options.rows!=""){var _1c=parseInt(this.options.rows);this.rowCount=_1c;this.colCount=Math.ceil(_1b/_1c);}if(this.options.cols!=""){var _1d=parseInt(this.options.cols);this.colCount=_1d;this.rowCount=Math.ceil(_1b/_1d);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.parseChild=function(_1e,_1f,_20){["WebSquare.uiplugin.repeat.parseChild"];try{for(var _21=_1f.firstChild;_21!=null;_21=_21.nextSibling){if(_21.nodeType==1){var _22=$W._B.getLocalName(_21);var _23=_21.getAttribute("id");var ref=_21.getAttribute("ref");if(_22=="repeat"){ref=_21.getAttribute("nodeset");}if(ref){var _25=ref.indexOf("data:");if(_25>=0){ref=ref.slice("data:".length+_25);}}if(_23){var id=this.id+"_"+_20+"_"+_23;if(ref){ref=this.nodeset+"[@"+this.options.repeatKey+"='"+_20+"']/"+ref;}else{ref="";}var _27=null;if(_22=="repeat"){_27=$W.controlFactory.create(id,{nodeset:ref},_21);}else{_27=$W.controlFactory.createControl(id,{ref:ref},_21);this.parseChild(_27,_21,_20);}_1e.addControl(_27);this.repeatComponents[id]={};this.repeatComponents[id].repeatIndex=_20;this.repeatIds[_20]={};this.repeatIds[_20].hashPreFix=this.id+"_"+_20+"_";$W._G.getComponentById(id).__repeat=this;$W.extend($W._G.getComponentById(id),$W._a.repeatAPI);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.getRepeatChildren=function(_28){["WebSquare.uiplugin.repeat.getRepeatChildren"];try{var arr=[];var _2a=this.getChildrenCount();for(var i=0;i<_2a;i++){var id=this.id+"_"+i+"_"+_28;arr.push($W._G.getComponentById(id));}return arr;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.setInitValue=function(_2d){["WebSquare.uiplugin.repeat.init"];try{this.init(_2d);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.init=function(_2e){["WebSquare.uiplugin.repeat.init"];try{_2e=$W.extend({excludePlugin:"",excludeId:"",fireEvent:false},_2e||{});var _2f=this.getChildren();for(var i=0;i<_2f.length;i++){if(_2f[i].setInitValue){if((" "+_2e.excludePlugin+" ").indexOf(" "+_2f[i].options.pluginName+" ")==-1&&(" "+_2e.excludeId+" ").indexOf(" "+_2f[i].id+" ")==-1){_2f[i].setInitValue(_2e);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bd.prototype.invoke=function(_31,_32,_33,_34){["WebSquare.uiplugin.repeat.invoke"];try{return $W._t.prototype.invoke.call(this,_31,_32,_33,_34);}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.repeat=$W._a.bd;$W._a.aC=function(id,_2,_3){["WebSquare.uiplugin.upload"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aC.prototype,$W._t.prototype);$W._a.aC.prototype.defaultOptions={useConfig:true,userEvents:["ondone","onInputValueChange"],pluginType:"uiplugin.upload",pluginName:"upload",className:"",imageStyle:"",inputStyle:"",imageClass:"",inputClass:"",type:"",action:"",imagewidth:"",imageheight:"",empty:6,subDir:"",subSize:"",title:"",accept:""};$W._a.aC.prototype.initialize=function(_4){["WebSquare.uiplugin.upload.initialize"];try{var _5=$W._N.getConfiguration("/WebSquare/upload/type/@value");if(this.options.type==""&&_5!=""){this.options.type=_5;}else{if(this.options.type==""){this.options.type="image";}}this.type=this.options.type;this.style=this.options.style;this.className=this.options.className;this.imageStyle=this.options.imageStyle;this.imageClassName=this.options.imageClass;this.inputStyle=this.options.inputStyle;this.inputClassName=this.options.inputClass;this.imagewidth=this.options.imagewidth;this.imageheight=this.options.imageheight;this.empty=this.options.empty;this.inputClassName=this.options.inputClass;if(!this.options.action){this.action=$W.baseServletURI+"upload.wq?callbackFunction="+this.id+".callback";}else{this.action=this.options.action;}if(_4){this.xmlEvents=$W.WebSquareparser.parseEvent(_4);}this.disabled=this.options.disabled;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.toHTML=function(){["WebSquare.uiplugin.upload.toHTML"];try{var _6=[];var _7=(this.options.title=="")?"":"title='"+this.options.title.wq_replaceAll("'","&#39;")+"'";var _8=this.options.style;if(_8!=""){if(_8.indexOf("position")<0){_8="position:relative;"+_8;}else{if(_8.indexOf("position:static")>0){_8=_8.replace("position:static","position:relative");}}}_8=(_8=="")?"":"style='"+_8+"'";var _9=(this.action=="")?"":"action='"+this.action+"'";var _a=(this.inputStyle=="")?"":"style='"+this.inputStyle+"'";var _b=(this.imagewidth=="")?"":"width:"+this.imagewidth+"px;";var _c=(this.imageheight=="")?"":"height:"+this.imagewidth+"px;";var _d="style='"+_b+_c+this.imageStyle+"'";var _e=(this.options.accept=="")?"":"accept='"+this.options.accept+"'";_6.push("<div id='"+this.id+"' "+_8+" class='w2upload "+this.options.className+"'>");_6.push("<form id='"+this.id+"_form"+"' "+_9+" enctype='multipart/form-data' name='form1_upload1' method='post' target='__targetFrame__"+this.id+"'><fieldset>");if(this.options.type=="image"){_6.push("<input  name='tempFlie' readonly='true' id='"+this.id+"_inputFile' class='w2upload_input "+this.options.inputClass+"' "+_a+" type='text'/>");_6.push("<span id='"+this.id+"_span"+"' class='w2upload_image "+this.options.imageClass+"' "+_d+">");_6.push("<input  class='w2upload_fakeInput' style='margin: 0pt; padding: 0pt; width: "+this.imagewidth+"px"+"; height:"+this.imageheight+"px; opacity: 0.01; filter : alpha(opacity=1);' name='upload' id='"+this.id+"_fakeinput' type='file' "+_7+_e+"/>");_6.push("</span>");}else{_6.push("<INPUT  id='"+this.id+"_inputFile' name='upload' type='file' _objId='2' class='w2upload_input_type' "+_a+" "+_7+_e+"/>");}_6.push("</fieldset><input type='submit' class='w2upload_submit'/></form>");_6.push("</div>");return _6.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.setAction=function(){["WebSquare.uiplugin.upload.prototype.setAction"];try{this.dom.input=document.getElementById(this.id+"_inputFile");this.dom.span=document.getElementById(this.id+"_span");this.dom.form=document.getElementById(this.id+"_form");this.dom.fakeinput=document.getElementById(this.id+"_fakeinput");this.styleObj={paddingTop:parseInt($W._G.getStyleProperty(this.dom.input,"padding-top"))||0,paddingBottom:parseInt($W._G.getStyleProperty(this.dom.input,"padding-bottom"))||0,paddingLeft:parseInt($W._G.getStyleProperty(this.dom.input,"padding-left"))||0,paddingRight:parseInt($W._G.getStyleProperty(this.dom.input,"padding-right"))||0,borderTopWidth:parseInt($W._G.getStyleProperty(this.dom.input,"border-top-width"))||0,borderBottomWidth:parseInt($W._G.getStyleProperty(this.dom.input,"border-bottom-width"))||0,borderLeftWidth:parseInt($W._G.getStyleProperty(this.dom.input,"border-left-width"))||0,borderRightWidth:parseInt($W._G.getStyleProperty(this.dom.input,"border-right-width"))||0,height:parseInt($W._G.getStyleProperty(this.dom.input,"height"))||0};if(this.options.type=="image"){var _f=this.dom.span.offsetWidth||parseInt($W._G.getStyleProperty(this.dom.span,"width"))+$W._H.getSize(this.dom.span,"outerMarginWidth");if(!this.dom.span.style.left){if(this.render.style.width){this.dom.span.style.left=parseInt(this.render.style.width)-parseInt(_f)+"px";}}if(!this.dom.input.style.width){if(this.render.style.width){var _10=parseInt(this.render.style.width)-(parseInt(_f))-(this.styleObj.borderLeftWidth+this.styleObj.borderRightWidth+this.styleObj.paddingLeft+this.styleObj.paddingRight);this.dom.input.style.width=_10-this.empty+6+"px";}}if(!this.dom.input.style.height&&this.styleObj.height==0){var _11=parseInt(this.render.style.height)-(this.styleObj.borderBottomWidth+this.styleObj.borderTopWidth+this.styleObj.paddingBottom+this.styleObj.paddingTop);this.dom.input.style.height=_11+"px";}if(_f==0){this.dom.fakeinput.style.width=_f+100+"px";}else{this.dom.fakeinput.style.width=_f+"px";}}var _12=$W.document.createElement("div");_12.style.width="0";_12.style.height="0";_12.style.visibility="hidden";$W.document.body.appendChild(_12);var src=$W._r.getSSLBlankPage();var _14=$W._m.getMessage("Upload_msg1")||"\ud30c\uc77c \uc5c5\ub85c\ub4dc\ub97c \uc704\ud55c \uc784\uc2dc \ud504\ub808\uc784";_12.innerHTML="<iframe frameborder='0' name='__targetFrame__"+this.id+"' scrolling='no' style='width:0; height:0' "+src+" title='"+_14+"'></iframe>";try{}catch(err){$l(err);}if(this.options.type=="image"&&this.dom.fakeinput!=null){var _15=this;this.dom.fakeinput.onchange=function(){_15.dom.input.value=_15.dom.fakeinput.value;$W._c.fireEvent(_15,"onInputValueChange",_15.dom.input.value);};this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseOverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOutEvent));}else{var _15=this;this.dom.input.onchange=function(){$W._c.fireEvent(_15,"onInputValueChange",_15.dom.input.value);};}if(this.options.subDir){this.addParam("subDir",this.options.subDir);}if(this.options.subSize){this.addParam("subSize",this.options.subSize);}this.event.addListener(this.dom.form,"onsubmit",this.event.bindAsEventListener(this,this.onSubmitForm));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.onSubmitForm=function(e){["WebSquare.uiplugin.upload.onSubmitForm"];try{$W._c.stopEvent(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.onInputValueChange=function(e){["WebSquare.uiplugin.upload.onInputValueChange"];try{var _18=this;if(this.options.type=="image"&&this.dom.fakeinput!=null){this.dom.input.value=this.dom.fakeinput.value;}$W._c.fireEvent(_18,"onInputValueChange",_18.dom.input.value);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.handleMouseOverEvent=function(e){["WebSquare.uiplugin.upload.handleMouseOverEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2upload_image")){this.addClass(this.dom.span,"w2upload_image_over");break;}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.handleMouseOutEvent=function(e){["WebSquare.uiplugin.upload.handleMouseOutEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2upload_image")){this.removeClass(this.dom.span,"w2upload_image_over");break;}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.setCallback=function(obj){["WebSquare.uiplugin.upload.setCallback"];try{if(typeof obj=="function"){this.callbackFunction=obj;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.isEmpty=function(){["WebSquare.uiplugin.upload.isEmpty"];try{var _1e=this.getValue();if(typeof _1e=="undefined"||_1e==""){return true;}else{return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.getByte=function(){["WebSquare.uiplugin.upload.getByte"];try{var _1f=$W._m.getMessage("Upload_warning1")||"\ubcf4\uc548\uc0c1\uc758 \ubb38\uc81c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \uae30\ub2a5\uc785\ub2c8\ub2e4.";alert(_1f);var _20=$W.document.getElementById(this.id+"_inputFile");if(_20){var fso=new ActiveXObject("Scripting.FileSystemObject");var f=fso.GetFile(_20.value);return f.size;}else{$l("input form is not exist");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.getValue=function(){["WebSquare.uiplugin.upload.getValue"];try{var _23=$W.document.getElementById(this.id+"_inputFile");if(_23){return _23.value;}else{$l("input form is not exist");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.reset=function(){["WebSquare.uiplugin.upload.reset"];try{this.dom.form.reset();if(this.options.type=="image"){this.dom.fakeinput.value="";this.dom.input.value="";}else{this.dom.input.value="";}if(this.options.subDir){var _24=this.dom.form.firstChild;while(_24){if(_24.id=="subDir"){_24.value=this.options.subDir;break;}else{_24=_24.nextSibling;}}}if(this.options.subSize){var _25=this.dom.form.firstChild;while(_25){if(_25.id=="subSize"){_25.value=this.options.subSize;return;}else{_25=_24.nextSibling;}}}var _26=this.dom.form.getElementsByTagName("input");for(var i=0;i<_26.length;i++){if(_26[i].type=="hidden"){_26[i].removeAttribute("value");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.setSubDir=function(_28){["WebSquare.uiplugin.upload.reset"];try{if(this.options.subDir){var _29=this.dom.form.firstChild;while(_29){if(_29.id=="subDir"){_29.value=_28;return;}else{_29=_29.nextSibling;}}}else{this.addParam("subDir",_28);}this.options.subDir=_28;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.submit=function(){["WebSquare.uiplugin.upload.submit"];try{if($W.domain){var _2a=this.dom.form.action;if(_2a.indexOf("?")>-1){_2a+="&";}else{_2a+="?";}_2a+="domain="+$W._A.URLEncoder($W.domain);this.dom.form.action=_2a;}if($W.hybridApp){var _2b=document.getElementById(this.dom.input.id);var _2c=_2b.files[0];var _2d=new FormData();var id=this.id;_2d.append("upload",_2c);if(this.options.subDir){_2d.append("subDir",this.options.subDir);}var xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState==4&&xhr.status==200){var obj=eval(id);var _31=xhr.responseText;obj.callback(_31.substring(_31.indexOf("<ret>"),_31.indexOf("</ret>")+6));}};xhr.open("POST",this.dom.form.action,true);xhr.setRequestHeader("X-File-Name",_2c.name);xhr.send(_2d);}else{this.dom.form.submit();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.getFileInputObject=function(){["WebSquare.uiplugin.upload.getFileInputObject"];try{return this.dom.input;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.setFAction=function(url){["WebSquare.uiplugin.upload.setFAction"];try{this.dom.form.action=url;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.changeFormAction=function(url){["WebSquare.uiplugin.upload.setFAction"];try{this.dom.form.action=url;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.addParam=function(key,_35){["WebSquare.uiplugin.upload.addParam"];try{var _36=false;var _37=this.dom.form.firstChild;while(_37){if(_37.id==key){_36=true;break;}else{_37=_37.nextSibling;}}if(_36){this.dom.form[key].value=_35;}else{var _38=$W.document.createElement("input");_38.type="hidden";_38.value=_35;_38.id=key;_38.name=key;this.dom.form.appendChild(_38);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.getDefaultStyle=function(){["WebSquare.uiplugin.upload.getDefaultStyle"];try{return " border:0px solid blue ";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.callback=function(_39){["WebSquare.uiplugin.upload.callback"];try{if(this.callbackFunction){this.callbackFunction.apply(this,new Array($W._B.parse(_39)));}else{$W._c.fireEvent(this,"ondone",$W._B.parse(_39));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.getActionUrl=function(){["WebSquare.uiplugin.upload.getActionUrl"];try{if(this.options.action){return this.options.action;}else{return this.action;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.getAccessibiltyId=function(){["WebSquare.uiplugin.upload.getAccessibiltyId"];try{return this.options.type=="image"?this.id+"_fakeinput":this.id+"_inputFile";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.onPropertyChange=function(_3a,_3b){["WebSquare.uiplugin.upload.onPropertyChange"];try{switch(_3a){case "disabled":if(_3b){this.addClass(this.render,"w2upload_disabled");}else{this.removeClass(this.render,"w2upload_disabled");}break;case "readOnly":break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aC.prototype.setDisabled=function(_3c){["WebSquare.uiplugin.upload.setDisabled"];try{var _3d;if(this.options.type=="image"){_3d=document.getElementById(this.id+"_fakeinput");}else{_3d=document.getElementById(this.id+"_inputFile");}_3d.disabled=_3c;$W._t.prototype.setDisabled.call(this,_3c);}catch(e){$W.exception.printStackTrace(e);}return _3c;};;WebSquare.uiplugin.upload=$W._a.aC;$W._a._z=function(_1,_2){["WebSquare.uiplugin.svgToolkit"];try{this.mainParent=_1;this.options=_2;this.id=_1.id;this.mainLayer=null;this.defLayer=null;this.svgNS="http://www.w3.org/2000/svg";this.xlink="http://www.w3.org/1999/xlink";this.initSVGLayer();this.objectArr=[];this.rotateAngle=0;this.defCnt=0;}catch(e){$W.exception.printStackTrace(e);}};$W._a._z.prototype.initSVGLayer=function(){["WebSquare.uiplugin.initSVGLayer"];try{var _3=document.createElementNS(this.svgNS,"svg");_3.style.position="absolute";_3.style.left="0px";_3.style.top="0px";_3.style.width="100%";_3.style.height="100%";_3.setAttribute("class","w2graphicUtil");if(this.options.appendMode=="insert"&&this.mainParent.render.firstChild){this.mainParent.render.insertBefore(_3,this.mainParent.render.firstChild);}else{this.mainParent.render.appendChild(_3);}this.defLayer=document.createElementNS(this.svgNS,"defs");_3.appendChild(this.defLayer);this.mainLayer=document.createElementNS(this.svgNS,"g");_3.appendChild(this.mainLayer);}catch(e){$W.exception.printStackTrace(e);}};$W._a._z.prototype.rotate=function(_4,cx,cy){["WebSquare.uiplugin.svgToolkit.rotate"];_4=_4||0;cx=cx||parseInt(this.mainParent.render.style.width)/2;cx+=0.5;cy+=0.5;this.mainLayer.setAttribute("transform","rotate("+_4+" "+cx+" "+cy+")");this.rotateAngle=_4;};$W._a._z.prototype.getRotateAngle=function(){["WebSquare.uiplugin.svgToolkit.getRotateAngle"];return this.rotateAngle;};$W._a._z.prototype.createLine=function(id,_8,x1,y1,x2,y2,_d,_e,_f){["WebSquare.uiplugin.svgToolkit"];var _10=document.createElementNS(this.svgNS,"line");_10.setAttribute("id",id);_10.setAttribute("stroke-linecap","round");_10.setAttribute("stroke-width",_8);_10.setAttribute("x1",x1);_10.setAttribute("y1",y1);_10.setAttribute("x2",x2);_10.setAttribute("y2",y2);_10.setAttribute("stroke",(_d||"#000000"));this.appendObj(id,_10,_e);return _10;};$W._a._z.prototype.createCircle=function(id,_12,x1,y1,r,_16,_17,_18,_19){["WebSquare.uiplugin.svgToolkit"];var _1a=document.createElementNS(this.svgNS,"circle");_1a.setAttribute("id",id);_1a.setAttribute("stroke-width",_12);_1a.setAttribute("cx",x1);_1a.setAttribute("cy",y1);_1a.setAttribute("r",r);_1a.setAttribute("stroke",(_16||"#000000"));_1a.setAttribute("fill",(_17||"#ffffff"));this.appendObj(id,_1a,_18);return _1a;};$W._a._z.prototype.createEllipse=function(id,_1c,x1,y1,rx,ry,_21,_22,_23,_24){["WebSquare.uiplugin.svgToolkit"];var _25=document.createElementNS(this.svgNS,"ellipse");_25.setAttribute("stroke-width",_1c);_25.setAttribute("cx",x1);_25.setAttribute("cy",y1);_25.setAttribute("rx",rx);_25.setAttribute("ry",ry);_25.setAttribute("stroke",(_21||"#000000"));_25.setAttribute("fill",(_22||"#ffffff"));this.appendObj(id,_25,_23);return _25;};$W._a._z.prototype.createRectangleAnimation=function(id,_27,x,y,_2a,_2b,_2c,_2d,_2e,_2f){["WebSquare.uiplugin.svgToolkit"];_2f=_2f||"bottom_top";var _30=null;var _31=this;if(_2f=="bottom_top"){_30=this.createRectangle(id,_27,x,y+_2b,_2a,0,_2c,_2d,_2e);setTimeout(function(){_31.startRectangleAnimation1(_30,y,_2b,1,10);},1);}if(_2f=="left_right"){_30=this.createRectangle(id,_27,x,y,0,_2b,_2c,_2d,_2e);setTimeout(function(){_31.startRectangleAnimation2(_30,y,_2a,1,10);},1);}return _30;};$W._a._z.prototype.startRectangleAnimation1=function(obj,y,_34,idx,_36){["WebSquare.uiplugin.svgToolkit"];idx=(idx>_36)?_36:idx;obj.setAttribute("y",y+_34-(_34*idx/_36));obj.setAttribute("height",_34*idx/_36);if(idx<_36){idx++;var _37=this;setTimeout(function(){_37.startRectangleAnimation1(obj,y,_34,idx,_36);},40);}};$W._a._z.prototype.startRectangleAnimation2=function(obj,y,_3a,idx,_3c){["WebSquare.uiplugin.svgToolkit"];idx=(idx>_3c)?_3c:idx;obj.setAttribute("width",_3a*idx/_3c);if(idx<_3c){idx++;var _3d=this;setTimeout(function(){_3d.startRectangleAnimation2(obj,y,_3a,idx,_3c);},40);}};$W._a._z.prototype.createRectangle=function(id,_3f,x,y,_42,_43,_44,_45,_46,_47){["WebSquare.uiplugin.svgToolkit"];var _48=document.createElementNS(this.svgNS,"rect");_48.setAttribute("id",id);_48.setAttribute("stroke-width",_3f);_48.setAttribute("x",x);_48.setAttribute("y",y);_48.setAttribute("width",_42);_48.setAttribute("height",_43);_48.setAttribute("stroke",(_44||"#000000"));_48.setAttribute("fill",(_45||"#ffffff"));this.appendObj(id,_48,_46);return _48;};$W._a._z.prototype.createRoundRect=function(id,_4a,x,y,_4d,_4e,_4f,_50,_51,_52,_53){["WebSquare.uiplugin.svgToolkit.createRoundRect"];_4a=parseInt(_4a)||0;var _54=document.createElementNS(this.svgNS,"rect");_54.setAttribute("stroke-width",_4a);_54.setAttribute("x",parseInt(x)+_4a/2);_54.setAttribute("y",parseInt(y)+_4a/2);_54.setAttribute("width",parseInt(_4d)-_4a);_54.setAttribute("height",parseInt(_4e)-_4a);_54.setAttribute("stroke",(_50||"#000000"));_54.setAttribute("fill",(_51||"#ffffff"));_54.setAttribute("rx",_4f);_54.setAttribute("ry",_4f);this.appendObj(id,_54,_52);return _54;};$W._a._z.prototype.setStyle=function(id,_56,top,_58,_59){["WebSquare.uiplugin.svgToolkit"];var obj=this.objectArr[id];var _5b=parseInt(obj.getAttribute("stroke-width"))||0;if(_56!=null){obj.setAttribute("x",parseInt(_56)+_5b);}if(top!=null){obj.setAttribute("y",parseInt(top)+_5b);}if(_58!=null){obj.setAttribute("width",parseInt(_58)-_5b);}if(_59!=null){obj.setAttribute("height",parseInt(_59)-_5b);}};$W._a._z.prototype.createImage=function(id,_5d,x,y,_60,_61,_62,src,_64,_65){["WebSquare.uiplugin.svgToolkit.createImage"];var img=document.createElementNS(this.svgNS,"image");img.setAttribute("x",x);img.setAttribute("y",y);img.setAttribute("width",_60);img.setAttribute("height",_61);img.setAttributeNS(this.xlink,"href",src);this.appendObj(id,img,_64);return img;};$W._a._z.prototype.createArc=function(id,_68,cx,cy,r,_6c,_6d,_6e,_6f,_70,_71){["WebSquare.uiplugin.svgToolkit.createArc"];var _72=document.createElementNS(this.svgNS,"path");if(_6c>_6d){var tmp=_6c;_6d=_6c;_6c=tmp;}var _74=(Math.abs(_6c-_6d)>180)?1:0;var d="M"+cx+" "+cy;d+=" L"+(cx+r*Math.cos(_6c*(Math.PI/180)))+" "+(cy-r*Math.sin(_6c*(Math.PI/180)));d+=" A"+r+","+r+" "+0+" "+_74+", 0 ";d+=""+(cx+r*Math.cos(_6d*(Math.PI/180)))+" "+(cy-r*Math.sin(_6d*(Math.PI/180)));d+=" Z";_72.setAttribute("id",id);_72.setAttribute("d",d);_72.setAttribute("stroke-width",_68);_72.setAttribute("stroke",(_6e||"#000000"));_72.setAttribute("fill",(_6f||"#ffffff"));this.appendObj(id,_72,_70);return _72;};$W._a._z.prototype.createPath=function(id,_77,_78,_79,_7a,_7b,_7c){["WebSquare.uiplugin.svgToolkit.createPath"];var _7d=document.createElementNS(this.svgNS,"path");var d="";for(var i=0;i<_78.length;i++){if(i==0){d+="M";}else{d+=" L";}d+=_78[i].x+" "+_78[i].y;}d+=" Z";_7d.setAttribute("d",d);_7d.setAttribute("id",id);_7d.setAttribute("stroke-width",_77);_7d.setAttribute("stroke",(_79||"#000000"));_7d.setAttribute("fill",(_7a||"#ffffff"));this.appendObj(id,_7d,_7b);return _7d;};$W._a._z.prototype.createPath2=function(id,_81,_82,_83,_84,_85,_86,_87,_88){["WebSquare.uiplugin.svgToolkit.createPath2"];var _89=document.createElementNS(this.svgNS,"path");var d="";for(var i=0;i<_82.length;i++){if(i==0){d+="M";}else{d+=" L";}d+=_82[i].x+" "+_82[i].y;}if(_86){d+=" Z";}_89.setAttribute("d",d);_89.setAttribute("id",id);_89.setAttribute("stroke-width",_81);_89.setAttribute("stroke",(_83||"#000000"));if(_85){_89.setAttribute("fill",_84||"#ffffff");}else{_89.setAttribute("fill","none");}this.appendObj(id,_89,_87);return _89;};$W._a._z.prototype.modifyPath=function(id,_8d){["WebSquare.uiplugin.svgToolkit.modifyPath"];var obj=this.objectArr[id];var d="";for(var i=0;i<_8d.pointList.length;i++){if(i==0){d+="M";}else{d+=" L";}d+=_8d.pointList[i].x+" "+_8d.pointList[i].y;}if(_8d.closeFlag){d+=" Z";}obj.setAttribute("d",d);};$W._a._z.prototype.modifyRectangle=function(id,_92){["WebSquare.uiplugin.svgToolkit.modifyRectangle"];var obj=this.objectArr[id];if(!obj){return;}if(_92.x!=null){obj.setAttribute("x",_92.x);}if(_92.y!=null){obj.setAttribute("y",_92.y);}if(_92.width!=null){obj.setAttribute("width",_92.width);}if(_92.height!=null){obj.setAttribute("height",_92.height);}};$W._a._z.prototype.modifyArc=function(id,_95){["WebSquare.uiplugin.svgToolkit.modifyArc"];var obj=this.objectArr[id];if(!obj){return;}if(_95.centerX!=null&&_95.centerY!=null&&_95.radius!=null&&_95.startAngle!=null&&_95.endAngle!=null){var cx=_95.centerX;var cy=_95.centerY;var r=_95.radius;var _9a=_95.startAngle;var _9b=_95.endAngle;var _9c=(Math.abs(_9a-_9b)>180)?1:0;var d="M"+cx+" "+cy;d+=" L"+(cx+r*Math.cos(_9a*(Math.PI/180)))+" "+(cy-r*Math.sin(_9a*(Math.PI/180)));d+=" A"+r+","+r+" "+0+" "+_9c+", 0 ";d+=""+(cx+r*Math.cos(_9b*(Math.PI/180)))+" "+(cy-r*Math.sin(_9b*(Math.PI/180)));d+="";obj.setAttribute("d",d);}};$W._a._z.prototype.modifyLine=function(id,_9f){["WebSquare.uiplugin.svgToolkit.modifyLine"];var obj=this.objectArr[id];if(!obj){return;}};$W._a._z.prototype.appendObj=function(id,obj,_a3){["WebSquare.uiplugin.appendObj"];this.objectArr[id]=obj;_a3=(_a3!=null)?_a3:true;if($W._G.isChrome()){obj.style.visibility="hidden";}if(_a3){this.mainLayer.appendChild(obj);}if($W._G.isChrome()){setTimeout(function(){obj.style.visibility="";},100);}};$W._a._z.prototype.addLinearGradient=function(id,_a5,_a6,_a7){["WebSquare.uiplugin.svgToolkit.addLinearGradient"];var x1="0%";var y1="0%";var x2="0%";var y2="0%";if(typeof _a5!="number"){switch(_a5.toLowerCase()){case "left_right":x2="100%";break;case "right_left":x1="100%";break;case "top_bottom":y2="100%";break;case "bottom_top":y1="100%";break;}}else{x1="0%";y1="0%";x2="0%";y2="0%";var _ac=_a5%360;_ac=(_ac<0)?_ac+360:_ac;if(_ac>=0&&_ac<23){x2="100%";}else{if(_ac>360-23&&_ac<=360){x2="100%";}else{if(_ac>22&&_ac<68){y1="100%";x2="100%";}else{if(_ac>67&&_ac<113){y1="100%";}else{if(_ac>112&&_ac<158){x1="100%";y1="100%";}else{if(_ac>157&&_ac<203){x1="100%";}else{if(_ac>202&&_ac<248){x1="100%";y2="100%";}else{if(_ac>247&&_ac<293){y2="100%";}else{if(_ac>292&&_ac<338){y2="100%";x2="100%";}}}}}}}}}}this.defCnt++;var _ad=document.createElementNS(this.svgNS,"linearGradient");_ad.id=this.id+"_"+id+"def"+this.defCnt;_ad.setAttribute("x1",x1);_ad.setAttribute("y1",y1);_ad.setAttribute("x2",x2);_ad.setAttribute("y2",y2);var _ae=document.createElementNS(this.svgNS,"stop");_ae.setAttribute("offset","0%");_ae.setAttribute("style","stop-color:"+_a6+"; stop-opacity:1");var _af=document.createElementNS(this.svgNS,"stop");_af.setAttribute("offset","100%");_af.setAttribute("style","stop-color:"+_a7+"; stop-opacity:1");_ad.appendChild(_ae);_ad.appendChild(_af);this.defLayer.appendChild(_ad);this.objectArr[id].setAttribute("style","fill:url(#"+this.id+"_"+id+"def"+this.defCnt+")");};$W._a._z.prototype.addRadialGradient=function(id,x,y,_b3,_b4){["WebSquare.uiplugin.svgToolkit.addRadialGradient"];this.defCnt++;var _b5=this.id+"def"+this.defCnt;var _b6=document.createElementNS(this.svgNS,"radialGradient");_b6.id=_b5;_b6.setAttribute("cx",x);_b6.setAttribute("cy",y);_b6.setAttribute("fx",x);_b6.setAttribute("fy",y);var _b7=document.createElementNS(this.svgNS,"stop");_b7.setAttribute("offset","0%");_b7.setAttribute("style","stop-color:"+_b3+"; stop-opacity:1");var _b8=document.createElementNS(this.svgNS,"stop");_b8.setAttribute("offset","100%");_b8.setAttribute("style","stop-color:"+_b4+"; stop-opacity:1");_b6.appendChild(_b7);_b6.appendChild(_b8);this.defLayer.appendChild(_b6);this.objectArr[id].setAttribute("style","fill:url(#"+_b5+")");};$W._a._z.prototype.addOpacity=function(id,_ba){["WebSquare.uiplugin.svgToolkit.add3DEffect"];var _bb=this.objectArr[id];_bb.setAttribute("opacity",_ba);};$W._a._z.prototype.add3DEffect=function(id,_bd){["WebSquare.uiplugin.svgToolkit.add3DEffect"];var _be=this.objectArr[id];if(_be.tagName=="rect"){this.add3DEffectRectangle(id,_bd);}};$W._a._z.prototype.add3DEffectRectangle=function(id,_c0){["WebSquare.uiplugin.svgToolkit.add3DEffect"];var _c1=this.objectArr[id];var _c2=null;var _c3=null;_c0=_c0/3;var _c4=parseInt(_c1.getAttribute("stroke-width")||0);var _c5=_c1.getAttribute("stroke");var _c6=_c1.getAttribute("fill");var _c7=(_c4>0)?_c4-1:0;var _c8=parseInt(_c1.getAttribute("x")||0)+_c7;var _c9=parseInt(_c1.getAttribute("y")||0)-_c7+1;var _ca=parseInt(_c1.getAttribute("width")||0);var _cb=parseInt(_c1.getAttribute("height")||0);var _cc=[];var _cd={};_cd.x=_c8;_cd.y=_c9;_cc.push(_cd);var _ce={};_ce.x=_c8+_c0;_ce.y=_c9-_c0;_cc.push(_ce);var _cf={};_cf.x=_c8+_c0+_ca;_cf.y=_c9-_c0;_cc.push(_cf);var _d0={};_d0.x=_c8+_ca;_d0.y=_c9;_cc.push(_d0);var _d1=this.mainParent.get3DColor(_c6,"dark",5);this.createPath(id+"_upper",_c4,_cc,_c5,_d1,true);var _cc=[];var _cd={};_cd.x=_c8+_ca;_cd.y=_c9;_cc.push(_cd);var _ce={};_ce.x=_c8+_ca+_c0;_ce.y=_c9-_c0;_cc.push(_ce);var _cf={};_cf.x=_c8+_ca+_c0;_cf.y=_c9+_cb-_c0;_cc.push(_cf);var _d0={};_d0.x=_c8+_ca;_d0.y=_c9+_cb;_cc.push(_d0);var _d2=this.mainParent.get3DColor(_c6,"bright",5);this.createPath(id+"_right",_c4,_cc,_c5,_d2,true);};;WebSquare.uiplugin.svgToolkit=$W._a._z;$W._a.az=function(_1,_2){["WebSquare.uiplugin.vmlToolkit"];try{this.mainParent=_1;this.options=_2;this.mainLayer=null;this.objectArr=[];this.coordsize="";this.rotateAngle=0;this.initVMLLayer();}catch(e){$W.exception.printStackTrace(e);}};$W._a.az.prototype.initVMLLayer=function(){["WebSquare.uiplugin.initVMLLayer"];try{document.namespaces.add("v","urn:schemas-microsoft-com:vml");try{}catch(e){$lobj(e);return;}this.mainLayer=this.createElement("group");this.mainLayer.style.position="absolute";this.mainLayer.className="w2graphicUtil";this.mainLayer.style.left="0px";this.mainLayer.style.top="0px";this.mainLayer.style.visibility="visible";var _3=this.mainParent.render.offsetWidth;var _4=this.mainParent.render.offsetHeight;if(_3==0||_4==0){_3=parseInt($W._G.getStyleProperty(this.mainParent.render,"width"));_4=parseInt($W._G.getStyleProperty(this.mainParent.render,"height"));}this.mainLayer.style.width=_3+"px";this.mainLayer.style.height=_4+"px";this.mainLayer.coordsize=parseInt(_3)+", "+parseInt(_4);this.coordsize=parseInt(_3)+", "+parseInt(_4);if(this.options.appendMode=="insert"&&this.mainParent.render.firstChild){this.mainParent.render.insertBefore(this.mainLayer,this.mainParent.render.firstChild);}else{this.mainParent.render.appendChild(this.mainLayer);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.az.prototype.rotate=function(_5,_6,_7){["WebSquare.uiplugin.vmlToolkit.rotate"];_5=_5||0;this.mainLayer.rotation=_5;this.rotateAngle=_5;var w=2*_6+1;var h=2*_7+1;this.mainLayer.style.width=w+"px";this.mainLayer.style.height=h+"px";this.coordsize=w+" "+h;this.mainLayer.coordsize=this.coordsize;};$W._a.az.prototype.getRotateAngle=function(_a){["WebSquare.uiplugin.vmlToolkit.rotate"];return this.rotateAngle;};$W._a.az.prototype.getPxWidth=function(_b){if(_b+""==parseInt(_b)+""){return _b+"px";}return _b;};$W._a.az.prototype.createLine=function(id,_d,x1,y1,x2,y2,_12,_13,_14){["WebSquare.uiplugin.vmlToolkit.creatLine"];var _15=this.createElement("line");_15.setAttribute("id",id);_15.setAttribute("strokeweight",this.getPxWidth(_d));_15.style.zIndex=_14||0;var _16=this.createElement("stroke");_16.setAttribute("endcap","round");_15.appendChild(_16);_15.setAttribute("to",x1+","+y1);_15.setAttribute("from",x2+","+y2);_15.setAttribute("strokecolor",_12);this.appendObj(id,_15,_13);return _15;};$W._a.az.prototype.createCircle=function(id,_18,x1,y1,r,_1c,_1d,_1e,_1f){["WebSquare.uiplugin.vmlToolkit.createCircle"];var _20=this.createElement("oval");_20.setAttribute("id",id);_20.style.position="absolute";_20.style.left=x1-r;_20.style.top=y1-r;_20.style.width=r*2;_20.style.height=r*2;_20.setAttribute("stroke","true");_20.setAttribute("opacity","5.5");_20.setAttribute("strokecolor",_1c);_20.setAttribute("strokeweight",this.getPxWidth(_18));_20.setAttribute("fill","true");_20.setAttribute("fillcolor",_1d||"#ffffff");_20.style.zIndex=_1f||0;this.appendObj(id,_20,_1e);return _20;};$W._a.az.prototype.createEllipse=function(id,_22,x1,y1,rx,ry,_27,_28,_29,_2a){["WebSquare.uiplugin.vmlToolkit.createEllipse"];var _2b=this.createElement("oval");_2b.style.position="absolute";_2b.style.left=x1-rx;_2b.style.top=y1-ry;_2b.style.width=rx*2;_2b.style.height=ry*2;_2b.setAttribute("stroke","true");_2b.setAttribute("strokecolor",_27);_2b.setAttribute("strokeweight",this.getPxWidth(_22));_2b.setAttribute("fill","true");_2b.setAttribute("fillcolor",_28||"#ffffff");_2b.style.zIndex=_2a||0;this.appendObj(id,_2b,_29);return _2b;};$W._a.az.prototype.createRectangleAnimation=function(id,_2d,x,y,_30,_31,_32,_33,_34,_35){["WebSquare.uiplugin.vmlToolkit"];_35=_35||"bottom_top";var _36=null;var _37=this;if(_35=="bottom_top"){_36=this.createRectangle(id,_2d,x,y+_31,_30,0,_32,_33,_34);setTimeout(function(){_37.startRectangleAnimation1(_36,y,_31,1,10);},1);}if(_35=="left_right"){_36=this.createRectangle(id,_2d,x,y,0,_31,_32,_33,_34);setTimeout(function(){_37.startRectangleAnimation2(_36,y,_30,1,10);},1);}return _36;};$W._a.az.prototype.startRectangleAnimation1=function(obj,y,_3a,idx,_3c){["WebSquare.uiplugin.vmlToolkit"];idx=(idx>_3c)?_3c:idx;obj.style.top=y+_3a-(_3a*idx/_3c);obj.style.height=_3a*idx/_3c;if(idx<_3c){idx++;var _3d=this;setTimeout(function(){_3d.startRectangleAnimation1(obj,y,_3a,idx,_3c);},20);}};$W._a.az.prototype.startRectangleAnimation2=function(obj,y,_40,idx,_42){["WebSquare.uiplugin.vmlToolkit"];idx=(idx>_42)?_42:idx;obj.style.width=_40*idx/_42;if(idx<_42){idx++;var _43=this;setTimeout(function(){_43.startRectangleAnimation2(obj,y,_40,idx,_42);},20);}};$W._a.az.prototype.createRectangle=function(id,_45,x,y,_48,_49,_4a,_4b,_4c,_4d){["WebSquare.uiplugin.vmlToolkit"];var _4e=this.createElement("rect");_4e.id=id;_4e.setAttribute("stroke","true");_4e.setAttribute("strokecolor",_4a);_4e.setAttribute("strokeweight",this.getPxWidth(_45));_4e.style.position="absolute";_4e.style.left=x;_4e.style.top=y;_4e.style.width=_48;_4e.style.height=_49;_4e.setAttribute("fill","true");_4e.setAttribute("fillcolor",_4b||"#ffffff");_4e.style.zIndex=_4d||0;this.appendObj(id,_4e,_4c);return _4e;};$W._a.az.prototype.createRoundRect=function(id,_50,x,y,_53,_54,_55,_56,_57,_58,_59){["WebSquare.uiplugin.vmlToolkit"];_50=parseInt(_50);_54-=_50;var _5a=this.createElement("roundrect");_5a.style.width=_53;_5a.style.height=_54;if(_50!==0){_5a.setAttribute("stroked","true");_5a.setAttribute("strokecolor",_56);_5a.setAttribute("strokeweight",this.getPxWidth(_50));}else{_5a.setAttribute("stroked","false");}_5a.setAttribute("arcsize",parseFloat(_55)/parseFloat(_54));_5a.style.position="absolute";_5a.style.left=x;_5a.style.top=y;_5a.setAttribute("fill","true");_5a.setAttribute("fillcolor",_57||"#ffffff");_5a.style.zIndex=_59||0;this.appendObj(id,_5a,_58);return _5a;};$W._a.az.prototype.setStyle=function(id,_5c,top,_5e,_5f){["WebSquare.uiplugin.vmlToolkit"];var obj=this.objectArr[id];if(_5c!=null){obj.style.left=_5c;}if(top!=null){obj.style.top=top;}if(_5e!=null){obj.style.width=_5e;}if(_5f!=null){obj.style.height=_5f;}};$W._a.az.prototype.createImage=function(id,_62,x,y,_65,_66,_67,src,_69,_6a){["WebSquare.uiplugin.vmlToolkit.createImage"];var img=this.createElement("image");img.src=src;img.style.position="absolute";img.style.left=x;img.style.top=y;img.style.width=_65;img.style.height=_66;img.style.zIndex=_6a||0;this.appendObj(id,img,_69);return img;};$W._a.az.prototype.createArc=function(id,_6d,cx,cy,r,_71,_72,_73,_74,_75,_76){["WebSquare.uiplugin.vmlToolkit.createImage"];r=Math.round(r);if(_71>_72){var tmp=_71;_72=_71;_71=tmp;}var _78=parseInt(23600000*_71/360);var _79=parseInt((_72-_71)/360*23600000);var _7a=this.createElement("shape");_7a.setAttribute("id",id);_7a.style.position="absolute";_7a.style.left=cx;_7a.style.top=cy;_7a.style.width=r;_7a.style.height=r;_7a.setAttribute("strokeweight",this.getPxWidth(_6d));_7a.setAttribute("strokeColor",_73);_7a.setAttribute("coordsize",r+" "+r);_7a.setAttribute("path","M 0 0 AE 0 0 "+r+" "+r+" "+_78+" "+_79+" X E");_7a.style.zIndex=_76||0;_7a.setAttribute("fill","true");_7a.setAttribute("fillcolor",_74||"#ffffff");this.appendObj(id,_7a,_75);return _7a;};$W._a.az.prototype.createPath=function(id,_7c,_7d,_7e,_7f,_80,_81){["WebSquare.uiplugin.vmlToolkit.createPath"];var _82=this.createElement("shape");_82.setAttribute("id",id);_82.style.position="absolute";_82.style.width=this.mainLayer.style.width;_82.style.height=this.mainLayer.style.height;_82.setAttribute("strokeColor",_7e);_82.setAttribute("strokeweight",this.getPxWidth(_7c));_82.setAttribute("fillcolor",_7f);_82.style.zIndex=_81||0;var _83=this.createElement("path");var _84="";for(var i=0;i<_7d.length;i++){if(i==0){_84+="M";}else{_84+=" L";}_84+=parseInt(_7d[i].x)+","+parseInt(_7d[i].y);}_84+=" X E";_83.setAttribute("v",_84);_82.appendChild(_83);this.appendObj(id,_82,_80);return _82;};$W._a.az.prototype.createPath2=function(id,_87,_88,_89,_8a,_8b,_8c,_8d,_8e){["WebSquare.uiplugin.vmlToolkit.createPath2"];var _8f=this.createElement("shape");_8f.setAttribute("id",id);_8f.style.position="absolute";_8f.style.width=this.mainLayer.style.width;_8f.style.height=this.mainLayer.style.height;_8f.setAttribute("strokeColor",_89);_8f.setAttribute("strokeweight",this.getPxWidth(_87));_8f.style.zIndex=_8e||0;if(_8b){_8f.fillcolor=_8a;}var _90=this.createElement("path");var _91="";for(var i=0;i<_88.length;i++){if(i==0){_91+="M";}else{_91+=" L";}_91+=parseInt(_88[i].x)+","+parseInt(_88[i].y);}if(_8c){_91+=" X E";}else{_91+=" E nf ";}_90.setAttribute("v",_91);_8f.appendChild(_90);this.appendObj(id,_8f,_8d);return _8f;};$W._a.az.prototype.modifyPath=function(id,_94){["WebSquare.uiplugin.vmlToolkit.modifyPath"];var obj=this.objectArr[id];if(!obj){return;}var _96=null;var _97="";for(var _98=obj.firstChild;_98!=null;_98=_98.nextSibling){if(_98.nodeName=="path"){_96=_98;break;}}if(_96){for(var i=0;i<_94.pointList.length;i++){if(i==0){_97+="M";}else{_97+=" L";}_97+=parseInt(_94.pointList[i].x)+","+parseInt(_94.pointList[i].y);}if(_94.closeFlag){_97+=" X E";}else{_97+=" E nf";}_96.v=_97;}};$W._a.az.prototype.modifyRectangle=function(id,_9b){["WebSquare.uiplugin.vmlToolkit.modifyRectangle"];var obj=this.objectArr[id];if(!obj){return;}if(_9b.x!=null){obj.style.left=_9b.x;}if(_9b.y!=null){obj.style.top=_9b.y;}if(_9b.width!=null){obj.style.width=_9b.width;}if(_9b.height!=null){obj.style.height=_9b.height;}};$W._a.az.prototype.modifyArc=function(id,_9e){["WebSquare.uiplugin.vmlToolkit.modifyArc"];var obj=this.objectArr[id];if(!obj){return;}if(_9e.centerX!=null){obj.style.left=_9e.centerX;}if(_9e.centerY!=null){obj.style.top=_9e.centerY;}if(_9e.radius!=null&&_9e.startAngle!=null&&_9e.endAngle!=null){var r=parseInt(_9e.radius);var _a1=parseInt(23600000*_9e.startAngle/360);var _a2=parseInt((_9e.endAngle-_9e.startAngle)/360*23600000);obj.path="M 0 0 AE 0 0 "+r+" "+r+" "+_a1+" "+_a2+" X E";}};$W._a.az.prototype.modifyLine=function(id,_a4){["WebSquare.uiplugin.vmlToolkit.modifyLine"];var obj=this.objectArr[id];if(!obj){return;}};$W._a.az.prototype.appendObj=function(id,obj,_a8){["WebSquare.uiplugin.appendObj"];this.objectArr[id]=obj;_a8=(_a8!=null)?_a8:true;obj.style.visibility="visible";obj.style.display="none";if(_a8){this.mainLayer.appendChild(obj);}this.mainLayer.style.visibility="";obj.style.display="";obj.style.visibility="";};$W._a.az.prototype.addLinearGradient=function(id,_aa,_ab,_ac){["WebSquare.uiplugin.vmlToolkit.addLinearGradient"];var _ad="0";if(typeof _aa!="number"){switch(_aa.toLowerCase()){case "left_right":_ad="270";break;case "right_left":_ad="90";break;case "top_bottom":_ad="180";break;case "bottom_top":_ad="0";break;}}else{_ad=_aa%360;_ad-=90;_ad=(_ad<0)?_ad+360:_ad;}var _ae=this.createElement("fill");_ae.setAttribute("type","Gradient");_ae.setAttribute("angle",_ad);_ae.setAttribute("color",_ab);_ae.setAttribute("color2",_ac);this.objectArr[id].appendChild(_ae);};$W._a.az.prototype.addRadialGradient=function(id,x,y,_b2,_b3){["WebSquare.uiplugin.vmlToolkit.addRadialGradient"];var _b4="0";gradientType=0;if(typeof gradientType!="number"){switch(gradientType.toLowerCase()){case "left_right":_b4="270";break;case "right_left":_b4="90";break;case "top_bottom":_b4="180";break;case "bottom_top":_b4="0";break;}}else{_b4=gradientType%360;_b4-=90;_b4=(_b4<0)?_b4+360:_b4;}var _b5=this.createElement("fill");_b5.setAttribute("type","Gradient");_b5.setAttribute("angle",_b4);_b5.setAttribute("color",_b2);_b5.setAttribute("color2",_b3);this.objectArr[id].appendChild(_b5);};$W._a.az.prototype.add3DEffect=function(id,_b7){["WebSquare.uiplugin.vmlToolkit.add3DEffect"];var _b8=this.createElement("extrusion");_b8.setAttribute("on","true");_b8.setAttribute("backdepth",_b7+"px");this.objectArr[id].appendChild(_b8);};$W._a.az.prototype.addOpacity=function(id,_ba){["WebSquare.uiplugin.vmlToolkit.addOpacity"];var _bb=this.createElement("stroke");_bb.setAttribute("opacity","50%");this.objectArr[id].appendChild(_bb);};$W._a.az.prototype.createElement=function(_bc){["WebSquare.uiplugin.vmlToolkit.createElement"];var _bd;_bd=document.createElement("v:"+_bc);if($W._G.isIE(8)&&navigator.userAgent.indexOf("MSIE 8.0")>-1){var _be=navigator.userAgent.indexOf("Trident");var _bf=navigator.userAgent.indexOf("/",_be);var _c0=navigator.userAgent.indexOf(".",_bf);var _c1=parseInt(navigator.userAgent.substring(_bf+1,_c0),10);if(_c1>=5){_bd=document.createElement("v:"+_bc);}else{_bd.style.BEHAVIOR="url(#default#VML)";}}else{_bd=document.createElement("v:"+_bc);}return _bd;};;WebSquare.uiplugin.vmlToolkit=$W._a.az;$W._a._j=function(id,_2,_3,_4){["WebSquare.uiplugin.graphicUtil"];this.id=id;this.platformType=_3||"";this.options=$W.extend({appendMode:"append"},_4||{});if(this.platformType==""){this.platformType=$W.graphicPlatformType;}this.makeMainLayer(_2);this.hasMainCanvas=false;this.drawToolkit=null;this.setDrawToolkit(this.options);};$W._a._j.prototype.setDrawToolkit=function(_5){try{switch(this.platformType){case "svg":imports("uiplugin/graphicUtil/svgToolkit.js");this.drawToolkit=new $W._a._z(this,_5);break;case "vml":imports("uiplugin/graphicUtil/vmlToolkit.js");this.drawToolkit=new $W._a.az(this,_5);break;case "silverlight":break;case "canvas":break;}}catch(e){$W.exception.printStackTrace(e);}};$W._a._j.prototype.setSize=function(_6,_7){this.drawToolkit.setSize(_6,_7);};$W._a._j.prototype.makeMainLayer=function(_8){this.render=_8;};$W._a._j.prototype.rotate=function(_9){this.drawToolkit.rotate(_9);};$W._a._j.prototype.getRotateAngle=function(){return this.drawToolkit.getRotateAngle();};$W._a._j.prototype.get3DColor=function(_a,_b,_c){if(_b=="dark"){return this.getDarkColor(_a,_c);}else{return this.getBrightColor(_a,_c);}};$W._a._j.prototype.getDarkColor=function(_d,_e){var r;var g;var b;if(_d.indexOf("#")>-1){r=$W._G.hexacodetoDbl(_d.substr(1,2));g=$W._G.hexacodetoDbl(_d.substr(3,2));b=$W._G.hexacodetoDbl(_d.substr(5,2));}else{r=255;g=255;b=255;}var _12=r-(r)/_e;if(_12<0){_12=0;}var _13=g-(g)/_e;if(_13<0){_13=0;}var _14=b-(b)/_e;if(_14<0){_14=0;}return "#"+this.getChangedHexacode(_12)+this.getChangedHexacode(_13)+this.getChangedHexacode(_14);};$W._a._j.prototype.getBrightColor=function(_15,_16){var r;var g;var b;if(_15.indexOf("#")>-1){r=$W._G.hexacodetoDbl(_15.substr(1,2));g=$W._G.hexacodetoDbl(_15.substr(3,2));b=$W._G.hexacodetoDbl(_15.substr(5,2));}else{r=255;g=255;b=255;}var _1a=r+(r)/_16;if(_1a>255){_1a=255;}var _1b=g+(g)/_16;if(_1b>255){_1b=255;}var _1c=b+(b)/_16;if(_1c>255){_1c=255;}return "#"+this.getChangedHexacode(_1a)+this.getChangedHexacode(_1b)+this.getChangedHexacode(_1c);};$W._a._j.prototype.getChangedHexacode=function(_1d){_1d=$W._G.dbltoHexacode(_1d);_1d="0000".substring(0,2-_1d.length)+_1d;return _1d;};$W._a._j.prototype.getRenderingObj=function(id){return this.drawToolkit.objectArr[id];};;WebSquare.uiplugin.graphicUtil=$W._a._j;requires("uiplugin/graphicUtil/graphicUtil.js");$W._a.aT=function(id,_2,_3){["WebSquare.uiplugin.rectangle"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aT.prototype,$W._t.prototype);$W._a.aT.prototype.defaultOptions={pluginType:"uiplugin.rectangle",pluginName:"rectangle",x:null,y:null,width:null,height:null,arcsize:5,borderWidth:0,borderColor:"#000000",fillColor:"#ffffff",gradient:false,color1:"#ffffff",color2:"#ffffff",gradientType:"left_right"};$W._a.aT.prototype.initialize=function(_4){["WebSquare.uiplugin.rectangle.initialize"];try{this.mainGU=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aT.prototype.toHTML=function(){["WebSquare.uiplugin.rectangle.toHTML"];try{var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2rectangle "+this.options.className+"'>");_5.push("</div>");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aT.prototype.setAction=function(){["WebSquare.uiplugin.rectangle.setAction"];try{var x=0;var y=0;var _9=0;var _a=0;if(this.options.x!=null){x=this.options.x;}else{x=0;}if(this.options.y!=null){y=this.options.y;}else{y=0;}if(this.options.width!=null){_9=this.options.width;}else{_9=this.render.offsetWidth;}if(this.options.height!=null){_a=this.options.height;}else{_a=this.render.offsetHeight;}this.mainGU=new $W._a._j(this.id+"_GU",this.render);this.mainGU.drawToolkit.createRectangle(this.id+"_graphic",this.options.borderWidth,x,y,_9,_a,this.options.arcsize,this.options.borderColor,this.options.fillColor,true);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aT.prototype.refreshItemset=function(){};$W._a.aT.prototype.refresh=function(){};$W._a.aT.prototype.setSize=function(_b,_c){try{this.mainGU.drawToolkit.setStyle(this.id+"_graphic",null,null,_b,_c);}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.rectangle=$W._a.aT;requires("uiplugin/graphicUtil/graphicUtil.js");$W._a.aP=function(id,_2,_3){["WebSquare.uiplugin.roundRectangle"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aP.prototype,$W._t.prototype);$W._a.aP.prototype.defaultOptions={pluginType:"uiplugin.roundRectangle",pluginName:"roundRectangle",x:null,y:null,width:null,height:null,arcsize:5,borderWidth:"1px",borderColor:"#000000",fillColor:"#ffffff",gradient:false,color1:"#ffffff",color2:"#ffffff",gradientType:""};$W._a.aP.prototype.initialize=function(_4){["WebSquare.uiplugin.roundRectangle.initialize"];try{this.mainGU=null;this.gradientList=[];if(_4){this.gradientList=$W._B.getElementsByTagName(_4,"gradient",$W._N._XML_NAMESPACE.W2);if(this.gradientList.length>0){var _5=this.gradientList[0];this.options.color1=$W.WebSquareparser.getAttribute(_5,"color1");this.options.color2=$W.WebSquareparser.getAttribute(_5,"color2");this.options.gradientType=$W.WebSquareparser.getAttribute(_5,"gradientType");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aP.prototype.toHTML=function(){["WebSquare.uiplugin.roundRectangle.toHTML"];try{var _6=[];var _7=(this.options.style=="")?"":"style='"+this.options.style+"'";_6.push("<div id='"+this.id+"' "+_7+" class='w2roundRectangle "+this.options.className+"'>");_6.push("</div>");return _6.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aP.prototype.setAction=function(){["WebSquare.uiplugin.roundRectangle.setAction"];try{var x=0;var y=0;var _a=0;var _b=0;if(this.options.x!=null){x=this.options.x;}else{x=0;}if(this.options.y!=null){y=this.options.y;}else{y=0;}var _c=$W._N.makeStyle(this.options.style);if(this.options.width!=null){_a=this.options.width;}else{_a=parseInt(_c.width);}if(this.options.height!=null){_b=this.options.height;}else{_b=parseInt(_c.height);}this.mainGU=new $W._a._j(this.id+"_GU",this.render);this.mainGU.drawToolkit.createRoundRect(this.id+"_graphic",this.options.borderWidth,x,y,_a,_b,this.options.arcsize,this.options.borderColor,this.options.fillColor,true);if(this.options.gradientType!=""){this.mainGU.drawToolkit.addLinearGradient(this.id+"_graphic",this.options.gradientType,this.options.color1,this.options.color2);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aP.prototype.gradient=function(_d,_e,_f){["WebSquare.uiplugin.roundRectangle.gradient"];try{this.mainGU.drawToolkit.addLinearGradient(this.id+"_graphic",_d,_e,_f);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aP.prototype.setSize=function(_10,_11){["WebSquare.uiplugin.roundRectangle.setSize"];try{this.mainGU.drawToolkit.setStyle(this.id+"_graphic",null,null,_10,_11);}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.roundRectangle=$W._a.aP;$W._a.aa=function(id,_2,_3){["WebSquare.uiplugin.itemTable"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aa.prototype,$W._t.prototype);$W._a.aa.prototype.defaultOptions={pluginType:"uiplugin.itemTable",pluginName:"itemTable",row:"5",col:"1",submenuSize:"fixed",useRowHover:"true",useColHover:"true",useKey:"true",useHotKey:"true",useCacheData:"true",w2table:"w2table",w2table_main:"w2table_main",w2table_row:"w2table_row",w2table_col:"w2table_col",w2table_col_over:"w2table_col_over",w2table_col_checkbox:"w2table_col_checkbox",w2table_col_label:"w2table_col_label",defaultStyle:"",checkbox:false,escape:false};$W._a.aa.prototype.initialize=function(_4){this.rowCount=this.options.row;this.colCount=this.options.col;this.selectedCell=null;this.data=[];this.keyCharHash={"48":"0","49":"1","50":"2","51":"3","52":"4","53":"5","54":"6","55":"7","56":"8","57":"9","65":"a","66":"b","67":"c","68":"d","69":"e","70":"f","71":"g","72":"h","73":"i","74":"j","75":"k","76":"l","77":"m","78":"n","79":"o","80":"p","81":"q","82":"r","83":"s","84":"t","85":"u","86":"v","87":"w","88":"x","89":"y","90":"z","96":"0","97":"1","98":"2","99":"3","100":"4","101":"5","102":"6","103":"7","104":"8","105":"9","110":".","111":"/","106":"*","107":"+","109":"-","187":"=","189":"-","192":"`","220 ":"\\"};this.inputBlurInside=false;};$W._a.aa.prototype.toHTML=function(){["WebSquare.uiplugin.itemTable.toHTML"];var _5=new Date();var _6=[];var _7=(this.options.style=="")?"":"style='"+this.options.style+"'";_6.push("<div id='"+this.id+"' aria-expanded='true' "+_7+" class='"+this.options.w2table+" "+this.options.className+"' tabIndex='0'>");_6.push("</div>");return _6.join("");};$W._a.aa.prototype.addClickEventListener=function(_8){["WebSquare.uiplugin.itemTable.addClickEventListener"];this.clickFunc=_8;};$W._a.aa.prototype.addKeyDownEventListener=function(_9){["WebSquare.uiplugin.itemTable.addKeyDownEventListener"];this.keyDownFunc=_9;};$W._a.aa.prototype.setItemArr=function(_a){["WebSquare.uiplugin.itemTable.setItemArr"];var _b=[];var _c=(this.options.submenuSize=="")?"style='width:0px'":"style='table-layout:"+this.options.submenuSize+"; width:0px;'";_b.push("<table id='"+this.id+"_main"+"' "+_c+" class='"+this.options.w2table_main+"' cellpadding='0' cellspacing='0'>");for(var _d=0;_d<_a.length;++_d){_b.push("<tr class='"+this.options.w2table_row+"' row='"+_d+"'>");for(var _e=0;_e<1;++_e){var _f=this.options.escape?$W._B._encode(_a[_d].label):_a[_d].label;var _10=_a[_d].value;var _11=(this.options.defaultStyle=="")?"":"style='"+this.options.defaultStyle+"'";_b.push("<td id='"+this.id+"_"+_d+"' role='listitem option' aria-setsize='"+_a.length+"' aria-posinset='"+(_d+1)+"' "+_11+" class='"+this.options.w2table_col+"' col='"+_e+"' index='"+_d+"'>");if(this.options.checkbox==true){var _12=this.id+"_"+_d+"_checkbox";_b.push("<input type='checkbox' id='"+_12+"' class='"+this.options.w2table_col_checkbox+"' value='"+_10+"'/>");_b.push("<label type='checkbox' for='"+_12+"' class='"+this.options.w2table_col_label+"'>");_b.push(_f);_b.push("</label>");}else{_b.push(_f);}_b.push("</td>");}_b.push("</tr>");}_b.push("</table>");var _13=false;if(this.render.style.display=="none"){this.render.style.display="";_13=true;}this.render.innerHTML=_b.join("");this.mainTable=this.render.firstChild;this.dom["td"]=null;this.dom.tds=this.getDomList("td","td");if(this.dom.tds&&this.dom.tds.length>0){var _14=this.dom.tds[0].offsetHeight;var _15=0;var _16=0;var _17=(this.options.row>_a.length)?_a.length:this.options.row;this.setStyle("height",(_17*_14)+"px");for(var j=0;j<this.dom.tds.length;j++){var _19=parseInt($W._H.getStyle(this.dom.tds[j],"padding-left").wq_replaceAll("px",""),10)||0;var _1a=parseInt($W._H.getStyle(this.dom.tds[j],"padding-right").wq_replaceAll("px",""),10)||0;_15=_1a+_19;var _1b=0;var _1c=0;for(var i=0;i<this.dom.tds[j].childNodes.length;i++){if(this.dom.tds[j].childNodes[i].nodeType==1){_1b=$W._H.getStyle(this.dom.tds[j].childNodes[i],"margin-left").wq_replaceAll("px","");_1c=$W._H.getStyle(this.dom.tds[j].childNodes[i],"margin-right").wq_replaceAll("px","");_1b=(_1b==="auto")?2:parseInt(_1b,10);_1c=(_1c==="auto")?2:parseInt(_1b,10);if(this.hasClass(this.dom.tds[j].childNodes[i],"w2autoComplete_keyword")){_15=this.dom.tds[j].childNodes[i].offsetWidth+_1b+_1c;break;}else{_15+=this.dom.tds[j].childNodes[i].offsetWidth+_1b+_1c;}}else{_15+=this.dom.tds[j].offsetWidth;}}if(_16<_15){if($W._G.isIE("6")||$W._G.isIE("7")){_15=_15+_1a+_19+_1b+_1c;}_16=_15;}}_16=_16+17;this.maxWidth=_16;this.setStyle("width",_16+"px");}if(_13){this.render.style.display="none";}};$W._a.aa.prototype.setAction=function(){this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseOverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOutEvent));if($W._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){try{this.inputBlurInside=true;$W._c.stopPropagation(e);}catch(e){}}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){try{this.inputBlurInside=true;$W._c.stopPropagation(e);}catch(e){}}));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,function(e){try{$W._c.stopPropagation(e);}catch(e){}}));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));};$W._a.aa.prototype.handleMouseOverEvent=function(e){["WebSquare.uiplugin.itemTable.handleMouseMoveEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match(this.options.w2table_col)){var _23=this.getElementById(this.id).firstChild.firstChild.childNodes;for(var i=0;i<_23.length;i++){var _25=_23[i].firstChild;this.removeClass(_25,this.options.w2table_col_over);}this.selectedCell=it.getElement();this.addClass(this.selectedCell,this.options.w2table_col_over);}}}catch(ex){$W.exception.printStackTrace(ex);}};$W._a.aa.prototype.handleMouseOutEvent=function(e){["WebSquare.uiplugin.itemTable.handleMouseOutEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match(this.options.w2table_col)){this.removeClass(it.getElement(),this.options.w2table_col_over);this.selectedCell=null;}}}catch(ex){$W.exception.printStackTrace(ex);}};$W._a.aa.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.itemTable.handleClickEvent"];try{$W._c.stopPropagation(e);var _29=false;var _2a=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match(this.options.w2table_col)){this.selectedCell=it.getElement();if(this.options.checkbox&&!_29&&!_2a){var _2c=this.selectedCell.index||this.selectedCell.getAttribute("index");var _2d=document.getElementById(this.id+"_"+_2c+"_checkbox");if(!_2d.disabled){_2d.click();}}else{if(this.options.checkbox){var _2c=this.selectedCell.index||this.selectedCell.getAttribute("index");var _2d=document.getElementById(this.id+"_"+_2c+"_checkbox");if(!_2d.disabled&&!_2a){this.fireClick(e);}}else{this.fireClick(e);}}}else{if(it.match(this.options.w2table_col_checkbox)){_29=true;}else{if(it.match(this.options.w2table_col_label)){_2a=true;}}}}}catch(ex){$W.exception.printStackTrace(ex);}};$W._a.aa.prototype.focus=function(){["WebSquare.uiplugin.itemTable.focus"];try{this.inputBlurInside=true;if($W._G.isIEAllVersion()||$W._G.isSpartan()){this.render.firstChild.focus();}else{this.render.focus();}}catch(ex){$W.exception.printStackTrace(ex);}};$W._a.aa.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.itemTable.handleKeydownEvent"];try{var _2f=(e.charCode)?e.charCode:e.keyCode;var _30=this.getSelectedIndex();_30=parseInt(_30);if(_2f==38){if(_30>0){this.setSelectedIndex(_30-1);}}else{if(_2f==40){if(_30+1<this.getItemCount()){this.setSelectedIndex(_30+1);}}else{if(_2f==32){if(this.options.checkbox){var _31=document.getElementById(this.id+"_"+_30+"_checkbox");_31.click();}}else{if(_2f==33){var _32=_30-this.rowCount;if(_32<0){_32=0;}this.setSelectedIndex(_32);}else{if(_2f==34){var _32=_30+this.rowCount;if(_32>=this.getItemCount()){_32=this.getItemCount()-1;}this.setSelectedIndex(_32);}else{if(_2f==35){this.setSelectedIndex(this.getItemCount()-1);}else{if(_2f==36){this.setSelectedIndex(0);}else{if(_2f==13){if(!this.options.checkbox){this.fireClick(e);}}else{this.findItemStartedWithKeyChar(_2f);}}}}}}}}this.render.setAttribute("aria-activedescendant",this.id+"_"+this.getSelectedIndex());if(this.keyDownFunc){this.keyDownFunc(e);}$W._c.stopEvent(e);}catch(ex){$W.exception.printStackTrace(ex);}};$W._a.aa.prototype.setSelectedIndex=function(idx){["WebSquare.uiplugin.itemTable.setSelectedIndex"];if(!this.dom.tds){return;}idx=(idx<0)?0:(idx>=this.dom.tds.length)?this.dom.tds.length-1:idx;this.removeClass(this.selectedCell,this.options.w2table_col_over);this.selectedCell=this.dom.tds[idx];this.addClass(this.selectedCell,this.options.w2table_col_over);if(this.selectedCell.offsetTop>this.render.offsetHeight/2){var _34=Math.min(this.getItemCount(),this.rowCount);var _35=this.dom.tds[idx-parseInt(_34/2)];this.render.scrollTop=_35.offsetTop;}else{this.render.scrollTop=0;}};$W._a.aa.prototype.getItemCount=function(){["WebSquare.uiplugin.itemTable.getItemCount"];return this.dom.tds?this.dom.tds.length:0;};$W._a.aa.prototype.fireClick=function(e){["WebSquare.uiplugin.itemTable.prototype.fireClick"];try{var _37=this.selectedCell.index;if(typeof _37=="undefined"){_37=this.selectedCell.getAttribute("index");}this.clickFunc.call(e,_37);}catch(ex){$W.exception.printStackTrace(ex);}};$W._a.aa.prototype.findItemStartedWithKeyChar=function(_38){["WebSquare.uiplugin.itemTable.findItemStartedWithKeyChar"];try{var _39=this.keyCharHash[_38];var _3a=-1;if(_39){var _3b=this.selectedCell.index;if(typeof selectedIndex=="undefined"){_3b=this.selectedCell.getAttribute("index");}var _3c=0;while(1){++_3b;++_3c;_3b=_3b%this.dom.tds.length;if(this.dom.tds[_3b].innerHTML.toLowerCase().startsWith(_39)){_3a=_3b;break;}if(_3c>this.dom.tds.length){break;}}if(_3a>-1){this.setSelectedIndex(_3a);}}}catch(ex){$W.exception.printStackTrace(ex);}};$W._a.aa.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.itemTable.getSelectedIndex"];try{var _3d=-1;try{if(this.selectedCell){_3d=this.selectedCell.index;if(typeof _3d=="undefined"){_3d=this.selectedCell.getAttribute("index");}}}catch(e){}return _3d;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.gridItemTable=function(id,_3f,_40){["WebSquare.uiplugin.gridItemTable"];requires("uiplugin.grid");$W._t.call(this,id,_3f,_40);};$W.extend($W._a.gridItemTable.prototype,$W._t.prototype);$W._a.gridItemTable.prototype.defaultOptions={pluginType:"uiplugin.gridItemTable",pluginName:"gridItemTable"};$W._a.gridItemTable.prototype.initialize=function(_41){["WebSquare.uiplugin.gridItemTable.prototype.initialize"];try{var _42=[];var _43=[];for(var i=0;i<this.options.itemsetObj.items.length;i++){if(this.options.itemsetObj.items[i].style){var _45=this.options.itemsetObj.items[i].style.split(";");var _46=false;var _47=false;for(var j=0;j<_45.length;j++){var _49=_45[j].split(":");if(_49[0].wq_trim()=="width"){_42.push(parseInt(_49[1],10));_46=true;}else{if(_49[0].wq_trim()=="text-align"){_43.push(_49[1]);_47=true;}}if(_46&&_47){break;}}if(!_46){_42.push(70);}if(!_47){_43.push("center");}}else{_42.push(70);_43.push("center");}}var _4a=[];for(var i=0;i<this.options.itemsetObj.items.length;i++){if(this.options.itemsetObj.items[i].headerStyle){var _45=this.options.itemsetObj.items[i].headerStyle.split(";");for(var j=0;j<_45.length;j++){var _49=_45[j].split(":");if(_49[0].wq_trim()=="text-align"){_4a.push(_49[1]);break;}}if(j==_45.length){_4a.push("center");}}}var _4b=[];for(var i=0;i<this.options.itemsetObj.items.length;i++){var _4c=this.options.itemsetObj.items[i].hidden;if(_4c=="true"){_4b.push("true");}else{_4b.push("false");}}for(var i=0;i<this.options.itemsetObj.items.length;i++){if(!this.options.itemsetObj.items[i].id){this.options.itemsetObj.items[i].id=this.id+"_column_body_"+i;}}if(!this.options.gridOptions.visibleRowNum){this.options.gridOptions.visibleRowNum=this.options.visibleRowNum;}var _4d="position : absolute;";this.options.width=parseInt(this.options.gridOptions.width,10);this.options.height=parseInt(this.options.gridOptions.height,10);try{if(isNaN(this.options.height)){this.options.height=20*this.options.gridOptions.visibleRowNum;}if(isNaN(this.options.width)){this.options.width=eval(_42.join("+"))+18;}}catch(e){$W.exception.printStackTrace(e,null,this);}_4d+=" width : "+this.options.width+"px;";_4d+=" height : "+this.options.height+"px;";this.options.style=_4d;var _4e=[];_4e.push("<w2:grid xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:ev=\"http://www.w3.org/2001/xml-events\" xmlns:w2=\"http://www.inswave.com/websquare\" xmlns:xf=\"http://www.w3.org/2002/xforms\" ");_4e.push("id=\""+this.id+"_grid"+"\" style=\""+this.options.style+"\" class=\"w2gridItemTable_main\" readOnly=\"true\" ");_4e.push("focusMode=\"row\" enterKeyMove=\"none\" rowMouseOver=\""+this.options.gridOptions.rowMouseOver+"\" visibleRowNum=\""+this.options.gridOptions.visibleRowNum+"\" autoFit=\""+this.options.gridOptions.autoFit+"\" hideHeader=\""+this.options.gridOptions.hideHeader+"\" rowMouseOverColor=\""+this.options.gridOptions.rowMouseOverColor+"\" selectedRowColor=\""+this.options.gridOptions.selectedRowColor+"\">");_4e.push("<w2:header style=\"height:20px;\" id=\"header\">");_4e.push("<w2:row>");for(var i=0;i<this.options.itemsetObj.items.length;i++){_4e.push("<w2:column inputType=\"text\" style=\"height:20px;\" width=\""+_42[i]+"\" textAlign=\""+_4a[i]+"\" id=\""+this.id+"_column_header_"+i+"\" value=\""+(this.options.itemsetObj.items[i].header||"")+"\">");_4e.push("</w2:column>");}_4e.push("</w2:row>");_4e.push("</w2:header>");_4e.push("<w2:gBody id=\"gBody\">");_4e.push("<w2:row>");for(var i=0;i<this.options.itemsetObj.items.length;i++){_4e.push("<w2:column inputType=\"text\" style=\"height:20px;\" width=\""+_42[i]+"\" textAlign=\""+_43[i]+"\" id=\""+this.options.itemsetObj.items[i].id+"\" hidden=\""+_4b[i]+"\">");_4e.push("</w2:column>");}_4e.push("</w2:row>");_4e.push("</w2:gBody>");_4e.push("</w2:grid>");var _4f=$W._B.parse(_4e.join(""),true);this.grid=new $W._a._E(this.id+"_grid",{},_4f.firstChild);this.addControl(this.grid);this.inputBlurInside=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.gridItemTable.prototype.toHTML=function(){["WebSquare.uiplugin.gridItemTable.toHTML"];var _50=[];var _51=(this.options.style=="")?"":"style='"+this.options.style+"'";_50.push("<div id='"+this.id+"' aria-expanded='true' "+_51+" class='w2gridItemTable "+this.options.className+"'>");_50.push(this.grid.toHTML());_50.push("</div>");return _50.join("");};$W._a.gridItemTable.prototype.setAction=function(){["WebSquare.uiplugin.gridItemTable.prototype.setAction"];this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){try{this.inputBlurInside=true;$W._c.stopPropagation(e);}catch(e){}}));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,function(e){try{$W._c.stopPropagation(e);}catch(e){}}));};$W._a.gridItemTable.prototype.setFocusedCell=function(row,col){this.inputBlurInside=true;this.grid.setFocusedCell(row,col);};$W._a.gridItemTable.prototype.setSelectedIndex=function(idx,_57){["WebSquare.uiplugin.gridItemTable.setSelectedIndex"];var _58=this.grid.getDataLength();if(_58==0){return;}idx=(idx<0)?0:(idx>=_58)?_58-1:idx;var _59=0;for(var i=0;i<this.grid._dataList.filteredRowIndexArr.length;i++){if(idx==this.grid._dataList.filteredRowIndexArr[i]){idx=i;break;}}var _5b=this.grid.getVisibleRowNum();var _5c=idx-parseInt(_5b/2);this.grid.setTopRowIndex(_5c);if(!_57){this.setFocusedCell(idx,0);}};$W._a.gridItemTable.prototype.hide=function(){try{this.inputBlurInside=false;$W._H.hide(this.render);}catch(e){$W.exception.printStackTrace(e);}};$W._a.gridViewItemTable=function(id,_5e,_5f){["WebSquare.uiplugin.gridViewItemTable"];requires("uiplugin/gridView/gridView.js");$W._t.call(this,id,_5e,_5f);};$W.extend($W._a.gridViewItemTable.prototype,$W._t.prototype);$W._a.gridViewItemTable.prototype.defaultOptions={pluginType:"uiplugin.gridViewItemTable",pluginName:"gridViewItemTable"};$W._a.gridViewItemTable.prototype.initialize=function(_60){["WebSquare.uiplugin.gridViewItemTable.prototype.initialize"];try{var _61=[];var _62=[];this.searchFlag=false;var _63=null;if(this.options.gridViewOptions.dataComp){var _64=this.options.gridViewOptions.dataComp.cellIdList;var _65=[];for(var i=0;i<_64.length;i++){var obj={};obj.id=_64[i];_65.push(obj);}var _68=this.id+"_searchDataList";if(this.searchFlag==false){$w.data.create({"id":_68,"type":"dataList","option":{"baseNode":"vactor","repeatNode":"list","valueAttribute":""},"columnInfo":_65});this.searchFlag=true;}_63=$W._G.getComponentById(_68);_63.setData(this.options.gridViewOptions.dataComp.getAllData());}for(var i=0;i<this.options.itemsetObj.items.length;i++){if(this.options.itemsetObj.items[i].style){var _69=this.options.itemsetObj.items[i].style.split(";");var _6a=false;var _6b=false;for(var j=0;j<_69.length;j++){var _6d=_69[j].split(":");if(_6d[0].wq_trim()=="width"){_61.push(parseInt(_6d[1],10));_6a=true;}else{if(_6d[0].wq_trim()=="text-align"){_62.push(_6d[1]);_6b=true;}}if(_6a&&_6b){break;}}if(!_6a){_61.push(70);}if(!_6b){_62.push("center");}}else{_61.push(70);_62.push("center");}}var _6e=[];for(var i=0;i<this.options.itemsetObj.items.length;i++){if(this.options.itemsetObj.items[i].headerStyle){var _69=this.options.itemsetObj.items[i].headerStyle.split(";");for(var j=0;j<_69.length;j++){var _6d=_69[j].split(":");if(_6d[0].wq_trim()=="text-align"){_6e.push(_6d[1]);break;}}if(j==_69.length){_6e.push("center");}}}var _6f=[];for(var i=0;i<this.options.itemsetObj.items.length;i++){var _70=this.options.itemsetObj.items[i].hidden;if(_70=="true"){_6f.push("true");}else{_6f.push("false");}}for(var i=0;i<this.options.itemsetObj.items.length;i++){if(!this.options.itemsetObj.items[i].id){this.options.itemsetObj.items[i].id=this.id+"_column_body_"+i;}}if(!this.options.gridViewOptions.visibleRowNum){this.options.gridViewOptions.visibleRowNum=this.options.visibleRowNum;}var _71="position : absolute;";this.options.width=parseInt(this.options.gridViewOptions.width,10);this.options.height=parseInt(this.options.gridViewOptions.height,10);try{if(isNaN(this.options.height)){this.options.height=20*this.options.gridViewOptions.visibleRowNum;}if(isNaN(this.options.width)){this.options.width=eval(_61.join("+"))+18;}}catch(e){$W.exception.printStackTrace(e,null,this);}_71+=" width : "+this.options.width+"px;";_71+=" height : "+this.options.height+"px;";this.options.style=_71;var _72=[];_72.push("<w2:gridView xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:ev=\"http://www.w3.org/2001/xml-events\" xmlns:w2=\"http://www.inswave.com/websquare\" xmlns:xf=\"http://www.w3.org/2002/xforms\" ");_72.push("id=\""+this.id+"_gridView"+"\" style=\""+this.options.style+"\" class=\"w2gridViewItemTable_main\" readOnly=\"true\" ");_72.push("focusMode=\"row\" enterKeyMove=\"none\" rowMouseOver=\""+this.options.gridViewOptions.rowMouseOver+"\" visibleRowNum=\""+this.options.gridViewOptions.visibleRowNum+"\" autoFit=\""+this.options.gridViewOptions.autoFit+"\" hideHeader=\""+this.options.gridViewOptions.hideHeader+"\" rowMouseOverColor=\""+this.options.gridViewOptions.rowMouseOverColor+"\" selectedRowColor=\""+this.options.gridViewOptions.selectedRowColor+"\">");_72.push("<w2:header style=\"height:20px;\" id=\"header\">");_72.push("<w2:row>");for(var i=0;i<this.options.itemsetObj.items.length;i++){_72.push("<w2:column inputType=\"text\" style=\"height:20px;\" width=\""+_61[i]+"\" textAlign=\""+_6e[i]+"\" id=\""+this.id+"_column_header_"+i+"\" value=\""+(this.options.itemsetObj.items[i].header||"")+"\">");_72.push("</w2:column>");}_72.push("</w2:row>");_72.push("</w2:header>");_72.push("<w2:gBody id=\"gBody\">");_72.push("<w2:row>");for(var i=0;i<this.options.itemsetObj.items.length;i++){_72.push("<w2:column inputType=\"text\" style=\"height:20px;\" width=\""+_61[i]+"\" textAlign=\""+_62[i]+"\" id=\""+this.options.itemsetObj.items[i].ref+"\" hidden=\""+_6f[i]+"\">");_72.push("</w2:column>");}_72.push("</w2:row>");_72.push("</w2:gBody>");_72.push("</w2:gridView>");var _73=$W._B.parse(_72.join(""),true);this.gridView=new $W._a.au(this.id+"_gridView",{dataList:_63==null?"":_63.id},_73.firstChild);this.addControl(this.gridView);this.inputBlurInside=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.gridViewItemTable.prototype.toHTML=function(){["WebSquare.uiplugin.gridViewItemTable.toHTML"];var _74=[];var _75=(this.options.style=="")?"":"style='"+this.options.style+"'";_74.push("<div id='"+this.id+"' aria-expanded='true' "+_75+" class='w2gridItemTable "+this.options.className+"'>");_74.push(this.gridView.toHTML());_74.push("</div>");return _74.join("");};$W._a.gridViewItemTable.prototype.setAction=function(){["WebSquare.uiplugin.gridViewItemTable.prototype.setAction"];this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){try{this.inputBlurInside=true;$W._c.stopPropagation(e);}catch(e){}}));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,function(e){try{$W._c.stopPropagation(e);}catch(e){}}));};$W._a.gridViewItemTable.prototype.setFocusedCell=function(row,col){this.inputBlurInside=true;this.gridView.setFocusedCell(row,col);};$W._a.gridViewItemTable.prototype.setSelectedIndex=function(idx,_7b){["WebSquare.uiplugin.gridViewItemTable.setSelectedIndex"];var _7c=this.gridView.getDataLength();if(_7c==0){return;}idx=(idx<0)?0:(idx>=_7c)?_7c-1:idx;var _7d=0;for(var i=0;i<this.gridView._dataList.filteredRowIndexArr.length;i++){if(idx==this.gridView._dataList.filteredRowIndexArr[i]){idx=i;break;}}var _7f=this.gridView.getVisibleRowNum();var _80=idx-parseInt(_7f/2);this.gridView.setTopRowIndex(_80);if(!_7b){this.setFocusedCell(idx,0);}};$W._a.gridViewItemTable.prototype.hide=function(){try{this.inputBlurInside=false;$W._H.hide(this.render);}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.itemTable=$W._a.aa;requires("uiplugin/control/itemsetControl.js");requires("uiplugin/table/itemTable.js");requires("engine/validator.js");$W._a._q=function(id,_2,_3){["WebSquare.uiplugin.selectbox"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._q.prototype,$W._t.prototype);$W.extend($W._a._q.prototype,$W.itemsetControl.prototype);$W.extend($W._a._q.prototype,$W.IValidate.prototype);$W._a._q.prototype.defaultOptions={pluginType:"uiplugin.selectbox",pluginName:"selectbox",renderType:"component",userEvents:["onchange","onclose","onviewchange"],systemEvents:["onclick","ondblclick","onblur","onfocus"],useOtherComponentId:"",useConfig:true,value:"",chooseOption:false,chooseOptionLabel:"",chooseOptionValue:"",allOption:false,sortOption:"",sortMethod:"",wmode:false,visibleRowNum:5,displayMode:"0",delimiter:"\t",textAlign:"",defaultStyle:"",activeStyle:"",defaultClass:"w2SelectDefault",activeClass:"w2SelectActive",disabledClass:"w2selectbox_disabled",useLocale:false,submenuSize:"auto",direction:"auto",tooltipDisplay:false,tooltipClass:"",tooltipTime:1,mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,labelWidthAuto:false,initValue:"",title:"",setDataRemoveAll:true,escape:false,emptyItem:false,emptyValue:"",optionOrder:"choose"};$W._a._q.prototype.initialize=function(_4){["WebSquare.uiplugin.selectbox.initialize"];try{this.itemTable=null;this.gridOptions={};this.gridViewOptions={};this.isOpen=false;this.statusSubLayer=false;this.selectedIndex=-1;this.cursorIndex=-1;this.showRowIndex=0;this.displayCount=0;this.tooltip=null;this.timeShowTooltip=null;this.timeHideTooltip=null;this.defaultAllOptionLabel=$W._m.getMessage("SelectBox_all");if(_4&&_4.getAttribute("chooseOptionLabel")=="$blank"){this.defaultChooseOptionLabel="";}else{this.defaultChooseOptionLabel=$W._m.getMessage("SelectBox_choose");}switch(this.options.displayMode){case "0":case "1":case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";}if(_4){var _5=_4.tagName.split(":")[0];var _6=(_5=="xf")?$W._N._XML_NAMESPACE.XFORMS:$W._N._XML_NAMESPACE.W2;var _7=$W._B.findNode(_4,"*['"+"choices"+"'=local-name()]['"+_6+"'=namespace-uri()]");if(_7){var _8=$W._B.findNode(_7,"*['"+"gridItemset"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_8==null){_8=$W._B.findNode(_7,"*['"+"gridViewItemset"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");}if(_8&&_8.nodeName=="w2:gridItemset"){this.itemTableMode="grid";}else{if(_8&&_8.nodeName=="w2:gridViewItemset"){this.itemTableMode="gridView";}}}}if(this.itemTableMode=="grid"){this.initializeGridItemArr(_4);}else{if(this.itemTableMode=="gridView"){this.initializeGridViewItemArr(_4);}else{this.initializeItemArr(_4);}}this.validator=new $W._p.validateInvoker(this.id,this.options);this.keyCharHash={"48":"0","49":"1","50":"2","51":"3","52":"4","53":"5","54":"6","55":"7","56":"8","57":"9","65":"a","66":"b","67":"c","68":"d","69":"e","70":"f","71":"g","72":"h","73":"i","74":"j","75":"k","76":"l","77":"m","78":"n","79":"o","80":"p","81":"q","82":"r","83":"s","84":"t","85":"u","86":"v","87":"w","88":"x","89":"y","90":"z","96":"0","97":"1","98":"2","99":"3","100":"4","101":"5","102":"6","103":"7","104":"8","105":"9","110":".","111":"/","106":"*","107":"+","109":"-","187":"=","189":"-","192":"`","220 ":"\\"};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.finalize=function(){["WebSquare.uiplugin.selectbox.finalize"];try{$W._t.prototype.finalize.call(this);if(this.itemTable){this.itemTable.remove();this.itemTable=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.toHTML=function(){["WebSquare.uiplugin.selectbox.toHTML"];try{var _9=[];var _a=(this.options.style=="")?"":"style='"+this.options.style+"'";var _b=(this.options.title=="")?"":"title='"+this.options.title+"'";var _c=(this.options.defaultStyle=="")?"":"style='"+this.options.defaultStyle+"'";var _d=(this.options.textAlign=="")?_c:"style='text-align:"+this.options.textAlign+";"+this.options.defaultStyle+"'";_9.push("<div id='"+this.id+"' role='combobox' aria-labelledby='"+this.id+"_itemTable' aria-autocomplete='none' "+_a+" class='w2selectbox "+this.options.className+"' tabIndex='0' "+_b+">");_9.push("<table class='w2selectbox_table_main'  cellpadding='0' cellspacing='0'>");_9.push("<tbody id='"+this.id+"_main_tbody'>");_9.push("<tr class='w2selectbox_row w2selectbox_row_main'>");_9.push("<td class='w2selectbox_col_label' "+_c+"><div id='"+this.id+"_label' role='document' aria-live='assertive' aria-automatic='true' class='w2selectbox_label' "+_d+"></div></td>");_9.push("<td class='w2selectbox_col_button' id='"+this.id+"_button'  aria-labelledby='"+this.id+"_itemTable' aria-controls='"+this.id+"_itemTable'></td>");_9.push("</tr></tbody>");_9.push("</table>");_9.push("</div>");return _9.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setPreAction=function(){["WebSquare.uiplugin.selectbox.setPreAction"];try{this.dom.button=this.getElementById(this.id+"_button");this.dom.label=this.getElementById(this.id+"_label");this.dom.tbody=this.getElementById(this.id+"_main_tbody");if(this.options.useOtherComponentId){$W._N.setTimer(function(){this.otherComponent=$W._G.getComponentById(this.options.useOtherComponentId);$W.getBody().getLayerListener().useOtherComponentId[this.id]=this.options.useOtherComponentId;$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,paramHide:{"documentClick":true},event:{}});this.event.addListener(this.otherComponent.render,"onmousedown",this.event.bindAsEventListener(this.otherComponent,function(e){$W._c.stopPropagation(e);}));this.otherComponent.hide();},{key:this.options.useOtherComponentId,caller:this,delay:100});}else{if(this.itemTableMode=="grid"){$W.getBody().getLayerListener().useOtherComponentId[this.id]=this.id+"_gridItemTable";$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,paramHide:{"documentClick":true},event:{}});}else{if(this.itemTableMode=="gridView"){$W.getBody().getLayerListener().useOtherComponentId[this.id]=this.id+"_gridViewItemTable";$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,paramHide:{"documentClick":true},event:{}});}else{$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,paramHide:{"documentClick":true},event:{}});}}}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if($W._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,this.handleMousewheelEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}else{if(this.options.labelWidthAuto===true){this.setLabelWidthByItemLength();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setAction=function(){["WebSquare.uiplugin.selectbox.setAction"];try{if(this.modelControl.isBinded()){var _11=this.modelControl.getData();this.setValueNM(_11);}if(this.selectedIndex==-1&&this.getItemCount()>0){if(this.modelControl.isBinded()){var _11=this.getValue();if(this.options.emptyRef){var _12=this.getItemCount();for(var i=0;i<_12;i++){if(this.itemArr[i].value==_11){this.setSelectedIndexNM(0);this.modelControl.setData(_11);break;}}}else{this.setSelectedIndexNM(0);this.modelControl.setData(_11);}}else{this.setSelectedIndexNM(0);this.broadcast({"linkedDataList":["refresh",["replace"]]});}}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.refreshItemset=function(_14){["WebSquare.uiplugin.selectbox.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw(false,_14);if(this.itemTableMode=="grid"){this.refreshGridItemArr();if(this.itemTable!=null&&this.itemTable.grid!=null){this.itemTable.grid.clearFilter();this.setGridData();if(this.options.allOption&&this.gridItemArr.length>0){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue,orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);}}else{if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue,orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);}}}else{if(this.itemTableMode=="gridView"){this.refreshGridViewItemArr();if(this.itemTable!=null&&this.itemTable.gridView!=null){var _15=$W._G.getComponentById(this.itemTable.gridView.options.dataList);_15.setData(this.gridViewItemArr,false);this.setGridViewData();}else{if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue,orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);}}}}if(this.modelControl.isBinded()){this.refresh();}else{if(this.options.submenuSize=="auto"){if(this.itemTable){var _16=this.getMaxLabelSize();this.itemTable.setStyle("width",_16+"px");}}if(this.getSelectedIndex()==-1&&(this.getValue()==null||this.getValue()==="")){this.setSelectedIndexNM(0);}}}this.broadcast({"linkedDataList":["refresh",["replace"]]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.refresh=function(){["WebSquare.uiplugin.selectbox.refresh"];try{if(this.modelControl.isBinded()){if(this.modelControl.isDataCollectionItemsetBinded){this.refreshItemArr();}var _17=this.getValue();var _18=this.modelControl.getData();if(this.setValueNM(_18)==true){if(_17!=this.getValue()){$W._c.fireEvent(this,"onchange");}if(this.getValue()!=null&&_18!=this.getValue()){this.modelControl.setData(this.getValue());}this.broadcast({"linkedDataList":["refresh",["replace"]]});}else{if(this.options.emptyItem){this.setSelectedIndex(-1);}else{this.setSelectedIndex(0);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.changeChooseOption=function(_19,_1a){["WebSquare.uiplugin.selectbox.changeChooseOption"];try{var _1b=-2;if(this.options.chooseOption===true){_1b=getItemIndex(this,this.options.chooseOptionValue);if(_1b>-1){this.itemArr.splice(_1b,1);}}this.options.chooseOption=true;this.options.chooseOptionValue=_19;this.options.chooseOptionLabel=_1a;this.itemArr=[{label:_1a,value:_19}].concat(this.itemArr);if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}if(_1b===this.getSelectedIndex()||this.getSelectedIndex()===-1){this.setSelectedIndex(0);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.showChooseOption=function(_1c){["WebSquare.uiplugin.selectbox.setChooseOption"];try{var _1d=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_1d=$W._B.decode(_1d).replace("&nbsp;"," ");var _1e=this.options.chooseOptionValue;var _1f=-2;if(_1c==true){if(this.options.chooseOption!=_1c){if(this.options.optionOrder=="all"){if(this.options.allOption==true){this.itemArr.splice(1,0,{label:_1d,value:_1e});}else{this.itemArr=[{label:_1d,value:_1e}].concat(this.itemArr);}}else{this.itemArr=[{label:_1d,value:_1e}].concat(this.itemArr);}}}else{if(this.options.chooseOptions!=_1c){for(var i=0;i<this.itemArr.length;i++){if(this.itemArr[i].label==_1d){this.itemArr.splice(i,1);break;}}}}if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}if(_1f===this.getSelectedIndex()||this.getSelectedIndex()===-1||this.getSelectedIndex()===0){this.setSelectedIndex(0);}this.options.chooseOption=_1c;}catch(e){$W.exception.printStackTrace(e,null,this);}};function getItemIndex(obj,_22){var _23=obj.getItemCount();for(var i=0;i<_23;i++){if(obj.itemArr[i].value===_22){return i;}}return -1;}$W._a._q.prototype.componentRedraw=function(_25,_26){["WebSquare.uiplugin.selectbox.componentRedraw"];try{this.showRowIndex=0;if(this.options.labelWidthAuto===true){this.setLabelWidthByItemLength();}if(this.itemTableMode!="grid"&&this.itemTableMode!="gridView"){this.setSelectOptions();}if(this.itemArr.length>0){var _27=0;if(_26){if(_26!="replace"&&this.getSelectedIndex()>-1){_27=this.getSelectedIndex();}this.setSelectedIndexNM(_27);return;}var _28=this.itemArr[_27].label+"";if(_28.indexOf("&")>-1){_28=_28.wq_replaceAll("&","&amp;");}if(this.options.escape){_28=$W._B._encode(_28);}this.dom.label.innerHTML=_28;}else{this.dom.label.innerHTML="";}this.setValueNM("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setLabelWidthByItemLength=function(){["WebSquare.uiplugin.selectbox.setLabelWidthByItemLength"];try{var _29=this.getMaxLabelSize();this.render.style.width=_29+"px";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.getMaxLabelSize=function(){["WebSquare.uiplugin.selectbox.getMaxLabelSize"];try{if(!this.labelRuler){this.labelRuler=document.createElement("div");this.labelRuler.style.position="absolute";this.labelRuler.style.top="-1000px";this.labelRuler.style.left="-1000px";this.labelRuler.style.visibility="hidden";document.body.appendChild(this.labelRuler);}var _2a=0;for(var i=0;i<this.itemArr.length;i++){var _2c=document.getElementById("selectbox_ruler");this.labelRuler.innerHTML=this.itemArr[i].label;if(this.labelRuler.offsetWidth>_2a){_2a=this.labelRuler.offsetWidth;}}var _2d=document.getElementById(this.id+"_button");var _2e=0;if(_2d){_2e=_2d.offsetWidth;}return _2a+_2e+10;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setSubLayer=function(){["WebSquare.uiplugin.selectbox.setSubLayer"];try{var _2f=this;if(this.itemTable==null){if(this.itemTableMode=="grid"){this.itemTable=new $W._a.gridItemTable(this.id+"_gridItemTable",{itemsetObj:this.itemsetObj,className:this.options.className,gridOptions:this.gridOptions,visibleRowNum:this.options.visibleRowNum});this.itemTable.writeTo($W.getBody(),null,this.parentFrame);this.itemTable.activate();this.itemTable.grid.addEvent("oncellclick",function(row,col){_2f.focus();row=this.getRealRowIndex(row);_2f.setSelectedIndex1(row);});this.event.addListener(this.itemTable.grid.render,"onkeydown",this.event.bindAsEventListener(this.itemTable.grid,function(e){var _33=(e.charCode)?e.charCode:e.keyCode;if(_33==13){_2f.focus();var row=this.getRealRowIndex(this.getFocusedRowIndex());_2f.setSelectedIndex1(row);}}));this.setGridData();}else{if(this.itemTableMode=="gridView"){this.itemTable=new $W._a.gridViewItemTable(this.id+"_gridViewItemTable",{itemsetObj:this.itemsetObj,className:this.options.className,gridViewOptions:this.gridViewOptions,visibleRowNum:this.options.visibleRowNum});this.itemTable.writeTo($W.getBody(),null,this.parentFrame);this.itemTable.activate();this.itemTable.gridView.addEvent("oncellclick",function(row,col){_2f.focus();row=this.getRealRowIndex(row);_2f.setSelectedIndex1(row);});this.event.addListener(this.itemTable.gridView.render,"onkeydown",this.event.bindAsEventListener(this.itemTable.gridView,function(e){var _38=(e.charCode)?e.charCode:e.keyCode;if(_38==13){_2f.focus();var row=this.getRealRowIndex(this.getFocusedRowIndex());_2f.setSelectedIndex1(row);}}));this.setGridViewData();}else{this.itemTable=new $W._a.aa(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:this.options.submenuSize,style:"position:absolute;",defaultStyle:"text-align:"+this.options.textAlign+";"+this.options.defaultStyle,className:"w2table "+this.options.className,w2table:"w2table_sb",w2table_main:"w2table_sb_main",w2table_row:"w2table_sb_row",w2table_col:"w2table_sb_col",w2table_col_over:"w2table_sb_col_over",escape:this.options.escape});this.itemTable.writeTo($W.getBody(),null,this.parentFrame);this.itemTable.activate();this.itemTable.addClickEventListener(function(_3a){["WebSquare.uiplugin.selectbox.itemTable.addClickEventListener"];_2f.focus();_2f.setSelectedIndex1(_3a);});this.setSelectOptions();this.setItemTable();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setGridData=function(){["WebSquare.uiplugin.selectbox.setGridData"];try{this.itemTable.grid.setData(this.gridItemArr);if(this.options.allOption&&this.gridItemArr.length>0){var _3b=[];var _3c=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_3c==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_3c=j;}_3b.push("");}_3b[_3c==-1?0:_3c]=this.defaultAllOptionLabel;this.itemTable.grid.setRowData(0,_3b,false);}if(this.itemsetObj.sortIndex&&this.gridItemArr.length>0){var _3e=[];if(this.options.allOption){var col=this.itemsetObj.sortIndex.split(" ")[0];var _40=this.itemTable.grid.getCellInfo(col).options.dataType;var _41=parseInt(this.itemsetObj.sortOrder.split(" ")[0],10);_3e[0]=function(a,b,i,j){if(i==0){return -1;}else{if(j==0){return 1;}else{if(_40=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_41;}else{if(a<b){return -1*_41;}else{return 0;}}}}};}this.itemTable.grid.multisort({sortIndex:this.itemsetObj.sortIndex,sortOrder:this.itemsetObj.sortOrder,sortFuncArr:_3e});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setGridViewData=function(){["WebSquare.uiplugin.selectbox.setGridViewData"];try{var _46=$W._G.getComponentById(this.itemTable.gridView.options.dataList);if(this.options.allOption&&!this.options.chooseOption){var _47=_46.getAllData();var _48=$W._m.getMessage("SelectBox_all")||"-\uc804\uccb4-";if(_47[0]!=_48){var _49=[];var _4a=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_4a==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_4a=j;}_49.push("");}_49[_4a==-1?0:_4a]=this.defaultAllOptionLabel;_46.setRowData(0,_49,false);}}else{if(this.options.chooseOption&&!this.options.allOption){var _47=_46.getAllData();var _4c=$W._m.getMessage("SelectBox_choose")||"-\uc120\ud0dd-";if(_47[0]!=_4c){var _49=[];var _4a=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_4a==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_4a=j;}_49.push("");}_49[_4a==-1?0:_4a]=this.options.chooseOptionLabel;_46.setRowData(0,_49,false);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setSelectOptions=function(){["WebSquare.uiplugin.selectbox.setSelectOptions"];try{if(this.itemTable!=null&&this.itemTableMode!="grid"&&this.itemTableMode!="gridView"){this.itemTable.setItemArr(this.itemArr);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setItemTable=function(){["WebSquare.uiplugin.selectbox.setItemTable"];try{var _4d=this.render.offsetWidth;var _4e=this.render.offsetHeight;var _4f=document.body.offsetWidth;var _50;var _51=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(this.render);var tds=this.itemTable.render.getElementsByTagName("td");if(tds&&tds.length>0){_50=0;var _54=Math.min(this.getItemCount(),this.options.visibleRowNum);for(var i=0;i<_54;i++){_50+=tds[i].offsetHeight;}this.itemTable.setStyle("height",_50+"px");}else{this.itemTable.setStyle("height","0px");}if(this.itemTable.getStyle("overflow-x")=="auto"){_50+=20;this.itemTable.setStyle("height",_50+"px");}if(this.options.submenuSize=="fixed"){this.itemTable.setStyle("width",(_4d-2)+"px");if(this.itemTable.render.offsetHeight>=this.itemTable.render.scrollHeight){this.itemTable.render.firstChild.style.width=(_4d)+"px";}else{this.itemTable.render.firstChild.style.width=(_4d-17)+"px";}}else{if(this.options.submenuSize=="auto"){var _56=this.render.offsetWidth;var _57=this.itemTable.render.clientWidth;if(_4f>_56){if(_4f<_57){_57=_4f-2;}}if(_57<_56-2){_57=_56-2;}this.itemTable.setStyle("width",_57+"px");if(this.itemTable.render.clientHeight>=this.itemTable.render.scrollHeight||this.getItemCount()<=this.options.visibleRowNum){this.itemTable.render.firstChild.style.width=_57+"px";}else{this.itemTable.render.firstChild.style.width=(_57-17)+"px";var _58=this.itemTable.render.firstChild.offsetWidth;if(_58>_4f){_58=_4f-17;}if(_58>_57-17){this.itemTable.render.firstChild.style.width=_58+"px";this.itemTable.setStyle("width",(_58+17)+"px");}}if(this.getItemCount()===0){this.itemTable.setStyle("width","0px");this.itemTable.render.firstChild.style.width="0px";}}else{if(this.itemTable.render.scrollHeight-this.itemTable.render.offsetHeight>1){this.itemTable.setStyle("width",(this.itemTable.render.firstChild.offsetWidth+17)+"px");}}}var _59=this.options.direction;if(_59=="auto"){var _5a=document.body.scrollTop;if(_5a<document.documentElement.scrollTop){_5a=document.documentElement.scrollTop;}var _5b=top-_5a;var _5c=document.documentElement.clientHeight-(_5b+this.render.offsetHeight);var _5d=this.itemTable.render.offsetHeight;if(_5c<_5d&&_5b>_5d){_59="up";}}if(_59=="up"){top=top-this.itemTable.render.offsetHeight;}else{top=top+this.render.offsetHeight;}if(document.documentElement.clientWidth<(_51+this.itemTable.render.offsetWidth)){_51=_51+this.render.offsetWidth-this.itemTable.render.offsetWidth;if(_51<0){_51=$W._H.getAbsoluteLeft(this.render);_57=document.body.offsetWidth-17-_51;this.itemTable.setStyle("width",_57+"px");if(this.itemTable.getStyle("overflow-x")!="auto"){_50+=20;}this.itemTable.setStyle("height",_50+"px");this.itemTable.setStyle("overflow-x","auto");}else{this.itemTable.setStyle("overflow-x","hidden");}}else{var _57=this.itemTable.render.firstChild.offsetWidth;var _5e=this.itemTable.render.clientWidth;if((_51+_57)<_4f&&this.itemTable.getStyle("overflow-x")=="auto"){var _5f=(_57>_5e)?_57:_5e;_50-=20;this.itemTable.setStyle("height",_50+"px");this.itemTable.setStyle("width",_5f+"px");this.itemTable.setStyle("overflow-x","hidden");}}this.itemTable.setPosition(_51,top);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setSelectItemArr=function(){["WebSquare.uiplugin.selectbox.setSelectItemArr"];try{if(this.options.sortOption!=""){var _60=[];var _61=null;if(this.options.sortOption=="label"){_61=function(){return this.label;};}else{if(this.options.sortOption=="value"){_61=function(){return this.value;};}}for(var i=0;i<this.itemArr.length;i++){var _63=this.itemArr[i];_63.toString=_61;_60.push(_63);}_60.sort();if(this.options.sortMethod=="descending"){_60.reverse();}this.itemArr=_60;}if(this.options.displayMode!="0"){for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].label=this.getItemText(i);}}if(this.options.optionOrder=="all"){if(this.options.chooseOption==true){var _64=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_64=$W._B.decode(_64).replace("&nbsp;"," ");this.itemArr=[{label:_64,value:this.options.chooseOptionValue}].concat(this.itemArr);}if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue}].concat(this.itemArr);}}else{if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue}].concat(this.itemArr);}if(this.options.chooseOption==true){var _64=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_64=$W._B.decode(_64).replace("&nbsp;"," ");this.itemArr=[{label:_64,value:this.options.chooseOptionValue}].concat(this.itemArr);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.getItemText=function(idx){["WebSquare.uiplugin.selectbox.getItemText"];try{var _66="";if(idx>-1&&idx<this.getItemCount()){_66=this.itemArr[idx].label;switch(this.options.displayMode){case "0":break;case "1":_66=this.itemArr[idx].value+this.options.delimiter+_66;break;case "2":_66=_66+this.options.delimiter+this.itemArr[idx].value;break;default:}}return _66;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.toggle=function(){["WebSquare.uiplugin.selectbox.toggle"];try{if(this.isOpen){this.closeSubLayer();}else{this.openSubLayer();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.openSubLayer=function(){["WebSquare.uiplugin.selectbox.openSubLayer"];try{$W.getBody().getLayerListener().show(this.id);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype._openSubLayer=function(){["WebSquare.uiplugin.selectbox._openSubLayer"];try{this.setSubLayer();if(!this.isOpen){this.itemTable.show();this.itemTable.render.setAttribute("aria-expended","true");this.setItemTable();if(this.options.wmode==true){$W.getBody().showWModeFrame(this.getPluginName(),this.itemTable.render);}this.itemTable.focus();if(this.selectedIndex!=-1){this.itemTable.setSelectedIndex(this.selectedIndex);}this.isOpen=true;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype._openOtherLayer=function(){["WebSquare.uiplugin.selectbox._openOtherLayer"];try{var _67=this.otherComponent;if(this.itemTableMode=="grid"||this.itemTableMode=="gridView"){this.setSubLayer();_67=this.itemTable;}if(!this.isOpen){_67.show();var _68=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(this.render);var _6a=this.options.direction;if(_6a=="auto"){var _6b=document.body.scrollTop;if(_6b<document.documentElement.scrollTop){_6b=document.documentElement.scrollTop;}var _6c=top-_6b;var _6d=document.documentElement.clientHeight-(_6c+this.render.offsetHeight);var _6e=_67.render.offsetHeight;if(_6d<_6e&&_6c>_6e){_6a="up";}}if(_6a=="up"){top=top-_67.render.offsetHeight;}else{top=top+this.render.offsetHeight;}if(document.documentElement.clientWidth<(_68+_67.render.offsetWidth)){_68=_68+this.render.offsetWidth-_67.render.offsetWidth;}_67.setPosition(_68,top);this.isOpen=true;}if(this.itemTableMode=="grid"){var _6f;if(this.targetFocusedIndex!=null){_6f=this.targetFocusedIndex;}else{_6f=this.itemTable.grid.getFocusedRowIndex();if(_6f==-1){_6f=0;}}this.itemTable.grid.setFocusedCell(_6f,0);this.targetFocusedIndex=null;}else{if(this.itemTableMode=="gridView"){var _6f;if(this.targetFocusedIndex!=null){_6f=this.targetFocusedIndex;}else{_6f=this.itemTable.gridView.getFocusedRowIndex();if(_6f==-1){_6f=0;}}this.itemTable.gridView.setFocusedCell(_6f,0);this.targetFocusedIndex=null;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.closeSubLayer=function(_70){["WebSquare.uiplugin.selectbox.closeSubLayer"];try{var _71={"documentClick":_70};if(this.itemTableMode=="grid"){this.itemTable.grid.applyFocusedCellOut(this.itemTable.grid.focusedCell[0]);}else{if(this.itemTableMode=="gridView"){this.itemTable.gridView.applyFocusedCellOut(this.itemTable.gridView.focusedCell[0]);}}$W.getBody().getLayerListener().hide(this.id,_71);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype._closeSubLayer=function(_72){["WebSquare.uiplugin.selectbox._closeSubLayer"];try{var _72=_72||{};var _73=_72.documentClick;if(this.isOpen&&this.itemTable!=null){this.itemTable.hide();this.itemTable.render.setAttribute("aria-expended","true");if(this.options.wmode==true){$W.getBody().hideWModeFrame(this.getPluginName(),this.itemTable.id);}this.isOpen=false;if(_73===true){$W._c.fireEvent(this,"onclose",true);}else{$W._c.fireEvent(this,"onclose",false);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype._closeOtherLayer=function(_74){["WebSquare.uiplugin.selectbox._closeOtherLayer"];try{var _74=_74||{};var _75=_74.documentClick;var _76=this.otherComponent;if(this.itemTableMode=="grid"||this.itemTableMode=="gridView"){_76=this.itemTable;}if(this.isOpen&&_76!=null){_76.hide();this.isOpen=false;if(_75===true){$W._c.fireEvent(this,"onclose",true);}else{$W._c.fireEvent(this,"onclose",false);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.getItemCount=function(){["WebSquare.uiplugin.selectbox.getItemCount"];try{return this.itemArr.length;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setSelectedIndex=function(idx){["WebSquare.uiplugin.selectbox.setSelectedIndex"];try{idx=parseInt(idx,10);if(isNaN(idx)){return;}if(idx<0||idx>=this.getItemCount()){if(this.options.emptyItem){if(this.modelControl.isBinded()){this.modelControl.setData(this.options.emptyValue);this.setSelectedIndexNM(-1);}else{var _78=this.getSelectedIndex();this.setSelectedIndexNM(-1);if(_78!=-1){$W._c.fireEvent(this,"onchange");}}}return;}if(this.modelControl.isBinded()){this.modelControl.setData(this.itemArr[idx].value);}else{var _78=this.getSelectedIndex();this.setSelectedIndexNM(idx);if(_78!=this.getSelectedIndex()){$W._c.fireEvent(this,"onchange");}}this.broadcast({"linkedDataList":["refresh",["replace"]]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setSelectedIndexNM=function(idx){["WebSquare.uiplugin.selectbox.setSelectedIndexNM"];try{idx=parseInt(idx,10);if(isNaN(idx)){return false;}if(idx<0||idx>=this.getItemCount()){if(this.options.emptyItem){this.selectedIndex=-1;this.dom.label.innerHTML="";if(this.itemTable){this.itemTable.setSelectedIndex(0);}return true;}else{return false;}}this.selectedIndex=idx;var _7a=this.itemArr[idx].label+"";if(_7a.indexOf("&")>-1){_7a=_7a.wq_replaceAll("&","&amp;");}if(this.options.escape){_7a=$W._B._encode(_7a);}if(this.dom.label){this.dom.label.innerHTML=_7a;}if(this.itemTable){this.render.setAttribute("aria-activedescendant",this.itemTable.id+"_"+idx);}return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.selectbox.getSelectedIndex"];try{return this.selectedIndex;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.getSelectedRow=function(){["WebSquare.uiplugin.selectbox.getSelectedRow"];try{if(this.itemTableMode=="gridView"&&this.itemTable){var _7b=$W._G.getComponentById(this.itemTable.gridView.options.dataList);if(_7b){return _7b.getRowArray(this.getSelectedIndex());}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setValue=function(_7c){["WebSquare.uiplugin.selectbox.setValue"];try{if($W._G.isNull(_7c)){return;}var _7d=this.getValue();if(this.modelControl.isBinded()){this.modelControl.setData(_7c);}else{var _7d=this.getValue();if(this.setValueNM(_7c)==true){if(_7d!=this.getValue()){$W._c.fireEvent(this,"onchange");}}else{if(this.options.emptyItem){this.setSelectedIndex(-1);}else{this.setSelectedIndex(0);}}}this.broadcast({"linkedDataList":["refresh",["replace"]]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setValueNM=function(_7e){["WebSquare.uiplugin.selectbox.setValueNM"];try{if($W._G.isNull(_7e)){return;}_7e=_7e.toString();var _7f=this.getItemCount();for(var i=0;i<_7f;i++){if(this.itemArr[i].value==_7e){this.setSelectedIndexNM(i);return true;}}return false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.getValue=function(){["WebSquare.uiplugin.selectbox.getValue"];try{if(this.itemArr[this.selectedIndex]){return this.itemArr[this.selectedIndex].value;}else{if(this.options.emptyItem&&this.selectedIndex==-1){return this.options.emptyValue;}else{return null;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setText=function(_81,_82){["WebSquare.uiplugin.selectbox.setText"];try{var _83=this.getItemCount();var _84="";if(_82){for(var i=0;i<_83;i++){if(this.itemArr[i].orgLabel==_81){_84=this.itemArr[i].value;}}}else{for(var i=0;i<_83;i++){if(this.itemArr[i].label==_81){_84=this.itemArr[i].value;}}}this.setValue(_84);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.getText=function(_86){["WebSquare.uiplugin.selectbox.getText"];try{if(this.itemArr[this.selectedIndex]){return _86?this.itemArr[this.selectedIndex].orgLabel:this.itemArr[this.selectedIndex].label;}else{if(this.options.emptyItem&&this.selectedIndex==-1){return "";}else{return null;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.addItemArr=function(_87,_88){["WebSquare.uiplugin.selectbox.addItemArr"];try{this.itemArr.push({label:_87,value:_88});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.addItem=function(_89,_8a,idx){["WebSquare.uiplugin.selectbox.addItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){idx=this.getItemCount();}else{if(idx<0||idx>=this.getItemCount()){idx=this.getItemCount();}}var _8c={};_8c.value=_89;_8c.label=_8a;this.itemArr.splice(idx,0,_8c);if(this.options.displayMode!="0"){this.itemArr[idx].label=this.getItemText(idx);}if(this.options.emptyItem&&this.selectedIndex==-1){this.setSelectedIndex(0);}if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}return idx;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.deleteItem=function(idx){["WebSquare.uiplugin.selectbox.deleteItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){return;}var _8e=null;if(idx>=0&&idx<this.getItemCount()){_8e=(this.itemArr.splice(idx,1))[0];}if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}if(this.options.emptyItem){if(this.selectedIndex==-1||idx==this.selectedIndex){this.setSelectedIndex(0);}}if(this.options.emptyItem&&this.options.renderType=="native"){if(this.selectedIndex>idx&&idx>=0){this.setSelectedIndex(this.selectedIndex-1);}else{this.setSelectedIndex(this.selectedIndex);}}else{if(this.selectedIndex>idx&&idx>=0){this.setSelectedIndex(this.selectedIndex-1);}}return _8e;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.removeAll=function(_8f){["WebSquare.uiplugin.selectbox.removeAll"];try{var _90=this.getValue();this.itemArr=new Array();if(_8f){if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue}].concat(this.itemArr);}if(this.options.chooseOption==true){var _91=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_91=$W._B.decode(_91).replace("&nbsp;"," ");this.itemArr=[{label:_91,value:this.options.chooseOptionValue}].concat(this.itemArr);}}this.setSelectOptions(this.itemArr);if(this.dom.label){if(this.itemArr.length>0){var _91=this.itemArr[0].label+"";if(_91.indexOf("&")>-1){_91=_91.wq_replaceAll("&","&amp;");}if(this.options.escape){_91=$W._B._encode(_91);}this.dom.label.innerHTML=_91;}else{this.dom.label.innerHTML="";}}if(this.options.setDataRemoveAll){if(_8f){this.setSelectedIndex(0);}else{this.selectedIndex=-1;if(!this.dom.label){this.dom.select.selectedIndex=-1;}if(this.modelControl.isBinded()){this.modelControl.setData("");}if(_90!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}if(this.itemTableMode=="grid"){this.gridItemArr=[];if(this.itemTable){this.itemTable.grid.removeAll();}}else{if(this.itemTableMode=="gridView"){this.gridViewItemArr=[];if(this.itemTable){var _92=$W._G.getComponentById(this.itemTable.gridView.options.dataList);_92.removeAll();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.onPropertyChange=function(_93,_94){["WebSquare.uiplugin.selectbox.onPropertyChange"];try{switch(_93){case "disabled":if(this.options.renderType=="component"){if(_94){this.closeSubLayer();this.getElementById(this.id+"_label").style.color="#848684";}else{this.getElementById(this.id+"_label").style.color="";}}else{if(_94){this.dom.select.setAttribute("disabled","disabled");}else{this.dom.select.removeAttribute("disabled");}}var _95=this.dom.button;if(_94==true){this.addClass(this.render,this.options.disabledClass);if(_95!=null){this.addClass(_95,"w2selectbox_button_disabled");}}else{this.removeClass(this.render,this.options.disabledClass);if(_95!=null){this.removeClass(_95,"w2selectbox_button_disabled");}}break;case "mandatory":if(_94==true){this.addClass(this.render,"w2selectbox_mandatory");}else{this.removeClass(this.render,"w2selectbox_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setSelectedIndex1=function(idx){["WebSquare.uiplugin.selectbox.setSelectedIndex1"];try{var _97=this.selectedIndex;var _98=this.getValue();this.setSelectedIndex(idx);if(_97!=this.selectedIndex){var _99={"oldValue":_98,"newValue":this.getValue(),"oldSelectedIndex":_97,"newSelectedIndex":this.selectedIndex};$W._c.fireEvent(this,"onviewchange",_99);}this.closeSubLayer();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.validate=function(){["WebSquare.uiplugin.selectbox.validate"];try{var _9a=this.validator.validate(this.getValue());if(!_9a){this.focus();}return _9a;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setInitValue=function(_9b){["WebSquare.uiplugin.selectbox.setInitValue"];try{var _9c=this.getValue();if(this.options.initValue===""){if(this.itemArr&&this.itemArr[0]){this.options.initValue=this.itemArr[0].value;}}this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_9b.fireEvent){if(_9c!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.hide=function(){["WebSquare.selectbox.hide"];try{this.closeSubLayer();$W._n.prototype.hide.call(this);}catch(e){$W.exception.printStackTrace(e);}};$W._a._q.prototype.showTooltip=function(_9d,top,_9f){["WebSquare.uiplugin.selectbox.showTooltip"];try{if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}if(this.timeHideTooltip!=null){clearTimeout(this.timeHideTooltip);this.timeHideTooltip=null;}this.timeShowTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(!this.tooltip){this.tooltip=new $W._a._o(this.id+"_tooltip",{className:"w2selectbox_tooltip "+this.options.tooltipClass});this.tooltip.writeTo($W.getBody(),null,this.parentFrame);this.tooltip.activate();this.tooltip.removeClass("w2group");}this.tooltip.setStyle("display","block");this.tooltip.setStyle("left",_9d+"px");this.tooltip.setStyle("top",top+"px");if(this.options.escape){_9f=$W._B._encode(_9f);}this.tooltip.render.innerHTML=_9f;}),this.options.tooltipTime*1000);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.hideTooltip=function(){["WebSquare.uiplugin.selectbox.hideTooltip"];try{this.timeHideTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(this.tooltip){this.tooltip.setStyle("display","none");}}),this.options.tooltipTime*1000);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.selectbox.handleClickEvent"];try{if(this.options.disabled){return false;}this.focus();if(this.itemArr.length>0){this.toggle();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.itemTable.handleKeydownEvent"];try{var _a2=(e.charCode)?e.charCode:e.keyCode;var _a3=this.getSelectedIndex();if(_a2==13){this.handleClickEvent(e);return;}if(this.isOpen){return;}if(_a2==38){if(_a3>0){if(this.itemTableMode=="grid"){var _a4;var _a5;var _a6=this.itemTable.grid.filteredRowIndexArr;for(var i=0;i<_a6.length;i++){if(_a3==_a6[i]){_a4=_a6[i-1];_a5=i-1;break;}}this.setSelectedIndex1(_a4);this.targetFocusedIndex=_a5;}else{if(this.itemTableMode=="gridView"){var _a4;var _a5;var _a8=this.itemTable.gridView.filteredRowIndexArr;for(var i=0;i<_a8.length;i++){if(_a3==_a8[i]){_a4=_a8[i-1];_a5=i-1;break;}}this.setSelectedIndex1(_a4);this.targetFocusedIndex=_a5;}else{this.setSelectedIndex1(_a3-1);}}}}else{if(_a2==40){if(this.itemTableMode=="grid"){var _a4;var _a5;var _a6=this.itemTable.grid.filteredRowIndexArr;for(var i=0;i<_a6.length;i++){if(_a3==_a6[i]){_a4=_a6[i+1];_a5=i+1;break;}}if(_a4<this.getItemCount()){this.setSelectedIndex1(_a4);this.targetFocusedIndex=_a5;}}else{if(this.itemTableMode=="gridView"){var _a4;var _a5;var _a8=this.itemTable.gridView.filteredRowIndexArr;for(var i=0;i<_a8.length;i++){if(_a3==_a8[i]){_a4=_a8[i+1];_a5=i+1;break;}}if(_a4<this.getItemCount()){this.setSelectedIndex1(_a4);this.targetFocusedIndex=_a5;}}else{if(_a3+1<this.getItemCount()){this.setSelectedIndex1(_a3+1);}}}}else{if(_a2==33){if(this.itemTableMode=="grid"){var _a4;var _a5;var _a6=this.itemTable.grid.filteredRowIndexArr;for(var i=0;i<_a6.length;i++){if(_a3==_a6[i]){var _a9;if(this.itemTable.grid.options.visibleRowNum=="all"){_a4=0;_a5=0;}else{_a4=_a6[i-(this.itemTable.grid.options.visibleRowNum-0)];_a5=i-(this.itemTable.grid.options.visibleRowNum-0);}break;}}if(_a5<0){this.targetFocusedIndex=0;this.setSelectedIndex1(_a6[0]);}else{this.setSelectedIndex1(_a4);this.targetFocusedIndex=this.itemTable.grid.getRealRowIndex(_a4);}}else{if(this.itemTableMode=="gridView"){var _a4;var _a5;var _a8=this.itemTable.gridView.filteredRowIndexArr;for(var i=0;i<_a8.length;i++){if(_a3==_a8[i]){var _a9;if(this.itemTable.gridView.options.visibleRowNum=="all"){_a4=0;_a5=0;}else{_a4=_a8[i-(this.itemTable.gridView.options.visibleRowNum-0)];_a5=i-(this.itemTable.gridView.options.visibleRowNum-0);}break;}}if(_a5<0){this.targetFocusedIndex=0;this.setSelectedIndex1(_a8[0]);}else{this.setSelectedIndex1(_a4);this.targetFocusedIndex=this.itemTable.gridView.getRealRowIndex(_a4);}}else{var _aa=_a3-this.options.visibleRowNum;if(_aa<0){_aa=0;}this.setSelectedIndex1(_aa);}}}else{if(_a2==34){if(this.itemTableMode=="grid"){var _a4;var _a5;var _a6=this.itemTable.grid.filteredRowIndexArr;for(var i=0;i<_a6.length;i++){if(_a3==_a6[i]){var _a9;if(this.itemTable.grid.options.visibleRowNum=="all"){_a4=_a6[this.getItemCount()-1];_a5=this.getItemCount();}else{_a4=_a6[i+(this.itemTable.grid.options.visibleRowNum-0)];_a5=i+(this.itemTable.grid.options.visibleRowNum-0);}break;}}if(_a5>=this.getItemCount()){this.setSelectedIndex1(_a6[this.getItemCount()-1]);this.targetFocusedIndex=this.getItemCount()-1;}else{this.setSelectedIndex1(_a4);this.targetFocusedIndex=this.itemTable.grid.getRealRowIndex(_a4);}}else{if(this.itemTableMode=="gridView"){var _a4;var _a5;var _a8=this.itemTable.gridView.filteredRowIndexArr;for(var i=0;i<_a8.length;i++){if(_a3==_a8[i]){var _a9;if(this.itemTable.gridView.options.visibleRowNum=="all"){_a4=_a8[this.getItemCount()-1];_a5=this.getItemCount();}else{_a4=_a8[i+(this.itemTable.gridView.options.visibleRowNum-0)];_a5=i+(this.itemTable.gridView.options.visibleRowNum-0);}break;}}if(_a5>=this.getItemCount()){this.setSelectedIndex1(_a8[this.getItemCount()-1]);this.targetFocusedIndex=this.getItemCount()-1;}else{this.setSelectedIndex1(_a4);this.targetFocusedIndex=this.itemTable.gridView.getRealRowIndex(_a4);}}else{var _aa=_a3+this.options.visibleRowNum;if(_aa>=this.getItemCount()){_aa=this.getItemCount()-1;}this.setSelectedIndex1(_aa);}}}else{if(_a2==35){if(this.itemTableMode=="grid"){var _a6=this.itemTable.grid.filteredRowIndexArr;var _a4=_a6[this.getItemCount()-1];this.setSelectedIndex1(_a4);this.targetFocusedIndex=this.getItemCount()-1;}else{if(this.itemTableMode=="gridView"){var _a8=this.itemTable.gridView.filteredRowIndexArr;var _a4=_a8[this.getItemCount()-1];this.setSelectedIndex1(_a4);this.targetFocusedIndex=this.getItemCount()-1;}else{this.setSelectedIndex1(this.getItemCount()-1);}}}else{if(_a2==36){if(this.itemTableMode=="grid"){var _a6=this.itemTable.grid.filteredRowIndexArr;var _a4=_a6[0];this.setSelectedIndex1(_a4);this.targetFocusedIndex=0;}else{if(this.itemTableMode=="gridView"){var _a8=this.itemTable.gridView.filteredRowIndexArr;var _a4=_a8[0];this.setSelectedIndex1(_a4);this.targetFocusedIndex=0;}else{this.setSelectedIndex1(0);}}}else{this.findItemStartedWithKeyChar(_a2);return;}}}}}}$W._c.stopEvent(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.handleMousewheelEvent=function(e){["WebSquare.uiplugin.selectbox.handleMousewheelEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2selectbox_focus")){if(!this.isOpen){var _ad=this.getSelectedIndex();if(e.wheelDelta>0||e.detail<0){this.setSelectedIndex(_ad-1);}else{this.setSelectedIndex(_ad+1);}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.selectbox.handleFocusEvent"];try{$W._c.stopEvent(e);this.addClass(this.dom.tbody,"w2selectbox_focus");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.selectbox.handleBlurEvent"];try{$W._c.stopEvent(e);this.removeClass(this.dom.tbody,"w2selectbox_focus");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.selectbox.handleMouseoverEvent"];try{$W._c.stopEvent(e);this.addClass(this.dom.tbody,"w2selectbox_over");if(!this.isOpen){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2selectbox")){if(this.options.tooltipDisplay==true){var _b2=it.getElement();var _b3=$W._H.getAbsoluteLeft(_b2)+20;var top=$W._H.getAbsoluteTop(_b2)+this.render.offsetHeight+3;var _b5=this.dom.label.innerHTML;this.showTooltip(_b3,top,_b5);}}}it=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.selectbox.handleMouseoutEvent"];try{$W._c.stopEvent(e);if(this.options.tooltipDisplay==true){this.hideTooltip();}this.removeClass(this.dom.tbody,"w2selectbox_over");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.findItemStartedWithKeyChar=function(_b7){["WebSquare.uiplugin.selectbox.findItemStartedWithKeyChar"];try{var _b8=this.keyCharHash[_b7];var _b9=-1;if(_b8){var _ba=this.selectedIndex;var _bb=0;while(1){++_ba;++_bb;_ba=_ba%this.itemArr.length;var _bc=this.itemArr[_ba].label.toLowerCase();if(_bc.startsWith(_b8)){_b9=_ba;break;}if(_bb>this.itemArr.length){break;}}if(_b9>-1){this.setSelectedIndex(_b9);return true;}}if(_b9==-1){return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._q.prototype.setRef=function(ref){["WebSquare.uiplugin.selectbox.prototype.setRef "];try{if(typeof ref=="string"&&ref.length>0){if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}}catch(e){$W.exception.printStackTrace(e);}};$W._a._N=function(id,_bf,_c0){["WebSquare.uiplugin.selectbox"];$W._t.call(this,id,_bf,_c0);};$W.extend($W._a._N.prototype,$W._a._q.prototype);$W._a._N.prototype.defaultOptions={pluginType:"uiplugin.selectbox",pluginName:"selectbox",renderType:"native",userEvents:["onchange","onclose","onviewchange"],useConfig:true,value:"",chooseOption:false,chooseOptionLabel:"",chooseOptionValue:"",allOption:false,sortOption:"",sortMethod:"",displayMode:"0",delimiter:"\t",textAlign:"",useLocale:false,disabledClass:"w2selectbox_disabled",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,labelWidthAuto:false,initValue:"",emptyItem:false,emptyValue:""};$W._a._N.prototype.initialize=function(_c1){["WebSquare.uiplugin.selectbox.initialize"];try{this.itemTable=null;this.isOpen=false;this.statusSubLayer=false;this.selectedIndex=-1;this.cursorIndex=-1;this.showRowIndex=0;this.displayCount=0;this.defaultAllOptionLabel=$W._m.getMessage("SelectBox_all");this.defaultChooseOptionLabel=$W._m.getMessage("SelectBox_choose");switch(this.options.displayMode){case "0":case "1":case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";}this.initializeItemArr(_c1);this.validator=new $W._p.validateInvoker(this.id,this.options);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._N.prototype.finalize=function(){$W._t.prototype.finalize.call(this);};$W._a._N.prototype.toHTML=function(){["WebSquare.uiplugin.selectbox.toHTML"];try{var _c2=[];var _c3=(!this.options.style)?"":"style='"+this.options.style+"'";var _c4=(!this.options.title)?"":"title='"+this.options.title+"'";if(this.options.renderType=="select"){_c2.push("<select id='"+this.id+"' "+_c3+" class='w2selectbox_select "+this.options.className+"' "+_c4+">");for(var i=0;i<this.itemArr.length;i++){_c2.push("<option>"+this.itemArr[i].label+"</option>");}_c2.push("</select>");}else{_c2.push("<div id='"+this.id+"' "+_c3+" class='w2selectbox_native "+($W._G.isMobile()?"w2selectbox_native_mobile ":"")+(!this.options.labelWidthAuto?"fixedWidth ":"")+this.options.className+"'>");_c2.push("<div class='w2selectbox_native_innerDiv'>");_c2.push("<select class='w2selectbox_native_select' id='"+this.id+"_input_0' "+_c4+">");for(var i=0;i<this.itemArr.length;i++){_c2.push("<option>"+this.itemArr[i].label+"</option>");}_c2.push("</select>");_c2.push("</div>");_c2.push("</div>");}return _c2.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._N.prototype.setPreAction=function(){["WebSquare.uiplugin.selectbox.setPreAction"];try{this.dom.select=this.options.renderType=="select"?this.render:this.render.firstChild.firstChild;var _c6=$W._G.isIE(6)||$W._G.isIE(7);if(!_c6&&this.options.renderType=="native"){var _c7=this.render.clientHeight-this.dom.select.offsetHeight;if(_c7>0){this.dom.select.style.marginTop=parseInt(_c7/2,10)+"px";}}if(this.options.labelWidthAuto===true){this.render.style.width="";}if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._N.prototype.setAction=function(){["WebSquare.uiplugin.selectbox.setAction"];try{if(this.modelControl.isBinded()){var _c8=this.modelControl.getData();this.setValueNM(_c8);}if(this.selectedIndex==-1&&this.getItemCount()>0){if(this.modelControl.isBinded()){var _c8=this.getValue();if(this.options.emptyRef){var _c9=this.getItemCount();for(var i=0;i<_c9;i++){if(this.itemArr[i].value==_c8){this.setSelectedIndexNM(0);this.modelControl.setData(_c8);break;}}}else{this.setSelectedIndexNM(0);this.modelControl.setData(_c8);}}else{this.setSelectedIndexNM(0);this.broadcast({"linkedDataList":["refresh",["replace"]]});}}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}this.event.addListener2(this.dom.select,"onchange",this.event.bindAsEventListener(this,this.handleOnchange));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._N.prototype.componentRedraw=function(_cb){["WebSquare.uiplugin.selectbox.componentRedraw"];try{this.showRowIndex=0;this.setSelectOptions();if(this.itemArr.length>0){if(_cb){var _cc=0;if(_cb!="replace"&&this.getSelectedIndex()>-1){_cc=this.getSelectedIndex();}this.dom.select.selectedIndex=_cc;this.selectedIndex=_cc;return;}this.dom.select.selectedIndex=0;this.selectedIndex=0;}this.setValueNM("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._N.prototype.setSelectOptions=function(){["WebSquare.uiplugin.selectbox.setSelectOptions"];try{for(var i=this.dom.select.options.length;i>=0;i--){this.dom.select.remove(i);}for(var i=0;i<this.itemArr.length;i++){var _ce=document.createElement("option");_ce.text=this.itemArr[i].label;this.dom.select.options[i]=_ce;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._N.prototype.setSelectedIndexNM=function(idx){["WebSquare.uiplugin.selectbox.setSelectedIndexNM"];try{idx=parseInt(idx);if(!this.options.emptyItem&&(isNaN(idx)||idx<0||idx>=this.getItemCount())){return false;}this.selectedIndex=idx;if(this.dom.select){this.dom.select.selectedIndex=idx;}this.broadcast({"linkedDataList":["refresh",["replace"]]});return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._N.prototype.handleOnchange=function(e){var idx=this.dom.select.selectedIndex;var _d2=this.getSelectedIndex();var _d3=this.getValue();this.setSelectedIndexNM(idx);if(this.options.emptyItem&&idx==-1){this.modelControl.setData(this.options.emptyValue);}else{this.modelControl.setData(this.itemArr[idx].value);}var _d4=this.getValue();this.selectedIndex=idx;if(_d2!=this.getSelectedIndex()){$W._c.fireEvent(this,"onchange");var _d5={"oldValue":_d3,"newValue":_d4,"oldSelectedIndex":_d2,"newSelectedIndex":this.selectedIndex};$W._c.fireEvent(this,"onviewchange",_d5);}};$W._a._N.prototype.focus=function(){this.dom.select.focus();};$W._a._N.prototype.setDisabled=function(_d6){["WebSquare.uiplugin.selectbox_native.prototype.setDisabled"];try{_d6=$W._G.getBoolean(_d6);this.options.disabled=_d6;this.onPropertyChange("disabled",_d6);}catch(e){$W.exception.printStackTrace(e);}return _d6;};;WebSquare.uiplugin.selectbox=$W._a._q;;WebSquare.uiplugin.selectbox_native=$W._a._N;requires("uiplugin/control/itemsetControl.js");requires("engine/validator.js");$W._a._x=function(id,_2,_3){["WebSquare.uiplugin.multiselect"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._x.prototype,$W._t.prototype);$W.extend($W._a._x.prototype,$W.itemsetControl.prototype);$W.extend($W._a._x.prototype,$W.IValidate.prototype);$W._a._x.prototype.defaultOptions={pluginType:"uiplugin.multiselect",pluginName:"multiselect",userEvents:["onchange","onviewchange"],systemEvents:["onclick","ondblclick","onfocus","onblur"],initValue:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,separator:" ",title:"",escape:false,maxItemNum:-1};$W._a._x.prototype.initialize=function(_4){["WebSquare.uiplugin.multiselect.initialize"];try{this.lastSelectedIndex=-1;this.initializeItemArr(_4);this.validator=new $W._p.validateInvoker(this.id,this.options);this.separator=this.options.separator=this.options.separator||" ";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.toHTML=function(){["WebSquare.uiplugin.multiselect.toHTML"];try{var _5=(this.options.disabled=="")?"":"disabled='true'";var _6=(this.options.disabled=="")?"":"style='color:#848684'";var _7=(this.options.style=="")?"":"style='"+this.options.style+"'";var _8=(this.options.title=="")?"":"title='"+this.options.title+"'";var _9=[];_9.push("<div "+_5+" id='"+this.id+"' "+_7+" class='w2multiselect_div "+this.options.className+"' tabIndex='0' "+_8+" >");if($W._G.isIE(6)||$W._G.isIE(7)||$W._G.isOpera()){_9.push("<div style='overflow:visible;position:relative;height:0px'>");}_9.push("<table id='"+this.id+"_table' class='w2multiselect_table' cellpadding='0' cellspacing='0'>");for(var i=0;i<this.itemArr.length;i++){var _b=(this.options.escape)?$W._B._encode(this.itemArr[i].label):this.itemArr[i].label;_9.push("<tr class='w2multiselect_tr' index='"+i+"' checked='false'>");_9.push("<td class='w2multiselect_td'>"+_b+"</td>");_9.push("</tr>");}_9.push("</table>");if($W._G.isIE(6)||$W._G.isIE(7)||$W._G.isOpera()){_9.push("</div>");}_9.push("</div>");return _9.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.setPreAction=function(){try{this.dom.table=document.getElementById(this.id+"_table");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.setAction=function(){["WebSquare.uiplugin.multiselect.setAction"];try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}if(this.modelControl.isBinded()){var _c=this.modelControl.getData();this.setValueNM(_c);}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onselectstart",function(e){$W._c.stopEvent(e);});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.refreshItemset=function(){["WebSquare.uiplugin.multiselect.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){var _e=this.getValue();this.refreshItemArr();this.componentRedraw(_e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.refresh=function(){["WebSquare.uiplugin.multiselect.refresh"];try{if(this.modelControl.isBinded()){var _f=this.getValue();var _10=this.modelControl.getData();this.setValueNM(_10);if(_f!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.componentRedraw=function(_11){["WebSquare.uiplugin.checkbox.componentRedraw"];try{this.redraw();this.dom.table=document.getElementById(this.id+"_table");this.setValueNM(_11);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.getItemCount=function(){["WebSquare.uiplugin.multiselect.getItemCount"];try{return this.itemArr.length;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.setSelectedIndex=function(_12){["WebSquare.uiplugin.multiselect.setSelectedIndex"];try{var _13=_12.split(this.separator);for(var i=0;i<_13.length;i++){var _15=_13[i];_15=parseInt(_15);if(this.setSelectedIndexNM(_15)){this.setInstanceValue();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.setSelectedIndexNM=function(_16,_17){["WebSquare.uiplugin.multiselect.setSelectedIndexNM"];try{_16=parseInt(_16);if(_16<0||_16>=this.getItemCount()){return false;}var _18=this.getMultiselectList();var _19=_18[_16];_17=(_17==null)?true:_17;_19.setAttribute("checked",_17);if(_17){this.addClass(_19,"w2multiselect_tr_over");}else{this.removeClass(_19,"w2multiselect_tr_over");}return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.getText=function(_1a){["WebSquare.uiplugin.multiselect.getText"];try{if(!_1a){_1a=this.separator;}var ret=[];var _1c=this.getMultiselectList();for(var i=0;i<_1c.length;i++){if($W._G.getBoolean(_1c[i].getAttribute("checked"))){ret.push(this.itemArr[i].label);}}return ret.join(_1a).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.getValue=function(_1e){["WebSquare.uiplugin.multiselect.getValue"];try{if(!_1e){_1e=this.separator;}var ret=[];var _20=this.getMultiselectList();for(var i=0;i<_20.length;i++){if($W._G.getBoolean(_20[i].getAttribute("checked"))){ret.push(this.itemArr[i].value);}}return ret.join(_1e).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.getAllValue=function(){["WebSquare.uiplugin.multiselect.getAllValue"];try{var ret=[];var _23=this.getMultiselectList();for(var i=0;i<_23.length;i++){ret.push(this.itemArr[i].value);}return ret.join(this.separator).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.getIdxValue=function(_25){["WebSquare.uiplugin.multiselect.getIdxValue"];try{if(_25<0||_25>=this.getItemCount()){return false;}return this.itemArr[_25].value;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.setValue=function(_26){["WebSquare.uiplugin.multiselect.setValue"];try{if($W._G.isNull(_26)){return;}var _27=this.getValue();this.setValueNM(_26);this.modelControl.setData(_26);if(_27!=this.getValue()){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.setValueNM=function(_28){["WebSquare.uiplugin.multiselect.setValueNM"];try{if($W._G.isNull(_28)){return;}_28=_28.toString();var _29=this.getValue();var _2a=_28.split(this.separator);var _2b=[];for(var i=0;i<_2a.length;i++){_2b[_2a[i]+""]="";}var _2d=this.getItemCount();for(var i=0;i<_2d;i++){var _28=this.itemArr[i].value;if(_2b[_28]!=null){this.setSelectedIndexNM(i,true);}else{this.setSelectedIndexNM(i,false);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.setText=function(_2e){["WebSquare.uiplugin.multiselect.setText"];try{var _2f=_2e.split(this.separator);var _30=this.getItemCount();var ret=[];for(var i=0;i<_2f.length;i++){for(var j=0;j<_30;j++){if(this.itemArr[j].label==_2f[i]){ret.push(this.itemArr[j].value);}}}var _34=ret.join(this.separator).wq_trim();this.setValue(_34);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.getSelectedIndex=function(_35){["WebSquare.uiplugin.multiselect.getSelectedIndex"];try{if(!_35){_35=this.separator;}var ret=[];var _37=this.getMultiselectList();for(var i=0;i<_37.length;i++){if($W._G.getBoolean(_37[i].getAttribute("checked"))){ret.push(i);}}return ret.join(_35).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.deleteItem=function(_39){["WebSquare.uiplugin.multiselect.deleteItem"];try{_39=parseInt(_39);var _3a=this.dom.table.childNodes[0];var _3b=null;for(var _3c=_3a.firstChild;_3c!=null;_3c=_3c.nextSibling){if(_3c.getAttribute("index")==_39){_3b=(this.itemArr.splice(_39,1))[0];_3c.parentNode.removeChild(_3c);this.refreshIndex();}}return _3b;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.deleteSelectedItems=function(){["WebSquare.uiplugin.multiselect.deleteSelectedItems"];try{var _3d=this.dom.table.childNodes[0];for(var _3e=_3d.firstChild;_3e!=null;_3e=_3e.nextSibling){if($W._G.getBoolean(_3e.getAttribute("checked"))){var idx=_3e.getAttribute("index");this.itemArr.splice(idx,1);_3e.parentNode.removeChild(_3e);this.refreshIndex();this.deleteSelectedItems();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.refreshIndex=function(){["WebSquare.uiplugin.multiselect.refreshIndex"];try{var _40=this.dom.table.childNodes[0];var idx=0;for(var _42=_40.firstChild;_42!=null;_42=_42.nextSibling){_42.setAttribute("index",idx+"");++idx;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.setInstanceValue=function(){["WebSquare.uiplugin.multiselect.setInstanceValue"];try{var _43=this.getValue();this.modelControl.setData(_43);this.fireOnchange();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.getMultiselectList=function(){["WebSquare.uiplugin.multiselect.getMultiselectList"];try{return this.getDomList("multiselectArr","tr");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.onPropertyChange=function(_44,_45){["WebSquare.uiplugin.multiselect.onPropertyChange"];try{switch(_44){case "disabled":this.options.disabled=_45;if(_45){this.addClass(this.render,"w2multiselect_disabled");}else{this.removeClass(this.render,"w2multiselect_disabled");}break;case "readOnly":break;case "mandatory":if(_45==true){this.addClass(this.render,"w2multiselect_mandatory");}else{this.removeClass(this.render,"w2multiselect_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.validate=function(){["WebSquare.uiplugin.multiselect.validate"];try{var _46=this.validator.validate(this.getValue());if(!_46){this.focus();}return _46;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.setInitValue=function(_47){["WebSquare.uiplugin.multiselect.setInitValue"];try{var _48=this.getValue();this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_47.fireEvent){if(_48!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.setRef=function(ref){["WebSquare.uiplugin.multiselect.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a._x.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.multiselect.handleClickEvent"];try{$W._c.stopEvent(e);if(this.options.disabled){return false;}var it=this.event.getTargetIterator(e,this.render);var _4c=this.dom.table.childNodes[0].childNodes;if(!e.ctrlKey&&!e.shiftKey){for(var i=0;i<_4c.length;i++){this.setSelectedIndexNM(i,false);}}var _4e=this.getValue();var _4f=this.getSelectedIndex();while(it.next()){if(it.match(null,this.id)){}if(it.match("w2multiselect_tr")){var _50=it.getElement().getAttribute("index");if(e.shiftKey){var _51=_50;var _52=-1;var _53=-1;var _54=[];var _55="";if(this.lastSelectedIndex<_51){_52=this.lastSelectedIndex;if(this.options.maxItemNum>-1){var _56=(_52>-1)?this.options.maxItemNum-1:this.options.maxItemNum;_53=parseInt(this.lastSelectedIndex,10)+_56;}else{_53=_51;}}else{_53=this.lastSelectedIndex;if(this.options.maxItemNum>-1){var _56=(this.options.maxItemNum-1);_52=parseInt(this.lastSelectedIndex,10)-_56;}else{_52=_51;}}for(var i=_52;i<=_53;i++){_54.push(i);}_55=_54.join(this.separator).wq_trim();this.setSelectedIndex(_55);}else{if(e.ctrlKey&&$W._G.getBoolean(it.getElement().getAttribute("checked"))){this.lastSelectedIndex=_50;this.setSelectedIndexNM(_50,false);this.setInstanceValue();}else{var _57;var _58=this.getValue();_57=(_58=="")?0:_58.split(" ").length;if(_57>=this.options.maxItemNum&&this.options.maxItemNum>-1){break;}this.lastSelectedIndex=_50;this.setSelectedIndex(_50);}}}}it=null;var _59=this.getValue();var _5a=this.getSelectedIndex();if(_4e!=_59){var _5b={"oldValue":_4e,"newValue":_59,"oldSelectedIndex":_4f,"newSelectedIndex":_5a};$W._c.fireEvent(this,"onviewchange",_5b);}this.focus();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.fireOnchange=function(){["WebSquare.uiplugin.multiselect.fireOnchange"];try{$W._c.fireEvent(this,"onchange");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._x.prototype.setStyle=function(_5c,_5d){["WebSquare.uiplugin.multiselect.prototype.setStyle"];try{if(!this.render){return;}$W._H.setStyle(this.render,_5c,_5d);if(_5c=="font-size"){var _5e=this.dom.table.childNodes[0];for(var _5f=_5e.firstChild;_5f!=null;_5f=_5f.nextSibling){var td=_5f.firstChild;td.style[_5c]=_5d;}}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.multiselect=$W._a._x;requires("uiplugin/control/itemsetControl.js");requires("uiplugin/table/itemTable.js");requires("engine/validator.js");$W._a.br=function(id,_2,_3){["WebSquare.uiplugin.checkcombobox"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.br.prototype,$W._t.prototype);$W.extend($W._a.br.prototype,$W.itemsetControl.prototype);$W.extend($W._a.br.prototype,$W.IValidate.prototype);$W._a.br.prototype.defaultOptions={pluginType:"uiplugin.checkcombobox",pluginName:"checkcombobox",renderType:"component",userEvents:["onchange","onclose","onviewchange"],systemEvents:["onblur","onclick","ondblclick","onfocus"],useConfig:true,separator:" ",value:"",sortOption:"",sortMethod:"",wmode:false,visibleRowNum:5,displayMode:"0",delimiter:"\t",textAlign:"",chooseOption:false,chooseOptionLabel:"",allOption:false,tooltipMode:"none",defaultStyle:"",activeStyle:"",defaultClass:"w2checkcombobox_default",activeClass:"w2checkcombobox_active",useLocale:false,submenuSize:"auto",direction:"auto",checkboxClickSync:false,mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,labelWidthAuto:false,initValue:"",title:"",setDataRemoveAll:true,escape:false};$W._a.br.prototype.initialize=function(_4){["WebSquare.uiplugin.checkcombobox.initialize"];try{this.itemTable=null;this.isOpen=false;this.statusSubLayer=false;this.separator=this.options.separator=this.options.separator||" ";this.selectedInfo={};this.defaultAllOptionLabel=$W._m.getMessage("CheckCombobox_all");if(_4&&_4.getAttribute("chooseOptionLabel")=="$blank"){this.defaultChooseOptionLabel="";}else{this.defaultChooseOptionLabel=$W._m.getMessage("CheckCombobox_choose");}switch(this.options.displayMode){case "0":case "1":case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";}this.initializeItemArr(_4);this.itemDisabledArray=new Array();for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(false);}this.validator=new $W._p.validateInvoker(this.id,this.options);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.finalize=function(){["WebSquare.uiplugin.checkcombobox.finalize"];try{$W._t.prototype.finalize.call(this);if(this.itemTable){this.itemTable.remove();this.itemTable=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.toHTML=function(){["WebSquare.uiplugin.checkcombobox.toHTML"];try{var _6=[];var _7=(this.options.style=="")?"":"style='"+this.options.style+"'";var _8=(this.options.title=="")?"":"title='"+this.options.title+"'";var _9=(this.options.defaultStyle=="")?"":"style='"+this.options.defaultStyle+"\"";var _a=(this.options.textAlign=="")?"":"style= 'text-align:"+this.options.textAlign+";"+this.options.defaultStyle+"'";_6.push("<div id='"+this.id+"' role='combobox' aria-labelledby='"+this.id+"_itemTable' aria-autocomplete='none' "+_7+" class='w2checkcombobox "+this.options.className+"' tabIndex='0' "+_8+">");_6.push("<table class='w2checkcombobox_table_main' cellpadding='0' cellspacing='0'>");_6.push("<tbody id='"+this.id+"_main_tbody'>");_6.push("<tr class='w2checkcombobox_row w2checkcombobox_row_main'>");_6.push("<td class='w2checkcombobox_col_label' "+_9+"><div id='"+this.id+"_label' role='document' aria-live='assertive' aria-automatic='true' class='w2checkcombobox_label' "+_a+"></div></td>");_6.push("<td class='w2checkcombobox_col_button' id='"+this.id+"_button' aria-labelledby='"+this.id+"_itemTable' aria-controls='"+this.id+"_itemTable'></td>");_6.push("</tr></tbody>");_6.push("</table>");_6.push("</div>");return _6.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.setPreAction=function(){try{this.dom.button=this.getElementById(this.id+"_button");this.dom.label=this.getElementById(this.id+"_label");this.dom.tbody=this.getElementById(this.id+"_main_tbody");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.setAction=function(){["WebSquare.uiplugin.checkcombobox.setAction"];try{$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,paramHide:{"documentClick":true},event:{}});this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if($W._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}else{if(this.options.labelWidthAuto===true){this.setLabelWidthByItemLength();}}if(this.modelControl.isBinded()){var _d=this.modelControl.getData();this.setValueNM(_d);}if(this.options.chooseOption==true){var _e=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_e=$W._B.decode(_e).replace("&nbsp;"," ");this.dom.label.innerHTML=_e;}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.refreshItemset=function(){["WebSquare.uiplugin.checkcombobox.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.itemDisabledArray=new Array();for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(false);}this.componentRedraw();if(this.modelControl.isBinded()){this.refresh();}else{var _10=[];for(var i=0;i<this.itemArr.length;i++){_10.push({index:i,checked:false});}this.setSelectedInfoNM(_10);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.refresh=function(){["WebSquare.uiplugin.checkcombobox.refresh"];try{if(this.modelControl.isBinded()){var _11=this.getValue();var _12=this.modelControl.getData();if(this.setValueNM(_12)==true){if(_11!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.componentRedraw=function(){["WebSquare.uiplugin.checkcombobox.componentRedraw"];try{if(this.options.labelWidthAuto===true){this.setLabelWidthByItemLength();}this.setSelectOptions();this.setValueNM("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.setLabelWidthByItemLength=function(){["WebSquare.uiplugin.checkcombobox.setLabelWidthByItemLength"];try{if(!this.labelRuler){this.labelRuler=document.createElement("div");this.labelRuler.style.position="absolute";this.labelRuler.style.top="-1000px";this.labelRuler.style.left="-1000px";this.labelRuler.style.visibility="hidden";document.body.appendChild(this.labelRuler);}var _13=0;for(var i=0;i<this.itemArr.length;i++){var _15=document.getElementById("checkcombobox_ruler");this.labelRuler.innerHTML=this.itemArr[i].label;if(this.labelRuler.offsetWidth>_13){_13=this.labelRuler.offsetWidth;}}var _16=document.getElementById(this.id+"_button");this.render.style.width=_13+_16.offsetWidth+10+"px";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.setSubLayer=function(){["WebSquare.uiplugin.checkcombobox.setSubLayer"];try{if(this.itemTable==null){this.itemTable=new $W._a.aa(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:this.options.submenuSize,style:"position:absolute;",defaultStyle:"text-align:"+this.options.textAlign+";"+this.options.defaultStyle,className:"w2table "+this.options.className,w2table:"w2table_ccb",w2table_main:"w2table_ccb_main",w2table_row:"w2table_ccb_row",w2table_col:"w2table_ccb_col",w2table_col_over:"w2table_ccb_col_over",w2table_col_checkbox:"w2table_ccb_col_checkbox",w2table_col_label:"w2table_ccb_col_label",checkbox:true,escape:this.options.escape});this.itemTable.writeTo($W.getBody(),null,this.parentFrame);this.itemTable.activate();var _17=this;this.itemTable.addClickEventListener(function(_18){["WebSquare.uiplugin.checkcombobox.itemTable.addClickEventListener"];var _19=document.getElementById(_17.id+"_itemTable_"+_18+"_checkbox");if(_19&&_19.value==$W.allValue){var _1a=$W._G.getBoolean(_19.checked);for(var i=1;i<_17.itemArr.length;i++){var _1c=document.getElementById(_17.id+"_itemTable_"+i+"_checkbox");if(_1c&&_1c.checked!=_1a){_1c.checked=_1a;}_17.addSelectedInfo({index:i,checked:_1a});}}else{_17.addSelectedInfo({index:_18,checked:_19.checked});}if(_17.options.allOption){if(_18>0){var _1d=true;if(_19.checked){for(var i=1;i<_17.itemArr.length;i++){var _1e=document.getElementById(_17.id+"_itemTable_"+i+"_checkbox");if(!_1e.checked){_1d=false;break;}}}else{_1d=false;}var _1f=document.getElementById(_17.id+"_itemTable_0_checkbox");_1f.checked=_1d;}}if(_17.options.checkboxClickSync){var _20=_17.getValue();var _21=_17.getInfoArray();var _22=_17.convertInfoHash2Array(_17.selectedInfo);if(_22.length>0){_17.setSelectedInfo(_22);}var _23=_17.getValue();if(_20!=_23){var _24={"oldInfo":_21,"newInfo":_17.getInfoArray(),"oldValue":_20,"newValue":_23};$W._c.fireEvent(_17,"onviewchange",_24);}}$W._c.fireEvent(_17,"oncheckboxclick",_18,_19.checked,_19.value);});this.itemTable.addKeyDownEventListener(function(e){["WebSquare.uiplugin.checkcombobox.itemTable.addKeyDownEventListener"];var _26=(e.charCode)?e.charCode:e.keyCode;if(_26==13){_17.focus();_17.closeSubLayer1();}else{if(_26==27){_17.focus();_17.closeSubLayer1();}}});this.setSelectOptions();this.setItemTable();for(var i=0;i<this.getItemCount();i++){if(this.itemArr[i].checked){var _28=document.getElementById(this.id+"_itemTable_"+i+"_checkbox");_28.checked=true;this.addSelectedInfo({index:i,checked:_28.checked});}}}for(var i=0;i<this.itemDisabledArray.length;i++){this.setItemDisabled(i,this.itemDisabledArray[i]);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.setSelectOptions=function(){["WebSquare.uiplugin.checkcombobox.setSelectOptions"];try{if(this.itemTable!=null){this.itemTable.setItemArr(this.itemArr);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.setItemTable=function(){["WebSquare.uiplugin.checkcombobox.setItemTable"];try{var _29=this.render.offsetWidth;var _2a=this.render.offsetHeight;var _2b=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(this.render);var tds=this.itemTable.render.getElementsByTagName("td");if(tds&&tds.length>0){var _2e=0;var _2f=Math.min(this.getItemCount(),this.options.visibleRowNum);for(var i=0;i<_2f;i++){_2e+=tds[i].offsetHeight;}this.itemTable.setStyle("height",_2e+"px");}if(this.options.submenuSize=="fixed"){this.itemTable.setStyle("width",(_29-2)+"px");if(this.itemTable.render.offsetHeight>=this.itemTable.render.scrollHeight){this.itemTable.render.firstChild.style.width=(_29)+"px";}else{this.itemTable.render.firstChild.style.width=(_29-17)+"px";}}else{if(this.options.submenuSize=="auto"){var _31=this.render.offsetWidth;var _32=this.itemTable.render.clientWidth;var _33=this.itemTable.maxWidth;if(_31<_33){_32=_33;}else{_32=_31;}if(_32<_31-2){_32=_31-2;}this.itemTable.setStyle("width",_32+"px");if(this.itemTable.render.clientHeight>=this.itemTable.render.scrollHeight||this.getItemCount()<=this.options.visibleRowNum){this.itemTable.render.firstChild.style.width=_32+"px";}else{this.itemTable.render.firstChild.style.width=(_32-17)+"px";var _34=this.itemTable.render.firstChild.offsetWidth;if(_34>_32-17){this.itemTable.render.firstChild.style.width=_34+"px";this.itemTable.setStyle("width",(_34+17)+"px");}}}else{if(this.itemTable.render.scrollHeight-this.itemTable.render.offsetHeight>1){this.itemTable.setStyle("width",(this.itemTable.render.firstChild.offsetWidth+17)+"px");}}}var _35=this.options.direction;if(_35=="auto"){var _36=document.body.scrollTop;if(_36<document.documentElement.scrollTop){_36=document.documentElement.scrollTop;}var _37=top-_36;var _38=document.documentElement.clientHeight-(_37+this.render.offsetHeight);var _39=this.itemTable.render.offsetHeight;if(_38<_39&&_37>_39){_35="up";}}if(_35=="up"){top=top-this.itemTable.render.offsetHeight;}else{top=top+this.render.offsetHeight;}if(document.documentElement.clientWidth<(_2b+this.itemTable.render.offsetWidth)){_2b=_2b+this.render.offsetWidth-this.itemTable.render.offsetWidth;}this.itemTable.setPosition(_2b,top);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.setSelectItemArr=function(){["WebSquare.uiplugin.checkcombobox.setSelectItemArr"];try{if(this.options.sortOption!=""){var _3a=[];var _3b=null;if(this.options.sortOption=="label"){_3b=function(){return this.label;};}else{if(this.options.sortOption=="value"){_3b=function(){return this.value;};}}for(var i=0;i<this.itemArr.length;i++){var _3d=this.itemArr[i];_3d.toString=_3b;_3a.push(_3d);}_3a.sort();if(this.options.sortMethod=="descending"){_3a.reverse();}this.itemArr=_3a;}if(this.options.displayMode!="0"){for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].label=this.getItemText(i);}}if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue}].concat(this.itemArr);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.getItemText=function(idx){["WebSquare.uiplugin.checkcombobox.getItemText"];try{var _3f="";if(idx>-1&&idx<this.getItemCount()){_3f=this.itemArr[idx].label;switch(this.options.displayMode){case "0":break;case "1":_3f=this.itemArr[idx].value+this.options.delimiter+_3f;break;case "2":_3f=_3f+this.options.delimiter+this.itemArr[idx].value;break;default:}}return _3f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.toggle=function(){["WebSquare.uiplugin.checkcombobox.toggle"];try{if(this.isOpen){this.closeSubLayer();}else{this.openSubLayer();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.openSubLayer=function(){["WebSquare.uiplugin.checkcombobox.openSubLayer"];try{$W.getBody().getLayerListener().show(this.id);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype._openSubLayer=function(){["WebSquare.uiplugin.checkcombobox._openSubLayer"];try{this.oldValue=this.getValue();this.setSubLayer();if(!this.isOpen){this.itemTable.show();this.itemTable.render.setAttribute("aria-expended","true");this.setItemTable();if(this.options.wmode==true){$W.getBody().showWModeFrame(this.getPluginName(),this.itemTable.render);}this.itemTable.focus();this.isOpen=true;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.closeSubLayer=function(_40){["WebSquare.uiplugin.checkcombobox.closeSubLayer"];try{var _41={"documentClick":_40};$W.getBody().getLayerListener().hide(this.id,_41);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.closeSubLayer1=function(_42){["WebSquare.uiplugin.checkcombobox.closeSubLayer1"];try{var _43={"documentClick":_42};var _44=this.getValue();var _45=this.getInfoArray();$W.getBody().getLayerListener().hide(this.id,_43);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype._closeSubLayer=function(_46){["WebSquare.uiplugin.checkcombobox._closeSubLayer"];try{var _46=_46||{};var _47=_46.documentClick;var _48=this.getValue();var _49=this.getInfoArray();if(this.isOpen&&this.itemTable!=null){this.itemTable.hide();this.itemTable.render.setAttribute("aria-expended","true");if(this.options.wmode==true){$W.getBody().hideWModeFrame(this.getPluginName(),this.itemTable.id);}var _4a=this.convertInfoHash2Array(this.selectedInfo);if(_4a.length>0){this.setSelectedInfo(_4a);}this.isOpen=false;var _4b=this.getValue();if(_48!=_4b){var _4c={"oldInfo":_49,"newInfo":this.getInfoArray(),"oldValue":_48,"newValue":_4b};$W._c.fireEvent(this,"onviewchange",_4c);}if(_47===true){$W._c.fireEvent(this,"onclose",true);}else{$W._c.fireEvent(this,"onclose",false);}this.selectedInfo={};}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.getItemCount=function(){["WebSquare.uiplugin.checkcombobox.getItemCount"];try{return this.itemArr.length;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.setSelectedInfo=function(_4d){["WebSquare.uiplugin.checkcombobox.setSelectedInfo"];try{if(this.modelControl.isBinded()){this.modelControl.setData(this.getInfoValue(_4d));}else{var _4e=this.getValue();if(this.setSelectedInfoNM(_4d)){if(_4e!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.getInfoValue=function(_4f){["WebSquare.uiplugin.checkcombobox.getInfoValue"];try{for(var i=0;i<this.itemArr.length;i++){var _51=this.itemArr[i].checked;if(_51){var _52=null;for(var j=0;j<_4f.length;j++){if(i==parseInt(_4f[j].index,10)){_52=_4f[j];break;}}if(!_52){_4f.push({index:i,checked:_51});}}}var ret=[];var _55=this.convertInfoArray2Hash(_4f);for(var i=0;i<this.itemArr.length;i++){var _52=_55[i];if(_52&&_52.checked){ret.push(this.itemArr[i].value);}}return ret.join(this.separator);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.convertInfoArray2Hash=function(_56){["WebSquare.uiplugin.checkcombobox.convertInfoArray2Hash"];try{var ret={};for(var i=0;i<_56.length;i++){ret[_56[i].index]=_56[i];}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.convertInfoHash2Array=function(_59){["WebSquare.uiplugin.checkcombobox.convertInfoHash2Array"];try{var ret=[];for(var key in _59){if(_59.hasOwnProperty(key)){ret.push(_59[key]);}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.addSelectedInfo=function(_5c){["WebSquare.uiplugin.checkcombobox.addSelectedInfo"];try{if(!_5c||typeof _5c.index=="undefined"){return false;}this.selectedInfo[_5c.index]=_5c;return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.setSelectedInfoNM=function(_5d){["WebSquare.uiplugin.checkcombobox.setSelectedInfoNM"];try{if(!$W._G.isArray(_5d)){return false;}for(var i=0;i<_5d.length;i++){var _5f=_5d[i].index;var _60=$W._G.getBoolean(_5d[i].checked);_5f=parseInt(_5f);var _61=document.getElementById(this.id+"_itemTable_"+_5f+"_checkbox");if(_61){_61.checked=_60;}this.itemArr[_5f].checked=_60;}var _62=this.getText();if(this.options.escape){_62=$W._B._encode(_62);}this.dom.label.innerHTML=_62;if(_62==""&&this.options.chooseOption==true){_62=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_62=$W._B.decode(_62).replace("&nbsp;"," ");this.dom.label.innerHTML=_62;}if(this.options.tooltipMode=="title"){document.getElementById(this.id).title=_62;}return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.getSelectedInfo=function(){["WebSquare.uiplugin.checkcombobox.getSelectedInfo"];try{var _63=this.getItemCount();var ret=[];for(var i=0;i<_63;i++){if(this.itemArr[i].checked){ret.push({index:i,label:this.itemArr[i].label,value:this.itemArr[i].value,checked:true});}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.getInfo=function(_66){["WebSquare.uiplugin.checkcombobox.getInfo"];try{var _67;if(this.itemArr.length>_66){_67={};_67.index=_66;_67.label=this.itemArr[_66].label;_67.value=this.itemArr[_66].value;_67.checked=$W._G.getBoolean(this.itemArr[_66].checked);}return _67;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.getInfoArray=function(){["WebSquare.uiplugin.checkcombobox.getInfoArray"];try{var _68=[];for(var i=0;i<this.itemArr.length;i++){var _6a={};_6a.index=i;_6a.label=this.itemArr[i].label;_6a.value=this.itemArr[i].value;_6a.checked=$W._G.getBoolean(this.itemArr[i].checked);_68.push(_6a);}return _68;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.setValue=function(_6b){["WebSquare.uiplugin.checkcombobox.setValue"];try{if($W._G.isNull(_6b)){return;}var _6c=this.getValue();if(this.modelControl.isBinded()){this.modelControl.setData(_6b);}else{if(this.setValueNM(_6b)==true){if(_6c!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.setValueNM=function(_6d){["WebSquare.uiplugin.checkcombobox.setValueNM"];try{if(!$W._G.isArray(_6d)){if($W._G.isNull(_6d)){return;}var _6e=_6d.toString();_6d=_6e.split(this.separator);}var _6f=[];var _70=this.getItemCount();for(var i=0;i<_70;i++){if(this.itemArr[i].value==$W.allValue){continue;}var _72={};_72.index=i;_72.checked=false;for(var j=0;j<_6d.length;j++){if(_6d[j]==this.itemArr[i].value){_72.checked=true;break;}}_6f.push(_72);}return this.setSelectedInfoNM(_6f);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.getValue=function(_74){["WebSquare.uiplugin.checkcombobox.getValue"];try{if(!_74){_74=this.separator;}var _75=this.getItemCount();var ret=[];for(var i=0;i<_75;i++){if(this.itemArr[i].checked){ret.push(this.itemArr[i].value);}}return ret.join(_74).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.getValueArray=function(){["WebSquare.uiplugin.checkcombobox.getValueArray"];try{var _78=this.getItemCount();var ret=[];for(var i=0;i<_78;i++){if(this.itemArr[i].checked){ret.push(this.itemArr[i].value);}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.setText=function(_7b){["WebSquare.uiplugin.checkcombobox.setText"];try{var _7c=this.getItemCount();var _7d=[];var _7e=_7b.split(this.separator);for(var i=0;i<_7c;i++){for(var j=0;j<_7e.length;j++){if(this.itemArr[i].label==_7e[j]){_7d.push(this.itemArr[i].value);break;}}}this.setValue(_7d.join(this.separator));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.getText=function(_81){["WebSquare.uiplugin.checkcombobox.getText"];try{if(!_81){_81=this.separator;}var _82=this.getItemCount();var ret=[];for(var i=0;i<_82;i++){if(this.itemArr[i].checked){ret.push(this.itemArr[i].label);}}return ret.join(_81).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.getTextArray=function(){["WebSquare.uiplugin.checkcombobox.getTextArray"];try{var _85=this.getItemCount();var ret=[];for(var i=0;i<_85;i++){if(this.itemArr[i].checked){ret.push(this.itemArr[i].label);}}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.addItemArr=function(_88,_89){["WebSquare.uiplugin.checkcombobox.addItemArr"];try{this.itemArr.push({label:_88,value:_89});this.itemDisabledArray.push(false);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.addItem=function(_8a,_8b,idx){["WebSquare.uiplugin.checkcombobox.addItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){idx=this.getItemCount();}else{if(idx<0||idx>=this.getItemCount()){idx=this.getItemCount();}}var _8d={value:_8a,label:_8b};this.itemArr.splice(idx,0,_8d);if(this.options.displayMode!="0"){this.itemArr[idx].label=this.getItemText(idx);}this.itemDisabledArray.splice(idx,0,false);if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}this.setValueNM(this.getValue());return idx;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.deleteItem=function(idx){["WebSquare.uiplugin.checkcombobox.deleteItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){return;}var _8f=null;if(idx>=0&&idx<this.getItemCount()){_8f=(this.itemArr.splice(idx,1))[0];this.itemDisabledArray.splice(idx,1);}if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}this.setValueNM(this.getValue());return _8f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.removeAll=function(_90){["WebSquare.uiplugin.checkcombobox.removeAll"];try{var _91=this.getValue();this.itemArr=new Array();if(_90){if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue}].concat(this.itemArr);}}this.setSelectOptions(this.itemArr);this.itemDisabledArray=new Array();for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(false);}if(this.options.setDataRemoveAll){if(this.modelControl.isBinded()){this.modelControl.setData("");}else{if(_91!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.onPropertyChange=function(_93,_94){["WebSquare.uiplugin.checkcombobox.onPropertyChange"];try{switch(_93){case "disabled":if(this.options.renderType=="component"){if(_94){this.closeSubLayer();this.getElementById(this.id+"_label").style.color="#848684";}else{this.getElementById(this.id+"_label").style.color="";}}else{if(_94){this.dom.select.setAttribute("disabled","disabled");}else{this.dom.select.removeAttribute("disabled");}}var _95=this.dom.button;if(_94==true){this.addClass(this.render,"w2checkcombobox_disabled");if(_95!=null){this.addClass(_95,"w2checkcombobox_button_disabled");}}else{this.removeClass(this.render,"w2checkcombobox_disabled");if(_95!=null){this.removeClass(_95,"w2checkcombobox_button_disabled");}}break;case "mandatory":if(_94==true){this.addClass(this.render,"w2checkcombobox_mandatory");}else{this.removeClass(this.render,"w2checkcombobox_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.validate=function(){["WebSquare.uiplugin.checkcombobox.validate"];try{var _96=this.validator.validate(this.getValue());if(!_96){this.focus();}return _96;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.hide=function(){["WebSquare.checkcombobox.hide"];try{this.closeSubLayer();$W._n.prototype.hide.call(this);}catch(e){$W.exception.printStackTrace(e);}};$W._a.br.prototype.checkAll=function(_97){["WebSquare.uiplugin.checkcombobox.checkAll"];try{if(typeof _97=="undefined"){_97=true;}var _98=[];for(var i=0;i<this.itemArr.length;i++){_98.push({index:i,checked:_97});}return this.setSelectedInfo(_98);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.setRef=function(ref){["WebSquare.uiplugin.checkcombobox.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.br.prototype.setItemDisabled=function(idx,_9c){["WebSquare.uiplugin.checkcombobox.setItemDisabled"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}_9c=$W._G.getBoolean(_9c);this.itemDisabledArray[idx]=_9c;if(this.itemTable){var _9d=this.itemTable.getDomList("checkboxArr","input");var _9e=this.itemTable.getDomList("checkboxItemArr","td");_9d[idx].disabled=_9c;_9d[idx].itemDisabled=_9c;if(_9c==true){this.addClass(_9e[idx],"w2checkcombobox_item_disabled");}else{this.removeClass(_9e[idx],"w2checkcombobox_item_disabled");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.getItemDisabled=function(idx){["WebSquare.uiplugin.checkcombobox.getItemDisabled"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}return this.itemDisabledArray[idx];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleClickEvent"];try{if(this.options.disabled){return false;}this.focus();if(this.itemArr.length>0){this.toggle();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleKeydownEvent"];try{var _a2=(e.charCode)?e.charCode:e.keyCode;if(_a2==13||_a2==40){this.handleClickEvent(e);return;}if(this.isOpen){return;}$W._c.stopPropagation(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleFocusEvent"];try{$W._c.stopEvent(e);this.addClass(this.dom.tbody,"w2checkcombobox_focus");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleBlurEvent"];try{$W._c.stopEvent(e);this.removeClass(this.dom.tbody,"w2checkcombobox_focus");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleMouseoverEvent"];try{$W._c.stopEvent(e);this.addClass(this.dom.tbody,"w2checkcombobox_over");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.br.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleMouseoutEvent"];try{$W._c.stopEvent(e);this.removeClass(this.dom.tbody,"w2checkcombobox_over");}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.checkcombobox=$W._a.br;requires("uiplugin/control/itemsetControl.js");requires("uiplugin/table/itemTable.js");requires("engine/validator.js");requires("uiplugin/helper/korHelper.js");$W._a.an=function(id,_2,_3){["WebSquare.uiplugin.autoComplete"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.an.prototype,$W._t.prototype);$W.extend($W._a.an.prototype,$W.itemsetControl.prototype);$W.extend($W._a.an.prototype,$W.IValidate.prototype);$W._a.an.prototype.defaultOptions={pluginType:"uiplugin.autoComplete",pluginName:"autoComplete",userEvents:["onchange","oneditend","onviewchange"],useConfig:true,useOtherComponentId:"",value:"",chooseOption:false,chooseOptionLabel:"",chooseOptionValue:"",allOption:false,sortOption:"",sortMethod:"",wmode:false,visibleRowNum:5,displayMode:"0",delimiter:"\t",defaultStyle:"",activeStyle:"",textAlign:"",defaultClass:"w2inputSelectDefault",activeClass:"w2inputSelectActive",useLocale:false,submenuSize:"fixed",direction:"auto",dynamicDraw:true,tooltipDisplay:false,tooltipClass:"",tooltipTime:1,editable:true,search:"start",editmode:false,dataurl:"",interactionMode:false,interactionKey:"default",submission:"",submissionFunc:"",keyInputRef:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,interactionMinByteLength:0,title:"",noResult:"previous",escape:false,displayFormatter:"",useMousewheel:true,editModeEvent:"onclick",allowEmptySubmission:"false",searchTarget:"label",caseSensitive:true,editType:"select",useKeywordHighlight:false,returnValueType:"null",handleOtherClick:true};$W._a.an.prototype.initialize=function(_4){["WebSquare.uiplugin.autoComplete.initialize"];try{this.itemTable=null;this.gridOptions={};this.gridViewOptions={};this.searchFlag=false;this.isOpen=false;this.statusSubLayer=false;this.noResult=(this.options.noResult==="previous"||this.options.noResult==="clear"||this.options.noResult==="noEnd"||this.options.noResult==="useData"||this.options.noResult==="first")?this.options.noResult:"previous";this.editable=this.options.editable;this.search=this.options.search;this.orgSearchArr=[];this.selectedItem={text:"",value:"",orgLabel:""};this.selectedGridRowObj={};this.selectedGridViewRowObj={};this.myhelper=new $W.korHelper();this.viewArr=[];this.itemArr=[];this.mytime=null;this.hideTime=null;this.tooltip=null;this.timeShowTooltip=null;this.timeHideTooltip=null;this.editmode=this.options.editmode;this.findkeymode=false;this.mozTrickBuffer="";this.trickBuffer="";this.findStop=false;this.skipMatch=false;this.defaultAllOptionLabel=$W._m.getMessage("AutoComplete_all");this.defaultChooseOptionLabel=$W._m.getMessage("AutoComplete_choose");switch(this.options.displayMode){case "0":case "1":case "2":case "3":this.displayMode=this.options.displayMode;break;case "value delim label":this.displayMode="1";break;case "label delim value":this.displayMode="2";break;case "value":this.displayMode="3";break;default:this.displayMode="0";}this.dataurl=this.options.dataurl;this.interactionMode=this.options.interactionMode;this.dataurl=this.options.dataurl;this.selectedIndex=-1;this.cursorIndex=-1;this.showRowIndex=0;this.displayCount=0;if(_4){var _5=$W._B.findNode(_4,"*['"+"choices"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_5){var _6=$W._B.findNode(_5,"*['"+"gridItemset"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_6==null){_6=$W._B.findNode(_5,"*['"+"gridViewItemset"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");}if(_6&&_6.nodeName=="w2:gridItemset"){this.itemTableMode="grid";}else{if(_6&&_6.nodeName=="w2:gridViewItemset"){this.itemTableMode="gridView";}}}if(this.itemTableMode=="grid"){this.initializeGridItemArr(_4);}else{if(this.itemTableMode=="gridView"){this.initializeGridViewItemArr(_4);}else{this.initializeItemArr(_4);}}this.autoFinder=_4.nodeName=="w2:autoFinder"?true:false;if(this.autoFinder){this.display_path=this.options.display_path;if(typeof this.display_path!="undefined"){this.display_path=this.display_path.replace(/^\s\s*/,"").replace(/\s\s*$/,"");var _7=this.display_path.split(" ");var _8=_7[0];var _9=_7[1];var _a=_7[2];this.setItemSet(_8,_9,_a);this.buildItemArr();}}else{if(this.itemTableMode!="grid"&&this.itemTableMode!="gridView"){this.itemsetObj=$W.WebSquareparser.parseItemset(_4);}}}this.validator=new $W._p.validateInvoker(this.id,this.options);this.displayFormatter=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.toHTML=function(){["WebSquare.uiplugin.autoComplete.toHTML"];try{var _b=[];var _c=(this.options.title=="")?"":"title='"+this.options.title+"'";var _d=(this.options.style=="")?"":"style='"+this.options.style+"'";var _e=(this.options.defaultStyle=="")?"":"style='"+this.options.defaultStyle+"'";var _f=(this.options.textAlign=="")?_e:"style='text-align:"+this.options.textAlign+";"+this.options.defaultStyle+"'";_b.push("<div id='"+this.id+"' "+_d+" class='w2autoComplete "+this.options.className+"' tabIndex='0' "+_c+" role='combobox' aria-labelledby='"+this.id+"_itemTable' aria-autocomplete='inline' >");_b.push("<table class='w2autoComplete_table_main'  cellpadding='0' cellspacing='0'>");_b.push("<tbody id='"+this.id+"_main_tbody'>");_b.push("<tr class='w2autoComplete_row w2autoComplete_row_main'>");_b.push("<td class='w2autoComplete_col_label' "+_e+">");_b.push("<div class='w2autoComplete_label'>");_b.push("<span id='"+this.id+"_label' class='w2autoComplete_label' "+_f+"></span>");_b.push("<input id='"+this.id+"_input' class='w2autoComplete_input' style='border-width:0px; width:100%; padding:0px; display:none;' type='text' "+_c+" />");_b.push("</div></td>");_b.push("<td class='w2autoComplete_col_button' id='"+this.id+"_button' aria-labelledby='"+this.id+"_itemTable' aria-controls='"+this.id+"_itemTable'></td>");_b.push("</tr></tbody>");_b.push("</table>");_b.push("</div>");return _b.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.setPreAction=function(){try{this.dom.button=this.getElementById(this.id+"_button");this.dom.label=this.getElementById(this.id+"_label");this.dom.input=this.getElementById(this.id+"_input");if(this.options.tabIndex!=""){this.dom.input.tabIndex=this.options.tabIndex;}if($W._G.isMobile()){$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,event:{"ontouchstart":this.handleClickEventDocument}});}else{if(this.options.useOtherComponentId){$W._N.setTimer(function(){this.otherComponent=$W._G.getComponentById(this.options.useOtherComponentId);$W.getBody().getLayerListener().useOtherComponentId[this.id]=this.options.useOtherComponentId;$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,event:{"onmousedown":this.handleClickEventDocument}});this.event.addListener(this.otherComponent.render,"onmousedown",this.event.bindAsEventListener(this.otherComponent,function(e){$W._c.stopPropagation(e);}));this.otherComponent.hide();},{key:this.options.useOtherComponentId,caller:this,delay:100});}else{if(this.itemTableMode=="grid"){$W.getBody().getLayerListener().useOtherComponentId[this.id]=this.id+"_gridItemTable";$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,paramHide:{"documentClick":true},event:{"onmousedown":this.handleClickEventDocument}});}else{if(this.itemTableMode=="gridView"){$W.getBody().getLayerListener().useOtherComponentId[this.id]=this.id+"_gridViewItemTable";$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,paramHide:{"documentClick":true},event:{"onmousedown":this.handleClickEventDocument}});}else{$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,event:{"onmousedown":this.handleClickEventDocument}});}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.setAction=function(){["WebSquare.uiplugin.autoComplete.setAction"];try{this.event.addListener(this.dom.input,"onblur",this.event.bindAsEventListener(this,this.handleblurEventInput));if($W._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.dom.input,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,this.handleMousewheelEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}if(this.modelControl.isBinded()){var _13=this.modelControl.getData();this.setValueNM(_13);}if(this.selectedIndex==-1){this.setSelectedIndexNM(0);if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.refreshItemset=function(){["WebSquare.uiplugin.autoComplete.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();if(this.itemTableMode=="grid"){this.refreshGridItemArr();for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].orgLabel=this.itemArr[i].label;this.itemArr[i].label=this.getItemText(i);}this.setSubLayer();this.setGridData();}else{if(this.itemTableMode=="gridView"){this.refreshGridViewItemArr();for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].orgLabel=this.itemArr[i].label;this.itemArr[i].label=this.getItemText(i);}this.setSubLayer();this.setGridViewData();}}if(this.modelControl.isBinded()){this.refresh();}else{this.setSelectedIndexNM(0);}}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.refresh=function(){["WebSquare.uiplugin.autoComplete.refresh"];try{if(this.modelControl.isBinded()){var _15=this.getValue();var _16=this.modelControl.getData();if(this.setValueNM(_16)==true){if(_15!=this.getValue()){$W._c.fireEvent(this,"onchange");}if(this.getValue()!=null&&_16!=this.getValue()){this.modelControl.setData(this.getValue());}}else{if(this.noResult==="clear"){this.setSelectedIndex(-1,true);}else{if(this.noResult==="previous"){this.setSelectedIndex(0);}else{if(this.noResult==="noEnd"){return;}else{if(this.noResult==="useData"){return;}else{if(this.noResult==="first"){return;}}}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.componentRedraw=function(){["WebSquare.uiplugin.autoComplete.componentRedraw"];try{this.showRowIndex=0;this.setSelectOptions();if(this.itemArr.length>0){this.dom.label.innerHTML=(this.options.escape)?$W._B._encode(this.itemArr[0].label):this.itemArr[0].label;this.setSelectedIndex(0);}else{this.dom.label.innerHTML="";}this.showEditMode(false);this.setValueNM("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.setSubLayer=function(){["WebSquare.uiplugin.autoComplete.setSubLayer"];try{if(this.itemTable==null){var _17=this;if(this.itemTableMode=="grid"){this.itemTable=new $W._a.gridItemTable(this.id+"_gridItemTable",{itemsetObj:this.itemsetObj,className:this.options.className,gridOptions:this.gridOptions,visibleRowNum:this.options.visibleRowNum});this.itemTable.writeTo($W.getBody(),null,this.parentFrame);this.itemTable.activate();this.itemTable.grid.addEvent("oncellclick",function(row,col){_17.endEdit();_17.focus();row=this.getRealRowIndex(row);_17.setSelectedIndex1(_17.viewArr[row].index);});this.itemTable.grid.addEvent("onrowindexchange",function(row,_1b){row=this.getRealRowIndex(row);_17.dom.input.value=(_17.options.searchTarget=="label"||_17.options.searchTarget=="both")?_17.viewArr[row].orgLabel:_17.viewArr[row].value;var _1c=_17.viewArr[row].label;var _1d=(_17.options.escape)?$W._B._encode(_1c):_1c;_1d=_17.getFormattedValue(row,_1d);_17.dom.label.innerHTML=_1d;});this.event.addListener(this.itemTable.grid.render,"onkeydown",this.event.bindAsEventListener(this.itemTable.grid,function(e){var _1f=(e.charCode)?e.charCode:e.keyCode;if(_1f==13){_17.focus();var row=this.getFocusedRowIndex();row=this.getRealRowIndex(row);_17.setSelectedIndex1(_17.viewArr[row].index);}}));if(this.itemArr.length===0){this.itemTable.hide();}}else{if(this.itemTableMode=="gridView"){this.itemTable=new $W._a.gridViewItemTable(this.id+"_gridViewItemTable",{itemsetObj:this.itemsetObj,className:this.options.className,gridViewOptions:this.gridViewOptions,visibleRowNum:this.options.visibleRowNum});this.itemTable.writeTo($W.getBody(),null,this.parentFrame);this.itemTable.activate();this.itemTable.gridView.addEvent("oncellclick",function(row,col){_17.endEdit();_17.focus();var _23=_17.viewArr[row].orgLabel+"|"+_17.viewArr[row].value;var idx=_17.findinItemArr(_23,$W.allValue);_17.setSelectedIndex1(idx);});this.itemTable.gridView.addEvent("onrowindexchange",function(row,_26){row=this.getRealRowIndex(row);_17.dom.input.value=(_17.options.searchTarget=="label"||_17.options.searchTarget=="both")?_17.viewArr[row].orgLabel:_17.viewArr[row].value;var _27=_17.viewArr[row].label;var _28=(_17.options.escape)?$W._B._encode(_27):_27;_28=_17.getFormattedValue(row,_28);_17.dom.label.innerHTML=_28;});this.event.addListener(this.itemTable.gridView.render,"onkeydown",this.event.bindAsEventListener(this.itemTable.gridView,function(e){var _2a=(e.charCode)?e.charCode:e.keyCode;if(_2a==13){_17.focus();var row=this.getFocusedRowIndex();row=this.getRealRowIndex(row);_17.setSelectedIndex1(_17.viewArr[row].index);}}));if(this.itemArr.length===0){this.itemTable.hide();}}else{this.itemTable=new $W._a.aa(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:this.options.submenuSize,style:"",defaultStyle:"text-align:"+this.options.textAlign+";"+this.options.defaultStyle,className:"w2input_table "+this.options.className,w2table:"w2input_table_sb",w2table_main:"w2input_table_sb_main",w2table_row:"w2input_table_sb_row",w2table_col:"w2input_table_sb_col",w2table_col_over:"w2input_table_sb_col_over",escape:this.options.escape});this.itemTable.writeTo($W.getBody(),null,this.parentFrame);this.itemTable.activate();this.itemTable.addClickEventListener(function(_2c){["WebSquare.uiplugin.autoComplete.itemTable.addClickEventListener"];_17.findStop=true;if(_17.editmode||_17.findkeymode){_17.mozTrickBuffer="";var _2d=_17.viewArr[_2c].label;if(_17.options.useKeywordHighlight){_2d=_2d.wq_replaceAll("<span class='w2autoComplete_keyword'>","").wq_replaceAll("</span>","");}_17.dom.input.value=_2d;_17.selectedItem={text:_2d,value:_17.viewArr[_2c].value,orgLabel:_17.viewArr[_2c].orgLabel};var _2e=_17.selectedItem.orgLabel+"|"+_17.selectedItem.value;var idx=_17.findinItemArr(_2e,$W.allValue);_17.setSelectedIndex1(idx,true);_17.focus();_17.closeTable();}else{var _2d=_17.viewArr[_2c].label;if(_17.options.useKeywordHighlight){_2d=_2d.wq_replaceAll("<span class='w2autoComplete_keyword'>","").wq_replaceAll("</span>","");}_17.dom.input.value=_2d;_17.selectedItem={text:_2d,value:_17.viewArr[_2c].value,orgLabel:_17.viewArr[_2c].orgLabel};_17.setSelectedIndex1(_2c);_17.focus();_17.closeTable();}});this.itemTable.addKeyDownEventListener(function(e){if($W._c.getTarget(e)!==this.render){return;}var _31=(e.charCode)?e.charCode:e.keyCode;if(_17.interactionMode==true||_17.editmode||_17.findkeymode){var _32=0;var _33=_17.selectedItem.orgLabel+"|"+_17.selectedItem.value;for(var i=0;i<_17.viewArr.length;i++){if(_33==_17.viewArr[i].orgLabel+"|"+_17.viewArr[i].value){_32=i;break;}}if(_31==13){if(_17.viewArr.lenght==0){return;}}else{if((_31==38)||(_31==9&&e.shiftKey)){if(_32==0){return;}_32=_32-1;}else{if((_31==40)||(_31==9)){if((_32+1)==_17.viewArr.length){return;}_32=_32+1;}else{if(_31==35){_32=_17.viewArr.length-1;}else{if(_31==36){_32=0;}else{if(_31==33){_32=_32-_17.viewArr.length;if(_32<0){_32=0;}}else{if(_31==34){_32=_32+_17.viewArr.length;if(_32>=_17.viewArr.length){_32=_17.viewArr.length-1;}}}}}}}}if(_17.viewArr.length>_32){var _35=_17.viewArr[_32].label;if(_17.options.useKeywordHighlight){_35=_35.wq_replaceAll("<span class='w2autoComplete_keyword'>","").wq_replaceAll("</span>","");}_17.dom.input.value=_35;_17.selectedItem={text:_35,value:_17.viewArr[_32].value,orgLabel:_17.viewArr[_32].orgLabel};_17.itemTable.setSelectedIndex(_32);}}else{var _36=-1;_36=_17.getSelectedIndex();if((_31==38)||(_31==9&&e.shiftKey)){if(_36>0){_36=_36-1;}}else{if((_31==40)||(_31==9)){if(_36+1<_17.getItemCount()){_36=_36+1;}}else{if(_31==35){_36=_17.getItemCount()-1;}else{if(_31==36){_36=0;}else{if(_31==33){_36=_36-_17.itemTable.rowCount;if(_36<0){_36=0;}}else{if(_31==34){_36=_36+_17.itemTable.rowCount;if(_36>=_17.itemTable.getItemCount()){_36=_17.itemTable.getItemCount()-1;}}else{}}}}}}_17.setSelectedIndex1(_36,true);_17.itemTable.setSelectedIndex(_36);}});if(this.editmode&&this.viewArr.length>0){this.setItemTable();this.itemTable.setSelectedIndex(0);}else{if(this.itemArr!=null&&this.itemArr.length>0){this.setItemTable();}else{this.itemTable.hide();if(this.itemTable.mainTable!=null&&this.itemTable.render.firstChild){this.setItemTable();}else{$l("this.itemTable.mainTable\uc774 null\uc785\ub2c8\ub2e4.");}}}}}this.isOpen=true;this.closeSubLayer();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.setSelectOptions=function(){["WebSquare.uiplugin.autoComplete.setSelectOptions"];try{if(this.itemTable!=null){if(this.editmode){if(this.viewArr.length==0){}else{this.itemTable.setItemArr(this.viewArr);this.itemTable.setSelectedIndex(0);}}else{if(this.itemTableMode!="grid"&&this.itemTableMode!="gridView"&&this.itemArr!=null&&this.itemArr.length!=0){this.itemTable.setItemArr(this.itemArr);}else{this.itemTable.hide();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.setItemTable=function(){["WebSquare.uiplugin.autoComplete.setItemTable"];try{this.itemTable.setItemArr(this.viewArr);var _37=this.render.offsetWidth;var _38=this.render.offsetHeight;var _39=document.documentElement.clientWidth||document.body.clientWidth||0;var _3a=$W._H.getAbsoluteLeft(this.render);var top=0;var tds=this.itemTable.render.getElementsByTagName("td");if(tds&&tds.length>0){var _3d=tds[0].offsetHeight;var _3e=Math.min(tds.length,this.options.visibleRowNum);this.itemTable.setStyle("height",(_3e*_3d)+"px");}if(this.options.submenuSize=="fixed"||parseInt(_37)>=parseInt(this.itemTable.render.offsetWidth)){this.itemTable.setStyle("width",(_37-2)+"px");if(this.itemTable.render.offsetHeight>=this.itemTable.render.scrollHeight){this.itemTable.render.firstChild.style.width=(_37)+"px";}else{this.itemTable.render.firstChild.style.width=(_37-17)+"px";}}else{if(this.itemTable.render.scrollHeight-this.itemTable.render.offsetHeight>1){this.itemTable.setStyle("width",(this.itemTable.render.firstChild.offsetWidth+17)+"px");}else{this.itemTable.setStyle("width",(this.itemTable.render.firstChild.offsetWidth)+"px");}}var _3f=this.options.direction;if(_3f=="auto"){var _40=document.body.scrollTop;if(_40<document.documentElement.scrollTop){_40=document.documentElement.scrollTop;}var _41=$W._H.getAbsoluteTop(this.render)-_40;var _42=document.documentElement.clientHeight-(_41+this.render.offsetHeight);var _43=this.itemTable.render.offsetHeight;if(_42<_43&&_41>_43){_3f="up";}}if(_3f=="up"){top=$W._H.getAbsoluteTop(this.render)-this.itemTable.render.offsetHeight;}else{top=$W._H.getAbsoluteTop(this.render)+this.render.offsetHeight;}if(_39<(_3a+this.itemTable.render.offsetWidth)){_3a=_3a+this.render.offsetWidth-this.itemTable.render.offsetWidth;if(_3a<0){_3a=$W._H.getAbsoluteLeft(this.render);var _44=document.body.offsetWidth-17-_3a;this.itemTable.setStyle("width",_44+"px");if(this.itemTable.getStyle("overflow-x")!="auto"){_3d+=20;}this.itemTable.setStyle("height",_3d+"px");this.itemTable.setStyle("overflow-x","auto");}else{this.itemTable.setStyle("overflow-x","hidden");}}else{var _44=this.itemTable.render.firstChild.offsetWidth;var _45=this.itemTable.render.clientWidth;if((_3a+_44)<_39&&this.itemTable.getStyle("overflow-x")=="auto"){var _46=(_44>_45)?_44:_45;_3d-=20;this.itemTable.setStyle("height",_3d+"px");this.itemTable.setStyle("width",_46+"px");this.itemTable.setStyle("overflow-x","hidden");}}this.itemTable.setPosition(_3a,top);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.buildItemArr=function(){try{this.modelControl.setItemset(this.itemsetObj.nodeset,this.itemsetObj.label,this.itemsetObj.value);this.itemArr=[];if(this.itemsetObj.nodeset.match("data:")){this.itemArr=this.modelControl.getDataCollectionItemsetData(this.id);}else{this.itemArr=this.modelControl.getItemsetData();}if(this.options.useLocale){this.itemArr=this.getLocaleItemArr(this.itemArr);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.setSelectItemArr=function(){["WebSquare.uiplugin.autoComplete.setSelectItemArr"];try{if(this.options.sortOption!=""){var _47=[];var _48=null;if(this.options.sortOption=="label"){_48=function(){return this.label;};}else{if(this.options.sortOption=="value"){_48=function(){return this.value;};}}for(var i=0;i<this.itemArr.length;i++){var _4a=this.itemArr[i];_4a.toString=_48;_47.push(_4a);}_47.sort();if(this.options.sortMethod=="descending"){_47.reverse();}this.itemArr=_47;}for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].orgLabel=this.itemArr[i].label;this.itemArr[i].label=this.getItemText(i);}if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue,orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);}if(this.options.chooseOption==true){this.itemArr=[{label:this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel,value:this.options.chooseOptionValue,orgLabel:this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel}].concat(this.itemArr);}this.viewArr=[];for(var i=0;i<this.itemArr.length;i++){this.viewArr.push({label:this.itemArr[i].label,value:this.itemArr[i].value,orgLabel:this.itemArr[i].orgLabel,index:i});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.getViewItemText=function(idx){["WebSquare.uiplugin.autoComplete.getViewItemText"];try{var _4c="";if(idx>-1&&idx<this.viewArr.length){_4c=this.viewArr[idx].label;switch(this.displayMode){case "0":break;case "1":_4c=this.viewArr[idx].value+this.options.delimiter+_4c;break;case "2":_4c=_4c+this.options.delimiter+this.viewArr[idx].value;break;case "3":_4c=this.viewArr[idx].value;break;default:}}return _4c;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.getItemText=function(idx){["WebSquare.uiplugin.autoComplete.getItemText"];try{if(idx>-1&&idx<this.getItemCount()){var _4e="";if(this.itemArr[idx].value==$W.allValue){_4e=this.itemArr[idx].label;}if(this.displayMode=="0"){_4e=this.itemArr[idx].label;}else{if(this.displayMode=="1"){_4e=this.itemArr[idx].value+this.options.delimiter+this.itemArr[idx].label;}else{if(this.displayMode=="2"){_4e=this.itemArr[idx].label+this.options.delimiter+this.itemArr[idx].value;}else{if(this.displayMode=="3"){_4e=this.itemArr[idx].value;}else{if(this.displayMode=="label"){_4e=this.itemArr[idx].label;}else{if(this.displayMode=="value"){_4e=this.itemArr[idx].value;}}}}}}return _4e;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.parseLabel=function(idx){try{if(this.itemsetObj.label.indexOf("@")>-1){var _50=this.itemsetObj.label.split("@");if(this.itemsetObj.label.indexOf("/")>-1){var _51=_50[0].split("/");var _52=_51[_51.length-2];var _53=$W._B.getElementsByTagName(this.itemArr[idx].xml,_52);var myv=$W.WebSquareparser.getAttribute(_53[0],_50[1]);return myv;}else{var myv=$W.WebSquareparser.getAttribute(this.itemArr[idx].xml,_50[1]);return myv;}}else{if(this.itemsetObj.label.indexOf("/")>-1){var _51=this.itemsetObj.label.split("/");var _52=_51[_51.length-2];var _53=$W._B.getElementsByTagName(this.itemArr[idx].xml,_52);var myv=$W.WebSquareparser.getAttribute(_53[0],_50[1]);return myv;}else{var _53=$W._B.getElementsByTagName(this.itemArr[idx].xml,this.itemsetObj.label);return _53[0].firstChild.nodeValue;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.parseValue=function(idx){try{if(this.itemsetObj.label.indexOf("@")>-1){var _56=this.itemsetObj.value.split("@");if(this.itemsetObj.label.indexOf("/")>-1){var _57=_56[0].split("/");var _58=_57[_57.length-2];var _59=$W._B.getElementsByTagName(this.itemArr[idx].xml,_58);var myv=$W.WebSquareparser.getAttribute(_59[0],_56[1]);return myv;}else{var myv=$W.WebSquareparser.getAttribute(this.itemArr[idx].xml,_56[1]);return myv;}}else{if(this.itemsetObj.label.indexOf("/")>-1){var _57=this.itemsetObj.label.split("/");var _58=_57[_57.length-2];var _59=$W._B.getElementsByTagName(this.itemArr[idx].xml,_58);var myv=$W.WebSquareparser.getAttribute(_59[0],_56[1]);return myv;}else{var _59=$W._B.getElementsByTagName(this.itemArr[idx].xml,this.itemsetObj.label);return _59[0].firstChild.nodeValue;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.setItemSet=function(_5b,_5c,_5d){try{if(typeof this.itemsetObj=="undefined"){this.itemsetObj={};}var _5e=false;if(_5c!=this.itemsetObj.label||_5d!=this.itemsetObj.value){_5e=true;}this.itemsetObj.nodeset=_5b;if(_5e){this.itemsetObj.label=_5c;this.itemsetObj.value=_5d;}if(this.itemTableMode=="grid"){this.modelControl.setItemset(this.itemsetObj.nodeset,this.itemsetObj.label,this.itemsetObj.value);if(_5e){for(var i=0;i<this.itemsetObj.items.length;i++){if(this.itemsetObj.items[i].id==this.itemsetObj.labelId){this.itemsetObj.items[i].ref=_5c;}if(this.itemsetObj.items[i].id==this.itemsetObj.valueId){this.itemsetObj.items[i].ref=_5d;}}}this.refreshGridItemArr();}else{if(this.itemTableMode=="gridView"){this.modelControl.setItemset(this.itemsetObj.nodeset,this.itemsetObj.label,this.itemsetObj.value);this.refreshGridViewItemArr();}else{this.buildItemArr();}}for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].orgLabel=this.itemArr[i].label;this.itemArr[i].label=this.getItemText(i);}if(this.options.interactionMode){$W._N.clearTimer(this.id+"_showEditMode",true);if(this.interactionMode){this.selectedIndex=-1;}if(this.options.allOption==true&&this.itemArr.length>0){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue,orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);if(this.itemTableMode=="grid"&&this.gridOptions.dataComp){var _60=-1;var _61={};for(var j=0;j<this.itemsetObj.items.length;j++){if(_60==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_60=j;}_61[this.itemsetObj.items[j].id]="";}_61[this.itemsetObj.items[_60==-1?0:_60].id]=this.defaultAllOptionLabel;this.gridRowItemArr.unshift(_61);}}this.viewArr=[];for(var i=0;i<this.itemArr.length;i++){var _63=this.itemArr[i].label;if(this.options.useKeywordHighlight){var _64=_63.indexOf(this.mozTrickBuffer);if(_64>=0){_63=_63.substring(0,_64)+"<span class='w2autoComplete_keyword'>"+this.mozTrickBuffer+"</span>"+_63.substring(_64+this.mozTrickBuffer.length,_63.length);}}this.viewArr.push({label:_63,orgLabel:this.itemArr[i].orgLabel,value:this.itemArr[i].value,index:i});}}if(this.gridOptions.sortIndex&&this.gridItemArr.length>0){this.setSubLayer();this.itemTable.grid.setData(this.gridItemArr.slice(0));if(this.options.allOption){var _65=[];var _60=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_60==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_60=j;}_65.push("");}_65[_60==-1?0:_60]=this.defaultAllOptionLabel;this.itemTable.grid.setRowData(0,_65,false);}var _66=[];if(this.options.allOption){var col=this.gridOptions.sortIndex.split(" ")[0];var _68=this.itemTable.grid.getCellInfo(col).options.dataType;var _69=parseInt(this.gridOptions.sortOrder.split(" ")[0],10);_66[0]=function(a,b,i,j){if(i==0){return -1;}else{if(j==0){return 1;}else{if(_68=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_69;}else{if(a<b){return -1*_69;}else{return 0;}}}}};}this.itemTable.grid.multisort({sortIndex:this.gridOptions.sortIndex,sortOrder:this.gridOptions.sortOrder,sortFuncArr:_66});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.updateTable=function(){};$W._a.an.prototype.openTable=function(){try{["WebSquare.uiplugin.autoComplete.openTable"];this.showTable();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.toggle=function(){["WebSquare.uiplugin.autoComplete.toggle"];try{if(this.isOpen){this.closeSubLayer();}else{this.openSubLayer();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.openSubLayer=function(obj){["WebSquare.uiplugin.autoComplete.openSubLayer"];try{$W.getBody().getLayerListener().show(this.id,obj);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype._openSubLayer=function(obj){["WebSquare.uiplugin.autoComplete._openSubLayer"];try{if(!obj){obj={};}var _70=(obj.select===undefined)?true:obj.select;this.setSubLayer();if(!this.isOpen){if(this.itemArr.length==0){return;}this.itemTable.show();this.itemTable.render.setAttribute("aria-expended","true");this.setItemTable();if(this.options.wmode==true){$W.getBody().showWModeFrame(this.getPluginName(),this.itemTable.render);}if(this.selectedIndex!=-1&&_70){this.itemTable.setSelectedIndex(this.selectedIndex);}if(this.editmode){if(typeof this.dom.input!="undefined"&&this.dom.input!=null){this.setfFocus();}}else{}this.isOpen=true;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype._openOtherLayer=function(obj){["WebSquare.uiplugin.autoComplete._openOtherLayer"];try{if(!this.isOpen){if(this.itemArr.length==0){return;}var _72=this.otherComponent;if(this.itemTableMode=="grid"){this.setSubLayer();this.setGridData();if(this.gridOptions.visibleRowNum!==""){this.itemTable.render.style.height=this.itemTable.grid.render.style.height;}_72=this.itemTable;_72.grid.removeFocusedCell();_72.show();_72.grid.handleResize();}else{if(this.itemTableMode=="gridView"){this.setSubLayer();this.setGridViewData();if(this.gridOptions.visibleRowNum!==""){this.itemTable.render.style.height=this.itemTable.gridView.render.style.height;}_72=this.itemTable;if(Object.keys(_72.gridView._dataList).length!==0){_72.gridView.removeFocusedCell();}_72.show();_72.gridView.handleResize();}else{_72.show();}}var _73=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(this.render);var _75=this.options.direction;if(_75=="auto"||_75=="fit"){var _76=document.body.scrollTop;if(_76<document.documentElement.scrollTop){_76=document.documentElement.scrollTop;}var _77=top-_76;var _78=document.documentElement.clientHeight-(_77+this.render.offsetHeight);var _79=_72.render.offsetHeight;if(_78<_79&&_77>_79){_75="up";}}if(_75=="up"){top=top-_72.render.offsetHeight;}else{top=top+this.render.offsetHeight;}if(_75!="fit"&&document.documentElement.clientWidth<(_73+_72.render.offsetWidth)){_73=_73+this.render.offsetWidth-_72.render.offsetWidth;}if(_73<0){_73=0;}if(this.options.direction=="fit"){if(this.itemTableMode=="grid"){this.itemTable.render.firstChild.style.width="100%";}_73=$W._H.getAbsoluteLeft(this.render);_72.setPosition(_73,top);var _7a=document.documentElement.clientWidth-_73;_72.setSize(_7a,_72.render.offsetHeight);}_72.setPosition(_73,top);this.isOpen=true;}else{this.setGridData();}if(this.selectedIndex!=-1){for(var i=0;i<this.viewArr.length;i++){if(this.viewArr[i].index==this.selectedIndex){this.itemTable.setSelectedIndex(i,obj&&obj.noFocus);break;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.closeSubLayer=function(){["WebSquare.uiplugin.autoComplete.closeSubLayer"];try{$W.getBody().getLayerListener().hide(this.id);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype._closeSubLayer=function(){["WebSquare.uiplugin.autoComplete._closeSubLayer"];try{if(this.isOpen&&this.itemTable!=null){this.itemTable.hide();this.itemTable.render.setAttribute("aria-expended","false");if(this.options.wmode==true){$W.getBody().hideWModeFrame(this.getPluginName(),this.itemTable.id);}this.isOpen=false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype._closeOtherLayer=function(_7c){["WebSquare.uiplugin.autoComplete._closeOtherLayer"];try{var _7c=_7c||{};var _7d=_7c.documentClick;var _7e=this.otherComponent;if(this.itemTableMode=="grid"||this.itemTableMode=="gridView"){_7e=this.itemTable;}if(this.isOpen&&_7e!=null){_7e.hide();if(this.itemTableMode=="grid"){_7e.grid.handleResize();}else{if(this.itemTableMode=="gridView"){_7e.gridView.handleResize();}}this.isOpen=false;if(_7d===true){$W._c.fireEvent(this,"onclose",true);}else{$W._c.fireEvent(this,"onclose",false);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.getItemCount=function(){["WebSquare.uiplugin.autoComplete.getItemCount"];try{return this.itemArr.length;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.setSelectedIndex=function(idx,_80){["WebSquare.uiplugin.autoComplete.setSelectedIndex"];try{if($W._G.isNull(idx)){return;}if(isNaN(idx)||idx>=this.getItemCount()){return;}if(idx<0&&!_80){return;}idx=parseInt(idx);var _81="";if(idx>-1){_81=this.itemArr[idx].value;}this.modelControl.setData(_81);var _82=this.getSelectedIndex();this.setSelectedIndexNM(idx,_80);if(_82!=this.getSelectedIndex()){$W._c.fireEvent(this,"onchange");}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.setSelectedIndexNM=function(idx,_84){["WebSquare.uiplugin.autoComplete.setSelectedIndexNM"];try{this.dummyData=null;idx=parseInt(idx);if(isNaN(idx)||idx>=this.getItemCount()){return false;}if(idx<0&&!_84){return false;}this.selectedIndex=idx;if(idx>-1){if(this.itemTableMode=="grid"){if(this.gridOptions.dataComp){this.selectedGridRowObj=this.gridOptions.dataComp.getRowArray(idx);}else{this.selectedGridRowObj=this.gridRowItemArr[idx];}}else{if(this.itemTableMode=="gridView"){if(this.gridViewOptions.dataComp){this.selectedGridViewRowObj=this.gridViewOptions.dataComp.getRowArray(idx);}}}var _85=this.itemArr[idx].label;var _86=(this.options.escape)?$W._B._encode(_85):_85;_86=this.getFormattedValue(idx,_86);this.dom.label.innerHTML=_86;this.dom.input.value=_85;this.selectedItem={text:_85,value:this.itemArr[idx].value,orgLabel:this.itemArr[idx].orgLabel};if(this.itemTable){this.render.setAttribute("aria-activedescendant",this.itemTable.id+"_"+idx);}}else{this.dom.label.innerHTML="";this.dom.input.value="";}this.showEditMode(false);return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.autoComplete.getSelectedIndex"];try{return this.selectedIndex;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.setValue=function(_87){["WebSquare.uiplugin.autoComplete.setValue"];try{if($W._G.isNull(_87)){return;}var _88=this.getValue();if(this.setValueNM(_87)==true){this.modelControl.setData(_87);if(_88!=this.getValue()){$W._c.fireEvent(this,"onchange");}}else{this.setSelectedIndex(0);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.setValueNM=function(_89){["WebSquare.uiplugin.autoComplete.setValueNM"];try{if($W._G.isNull(_89)){return;}_89=_89.toString();var _8a=this.getItemCount();for(var i=0;i<_8a;i++){if(this.itemArr[i].value==_89){this.setSelectedIndexNM(i);return true;}}return false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.getValue=function(){["WebSquare.uiplugin.autoComplete.getValue"];try{if(this.dummyData){return this.dummyData.value;}else{if(this.itemArr[this.selectedIndex]){return this.itemArr[this.selectedIndex].value;}else{if(this.options.returnValueType=="empty"){return "";}else{return null;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.setText=function(_8c,_8d){["WebSquare.uiplugin.autoComplete.setText"];try{var _8e=this.getItemCount();var _8f="";if(_8d){for(var i=0;i<_8e;i++){if(this.itemArr[i].orgLabel==_8c){_8f=this.itemArr[i].value;}}}else{for(var i=0;i<_8e;i++){if(this.itemArr[i].label==_8c){_8f=this.itemArr[i].value;}}}this.setValue(_8f);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.getText=function(_91){["WebSquare.uiplugin.autoComplete.getText"];try{if(this.dummyData){return this.dummyData.label;}else{if(this.itemArr[this.selectedIndex]){return _91?this.itemArr[this.selectedIndex].orgLabel:this.itemArr[this.selectedIndex].label;}else{return null;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.setItem=function(_92,_93,_94,_95){["WebSquare.uiplugin.autoComplete.setItem"];try{if(!this.itemArr){return;}if(this.itemArr.length<=_95){return;}this.itemArr[_95].label=_92;this.itemArr[_95].value=_93;this.itemArr[_95].label=this.getItemText(_95);this.itemArr[_95].orgLabel=_92;this.itemArr[_95].xml=_94;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.addItem=function(_96,_97,_98,_99){["WebSquare.uiplugin.autoComplete.addItem"];try{if(this.itemTableMode=="grid"||this.itemTableMode=="gridView"){return;}var _9a;var _9b=true;if(_98==null){var _9c="<DATA><label>"+$W._B.encode(_96)+"</label><value>"+$W._B.encode(_97)+"</value></DATA>";_9a=$W._B.parse(_9c);}var _9d={label:_96,value:_97,orgLabel:_96,xml:_9a};_99=parseInt(_99,10);if(isNaN(_99)){_99=this.getItemCount();}else{if(_99<0||_99>=this.getItemCount()){_99=this.getItemCount();}}for(var i=0;i<this.itemArr.length;i++){if(this.itemArr[i].value==_9d.value){_9b=false;alert($W._m.getMessage("AutoComplete_addItem_invalid",this.id,i));break;}}if(_9b){if(_99===undefined){if(this.options.displayMode!="0"){_9d.label=this.getItemText(_99);}this.itemArr.push(_9d);}else{this.itemArr.splice(_99,0,_9d);if(this.options.displayMode!="0"){this.itemArr[_99].label=this.getItemText(_99);}if(_99<=this.selectedIndex){this.setSelectedIndexNM(this.selectedIndex+1);}}return true;}else{return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.getItem=function(_9f){["WebSquare.uiplugin.autoComplete.getItem"];try{if(_9f===undefined){return;}if(_9f>=this.itemArr.length||_9f<0){return;}if(this.itemTable&&this.gridOptions.sortIndex&&this.gridItemArr.length>0){return this.itemArr[this.itemTable.grid.getRealRowIndex(_9f)];}else{return this.itemArr[_9f];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.getItemCount=function(){["WebSquare.uiplugin.autoComplete.getItemCount"];try{return this.itemArr.length;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.getSearchedItems=function(){["WebSquare.uiplugin.autoComplete.getSearchedItems"];try{return this.viewArr;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.getSelectedRow=function(){["WebSquare.uiplugin.autoComplete.getSelectedRow"];try{if(this.itemTableMode=="grid"){return this.selectedGridRowObj;}else{if(this.itemTableMode=="gridView"){return this.selectedGridViewRowObj;}else{var _a0={};_a0["label"]=this.selectedItem.orgLabel;_a0["value"]=this.selectedItem.value;return _a0;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.onPropertyChange=function(_a1,_a2){["WebSquare.uiplugin.autoComplete.onPropertyChange"];try{switch(_a1){case "disabled":var _a3=this.dom.button;if(_a2==true){this.closeSubLayer();this.addClass("w2autoComplete_disabled");if(_a3!=null){this.addClass(_a3,"w2autoComplete_button_disabled");}}else{this.removeClass("w2autoComplete_disabled");if(_a3!=null){this.removeClass(_a3,"w2autoComplete_disabled");}}var _a4=this.getElementById(this.id+"_input");_a4.disabled=_a2;break;case "readOnly":if(_a2==true){this.addClass("w2autoComplete_readonly");}else{this.removeClass("w2autoComplete_readonly");}var _a4=this.getElementById(this.id+"_input");_a4.readOnly=_a2;case "mandatory":if(_a2==true){this.addClass(this.render,"w2autoComplete_mandatory");}else{this.removeClass(this.render,"w2autoComplete_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.setSelectedIndex1=function(idx,_a6,_a7){["WebSquare.uiplugin.autoComplete.setSelectedIndex1"];try{var _a8=this.selectedIndex;var _a9=this.getValue();this.setSelectedIndex(idx,_a7);if(_a8!=this.selectedIndex){var _aa={"oldValue":_a9,"newValue":this.getValue(),"oldSelectedIndex":_a8,"newSelectedIndex":this.selectedIndex};$W._c.fireEvent(this,"onviewchange",_aa);}if(!_a6){this.closeSubLayer();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.validate=function(){["WebSquare.uiplugin.autoComplete.validate"];try{var _ab=this.validator.validate(this.getValue());if(!_ab){this.focus();}return _ab;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.showTooltip=function(_ac,top,_ae){["WebSquare.uiplugin.autoComplete.showTooltip"];try{if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}if(this.timeHideTooltip!=null){clearTimeout(this.timeHideTooltip);this.timeHideTooltip=null;}this.timeShowTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(!this.tooltip){this.tooltip=new $W._a._o(this.id+"_tooltip",{className:"w2autoComplete_tooltip "+this.options.tooltipClass});this.tooltip.writeTo($W.getBody(),null,this.parentFrame);this.tooltip.activate();this.tooltip.removeClass("w2group");}this.tooltip.setStyle("display","block");this.tooltip.setStyle("left",_ac+"px");this.tooltip.setStyle("top",top+"px");if(this.options.escape){_ae=$W._B._encode(_ae);}this.tooltip.render.innerHTML=_ae;}),this.options.tooltipTime*1000);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.hideTooltip=function(){["WebSquare.uiplugin.autoComplete.hideTooltip"];try{this.timeHideTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(this.tooltip){this.tooltip.setStyle("display","none");}}),this.options.tooltipTime*1000);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.autoComplete.handleClickEvent"];try{if(this.options.disabled){return false;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2autoComplete_input")){if(this.isOpen){return;}}if(it.match("w2autoComplete_col_label")){if(this.isOpen){this.closeSubLayer();}this.changeMode();return;}}this.mozTrickBuffer="";this.editmode=false;if(!this.options.interactionMode){this.viewArr=[];for(var i=0;i<this.itemArr.length;i++){this.viewArr.push({label:this.itemArr[i].label,value:this.itemArr[i].value,orgLabel:this.itemArr[i].orgLabel,index:i});}}if(!this.options.useOtherComponentId){var _b2=this.isOpen;this.setSubLayer();if(_b2==this.isOpen){if(this.options.useKeywordHighlight){if(this.selectedIndex>=0&&this.viewArr[this.selectedIndex]!=undefined){this.viewArr[this.selectedIndex].label=this.itemArr[this.selectedIndex].label;}}this.toggle();}}else{this.toggle();}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.handleClickEventDocument=function(e){["WebSquare.uiplugin.autoComplete.handleClickEventDocument"];try{if(!this.event.isMe(e,this.render)&&this.options.handleOtherClick){if(this.itemTable!=null&&this.itemTable.inputBlurInside){$W._N.setTimer(this.endEdit,{key:this.id+"_handleClickEventDocument",caller:this,delay:1});this.itemTable.inputBlurInside=false;}if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}if(this.itemTable!=null&&this.findkeymode==false){if($W.getBody().getLayerListener().isShow(this.id)){this.closeSubLayer();}}else{if(this.itemTable!=null&&this.findkeymode==true){this.findkeymode=true;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.endEdit=function(){["WebSquare.uiplugin.autoComplete.endEdit"];try{var _b4=this.dom.input.value;var ret=$W._c.fireEvent(this,"oneditend",_b4);if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}var idx;var str=this.dom.input.value;var _b8=this.options.searchTarget;var _b9=this.itemArr[this.selectedIndex];if(_b9!=undefined&&((_b8==="value"&&str===_b9.value)||(_b8==="label"&&str===_b9.orgLabel)||(_b8==="all"&&str===_b9.orgLabel+"|"+_b9.value))){idx=this.selectedIndex;}else{idx=this.findinItemArr(this.dom.input.value,this.options.searchTarget);}if(idx!=undefined){this.setSelectedIndex(idx);}else{if(this.noResult==="useData"){idx=0;this.addItem(this.dom.input.value,this.dom.input.value,null,idx);this.setSelectedIndex(idx);}}var _ba="";if(this.dom.input!=null&&this.itemArr!=null&&this.selectedIndex!=-1){if(this.selectedItem.text==this.dom.input.value&&this.dom.input.value!=""){_ba=(this.options.escape)?$W._B._encode(this.selectedItem.text):this.selectedItem.text;_ba=this.getFormattedValue(this.selectedIndex,_ba);this.dom.label.innerHTML=_ba;}else{if(this.itemArr&&this.itemArr[this.selectedIndex]){_ba=(this.options.escape)?$W._B._encode(this.itemArr[this.selectedIndex].label):this.itemArr[this.selectedIndex].label;_ba=this.getFormattedValue(this.selectedIndex,_ba);this.dom.label.innerHTML=_ba;}else{this.dom.label.innerHTML="";}}}this.showEditMode(false);this.mozTrickBuffer="";if($W._N.browserCheck.moz||$W._N.browserCheck.opera){this.findStop=true;$W._G.clearInterval(this.id+"_mozTrickCompare");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.handleblurEventInput=function(){["WebSquare.uiplugin.autoComplete.handleblurEventInput"];if(this.dom.input.style.display!="none"&&this.options.handleOtherClick){if(this.itemTable==null||(this.itemTable!=null&&!this.itemTable.inputBlurInside)){this.endEdit();if(this.isOpen){this.closeSubLayer();}}}};$W._a.an.prototype.handleKeypressEvent=function(e){["WebSquare.uiplugin.autoComplete.handleKeypressEvent"];try{var _bc=this.dom.input.value;if(!this.validator.validateKeyPress(this.dom.input,_bc,e)){$W._c.stopEvent(e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.autoComplete.handleKeydownEvent"];try{if(this.event.isMe(e,this.dom.input)){this.editmode=true;this.inputKeyDown(e,false);if($W._N.browserCheck.moz||$W._N.browserCheck.opera){this.mozTrickCompare();$W._G.setInterval(this.mozTrickCompare,{key:this.id+"_mozTrickCompare",caller:this,delay:10});}return;}else{var _be=(e.charCode)?e.charCode:e.keyCode;if($W._N.browserCheck.opera){if((_be==18)&&!this.isOpen){this.handleClickEvent(e);return;}else{if(_be==13&&!this.isOpen){this.changeMode();return;}}}else{if((_be==40||_be==38)&&!this.isOpen){this.handleClickEvent(e);return;}else{if(_be==13&&!this.isOpen){this.changeMode();return;}}}if(this.itemTable!=null&&this.viewArr.length>0){if(this.isOpen==true&&this.itemTableMode!="grid"&&this.itemTableMode!="gridView"){this.itemTable.handleKeydownEvent(e);}this.editmode=false;}else{if(this.itemTable!=null){if(this.itemTable.render.style.display==""){return;}}}}if(this.itemTable!=null){if(this.itemTable.render.style.display==""){return;}}return;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.find=function(){try{var _bf=this.dom.input.value;if(_bf==""){this.mozTrickBuffer=_bf;if(this.itemTable!=null){this.closeSubLayer();}return;}if(this.mozTrickBuffer==_bf){this.mozTrickBuffer=_bf;return;}else{this.mozTrickBuffer=_bf;}if(this.isOpen){this.closeSubLayer();}this.viewArr=[];if(!this.options.caseSensitive){_bf=_bf.toLowerCase();}for(var i=0;i<this.itemArr.length;i++){var _c1=false;if(!this.itemArr[i].orgLabel){this.itemArr[i].orgLabel=this.itemArr[i].label;this.itemArr[i].label=this.getItemText(i);}if(!_c1&&(this.options.searchTarget=="label"||this.options.searchTarget=="both")){var _c2=(this.options.caseSensitive)?this.itemArr[i].orgLabel:this.itemArr[i].orgLabel.toLowerCase();if(this.search=="contain"){_c1=this.myhelper.containWith(_c2,_bf);}else{if(this.search=="start"){_c1=this.myhelper.startWith(_c2,_bf);}else{if(this.search=="none"){if(_c2==_bf){_c1=true;}else{_c1=false;}}}}}if(!_c1&&(this.options.searchTarget=="value"||this.options.searchTarget=="both")){var _c3=(this.options.caseSensitive)?this.itemArr[i].value:this.itemArr[i].value.toLowerCase();if(this.search=="contain"){_c1=this.myhelper.containWith(_c3,_bf);}else{if(this.search=="start"){_c1=this.myhelper.startWith(_c3,_bf);}else{if(this.search=="none"){if(_c3==_bf){_c1=true;}else{_c1=false;}}}}}var _c4=this.itemArr[i].label;if(this.options.useKeywordHighlight){var _c5=_c4.indexOf(this.mozTrickBuffer);if(_c5>=0){_c4=_c4.substring(0,_c5)+"<span class='w2autoComplete_keyword'>"+this.mozTrickBuffer+"</span>"+_c4.substring(_c5+this.mozTrickBuffer.length,_c4.length);}}if(_c1){this.viewArr.push({value:this.itemArr[i].value,label:_c4,orgLabel:this.itemArr[i].orgLabel,index:i});}}if(this.options.disabled){return false;}if(this.viewArr.length>0){if(!this.isOpen){if(this.options.allOption==true&&this.itemTableMode!="gridView"){this.viewArr=[{label:this.defaultAllOptionLabel,value:$W.allValue,orgLabel:this.defaultAllOptionLabel,index:0}].concat(this.viewArr);}if(this.itemTableMode=="grid"||this.itemTableMode=="gridView"){this.openSubLayer({noFocus:true});}else{this.openSubLayer({select:false});}}}else{this.closeSubLayer();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.runSubmission=function(_c6){try{var _c7=true;var _c8=this.dom.input.value;var _c9=$W._G.getStringByteSize(_c8);if(this.options.interactionMinByteLength>0&&this.options.interactionMinByteLength>_c9){_c7=false;}if(this.options.allowEmptySubmission!="false"&&_c8==""){}else{if(this.options.interactionKey=="default"){if(this.mozTrickBuffer==_c8){_c7=false;}}}if(_c7){this.mozTrickBuffer=_c8;if(this.options.submissionFunc.wq_trim()!=""){eval(this.options.submissionFunc+"('"+_c8+"', "+_c6+")");}else{if(this.options.submission.wq_trim()!=""){var _ca="<key>"+$W._B.encode(_c8)+"</key>";$W.WebSquaredoc.models[0].rebuild($W._B.parse(_ca),this.options.keyInputRef);$W.WebSquaredoc.models[0].refresh();$W._J.executeSubmission(this.options.submission);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.inputKeyDown=function(e,_cc){["WebSquare.uiplugin.autoComplete.inputKeyDown"];try{if(_cc==false){var _cd=(e.charCode)?e.charCode:e.keyCode;}if(this.interactionMode){this.editmode=false;if(_cc==false){if(this.options.interactionKey=="default"||this.isOpen){if(_cd==40&&!this.isOpen){}else{if(_cd==38||_cd==33||_cd==40||_cd==34||_cd==35||_cd==36){if($W._N.browserCheck.chrome||$W._N.browserCheck.safari||$W._G.isIEAllVersion()){if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}}else{if($W._N.browserCheck.moz||$W._N.browserCheck.opera){this.findStop=true;}}if(this.itemTableMode!="grid"&&this.itemTableMode!="gridView"){this.arrowHandle(e);}if($W.getBody().getLayerListener().isShow(this.id)){if(this.itemTableMode=="grid"){this.itemTable.setFocusedCell(0,0);}else{this.itemTable.focus();}}return;}else{if(_cd==13){this.enterHandle(e);return;}else{if(_cd==9||(_cd==9&&e.shiftKey)){if(this.dom.input.value==""||this.viewArr.length==0){this.endEdit();return;}if(this.itemTableMode!="grid"&&this.itemTableMode!="gridView"){this.arrowHandle(e);}if($W.getBody().getLayerListener().isShow(this.id)){if(this.itemTableMode=="grid"||this.itemTableMode=="gridView"){this.itemTable.setFocusedCell(0,0);}else{this.itemTable.focus();}}if($W._N.browserCheck.chrome||$W._N.browserCheck.safari||$W._G.isIEAllVersion()){if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}}else{if($W._N.browserCheck.moz||$W._N.browserCheck.opera){this.findStop=true;}}this.endEdit();if(this.isOpen){this.closeSubLayer();}return;}}}}}else{if(this.options.interactionKey=="all"){}}}var _ce=this;this.mytime=setTimeout(function(){_ce.runSubmission(_cd);},100);return;}else{if(_cc==false){if(_cd==40&&!this.isOpen){if(this.dom.input.value.wq_trim()==""){this.render.click();return;}}else{if(_cd==38||_cd==33||_cd==40||_cd==34||_cd==35||_cd==36){if($W._N.browserCheck.chrome||$W._N.browserCheck.safari||$W._G.isIEAllVersion()){if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}}else{if($W._N.browserCheck.moz||$W._N.browserCheck.opera){this.findStop=true;}}this.arrowHandle(e);if($W.getBody().getLayerListener().isShow(this.id)&&this.itemTableMode!="grid"&&this.itemTableMode!="gridView"){this.itemTable.focus();}return;}else{if(_cd==13){this.enterHandle(e);return;}else{if(_cd==9||(_cd==9&&e.shiftKey)){if(this.dom.input.value==""||this.viewArr.length==0){this.endEdit();return;}this.arrowHandle(e);if($W.getBody().getLayerListener().isShow(this.id)){this.itemTable.focus();}if($W._N.browserCheck.chrome||$W._N.browserCheck.safari||$W._G.isIEAllVersion()){if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}}else{if($W._N.browserCheck.moz||$W._N.browserCheck.opera){this.findStop=true;}}this.endEdit();if(this.isOpen){this.closeSubLayer();}return;}}}}}this.selectedItem={text:"",value:"",orgLabel:""};this.selectedGridRowObj={};if(this.itemArr.length>0){var _ce=this;this.mytime=setTimeout(function(){_ce.find();},100);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.arrowHandle=function(e){try{var _d0=(e.charCode)?e.charCode:e.keyCode;if(this.itemTable==null){return;}if(this.editmode||this.findkeymode){if(this.dom.input.value==""||this.viewArr.length==0){$W._c.stopEvent(e);return;}}var _d1=0;for(var i=0;i<this.viewArr.length;i++){if(this.selectedItem.orgLabel==this.viewArr[i].orgLabel){_d1=i;break;}}if(_d0==9||(_d0==9&&e.shiftKey)){}else{if(this.itemTableMode!="grid"&&this.itemTableMode!="gridView"){this.itemTable.handleKeydownEvent(e);}}if(this.viewArr.length>0){var _d3=this.viewArr[_d1].label;if(this.options.useKeywordHighlight){_d3=_d3.wq_replaceAll("<span class='w2autoComplete_keyword'>","").wq_replaceAll("</span>","");}this.dom.input.value=_d3;this.selectedItem={text:_d3,value:this.viewArr[_d1].value,orgLabel:this.viewArr[_d1].orgLabel};this.itemTable.setSelectedIndex(_d1);}this.mozTrickBuffer="";return;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.enterHandle=function(e){["WebSquare.uiplugin.autoComplete.enterHandle"];try{var _d5=this.dom.input.value;var ret=$W._c.fireEvent(this,"oneditend",_d5);if(this.itemTable==null||this.itemTable.selectedCell==null){if(this.itemTable==null&&!this.options.useOtherComponentId){this.setSubLayer();}if(this.itemTable.selectedCell==null){var idx=this.findinItemArr(this.dom.input.value,this.options.searchTarget);if(this.noResult==="clear"){if(idx===undefined){idx=-1;}this.setSelectedIndex1(idx,true);}else{if(this.noResult==="previous"){if(this.interactionMode==true){if(idx===undefined){idx=-1;}}this.setSelectedIndex1(idx,true);}else{if(this.noResult==="noEnd"){if(idx===undefined){return;}else{this.setSelectedIndex1(idx);}}else{if(this.noResult==="useData"){if(idx===undefined){idx=0;this.addItem(this.dom.input.value,this.dom.input.value,null,idx);}this.setSelectedIndex1(idx,true);}else{if(this.noResult==="first"){if(this.dom.input.value==0||this.findinItemArr(this.dom.input.value,"value")===undefined){if(this.itemArr.length>0){index=this.findinItemArr(this.itemArr[0].value,"value");this.setSelectedIndex1(index,true);}}else{if(this.viewArr.length>0){index=this.findinItemArr(this.viewArr[0].value,"value");this.setSelectedIndex1(index,true);}}}}}}}}}if($W._N.browserCheck.opera){$W._c.stopEvent(e);}this.mozTrickBuffer="";if(this.itemTable.selectedCell!=null){var _d8=this.findinItemArr(this.dom.input.value,this.options.searchTarget);if(this.noResult==="clear"){if(_d8===undefined){_d8=-1;}this.setSelectedIndex1(_d8,true,true);}else{if(this.noResult==="previous"){if(this.interactionMode==true){if(_d8===undefined){_d8=-1;}this.setSelectedIndex1(_d8,true,true);}else{if(_d8===undefined){_d8=this.itemTable.selectedCell.index;if(typeof _d8=="undefined"){_d8=this.itemTable.selectedCell.getAttribute("index");}}this.setSelectedIndex1(_d8,true);}}else{if(this.noResult==="noEnd"){if(_d8===undefined){return;}this.setSelectedIndex1(_d8,true);}else{if(this.noResult==="useData"){if(_d8===undefined){_d8=0;this.addItem(this.dom.input.value,this.dom.input.value,null,_d8);}this.setSelectedIndex1(_d8,true);}else{if(this.noResult==="first"){if(this.dom.input.value==0||this.findinItemArr(this.dom.input.value,"value")===undefined){if(this.itemArr.length>0){_d8=this.findinItemArr(this.itemArr[0].value,"value");this.setSelectedIndex1(_d8,true);}}else{if(this.viewArr.length>0){_d8=this.findinItemArr(this.viewArr[0].value,"value");this.setSelectedIndex1(_d8,true);}}}}}}}}if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}this.showEditMode(false);this.focus();this.closeTable();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.findinItemArr=function(str,_da){try{var _db=_da||"label";for(var i=0;i<this.itemArr.length;i++){if(_db==="value"){if(str==this.itemArr[i].value){return i;}}else{if(_db==="label"){if(str==this.itemArr[i].orgLabel){return i;}}else{if(_db==="all"){if(str==this.itemArr[i].orgLabel+"|"+this.itemArr[i].value){return i;}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.closeTable=function(){try{this.closeSubLayer();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.showTable=function(){try{this.openSubLayer({select:false});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.handleMousewheelEvent=function(e){["WebSquare.uiplugin.autoComplete.handleMousewheelEvent"];try{$W._c.stopEvent(e);if(!this.options.useMousewheel){return;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2autoComplete_selected")){if(!this.isOpen){var _df=this.getSelectedIndex();if(e.wheelDelta>0||e.detail<0){this.setSelectedIndex1(_df-1);}else{this.setSelectedIndex1(_df+1);}}else{if(this.itemTableMode!="grid"&&this.itemTableMode!="gridView"){var _df=this.itemTable.selectedCell.index;if(typeof _df=="undefined"){_df=this.itemTable.selectedCell.getAttribute("index");this.dom.input.value=this.viewArr[_df].label;}if(e.wheelDelta>0||e.detail<0){this.itemTable.setSelectedIndex(_df);}else{this.itemTable.setSelectedIndex(_df);}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.autoComplete.handleFocusEvent"];try{$W._c.stopEvent(e);if(!this.isOpen){var _e1=document.getElementById(this.id+"_main_tbody");this.addClass(_e1,"w2autoComplete_selected");if(this.options.editModeEvent=="onfocus"){this.changeMode();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.autoComplete.handleBlurEvent"];try{$W._c.stopEvent(e);if(!this.isOpen){var _e3=document.getElementById(this.id+"_main_tbody");this.removeClass(_e3,"w2autoComplete_selected");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.autoComplete.handleMouseoverEvent"];try{$W._c.stopEvent(e);if(!$W._G.isIE(6)){if(!this.isOpen){var _e5=document.getElementById(this.id+"_main_tbody");this.addClass(_e5,"w2autoComplete_selected");}}if(!this.isOpen){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2autoComplete")){if(this.options.tooltipDisplay==true&&!this.editmode){var _e7=it.getElement();var _e8=$W._H.getAbsoluteLeft(_e7)+20;var top=$W._H.getAbsoluteTop(_e7)+this.render.offsetHeight+3;var _ea=this.dom.label.innerHTML;this.showTooltip(_e8,top,_ea);}}}it=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.autoComplete.handleMouseoutEvent"];try{$W._c.stopEvent(e);if(this.options.tooltipDisplay==true){this.hideTooltip();}if(!this.isOpen){var _ec=document.getElementById(this.id+"_main_tbody");this.removeClass(_ec,"w2autoComplete_selected");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.changeMode=function(){["WebSquare.uiplugin.autoComplete.changeMode"];try{this.editmode=true;this.findStop=false;if(this.dom.input.style.display!="block"){var _ed="";if(this.options.searchTarget=="value"){_ed=this.selectedItem.value;}else{if(this.options.searchTarget=="label"||this.options.searchTarget=="both"){_ed=this.selectedItem.orgLabel;}else{_ed=this.selectedItem.orgLabel;}}if(this.options.editType=="focus"){this.showEditMode(true);if(document.activeElement!=this.dom.input){this.setfFocus();}var _ee=$W._B.decode(_ed);this.dom.input.value=_ee;if($W._G.isOpera()||$W._G.isFF()){this.dom.input.setSelectionRange(_ee.length,_ee.length);}}else{this.dom.input.value=$W._B.decode(_ed);this.showEditMode(true);this.dom.input.select();this.setfFocus();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.showEditMode=function(_ef){["WebSquare.uiplugin.autoComplete.showEditMode"];if(_ef){this.dom.label.style.display="none";this.dom.label.style.visibility="hidden";this.dom.input.style.display="block";this.dom.input.style.visibility="visible";}else{$W._N.setTimer(function(){try{this.dom.input.style.display="none";this.dom.input.style.visibility="hidden";this.dom.label.style.display="block";this.dom.label.style.visibility="visible";}catch(e){}},{key:this.id+"_showEditMode",caller:this,delay:1});}};$W._a.an.prototype.setfFocus=function(){["WebSquare.uiplugin.autoComplete.setfFocus"];try{this.dom.input.focus();if(this.itemTable!=null){this.itemTable.inputBlurInside=false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.mozTrickCompare=function(){["WebSquare.uiplugin.autoComplete.mozTrickCompare"];try{var _f0=this;if(this.dom.input.value!=this.trickBuffer){this.trickBuffer=this.dom.input.value;if(this.findStop==false){_f0.inputKeyDown({},true);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.setInputFocus=function(){["WebSquare.uiplugin.autoComplete.setInputFocus"];try{this.changeMode();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.setItemTableFocus=function(){["WebSquare.uiplugin.autoComplete.setItemTableFocus"];try{if($W.getBody().getLayerListener().isShow(this.id)){this.itemTable.focus();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.setEditMode=function(){["WebSquare.uiplugin.autoComplete.setInputFocus"];try{this.setInputFocus();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.removeAll=function(_f1){["WebSquare.uiplugin.autoComplete.removeAll"];try{this.selectedItem={text:"",value:"",orgLabel:""};this.itemArr=new Array();if(_f1){if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:$W.allValue,orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);}if(this.options.chooseOption==true){this.itemArr=[{label:this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel,value:this.options.chooseOptionValue,orgLabel:this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel}].concat(this.itemArr);}}this.setSelectOptions(this.itemArr);if(this.itemArr.length>0){this.dom.label.innerHTML=(this.options.escape)?$W._B._encode(this.itemArr[0].label):this.itemArr[0].label;}else{this.dom.label.innerHTML="";}if(this.itemTableMode=="grid"){this.viewArr=[];this.gridItemArr=[];this.gridRowItemArr=[];this.selectedGridRowObj={};if(this.itemTable){this.itemTable.grid.removeAll();}}else{if(this.itemTableMode=="gridView"){this.viewArr=[];this.gridViewItemArr=[];this.gridViewRowItemArr=[];this.selectedGridViewRowObj={};if(this.itemTable){var _f2=$W._G.getComponentById(this.itemTable.gridView.options.dataList);_f2.removeAll();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.initAutoComplete=function(){["WebSquare.uiplugin.autoComplete.initAutoComplete"];try{this.removeAll();this.selectedIndex=-1;this.selectedItem={text:"",value:"",orgLabel:""};this.dom.input.value="";this.dummyData=null;if(this.isOpen){this.closeSubLayer();}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.an.prototype.hide=function(){["WebSquare.autoComplete.hide"];try{this.closeSubLayer();$W._n.prototype.hide.call(this);}catch(e){$W.exception.printStackTrace(e);}};$W._a.an.prototype.getFormattedValue=function(_f3,_f4){["WebSquare.autoComplete.getFormattedValue"];try{var ret=_f4;if(this.options.displayFormatter){if(!this.displayFormatter){this.fixedIndex=-1;if(this.options.allOption==true){this.fixedIndex++;}if(this.options.chooseOption==true){this.fixedIndex++;}try{this.displayFormatter=(this.options.displayFormatter)?eval(this.options.displayFormatter):null;}catch(e){}}if(this.displayFormatter&&_f3>this.fixedIndex){ret=this.displayFormatter(_f4);}}return ret;}catch(e){$W.exception.printStackTrace(e);}};$W._a.an.prototype.setRef=function(ref){["WebSquare.uiplugin.autoComplete.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.an.prototype.setGridData=function(){["WebSquare.uiplugin.autoComplete.prototype.setGridData"];this.itemTable.grid.clearFilter();this.itemTable.grid.setTopRowIndex(0);var _f7=this.itemsetObj.labelId;var _f8=this.itemsetObj.valueId;if(!this.options.interactionMode){this.gridItemArr=[];if(this.gridOptions.dataComp){var _f9=this.itemTable.grid.getColCnt();var _fa=this.gridOptions.dataComp.getColumnCount();if(_fa!=_f9){var _fb=[];var _fc={};var _fd=0;var _fe=[];for(var i in this.itemTable.grid.cellInfoHash){_fb.push(this.itemTable.grid.cellInfoHash[i].id);}_fd=this.gridOptions.dataComp.getColData(_fb[0]).length;if(this.gridOptions.dataComp.sortStatusArr==undefined){for(var j=0;j<_fb.length;j++){_fc[_fb[j]]=this.gridOptions.dataComp.getColData(_fb[j]);}for(var cnt=0;cnt<_fd;cnt++){_fe[cnt]={};for(var i in _fc){_fe[cnt][i]=_fc[i][cnt];}}for(var i=0;i<this.viewArr.length;i++){for(var j=0;j<_fe.length;j++){if(this.viewArr[i].orgLabel===_fe[j][this.itemsetObj.label]&&this.viewArr[i].value===_fe[j][this.itemsetObj.value]){var arr=[];for(var k in _fe[j]){arr.push(_fe[j][k]);}this.gridItemArr=this.gridItemArr.concat(arr);break;}}}}}else{for(var i=0;i<this.viewArr.length;i++){for(var j=0;j<this.itemArr.length;j++){if(this.viewArr[i].orgLabel===this.itemArr[j].label&&this.viewArr[i].value===this.itemArr[j].value){this.gridItemArr=this.gridItemArr.concat(this.gridOptions.dataComp.getRowData(j));break;}}}}}else{for(var i=0;i<this.viewArr.length;i++){for(var j=0;j<this.gridRowItemArr.length;j++){if(this.viewArr[i].orgLabel===this.gridRowItemArr[j][_f7]&&this.viewArr[i].value===this.gridRowItemArr[j][_f8]){for(var key in this.gridRowItemArr[j]){this.gridItemArr.push(this.gridRowItemArr[j][key]);}break;}}}}}this.itemTable.grid.setData(this.gridItemArr.slice(0));if(this.options.allOption){var _105=[];var _106=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_106==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_106=j;}_105.push("");}_105[_106==-1?0:_106]=this.defaultAllOptionLabel;this.itemTable.grid.setRowData(0,_105,false);}if(this.gridOptions.sortIndex&&this.gridItemArr.length>0){var _107=[];if(this.options.allOption){var col=this.gridOptions.sortIndex.split(" ")[0];var _109=this.itemTable.grid.getCellInfo(col).options.dataType;var _10a=parseInt(this.gridOptions.sortOrder.split(" ")[0],10);_107[0]=function(a,b,i,j){if(i==0){return -1;}else{if(j==0){return 1;}else{if(_109=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_10a;}else{if(a<b){return -1*_10a;}else{return 0;}}}}};}this.itemTable.grid.multisort({sortIndex:this.gridOptions.sortIndex,sortOrder:this.gridOptions.sortOrder,sortFuncArr:_107});}else{this.itemTable.grid.notifyDataChanged({keepTop:true});}};$W._a.an.prototype.setGridViewData=function(){this.itemTable.gridView.setTopRowIndex(0);var _10f=this.itemsetObj.labelId;var _110=this.itemsetObj.valueId;var _111=null;_111=$W._G.getComponentById(this.itemTable.gridView.options.dataList);if(this.searchFlag==false){this.orgSearchArr=_111.getAllData();this.searchFlag=true;}if(this.gridViewOptions.dataComp.sortStatusArr){_111.setData(this.orgSearchArr);}else{_111.setData(this.gridViewOptions.dataComp.getAllData());}if(this.options.allOption){var _112=_111.getAllData();if(_112[0]!="-\uc804\uccb4-"){var _113=[];var _114=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_114==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_114=j;}_113.push("");}_113[_114==-1?0:_114]=this.defaultAllOptionLabel;_111.setRowData(0,_113,false);}}if(this.options.chooseOption==true){var _112=_111.getAllData();if(_112[0]!="-\uc120\ud0dd-"){var _113=[];var _114=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_114==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_114=j;}_113.push("");}_113[_114==-1?0:_114]=this.options.chooseOptionLabel;_111.setRowData(0,_113,false);}}if(!this.options.interactionMode){if(this.viewArr&&this.viewArr.length==0){for(var i=0;i<this.itemArr.length;i++){this.viewArr.push({label:this.itemArr[i].label,value:this.itemArr[i].value,orgLabel:this.itemArr[i].orgLabel,index:i});}}this.gridViewItemArr=[];if(this.gridViewOptions.dataComp){for(var i=0;i<this.viewArr.length;i++){for(var j=0;j<this.itemArr.length;j++){if(this.viewArr[i].orgLabel===this.itemArr[j].label&&this.viewArr[i].value===this.itemArr[j].value){this.gridViewItemArr=this.gridViewItemArr.concat(_111.getRowData(j));break;}}}}}_111.setData(this.gridViewItemArr.slice(0));this.itemTable.gridView.setDataList();if(this.gridViewOptions.sortIndex&&this.gridViewItemArr.length>0){var _117=[];if(this.options.allOption){var col=this.gridViewOptions.sortIndex.split(" ")[0];var _119=this.itemTable.gridView.getCellInfo(col).options.dataType;var _11a=parseInt(this.gridViewOptions.sortOrder.split(" ")[0],10);_117[0]=function(a,b,i,j){if(i==0){return -1;}else{if(j==0){return 1;}else{if(_119=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_11a;}else{if(a<b){return -1*_11a;}else{return 0;}}}}};}this.itemTable.gridView._dataList.multisort({sortIndex:this.gridOptions.sortIndex,sortOrder:this.gridOptions.sortOrder,sortFuncArr:_117});}else{this.itemTable.gridView.notifyDataChanged({keepTop:true});}};$W._a.an.prototype.setDummyData=function(_11f,_120){this.dummyData={value:_11f,label:_120};this.selectedIndex=-1;this.showEditMode(false);this.selectedItem={text:_120,value:_11f,orgLabel:_120};var _121=(this.options.escape)?$W._B._encode(_120):_120;this.dom.label.innerHTML=_121;this.dom.input.value=_120;};$W._a.an.prototype.setStyle=function(_122,_123){["WebSquare.uiplugin.autoComplete.prototype.setStyle"];try{if(!this.render){return;}$W._H.setStyle(this.render,_122,_123);if(_122=="font-size"){this.dom.label.style[_122]=_123;}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.autoComplete=$W._a.an;requires("uiplugin/control/itemsetControl.js");$W._a.bh=function(id,_2,_3){["WebSquare.uiplugin.list"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bh.prototype,$W._t.prototype);$W.extend($W._a.bh.prototype,$W.itemsetControl.prototype);$W._a.bh.prototype.defaultOptions={pluginType:"uiplugin.list",pluginName:"list",userEvents:["onclick","onmouseover","onmouseout","onmousedown","onrowclick"],tagName:"div",sortable:false};$W._a.bh.prototype.initialize=function(_4){["WebSquare.uiplugin.list.initialize"];this.uniqueIdSequence=0;this.listRowInfo=$W._B.getChildren(_4.parentNode,"w2:list")[0];this.listColumnInfo=$W._B.getChildren(_4,"w2:listRow");if(this.options.nodeset){this.modelDataXMLArr=$W._J.findInstanceNodes(this.options.nodeset);this.modelControl.itemsetObj={nodeset:this.options.nodeset,label:"",value:""};}this.listRowObjArr=[];};$W._a.bh.prototype.toHTML=function(){["WebSquare.uiplugin.list.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<"+this.options.tagName+" id='"+this.id+"' "+_6+" class='w2list w2noselect "+this.options.className+"'>");if(this.options.nodeset){for(var i=0;i<this.modelDataXMLArr.length;i++){var _8=(this.listRowInfo.style=="")?"":"style='"+this.listRowInfo.style+"'";_5.push("<"+this.listRowInfo.tagName+" "+_8+" class='w2list_listRow "+this.listRowInfo["class"]+"' >");var _9;for(var j=0;j<this.listColumnInfo.length;j++){var _b=this.listColumnInfo[j];var _c=_b.value;var _d=$W._B.getValue(this.modelDataXMLArr[i],_b.ref);if(_d!=""){_c=_d;}switch(_b.inputType){case "checkbox":var _e=$W._G.getBoolean(_c)?"checked=\"checked\"":"";var _f=(_b.style=="")?"":" style='"+_b.style+"' ";_5.push("<input type='checkbox' "+_e);_5.push(_f);_5.push(" class='w2list_listColumn w2list_listColumn_checkbox "+_b["class"]+"' >");_5.push("</input>");break;case "text":var _f=(_b.style=="")?"":" style='"+_b.style+"' ";_5.push("<span ");_5.push(_f);_5.push(" class='w2list_listColumn w2list_listColumn_text "+_b["class"]+"' >");_5.push(_c);_5.push("</span>");break;case "button":var _f=(_b.style=="")?"":" style='"+_b.style+"' ";_5.push("<input type='button'");_5.push(" value='"+_c+"' ");_5.push(_f);_5.push(" class='w2list_listColumn w2list_listColumn_button "+_b["class"]+"' >");_5.push("</input>");break;default:break;}}_5.push("</"+this.listRowInfo.tagName+">");}}_5.push("</"+this.options.tagName+">");return _5.join("");};$W._a.bh.prototype.setAction=function(){this.initializeListInfo();this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if(this.isMobile==true){}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleDragEvent));}};$W._a.bh.prototype.setLayout=function(){};$W._a.bh.prototype.initializeListInfo=function(){["WebSquare.uiplugin.list.initializeListInfo"];try{if(this.options.nodeset){for(var i=0;i<this.modelDataXMLArr.length;i++){var _11=this.id+"_"+this.uniqueIdSequence;$W._B.setAttribute(this.modelDataXMLArr[i],"unique_id",_11);this.render.childNodes[i].setAttribute("unique_id",_11);var _12;var _13;var _14;var _15={};for(var j=0;j<this.listColumnInfo.length;j++){_12=this.listColumnInfo[j];_13=_12.value;_14=$W._B.getValue(this.modelDataXMLArr[i],_12.ref);if(_14!=""){_13=_14;}_15[_12.id]=_13;}_15["unique_id"]=_11;this.listRowObjArr.push(_15);this.uniqueIdSequence++;}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.refreshItemset=function(){try{if(this.modelControl.isItemsetBinded()){var _17=$W._J.findInstanceNodes(this.options.nodeset);this.modelDataXMLArr=_17;var _18=this.listRowObjArr;this.listRowObjArr=[];for(var i=0;i<this.modelDataXMLArr.length;i++){this.listRowObjArr[i]=this.createObjByXML(this.modelDataXMLArr[i]);}for(var i=0;i<_18.length;i++){for(var j=0;j<this.listRowObjArr.length;j++){if(_18[i]["unique_id"]==this.listRowObjArr[j]["unique_id"]){_18[i].exist=true;break;}}}for(var i=0;i<_18.length;i++){if(_18[i].exist!=true){var _1b=this.getRenderByUniqueId(_18[i]["unique_id"]);_1b.parentNode.removeChild(_1b);}}for(var i=0;i<this.listRowObjArr.length;i++){var _1c=this.listRowObjArr[i];var _1d=this.getRenderByUniqueId(_1c["unique_id"]);if(_1d){for(var j=0;j<_18.length;j++){var _1e=_18[j];if(_1e["unique_id"]==_1c["unique_id"]){for(var k=0;k<this.listColumnInfo.length;k++){var _20=_1c[this.listColumnInfo[k].id];if(_1e[this.listColumnInfo[k].id]!=_20){switch(this.listColumnInfo[k].inputType){case "checkbox":_1d.childNodes[k].checked=$W._G.getBoolean(_20);break;case "text":_1d.childNodes[k].innerHTML=_20;break;case "button":_1d.childNodes[k].value=_20;break;default:break;}}}}}var _21;for(var j=0;j<this.getLength();j++){var _22=this.render.childNodes[j];if(_1d.getAttribute("unique_id")==_22.getAttribute("unique_id")){_21=j;}}this.moveRowRender(_21,i);}else{this.insertRowRender(i,this.listRowObjArr[i]);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.refresh=function(){};$W._a.bh.prototype.insertInModel=function(_23,_24,_25){["WebSquare.uiplugin.list.insertInModel"];try{switch(_25){case "append":var _26=this.options.nodeset.split("/");_26.splice(_26.length-1,1);var _27=_26;_27=_27.join("/");$W._J.setInstanceNode(_24,_27,null,"append");break;case "insertBeforeSibling":$W._J.setInstanceNode(_24,this.options.nodeset+"["+(_23+1)+"]",null,"insertBeforeSibling");break;case "appendSibling":$W._J.setInstanceNode(_24,this.options.nodeset+"["+(_23)+"]",null,"appendSibling");break;default:return;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.removeFromModel=function(_28){["WebSquare.uiplugin.list.removeFromModel"];try{$W._J.removeInstanceNode(this.options.nodeset+"["+(_28+1)+"]");}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.insertRow=function(idx,_2a){["WebSquare.uiplugin.list.insertRow"];try{var _2b=this.getChildNodes();var _2c=_2b.length;if(idx<0){return;}else{if(idx>_2c){idx=_2c;}}if(this.options.nodeset){var _2d=this.createXMLByObj(_2a);if(_2b.length==0){this.insertInModel(idx,_2d,"append");}else{if(_2b.length>idx&&idx>=0){this.insertInModel(idx,_2d,"insertBeforeSibling");}else{this.insertInModel(idx,_2d,"appendSibling");}}}else{this.insertRowNM(idx,_2a);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.insertRowNM=function(idx,_2f){["WebSquare.uiplugin.list.insertRowNM"];try{var _30=this.getLength();_2f["unique_id"]=this.id+"_"+this.uniqueIdSequence;this.uniqueIdSequence++;if(_30>idx&&idx>=0){this.listRowObjArr.splice(idx,0,_2f);}else{this.listRowObjArr.push(_2f);}this.insertRowRender(idx,_2f);}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.insertRenderStr=function(_31){["WebSquare.uiplugin.list.insertRowNM"];try{_31["unique_id"]=this.id+"_"+this.uniqueIdSequence;this.uniqueIdSequence++;this.listRowObjArr.push(_31);var _32="<"+this.listRowInfo.tagName+" class='"+"w2list_listRow "+this.listRowInfo["class"]+"' style='"+this.listRowInfo.style+"' unique_id='"+_31["unique_id"]+"'>";for(var j=0;j<this.listColumnInfo.length;j++){var id=this.listColumnInfo[j].id;if(_31[id]!=undefined||_31[id]!=null){value=_31[id];}else{value=this.listColumnInfo[j].value;_31[this.listColumnInfo[j].id]=this.listColumnInfo[j].value;}appendItemInfo=this.listColumnInfo[j];_32+=this.createItemNodeStr(appendItemInfo,value);}_32+="</"+this.listRowInfo.tagName+">";return _32;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.insertRowRender=function(idx,_36){["WebSquare.uiplugin.list.insertRowRender"];try{var _37=this.getChildNodes();var _38=_37.length;if(idx<0){return;}else{if(idx>_38){idx=_38;}}var _39=this.createRenderByObj(_36);if(_37.length>idx&&idx>=0){this.render.insertBefore(_39,_37[idx]);}else{this.render.appendChild(_39);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.removeRow=function(idx){["WebSquare.uiplugin.list.removeRow"];try{var _3b=this.getChildNodes();if(_3b.length>idx&&idx>=0){if(this.options.nodeset){this.removeFromModel(idx);}else{this.removeRowNM(idx);}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.removeRowNM=function(idx){["WebSquare.uiplugin.list.removeRowNM"];try{this.removeRowRender(idx);this.listRowObjArr.splice(idx,1);}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.removeRowRender=function(idx){["WebSquare.uiplugin.list.removeRowRender"];try{var _3e=this.getChildNodes();if(_3e.length>idx&&idx>=0){this.render.removeChild(_3e[idx]);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.removeAll=function(){["WebSquare.uiplugin.list.prototype.removeAll"];try{if(this.options.nodeset){$W._J.removeInstanceNodes(this.options.nodeset);}else{this.listRowObjArr=[];this.render.innerHTML="";}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.moveRow=function(_3f,_40){["WebSquare.uiplugin.list.moveRow"];try{var _41=this.getChildNodes();var _42=_41.length;if(_3f>_42||_40>_42){return;}if(_3f>=0&&_40>=0){if(this.options.nodeset){var _43=this.modelDataXMLArr[_3f];if(_41.length-1>_40&&_40>=0){this.removeFromModel(_3f);this.insertInModel(_40,_43,"insertBeforeSibling");}else{this.removeFromModel(_3f);this.insertInModel(_40,_43,"appendSibling");}}else{this.moveRowNM(_3f,_40);}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.moveRowNM=function(_44,_45){["WebSquare.uiplugin.list.moveRowNM"];try{this.moveRowRender(_44,_45);var _46=this.listRowObjArr.splice(_44,1)[0];this.listRowObjArr.splice(_45,0,_46);}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.moveRowRender=function(_47,_48){["WebSquare.uiplugin.list.moveRowRender"];try{var _49=this.getChildNodes();var _4a=_49.length;var _4b=this.listRowObjArr[_47];if(_47>_4a||_48>_4a){return;}if(_47>=0&&_48>=0){var _4c=_49[_47];if(_49.length-1>_48&&_48>=0){var _4d=(_48>_47)?_48+1:_48;this.render.insertBefore(_4c,_49[_4d]);}else{this.render.appendChild(_4c);}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.getLength=function(){["WebSquare.uiplugin.list.getLength"];try{return this.getChildNodes().length;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.getChildNodes=function(){["WebSquare.uiplugin.list.getChildNodes"];try{if(this.options.tagName=="dl"){var _4e=[];for(var i=0;i<this.render.childNodes.length;i++){var _50=this.render.childNodes[i];if(_50.nodeType!="3"){_4e.push(_50);}}return _4e;}else{return this.render.getElementsByTagName(this.listRowInfo.tagName);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.getRenderByUniqueId=function(_51){["WebSquare.uiplugin.list.getRenderByUniqueId"];try{for(var i=0;i<this.getLength();i++){var _53=this.render.childNodes[i];if(_53.getAttribute("unique_id")==_51){return _53;}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.getCellData=function(_54,_55){["WebSquare.uiplugin.list.getCellData"];try{var _56=this.getLength();if(typeof _54=="string"||!((_56>_54&&_54>=0))){return;}var _57;if(typeof _55=="string"){_57=_55;}else{if(typeof _55=="number"){_57=this.listColumnInfo[_55].id;}}var _58=this.listRowObjArr[_54];var _59=_58?_58[_57]:"";return _59;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.setCellData=function(_5a,_5b,_5c){["WebSquare.uiplugin.list.setCellData"];try{var _5d=this.getLength();if(typeof _5a=="string"||!(_5d>_5a&&_5a>=0)){return;}var _5e;var _5f;if(typeof _5b=="string"){_5e=_5b;for(var i=0;i<this.listColumnInfo.length;i++){if(_5e==this.listColumnInfo[i].id){_5f=i;break;}}_5f;}else{if(typeof _5b=="number"){_5f=_5b;_5e=this.listColumnInfo[_5b].id;}}var _61;_61=this.getCellData(_5a,_5e);if(this.options.nodeset){var _62;var _63;for(var i=0;i<this.listColumnInfo.length;i++){_63=this.listColumnInfo[i];if(_5e==_63.id){_62=_63.ref;break;}}if(_62){var _64=$W._J.setInstanceValue(this.options.nodeset+"["+(_5a+1)+"]/"+_62,_5c);if(_61!==_5c){this.fireOnchange();}}else{return;}}else{var _65=this.getChildNodes();var _66=_65[_5a];var _67=this.listColumnInfo[_5f].inputType;var _68=_66.childNodes[_5f];switch(_67){case "checkbox":_68.checked=$W._G.getBoolean(_5c);break;case "text":_68.innerHTML=_5c;break;case "button":_68.value=_5c;break;default:break;}this.listRowObjArr[_5a][_5e]=_5c;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.getRowData=function(_69){["WebSquare.uiplugin.list.getRowData"];try{var _6a=this.getLength();if(typeof _69=="string"||!(_6a>_69&&_69>=0)){return;}var _6b={};var _6c=this.listRowObjArr[_69];for(key in _6c){if(key!="unique_id"&&key!="render"){_6b[key]=_6c[key];}}return _6b;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.setRowData=function(_6d,_6e,_6f){["WebSquare.uiplugin.list.getRowData"];try{var _70=this.getLength();if(typeof _6d=="string"||!(_70>=_6d&&_6d>=0)||(typeof _6e!="object")){return;}if(!_6f){if(this.options.nodeset){this.insertRow(_70,_6e);}else{this.insertRowNM(_70,_6e);}return;}if(_6e){if(this.options.nodeset){this.removeRow(_6d);this.insertRow(_6d,_6e);}else{this.removeRowNM(_6d);this.insertRowNM(_6d,_6e);}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.setXML=function(_71,_72){["WebSquare.uiplugin.list.prototype.setXML"];if(_71==null){$W.logger.printLog("[WebSquare.uiplugin.list.setXML] XML is null");return;}return;};$W._a.bh.prototype.setJSON=function(_73,_74){["WebSquare.uiplugin.list.prototype.setJSON"];try{if(_73==null){$W.logger.printLog("[WebSquare.uiplugin.list.setJSON] data is null");return;}var _75;var _76="";if(!_74){this.listRowObjArr=[];}for(var i=0;i<_73.length;i++){if(_74){_75=this.getLength+i;}else{_75=i;}if(this.options.nodeset){this.insertRow(_75,_73[i]);}else{if(_74){this.insertRowNM(_75,_73[i]);}else{_76=_76+this.insertRenderStr(_73[i]);}}}if(!_74){this.render.innerHTML=_76;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.toggleCheckbox=function(_78,_79){["WebSquare.uiplugin.list.toggleCheckbox"];try{var _7a=this.getLength();if(typeof _78=="string"||typeof _79=="number"){return;}if(_7a>_78&&_78>=0){var _7b=$W._G.getBoolean(this.getCellData(_78,_79));this.setCellData(_78,_79,!_7b);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.createItemNode=function(_7c,_7d){["WebSquare.uiplugin.list.createItemNode"];try{if(_7c){var _7e;switch(_7c.inputType){case "checkbox":_7e=document.createElement("input");_7e.setAttribute("type","checkbox");_7e.setAttribute("class","w2list_listColumn w2list_listColumn_checkbox "+_7c["class"]);_7d=$W._G.getBoolean(_7d);if(_7d){_7e.setAttribute("checked","checked");}break;case "text":_7e=document.createElement("span");_7e.setAttribute("class","w2list_listColumn w2list_listColumn_text "+_7c["class"]);if(_7d){_7e.innerHTML=_7d;}break;case "button":_7e=document.createElement("input");_7e.setAttribute("type","button");_7e.setAttribute("class","w2list_listColumn w2list_listColumn_button "+_7c["class"]);if(_7d){_7e.setAttribute("value",_7d);}break;default:break;}_7e.setAttribute("style",_7c.style);return _7e;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.createItemNodeStr=function(_7f,_80){["WebSquare.uiplugin.list.createItemNode"];try{if(_7f){var _81;switch(_7f.inputType){case "checkbox":_81="<input type='checkbox' class='"+"w2list_listColumn w2list_listColumn_checkbox "+_7f["class"]+"'"+" style='"+_7f.style+"'";_80=$W._G.getBoolean(_80);if(_80){_81+=" checked='checked'";}_81+="/>";break;case "text":_81="<span class='"+"w2list_listColumn w2list_listColumn_text "+_7f["class"]+" style='"+_7f.style+"'"+">";if(_80){_81+=_80;}_81+="</span>";break;case "button":_81="<input type='button' class='"+"w2list_listColumn w2list_listColumn_button "+_7f["class"]+"'"+" style='"+_7f.style+"'";_80=$W._G.getBoolean(_80);if(_80){_81+=" value='checked'";}_81+="/>";break;}return _81;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.getAllData=function(){["WebSquare.uiplugin.list.prototype.getAllData"];try{var _82=[];var _83=this.getLength();for(var i=0;i<_83;i++){var _85=this.getRowData(i);_82.push(_85);}return _82;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.createXMLByObj=function(_86){["WebSquare.uiplugin.list.createXMLByObj"];try{var _87=this.options.nodeset.split("/");var _88=_87[_87.length-1];var _89=$W._B.parse("<"+_88+" />").documentElement;if(_86["unique_id"]){$W._B.setAttribute(_89,"unique_id",_86["unique_id"]);}else{$W._B.setAttribute(_89,"unique_id",this.id+"_"+this.uniqueIdSequence);this.uniqueIdSequence++;}for(var i=0;i<this.listColumnInfo.length;i++){var _8b=this.listColumnInfo[i].ref;var _8c=_8b.lastIndexOf("/");if(_8c>0){var _8d=_8b.substring(0,_8c);var _8e=_8b.substring(_8c+1);var _8f=_8e.match(/[@'"()=]/i).length>0;if(_8f){var _90=$W._B.createNode(_89,_8d,false);var _91=_86[this.listColumnInfo[i].id];if(!_91){_91=this.listColumnInfo[i].value;}_8e=_8e.replace(/[@'"()=]/i,"");$W._B.setAttribute(_90,_8e,_91);}else{$W._B.createNode(_89,_8b,false);}}else{var _92=this.listColumnInfo[i].ref.replace(/[@'"()=]/i,"");var _91=_86[this.listColumnInfo[i].id];if(!_91){_91=this.listColumnInfo[i].value;}$W._B.setAttribute(_89,_92,_91);}}return _89;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.createRenderByObj=function(_93){["WebSquare.uiplugin.list.createRenderByObj"];try{var _94=document.createElement(this.listRowInfo.tagName);_94.setAttribute("class","w2list_listRow "+this.listRowInfo["class"]);_94.setAttribute("style",this.listRowInfo.style);_94.setAttribute("unique_id",_93["unique_id"]);if(_93){var _95;var _96;var _97;var _98=[];for(var i=0;i<this.listColumnInfo.length;i++){var id=this.listColumnInfo[i].id;if(_93[id]!=undefined||_93[id]!=null){_95=_93[id];}else{_95=this.listColumnInfo[i].value;_93[this.listColumnInfo[i].id]=this.listColumnInfo[i].value;}_97=this.listColumnInfo[i];_96=this.createItemNode(_97,_95);_98[i]=_96;}if(_98.length!=0){for(var i=0;i<_98.length;i++){if(_98[i]){_94.appendChild(_98[i]);}}}}return _94;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.createObjByXML=function(_9b){["WebSquare.uiplugin.list.createObjByXML"];try{var _9c;var _9d;var _9e;var _9f={};for(var j=0;j<this.listColumnInfo.length;j++){_9c=this.listColumnInfo[j];_9d=_9c.value;_9e=$W._B.getValue(_9b,_9c.ref);if(_9e!=""){_9d=_9e;}_9f[_9c.id]=_9d;}_9f["unique_id"]=_9b.getAttribute("unique_id");return _9f;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bh.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.list.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){break;}if(it.match("w2list_listRow")){var _a3;var _a4=it.getElement();for(var i=0;i<this.listRowObjArr.length;i++){if(this.getRenderByUniqueId(this.listRowObjArr[i]["unique_id"])==_a4){_a3=i;$W._c.fireEvent(this,"onrowclick",_a3);return;}}}if(it.match("w2list_listColumn_checkbox")){var _a3;var _a6;var _a4=it.getElement();for(var i=0;i<this.listRowObjArr.length;i++){for(var j=0;j<this.listColumnInfo.length;j++){if(this.getRenderByUniqueId(this.listRowObjArr[i]["unique_id"]).childNodes[j]==_a4){_a3=i;itemId=this.listColumnInfo[j].id;this.toggleCheckbox(_a3,itemId);return;}}}}if(it.match("w2list_listColumn_text")){}if(it.match("w2list_listColumn_button")){}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bh.prototype.fireOnchange=function(){["WebSquare.uiplugin.list.fireOnchange"];try{$W._c.fireEvent(this,"onchange");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bh.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.list.handleMouseoverEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){break;}if(it.match("w2list_listRow")){this.addClass(it.getElement(),"w2list_listRow_over");}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bh.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.list.handleMouseoutEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){break;}if(it.match("w2list_listRow")){this.removeClass(it.getElement(),"w2list_listRow_over");}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bh.prototype.handleDragEvent=function(e){["WebSquare.uiplugin.list.handleDragEvent"];var it=this.event.getTargetIterator(e);while(it.next()){if(it.match("w2list_listRow")){if(!this.options.sortable){return;}it.getElement().style.cursor="pointer";$W._G.emptySelection();var _ae=this.id;var _af;var _b0=it.getElement();var _b1=this.getChildNodes();for(var i=0;i<_b1.length;i++){if(_b1[i]==_b0){_af=i;break;}}var _b3=this;$W._K.gDragManager.activate(e,_b0,{id:this.id+"_drag",className:"w2list w2list_listRow w2list_drag",contents:this.options.detachMessage||" detached item ",delay:15,detachIdx:_af,detachListId:_ae,applyMousePosition:true,onDrop:function(_b4,_b5,x,y,dx,dy,e){var _bb=false;var _bc;var _bd;var _be;var _bf;var _c0=this.detachIdx;var _c1=this.detachListId;var _c2=_b3;var _c3=null;if(this.isMobile){_c3=new $W.targetIterator(document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY));e.preventDefault();}else{_c3=_b3.event.getTargetIterator(e);}while(_c3.next()){if(_c3.match("w2list_listRow")){_bb=true;_bf=_c3.getElement();var _c4=_bf.parentNode.childNodes;for(var i=0;i<_c4.length;i++){if(_c4[i]==_bf){_be=i;break;}}}if(_c3.match("w2list")){_bb=true;var _c6=_c3.getElement();_bd=_c6.id;_bc=$W._G.getComponentById(_bd);break;}if(_c3.match(null,null,"body")){return;}}if(_bb){var _c7=false;if(typeof _bf!="object"||typeof _be!="number"){_c7=true;_bf=_b4;_be=(_bc.getLength()==0)?0:_bc.getLength();}if(_c1==_bd){_be=_c7?_be-1:_be;if(_c0!=_be){if(_c2.options.nodeset){_c2.moveRow(_c0,_be);}else{_c2.moveRowNM(_c0,_be);}}}else{var _c8=_c2.listRowObjArr[_c0];var _c9=_c8;if(_c2.options.nodeset){_c2.removeRow(_c0);}else{_c2.removeRowNM(_c0);}delete _c9["unique_id"];if(_bc.options.nodeset){_bc.insertRow(_be,_c9);}else{_bc.insertRowNM(_be,_c9);}}}}});return;}}};$W._a.bh.prototype.getMaxItemWidth=function(e){["WebSquare.uiplugin.list.getMaxItemWidth"];try{var _cb=0;for(var i=0;i<this.render.childNodes.length;i++){var _cd=0;var _ce=this.render.childNodes[i];for(var j=0;j<_ce.childNodes.length;j++){_cd+=$W._H.getSize(_ce.childNodes[j],"width");}if(_cd>_cb){_cb=_cd;}}return _cb+10;}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.list=$W._a.bh;requires("uiplugin.selectbox");requires("uiplugin/helper/dateHelper.js");requires("engine/formatter.js");$W._a._t=function(id,_2,_3){["WebSquare.uiplugin.calendar"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._t.prototype,$W._t.prototype);$W.extend($W._a._t.prototype,$W._n.prototype);$W._a._t.prototype.defaultOptions={pluginType:"uiplugin.calendar",pluginName:"calendar",userEvents:["ondateselect","onconfirm","oncancel","onchange","onviewchange"],systemEvents:["onclick","ondblclick"],useConfig:true,dateFormat:"",delimiter:"",calendarClass:"class1",monthNames:"1\uc6d4,2\uc6d4,3\uc6d4,4\uc6d4,5\uc6d4,6\uc6d4,7\uc6d4,8\uc6d4,9\uc6d4,10\uc6d4,11\uc6d4,12\uc6d4",yearSuffix:"\ub144",calendarValueType:"yearMonthDate",wmode:false,holiday:"",holidayRef:"",keepFocusSelect:false,minYear:1978,maxYear:2030,serverSync:false,useUnlimitedYear:true,initValue:"",cancleButtonShow:false,cancelButtonShow:false,footerDiv:false,title:"",summary:"",caption:"",focusOnOuterDiv:false,renderType:"component",backlink:"",useYearSelect:true,useMonthSelect:true,displayFormat:"",visibleRowNum:5,weekStartsOn:0,focusOnStart:true,displayHrMinSec:false};$W._a._t.prototype.initialize=function(_4){["WebSquare.uiplugin.calendar.initialize"];try{this.options.cancleButtonShow=this.options.cancleButtonShow||this.options.cancelButtonShow;if(this.options.calendarValueType=="yearMonthDateTime"){this.options.dateFormat=this.options.dateFormat||"yyyyMMddHHmm";}else{if(this.options.calendarValueType=="yearMonthDateHour"){this.options.dateFormat=this.options.dateFormat||"yyyyMMddHH";}else{if(this.options.calendarValueType=="yearMonthDate"){this.options.dateFormat=this.options.dateFormat||"yyyyMMdd";}else{if(this.options.calendarValueType=="yearMonth"){this.options.dateFormat=this.options.dateFormat||"yyyyMM";}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){this.options.dateFormat=this.options.dateFormat||"yyyyMMddHHmmSS";}}}}}if(!this.options.displayFormat){if(this.options.delimiter){this.options.displayFormat="yyyy"+this.options.delimiter+"MM";}else{this.options.displayFormat="yyyy/MM";}if(this.options.calendarValueType=="yearMonthDate"||this.options.calendarValueType=="yearMonthDateHour"||this.options.calendarValueType=="yearMonthDateTime"||this.options.calendarValueType=="yearMonthDateTimeSec"){if(this.options.delimiter){this.options.displayFormat+=this.options.delimiter+"dd";}else{this.options.displayFormat+="/dd";}}}this.todayHelper=new $W._a._C(this.options.serverSync);this.selectedDateHelper=new $W._a._C(this.options.serverSync);this.holidayXpath();this.formatter=$W._C.createFormatter("date",this.options.dateFormat);this.objCellClass={};if(this.options.calendarValueType=="yearMonth"){if(this.options.outsideClickEvent){this.options.calendarClass="classYearMonth_outsideClick_"+this.options.calendarClass;}else{this.options.calendarClass="classYearMonth_"+this.options.calendarClass;}}this.minYear=this.options.minYear;this.maxYear=this.options.maxYear;if($W._G.isMobile()){this.options.renderType="native";}this.dayIndexArray=[0,1,2,3,4,5,6];this.shiftDay=0-this.options.weekStartsOn;this.shiftDayIndex(this.shiftDay);if(this.options.renderType=="native"){this.selectboxYearHTMLstr=[];if(this.options.useYearSelect){this.selectboxYearHTMLstr.push("<select id='"+this.id+"_selectbox_year' class='w2calendar_selectbox_year_native' title='"+$W._m.getMessage("Calendar_select_year")+"' >");for(var _5=this.minYear;_5<this.maxYear+1;_5++){this.selectboxYearHTMLstr.push("\t<option value='"+_5+" '>"+_5+this.options.yearSuffix+"</option>");}this.selectboxYearHTMLstr.push("</select>");}else{var _6=new $W._a._q(this.id+"_selectbox_year",{className:"w2calendar_selectbox_year_native",labelWidthAuto:false,wmode:this.options.wmode,readOnly:true,visibleRowNum:this.options.visibleRowNum});for(var _5=this.minYear;_5<this.maxYear+1;_5++){_6.addItemArr(_5+this.options.yearSuffix,_5);}if(this.options.useUnlimitedYear!==false){_6.addItemArr("9999"+this.options.yearSuffix,"9999");}this.addControl(_6);}this.selectboxMonthHTMLstr=[];if(this.options.useMonthSelect){this.selectboxMonthHTMLstr.push("<select id='"+this.id+"_selectbox_month' class='w2calendar_selectbox_month_native'  title='"+$W._m.getMessage("Calendar_select_month")+"' >");var _7=this.options.monthNames.split(",");for(var _8=0;_8<12;_8++){var _9=_8+1;var _a=_7[_8]||(_8+1);this.selectboxMonthHTMLstr.push("\t<option value='"+_9+" '>"+_a+"</option>");}this.selectboxMonthHTMLstr.push("</select>");}else{var _b=new $W._a._q(this.id+"_selectbox_month",{className:"w2calendar_selectbox_month_native",labelWidthAuto:false,wmode:this.options.wmode,readOnly:true,visibleRowNum:this.options.visibleRowNum});var _7=this.options.monthNames.split(",");for(var _8=0;_8<12;_8++){var _a=_7[_8]||(_8+1);_b.addItemArr(_a,_8+1);}this.addControl(_b);}this.selectboxHourHTMLstr=[];this.selectboxHourHTMLstr.push("<select id='"+this.id+"_selectbox_hour' class='w2calendar_selectbox_hour_mobile'  title='"+$W._m.getMessage("Calendar_select_hour")+"' onchange='WebSquare.event.fireEvent(WebSquare.util.getComponentById(\""+this.id+"\"),\"onchange\");'>");for(var _c=0;_c<24;_c++){this.selectboxHourHTMLstr.push("\t<option value='"+_c+" '>"+_c+"</option>");}this.selectboxHourHTMLstr.push("</select>");this.selectboxMinuteHTMLstr=[];this.selectboxMinuteHTMLstr.push("<select id='"+this.id+"_selectbox_minute' class='w2calendar_selectbox_minute_mobile' title='"+$W._m.getMessage("Calendar_select_minute")+"' onchange='WebSquare.event.fireEvent(WebSquare.util.getComponentById(\""+this.id+"\"),\"onchange\");'>");for(var _d=0;_d<60;_d++){this.selectboxMinuteHTMLstr.push("\t<option value='"+_d+" '>"+_d+"</option>");}this.selectboxMinuteHTMLstr.push("</select>");this.selectboxSecondHTMLstr=[];this.selectboxSecondHTMLstr.push("<select id='"+this.id+"_selectbox_second' class='w2calendar_selectbox_second_mobile' title='"+$W._m.getMessage("Calendar_select_second")+"' onchange='WebSquare.event.fireEvent(WebSquare.util.getComponentById(\""+this.id+"\"),\"onchange\");'>");for(var _e=0;_e<60;_e++){this.selectboxSecondHTMLstr.push("\t<option value='"+_e+" '>"+_e+"</option>");}this.selectboxSecondHTMLstr.push("</select>");}else{var _6=new $W._a._q(this.id+"_selectbox_year",{className:"w2calendar_selectbox_year",labelWidthAuto:false,submenuSize:"auto",wmode:this.options.wmode,title:$W._m.getMessage("Calendar_select_year"),readOnly:!this.options.useYearSelect,visibleRowNum:this.options.visibleRowNum});var _b=new $W._a._q(this.id+"_selectbox_month",{className:"w2calendar_selectbox_month",labelWidthAuto:false,submenuSize:"auto",wmode:this.options.wmode,title:$W._m.getMessage("Calendar_select_month"),readOnly:!this.options.useMonthSelect,visibleRowNum:this.options.visibleRowNum});for(var _5=this.minYear;_5<this.maxYear+1;_5++){_6.addItemArr(_5+this.options.yearSuffix,_5);}if(this.options.useUnlimitedYear!==false){_6.addItemArr("9999"+this.options.yearSuffix,"9999");}var _7=this.options.monthNames.split(",");for(var _8=0;_8<12;_8++){var _a=_7[_8]||(_8+1);_b.addItemArr(_a,_8+1);}_6.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){this.getParent().gotoYear(this.getValue());}}}];_6.options.xmlEvents=[{name:"onviewchange",action:"script",param:{handler:function(e){var _11=this.getParent();var _12=_11.getValue();_11.gotoYear(this.getValue());var _13=_11.getValue();if(_12!=_13){$W._c.fireEvent(_11,"onviewchange",{"oldValue":_12,"newValue":_13});}}}}];_b.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){this.getParent().gotoMonth(this.getValue());}}}];_b.options.xmlEvents=[{name:"onviewchange",action:"script",param:{handler:function(e){var _16=this.getParent();var _17=_16.getValue();_16.gotoMonth(this.getValue());var _18=_16.getValue();if(_17!=_18){$W._c.fireEvent(_16,"onviewchange",{"oldValue":_17,"newValue":_18});}}}}];this.addControl(_6);this.addControl(_b);if(this.options.calendarValueType=="yearMonthDateHour"||this.options.calendarValueType=="yearMonthDateTime"||this.options.calendarValueType=="yearMonthDateTimeSec"){if(this.options.displayHrMinSec){function _setSelectedIndexNM(idx,_1a){try{var _1b=$W.idCache[_1a];idx=parseInt(idx,10);if(isNaN(idx)){return false;}if(idx<0||idx>=_1b.getItemCount()){if(_1b.options.emptyItem){_1b.selectedIndex=-1;_1b.dom.label.innerHTML="";if(_1b.itemTable){_1b.itemTable.setSelectedIndex(0);}return true;}else{return false;}}_1b.selectedIndex=idx;var _1c=_1b.itemArr[idx].label+"";if(_1c.indexOf("&")>-1){_1c=_1c.wq_replaceAll("&","&amp;");}if(_1b.options.escape){_1c=$W._B._encode(_1c);}if(_1b.dom.label){_1c=parseInt(_1c,10);_1b.dom.label.innerHTML=_1c;}if(_1b.itemTable){_1b.render.setAttribute("aria-activedescendant",_1b.itemTable.id+"_"+idx);}return true;}catch(e){$W.exception.printStackTrace(e,null,_1b);}}var _1d=new $W._a._q(this.id+"_selectbox_hour",{className:"w2calendar_selectbox_hour",submenuSize:"auto",labelWidthAuto:false,title:$W._m.getMessage("Calendar_select_hour"),visibleRowNum:this.options.visibleRowNum,displayMode:"1",delimiter:"$blank"});for(var _c=0;_c<24;_c++){_1d.addItem(_c,$W._m.getMessage("Calendar_valuetype_hour"));}_1d.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){$W._c.fireEvent(this.getParent(),"onchange");}}}];_1d.setSelectedIndexNM=function(idx){return _setSelectedIndexNM(idx,this.uuid);};this.addControl(_1d);if(this.options.calendarValueType=="yearMonthDateTime"||this.options.calendarValueType=="yearMonthDateTimeSec"){var _20=new $W._a._q(this.id+"_selectbox_minute",{className:"w2calendar_selectbox_minute",submenuSize:"auto",labelWidthAuto:false,title:$W._m.getMessage("Calendar_select_minute"),visibleRowNum:this.options.visibleRowNum,displayMode:"1",delimiter:"$blank"});for(var _d=0;_d<60;_d++){_20.addItem(_d,$W._m.getMessage("Calendar_valuetype_minute"));}_20.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){$W._c.fireEvent(this.getParent(),"onchange");}}}];_20.setSelectedIndexNM=function(idx){return _setSelectedIndexNM(idx,this.uuid);};this.addControl(_20);if(this.options.calendarValueType=="yearMonthDateTimeSec"){var _23=new $W._a._q(this.id+"_selectbox_second",{className:"w2calendar_selectbox_second",submenuSize:"auto",labelWidthAuto:false,title:$W._m.getMessage("Calendar_select_second"),visibleRowNum:this.options.visibleRowNum,displayMode:"1",delimiter:"$blank"});for(var _e=0;_e<60;_e++){_23.addItem(_e,$W._m.getMessage("Calendar_valuetype_second"));}_23.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){$W._c.fireEvent(this.getParent(),"onchange");}}}];_23.setSelectedIndexNM=function(idx){return _setSelectedIndexNM(idx,this.uuid);};this.addControl(_23);}}}else{var _1d=new $W._a._q(this.id+"_selectbox_hour",{className:"w2calendar_selectbox_hour",submenuSize:"auto",labelWidthAuto:false,title:$W._m.getMessage("Calendar_select_hour"),visibleRowNum:this.options.visibleRowNum});for(var _c=0;_c<24;_c++){_1d.addItemArr(_c,_c);}_1d.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){$W._c.fireEvent(this.getParent(),"onchange");}}}];this.addControl(_1d);if(this.options.calendarValueType=="yearMonthDateTime"||this.options.calendarValueType=="yearMonthDateTimeSec"){var _20=new $W._a._q(this.id+"_selectbox_minute",{className:"w2calendar_selectbox_minute",submenuSize:"auto",labelWidthAuto:false,title:$W._m.getMessage("Calendar_select_minute"),visibleRowNum:this.options.visibleRowNum});for(var _d=0;_d<60;_d++){_20.addItemArr(_d,_d);}_20.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){$W._c.fireEvent(this.getParent(),"onchange");}}}];this.addControl(_20);if(this.options.calendarValueType=="yearMonthDateTimeSec"){var _23=new $W._a._q(this.id+"_selectbox_second",{className:"w2calendar_selectbox_second",submenuSize:"auto",labelWidthAuto:false,title:$W._m.getMessage("Calendar_select_second"),visibleRowNum:this.options.visibleRowNum});for(var _e=0;_e<60;_e++){_23.addItemArr(_e,_e);}_23.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){$W._c.fireEvent(this.getParent(),"onchange");}}}];this.addControl(_23);}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.toHTML=function(){["WebSquare.uiplugin.calendar.toHTML"];try{var _29=[];var _2a=(this.options.title=="")?"":"title='"+this.options.title+"'";var _2b=(this.options.style=="")?"":"style='"+this.options.style+"'";var _2c=(!this.options.focusOnOuterDiv)?"":"tabIndex='0'";_29.push("<div id='"+this.id+"' name='"+this.id+"' "+_2b+" class='w2calendar w2calendar_"+this.options.calendarClass+" "+this.options.className+"' role='calendar' "+_2a+" "+_2c+">");_29.push("<div class='w2calendar_wrap'>");_29.push("<div class='w2calendar_header'>");if(this.options.renderType=="native"){_29.push("<button id='"+this.id+"_last_year' class='w2calendar_header_last_year'>"+$W._m.getMessage("Calendar_previous_year")+"</button>");_29.push("<button class='w2calendar_header_last_month' >"+$W._m.getMessage("Calendar_previous_month")+"</button>");}else{_29.push("<div id='"+this.id+"_last_year' name='"+this.id+"_last_year' class='w2calendar_header_last_year' role='button' tabindex='0' title='"+$W._m.getMessage("Calendar_previous_year")+"'></div>");_29.push("<div class='w2calendar_header_last_month' role='button' tabindex='0' title='"+$W._m.getMessage("Calendar_previous_month")+"'></div>");}if(this.options.renderType=="native"){_29.push(this.options.useYearSelect?this.selectboxYearHTMLstr.join(""):this.getChild(this.id+"_selectbox_year").toHTML());_29.push(this.options.useMonthSelect?this.selectboxMonthHTMLstr.join(""):this.getChild(this.id+"_selectbox_month").toHTML());}else{_29.push(this.getChild(this.id+"_selectbox_year").toHTML());_29.push(this.getChild(this.id+"_selectbox_month").toHTML());}if(this.options.renderType=="native"){_29.push("<button class='w2calendar_header_next_month' >"+$W._m.getMessage("Calendar_next_month")+"</button>");_29.push("<button class='w2calendar_header_next_year' >"+$W._m.getMessage("Calendar_next_year")+"</button>");}else{_29.push("<div class='w2calendar_header_next_month' role='button' tabindex='0' title='"+$W._m.getMessage("Calendar_next_month")+"'></div>");_29.push("<div class='w2calendar_header_next_year' role='button' tabindex='0' title='"+$W._m.getMessage("Calendar_next_year")+"'></div>");}if(this.options.calendarValueType=="yearMonth"&&!this.options.outsideClickEvent){_29.push("<div class='w2calendar_header_btn_ok' role='button' tabindex='0' title='"+$W._m.getMessage("Calendar_ok")+"'></div>");_29.push("<div class='w2calendar_header_btn_close' role='button' tabindex='0' title='"+$W._m.getMessage("Calendar_close")+"'></div>");}_29.push("</div>");var _2d=(!this.options.summary)?$W._m.getMessage("Calendar_summary"):this.options.summary;var _2e=(!this.options.caption)?$W._m.getMessage("Calendar_caption"):this.options.caption;_29.push("<div id='"+this.id+"_content' class='w2calendar_content'>");_29.push("<table class='w2calendar_content_table' cellpadding='0' cellspacing='0' summary='"+_2d+"'>");_29.push("<caption>"+_2e+"</caption>");_29.push("<thead>");_29.push("<tr>");for(var i=0;i<7;i++){if(this.options.renderType=="native"){_29.push("<th class='w2calendar_col_day w2calendar_day"+this.dayIndexArray[i]+"' scope='col'>"+$W._m.getMessage("Calendar_weekdaynames_"+this.dayIndexArray[i])+"</th>");}else{_29.push("<td class='w2calendar_col_day'><div class='w2calendar_day w2calendar_day"+this.dayIndexArray[i]+"' title='"+$W._m.getMessage("Calendar_weekdaynames_"+this.dayIndexArray[i])+"' ></div></td>");}}_29.push("</tr>");_29.push("</thead>");var _30=6;var _31=7;for(var row=0;row<_30;row++){_29.push("<tr>");for(var col=0;col<_31;col++){_29.push("<td id='"+this.id+"_cell_"+row+"_"+col+"' role='button'  aria-pressed='false' ></td>");}_29.push("</tr>");}_29.push("</table>");_29.push("</div>");if(!this.options.footerDiv){_29.push("<table class='w2calendar_footer' cellpadding='0' cellspacing='0'><tr>");if(this.options.calendarValueType=="yearMonthDate"){if(this.options.renderType=="native"){_29.push("<td><button class='w2calendar_go_today'>"+$W._m.getMessage("Calendar_today")+"</button></td>");}else{_29.push("<td><div class='w2calendar_go_today' role='button' title='"+$W._m.getMessage("Calendar_today")+"' tabindex='0'></div></td>");}_29.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date'></div></td>");if(this.options.cancleButtonShow==true){_29.push("<td class='w2calendar_blank' ></td>");if(this.options.renderType=="native"){_29.push("<td><a href='#"+this.options.backlink+"' id='"+this.id+"_backlink' class='w2calendar_date_cancel' >"+$W._m.getMessage("Calendar_cancel")+"</a></td>");}else{_29.push("<td><div class='w2calendar_date_cancel' role='button' tabindex='0' title='"+$W._m.getMessage("Calendar_cancel")+"' ></div></td>");}}}else{if(this.options.calendarValueType=="yearMonthDateHour"){if(this.options.renderType=="native"){_29.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_mobile'></div></td>");_29.push("<td>"+this.selectboxHourHTMLstr.join("")+"</td>");}else{_29.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date'></div></td>");_29.push("<td>"+this.getChild(this.id+"_selectbox_hour").toHTML()+"</td>");}_29.push("<td><div class='w2calendar_time_confirm' tabindex='0' title='"+$W._m.getMessage("Calendar_ok")+"' ></div></td>");_29.push("<td><div class='w2calendar_time_cancel' tabindex='0' title='"+$W._m.getMessage("Calendar_cancel")+"' ></div></td>");}else{if(this.options.calendarValueType=="yearMonthDateTime"){if(this.options.renderType=="native"){_29.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_mobile'></div></td>");_29.push("<td>"+this.selectboxHourHTMLstr.join("")+"</td>");_29.push("<td> : </td>");_29.push("<td>"+this.selectboxMinuteHTMLstr.join("")+"</td>");}else{_29.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date'></div></td>");_29.push("<td>"+this.getChild(this.id+"_selectbox_hour").toHTML()+"</td>");_29.push("<td> : </td>");_29.push("<td>"+this.getChild(this.id+"_selectbox_minute").toHTML()+"</td>");}_29.push("<td><div class='w2calendar_time_confirm' tabindex='0' title='"+$W._m.getMessage("Calendar_ok")+"' ></div></td>");_29.push("<td><div class='w2calendar_time_cancel' tabindex='0' title='"+$W._m.getMessage("Calendar_cancel")+"' ></div></td>");}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){if(this.options.renderType=="native"){_29.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_sec'></div></td>");_29.push("<td>"+this.selectboxHourHTMLstr.join("")+"</td>");_29.push("<td> : </td>");_29.push("<td>"+this.selectboxMinuteHTMLstr.join("")+"</td>");_29.push("<td> : </td>");_29.push("<td>"+this.selectboxSecondHTMLstr.join("")+"</td>");}else{_29.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_sec'></div></td>");_29.push("<td><div class='w2calendar_go_today' role='button' title='"+$W._m.getMessage("Calendar_today")+"' ></div></td>");_29.push("<td>"+this.getChild(this.id+"_selectbox_hour").toHTML()+"</td>");_29.push("<td> : </td>");_29.push("<td>"+this.getChild(this.id+"_selectbox_minute").toHTML()+"</td>");_29.push("<td> : </td>");_29.push("<td>"+this.getChild(this.id+"_selectbox_second").toHTML()+"</td>");}_29.push("<td><div class='w2calendar_time_confirm' tabindex='0' title='"+$W._m.getMessage("Calendar_ok")+"' ></div></td>");_29.push("<td><div class='w2calendar_time_cancel' tabindex='0' title='"+$W._m.getMessage("Calendar_cancel")+"' ></div></td>");}}}}_29.push("</tr></table>");}else{_29.push("<div class='w2calendar_footer'>");if(this.options.calendarValueType=="yearMonthDate"){if(this.options.renderType=="native"){_29.push("<button class='w2calendar_go_today w2calendar_go_today_div'>"+$W._m.getMessage("Calendar_today")+"</button>");}else{_29.push("<div class='w2calendar_go_today w2calendar_go_today_div' role='button' title='"+$W._m.getMessage("Calendar_today")+"' tabindex='0'></div>");}_29.push("<span id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date w2calendar_footer_date_div'></span>");if(this.options.cancleButtonShow==true){_29.push("<div class='w2calendar_blank w2calendar_blank_div'></div>");if(this.options.renderType=="native"){_29.push("<a href='#"+this.options.backlink+"' id='"+this.id+"_backlink' class='w2calendar_date_cancel w2calendar_date_cancel_div'>"+$W._m.getMessage("Calendar_cancel")+"</a>");}else{_29.push("<div class='w2calendar_date_cancel w2calendar_date_cancel_div' role='button' tabindex='0' title='"+$W._m.getMessage("Calendar_cancel")+"' ></div>");}}}else{if(this.options.calendarValueType=="yearMonthDateHour"){if(this.options.renderType=="native"){_29.push("<span id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_mobile w2calendar_footer_date_mobile_div'></span>");_29.push("<div class='w2calendar_footer_hour_div'>"+this.selectboxHourHTMLstr.join("")+"</div>");_29.push("<a href='#"+this.options.backlink+"' class='w2calendar_time_confirm w2calendar_time_confirm_div' tabindex='0'>"+$W._m.getMessage("Calendar_ok")+"</a>");_29.push("<a href='#"+this.options.backlink+"' class='w2calendar_time_cancel w2calendar_time_cancel_div' tabindex='0'>"+$W._m.getMessage("Calendar_cancel")+"</a>");}else{_29.push("<span id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date w2calendar_footer_date_div'></span>");_29.push("<div class='w2calendar_footer_hour_div'>"+this.getChild(this.id+"_selectbox_hour").toHTML()+"</div>");_29.push("<div class='w2calendar_time_confirm w2calendar_time_confirm_div' tabindex='0' title='"+$W._m.getMessage("Calendar_ok")+"' ></div>");_29.push("<div class='w2calendar_time_cancel w2calendar_time_cancel_div' tabindex='0' title='"+$W._m.getMessage("Calendar_cancel")+"' ></div>");}}else{if(this.options.calendarValueType=="yearMonthDateTime"){if(this.options.renderType=="native"){_29.push("<span id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_mobile w2calendar_footer_date_mobile_div'></span>");_29.push("<div class='w2calendar_footer_hour_div'>"+this.selectboxHourHTMLstr.join("")+"</div>");_29.push("<span class='w2calendar_footer_colon'> : </span>");_29.push("<div class='w2calendar_footer_min_div'>"+this.selectboxMinuteHTMLstr.join("")+"</div>");_29.push("<a href='#"+this.options.backlink+"' class='w2calendar_time_confirm w2calendar_time_confirm_div' tabindex='0'>"+$W._m.getMessage("Calendar_ok")+"</a>");_29.push("<a href='#"+this.options.backlink+"' class='w2calendar_time_cancel w2calendar_time_cancel_div' tabindex='0'>"+$W._m.getMessage("Calendar_cancel")+"</a>");}else{_29.push("<span id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date w2calendar_footer_date_div'></span>");_29.push("<div class='w2calendar_footer_hour_div'>"+this.getChild(this.id+"_selectbox_hour").toHTML()+"</div>");_29.push("<span class='w2calendar_footer_colon'> : </span>");_29.push("<div class='w2calendar_footer_min_div'>"+this.getChild(this.id+"_selectbox_minute").toHTML()+"</div>");_29.push("<div class='w2calendar_time_confirm w2calendar_time_confirm_div' tabindex='0' title='"+$W._m.getMessage("Calendar_ok")+"' ></div>");_29.push("<div class='w2calendar_time_cancel w2calendar_time_cancel_div' tabindex='0' title='"+$W._m.getMessage("Calendar_cancel")+"' ></div>");}}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){if(this.options.renderType=="native"){_29.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_sec'></div></td>");_29.push("<div class='w2calendar_footer_hour_div'>"+this.selectboxHourHTMLstr.join("")+"</div>");_29.push("<span class='w2calendar_footer_colon'> : </span>");_29.push("<div class='w2calendar_footer_min_div'>"+this.selectboxMinuteHTMLstr.join("")+"</div>");_29.push("<span class='w2calendar_footer_colon'> : </span>");_29.push("<div class='w2calendar_footer_sec_div'>"+this.selectboxSecondHTMLstr.join("")+"</div>");_29.push("<a href='#"+this.options.backlink+"' class='w2calendar_time_confirm w2calendar_time_confirm_div' tabindex='0'>"+$W._m.getMessage("Calendar_ok")+"</a>");_29.push("<a href='#"+this.options.backlink+"' class='w2calendar_time_cancel w2calendar_time_cancel_div' tabindex='0'>"+$W._m.getMessage("Calendar_cancel")+"</a>");}else{_29.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_sec'></div></td>");_29.push("<div class='w2calendar_go_today w2calendar_go_today_div' role='button' title='"+$W._m.getMessage("Calendar_today")+"' tabindex='0'></div>");_29.push("<div class='w2calendar_footer_hour_div'>"+this.getChild(this.id+"_selectbox_hour").toHTML()+"</div>");_29.push("<span class='w2calendar_footer_colon'> : </span>");_29.push("<div class='w2calendar_footer_min_div'>"+this.getChild(this.id+"_selectbox_minute").toHTML()+"</div>");_29.push("<span class='w2calendar_footer_colon'> : </span>");_29.push("<div class='w2calendar_footer_sec_div'>"+this.getChild(this.id+"_selectbox_second").toHTML()+"</div>");_29.push("<div class='w2calendar_time_confirm w2calendar_time_confirm_div' tabindex='0' title='"+$W._m.getMessage("Calendar_ok")+"' ></div>");_29.push("<div class='w2calendar_time_cancel w2calendar_time_cancel_div' tabindex='0' title='"+$W._m.getMessage("Calendar_cancel")+"' ></div>");}}}}}_29.push("</div>");}_29.push("</div></div>");return _29.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.setPreAction=function(){try{this.render.style.width="";this.render.style.height="";this.dom.content=document.getElementById(this.id+"_content");this.dom.currentDate=document.getElementById(this.id+"_currentDate");this.dom.selectboxYear=document.getElementById(this.id+"_selectbox_year");this.dom.selectboxMonth=document.getElementById(this.id+"_selectbox_month");this.dom.selectboxHour=document.getElementById(this.id+"_selectbox_hour");this.dom.selectboxMinute=document.getElementById(this.id+"_selectbox_minute");this.dom.selectboxSecond=document.getElementById(this.id+"_selectbox_second");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.setAction=function(){["WebSquare.uiplugin.calendar.setAction"];try{this.refresh();if($W._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener2(this.dom.selectboxYear,"onchange",this.event.bindAsEventListener(this,this.selectboxYearEvent));this.event.addListener2(this.dom.selectboxMonth,"onchange",this.event.bindAsEventListener(this,this.selectboxMonthEvent));this.event.addListener2(this.dom.selectboxYear,"onmousewheel",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));this.event.addListener2(this.dom.selectboxMonth,"onmousewheel",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));if(this.dom.selectboxHour){this.event.addListener2(this.dom.selectboxHour,"onmousewheel",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}if(this.dom.selectboxMinute){this.event.addListener2(this.dom.selectboxMinute,"onmousewheel",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}if(this.dom.selectboxSecond){this.event.addListener2(this.dom.selectboxSecond,"onmousewheel",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.selectboxYearEvent=function(e){this.gotoYear(e.srcElement?e.srcElement.value:e.originalTarget.value);};$W._a._t.prototype.selectboxMonthEvent=function(e){this.gotoMonth(e.srcElement?e.srcElement.value:e.originalTarget.value);};$W._a._t.prototype.refresh=function(){["WebSquare.uiplugin.calendar.refresh"];try{this.holidayXpath();this.updateCalendar();if(this.modelControl.isBinded()){var _3d=this.getValue();var _3e=this.modelControl.getData();if(_3e){this.selectedDateHelper.setDateAllByString(_3e);this.setSelectedDay(this.selectedDateHelper.getDate());if(this.dom.currentDate){this.dom.currentDate.innerHTML=this.selectedDateHelper.getFormatDateAll(this.options.displayFormat);}if(_3d!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}if(this.options.calendarValueType!="yearMonth"){this.dom.currentDate.innerHTML=this.selectedDateHelper.getFormatDateAll(this.options.displayFormat);if(!$W._G.isMobile()&&this.getStyle("display")!="none"){for(var row=0;row<6;row++){for(var col=0;col<7;col++){var _41=this.getElementById(this.id+"_cell_"+row+"_"+col);if(!_41){continue;}if(this.__hasClass(_41,"w2calendar_selected")){if(this.options.renderType=="native"){if(this.options.keepFocusSelect==false){try{if(this.options.focusOnStart){_41.firstChild.focus();}}catch(e){}}}else{try{_41.setAttribute("tabIndex","0");if(this.options.focusOnStart){_41.focus();}}catch(e){}}}else{_41.setAttribute("tabIndex","-1");}}}}}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.updateCalendar=function(){["WebSquare.uiplugin.calendar.updateCalendar"];try{var _42=this.selectedDateHelper.getYear();var _43=this.selectedDateHelper.getMonth();var _44=this.selectedDateHelper.getDate();var _45=this.selectedDateHelper.getHour();var _46=this.selectedDateHelper.getMinute();var _47=this.selectedDateHelper.getSecond();if(this.options.renderType=="native"){if(this.options.useYearSelect){for(var i=0;i<this.dom.selectboxYear.options.length;i++){if(this.dom.selectboxYear.options[i].value==_42){this.dom.selectboxYear.options[i].selected=true;}}}else{this.getChild(this.id+"_selectbox_year").setValue(_42);}if(this.options.useMonthSelect){for(var i=0;i<this.dom.selectboxMonth.options.length;i++){if(this.dom.selectboxMonth.options[i].value==_43){this.dom.selectboxMonth.options[i].selected=true;}}}else{this.getChild(this.id+"_selectbox_month").setValue(_43);}}else{this.getChild(this.id+"_selectbox_year").setValue(_42);this.getChild(this.id+"_selectbox_month").setValue(_43);if(this.options.calendarValueType=="yearMonthDateHour"&&this.options.serverSync){this.getChild(this.id+"_selectbox_hour").setValue(_45);}else{if(this.options.calendarValueType=="yearMonthDateTime"&&this.options.serverSync){this.getChild(this.id+"_selectbox_hour").setValue(_45);this.getChild(this.id+"_selectbox_minute").setValue(_46);}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"&&this.options.serverSync){this.getChild(this.id+"_selectbox_hour").setValue(_45);this.getChild(this.id+"_selectbox_minute").setValue(_46);this.getChild(this.id+"_selectbox_second").setValue(_47);}}}}var _49=this.selectedDateHelper.getMonthCount();var _4a=this.selectedDateHelper.getFirstDay();_4a=_4a+(this.shiftDay);if(_4a<=0){_4a+=7;}var _4b=6;var _4c=7;var _4d=0;var _4e=new $W._a._C();_4e.setDateAllByString(this.selectedDateHelper.getDateAll());_4e.setLastMonth();var _4f=_4e.getMonthCount();var _50=_43==1?_42-1:_42;var _51=_43==1?12:_43-1;var _52=_43==12?_42+1:_42;var _53=_43==12?1:_43+1;for(var row=0;row<_4b;row++){for(var col=0;col<_4c;col++){_4d++;var _56=_4d-_4a;var day=(_4a+_56-1)%7;var _58="";var _59=this.getElementById(this.id+"_cell_"+row+"_"+col);if(!_59){continue;}if(_56<1){_58=_4f+_56;_59.innerHTML=_58;_59.className="w2calendar_col_date w2calendar_date w2calendar_date_off w2calendar_date_lastmonth";_59.setAttribute("index",_58);_59.setAttribute("title",$W._m.getMessage("Calendar_tooltip",_50,(_51<10?"0"+_51:_51),_58));if(this.options.renderType!="native"){_59.setAttribute("tabindex","-1");}}else{if(_56>_49){_58=_56-_49;_59.innerHTML=_58;_59.className="w2calendar_col_date w2calendar_date w2calendar_date_off w2calendar_date_nextmonth";_59.setAttribute("index",_58);_59.setAttribute("title",$W._m.getMessage("Calendar_tooltip",_52,(_53<10?"0"+_53:_53),_58));if(this.options.renderType!="native"){_59.setAttribute("tabindex","-1");}}else{_58=_56;var _5a;if(_56<10){_5a="0"+_58;}else{_5a=_58;}var _5b;if(_43<10){_5b="0"+_43;}else{_5b=_43;}var _5c=_42+""+_5b+""+_5a;if(_44==_56){if(this.options.holiday.indexOf(_5c)!=-1){_59.className="w2calendar_col_date w2calendar_date_on w2calendar_date_"+_56+" w2calendar_holiday"+" w2calendar_selected "+(this.objCellClass[_5c]||"");}else{_59.className="w2calendar_col_date w2calendar_date_on w2calendar_date_"+_56+" w2calendar_day_"+this.dayIndexArray[day]+" w2calendar_selected "+(this.objCellClass[_5c]||"");}_59.setAttribute("aria-pressed","true");if(this.options.renderType!="native"){_59.setAttribute("tabindex","0");}}else{if(this.options.holiday.indexOf(_5c)!=-1){_59.className="w2calendar_col_date w2calendar_date_on w2calendar_date_"+_56+" w2calendar_holiday "+(this.objCellClass[_5c]||"");}else{_59.className="w2calendar_col_date w2calendar_date_on w2calendar_date_"+_56+" w2calendar_day_"+this.dayIndexArray[day]+" "+(this.objCellClass[_5c]||"");}if(this.options.renderType!="native"){_59.setAttribute("tabindex","-1");}}if(this.options.renderType=="native"&&!$W._G.isMobile()){_59.innerHTML="<button>"+_58+"</button>";}else{_59.innerHTML=_58;}_59.setAttribute("title","");_59.setAttribute("index",_56);}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.holidayXpath=function(){["WebSquare.uiplugin.calendar.holidayXpath"];try{if(this.options.holidayRef!=""){var _5d=$W._J.findInstanceNodes(this.options.holidayRef);for(var i=0;i<_5d.length;i++){var _5f=$W._B.serialize(_5d[i]);if(this.options.holiday.indexOf(_5f)==-1){this.options.holiday=this.options.holiday+" "+_5f;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.gotoCalendar=function(_60){["WebSquare.uiplugin.calendar.gotoCalendar"];try{if($W._G.isNull(_60)){return;}_60=_60.toString();var _61=this.getValue();this.selectedDateHelper.setDateAllByString(_60);var _62=this.selectedDateHelper.getYear();if(_62<this.minYear){this._gotoYear(this.minYear,false);}if(this.options.renderType=="native"){if(_62>this.maxYear){this._gotoYear(this.maxYear,false);}}else{if(_62>this.maxYear&&_62!=9999){this._gotoYear(this.maxYear,false);}}if(this.options.renderType=="native"&&_61.substring(0,6)==this.getValue().substring(0,6)){this.setSelectedDay(this.selectedDateHelper.getDate());if(this.dom.currentDate){this.dom.currentDate.innerHTML=this.selectedDateHelper.getFormatDateAll(this.options.displayFormat);}}else{this.refresh();}if(this.getValue()!=_61){$W._c.fireEvent(this,"onchange");}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.gotoToday=function(){["WebSquare.uiplugin.calendar.gotoToday"];try{var _63=this.todayHelper.getYear();var _64=this.todayHelper.getMonth();var _65=this.todayHelper.getDate();this.gotoCalendar(this.getDateString(_63,_64,_65));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.gotoNextYear=function(){["WebSquare.uiplugin.calendar.gotoNextYear"];try{var _66=this.getValue();this.selectedDateHelper.setNextYear();this.refresh();if(this.getValue()!=_66){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.gotoNextMonth=function(){["WebSquare.uiplugin.calendar.gotoNextMonth"];try{var _67=this.getValue();this.selectedDateHelper.setNextMonth();this.refresh();if(this.getValue()!=_67){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.gotoLastYear=function(){["WebSquare.uiplugin.calendar.gotoLastYear"];try{var _68=this.getValue();this.selectedDateHelper.setLastYear();this.refresh();if(this.getValue()!=_68){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.gotoLastMonth=function(){["WebSquare.uiplugin.calendar.gotoLastMonth"];try{var _69=this.getValue();this.selectedDateHelper.setLastMonth();this.refresh();if(this.getValue()!=_69){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.gotoYear=function(_6a){["WebSquare.uiplugin.calendar.gotoYear"];try{this._gotoYear(_6a,true);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype._gotoYear=function(_6b,_6c){["WebSquare.uiplugin.calendar._gotoYear"];try{var _6c=_6c===undefined?true:_6c;var _6d=this.getValue();this.selectedDateHelper.setYear(_6b);this.selectedDateHelper._checkValidDate();this.refresh();if(this.getValue()!=_6d&&_6c){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.gotoMonth=function(_6e){["WebSquare.uiplugin.calendar.gotoMonth"];try{var _6f=this.getValue();this.selectedDateHelper.setMonth(_6e);this.selectedDateHelper._checkValidDate();this.refresh();if(this.getValue()!=_6f){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.gotoTime=function(_70,_71,_72){["WebSquare.uiplugin.calendar.gotoTime"];try{if(this.options.renderType=="native"){if(this.options.calendarValueType=="yearMonthDateHour"){var _73=this.dom.selectboxHour.value;this.dom.selectboxHour.value=parseInt(_70,10)+" ";if(this.dom.selectboxHour.value!=_73){$W._c.fireEvent(this,"onchange");}}else{if(this.options.calendarValueType=="yearMonthDateTime"){var _73=this.dom.selectboxHour.value+"_"+this.dom.selectboxMinute.value;this.dom.selectboxHour.value=parseInt(_70,10)+" ";this.dom.selectboxMinute.value=parseInt(_71,10)+" ";if((this.dom.selectboxHour.value+"_"+this.dom.selectboxMinute.value)!=_73){$W._c.fireEvent(this,"onchange");}}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){_73=this.dom.selectboxHour.value+"_"+this.dom.selectboxMinute.value+"_"+this.dom.selectboxSecond.value;this.dom.selectboxHour.value=parseInt(_70,10)+" ";this.dom.selectboxMinute.value=parseInt(_71,10)+" ";this.dom.selectboxSecond.value=parseInt(_72,10)+" ";if((this.dom.selectboxHour.value+"_"+this.dom.selectboxMinute.value+"_"+this.dom.selectboxSecond.value)!=_73){$W._c.fireEvent(this,"onchange");}}}}}else{var _74=this.getChild(this.id+"_selectbox_hour");var _75=this.getChild(this.id+"_selectbox_minute");var _76=this.getChild(this.id+"_selectbox_second");var _73=null;if(this.options.calendarValueType=="yearMonthDateHour"){_73=_74.getValue();_74.setValue(_70);if(_74.getValue()!=_73){$W._c.fireEvent(this,"onchange");}}else{if(this.options.calendarValueType=="yearMonthDateTime"){_73=_74.getValue()+"_"+_75.getValue();_74.setValue(_70);_75.setValue(_71);if((_74.getValue()+"_"+_75.getValue())!=_73){$W._c.fireEvent(this,"onchange");}}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){_73=_74.getValue()+"_"+_75.getValue()+"_"+_76.getValue();_74.setValue(_70);_75.setValue(_71);_76.setValue(_72);if((_74.getValue()+"_"+_75.getValue()+"_"+_76.getValue())!=_73){$W._c.fireEvent(this,"onchange");}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.getValue=function(){["WebSquare.uiplugin.calendar.getValue"];try{var _77="";if(this.options.calendarValueType=="yearMonthDate"){_77=this.getDate();}else{if(this.options.calendarValueType=="yearMonth"){_77=this.getDate();}else{if(this.options.calendarValueType=="yearMonthDateHour"||this.options.calendarValueType=="yearMonthDateTime"||this.options.calendarValueType=="yearMonthDateTimeSec"){_77=this.getDate()+""+this.getTime();}}}return _77;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.getDate=function(){["WebSquare.uiplugin.calendar.getDate"];try{var _78="";if(this.options.calendarValueType=="yearMonthDate"){_78=this.selectedDateHelper.getDateAll();}else{if(this.options.calendarValueType=="yearMonth"){var _79=this.selectedDateHelper.getYear();var _7a=this.selectedDateHelper.getMonth();if(parseInt(_7a)<10){_7a="0"+_7a;}_78=_79+""+_7a;}else{if(this.options.calendarValueType=="yearMonthDateHour"||this.options.calendarValueType=="yearMonthDateTime"||this.options.calendarValueType=="yearMonthDateTimeSec"){_78=this.selectedDateHelper.getDateAll();}}}return _78;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.getTime=function(){["WebSquare.uiplugin.calendar.getTime"];try{var _7b="";if(this.options.calendarValueType=="yearMonthDateHour"){if(this.options.renderType=="native"){var _7c=this.dom.selectboxHour.value.wq_trim();}else{var _7c=this.getChild(this.id+"_selectbox_hour").getValue();}if(parseInt(_7c,10)<10){_7c="0"+_7c;}_7b=_7c+"";}else{if(this.options.calendarValueType=="yearMonthDateTime"){if(this.options.renderType=="native"){var _7c=this.dom.selectboxHour.value.wq_trim();var _7d=this.dom.selectboxMinute.value.wq_trim();}else{var _7c=this.getChild(this.id+"_selectbox_hour").getValue();var _7d=this.getChild(this.id+"_selectbox_minute").getValue();}if(parseInt(_7c,10)<10){_7c="0"+_7c;}if(parseInt(_7d,10)<10){_7d="0"+_7d;}_7b=_7c+""+_7d;}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){if(this.options.renderType=="native"){var _7c=this.dom.selectboxHour.value.wq_trim();var _7d=this.dom.selectboxMinute.value.wq_trim();var _7e=this.dom.selectboxSecond.value.wq_trim();}else{var _7c=this.getChild(this.id+"_selectbox_hour").getValue();var _7d=this.getChild(this.id+"_selectbox_minute").getValue();var _7e=this.getChild(this.id+"_selectbox_second").getValue();}if(parseInt(_7c,10)<10){_7c="0"+_7c;}if(parseInt(_7d,10)<10){_7d="0"+_7d;}if(parseInt(_7e,10)<10){_7e="0"+_7e;}_7b=_7c+""+_7d+""+_7e;}}}return _7b;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.getDateFormat=function(){["WebSquare.uiplugin.calendar.getDateFormat"];try{return this.options.dateFormat;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.getFormattedValue=function(){["WebSquare.uiplugin.calendar.getFormattedValue"];try{var _7f=this.getValue();if(this.options.calendarValueType=="yearMonthDate"){var fmt=this.getDateFormat()||"";if(fmt!=""){var _81=_7f.substring(0,4);var _82=_7f.substring(4,6);var day=_7f.substring(6);_7f=fmt.replace(/yyyy/gi,_81);_7f=_7f.replace(/MM/g,_82);_7f=_7f.replace(/dd/gi,day);}else{_7f=this.formatter.format(_7f);}}else{if(this.options.calendarValueType=="yearMonth"){var fmt=this.getDateFormat()||"";if(fmt!=""){var _81=_7f.substring(0,4);var _82=_7f.substring(4);_7f=fmt.replace(/yyyy/gi,_81);_7f=_7f.replace(/MM/g,_82);}else{_7f=this.formatter.format(_7f);}}else{if(this.options.calendarValueType=="yearMonthDateHour"){var fmt=this.getDateFormat()||"";if(fmt!=""){var _81=_7f.substring(0,4);var _82=_7f.substring(4,6);var day=_7f.substring(6,8);var _84=_7f.substring(8,10);_7f=fmt.replace(/yyyy/gi,_81);_7f=_7f.replace(/MM/g,_82);_7f=_7f.replace(/dd/gi,day);_7f=_7f.replace(/HH/gi,_84);}else{_7f=this.formatter.format(_7f);}}else{if(this.options.calendarValueType=="yearMonthDateTime"){var fmt=this.getDateFormat()||"";if(fmt!=""){var _81=_7f.substring(0,4);var _82=_7f.substring(4,6);var day=_7f.substring(6,8);var _84=_7f.substring(8,10);var _85=_7f.substring(10);_7f=fmt.replace(/yyyy/gi,_81);_7f=_7f.replace(/MM/g,_82);_7f=_7f.replace(/dd/gi,day);_7f=_7f.replace(/HH/gi,_84);_7f=_7f.replace(/mm/g,_85);}else{_7f=this.formatter.format(_7f);}}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){var fmt=this.getDateFormat()||"";if(fmt!=""){var _81=_7f.substring(0,4);var _82=_7f.substring(4,6);var day=_7f.substring(6,8);var _84=_7f.substring(8,10);var _85=_7f.substring(10,12);var _86=_7f.substring(12);_7f=fmt.replace(/yyyy/gi,_81);_7f=_7f.replace(/MM/g,_82);_7f=_7f.replace(/dd/gi,day);_7f=_7f.replace(/HH/gi,_84);_7f=_7f.replace(/mm/g,_85);_7f=_7f.replace(/SS/gi,_86);}else{_7f=this.formatter.format(_7f);}}}}}}return _7f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.getSelectedDay=function(){["WebSquare.uiplugin.calendar.getSelectedDay"];try{var _87;if(this.options.calendarValueType=="yearMonth"){_87="";}else{_87=this.selectedDateHelper.getDayStr(this.selectedDateHelper.getDay());}return _87;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.setDateFormat=function(_88){["WebSquare.uiplugin.calendar.setDateFormat"];try{if(this.options.calendarValueType=="yearMonthDate"){if(_88.indexOf("HH")>0||_88.indexOf("mm")>0||_88.indexOf("SS")>0){$W.logger.printLog(this.id+"\uc758 calendarValueType\uc635\uc158\uc774 'yearMonthDate'\uc774\ubbc0\ub85c setDateFormat API\uc758 \uc778\uc790\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ubb38\uc790\uc5f4\uc740 yyyy, MM, dd\uc785\ub2c8\ub2e4.");return;}}else{if(this.options.calendarValueType=="yearMonth"){if(_88.indexOf("dd")>0||_88.indexOf("HH")>0||_88.indexOf("mm")>0||_88.indexOf("SS")>0){$W.logger.printLog(this.id+"\uc758 calendarValueType\uc635\uc158\uc774 'yearMonth'\uc774\ubbc0\ub85c setDateFormat API\uc758 \uc778\uc790\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ubb38\uc790\uc5f4\uc740 yyyy, MM\uc785\ub2c8\ub2e4.");return;}}else{if(this.options.calendarValueType=="yearMonthDateHour"){if(_88.indexOf("mm")>0||_88.indexOf("SS")>0){$W.logger.printLog(this.id+"\uc758 calendarValueType\uc635\uc158\uc774 'yearMonthDateHour'\uc774\ubbc0\ub85c setDateFormat API\uc758 \uc778\uc790\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ubb38\uc790\uc5f4\uc740 yyyy, MM, dd, HH\uc785\ub2c8\ub2e4.");return;}}else{if(this.options.calendarValueType=="yearMonthDateTime"){if(_88.indexOf("SS")>0){$W.logger.printLog(this.id+"\uc758 calendarValueType\uc635\uc158\uc774 'yearMonthDateTime'\uc774\ubbc0\ub85c setDateFormat API\uc758 \uc778\uc790\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ubb38\uc790\uc5f4\uc740 yyyy, MM, dd, HH, mm\uc785\ub2c8\ub2e4.");return;}}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){}}}}}this.options.dateFormat=_88;this.formatter.setMasking(_88);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.setSkin=function(_89){["WebSquare.uiplugin.calendar.setSkin"];try{if(_89=="class1"||_89=="class2"||_89=="class3"||_89=="class4"||_89=="class5"){this.changeClass(this.render,"w2calendar_"+this.options.calendarClass,"w2calendar_"+_89);this.options.calendarClass=_89;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.setInitValue=function(_8a){["WebSquare.uiplugin.calendar.setInitValue"];try{if(this.options.initValue===""){this.gotoToday();}else{this.gotoCalendar(this.options.initValue);}if(_8a.fireEvent){var _8b=new Date(this.selectedDateHelper.getYear(),this.selectedDateHelper.getMonth()-1,this.selectedDateHelper.getDate());$W._c.fireEvent(this,"ondateselect",this.getFormattedValue(),_8b);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.setDisabled=function(_8c){["WebSquare.uiplugin.calendar.getServerDate"];try{_8c=$W._G.getBoolean(_8c);this.options.disabled=_8c;this.setProperty("disabled",_8c);this.render.disabled=_8c;if(this.options.calendarValueType=="yearMonthDate"||this.options.calendarValueType=="yearMonth"){this.getChild(this.id+"_selectbox_year").setDisabled(_8c);this.getChild(this.id+"_selectbox_month").setDisabled(_8c);}else{if(this.options.calendarValueType=="yearMonthDateHour"){this.getChild(this.id+"_selectbox_year").setDisabled(_8c);this.getChild(this.id+"_selectbox_month").setDisabled(_8c);this.getChild(this.id+"_selectbox_hour").setDisabled(_8c);}else{if(this.options.calendarValueType=="yearMonthDateTime"){this.getChild(this.id+"_selectbox_year").setDisabled(_8c);this.getChild(this.id+"_selectbox_month").setDisabled(_8c);this.getChild(this.id+"_selectbox_hour").setDisabled(_8c);this.getChild(this.id+"_selectbox_minute").setDisabled(_8c);}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){this.getChild(this.id+"_selectbox_year").setDisabled(_8c);this.getChild(this.id+"_selectbox_month").setDisabled(_8c);this.getChild(this.id+"_selectbox_hour").setDisabled(_8c);this.getChild(this.id+"_selectbox_minute").setDisabled(_8c);this.getChild(this.id+"_selectbox_second").setDisabled(_8c);}}}}}catch(e){$W.exception.printStackTrace(e);}return _8c;};$W._a._t.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.calendar.handleFocusEvent"];try{var elm=e.srcElement?e.srcElement:e.originalTarget;if(elm==this.render){if(this.options.calendarValueType=="yearMonth"){var _8f=this.getElementById(this.id+"_selectbox_year");_8f.focus();return;}else{var row,col,cell;for(row=0;row<6;row++){for(col=0;col<7;col++){cell=this.getElementById(this.id+"_cell_"+row+"_"+col);if(this.__hasClass(cell,"w2calendar_selected")){if(this.options.renderType=="native"){if(this.options.keepFocusSelect==false){try{cell.firstChild.focus();}catch(e){}}}else{try{cell.focus();}catch(e){}}return;}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.calendar.handleKeydownEvent"];try{var _92=(e.charCode)?e.charCode:e.keyCode;if(!(_92==13||_92==37||_92==38||_92==39||_92==40)){return;}if(_92==13){this.handleClickEvent(e);return;}if(this.options.renderType=="native"){return;}var it=this.event.getTargetIterator(e,this.render);var elm,dayClicked=false;while(it.next()){elm=it.getElement();if(elm.nodeType==1&&elm.nodeName.toLowerCase()=="td"&&elm.getAttribute("index")){dayClicked=true;break;}}if(dayClicked==false){return;}var id=elm.id.substr((this.id+"_cell_").length);var _96=-1,focusedRow=-1;focusedRow=parseInt(id.substr(0,id.indexOf("_")),10);_96=parseInt(id.substr(id.indexOf("_")+1),10);if(_96<0||focusedRow<0){_96=focusedRow=0;}if(_92==37){_96--;if(_96<0){if(focusedRow>0){_96=6;focusedRow--;}else{_96=0;}}}else{if(_92==38){if(focusedRow>0){focusedRow--;}}else{if(_92==39){_96++;if(_96>6){if(focusedRow<7){_96=0;focusedRow++;}else{_96=6;}}}else{if(_92==40){if(focusedRow<7){focusedRow++;}}}}}cell=document.getElementById(this.id+"_cell_"+focusedRow+"_"+_96);if(cell==null){return;}elm.setAttribute("tabIndex",-1);cell.setAttribute("tabIndex",0);cell.focus();$W._c.stopEvent(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.setSelectedDay=function(_97){["WebSquare.uiplugin.calendar.setSelectedDay"];try{for(var row=0;row<6;row++){for(var col=0;col<7;col++){var _9a=this.getElementById(this.id+"_cell_"+row+"_"+col);if(!_9a){continue;}if(!this.hasClass(_9a,"w2calendar_date_on")){continue;}if(_9a.getAttribute("index")==_97){this.addClass(_9a,"w2calendar_selected");}else{this.removeClass(_9a,"w2calendar_selected");}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.setFocus=function(_9b){["WebSquare.uiplugin.calendar.setFocus"];try{for(var row=0;row<6;row++){for(var col=0;col<7;col++){var _9e=this.getElementById(this.id+"_cell_"+row+"_"+col);if(!_9e){continue;}if(!this.hasClass(_9e,"w2calendar_date_on")){continue;}if(_9e.getAttribute("index")==_9b){_9e.setAttribute("aria-pressed","true");_9e.focus();return;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.hide=function(){["WebSquare.calendar.hide"];try{$W._n.prototype.hide.call(this);if(this.options.calendarValueType=="yearMonth"&&this.options.outsideClickEvent){$W._c.fireEvent(this,"onoutsideclick");}for(var i=0;i<this.childControlList.length;i++){var _a0=this.childControlList[i];_a0.hide();}}catch(e){$W.exception.printStackTrace(e);}};$W._a._t.prototype.show=function(_a1){["WebSquare.calendar.show"];try{$W._n.prototype.show.call(this,_a1);for(var i=0;i<this.childControlList.length;i++){var _a3=this.childControlList[i];_a3.show(_a1);}}catch(e){$W.exception.printStackTrace(e);}};$W._a._t.prototype.getDateString=function(_a4,_a5,_a6){["WebSquare.uiplugin.calendar.getDateString"];try{if(_a4===undefined){_a4=this.selectedDateHelper.getYear();}if(_a5===undefined){_a5=this.selectedDateHelper.getMonth();}if(_a6===undefined){_a6=this.selectedDateHelper.getDate();}var _a7=_a4+"";var _a8=_a5+"";var _a9=_a6+"";if(_a8.length==1){_a8="0"+_a8;}if(_a9.length==1){_a9="0"+_a9;}var _aa=_a7+_a8+_a9;return _aa;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.calendar.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);var _ad=this.getValue();while(it.next()){if(it.match("w2calendar_header_last_year")){if(this.selectedDateHelper.getYear()>this.minYear){this.selectedDateHelper.setDate(1);this.gotoLastYear();}it.stop();}if(it.match("w2calendar_header_next_year")){if(this.selectedDateHelper.getYear()<this.maxYear){this.selectedDateHelper.setDate(1);this.gotoNextYear();}it.stop();}if(it.match("w2calendar_header_last_month")){if(this.selectedDateHelper.getYear()>=this.minYear){if(this.selectedDateHelper.getYear()==this.minYear&&this.selectedDateHelper.getMonth()==1){}else{this.selectedDateHelper.setDate(1);this.gotoLastMonth();}}it.stop();}if(it.match("w2calendar_header_next_month")){if(this.selectedDateHelper.getYear()<=this.maxYear){if(this.selectedDateHelper.getYear()==this.maxYear&&this.selectedDateHelper.getMonth()==12){}else{this.selectedDateHelper.setDate(1);this.gotoNextMonth();}}it.stop();}if(it.match("w2calendar_date_lastmonth")){var _ae=this.selectedDateHelper.getYear();var _af=this.selectedDateHelper.getMonth();var _b0=it.getElement().getAttribute("index");if(_ae>=this.minYear){if(_ae==this.minYear&&_af==1){}else{if(_af>1){_af=_af-1;}else{_ae=_ae-1;_af=12;}this.gotoCalendar(this.getDateString(_ae,_af,_b0));this.setFocus(_b0);}}it.stop();}if(it.match("w2calendar_date_nextmonth")){var _ae=this.selectedDateHelper.getYear();var _af=this.selectedDateHelper.getMonth();var _b0=it.getElement().getAttribute("index");if(_ae<=this.maxYear){if(_ae==this.maxYear&&_af==12){}else{if(_af<12){_af=_af+1;}else{_ae=_ae+1;_af=1;}this.gotoCalendar(this.getDateString(_ae,_af,_b0));this.setFocus(_b0);}}it.stop();}if(it.match("w2calendar_header_btn_ok")){$W._c.fireEvent(this,"onconfirm");it.stop();}if(it.match("w2calendar_header_btn_close")){$W._c.fireEvent(this,"oncancel");it.stop();}if(it.match("w2calendar_time_confirm")){$W._c.fireEvent(this,"onconfirm");it.stop();}if(it.match("w2calendar_time_cancel")){$W._c.fireEvent(this,"oncancel");$W._c.stopEvent(e);it.stop();}if(it.match("w2calendar_date_cancel")){$W._c.fireEvent(this,"oncancel");$W._c.stopEvent(e);it.stop();}if(it.match("w2calendar_go_today")){this.gotoToday();if(this.options.renderType=="native"){var _ae=this.todayHelper.getYear();var _af=this.todayHelper.getMonth();var _b0=this.todayHelper.getDate();var _b1=new Date(_ae,_af-1,_b0);$W._c.fireEvent(this,"ondateselect",this.getFormattedValue(),_b1);}it.stop();}if(it.match("w2calendar_date_on")){var _ae=this.selectedDateHelper.getYear();var _af=this.selectedDateHelper.getMonth();var _b0=it.getElement().getAttribute("index");this.gotoCalendar(this.getDateString(_ae,_af,_b0));var _b1=new Date(this.selectedDateHelper.getYear(),this.selectedDateHelper.getMonth()-1,this.selectedDateHelper.getDate());$W._c.fireEvent(this,"ondateselect",this.getFormattedValue(),_b1);it.stop();}}it=null;var _b2=this.getValue();if(_ad!=_b2){$W._c.fireEvent(this,"onviewchange",{"oldValue":_ad,"newValue":_b2});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.calendar.handleMouseoverEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2calendar_go_today")){this.addClass(it.getElement(),"w2calendar_go_today_over");}else{if(it.match("w2calendar_date_on")){this.addClass(it.getElement(),"w2calendar_date_over");}else{if(it.match("w2calendar_time_confirm")){this.addClass(it.getElement(),"w2calendar_time_confirm_over");}else{if(it.match("w2calendar_time_cancel")){this.addClass(it.getElement(),"w2calendar_time_cancel_over");}else{if(it.match("w2calendar_header_btn_ok")){this.addClass(it.getElement(),"w2calendar_header_btn_ok_over");}else{if(it.match("w2calendar_header_btn_close")){this.addClass(it.getElement(),"w2calendar_header_btn_close_over");}}}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.calendar.handleMouseoutEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2calendar_go_today")){this.removeClass(it.getElement(),"w2calendar_go_today_over");}else{if(it.match("w2calendar_date_on")){this.removeClass(it.getElement(),"w2calendar_date_over");}else{if(it.match("w2calendar_time_confirm")){this.removeClass(it.getElement(),"w2calendar_time_confirm_over");}else{if(it.match("w2calendar_time_cancel")){this.removeClass(it.getElement(),"w2calendar_time_cancel_over");}else{if(it.match("w2calendar_header_btn_ok")){this.removeClass(it.getElement(),"w2calendar_header_btn_ok_over");}else{if(it.match("w2calendar_header_btn_close")){this.removeClass(it.getElement(),"w2calendar_header_btn_close_over");}}}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.getServerDate=function(){["WebSquare.uiplugin.calendar.getServerDate"];return $W._s.getCurrentServerDate();};$W._a._t.prototype.shiftDayIndex=function(_b7){["WebSquare.uiplugin.calendar.shiftDayIndex"];if(_b7>0){for(var i=0;i<_b7;i++){this.dayIndexArray.unshift(this.dayIndexArray.pop());}}else{for(var i=0;i<Math.abs(_b7);i++){this.dayIndexArray.push(this.dayIndexArray.shift());}}};$W._a._t.prototype.setCellClass=function(_b9,_ba){["WebSquare.uiplugin.calendar.setCellClass"];try{this.objCellClass[_b9]=_ba;this.updateCalendar();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.removeCellClass=function(_bb){["WebSquare.uiplugin.calendar.removeCellClass "];try{this.objCellClass[_bb]="";this.updateCalendar();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.removeAllCellClass=function(){["WebSquare.uiplugin.calendar.removeAllCellClass"];try{for(var key in this.objCellClass){this.objCellClass[key]="";}this.updateCalendar();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._t.prototype.finalize=function(){for(var i=this.childControlList.length-1;i>=0;i--){this.childControlList[i].remove();}};;WebSquare.uiplugin.calendar=$W._a._t;requires("uiplugin.calendar");requires("uiplugin/control/historyManager.js");requires("engine/formatter.js");requires("engine/validator.js");$W._a._k=function(id,_2,_3){["WebSquare.uiplugin.inputCalendar"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._k.prototype,$W._t.prototype);$W.extend($W._a._k.prototype,$W.IValidate.prototype);$W._a._k.prototype.defaultOptions={pluginType:"uiplugin.inputCalendar",pluginName:"inputCalendar",userEvents:["onfocus","onblur","onchange","oniconclick","ondateselect","onviewchange"],systemEvents:["onclick","onkeydown","onkeyup","onkeypress"],useConfig:true,delimiter:"-",ioFormat:"",calendarDisplayFormat:"",displayFormat:"",displayFormatter:"",applyFormat:"display",monthNames:"1\uc6d4,2\uc6d4,3\uc6d4,4\uc6d4,5\uc6d4,6\uc6d4,7\uc6d4,8\uc6d4,9\uc6d4,10\uc6d4,11\uc6d4,12\uc6d4",yearSuffix:"\ub144",calendarValueType:"yearMonthDate",calendarImage:$W.baseURI+"uiplugin/inputCalendar/images/icon_calendar.gif",calendarImageOver:$W.baseURI+"uiplugin/inputCalendar/images/icon_calendar_over.gif",calendarClass:"class1",direction:"auto",holiday:"",holidayRef:"",validCheck:false,dateValidCheck:"",wmode:false,readOnlyClass:"w2inputCalendar_readOnly",imageReadOnlyClass:"w2inputCalendar_img_readOnly",handleIconClick:null,setCurrentDate:false,mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessageFunc:"",displaymessage:false,keepFocusSelect:false,innerHeight:"17px",inputReadOnly:false,useUnlimitedYear:true,defaultDate:"",initValue:"",cancleButtonShow:false,cancelButtonShow:false,footerDiv:false,renderDiv:true,focusOnDateSelect:false,title:"",summary:"",caption:"",focusOnOuterDiv:false,alt:"",renderType:"component",useYearSelect:true,useMonthSelect:true,useAnchor:false,useCalendarTabIndex:true,maxYear:2030,minYear:1978,weekStartsOn:0,fixedDate:"",rightAlign:false,outsideClickEvent:false};$W._a._k.prototype.initialize=function(_4){["WebSquare.uiplugin.inputCalendar.initialize"];try{this.options.cancleButtonShow=this.options.cancleButtonShow||this.options.cancelButtonShow;if(this.options.alt==""){this.options.alt=$W._m.getMessage("Calendar_open");}this.calendar=null;this.evented=false;this.formatter=null;this.validator=null;this.sub_validator=null;if(this.options.yearSuffix===""){this.options.yearSuffix="$blank";}if(this.options.ioFormat){this.options.ioFormat=this.options.ioFormat.match(/([yMdHmS]+)/g).join("");}if(this.options.calendarValueType=="yearMonthDate"){this.options.displayFormat=this.options.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd";if(!this.options.ioFormat){this.options.ioFormat="yyyyMMdd";}}else{if(this.options.calendarValueType=="yearMonth"){this.options.displayFormat=this.options.displayFormat||"yyyy"+this.options.delimiter+"MM";if(!this.options.ioFormat){this.options.ioFormat="yyyyMM";}}else{if(this.options.calendarValueType=="yearMonthDateHour"){this.options.displayFormat=this.options.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd"+" HH";if(!this.options.ioFormat){this.options.ioFormat="yyyyMMddHH";}}else{if(this.options.calendarValueType=="yearMonthDateTime"){this.options.displayFormat=this.options.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd"+" HH:mm";if(!this.options.ioFormat){this.options.ioFormat="yyyyMMddHHmm";}}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){this.options.displayFormat=this.options.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd"+" HH:mm:SS";if(!this.options.ioFormat){this.options.ioFormat="yyyyMMddHHmmSS";}}}}}}this.formatter=$W._C.createFormatter("date",this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.validator=new $W._p.validateInvoker(this.id,this.options);this.sub_validator=new $W._p.validateInvoker(this.id,{});this.sub_validator.addCommand(new $W._p.dateCommand());this.sub_validator.addCommand(new $W._p.allowCharCommand("0-9"));var _5=0;if(this.options.calendarValueType=="yearMonthDate"){_5=8;}else{if(this.options.calendarValueType=="yearMonth"){_5=6;}else{if(this.options.calendarValueType=="yearMonthDateHour"){_5=10;}else{if(this.options.calendarValueType=="yearMonthDateTime"){_5=12;}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){_5=14;}}}}}this.invalidMessage=$W._m.getMessage("IC_invalidCalendarSelect")||"\ub0a0\uc9dc \ud615\uc2dd\uc774 \uc798\ubabb \ub418\uc5c8\uc2b5\ub2c8\ub2e4.";if(this.options.applyFormat=="all"&&this.options.displayFormat){_5=this.options.displayFormat.length;}this.options.maxlength=_5;this.options.minlength=_5;this.sub_validator.addCommand(new $W._p.maxLengthCommand(_5));this.sub_validator.addCommand(new $W._p.minLengthCommand(_5));if(!this.options.renderDiv){var _6=this.options["style"];var _7=$W._N.makeStyle(_6);var _8=[];var _9=[];for(var _a in _7){if("position width height left top right bottom display visibility".indexOf(_a.toLowerCase())>-1){_8.push(_a+":"+_7[_a]);}else{_9.push(_a+":"+_7[_a]);}}$W.cssManager.addConvertedCSS("#"+this.id+" input",_9.join(";"));this.options["style"]=_8.join(";");}if(this.options.validCheck&&this.options.dateValidCheck===""){this.options.dateValidCheck="true";}else{if(this.options.dateValidCheck===""){this.options.dateValidCheck="false";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.toHTML=function(){["WebSquare.uiplugin.inputCalendar.toHTML"];try{var _b="";if(this.options.inputReadOnly){_b=" readOnly ";}var _c=[];var _d=(this.options.style=="")?"":"style='"+this.options.style+"'";var _e=(this.options.title=="")?"":"title='"+this.options.title+"'";var _f=(this.options.innerHeight=="")?"":"style='height:"+this.options.innerHeight+"'";var _10=(this.options.alt=="")?"":"alt='"+this.options.alt+"'";if(this.options.renderDiv==false){_c.push("<div id='"+this.id+"' "+_d+" class='w2inputCalendar'>");_c.push("<table cellpadding='0' cellspacing='0' class='w2inputCalendar_table'><tr>");_c.push("<td class='w2inputCalendar_col_input'><input "+_f+" id='"+this.id+"_input' name='"+this.id+"_input' class='w2inputCalendar_input "+this.options.className+"' "+_b+" "+_e+" /></td>");_c.push("<td class='w2inputCalendar_col_img'>");if(this.options.useAnchor==true){_c.push("<a id='"+this.id+"_a' href='#' class='w2inputCalendar_a' role='button' aria-haspopup='true' aria-owns='"+this.id+"_calendar' >");}_c.push("<img id='"+this.id+"_img' class='w2inputCalendar_img' src='"+this.options.calendarImage+"' "+_10+" "+((this.options.useCalendarTabIndex&&!this.options.useAnchor)?"tabindex='0'":"")+" />");if(this.options.useAnchor==true){_c.push("</a>");}_c.push("</td></tr></table>");_c.push("</div>");}else{if(this.options.renderDiv==true){_c.push("<div id='"+this.id+"' "+_d+" class='w2inputCalendar_div "+this.options.className+"'>");_c.push("<div id='"+this.id+"_div_input' class='w2inputCalendar_div_input' >");_c.push("<input id='"+this.id+"_input' name='"+this.id+"_input' class='w2inputCalendar_divInput ' "+_b+" "+_e+" />");_c.push("</div>");_c.push("<div id='"+this.id+"_div_img' class='w2inputCalendar_div_img' >");_c.push("<button type='button' id='"+this.id+"_img' style='background-image:url("+this.options.calendarImage+")' class='w2inputCalendar_button' "+((this.options.useCalendarTabIndex&&!this.options.useAnchor)?"tabindex='0'":"")+" >"+$W._m.getMessage("Calendar_open")+"</button>");_c.push("</div>");_c.push("</div>");}}return _c.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.setSize=function(_11,_12){["WebSquare.uiplugin.inputCalendar.setSize"];try{$W._H.setSize.call(this,this.render,_11,_12);this.setSetting();}catch(e){$W.exception.printStackTrace(e);}};$W._a._k.prototype.setSetting=function(){["WebSquare.uiplugin.inputCalendar.setSetting"];try{if(this.options.renderDiv==true){var _13=$W._H.getStyle(this.render,"width");var _14=$W._H.getStyle(this.dom.divImg,"width");_14=(_14.lastIndexOf("px")>-1)?Math.ceil(_14.wq_replaceAll("px","")*1):0;_13=_13=="auto"?"100%":_13;if(_13.lastIndexOf("px")>-1){var _15=$W._H.getStyle(this.dom.divInput,"padding-right");_15=(_15.lastIndexOf("px")>-1)?parseInt(_15,10):0;_13=parseInt(_13.wq_replaceAll("px",""),10)-_14-_15;}else{if(_13.lastIndexOf("%")>-1){var _16=this.parentControl.render?this.parentControl.render:document.getElementById(this.parentControl.id);if(_16){var _17=$W._H.getStyle(_16,"padding-left");var _18=$W._H.getStyle(_16,"padding-right");var _19=$W._H.getStyle(_16,"border-left-width");var _1a=$W._H.getStyle(_16,"border-right-width");_17=(_17.lastIndexOf("px")>-1)?parseInt(_17,10):0;_18=(_18.lastIndexOf("px")>-1)?parseInt(_18,10):0;_19=(_19.lastIndexOf("px")>-1)?parseInt(_19,10):0;_1a=(_1a.lastIndexOf("px")>-1)?parseInt(_1a,10):0;var _15=$W._H.getStyle(this.dom.divInput,"padding-right");_15=(_15.lastIndexOf("px")>-1)?parseInt(_15,10):0;var _1b=_16.offsetWidth-(_17+_18+_19+_1a);_13=_1b*parseInt(_13.wq_replaceAll("%",""),10)/100-_14-_15;}}}var _1c;var _1d;var bR=$W._H.getStyle(this.dom.input,"border-right-width");bR=bR.wq_replaceAll("px","")*1;bR=bR>1?parseInt(bR,10):Math.ceil(bR);var bL=$W._H.getStyle(this.dom.input,"border-left-width");bL=bL.wq_replaceAll("px","")*1;bL=bL>1?parseInt(bL,10):Math.ceil(bL);var bT=$W._H.getStyle(this.dom.input,"border-top-width");bT=bT.wq_replaceAll("px","")*1;bT=bT>1?parseInt(bT,10):Math.ceil(bT);var bB=$W._H.getStyle(this.dom.input,"border-bottom-width");bB=bB.wq_replaceAll("px","")*1;bB=bB>1?parseInt(bB,10):Math.ceil(bB);var pR=$W._H.getStyle(this.dom.input,"padding-right");pR=pR.wq_replaceAll("px","")*1;pR=pR>1?parseInt(pR,10):Math.ceil(pR);var pL=$W._H.getStyle(this.dom.input,"padding-left");pL=pL.wq_replaceAll("px","")*1;pL=pL>1?parseInt(pL,10):Math.ceil(pL);var pT=$W._H.getStyle(this.dom.input,"padding-top");pT=pT.wq_replaceAll("px","")*1;pT=pT>1?parseInt(pT,10):Math.ceil(pT);var pB=$W._H.getStyle(this.dom.input,"padding-bottom");pB=pB.wq_replaceAll("px","")*1;pB=pB>1?parseInt(pB,10):Math.ceil(pB);var _26;_1c=_13-(bR+bL+pR+pL);$W._H.setStyle(this.dom.divInput,"width",Math.max(_13,0)+"px");$W._H.setStyle(this.dom.input,"width",Math.max(_1c,0)+"px");var _27=$W._H.getStyle(this.render,"height");_27=_27=="auto"?(this.render.offsetHeight+"px"):_27;if(_27.lastIndexOf("px")>-1){_27=parseInt(_27.wq_replaceAll("px",""),10);}else{if(_27.lastIndexOf("%")>-1){var _16=this.parentControl.render?this.parentControl.render:document.getElementById(this.parentControl.id);if(_16){var _28=_16.offsetHeight;_27=_28*parseInt(_27.wq_replaceAll("%",""),10)/100;}}}_1d=_27-(bT+bB+pT+pB);_26=_27/2-8;if($W._G.isIE(6)||$W._G.isIE(7)){_1d-=2;}$W._H.setStyle(this.dom.img,"top",Math.max(_26,0)+"px");$W._H.setStyle(this.dom.divInput,"height",Math.max(_27,0)+"px");$W._H.setStyle(this.dom.input,"height",Math.max(_1d,0)+"px");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.setPreAction=function(){try{if(this.options.renderDiv==true){this.dom.divInput=this.getElementById(this.id+"_div_input");this.dom.divImg=this.getElementById(this.id+"_div_img");this.event.addListener(window,"onresize",this.event.bindAsEventListener(this,this.setSetting));}this.dom.input=this.getElementById(this.id+"_input");this.dom.img=this.getElementById(this.id+"_img");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.setAction=function(){["WebSquare.uiplugin.inputCalendar.setAction"];try{this.setSetting();this.setInputSize();this.setVerticalAlign();if(this.modelControl.isBinded()){var _29=this.modelControl.getData();if(this.options.validCheck){_29=this.validator.validateString(_29);_29=this.sub_validator.validateString(_29);}this.setValueNM(_29);}if($W._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){var _2c=$W.getBody().getLayerListener();var _2d=_2c.layers[this.id].component;var _2e={};if(_2d.id){_2e[_2d.id]=true;}$W.getBody().getLayerListener().hideAll(_2e);$W._c.stopPropagation(e);}));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));}$W.getBody().getLayerListener().addListener({component:this,fnShow:this._showCalendar,fnHide:this._hideCalendar,event:{}});this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if(!this.options.inputReadOnly){if($W._N.browserCheck.ieAllVersion){this.event.addListener(this.dom.input,"onfocusin",this.event.bindAsEventListener(this,this.handleFocusEvent));}else{this.event.addListener(this.dom.input,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));}}this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent));if(this.options.setCurrentDate){if(this.options.calendarValueType=="yearMonthDate"){this.setValue($W._s.getFormattedDate(new Date(),"yyyyMMdd"));}else{if(this.options.calendarValueType=="yearMonth"){this.setValue($W._s.getFormattedDate(new Date(),"yyyyMM"));}else{if(this.options.calendarValueType=="yearMonthDateHour"){this.setValue($W._s.getFormattedDate(new Date(),"yyyyMMddHH"));}else{if(this.options.calendarValueType=="yearMonthDateTime"){this.setValue($W._s.getFormattedDate(new Date(),"yyyyMMddHHmm"));}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){this.setValue($W._s.getFormattedDate(new Date(),"yyyyMMddHHmmSS"));}}}}}}if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.onComplete=function(){["WebSquare.uiplugin.inputCalendar.onComplete"];try{if(this.options.handleIconClick){var _2f=null;try{_2f=eval(this.options.handleIconClick);}catch(e){$l("no function for handleIconClick : "+this.options.handleIconClick);}if(_2f){this.addEvent("oniconclick",_2f);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.refresh=function(){["WebSquare.uiplugin.inputCalendar.refresh"];try{if(this.modelControl.isBinded()){var _30=this.getValue();var _31=this.modelControl.getData();this.setValueNM(_31);if(_30!=this.getValue()){$W._c.fireEvent(this,"onchange");}}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.setInputSize=function(){["WebSquare.uiplugin.inputCalendar.setInputSize"];try{var _32=this.getStyle("height");var _33={paddingTop:parseInt($W._G.getStyleProperty(this.dom.input,"padding-top"))||0,paddingBottom:parseInt($W._G.getStyleProperty(this.dom.input,"padding-bottom"))||0,borderTopWidth:parseInt($W._G.getStyleProperty(this.dom.input,"border-top-width"))||0,borderBottomWidth:parseInt($W._G.getStyleProperty(this.dom.input,"border-bottom-width"))||0};if(_32.indexOf("px")>-1&&this.options.renderDiv!=true){_32=parseInt(_32);var _34=_32-(_33.paddingTop+_33.paddingBottom+_33.borderTopWidth+_33.borderBottomWidth);this.dom.input.style.height=_34+"px";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.setSkin=function(_35){["WebSquare.uiplugin.inputCalendar.setSkin"];try{this.options.calendarClass=_35;if(this.calendar){this.calendar.changeClass(this.calendar.render,"w2calendar_"+this.calendar.options.calendarClass,"w2calendar_"+_35);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.setVerticalAlign=function(){["WebSquare.uiplugin.inputCalendar.setVerticalAlign"];try{if($W._N.browserCheck.ie){var _36=parseInt($W._G.getStyleProperty(this.dom.input,"height"))||0;this.dom.input.style.lineHeight=_36+"px";}else{if($W._N.browserCheck.moz){}else{}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.setValue=function(_37){["WebSquare.uiplugin.inputCalendar.setValue"];try{var _38=this.getValue();if(_37!=""&&this.options.validCheck){var _39=this.validator.validate(_37);if(_39&&$W._G.getBoolean(this.options.dateValidCheck)){_39=this.sub_validator.validate(_37);}if(!_39){alert(this.invalidMessage);this.setValue("");this.focus();return;}}this.setValueNM(_37);this.modelControl.setData(_37);if(_38!=this.getValue()){$W._c.fireEvent(this,"onchange");}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.setValueNM=function(_3a){["WebSquare.uiplugin.inputCalendar.setValueNM"];try{if($W._G.isNull(_3a)){return;}_3a=_3a.toString();_3a=this.formatter.format(_3a);this.dom.input.value=_3a;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype._setValue=function(_3b){["WebSquare.uiplugin.inputCalendar._setValue"];try{this.setValue(_3b);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.getValue=function(){["WebSquare.uiplugin.inputCalendar.getValue"];try{var _3c=this.dom.input.value;_3c=this.formatter.unformat(_3c);return _3c;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.getTitle=function(){return this.dom.input.getAttribute("title");};$W._a._k.prototype.makeCalendar=function(){["WebSquare.uiplugin.inputCalendar.makeCalendar"];try{var _3d=this;var _3e=this.options.ioFormat.match(/([yMdHmS]+)/g).join("");var _3f=new $W._a._t(this.id+"_calendar",{className:"w2inputCalendar_calendar",calendarClass:this.options.calendarClass,monthNames:this.options.monthNames,yearSuffix:this.options.yearSuffix,calendarValueType:this.options.calendarValueType,holiday:this.options.holiday,holidayRef:this.options.holidayRef,wmode:this.options.wmode,delimiter:this.options.delimiter,dateFormat:_3e,displayFormat:this.options.calendarDisplayFormat,useUnlimitedYear:this.options.useUnlimitedYear,cancleButtonShow:this.options.cancleButtonShow,footerDiv:this.options.footerDiv,focusOnOuterDiv:this.options.focusOnOuterDiv,renderType:this.options.renderType,summary:this.options.summary,caption:this.options.caption,title:this.options.title+" "+$W._m.getMessage("Calendar_name"),backlink:(this.options.useAnchor==true?this.id+"_input":""),useYearSelect:this.options.useYearSelect,useMonthSelect:this.options.useMonthSelect,maxYear:this.options.maxYear,minYear:this.options.minYear,weekStartsOn:this.options.weekStartsOn,keepFocusSelect:this.options.keepFocusSelect,outsideClickEvent:this.options.outsideClickEvent});_3f.options.xmlEvents=[{name:"ondateselect",action:"script",param:{handler:function(e){var _41=this.getFormattedValue();if(_3d.options.calendarValueType!="yearMonthDateHour"&&_3d.options.calendarValueType!="yearMonthDateTime"&&_3d.options.calendarValueType!="yearMonthDateTimeSec"){var _42=_3d.getValue();_3d.toggle();_3d._setValue(_41);var _43=_3d.getValue();if(_42!=_43){$W._c.fireEvent(_3d,"onviewchange",{"oldValue":_42,"newValue":_43});}_3d.hideCalendar();if(!$W._G.isMobile()||_3d.options.focusOnDateSelect){_3d.dom.input.focus();if(_3d.options.editType=="select"){_3d.dom.input.select();}}}var _44=new Date(this.selectedDateHelper.getYear(),this.selectedDateHelper.getMonth()-1,this.selectedDateHelper.getDate());$W._c.fireEvent(_3d,"ondateselect",this.getFormattedValue(),_44);}}},{name:"onconfirm",action:"script",param:{handler:function(e){var _46=this.getFormattedValue();var _47=_3d.getValue();_3d._setValue(_46);var _48=_3d.getValue();if(_47!=_48){$W._c.fireEvent(_3d,"onviewchange",{"oldValue":_47,"newValue":_48});}_3d.hideCalendar();_3d.dom.input.focus();if(_3d.options.editType=="select"){_3d.dom.input.select();}}}},{name:"onoutsideclick",action:"script",param:{handler:function(e){var _4a=this.getFormattedValue();_3d._setValue(_4a);}}},{name:"oncancel",action:"script",param:{handler:function(e){_3d.hideCalendar();(document.getElementById(_3d.id+"_a")||document.getElementById(_3d.id+"_img")).focus();}}}];_3f.writeTo($W.getBody(),null,this.parentFrame);_3f.activate();this.event.addListener(_3f.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent));this.addControl(_3f);return _3f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.showCalendar=function(){["WebSquare.uiplugin.inputCalendar.showCalendar"];try{$W.getBody().getLayerListener().show(this.id);if(this.options.fixedDate=="today"){this.calendar.setInitValue(this.getValue());}$W._c.fireEvent(this,"onafteropen");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype._showCalendar=function(){["WebSquare.uiplugin.inputCalendar._showCalendar"];try{if(!this.calendar){this.calendar=this.makeCalendar();}if(this.calendar){var _4c=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(this.render)+this.render.offsetHeight+5;var _4e=document.documentElement.scrollLeft||document.body.scrollLeft;var _4f=document.documentElement.scrollTop||document.body.scrollTop;var _50=parseInt(this.calendar.getStyle("width"))+parseInt(this.calendar.getStyle("border-right-width"))+parseInt(this.calendar.getStyle("border-left-width"));if(!this.options.rightAlign){if(_4c+_50>_4e+(document.documentElement.clientWidth||document.body.clientWidth)){_4c=_4e+(document.documentElement.clientWidth||document.body.clientWidth)-_50-10;}}this.calendar.show();var _51=document.documentElement.scrollHeight||document.body.scrollHeight;var _52=_51-this.calendar.render.offsetHeight;if(top>_52){top=_52;}if(this.options.rightAlign){_4c=_4c-(_50-this.render.offsetWidth)-23;if(_4c<0){_4c=$W._H.getAbsoluteLeft(this.render);}if(_4c+_50>_4e+(document.documentElement.clientWidth||document.body.clientWidth)){_4c=_4e+(document.documentElement.clientWidth||document.body.clientWidth)-_50-23;}}this.calendar.setPosition(_4c,top);var _53=this.options.direction;if(_53=="auto"){var _54=$W._H.getAbsoluteTop(this.render)-_4f;var _55=document.documentElement.clientHeight-(_54+this.render.offsetHeight);var _56=this.calendar.render.offsetHeight;if(_55<_56&&_54>_56){_53="up";}}if(_53=="up"){top=$W._H.getAbsoluteTop(this.render)-this.calendar.render.offsetHeight-5;this.calendar.setPosition(_4c,top);}if(this.options.wmode==true){$W.getBody().showWModeFrame(this.getPluginName(),this.calendar.render);}var _57=this.getValue();var _58="";if(_57!=""){if(this.options.calendarValueType=="yearMonthDate"){_58=$W._A.unformatDate(this.options.ioFormat,_57);}else{if(this.options.calendarValueType=="yearMonth"){_58=$W._A.unformatDate(this.options.ioFormat,_57)+"01";}else{if(this.options.calendarValueType=="yearMonthDateHour"){_58=$W._A.unformatDate(this.options.ioFormat,_57);var _59=$W._A.unformatTime(this.options.ioFormat,_57);var _5a=_59.substr(0,2);this.calendar.gotoTime(_5a);}else{if(this.options.calendarValueType=="yearMonthDateTime"){_58=$W._A.unformatDate(this.options.ioFormat,_57);var _59=$W._A.unformatTime(this.options.ioFormat,_57);var _5a=_59.substr(0,2);var min=_59.substr(2);this.calendar.gotoTime(_5a,min);}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){_58=$W._A.unformatDate(this.options.ioFormat,_57);var _59=$W._A.unformatTime(this.options.ioFormat,_57);var _5a=_59.substr(0,2);var min=_59.substr(2,2);var sec=_59.substr(4);this.calendar.gotoTime(_5a,min,sec);}}}}}this.calendar.gotoCalendar(_58);}else{if(this.options.defaultDate!==""){if(this.options.calendarValueType=="yearMonthDateTimeSec"){_58=$W._A.unformatDate(this.options.ioFormat,this.options.defaultDate);var _59=$W._A.unformatTime(this.options.ioFormat,this.options.defaultDate);var _5a=_59.substr(0,2);var min=_59.substr(2,2);var sec=_59.substr(4);this.calendar.gotoTime(_5a,min,sec);}else{if(this.options.calendarValueType=="yearMonthDateTime"){_58=$W._A.unformatDate(this.options.ioFormat,this.options.defaultDate);var _59=$W._A.unformatTime(this.options.ioFormat,this.options.defaultDate);var _5a=_59.substr(0,2);var min=_59.substr(2);this.calendar.gotoTime(_5a,min);}else{if(this.options.calendarValueType=="yearMonthDateHour"){_58=$W._A.unformatDate(this.options.ioFormat,this.options.defaultDate);var _59=$W._A.unformatTime(this.options.ioFormat,this.options.defaultDate);var _5a=_59.substr(0,2);this.calendar.gotoTime(_5a);}}}this.calendar.gotoCalendar(this.options.defaultDate);}else{this.calendar.gotoToday();}}if(this.options.focusOnOuterDiv){this.calendar.render.focus();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.hideCalendar=function(){["WebSquare.uiplugin.inputCalendar.hideCalendar"];try{$W.getBody().getLayerListener().hide(this.id);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype._hideCalendar=function(){["WebSquare.uiplugin.inputCalendar._hideCalendar"];try{if(this.calendar){this.calendar.hide();if(this.options.wmode==true){$W.getBody().hideWModeFrame(this.getPluginName(),this.calendar.id);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.toggle=function(){["WebSquare.uiplugin.inputCalendar.toggle"];try{if(this.calendar){if(this.calendar.getStyle("display")!="none"){this.hideCalendar();}else{this.showCalendar();}}else{this.showCalendar();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.focus=function(){["WebSquare.uiplugin.inputCalendar.focus"];try{this.dom.input.focus();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.blur=function(){["WebSquare.uiplugin.inputCalendar.blur"];try{this.dom.input.blur();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.select=function(){["WebSquare.uiplugin.inputCalendar.select"];try{this.dom.input.select();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.onPropertyChange=function(_5d,_5e){["WebSquare.uiplugin.inputCalendar.onPropertyChange"];try{switch(_5d){case "disabled":this.dom.input.disabled=_5e;break;case "readOnly":this.dom.input.readOnly=_5e;if(_5e==true){this.addClass(this.dom.input,this.options.readOnlyClass);this.addClass(this.dom.img,this.options.imageReadOnlyClass);}else{this.removeClass(this.dom.input,this.options.readOnlyClass);this.removeClass(this.dom.img,this.options.imageReadOnlyClass);}break;case "mandatory":if(_5e==true){this.addClass(this.render,"w2inputCalendar_mandatory");}else{this.removeClass(this.render,"w2inputCalendar_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.validate=function(){["WebSquare.uiplugin.inputCalendar.validate"];try{var _5f=this.getValue();var _60=this.validator.validate(_5f);if(_60&&_5f!=""&&$W._G.getBoolean(this.options.dateValidCheck)){_60=this.sub_validator.validate(_5f);}if(_60==false){this.focus();}return _60;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.setInitValue=function(_61){["WebSquare.uiplugin.inputCalendar.setInitValue"];try{var _62=this.getValue();this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_61.fireEvent){if(_62!=this.getValue()){$W._c.fireEvent(this,"onchange");}}this.broadcast({"linkedDataList":["refresh"]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.setInputReadOnly=function(_63){["WebSquare.uiplugin.inputCalendar.setInputReadOnly"];try{if($W._G.getBoolean(_63)){this.dom.input.readOnly=true;return true;}else{this.dom.input.readOnly=false;return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.handleClickEventDocument=function(e){["WebSquare.uiplugin.inputCalendar.handleClickEventDocument"];try{if(this.event&&!this.event.isMine(e,this.render)){this.hideCalendar();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2inputCalendar_input")||it.match("w2inputCalendar_divInput")){if(this.options.editType==="select"){it.getElement().select();}break;}if(it.match("w2inputCalendar_img")||it.match("w2inputCalendar_a")||it.match("w2inputCalendar_button")){var ret=$W._c.fireEvent(this,"oniconclick");if(ret==false){continue;}if(this.options.renderType=="native"){this.showCalendar();}else{this.toggle();}if(this.options.useAnchor==true){$W._c.stopEvent(e);}break;}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleMouseoverEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2inputCalendar_img")||it.match("w2inputCalendar_button")){this.addClass(it.getElement(),"w2inputCalendar_img_over");if(it.match("w2inputCalendar_button")){it.getElement().style.backgroundImage="url("+this.options.calendarImageOver+")";}else{it.getElement().src=this.options.calendarImageOver;}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleMouseoutEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2inputCalendar_img")||it.match("w2inputCalendar_button")){this.removeClass(it.getElement(),"w2inputCalendar_img_over");if(it.match("w2inputCalendar_button")){it.getElement().style.backgroundImage="url("+this.options.calendarImage+")";}else{it.getElement().src=this.options.calendarImage;}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleFocusEvent"];try{if(this.dom.input.readOnly==true){$W._c.stopEvent(e);return;}if(this.evented==false){this.evented=true;this.event.addListener(this.dom.input,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.dom.input,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyupEvent));this.event.addListener(this.dom.input,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));}this.addClass(this.dom.input,"w2inputCalendar_focus");var _6d=this.getValue();if(this.options.applyFormat=="all"){this.dom.input.value=this.formatter.format(_6d);}else{this.dom.input.value=_6d;}var _6e=this;$W.historyManager.set(this.options.pluginName,this.id,{value:this.getValue()},{onRestore:function(_6f){_6e.setValue(_6f.value);}});$W._c.fireEvent(this,"onfocus");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleBlurEvent"];try{this.removeClass(this.dom.input,"w2inputCalendar_focus");var _71=this.getValue();_71=this.validator.validateString(_71);_71=this.sub_validator.validateString(_71);this.setValue(_71);var _72=$W.historyManager.get(this.options.pluginName,this.id);if(this.formatter.unformat(_72.value)!=this.getValue()){$W._c.fireEvent(this,"onchange");$W._c.fireEvent(this,"onviewchange",{"oldValue":_72.value,"newValue":this.getValue()});}this.hideCalendar();$W._c.fireEvent(this,"onblur");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.handleKeypressEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleKeypressEvent"];try{var _74=e.charCode?e.charCode:e.keyCode;if(_74==9){return;}if(_74==e.which||e.which==undefined){var _75=this.getValue();if(!this.validator.validateKeyPress(this.dom.input,_75,e)||!this.sub_validator.validateKeyPress(this.dom.input,_75,e)){$W._c.stopEvent(e);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.handleKeyupEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleKeyupEvent"];try{var _77=(e.charCode)?e.charCode:e.keyCode;if(_77==9){return;}if(_77==37){}else{if(_77==38){}else{if(_77==39){}else{if(_77==40){}else{if(_77==13||_77==9){}else{if(_77==27){this.dom.input.value="";}else{if(_77==33){}else{if(_77==34){}else{if(_77==35){}else{if(_77==36){}else{if(_77==113){}else{if(this.options.applyFormat=="all"){var _78=this.getValue();var pos=$W._A.getCaretPos(this.dom.input);var _7a=0;var _7b=0;_7a=_78.length;_78=this.formatter.unformat(_78);_78=this.validator.validateString(_78);_78=this.formatter.format(_78);_78=this.validator.validateString(_78);_78=this.formatter.format(_78);_7b=_78.length;this.dom.input.value=_78;$W._A.setCaretPos(this.dom.input,pos+_7b-_7a);}}}}}}}}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.handleKeyEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleKeyEvent"];try{var _7d=(e.charCode)?e.charCode:e.keyCode;if(this.calendar&&this.calendar.getStyle("display")!="none"){if(_7d==27){this.hideCalendar();(document.getElementById(this.id+"_a")||document.getElementById(this.id+"_img")).focus();}else{if(_7d==9&&e.shiftKey!=1){var it=this.event.getTargetIterator(e,this.calendar.render);while(it.next()){if((this.options.cancleButtonShow==false&&it.match("w2calendar_go_today"))||(this.options.cancleButtonShow==true&&it.match("w2calendar_date_cancel"))||(this.options.calendarValueType=="yearMonthDateTime"&&it.match("w2calendar_time_cancel"))){$W._c.stopEvent(e);this.hideCalendar();(document.getElementById(this.id+"_a")||document.getElementById(this.id+"_img")).focus();break;}}}else{if(_7d==9&&e.shiftKey==1){var it=this.event.getTargetIterator(e,this.calendar.render);while(it.next()){if(it.match("w2calendar_header_last_year")){$W._c.stopEvent(e);this.hideCalendar();(document.getElementById(this.id+"_a")||document.getElementById(this.id+"_img")).focus();break;}}}}}}else{if(_7d==13){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2inputCalendar_img")){$W._c.stopEvent(e);this.showCalendar();break;}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.setDisplayFormat=function(_7f){["WebSquare.uiplugin.inputCalendar.setDisplayFormat"];try{this.options.displayFormat=_7f;this.formatter.setMasking(_7f);this.setValueNM(this.getValue());}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.getDisplayFormat=function(){["WebSquare.uiplugin.inputCalendar.getDisplayFormat"];try{return this.options.displayFormat;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.getDefaultDate=function(){["WebSquare.uiplugin.inputCalendar.getDefaultDate"];try{return this.options.defaultDate;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.setDefaultDate=function(_80){["WebSquare.uiplugin.inputCalendar.setDefaultDate"];try{if(typeof _80!=="string"){return;}if(_80.length!==8){return;}this.hideCalendar();this.options.defaultDate=_80;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.getAccessibiltyId=function(){["WebSquare.uiplugin.inputCalendar.getAccessibiltyId"];try{return this.id+"_input";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.setFormat=function(){["WebSquare.uiplugin.inputCalendar.setFormat"];try{if(typeof arguments[0]=="object"){var _81=arguments[0].ioFormat||this.options.ioFormat;var _82=arguments[0].displayFormat||this.options.displayFormat;var _83=arguments[0].displayFormatter||this.options.displayFormatter;}else{var _81=arguments[0]||this.options.ioFormat;var _82=arguments[1]||this.options.displayFormat;var _83=this.options.displayFormatter;}this.options.displayFormat=_82;this.options.displayFormatter=_83;if(_81!=this.options.ioFormat){_81=_81.match(/([yMdHmS]+)/g).join("");var _84=this.getFormattedValue(_81);this.options.ioFormat=_81;this.formatter=$W._C.createFormatter("date",_82,_83,_81);this.setValue(_84);if(this.calendar){this.calendar.remove();delete this.calendar;}}else{var _84=this.getValue();this.formatter=$W._C.createFormatter("date",_82,_83,_81);this.setValueNM(_84);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.setCalendarValueType=function(_85,_86){["WebSquare.uiplugin.inputCalendar.setCalendarValueType"];try{if(_85==this.options.calendarValueType){return false;}this.options.calendarValueType=_85;_86=_86||{};if(_86.ioFormat){_86.ioFormat=_86.ioFormat.match(/([yMdHmS]+)/g).join("");}if(_85=="yearMonthDate"){this.options.displayFormat=_86.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd";this.options.ioFormat=_86.ioFormat||"yyyyMMdd";}else{if(_85=="yearMonth"){this.options.displayFormat=_86.displayFormat||"yyyy"+this.options.delimiter+"MM";this.options.ioFormat=_86.ioFormat||"yyyyMM";}else{if(_85=="yearMonthDateHour"){this.options.displayFormat=_86.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd"+" HH";this.options.ioFormat=_86.ioFormat||"yyyyMMddHH";}else{if(_85=="yearMonthDateTime"){this.options.displayFormat=_86.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd"+" HH:mm";this.options.ioFormat=_86.ioFormat||"yyyyMMddHHmm";}else{if(_85=="yearMonthDateTimeSec"){this.options.displayFormat=_86.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd"+" HH:mm:SS";this.options.ioFormat=_86.ioFormat||"yyyyMMddHHmmSS";}}}}}if(this.calendar){this.calendar.remove();delete this.calendar;}this.formatter=null;this.validator=null;this.sub_validator=null;this.options.maxlength=this.options.minlength=-1;this.formatter=$W._C.createFormatter("date",this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.validator=new $W._p.validateInvoker(this.id,this.options);this.sub_validator=new $W._p.validateInvoker(this.id,{});this.sub_validator.addCommand(new $W._p.dateCommand());this.sub_validator.addCommand(new $W._p.allowCharCommand("0-9"));var _87=0;if(this.options.calendarValueType=="yearMonthDate"){_87=8;}else{if(this.options.calendarValueType=="yearMonth"){_87=6;}else{if(this.options.calendarValueType=="yearMonthDateHour"){_87=10;}else{if(this.options.calendarValueType=="yearMonthDateTime"){_87=12;}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){_87=14;}}}}}if(this.options.applyFormat=="all"&&this.options.displayFormat){_87=this.options.displayFormat.length;}this.options.maxlength=_87;this.options.minlength=_87;this.sub_validator.addCommand(new $W._p.maxLengthCommand(_87));this.sub_validator.addCommand(new $W._p.minLengthCommand(_87));return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.getIoFormat=function(){["WebSquare.uiplugin.inputCalendar.getIoFormat"];try{return this.options.ioFormat;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.getFormattedValue=function(_88){["WebSquare.uiplugin.inputCalendar.getFormattedValue"];try{_88=_88||this.options.displayFormat;var _89=this.getValue();var _8a=$W._C.createFormatter("date",_88,"",this.options.ioFormat);return _8a.format(_89);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._k.prototype.setRef=function(ref){["WebSquare.uiplugin.inputCalendar.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.inputCalendar=$W._a._k;requires("uiplugin.group");$W._a._b=function(id,_2,_3){["WebSquare.uiplugin.Switch"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._b.prototype,$W._t.prototype);$W._a._b.prototype.defaultOptions={pluginType:"uiplugin.Switch",pluginName:"Switch",userEvents:["onSelectedIndexChange"],alwaysDraw:true,caseStyle:"",caseClass:"",slide:false,animationDuration:0.5,motionDisplay:true,detectionRange:10,rotation:true,useSelect:false,touchMove:true,hidePosition:"center"};$W._a._b.prototype.initialize=function(_4){["WebSquare.uiplugin.Switch.initialize"];try{this.selectedIndex=0;this.caseArr=[];this.slide={};this.centerInitLeft;this.isSliding=false;this.startEventLayer={};this.lastEventLayer={};this.leftPosition;this.topPosition;if(this.options.slide==true){this.options.alwaysDraw=true;}var _5="xf";var _6=$W._B.findNodes(_4,_5+":case");if(_6){for(var i=0;i<_6.length;i++){var _8=_6[i];var id=_8.getAttribute("id");var _a=_8.getAttribute("selected");var _b=$W.controlFactory.create(null,{pluginName:"group"},_8);_b.options.style=_b.options.style+";"+this.options.caseStyle;_b.options.className="w2switch_case "+_b.options.className+" "+this.options.caseClass;if(_a=="true"){this.selectedIndex=i;}this.caseArr.push({caseID:id,caseComp:_b});this.addControl(_b);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.toHTML=function(){["WebSquare.uiplugin.Switch.toHTML"];try{var _c=[];var _d=(this.options.style=="")?"":"style='"+this.options.style+"'";_c.push("<div id='"+this.id+"' "+_d+" class='w2Switch "+this.options.className+"'>");if(this.options.alwaysDraw==true){var _e=this.getChildren();for(var i=0;i<_e.length;i++){_c.push(_e[i].toHTML());}}_c.push("</div>");return _c.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.setAction=function(){["WebSquare.uiplugin.Switch.setAction"];try{this.isMobile=$W._G.isMobile();this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase());if(this.options.slide==true&&this.options.touchMove==true){if(this.isMobile){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(document.documentElement,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(document.documentElement,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));this.event.addListener(this.render,"ondrag",this.event.bindAsEventListener(this,function(e){this.isSliding=false;}));this.event.addListener(this.render,"ondragend",this.event.bindAsEventListener(this,this.handleDragEnd));if(this.options.useSelect!=true){this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){$W._c.preventDefault(e);}));}}}this.setSelectedIndex(this.selectedIndex);for(var i=0;i<this.caseArr.length;i++){var _13=this.caseArr[i];_13["caseElement"]=document.getElementById(_13.caseID);}this.leftPosition=$W._H.getAbsoluteLeft(this.render);this.topPosition=$W._H.getAbsoluteTop(this.render);this.centerInitLeft=this.caseArr[this.selectedIndex].caseElement.offsetLeft;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.setSelectedIndex=function(idx,_15){["WebSquare.uiplugin.Switch.setSelectedIndex"];try{if($W._G.isNull(idx)||idx<0||idx>=this.caseArr.length){return;}if(typeof _15=="undefined"){_15=true;}var _16=this.getSelectedIndex();for(var i=0;i<this.caseArr.length;i++){var _18=this.getChild(this.caseArr[i].caseID);if(i==idx){if(!_18.render){_18.writeTo(this);_18.activate();_18.onComplete();}if(_15){_18.setStyle("left",this.centerInitLeft||0+"px");_18.setStyle("zIndex",110);_18.setStyle("visibility","visible");}this.selectedIndex=i;}else{if(_15){if(_18.getStyle("visibility")!="hidden"){_18.setStyle("visibility","hidden");}if(this.options.hidePosition=="left"){_18.setStyle("left",(_18.render.offsetLeft-this.getElementWidth(_18.render))+"px");}else{if(this.options.hidePosition=="right"){_18.setStyle("left",(_18.render.offsetLeft+this.getElementWidth(_18.render))+"px");}}}_18.setStyle("zIndex",100);}}if(_16!=this.getSelectedIndex()){$W._c.fireEvent(this,"onSelectedIndexChange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.Switch.getSelectedIndex"];try{return this.selectedIndex;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.setSelectedID=function(id){["WebSquare.uiplugin.Switch.setSelectedID"];try{var _1a=this.getSelectedIndex();for(var i=0;i<this.caseArr.length;i++){var _1c=this.getChild(this.caseArr[i].caseID);if(_1c.id==id){if(!_1c.render){_1c.writeTo(this);_1c.activate();_1c.onComplete();}_1c.setStyle("left",this.centerInitLeft+"px");_1c.setStyle("zIndex",110);_1c.setStyle("visibility","visible");this.selectedIndex=i;}else{if(_1c.getStyle("visibility")!="hidden"){_1c.setStyle("zIndex",100);_1c.setStyle("visibility","hidden");}}}if(_1a!=this.getSelectedIndex()){$W._c.fireEvent(this,"onSelectedIndexChange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.getSelectedID=function(){["WebSquare.uiplugin.Switch.getSelectedID"];try{for(var i=0;i<this.caseArr.length;i++){if(i==this.selectedIndex){var _1e=this.caseArr[i];return _1e.caseID;}}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.moveToLeft=function(){["WebSquare.uiplugin.Switch.moveToLeft"];try{if(this.options.slide==true){this.combineSlideElement();var _1f="right";if(this.options.rotation==false){if(this.selectedIndex<=0){this.setSelectedIndex(this.selectedIndex,false);_1f="center";}else{this.setSelectedIndex(this.slide.leftIndex,false);}}else{this.setSelectedIndex(this.slide.leftIndex,false);}var _20=new Date().getTime()+this.options.animationDuration*1000;this.slideAnimation(_1f,_20);}else{this.setSelectedIndex(this.selectedIndex-1);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.moveToRight=function(){["WebSquare.uiplugin.Switch.moveToRight"];try{if(this.options.slide==true){var _21="left";this.combineSlideElement();if(this.options.rotation==false){if(this.selectedIndex>=(this.caseArr.length-1)){this.setSelectedIndex(this.slide.centerIndex,false);_21="center";}else{this.setSelectedIndex(this.slide.rightIndex,false);}}else{this.setSelectedIndex(this.slide.rightIndex,false);}var _22=new Date().getTime()+this.options.animationDuration*1000;this.slideAnimation(_21,_22);}else{this.setSelectedIndex(this.selectedIndex+1);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.moveToIndex=function(idx){["WebSquare.uiplugin.Switch.moveToIndex"];try{if($W._G.isNull(idx)||idx<0||idx>=this.caseArr.length){return;}if(this.options.slide==true){var _24=this.getSelectedIndex();var _25=_24-idx;var _26=Math.abs(_24-idx);var _27=_25<0?"left":"right";var _28=this;var _29=function(){if(_26==0){$w.clearInterval(_28.id+"_slider_moveToIndex");return;}if(_27=="left"){_28.moveToRight();}else{if(_27=="right"){_28.moveToLeft();}}_26--;};if(_26>0){_29();$w.setInterval(_29,{key:_28.id+"_slider_moveToIndex",caller:_28,delay:_28.options.animationDuration*1000});}}else{this.setSelectedIndex(idx);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.setInitValue=function(_2a){["WebSquare.uiplugin.Switch.init"];try{this.init(_2a);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.init=function(_2b){["WebSquare.uiplugin.Switch.init"];try{_2b=$W.extend({excludePlugin:"",excludeId:"",fireEvent:false},_2b||{});var _2c=this.getChildren();for(var i=0;i<_2c.length;i++){if(_2c[i].setInitValue){if((" "+_2b.excludePlugin+" ").indexOf(" "+_2c[i].options.pluginName+" ")==-1&&(" "+_2b.excludeId+" ").indexOf(" "+_2c[i].id+" ")==-1){_2c[i].setInitValue(_2b);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.invoke=function(_2e,_2f,_30,_31){["WebSquare.uiplugin.Switch.invoke"];try{return $W._t.prototype.invoke.call(this,_2e,_2f,_30,_31);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.getElementWidth=function(_32){["WebSquare.uiplugin.Switch.prototype.getElementWidth"];var _33;if(_32){_33=_32.offsetWidth;var _34=parseInt($W._G.getStyleProperty(_32,"border-left-width"),10)||0;var _35=parseInt($W._G.getStyleProperty(_32,"border-right-width"),10)||0;var _36=parseInt($W._G.getStyleProperty(_32,"padding-left"),10)||0;var _37=parseInt($W._G.getStyleProperty(_32,"padding-right"),10)||0;_33=_33-_34-_35-_36-_37;}return _33;};$W._a._b.prototype.combineSlideElement=function(){["WebSquare.uiplugin.Switch.prototype.combineSlideElement"];try{$W._N.clearTimer(this.id+"_slider_slide");this.slide={};this.slide.leftIndex=(this.selectedIndex-1>=0)?this.selectedIndex-1:this.caseArr.length-1;this.slide.centerIndex=this.selectedIndex;this.slide.rightIndex=(this.selectedIndex+1==this.caseArr.length)?0:this.selectedIndex+1;this.slide.leftElement=this.caseArr[this.slide.leftIndex].caseElement;this.slide.rightElement=this.caseArr[this.slide.rightIndex].caseElement;this.slide.centerElement=this.caseArr[this.slide.centerIndex].caseElement;if(!$W._G.isNumber(this.centerInitLeft)){this.centerInitLeft=this.slide.centerElement.offsetLeft;}this.slide.leftElement.style.left="-"+(this.getElementWidth(this.slide.leftElement)+this.centerInitLeft)+"px";this.slide.rightElement.style.left=(this.getElementWidth(this.slide.rightElement)-this.centerInitLeft)+"px";if(this.slide.leftElement.style["visibility"]!="visibility"){this.slide.leftElement.style["zIndex"]=110;this.slide.leftElement.style["visibility"]="visible";}if(this.slide.rightElement.style["visibility"]!="visibility"){this.slide.rightElement.style["zIndex"]=110;this.slide.rightElement.style["visibility"]="visible";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.slideAnimation=function(_38,_39){["WebSquare.uiplugin.Switch.slideAnimation"];try{var _3a=this.options.animationDuration*1000;var _3b=5;function CubicBezierAtTime(t,p1x,p1y,p2x,p2y,_41){var ax=0,bx=0,cx=0,ay=0,by=0,cy=0;function sampleCurveX(t){return ((ax*t+bx)*t+cx)*t;}function sampleCurveY(t){return ((ay*t+by)*t+cy)*t;}function sampleCurveDerivativeX(t){return (3*ax*t+2*bx)*t+cx;}function solveEpsilon(_46){return 1/(200*_46);}function solve(x,_48){return sampleCurveY(solveCurveX(x,_48));}function solveCurveX(x,_4a){var t0,t1,t2,x2,d2,i;function fabs(n){if(n>=0){return n;}else{return 0-n;}}for(t2=x,i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(fabs(x2)<_4a){return t2;}d2=sampleCurveDerivativeX(t2);if(fabs(d2)<0.000001){break;}t2=t2-x2/d2;}t0=0;t1=1;t2=x;if(t2<t0){return t0;}if(t2>t1){return t1;}while(t0<t1){x2=sampleCurveX(t2);if(fabs(x2-x)<_4a){return t2;}if(x>x2){t0=t2;}else{t1=t2;}t2=(t1-t0)*0.5+t0;}return t2;}cx=3*p1x;bx=3*(p2x-p1x)-cx;ax=1-cx-bx;cy=3*p1y;by=3*(p2y-p1y)-cy;ay=1-cy-by;return solve(t,solveEpsilon(_41));}var t=new Date().getTime()-(_39-_3a);var cp=[0.25,0.1,0.25,1];var _4f="ease";switch(_4f){case "ease":cp=[0.25,0.1,0.25,1];break;case "linear":cp=[0,0,1,1];break;case "ease-in":cp=[0.42,0,1,1];break;case "ease-out":cp=[0,0,0.58,1];break;case "ease-in-out":cp=[0.42,0,0.58,1];break;case "deceleration":cp=[0,0,0,1];break;case "acceleration":cp=[1,0,1,1];break;}var _50=CubicBezierAtTime(t/_3a,cp[0],cp[1],cp[2],cp[3],_3a/1000);var _51;if(_38=="right"){_51=Math.round((this.getElementWidth(this.slide.centerElement)-this.slide.centerElement.offsetLeft)*(_50));this.slide.leftElement.style.left=(this.slide.leftElement.offsetLeft+_51)+"px";this.slide.centerElement.style.left=this.slide.centerElement.offsetLeft+_51+"px";if(this.slide.leftIndex!=this.slide.rightIndex){this.slide.rightElement.style.left=this.slide.rightElement.offsetLeft+_51+"px";}}else{if(_38=="left"){_51=Math.round((this.getElementWidth(this.slide.centerElement)+this.slide.centerElement.offsetLeft)*(_50));if(this.slide.leftIndex!=this.slide.rightIndex){this.slide.leftElement.style.left=this.slide.leftElement.offsetLeft-_51+"px";}this.slide.centerElement.style.left=this.slide.centerElement.offsetLeft-_51+"px";this.slide.rightElement.style.left=this.slide.rightElement.offsetLeft-_51+"px";}else{}}if(t>=_3a){this.stopSlideAnimation(_38);return;}$W._N.setTimer(this.slideAnimation,{key:this.id+"_slider_slide",caller:this,delay:_3b,args:[_38,_39]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.stopSlideAnimation=function(_52){["WebSquare.uiplugin.Switch.stopSlideAnimation"];try{this.slide.leftElement.style.left=this.centerInitLeft+"px";this.slide.rightElement.style.left=this.centerInitLeft+"px";this.slide.centerElement.style.left=this.centerInitLeft+"px";if(_52==="right"){this.setSelectedIndex(this.slide.leftIndex);}else{if(_52==="left"){this.setSelectedIndex(this.slide.rightIndex);}else{this.setSelectedIndex(this.slide.centerIndex);}}$W._N.clearTimer(this.id+"_slider_slide");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.setIsSliding=function(_53){["WebSquare.uiplugin.Switch.prototype.setIsSliding"];var _54=this.lastEventLayer.x-this.startEventLayer.x;var _55=this.lastEventLayer.y-this.startEventLayer.y;var _56=3;if(_54<_56&&_55<_56){this.isSliding=_53;}};$W._a._b.prototype.handleTouchStart=function(e){["WebSquare.uiplugin.Switch.prototype.handleTouchStart"];try{$W.getBody().getLayerListener().hideAll();$W._c.stopPropagation(e);this.isSliding=true;this.isYScrolling=false;this.startEventLayer.x=$W._c.getMouseX(e)-(this.leftPosition||0);this.startEventLayer.y=$W._c.getMouseY(e)-(this.topPosition||0);this.lastEventLayer.x=$W._c.getMouseX(e)-(this.leftPosition||0);this.lastEventLayer.y=$W._c.getMouseY(e)-(this.topPosition||0);this.combineSlideElement();if(this.options.useSelect==true){$W._N.clearTimer(this.id+"_setSlidingFlag");$W._N.setTimer(this.setIsSliding,{key:this.id+"_setSlidingFlag",caller:this,delay:1000,args:[false]});}}catch(e){this.isSliding=false;this.isYScrolling=false;$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.handleTouchEnd=function(e,_59){["WebSquare.uiplugin.Switch.prototype.handleTouchEnd"];try{$W._c.stopPropagation(e);this.isYScrolling=false;if(!this.isSliding){if(_59&&this.slide.centerElement){this.stopSlideAnimation("center");}return;}this.isSliding=false;var _5a=new Date().getTime()+this.options.animationDuration*1000;var _5b=this.lastEventLayer.x-this.startEventLayer.x;if(Math.abs(_5b)<this.options.detectionRange){destination="center";}else{if(_5b>0){destination="right";}else{if(_5b<0){destination="left";}}}if(this.options.rotation==false){if(destination==="left"){if(this.selectedIndex>=this.caseArr.length-1){destination="center";}}else{if(destination==="right"){if(this.selectedIndex<=0){destination="center";}}}}if(destination==="center"){this.setSelectedIndex(this.slide.centerIndex);return;}else{if(destination==="left"){this.setSelectedIndex(this.slide.rightIndex,false);}else{if(destination==="right"){this.setSelectedIndex(this.slide.leftIndex,false);}}}this.slideAnimation(destination,_5a);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.handleTouchMove=function(e){["WebSquare.uiplugin.Switch.prototype.handleTouchMove"];try{if(!this.isSliding||this.options.motionDisplay!=true){this.lastEventLayer.x=$W._c.getMouseX(e)-(this.leftPosition||0);this.lastEventLayer.y=$W._c.getMouseY(e)-(this.topPosition||0);return;}if(!e.touches||e.touches.length==1){var _5d=$W._c.getMouseX(e)-(this.leftPosition||0);var _5e=_5d-this.startEventLayer.x;this.lastEventLayer.x=_5d;this.lastEventLayer.y=$W._c.getMouseY(e)-(this.topPosition||0);if(Math.abs(this.lastEventLayer.x-this.startEventLayer.x)<5&&Math.abs(this.lastEventLayer.y-this.startEventLayer.y)>10){this.isSliding=false;this.isYScrolling=true;if(this.slide.centerElement&&this.slide.centerElement.offsetLeft!=0){this.stopSlideAnimation("center");return;}}if(this.isSliding){$W._c.stopEvent(e);}if(this.slide.leftIndex==this.slide.rightIndex){if(this.slide.centerElement.offsetLeft>=0){this.slide.leftElement.style.left=_5e-this.getElementWidth(this.slide.leftElement)+"px";this.slide.centerElement.style.left=_5e+"px";}else{if(this.slide.centerElement.offsetLeft<=0){this.slide.centerElement.style.left=_5e+"px";this.slide.rightElement.style.left=_5e+this.getElementWidth(this.slide.rightElement)+"px";}}}else{this.slide.leftElement.style.left=_5e-this.getElementWidth(this.slide.leftElement)+"px";this.slide.centerElement.style.left=_5e+"px";this.slide.rightElement.style.left=_5e+this.getElementWidth(this.slide.rightElement)+"px";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._b.prototype.handleMouseOut=function(e){["WebSquare.uiplugin.Switch.prototype.handleMouseOut"];if($W._c.getRelatedTarget(e)==null){this.handleTouchEnd(e);}};$W._a._b.prototype.handleDragEnd=function(e){["WebSquare.uiplugin.Switch.prototype.handleDragEnd"];this.handleTouchEnd(e,true);};$W._a._b.prototype.setDisabled=function(_61){["WebSquare.Switch.setDisabled"];try{_61=$W._t.prototype.setDisabled.call(this,_61);for(var i=0;i<this.childControlList.length;i++){var _63=this.childControlList[i];if(_63.setDisabled&&_63.activeStatus!="stop"){_63.setDisabled(_61);}}}catch(e){$W.exception.printStackTrace(e);}return _61;};;WebSquare.uiplugin.Switch=$W._a._b;$W._a.ad=function(id,_2,_3){["WebSquare.uiplugin.tabContainer"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.ad.prototype,$W._t.prototype);$W._a.ad.prototype.defaultOptions={pluginType:"uiplugin.tabContainer",pluginName:"tabContainer",userEvents:["onchange","ontabclick","onbeforeselect","ontabselect"],tabClass:"",tabStyle:"",selectedIndex:0,alwaysDraw:true,contentsClass:"w2tabContainer_contents_layer",tabPosition:"auto left",tabDefaultLeftImageClass:"w2tabContainer_tab_left",tabDefaultCenterImageClass:"w2tabContainer_tab_center",tabDefaultRightImageClass:"w2tabContainer_tab_right",tabDefaultLeftImageStyle:"",tabDefaultCenterImageStyle:"",tabDefaultRightImageStyle:"",tabSelectedLeftImageClass:"w2tabContainer_tab_left",tabSelectedCenterImageClass:"w2tabContainer_tab_center",tabSelectedRightImageClass:"w2tabContainer_tab_right",tabSelectedLeftImageStyle:"",tabSelectedCenterImageStyle:"",tabSelectedRightImageStyle:"",tabHoverLeftImageClass:"w2tabContainer_tab_left",tabHoverCenterImageClass:"w2tabContainer_tab_center",tabHoverRightImageClass:"w2tabContainer_tab_right",tabHoverLeftImageStyle:"",tabHoverCenterImageStyle:"",tabHoverRightImageStyle:"",tabDisabledLeftImageClass:"",tabDisabledCenterImageClass:"",tabDisabledRightImageClass:"",tabDisabledLeftImageStyle:"",tabDisabledCenterImageStyle:"",tabDisabledRightImageStyle:""};$W._a.ad.prototype.defaultOptionsTab={id:"",value:"",localeRef:"",style:"",className:"",tabDefaultLeftImageClass:"w2tabContainer_tab_left",tabDefaultCenterImageClass:"w2tabContainer_tab_center",tabDefaultRightImageClass:"w2tabContainer_tab_right",tabDefaultLeftImageStyle:"",tabDefaultCenterImageStyle:"",tabDefaultRightImageStyle:"",tabSelectedLeftImageClass:"w2tabContainer_tab_left",tabSelectedCenterImageClass:"w2tabContainer_tab_center",tabSelectedRightImageClass:"w2tabContainer_tab_right",tabSelectedLeftImageStyle:"",tabSelectedCenterImageStyle:"",tabSelectedRightImageStyle:"",tabHoverLeftImageClass:"w2tabContainer_tab_left",tabHoverCenterImageClass:"w2tabContainer_tab_center",tabHoverRightImageClass:"w2tabContainer_tab_right",tabHoverLeftImageStyle:"",tabHoverCenterImageStyle:"",tabHoverRightImageStyle:"",tabDisabledLeftImageClass:"",tabDisabledCenterImageClass:"",tabDisabledRightImageClass:"",tabDisabledLeftImageStyle:"",tabDisabledCenterImageStyle:"",tabDisabledRightImageStyle:""};$W._a.ad.prototype.defaultOptionsContents={id:"",style:"",src:null,spa:false};$W._a.ad.prototype.initialize=function(_4){["WebSquare.uiplugin.tabContainer.initialize"];try{this.selectedIndex=0;this.tabArr=[];if($W._N.getConfiguration("/WebSquare/spa/@value")=="true"){this.options.spa=true;}var _5="w2:";var _6=$W._B.findNodes(_4,_5+"tab");var _7=$W._B.findNodes(_4,_5+"contents");if(_6&&_7&&_6.length==_7.length){for(var i=0;i<_6.length;i++){var _9=_6[i];var _a=_7[i];var _b=this.parseTabOption(_9);var _c=$W.extendKeepingType($W.extendKeepingType({},this.defaultOptionsContents),$W.WebSquareparser.parseAttribute(_a));_c.id=this.id+"_"+_c.id;if(_b.useMultipleImage=="none"){_b.useMultipleImage=true;}if(_b.useDefaultImage=="none"){_b.useDefaultImage="true";}var _d=null;if(_c.src){requires("uiplugin.wframe");_d=new $W._a._A(_c.id,null,_a);}else{_d=$W.controlFactory.create(_c.id,null,_a);}_d.options.className=_d.options.className+" "+this.options.contentsClass;this.addControl(_d);if(_b.localeRef!=""){_b.value=this.getLocaleValue(_b.localeRef);}this.tabArr.push(new $W._a._w(_b.id,{contentsID:_c.id,tabValue:_b.value,optionsTab:_b,optionsContents:_c}));}}for(var _e in this.options){if(_e.indexOf("ImageStyle")>-1){this.options[_e]=this.options[_e].replace("position:absolute;vertical-align:middle;word-wrap:break-word","");}}this.options=$W.cssManager.styleToClass(this.id,this.options);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.toHTML=function(){["WebSquare.uiplugin.tabContainer.toHTML"];try{var _f=[];var _10=(this.options.style=="")?"":"style='"+this.options.style+"'";_f.push("<div id='"+this.id+"' "+_10+" class='w2tabContainer "+this.options.className+"'>");_f.push("<div id='"+this.id+"_tabLayer' class='w2tabContainer_tab_layer'></div>");if(this.options.alwaysDraw==true){for(var i=0;i<this.tabArr.length;i++){var _12=this.getChild(this.tabArr[i].contentsID);_f.push(_12.toHTML());}}_f.push("<div id='"+this.id+"_wrap' class='w2tabContainer_wrap'></div>");_f.push("</div>");return _f.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.setAction=function(){["WebSquare.uiplugin.tabContainer.setAction"];try{this.dom.tabLayer=document.getElementById(this.id+"_tabLayer");this.drawTab();this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.setSelectedIndexNM(this.options.selectedIndex);var _13=document.getElementById(this.id+"_wrap");if(_13){_13.style.display="none";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.onPropertyChange=function(_14,_15){["WebSquare.uiplugin.tabContainer.onPropertyChange"];try{switch(_14){case "disabled":for(var i=0;i<this.getCount();i++){var _17=document.getElementById(this.id+"_tab_left_"+i);var _18=document.getElementById(this.id+"_tab_center_"+i);var _19=document.getElementById(this.id+"_tab_right_"+i);if(_15==true){this.addClass(_17,this.tabArr[i].optionsTab.tabDisabledLeftImageClass);this.addClass(_18,this.tabArr[i].optionsTab.tabDisabledCenterImageClass);this.addClass(_19,this.tabArr[i].optionsTab.tabDisabledRightImageClass);}else{this.removeClass(_17,this.tabArr[i].optionsTab.tabDisabledLeftImageClass);this.removeClass(_18,this.tabArr[i].optionsTab.tabDisabledCenterImageClass);this.removeClass(_19,this.tabArr[i].optionsTab.tabDisabledRightImageClass);}}break;case "readOnly":break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype._getTabIndex=function(idx){["WebSquare.uiplugin.tabContainer._getTabIndex"];try{var _1b=-1;if(typeof idx=="number"){_1b=idx;}else{if(typeof idx=="string"){for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].tabID==idx){_1b=i;break;}}}}if(_1b<0||_1b>=this.tabArr.length){_1b=-1;}return _1b;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.getCount=function(){["WebSquare.uiplugin.tabContainer.getCount"];try{return this.tabArr.length;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.parseTabOption=function(_1d){["WebSquare.uiplugin.tabContainer.parseTabOption"];try{var _1e={};for(var idx in this.options){if(idx.indexOf("ImageStyle")>-1||idx.indexOf("ImageClass")>-1){_1e[idx]=this.options[idx];}}var _20={};_20=$W.extendKeepingType(_20,this.defaultOptionsTab);_20=$W.extendKeepingType(_20,_1e);_20=$W.extendKeepingType(_20,$W.WebSquareparser.parseAttribute(_1d));for(var idx in _20){if(idx.indexOf("ImageStyle")>-1){_20[idx]=_20[idx].replace("position:absolute;vertical-align:middle;word-wrap:break-word","");}}if(this.options.tabPosition.indexOf("manual")==-1){var _21=_20["style"];_21=_21.replace(/(?:^|;)\s*left\s*:\s*(\d*)px\s*/ig,"");_21=_21.replace(/(?:^|;)\s*right\s*:\s*(\d*)px\s*/ig,"");_21=_21.replace(/(?:^|;)\s*top\s*:\s*(\d*)px\s*/ig,"");_21=_21.replace(/(?:^|;)\s*bottom\s*:\s*(\d*)px\s*/ig,"");_21=_21.replace(/(?:^|;)\s*position\s*:\s*([A-z]*)\s*/ig,"");_20["style"]=_21;}_20=$W.cssManager.styleToClass(_20.id,_20);return _20;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.drawTab=function(){["WebSquare.uiplugin.tabContainer.drawTab"];try{var _22=[];for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].tabValue==""){this.tabArr[i].tabValue="&nbsp;";}if(i==this.selectedIndex){_22.push("<table id='"+this.tabArr[i].tabID+"' style='"+this.tabArr[i].optionsTab.style+"' class='w2tabContainer_tab w2tabContainer_tab_table w2tabContainer_tab_selected "+this.tabArr[i].optionsTab.className+"' index='"+i+"' cellpadding='0' cellspacing='0'><tr>");_22.push("<td id='"+this.id+"_tab_left_"+i+"' class='w2tabContainer_tab_col_left "+this.tabArr[i].optionsTab.tabSelectedLeftImageClass+"' ></td>");_22.push("<td id='"+this.id+"_tab_center_"+i+"' class='w2tabContainer_tab_col_center "+this.tabArr[i].optionsTab.tabSelectedCenterImageClass+"' >"+this.tabArr[i].tabValue+"</td>");_22.push("<td id='"+this.id+"_tab_right_"+i+"' class='w2tabContainer_tab_col_right "+this.tabArr[i].optionsTab.tabSelectedRightImageClass+"' ></td>");_22.push("\t</tr></table>");}else{_22.push("<table id='"+this.tabArr[i].tabID+"' style='"+this.tabArr[i].optionsTab.style+"' class='w2tabContainer_tab w2tabContainer_tab_table w2tabContainer_tab_deselected "+this.tabArr[i].optionsTab.className+"' index='"+i+"' cellpadding='0' cellspacing='0'><tr>");_22.push("<td id='"+this.id+"_tab_left_"+i+"' class='w2tabContainer_tab_col_left "+this.tabArr[i].optionsTab.tabDefaultLeftImageClass+"'></td>");_22.push("<td id='"+this.id+"_tab_center_"+i+"' class='w2tabContainer_tab_col_center "+this.tabArr[i].optionsTab.tabDefaultCenterImageClass+"'>"+this.tabArr[i].tabValue+"</td>");_22.push("<td id='"+this.id+"_tab_right_"+i+"' class='w2tabContainer_tab_col_right "+this.tabArr[i].optionsTab.tabDefaultRightImageClass+"'></td>");_22.push("\t</tr></table>");}}this.dom.tabLayer.innerHTML=_22.join("");for(var idx=0;idx<this.tabArr.length;idx++){var _25=document.getElementById(this.tabArr[idx].tabID);var _26=document.getElementById(this.id+"_tab_left_"+idx);var _27=document.getElementById(this.id+"_tab_center_"+idx);var _28=document.getElementById(this.id+"_tab_right_"+idx);if(this.tabArr[idx].disabled==true){_25.disabled=true;this.addClass(_26,this.tabArr[idx].optionsTab.tabDisabledLeftImageClass);this.addClass(_27,this.tabArr[idx].optionsTab.tabDisabledCenterImageClass);this.addClass(_28,this.tabArr[idx].optionsTab.tabDisabledRightImageClass);}if(this.tabArr[idx].visible==false){this.addClass(_25,"w2tabContainer_none");}if(this.options.tabPosition.indexOf("right")>-1){this.addClass(_25,"w2tabContainer_tab_rightalign");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.setSelectedIndexNM=function(idx){["WebSquare.uiplugin.tabContainer.setSelectedIndexNM"];try{idx=parseInt(idx);if(idx<0||idx>=this.tabArr.length){return;}if(this.tabArr[idx].disabled==true){return;}for(var i=0;i<this.tabArr.length;i++){var _2b=this.getChild(this.tabArr[i].contentsID);if(i==idx){if(!_2b.render){_2b.writeTo(this);_2b.activate();_2b.onComplete();}_2b.setStyle("zIndex",110);_2b.setStyle("visibility","visible");this.addClass(_2b.render,"w2tabContainer_contents_selected");this.selectedIndex=i;}else{_2b.setStyle("zIndex",100);_2b.setStyle("visibility","hidden");this.removeClass(_2b.render,"w2tabContainer_contents_selected");}}this.drawTab();$W._c.fireEvent(this,"ontabselect",idx);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.setSelectedIndex=function(idx){["WebSquare.uiplugin.tabContainer.setSelectedIndex"];try{var ret=$W._c.fireEvent(this,"onbeforeselect",this.getSelectedIndex(),idx);if(ret==false){return;}var _2e=this.getSelectedIndex();this.setSelectedIndexNM(idx);if(_2e!=this.getSelectedIndex()){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.tabContainer.getSelectedIndex"];try{return this.selectedIndex;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.getSelectedID=function(){["WebSquare.uiplugin.tabContainer.getSelectedID"];try{var idx=this.selectedIndex;if(idx<0||idx>=this.tabArr.length){return "";}return this.tabArr[idx].tabID;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.setLabelText=function(idx,_31){["WebSquare.uiplugin.tabContainer.setLabelText"];try{var _32=this._getTabIndex(idx);if(_32!=-1){this.tabArr[_32].tabValue=_31;this.drawTab();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.getLabelText=function(idx){["WebSquare.uiplugin.tabContainer.getLabelText"];try{var _34=this._getTabIndex(idx);if(_34!=-1){return this.tabArr[_34].tabValue;}else{return null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.addTab=function(id,_36){["WebSquare.uiplugin.tabContainer.addTab"];try{_36=$W.extend({label:"",src:"",frameMode:"iframe"},_36||{});var _37=id+"_contents";for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].tabID==id){this.setSelectedIndex(i);return;}}this.tabArr.push(new $W._a._w(id,{contentsID:_37,tabValue:_36.label,optionsTab:$W.extendKeepingType({},this.defaultOptions)}));var _39=null;if(_36.frameMode=="wframe"){requires("uiplugin.wframe");_39=new $W._a._A(_37,{className:"w2tabContainer_contents"});}else{if(_36.frameMode=="iframe"){requires("uiplugin.iframe");_39=new $W._a.bq(_37,{className:"w2tabContainer_contents",spa:this.options.spa});}}_39.writeTo(this);_39.activate();_39.onComplete();_39.setSrc(_36.src);this.setSelectedIndex(this.tabArr.length-1);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.deleteTab=function(idx){["WebSquare.uiplugin.tabContainer.deleteTab"];try{var _3b=this._getTabIndex(idx);if(_3b!=-1){var _3c=this.getChild(this.tabArr[_3b].contentsID);if(_3c){_3c.remove();this.tabArr.splice(_3b,1);}this.drawTab();if(_3b<this.selectedIndex){this.setSelectedIndex(this.selectedIndex-1);}else{if(_3b==this.selectedIndex){if(this.tabArr[this.selectedIndex]){this.setSelectedIndex(this.selectedIndex);}else{this.setSelectedIndex(this.selectedIndex-1);}}else{if(_3b>this.selectedIndex){this.setSelectedIndex(this.selectedIndex);}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.disableTab=function(idx){["WebSquare.uiplugin.tabContainer.enableTab"];try{idx=parseInt(idx);if(isNaN(idx)||idx<0||idx>=this.tabArr.length){return;}this.tabArr[idx].disabled=true;var _3e=this.getChild(this.tabArr[idx].contentsID);_3e.setDisabled(true);if(this.getSelectedIndex()==idx){var _3f=false;for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].disabled==false){this.setSelectedIndex(i);_3f=true;break;}}if(_3f==false){this.enableTab(idx);alert("you should enable at least 1 tab!");return false;}}this.drawTab();return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.enableTab=function(idx){["WebSquare.uiplugin.tabContainer.enableTab"];try{idx=parseInt(idx);if(isNaN(idx)||idx<0||idx>=this.tabArr.length){return;}this.tabArr[idx].disabled=false;var _42=this.getChild(this.tabArr[idx].contentsID);_42.setDisabled(false);this.drawTab();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.setTabVisible=function(idx,_44){["WebSquare.uiplugin.tabContainer.setTabVisible"];try{idx=parseInt(idx);if(isNaN(idx)||idx<0||idx>=this.tabArr.length){return;}this.tabArr[idx].visible=_44;if(_44==true){this.enableTab(idx);}else{var _45=this.disableTab(idx);if(_45==false){this.setTabVisible(idx,true);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.setInitValue=function(_46){["WebSquare.uiplugin.tabContainer.setInitValue"];try{this.init(_46);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.init=function(_47){["WebSquare.uiplugin.tabContainer.init"];try{_47=$W.extend({excludePlugin:"",excludeId:"",fireEvent:false},_47||{});var _48=this.getChildren();for(var i=0;i<_48.length;i++){if(_48[i].setInitValue){if((" "+_47.excludePlugin+" ").indexOf(" "+_48[i].options.pluginName+" ")==-1&&(" "+_47.excludeId+" ").indexOf(" "+_48[i].id+" ")==-1){_48[i].setInitValue(_47);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.invoke=function(_4a,_4b,_4c,_4d){["WebSquare.uiplugin.tabContainer.invoke"];try{return $W._t.prototype.invoke.call(this,_4a,_4b,_4c,_4d);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.getWindow=function(idx){["WebSquare.uiplugin.tabContainer.getWindow"];try{var _4f;var _50=idx||this.selectedIndex;if(_50<0){return _4f;}for(var i=0;i<this.tabArr.length;i++){var _52=this.getChild(this.tabArr[i].contentsID);if(i==_50){if(_52.getPluginName()=="iframe"){_4f=_52.getWindow();}else{_4f=window;}}}return _4f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.tabContainer.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2tabContainer_tab")){var _55=it.getElement().getAttribute("index");if(this.event.isMe(e,this.dom.tabLayer)){if(this.tabArr[_55].disabled==false){this.setSelectedIndex(_55);$W._c.fireEvent(this,"ontabclick");}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.tabContainer.handleMouseoverEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2tabContainer_tab")){var _58=it.getElement().getAttribute("index");if(this.tabArr[_58].disabled==false){this.addClass(it.getElement(),"w2tabContainer_tab_over");if(_58!=this.selectedIndex){var _59=document.getElementById(this.id+"_tab_left_"+_58);var _5a=document.getElementById(this.id+"_tab_center_"+_58);var _5b=document.getElementById(this.id+"_tab_right_"+_58);this.changeClass(_59,this.tabArr[_58].optionsTab.tabDefaultLeftImageClass,this.tabArr[_58].optionsTab.tabHoverLeftImageClass);this.changeClass(_5a,this.tabArr[_58].optionsTab.tabDefaultCenterImageClass,this.tabArr[_58].optionsTab.tabHoverCenterImageClass);this.changeClass(_5b,this.tabArr[_58].optionsTab.tabDefaultRightImageClass,this.tabArr[_58].optionsTab.tabHoverRightImageClass);}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.tabContainer.handleMouseoutEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2tabContainer_tab")){var _5e=it.getElement().getAttribute("index");if(this.tabArr[_5e].disabled==false){this.removeClass(it.getElement(),"w2tabContainer_tab_over");if(_5e!=this.selectedIndex){var _5f=document.getElementById(this.id+"_tab_left_"+_5e);var _60=document.getElementById(this.id+"_tab_center_"+_5e);var _61=document.getElementById(this.id+"_tab_right_"+_5e);this.changeClass(_5f,this.tabArr[_5e].optionsTab.tabHoverLeftImageClass,this.tabArr[_5e].optionsTab.tabDefaultLeftImageClass);this.changeClass(_60,this.tabArr[_5e].optionsTab.tabHoverCenterImageClass,this.tabArr[_5e].optionsTab.tabDefaultCenterImageClass);this.changeClass(_61,this.tabArr[_5e].optionsTab.tabHoverRightImageClass,this.tabArr[_5e].optionsTab.tabDefaultRightImageClass);}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ad.prototype.setSize=function(_62,_63){["WebSquare.uiplugin.tabContainer.setSize"];try{$W._n.prototype.setSize.call(this,_62,_63);}catch(e){$W.exception.printStackTrace(e);}};$W._a._w=function(id,_65){_65=$W.extend({tabID:id,contentsID:"",tabValue:"",optionsTab:{},optionsContents:{},disabled:false,visible:true},_65||{});$W.extend(this,_65);};;WebSquare.uiplugin.tab=$W._a._w;;WebSquare.uiplugin.tabContainer=$W._a.ad;$W.korHelper=function(){this.font_cho=new Array("\u3131","\u3132","\u3134","\u3137","\u3138","\u3139","\u3141","\u3142","\u3143","\u3145","\u3146","\u3147","\u3148","\u3149","\u314a","\u314b","\u314c","\u314d","\u314e");this.font_jung=new Array("\u314f","\u3150","\u3151","\u3152","\u3153","\u3154","\u3155","\u3156","\u3157","\u3158","\u3159","\u315a","\u315b","\u315c","\u315d","\u315e","\u315f","\u3160","\u3161","\u3162","\u3163");this.font_jong=new Array("","\u3131","\u3132","\u3133","\u3134","\u3135","\u3136","\u3137","\u3139","\u313a","\u313b","\u313c","\u313d","\u313e","\u313f","\u3140","\u3141","\u3142","\u3144","\u3145","\u3146","\u3147","\u3148","\u314a","\u314b","\u314c","\u314d","\u314e");};$W.korHelper.prototype={getCho:function(_1){return this.font_cho[parseInt((_1-44032)/(21*28))];},getJung:function(_2){return this.font_jung[parseInt((_2-44032)%(21*28)/28)];},getJong:function(_3){return this.font_jong[parseInt((_3-44032)%(21*28)%28)];},getChoArr:function(_4){var _5=[];var _6=_4.length;for(var i=0;i<_6;i++){var _8=_4.charCodeAt(i);var _9=_8-44032;if(_9>=0){_5.push(this.getCho(_8));}else{_5.push(_4.charAt(i));}}return _5;},getJungArr:function(_a){var _b=[];var _c=_a.length;for(var i=0;i<_c;i++){var _e=_a.charCodeAt(i);var _f=_e-44032;if(_f>=0){_b.push(this.getJung(_e));}else{_b.push("");}}return _b;},getJongArr:function(str){var arr=[];var _12=str.length;for(var i=0;i<_12;i++){var _14=str.charCodeAt(i);var _15=_14-44032;if(_15>=0){arr.push(this.getJong(_14));}else{arr.push("");}}return arr;},matchArr:function(_16,_17,_18){var _19=true;if(_16.length!=_17.length){_19=false;}else{var _1a=_16.length;for(var i=0;i<_1a;i++){if(!_18){if(_17[i]==""){continue;}}if(_16[i]!=_17[i]){_19=false;break;}}}return _19;},containArr:function(_1c,_1d,_1e,_1f,end){var _21=[];var _22=_1c.length;var _23=false;var _24;myresult=function(_25,_26,_27,_28){if(_26.length-1>_28){if(_26[_28+1]===0){_23=true;}else{if(_25[_27+1]==_26[_28+1]){this.myresult(_25,_26,_27+1,_28+1,_23);}else{_23=false;}}}};for(var i=_1e;i<_22;i++){if(_1d.length==1&&_1d[0]==""){_23=true;return {"result":_23};}if(_1c[i]==_1d[0]){if(_1f){_24=i;_1f=false;}_23=true;myresult(_1c,_1d,i,0);if(_23==true){break;}}}return {"result":_23,"first":_24};},matchStr:function(_2a,_2b,_2c){if(this.matchArr(this.getChoArr(_2a),this.getChoArr(_2b),_2c)&&this.matchArr(this.getJungArr(_2a),this.getJungArr(_2b),_2c)&&this.matchArr(this.getJongArr(_2a),this.getJongArr(_2b),_2c)){return true;}else{return false;}},containStr:function(_2d,_2e,_2f){var _30=this.containArr(this.getChoArr(_2d),this.getChoArr(_2e),0,true,false);var _31=this.containArr(this.getJungArr(_2d),this.getJungArr(_2e),_30.first,false);var _32=this.containArr(this.getJongArr(_2d),this.getJongArr(_2e),_30.first,false,true);if(_30.result&&_31.result&&_32.result){return true;}else{return false;}},startWith:function(_33,_34){if(_34.length>_33.length){return false;}return this.matchStr(_33.substr(0,_34.length),_34);},containWith:function(_35,_36){if(_36.length>_35.length){return false;}return this.containStr(_35,_36);}};$W._a.bZ=function(id,_2,_3){["WebSquare.uiplugin.slideHide"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bZ.prototype,$W._t.prototype);$W._a.bZ.prototype.defaultOptions={pluginType:"uiplugin.slideHide",pluginName:"slideHide",userEvents:["onSlideEnd","onHideEnd","onSlideStart","onHideStart"],parseChild:true,showSize:20,moveSize:10,slideDirection:"right",slideEvent:"",hideEvent:"",firstStatus:"hide",eventArea:"full"};$W._a.bZ.prototype.initialize=function(_4){["WebSquare.uiplugin.slideHide.initialize"];try{this.slideStatus=(this.options.firstStatus=="slide")?true:false;this.slideDist=0;this.slideTime=0;this.nowMove=(this.slideStatus)?2:0;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bZ.prototype.toHTML=function(){["WebSquare.uiplugin.slideHide.toHTML"];try{var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+""+((this.options.firstStatus=="hide")?";display:none":"")+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2slideHide "+this.options.className+"'>");_5.push("<div style='position:absolute;' id='"+this.id+"_slideHideMain' class='w2slideHide_slideHideMain'>");var _7=this.getChildren();for(var i=0;i<_7.length;i++){_5.push(_7[i].toHTML());}_5.push("</div>");_5.push("</div>");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bZ.prototype.setAction=function(){["WebSquare.uiplugin.slideHide.setAction"];try{this.originStyle={};this.originStyle["left"]=this.render.style.left;this.originStyle["top"]=this.render.style.top;this.originStyle["width"]=this.render.style.width;this.originStyle["height"]=this.render.style.height;this.main=this.getElementById(this.id+"_slideHideMain");var _9=this.options.firstStatus=="hide"?this.render.style.width:$W._H.getSize(this.render,"innerwidth")+"px";var _a=this.options.firstStatus=="hide"?this.render.style.height:$W._H.getSize(this.render,"innerheight")+"px";this.main.style.width=_9;this.main.style.height=_a;switch(this.options.slideDirection){case "right":this.setRight(_9,_a);break;case "left":this.setLeft(_9,_a);break;case "up":this.setUp(_9,_a);break;case "down":this.setDown(_9,_a);break;}if(this.options.slideEvent==this.options.hideEvent){if(this.options.slideEvent!=""&&this.options.hideEvent!=""){this.event.addListener(this.render,this.options.slideEvent,this.event.bindAsEventListener(this,this.handleToggleEvent));}}else{if(this.options.slideEvent!=""){this.event.addListener(this.render,this.options.slideEvent,this.event.bindAsEventListener(this,this.handleSlideEvent));}if(this.options.hideEvent!=""){this.event.addListener(this.render,this.options.hideEvent,this.event.bindAsEventListener(this,this.handleHideEvent));}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bZ.prototype.setRight=function(_b,_c){["WebSquare.uiplugin.slideHide.setRight"];try{this.main.style.right="0px";if(!this.slideStatus){this.render.style.width=this.options.showSize+"px";}this.render.style.display="";var _d=(parseInt(_b,10)-this.options.showSize)/this.options.moveSize*0.015;var _e=this;this.slideOption={width:parseInt(_b,10),height:parseInt(_c,10),fromLeft:true,fromTop:true,mode:"absolute",duration:_d,finish:function(){_e.endSlide();}};this.hideOption={width:this.options.showSize,height:parseInt(_c,10),fromLeft:true,fromTop:true,mode:"absolute",duration:_d,finish:function(){_e.endHide();}};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bZ.prototype.setLeft=function(_f,_10){["WebSquare.uiplugin.slideHide.setLeft"];try{this.main.style.left="0px";if(!this.slideStatus){this.render.style.width=this.options.showSize+"px";this.render.style.left=(parseInt(this.render.style.left,10)+parseInt(_f,10)-this.options.showSize)+"px";}this.render.style.display="";var _11=(parseInt(_f,10)-this.options.showSize)/this.options.moveSize*0.015;var _12=this;this.slideOption={width:parseInt(_f,10),height:parseInt(_10,10),fromLeft:false,fromTop:true,mode:"absolute",duration:_11,finish:function(){_12.endSlide();}};this.hideOption={width:this.options.showSize,height:parseInt(_10,10),fromLeft:false,fromTop:true,mode:"absolute",duration:_11,finish:function(){_12.endHide();}};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bZ.prototype.setDown=function(_13,_14){["WebSquare.uiplugin.slideHide.setDown"];try{this.main.style.bottom="0px";if(!this.slideStatus){this.render.style.height=this.options.showSize+"px";}this.render.style.display="";var _15=(parseInt(_14,10)-this.options.showSize)/this.options.moveSize*0.015;var _16=this;this.slideOption={width:parseInt(_13,10),height:parseInt(_14,10),fromLeft:true,fromTop:true,mode:"absolute",duration:_15,finish:function(){_16.endSlide();}};this.hideOption={width:parseInt(_13,10),height:this.options.showSize,fromLeft:true,fromTop:true,mode:"absolute",duration:_15,finish:function(){_16.endHide();}};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bZ.prototype.setUp=function(_17,_18){["WebSquare.uiplugin.slideHide.setUp"];try{this.main.style.top="0px";if(!this.slideStatus){this.render.style.height=this.options.showSize+"px";this.render.style.top=(parseInt(this.render.style.top,10)+parseInt(_18,10)-this.options.showSize)+"px";}this.render.style.display="";var _19=(parseInt(_18,10)-this.options.showSize)/this.options.moveSize*0.015;var _1a=this;this.slideOption={width:parseInt(_17,10),height:parseInt(_18,10),fromLeft:true,fromTop:false,mode:"absolute",duration:_19,finish:function(){_1a.endSlide();}};this.hideOption={width:parseInt(_17,10),height:this.options.showSize,fromLeft:true,fromTop:false,mode:"absolute",duration:_19,finish:function(){_1a.endHide();}};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bZ.prototype.endSlide=function(){["WebSquare.uiplugin.slideHide.endSlide"];try{this.nowMove=2;this.slideStatus=true;switch(this.options.slideDirection){case "right":case "left":this.render.style.top=this.originStyle["top"];this.render.style.height=this.originStyle["height"];break;case "up":case "down":this.render.style.left=this.originStyle["left"];this.render.style.width=this.originStyle["width"];break;}$W._c.fireEvent(this,"onSlideEnd");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bZ.prototype.endHide=function(e){["WebSquare.uiplugin.slideHide.endHide"];try{this.nowMove=0;this.slideStatus=false;switch(this.options.slideDirection){case "right":case "left":this.render.style.top=this.originStyle["top"];this.render.style.height=this.originStyle["height"];break;case "up":case "down":this.render.style.left=this.originStyle["left"];this.render.style.width=this.originStyle["width"];break;}$W._c.fireEvent(this,"onHideEnd");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bZ.prototype.isMouseInRender=function(e){["WebSquare.uiplugin.slideHide.isMouseInRender"];try{var _1d=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(this.render);var _1f=this.render.offsetWidth;var _20=this.render.offsetHeight;var x=$W._c.getMouseX(e);var y=$W._c.getMouseY(e);if(x>_1d&&x<_1d+_1f&&y>top&&y<top+_20){return true;}else{return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bZ.prototype.isMouseInShownArea=function(e){["WebSquare.uiplugin.slideHide.isMouseInShownArea"];try{var _24;var top;var _26;var _27;switch(this.options.slideDirection){case "right":_24=$W._H.getAbsoluteLeft(this.render)+this.render.offsetWidth-this.options.showSize;top=$W._H.getAbsoluteTop(this.render);_26=this.options.showSize;_27=this.render.offsetHeight;break;case "left":_24=$W._H.getAbsoluteLeft(this.render);top=$W._H.getAbsoluteTop(this.render);_26=this.options.showSize;_27=this.render.offsetHeight;break;case "up":_24=$W._H.getAbsoluteLeft(this.render);top=$W._H.getAbsoluteTop(this.render);_26=this.render.offsetWidth;_27=this.options.showSize;break;case "down":_24=$W._H.getAbsoluteLeft(this.render);top=$W._H.getAbsoluteTop(this.render)+this.render.offsetHeight-this.options.showSize;_26=this.render.offsetWidth;_27=this.options.showSize;break;}var x=$W._c.getMouseX(e);var y=$W._c.getMouseY(e);if(x>_24&&x<_24+_26&&y>top&&y<top+_27){return true;}else{return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bZ.prototype.startSlide=function(){["WebSquare.uiplugin.slideHide.startSlide"];try{if(this.nowMove==1||this.nowMove==2){return;}if(this.nowMove==3){$W._M.effectManager.remove(this.slideEffect);}this.nowMove=1;$W._c.fireEvent(this,"onSlideStart");this.slideEffect=new $W._M.resize(this.render,this.slideOption);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bZ.prototype.startHide=function(){["WebSquare.uiplugin.slideHide.startHide"];try{if(this.nowMove==0||this.nowMove==3){return;}if(this.nowMove==1){$W._M.effectManager.remove(this.slideEffect);}this.nowMove=3;$W._c.fireEvent(this,"onHideStart");this.slideEffect=new $W._M.resize(this.render,this.hideOption);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bZ.prototype.setSlideHide=function(_2a){["WebSquare.uiplugin.slideHide.startHide"];try{if(_2a==="slide"){if(this.nowMove==1||this.nowMove==3){$W._M.effectManager.remove(this.slideEffect);}this.nowMove=2;if(!this.slideStatus){if(this.options.slideDirection==="left"){this.render.style.left=parseInt(this.render.style.left,10)-parseInt(this.originStyle["width"],10)+this.options.showSize+"px";}else{if(this.options.slideDirection==="up"){this.render.style.top=parseInt(this.render.style.top,10)-parseInt(this.originStyle["height"],10)+this.options.showSize+"px";}}}this.slideStatus=true;switch(this.options.slideDirection){case "right":case "left":this.render.style.width=this.originStyle["width"];break;case "up":case "down":this.render.style.height=this.originStyle["height"];break;}}else{if(_2a==="hide"){if(this.nowMove==1||this.nowMove==3){$W._M.effectManager.remove(this.slideEffect);}this.nowMove=0;if(this.slideStatus){if(this.options.slideDirection==="left"){this.render.style.left=parseInt(this.render.style.left,10)+parseInt(this.originStyle["width"],10)-this.options.showSize+"px";}else{if(this.options.slideDirection==="up"){this.render.style.top=parseInt(this.render.style.top,10)+parseInt(this.originStyle["height"],10)-this.options.showSize+"px";}}}this.slideStatus=false;switch(this.options.slideDirection){case "right":case "left":this.render.style.width=this.options.showSize+"px";break;case "up":case "down":this.render.style.height=this.options.showSize+"px";break;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bZ.prototype.isOpen=function(){["WebSquare.uiplugin.slideHide.isOpen"];try{return this.slideStatus;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bZ.prototype.handleSlideEvent=function(e){["WebSquare.uiplugin.slideHide.handleSlideEvent"];try{this.startSlide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bZ.prototype.handleHideEvent=function(e){["WebSquare.uiplugin.slideHide.handleHideEvent"];try{if(this.options.hideEvent=="onmouseout"&&this.isMouseInRender(e)){return;}if(this.options.eventArea=="partial"&&!this.isMouseInShownArea(e)){return;}this.startHide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bZ.prototype.handleToggleEvent=function(e){["WebSquare.uiplugin.slideHide.handleToggleEvent"];try{if(this.slideStatus==false){this.handleSlideEvent(e);}else{this.handleHideEvent(e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bZ.prototype.setHeight=function(_2e){if(!this.render){return;}if(this.options.slideDirection=="left"||this.options.slideDirection=="right"){_2e=parseInt(_2e,10);if(_2e!=null&&!isNaN(_2e)&&_2e>=0){this.render.style.height=_2e+"px";this.main.style.height=_2e+"px";this.slideOption.height=_2e;this.hideOption.height=_2e;}}};$W._a.bZ.prototype.setWidth=function(_2f){if(!this.render){return;}if(this.options.slideDirection=="up"||this.options.slideDirection=="down"){_2f=parseInt(_2f,10);if(_2f!=null&&!isNaN(_2f)&&_2f>=0){this.render.style.width=_2f+"px";this.main.style.width=_2f+"px";this.slideOption.width=_2f;this.hideOption.width=_2f;}}};;WebSquare.uiplugin.slideHide=$W._a.bZ;$W._a.ai=function(id,_2,_3){["WebSquare.uiplugin.taskManager"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.ai.prototype,$W._t.prototype);$W._a.ai.prototype.defaultOptions={pluginType:"uiplugin.taskManager",pluginName:"taskManager",id:"",style:""};$W._a.ai.prototype.initialize=function(_4){};$W._a.ai.prototype.toHTML=function(){["WebSquare.uiplugin.taskManager.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2taskManager "+this.options.className+"'>");_5.push("<div class='w2taskManager_title'>task</div>");_5.push("<div id='"+this.id+"_bar' class='w2taskManager_bar'>");_5.push("<table class='w2taskManager_bar_table' cellpadding='0' cellspacing='0'>");_5.push("<tr>");for(var i=0;i<5;i++){_5.push("<td class='w2taskManager_bar_col'><div class='w2taskManager_task' index='"+i+"'>bar_"+i+"<div></td>");}_5.push("</tr>");_5.push("</table>");_5.push("</div>");_5.push("</div>");return _5.join("");};$W._a.ai.prototype.setAction=function(){this.dom.bar=document.getElementById(this.id+"_bar");this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));};$W._a.ai.prototype.refreshItemset=function(){};$W._a.ai.prototype.refresh=function(){};$W._a.ai.prototype.minimize=function(id){var _9=document.getElementById(id);_9.style.display="none";var _a=document.getElementById(this.id+"_taskBar");_a.innerHTML+="<div id='"+id+"_task' style='width:100px;'>"+id+"</div>";var _b=document.getElementById(id+"_task");this.event.addListener(_b,"ondblclick",this.event.bindAsEventListener(this,this.handleDblClickEvent));};$W._a.ai.prototype.restore=function(id){var _d=document.getElementById(id);var _e=document.getElementById(id+"_task");if(_e){_d.style.display="block";_e.innerHTML="";}};$W._a.ai.prototype.drawBar=function(id){this.dom.bar.innerHTML="abc";};$W._a.ai.prototype.handleClickEvent=function(e){$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2taskManager_task")){var _12=it.getElement().getAttribute("index");alert(_12);}}it=null;};$W._a.ai.prototype.handleMouseoverEvent=function(e){$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2taskManager_task")){this.addClass(it.getElement(),"w2taskManager_task_over");}}it=null;};$W._a.ai.prototype.handleMouseoutEvent=function(e){$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2taskManager_task")){this.removeClass(it.getElement(),"w2taskManager_task_over");}}it=null;};$W._a.ai.prototype.handleDblClickEvent=function(e){$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);var _19=e.srcElement.id;_19=_19.replace("_task","");this.restore(_19);};;WebSquare.uiplugin.taskManager=$W._a.ai;$W.tag=function(id,_2,_3){this.parentControl=null;this.childControlList=[];this.element=_3;this.options={};if(_3.nodeType==1){this.id=_3.getAttribute("id");this.uuid=$W.UUIDPrefix+"_"+$W.UUID++;if(!this.id){this.element.setAttribute("id",this.uuid);this.id=this.uuid;this.options.id=this.uuid;}$W.idCache[this.uuid]=this;$W.idToUUID[this.id]=this.uuid;var _4=$W._G.getBoolean($W._N.getConfiguration("/WebSquare/parseHtml/@value")||"true");this.options.parseChild=this.element.tagName=="w2:tag"||_4;}this.refreshAdaptive=$W._n.prototype.refreshAdaptive;};$W.extend($W.tag.prototype,$W.htmlControl.prototype);$W.tag.idCounter=0;$W.tag.prototype.toHTML=function(){var _5=this.element.tagName;var _6=$W._N.getEmptyTag();var _7=null;if(_5=="w2:tag"){_5=this.element.getAttribute("tagname")||"div";if(this.element.getAttribute("tagname")){this.element.removeAttribute("tagname");_7=$W._B.noNameSpaceSerialize(this.element);this.element.setAttribute("tagname",_5);}else{_7=$W._B.noNameSpaceSerialize(this.element);}_7=_7.replace("w2:tag",_5);if(this.options.parseChild&&!this.id){this.id="w2tag_"+$W.tag.idCounter++;this.element.setAttribute("id",this.id);}}else{var _8="";if(_5=="td"){if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if($W._G.isIEAllVersion()){var _9=this.element.previousSibling;if(_9!=null){if(_9.nodeName=="th"){if(_9.text!=""){_8=_9.text;}else{var _a=_9.firstChild;if(_a!=null){if(_a.tagName=="w2:textbox"){_8=_a.getAttribute("label");}}}}}}else{var _9=this.element.previousElementSibling;if(_9!=null){if(_9.nodeName=="th"){if(_9.firstChild!=null){var _a;if(_9.firstChild.nodeType==1){_a=_9.firstChild;}else{_a=_9.firstChild.nextSibling;if(_a!=null&&_a.tagName=="br"){_a=null;}}if(_a==null){_8=_9.innerText||_9.textContent;}else{if(_a.tagName=="w2:textbox"){_8=_a.getAttribute("label");}else{_8=_a.innerText||_a.textContent;}}}}}}}this.element.setAttribute("data-title",_8.replace(/&nbsp;/g," "));}_7=$W._B.noNameSpaceSerialize(this.element);}if(this.options.parseChild&&!_6[_5.toLowerCase()]){var _b="";var _c="";if(this.element.nodeType==1){var _d=_7.substring(0,_7.indexOf(">"));if(_d.endsWith("/")){_d=_d.substring(0,_d.length-1)+">";}else{_d+=">";}_b=_d;_c="</"+_5+">";}else{if(this.element.nodeType==3){_b=this.element.nodeValue;_c="";}}var _e=[_b];if(_b.toLowerCase().wq_trim().indexOf("<script ")==0){var _f="";if(this.element.parentElement){_f=this.element.parentElement.tagName||"";}else{if(this.element.parentNode){_f=this.element.parentNode.tagName||"";}}if(_f.indexOf("xf")<0&&_f.indexOf("w2")<0){var _10=this.element.firstChild||{};if(_10.nodeType===3||_10.nodeType===4){$W.scriptSection+=";"+_10.data;_e.push(_10.data);}}}else{var _11=this.getChildren();for(var i=0;i<_11.length;i++){_e.push(_11[i].toHTML());}}_e.push(_c);return _e.join("");}else{if(this.options.parseChild){if(!_7.endsWith("/>")){_7=_7.substring(0,_7.indexOf(">"));if(_7.endsWith(" ")){_7+="/>";}else{_7+=" />";}}}if(this.element.nodeType==3){return this.element.nodeValue;}return _7;}};$W.tag.prototype.activate=function(){if(this.options.parseChild){var _13=this.getChildren();for(var i=0;i<_13.length;i++){_13[i].activate();}if(this.element.tagName=="td"){if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if($W._G.isIEAllVersion()){if(this.element.previousSibling!=null){if(this.element.previousSibling.nodeName!="th"){this.addClass(" w2tb_noTH");}}else{this.addClass(" w2tb_noTH");}}else{if(this.element.previousElementSibling!=null){if(this.element.previousElementSibling.nodeName!="th"){this.addClass(" w2tb_noTH");}}else{this.addClass(" w2tb_noTH");}}}}}};$W.tag.prototype.setAction=function(){};$W.tag.prototype.remove=function(){["WebSquare.tag.remove"];try{this.destroy();$W.removeNode(this.render);if(window[this.id]){window[this.id]=null;}for(var i in $W.getBody().childControlList){if($W.getBody().childControlList[i]==this){$W.getBody().childControlList.splice(i,1);}}for(var i in this){delete this[i];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W.tag.prototype.setAdaptive=function(){["WebSquare.tag.prototype.setAdaptive"];try{var _16=parseInt(this.element.getAttribute("adaptiveThreshold"))||480;if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_16){this.addAdaptive();}else{this.removeAdaptive();}}}catch(e){$W.exception.printStackTrace(e);}};$W.tag.prototype.addAdaptive=function(){["WebSquare.tag.prototype.addAdaptive"];try{if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){var _17=this.element;var _18=_17.getAttribute("adaptive");var _19;if(_18=="layout"){_19=" w2tb_adaptive_layout";}else{if(_18=="crosstab"){_19=" w2tb_adaptive_crosstab";}}this.addClass(_19);this.removeAdaptiveHeight(_18);this.setAdaptiveHeight(_18);}}catch(e){$W.exception.printStackTrace(e);}};$W.tag.prototype.removeAdaptive=function(){["WebSquare.tag.prototype.removeAdaptive"];try{if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){var _1a=this.element;var _1b=_1a.getAttribute("adaptive");var _1c;if(_1b=="layout"){_1c=" w2tb_adaptive_layout";}else{if(_1b=="crosstab"){_1c=" w2tb_adaptive_crosstab";}}this.removeClass(_1c);this.removeAdaptiveHeight(_1b);}}catch(e){$W.exception.printStackTrace(e);}};$W.tag.prototype.addClass=function(_1d){["WebSquare.tag.addClass"];try{var _1e=document.getElementById(this.id).className.wq_trim();var _1f=_1e.split(" ");for(var i=0;i<_1f.length;i++){var tmp=_1f[i].wq_trim();if((" "+tmp+" ").indexOf(_1d)>-1){if(i==_1f.length-1){return;}}else{continue;}}if(_1f.length>1){_1e+=" ";}_1e+=_1d;document.getElementById(this.id).className=_1e;}catch(e){$W.exception.printStackTrace(e);}};$W.tag.prototype.removeClass=function(_22){["WebSquare.tag.removeClass"];try{var _23=document.getElementById(this.id).className.split(" ");var _24=[];for(var i=0;i<_23.length;i++){var tmp=_23[i].wq_trim();if((" "+tmp+" ").indexOf(_22)>-1){continue;}else{if(tmp.length>0){_24.push(tmp);}}}document.getElementById(this.id).className=_24.join(" ");}catch(e){$W.exception.printStackTrace(e);}};$W.tag.prototype.setDisabled=function(_27){for(var i=0;i<this.childControlList.length;i++){var _29=this.childControlList[i];if(_29&&$W.idCache[_29.uuid]&&typeof _29.setDisabled=="function"){_29.setDisabled(_27);}}};$W.tag.prototype.finalize=function(){};$W.tag.prototype.setAdaptiveHeight=function(_2a){["WebSquare.tag.prototype.setAdaptiveHeight"];try{if(_2a=="crosstab"){var ths=document.getElementById(this.id).getElementsByClassName("w2tb_th");var _2c=document.getElementById(this.id).getElementsByTagName("tbody")[0].getElementsByClassName("w2tb_tr");var _2d=document.getElementById(ths[0].id);var _2e=parseInt($W._H.getStyle(_2d,"padding-top"));var _2f=parseInt($W._H.getStyle(_2d,"padding-bottom"));var _30=document.getElementById(document.getElementById(this.id).getElementsByClassName("w2tb_td")[0].id);var _31=parseInt($W._H.getStyle(_30,"padding-top"));var _32=parseInt($W._H.getStyle(_30,"padding-bottom"));for(var i=0;i<ths.length;i++){var _34=ths[i].offsetHeight;var _35=0;for(var j=0;j<_2c.length;j++){var tds=_2c[j].getElementsByClassName("w2tb_td");for(var k=0;k<tds.length;k++){var _39=tds[i].offsetHeight;_35=_35>=_39?_35:_39;}}if(_34>_35){for(var l=0;l<_2c.length;l++){var tds=_2c[l].getElementsByClassName("w2tb_td");document.getElementById(tds[i].id).style.height=(_34-(_31+_32+1))+"px";}}else{if(_34<_35){document.getElementById(ths[i].id).style.height=(_35-(_2e+_2f+1))+"px";for(var l=0;l<_2c.length;l++){var tds=_2c[l].getElementsByClassName("w2tb_td");document.getElementById(tds[i].id).style.height=(_35-(_2e+_2f+1))+"px";}}}}}else{if(_2a=="layout"){var tds=document.getElementById(this.id).getElementsByClassName("w2tb_td");for(var i=0;i<tds.length;i++){var _3b=tds[i].getAttribute("data-title");if(_3b){var _3c=$W._G.getRulerSpan();_3c.style["padding"]=window.getComputedStyle(tds[i],":before").getPropertyValue("padding");_3c.style["width"]=window.getComputedStyle(tds[i],":before").getPropertyValue("width");_3c.style["white-space"]=window.getComputedStyle(tds[i],":before").getPropertyValue("white-space");_3c.style["font-weight"]=window.getComputedStyle(tds[i],":before").getPropertyValue("font-weight");_3c.innerHTML=_3b;if(_3c.offsetHeight>tds[i].offsetHeight){tds[i].style.height=_3c.offsetHeight+"px";}_3c.style.top="-10000px";_3c.style.left="-10000px";_3c.style.visibility="hidden";}}}}}catch(e){$W.exception.printStackTrace(e);}};$W.tag.prototype.removeAdaptiveHeight=function(_3d){["WebSquare.tag.prototype.removeAdaptiveHeight"];try{if(_3d=="crosstab"){var ths=document.getElementById(this.id).getElementsByClassName("w2tb_th");var tds=document.getElementById(this.id).getElementsByClassName("w2tb_td");for(var i=0;i<ths.length;i++){ths[i].style.removeProperty("height");}for(var k=0;k<tds.length;k++){tds[k].style.removeProperty("height");}}else{if(_3d=="layout"){var tds=document.getElementById(this.id).getElementsByClassName("w2tb_td");for(var i=0;i<tds.length;i++){tds[i].style.removeProperty("height");}}}}catch(e){$W.exception.printStackTrace(e);}};$W.tag.prototype.onComplete=function(){if(this.completed){$l("!!!WARNING!!! duplicate call 'onComplete' for : "+this.id);return;}var _42=this.childControlList;if((this.options.pluginName==="wframe"||this.options.pluginName=="pageInherit")&&_42[0]!=null){_42=_42[0].childControlList;}for(var i=0;i<_42.length;i++){if(!_42[i].completed&&typeof _42[i].onComplete=="function"){_42[i].onComplete();}}this.completed=true;if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(typeof this.element.getAttribute!="undefined"){var _44=this.element.getAttribute("adaptive");if(_44=="crosstab"||_44=="layout"){var _45=document.getElementById(this.id).getElementsByTagName("tr");for(var i=0;i<_45.length;i++){var _46=_45[i].className;if((_46.indexOf("w2selectbox_row")==-1&&_46.indexOf("w2checkcombobox_row")==-1)&&_46.indexOf("w2tb_tr")==-1){_45[i].className=_46+" w2tb_tr";}}this.setAdaptive();$W._c.addListener(window,"onresize",$W._c.bindAsEventListener(this,this.setAdaptive));var _47=document.getElementById(this.id).getElementsByClassName("w2inputCalendar_div");for(var i=0;i<_47.length;i++){var id=_47[i].id;$W._G.getComponentById(id).setSetting();}}}}};$W._a.af=function(id,_2,_3){["WebSquare.uiplugin.xhtml"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.af.prototype,$W._t.prototype);$W._a.af.prototype.defaultOptions={pluginType:"uiplugin.xhtml",pluginName:"xhtml",src:""};$W._a.af.prototype.initialize=function(_4){};$W._a.af.prototype.toHTML=function(){["WebSquare.uiplugin.xhtml.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2xhtml "+this.options.className+"'>");_5.push("</div>");return _5.join("");};$W._a.af.prototype.setAction=function(){["WebSquare.uiplugin.xhtml.toHTML"];this.dom.mydiv=document.getElementById(this.id);var _7=$W._N.load($W._N.getURL(this.options.src));this.dom.mydiv.innerHTML=_7;};;WebSquare.uiplugin.xhtml=$W._a.af;$W._a.aE=function(id,_2,_3){["WebSquare.uiplugin.xsl"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aE.prototype,$W._t.prototype);$W._a.aE.prototype.defaultOptions={pluginType:"uiplugin.xsl",pluginName:"xsl",xsl:"",xpath:""};$W._a.aE.prototype.initialize=function(_4){};$W._a.aE.prototype.toHTML=function(){["WebSquare.uiplugin.xsl.toHTML"];try{var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2xsl "+this.options.className+"'>");_5.push("</div>");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.setAction=function(){["WebSquare.uiplugin.xsl.setAction"];try{if(this.options.xsl!=""){this.transform();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.setXSL=function(_7){["WebSquare.uiplugin.xsl.setXSL"];try{this.options.xsl=_7;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.getXSL=function(){["WebSquare.uiplugin.xsl.getXSL"];try{return this.options.xsl;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.setXPath=function(_8){["WebSquare.uiplugin.xsl.setXPath"];try{this.options.xpath=_8;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.getXPath=function(){["WebSquare.uiplugin.xsl.getXPath"];try{return this.options.xpath;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aE.prototype.transform=function(){["WebSquare.uiplugin.xsl.transform"];try{if(this.options.xpath!=""){var _9=$W._J.findInstanceNode(this.options.xpath);if(_9!=null){var _a=$W._B.serialize(_9);if(_a==null||_a==""){return;}var _b=$W._N.getURL(this.options.xsl);var _c=$W._B.transform(_a,_b);if(typeof _c!="undefined"){if($W._G.isFF()){this.render.innerHTML=$W._B.decode(_c);}else{this.render.innerHTML=_c;}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.xsl=$W._a.aE;$W._q.node=function(){this.index=-1;this.id="";this.label="";this.orgLabel="";this.value="";this.element=null;this.depth=-1;this.parentNode=null;this.childNodes=[];this._isRoot=null;this._hasChild=null;this._isLastChild=null;this.image="";this.selectedImage="";this.expandedImage="";this.checked=false;this.folder=null;};$W._q.node.prototype.appendChild=function(_1){if(!_1){return false;}var _2=this;do{if(_1==_2){return false;}_2=_2.parentNode;}while(_2);if(_1.parentNode){_1.parentNode.removeChild(_1);}_1.parentNode=this;this.childNodes.push(_1);return true;};$W._q.node.prototype.removeChild=function(_3){if(!_3){return;}var _4=[];for(var i=0;i<this.childNodes.length;i++){var _6=this.childNodes[i];if(_6!=_3){_4.push(_6);}}this.childNodes=_4;};$W._q.node.prototype.isRoot=function(){this._isRoot=null;this._isRoot=this.parentNode==null?true:false;return this._isRoot;};$W._q.node.prototype.hasChild=function(){this._hasChild=null;if(this.folder){return this.folder;}else{this._hasChild=this.childNodes.length!=0;}return this._hasChild;};$W._q.node.prototype.isLeaf=function(){return !this.hasChild();};$W._q.node.prototype.isFirstChild=function(){var _7=false;if(!this.parentNode){return _7;}if(this.parentNode.childNodes[0]){if(this===this.parentNode.childNodes[0]){_7=true;}}return _7;};$W._q.node.prototype.isLastChild=function(){this._isLastChild=null;if(!this.parentNode){return true;}var _8=this.parentNode.childNodes;for(var i=0;i<_8.length;i++){if(_8[i]==this&&i==_8.length-1){this._isLastChild=true;}}if(this._isLastChild!=true){this._isLastChild=false;}return this._isLastChild;};$W._q.node.prototype.isFirstChildByRoot=function(){var _a=false;if(!this.parentNode){return _a;}if(this.parentNode.depth!=0){return _a;}if(this.parentNode.childNodes[0]){if(this===this.parentNode.childNodes[0]){_a=true;}}return _a;};$W._q.nodeIterator=function(_b,_c){this.node=_b;this.status=0;this.options=$W.extend({type:"dfs",pruning:null},$W.extend({},_c));this.stack=[];};$W._q.nodeIterator.prototype.next=function(){if(!this.node){return false;}if(this.status==0){this.status=1;return true;}if(this.options.type=="dfs"){this.stack=this.node.childNodes.concat(this.stack);this.node=this.stack.shift();}else{if(this.options.type=="bfs"){this.stack=this.stack.concat(this.node.childNodes);this.node=this.stack.shift();}}if(this.node){return true;}else{return false;}};$W._q.nodeIterator.prototype.stop=function(){this.status=2;};$W._q.nodeIterator.prototype.getNode=function(){return this.node;};$W._q.tree=function(){this.nodeCount=0;this.rootNode=null;this.hash_index_node={};this.useXPath=false;this.useCheckbox=false;this.useImage=false;var _d="w2:";this.xpath={nodeset:"",label:_d+"label",value:_d+"value",depth:_d+"depth",nodeName:_d+"node",checkbox:"",folder:_d+"folder"};this.imageXPath={image:"",iconImage:"",leafImage:"",selectedImage:"",expandedImage:""};this.checkbox={xpath:"",trueValue:"",falseValue:"",checkboxDisabled:"",checkboxDisabledTrueValue:"",checkboxDisabledFalseValue:"",checkboxDisabledAll:""};this.displayMode="0";this.delimiter="\t";this.customFormatter="";this.treeView="";};$W._q.tree.prototype.getNodeset=function(){if(this.xpath.nodeset!=""){return this.xpath.nodeset;}};$W._q.tree.prototype.setXPath=function(_e,_f,_10,_11,_12,_13,_14){if(_e!=""){this.useXPath=true;this.xpath.nodeset=_e;this.xpath.label=_f;this.xpath.value=_10;this.xpath.depth=_11;this.xpath.nodeName=_12;this.xpath.folder=_13;this.xpath.auth=_14;}};$W._q.tree.prototype.setCheckbox=function(_15,_16,_17,_18,_19,_1a,_1b,_1c,_1d,_1e,_1f){if(_15!=""){this.useCheckbox=true;this.checkbox.xpath=_15;this.checkbox.trueValue=_16;this.checkbox.falseValue=_17;this.checkbox.checkboxDisabled=_18;this.checkbox.checkboxDisabledTrueValue=_19;this.checkbox.checkboxDisabledFalseValue=_1a;this.checkbox.checkboxDisabledAll=_1b;this.checkbox.refreshCheckboxModel=_1c;this.checkbox.refreshCheckboxDisableModel=_1d;this.checkbox.hierarchy=_1e;this.checkbox.colID=_1f;}};$W._q.tree.prototype.setDisplayMode=function(_20,_21){this.displayMode=_20;this.delimiter=_21;};$W._q.tree.prototype.setImage=function(_22,_23,_24,_25,_26,_27){this.useImage=true;this.imageXPath.image=_22||"";this.imageXPath.iconImage=_23||"";this.imageXPath.leafImage=_24||"";this.imageXPath.selectedImage=_25||"";this.imageXPath.expandedImage=_26||"";this.imageXPath.imageTitle=_27||"";};$W._q.tree.prototype.setXML=function(_28){if(!_28){return;}this.nodeCount=0;this.rootNode=null;this.hash_index_node={};this.rootNode=this.parseNode(_28,0,0);if(this.useImage==true){this.parseImage(this.rootNode);}};$W._q.tree.prototype.appendXML=function(_29,_2a){if(!_29){return;}var _2b=this.findNodeByIndex(_2a);var _2c=_2b.element;var _2d=1;for(var _2e=_29.firstChild;_2e!=null;_2e=_29.firstChild){if(_2e.nodeType==1&&_2e.tagName==this.xpath.nodeName){_2b.appendChild(this.parseNode(_2e,_2b.depth+1,_2d++,_2b));}_2c.appendChild(_29.removeChild(_2e));}if(this.useImage==true){this.parseImage(_2b);}return _2b;};$W._q.tree.prototype.parseNode=function(_2f,_30,_31,_32){if(!_2f){return null;}var _33=$W._B.getValue(_2f,this.xpath.label).wq_trim();var _34=null;var _35=this.xpath.auth&&$W._B.getValue(_2f,this.xpath.auth).wq_trim();if(this.xpath.folder){_34=$W._G.getBoolean($W._B.getValue(_2f,this.xpath.folder).wq_trim());}var _36="";var _37=this.xpath.value.split(" ");for(var i=0;i<_37.length;i++){if(i!=0){_36+="$$";}_36+=$W._B.getValue(_2f,_37[i]).wq_trim();}var _39=new $W._q.node();_39.index=this.nodeCount++;_39.depthIndex=_31;switch(this.displayMode){case "0":_39.label=_33;break;case "1":_39.label=_36+this.delimiter+_33;break;case "2":_39.label=_33+this.delimiter+_36;break;default:_39.label=_33;break;}_39.orgLabel=_39.label;_39.value=_36;_39.element=_2f;_39.depth=_30;_39.folder=_34;_39.auth=_35;if(_30==1){_39.xpath=this.xpath.nodeset+"["+this.xpath.value+"='"+_39.value+"']";}else{if(_30>1){if(this.dataType=="recursive"){_39.xpath=_32.xpath+"/"+this.xpath.nodeName+"["+this.xpath.value+"='"+_39.value+"']";}else{_39.xpath=this.xpath.nodeset+"["+this.xpath.value+"='"+_39.value+"']";}}}if(this.useCheckbox==true){var _3a=$W._B.getValue(_2f,this.checkbox.xpath).wq_trim();_39.checkboxXPath=_39.xpath+"/"+this.checkbox.xpath;if(_3a==this.checkbox.trueValue){_39.checked=true;if(this.checkbox.refreshCheckboxModel==true){$W._J.setInstanceValue(_39.checkboxXPath,this.checkbox.trueValue);}}else{_39.checked=false;if(this.checkbox.refreshCheckboxModel==true){$W._J.setInstanceValue(_39.checkboxXPath,this.checkbox.falseValue);}}if(this.checkbox.checkboxDisabled){_39.checkboxDisableXPath=_39.xpath+"/"+this.checkbox.checkboxDisabled;var _3b=$W._B.getValue(_2f,this.checkbox.checkboxDisabled).wq_trim();if(this.checkbox.checkboxDisabledAll==true){_39.checkboxDisabled=true;if(this.checkbox.refreshCheckboxDisableModel==true){$W._J.setInstanceValue(_39.checkboxDisableXPath,this.checkbox.checkboxDisabledTrueValue);}}else{_39.checkboxDisabled=false;if(this.checkbox.refreshCheckboxDisableModel==true){$W._J.setInstanceValue(_39.checkboxDisableXPath,this.checkbox.checkboxDisabledFalseValue);}}if(_3b==this.checkbox.checkboxDisabledTrueValue){_39.checkboxDisabled=true;if(this.checkbox.refreshCheckboxDisableModel==true){$W._J.setInstanceValue(_39.checkboxDisableXPath,this.checkbox.checkboxDisabledTrueValue);}}else{if(_3b==this.checkbox.checkboxDisabledFalseValue){_39.checkboxDisabled=false;if(this.checkbox.refreshCheckboxDisableModel==true){$W._J.setInstanceValue(_39.checkboxDisableXPath,this.checkbox.checkboxDisabledFalseValue);}}}}}var _3c=1;for(var _3d=_2f.firstChild;_3d!=null;_3d=_3d.nextSibling){if(_3d.nodeType==1&&_3d.tagName==this.xpath.nodeName){_39.appendChild(this.parseNode(_3d,_30+1,_3c++,_39));}}if(this.useCheckbox==true&&this.checkbox.hierarchy==true){var _3e=0;var _3f=false;for(var i=0;i<_39.childNodes.length;i++){var _40=_39.childNodes[i];if(_40.checked==true){_3e++;}else{if(_40.partial==true){_3f=true;}}}if(_3f==true||(0<_3e&&_3e<_39.childNodes.length)){_39.partial=true;}else{if(_3e>0&&_3e==_39.childNodes.length){_39.checked=true;if(!_39.checkboxDom){_39.checkboxDom=document.getElementById(this.treeview.id+"_checkbox_"+_39.index);}if(_39.checkboxDom){_39.checkboxDom.checked=true;}}else{_39.partial=false;}}}this.hash_index_node[_39.index]=_39;if(typeof this.customFormatter==="function"){var _41=this.customFormatter;var _42=this.getCloneNode(_39);var _43=_41.call(this.treeview,_39.orgLabel,_39.label,_42)||_39.label;_39.label=_43;}return _39;};$W._q.tree.prototype.parseNodeByNode=function(_44,_45,_46,_47){if(!_44){return null;}var _48=new $W._q.node();_48.index=this.nodeCount++;_48.depthIndex=_46;_48.label=_44.label;_48.orgLabel=_48.label;_48.value=_44.value;_48.element=_44.element.cloneNode(true);_48.depth=_45;_48.folder=_44.folder;_48.xpath="";_48.checkboxXPath="";_48.imageTitle=_44.imageTitle;_48.labelStyle=_44.labelStyle;if(typeof _44.checked!="undefined"){_48.checked=_44.checked;}_48.checkboxDisableXPath="";if(typeof _44.checkboxDisabled!="undefined"){_48.checkboxDisabled=_44.checkboxDisabled;}var _49=1;for(var i=0;i<_44.childNodes.length;i++){_48.appendChild(this.parseNodeByNode(_44.childNodes[i],_45+1,_49++,_48));}this.hash_index_node[_48.index]=_48;return _48;};$W._q.tree.prototype.parseImage=function(_4b){var _4c="";var _4d="";var _4e="";var _4f="";var _50="";var _51=/\.[a-zA-Z][a-zA-Z][a-zA-Z][\s]*$/;if(this.imageXPath.image!=""){if(this.imageXPath.image.match(_51)){_4c=this.imageXPath.image;}else{_4c=$W._B.getValue(_4b.element,this.imageXPath.image).wq_trim()||"";}}if(this.imageXPath.iconImage!=""){if(this.imageXPath.iconImage.match(_51)){_4d=this.imageXPath.iconImage;}else{_4d=$W._B.getValue(_4b.element,this.imageXPath.iconImage).wq_trim()||"";}}if(this.imageXPath.selectedImage!=""){if(this.imageXPath.selectedImage.match(_51)){_4e=this.imageXPath.selectedImage;}else{_4e=$W._B.getValue(_4b.element,this.imageXPath.selectedImage).wq_trim()||"";}}if(this.imageXPath.expandedImage!=""){if(this.imageXPath.expandedImage.match(_51)){_4f=this.imageXPath.expandedImage;}else{_4f=$W._B.getValue(_4b.element,this.imageXPath.expandedImage).wq_trim()||"";}}if(this.imageXPath.leafImage!=""){if(this.imageXPath.leafImage.match(_51)){_50=this.imageXPath.leafImage;}else{_50=$W._B.getValue(_4b.element,this.imageXPath.leafImage).wq_trim()||"";}}if(_50!=""&&_4b.isLeaf()==true){_4c=_50;}if(_4d!=""){_4c=_4d;_4e=_4d;_4f=_4d;}if(_4e==""){_4e=_4c;}if(_4f==""){_4f=_4c;}_4b.image=_4c;_4b.selectedImage=_4e;_4b.expandedImage=_4f;_4b.imageTitle=this.imageXPath.imageTitle&&$W._B.getValue(_4b.element,this.imageXPath.imageTitle);for(var i=0;i<_4b.childNodes.length;i++){this.parseImage(_4b.childNodes[i]);}};$W._q.tree.prototype.parseListToTree=function(_53){var _54=$W._B.parse("<Treeview xmlns:w2=\"http://www.inswave.com/websquare\" />",true);var _55=_54.documentElement;var _56=0;this.dataType="list";for(var i=0;i<_53.length;i++){var _58=_53[i];var _59=_58.cloneNode(true);var _5a=parseInt($W._B.getValue(_59,this.xpath.depth))||0;var _56=parseInt($W._B.getValue(_55,this.xpath.depth))||0;if(_5a===0&&_56!==0){$W._B.setValue(_59,this.xpath.depth,_56);_5a=_56;}if(_56<_5a){_59=$W._B.appendChild(_55,_59);_56=_5a;}else{if(_56==_5a&&i==0){_59=$W._B.appendChild(_55,_59);}else{if(_56==_5a){var _5b=_55.parentNode;_59=$W._B.appendChild(_5b,_59);}else{if(_56>_5a){_55=_55.parentNode;for(j=0;j<_56-_5a;j++){if(_55.parentNode!=null){_55=_55.parentNode;}}_59=$W._B.appendChild(_55,_59);}}}}_55=_59;}return _54.documentElement;};$W._q.tree.prototype.parseRecursiveToTree=function(_5c){this.dataType="recursive";var _5d=$W._B.parse("<Treeview xmlns:w2=\"http://www.inswave.com/websquare\" />",true);for(var i=0;i<_5c.length;i++){var _5f=null;if($W._G.isOpera()){_5f=($W._B.parse(_5c[i])).firstChild;}else{_5f=_5c[i].cloneNode(true);}$W._B.appendChild(_5d.documentElement,_5f);}return _5d.documentElement;};$W._q.tree.prototype.parseTreeToList=function(){var _60=this.xpath.nodeset;if(_60.indexOf("/")>-1){var arr=_60.split("/");_60=arr[arr.length-2];}if(!_60||_60==""){_60="Treeview";}var _62=$W._B.parse("<"+_60+" xmlns:w2=\"http://www.inswave.com/websquare\" />",true);var _63=_62.documentElement;var ni=this.getNodeIterator({type:"dfs"});ni.next();while(ni.next()){var _65=ni.getNode();_63.appendChild(_65.element);}return _62.documentElement;};$W._q.tree.prototype.getNodeIterator=function(_66){_66=$W.extend({rootNode:null},_66||{});var ni=new $W._q.nodeIterator(_66.rootNode||this.rootNode,_66);return ni;};$W._q.tree.prototype.size=function(){return this.nodeCount;};$W._q.tree.prototype.findNodeByValue=function(_68){var _69=null;var ni=this.getNodeIterator();while(ni.next()){if(ni.getNode().value==_68){_69=ni.getNode();break;}}ni=null;return _69;};$W._q.tree.prototype.findNodeByIndex=function(idx){var _6c=this.hash_index_node[idx];if(_6c){return _6c;}else{return null;}};$W._q.tree.prototype.setRender=function(_6d,_6e){_6d.rendered=_6e;for(var i=0;i<_6d.childNodes.length;i++){this.setRender(_6d.childNodes[i],_6e);}};$W._q.tree.prototype.getCloneNode=function(_70){var _71={};_71["checkboxDisabled"]=_70["checkboxDisabled"];_71["checked"]=_70["checked"];_71["folder"]=_70["folder"];_71["image"]=_70["image"];_71["imageTitle"]=_70["imageTitle"];_71["rendered"]=_70["rendered"];_71["id"]=_70["id"];_71["index"]=_70["index"];_71["value"]=_70["value"];_71["label"]=_70["label"];_71["labelStyle"]=_70["labelStyle"];return _71;};requires("uiplugin/treeview/tree.js");requires("uiplugin/group/group.js");$W._a._n=function(id,_2,_3){["WebSquare.uiplugin.treeview"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._n.prototype,$W._t.prototype);$W._a._n.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.treeview",pluginName:"treeview",userEvents:["onclick","ondblclick","onchange","onrightbuttonclick","ondrop","oncheckboxclick","onlabelclick","ontoggleclick","onviewchange"],repeatNode:"",useDrag:false,dataType:"recursive",lineShow:true,alwaysDraw:false,imgclass:"",labelclass:"",labelonClickClass:"w2treeview_select_node",defaultImage:"",iconImage:"",selectedImage:"",expandedImage:"",leafImage:"",showTreeDepth:1000,showCheckbox:false,trueValue:"true",falseValue:"false",checkAllChildNodes:false,checkboxDisabled:"",checkboxDisabledTrueValue:"true",checkboxDisabledFalseValue:"false",checkboxDisabledAll:false,rowHeight:-1,toggleEvent:"ondblclick",tooltipDisplay:false,tooltipStyle:"border:2px solid #7BAFE4; background-color:#ffffff;cursor:default;",tooltipClass:"",tooltipTime:1,tooltipGroupClass:true,hierarchy:false,refreshCheckboxModel:false,refreshCheckboxDisableModel:false,accessibility:undefined,title:"",accordion:false,dynamicAppend:false,displayMode:"0",delimiter:"\t",folderOpenToggleImage:$W.baseURI+"uiplugin/treeview/images/plus.gif",folderCloseToggleImage:$W.baseURI+"uiplugin/treeview/images/minus.gif",leafToggleImage:$W.baseURI+"uiplugin/treeview/images/middle.gif",lastToggleImage:$W.baseURI+"uiplugin/treeview/images/last.gif",middleToggleImage:$W.baseURI+"uiplugin/treeview/images/middle.gif",escape:false,toggleButtonEvent:"onclick",scrollFix:false};$W._a._n.prototype.initialize=function(_4){["WebSquare.uiplugin.treeview.initialize"];try{this.inlineElement=false;if(this.options.hierarchy==true){this.options.checkAllChildNodes=true;}this.tree=new $W._q.tree();this.tree.treeview=this;this.selectedInfo={groupDom:null,dom:null,node:null};this.tooltip=null;this.timeShowTooltip=null;this.timeHideTooltip=null;this.openedNodes={};this.originalBackgroundColor="";this.originalColor="";this.options.accessibility=$W._G.getBoolean(_4.getAttribute("accessibility"))||false;if(this.options.accessibility){this.options.lineShow=false;}if(this.options.accordion==true){this.options.showTreeDepth=0;}this.useDataCollection=false;this.successBinding=false;switch(this.options.displayMode){case "0":break;case "1":break;case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";break;}this.tree.setDisplayMode(this.options.displayMode,this.options.delimiter);if(_4){var _5=$W.WebSquareparser.parseItemset(_4);this.modelControl.setItemset(_5.nodeset,_5.label,_5.value);if(this.options.modelBinding==false){this.options.refreshCheckboxModel=false;this.options.refreshCheckboxDisableModel=false;}var _6="w2:";var _7=null;var _8=$W._B.findNode(_4,"*['"+"itemset"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_8){var _9=$W._B.getValue(_8,"@nodeset");var _a=null;this.useDataCollection=_9.match("data:");var _b="";if(this.useDataCollection){this.modelControl.getDataCollectionItemsetData(this.modelControl.id);var _c=$W._j["comp"][_9.slice("data:".length)];if(_c!=undefined){var _d=_c.options.baseNode+"/"+_c.options.repeatNode;var _e=(_c.filterManager.filterArr.length===0?_c.getAllXML():_c.getAllFilteredXML());_a=$W._B.findNodes(_e,_d);_9=_c.options.baseNode+"/"+_c.options.repeatNode;if(_c.options.valueAttribute){_b="/@"+_c.options.valueAttribute;}this.successBinding=true;}}else{var _a=$W._J.findInstanceNodes(_9);}var _f=_9.replace(/\[[^\[\]]*\]/g,"").match(/[^\/]*$/);if(_f){_f=_f[0];}var _10=$W._B.findNode(_8,"*['"+"label"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");var _11=$W._B.findNode(_8,"*['"+"value"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");var _12=$W._B.findNode(_8,"*['"+"depth"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");var _13=$W._B.findNode(_8,"*['"+"folder"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");var _14=_10?$W._B.getValue(_10,"@ref"):"";var _15=_11?$W._B.getValue(_11,"@ref"):"";var _16=_12?$W._B.getValue(_12,"@ref"):"";var _17=_13?$W._B.getValue(_13,"@ref"):"";if(_14&&_b&&_14.indexOf(_b)<0){_14=_14+_b;}if(_15&&_b&&_15.indexOf(_b)<0){_15=_15+_b;}if(_16&&_b&&_16.indexOf(_b)<0){_16=_16+_b;}if(_17&&_b&&_17.indexOf(_b)<0){_17=_17+_b;}var _18=$W._B.findNode(_8,"*['"+"image"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");var _19=$W._B.findNode(_8,"*['"+"iconImage"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");var _1a=$W._B.findNode(_8,"*['"+"selectedImage"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");var _1b=$W._B.findNode(_8,"*['"+"expandedImage"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");var _1c=$W._B.findNode(_8,"*['"+"leafImage"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");var _1d=$W._B.findNode(_8,"*['"+"checkboxDisabled"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");var _1e=$W._B.findNode(_8,"*['"+"imageTitle"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");var _1f=_18?$W._B.getValue(_18,"@ref"):"";var _20=_19?$W._B.getValue(_19,"@ref"):"";var _21=_1a?$W._B.getValue(_1a,"@ref"):"";var _22=_1b?$W._B.getValue(_1b,"@ref"):"";var _23=_1c?$W._B.getValue(_1c,"@ref"):"";var _24=_1d?$W._B.getValue(_1d,"@ref"):"";var _25=_1e?$W._B.getValue(_1e,"@ref"):"";if(_1f&&_b&&_1f.indexOf(_b)<0){_1f=_1f+_b;}if(_20&&_b&&_20.indexOf(_b)<0){_20=_20+_b;}if(_21&&_b&&_21.indexOf(_b)<0){_21=_21+_b;}if(_22&&_b&&_22.indexOf(_b)<0){_22=_22+_b;}if(_23&&_b&&_23.indexOf(_b)<0){_23=_23+_b;}if(_24&&_b&&_24.indexOf(_b)<0){_24=_24+_b;}if(_25&&_b&&_25.indexOf(_b)<0){_25=_25+_b;}if(this.options.defaultImage!=""){_1f=this.options.defaultImage;}if(this.options.iconImage!=""){_20=this.options.iconImage;}if(this.options.selectedImage!=""){_21=this.options.selectedImage;}if(this.options.expandedImage!=""){_22=this.options.expandedImage;}if(this.options.leafImage!=""){_23=this.options.leafImage;}if(this.options.checkboxDisabled!=""){_24=this.options.checkboxDisabled;}var _26=$W._B.findNode(_8,"*['"+"checkbox"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");var _27=_26?$W._B.getValue(_26,"@ref"):"";var _28=_27;if(_28&&_b&&_28.indexOf(_b)<0){_28=_28+_b;}this.tree.setXPath(_9,_14,_15,_16,_f,_17);this.tree.setCheckbox(_28,this.options.trueValue,this.options.falseValue,_24,this.options.checkboxDisabledTrueValue,this.options.checkboxDisabledFalseValue,this.options.checkboxDisabledAll,this.options.refreshCheckboxModel,this.options.refreshCheckboxDisableModel,this.options.hierarchy,_27);this.tree.setImage(_1f,_20,_23,_21,_22,_25);if(_a!=null){if(this.options.dataType=="recursive"){_7=this.tree.parseRecursiveToTree(_a);}else{if(this.options.dataType=="listed"){_7=this.tree.parseListToTree(_a);}}}}else{this.inlineElement=true;_7=_4;var _6="w2:";var _1f=_6+"image";var _20=_6+"iconImage";var _21=_6+"selectedImage";var _22=_6+"expandedImage";var _23=_6+"leafImage";if(this.options.defaultImage!=""){_1f=this.options.defaultImage;}if(this.options.iconImage!=""){_20=this.options.iconImage;}if(this.options.selectedImage!=""){_21=this.options.selectedImage;}if(this.options.expandedImage!=""){_22=this.options.expandedImage;}if(this.options.leafImage!=""){_23=this.options.leafImage;}this.tree.setImage(_1f,_20,_23,_21,_22,_6+"imageTitle");this.tree.setCheckbox(_6+"checkbox",this.options.trueValue,this.options.falseValue,_6+"checkboxDisabled",this.options.checkboxDisabledTrueValue,this.options.checkboxDisabledFalseValue,this.options.checkboxDisabledAll,this.options.refreshCheckboxModel,this.options.refreshCheckboxDisableModel,this.options.hierarchy);}if(_7){this.tree.setXML(_7);}}this.options=$W.cssManager.styleToClass(this.id,this.options);if(this.options.showCheckbox==true){if($W._G.isOpera()==true){this.checkboxStyle="left:-1px;top:-1px";}else{this.checkboxStyle="left:0px;top:0px";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.appendData=function(_29,_2a,_2b){["WebSquare.uiplugin.treeview.appendData"];try{if(this.options.dynamicAppend==false){$l("treeview\ub97c \ub3d9\uc801\uc73c\ub85c \ucc98\ub9ac\ud558\ub294 \uacbd\uc6b0\uc5d0\ub294  dynamicAppend='true'\ub85c \uc124\uc815\ud558\ub294 \uac83\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4.");}if(typeof _29=="undefined"||_29==null||!_2a){return;}_2b=(typeof _2b=="undefined")?false:_2b;var _2c=this.tree.findNodeByIndex(_29);if(!_2b){if(_2c.childNodes&&_2c.childNodes[0]&&_2c.childNodes[0].rendered){return;}}var _2d=null;if(this.options.dataType=="recursive"){_2d=this.tree.parseRecursiveToTree(_2a);}else{if(this.options.dataType=="listed"){_2d=this.tree.parseListToTree(_2a);}}this.tree.appendXML(_2d,_29);if(_29==0){_2c.hasChild();this.drawContents();}else{this.refreshNaviIcon(_2c);if(_2c.childNodes.length>0){_2c.childNodes[0].rendered=false;this.toggleChild(null,_2c.index,true);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.toHTML=function(){["WebSquare.uiplugin.treevie.toHTML"];try{var _2e=[];var _2f=(this.options.style=="")?"":"style='"+this.options.style+"'";var _30=(this.options.title=="")?"":"title='"+this.options.title+"'";_2e.push("<div tabindex='0' id='"+this.id+"' index='0' "+_2f+" class='w2treeview "+this.options.className+"' "+_30+">");_2e.push("</div>");return _2e.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.setAction=function(){["WebSquare.uiplugin.treeview.setAction"];try{if(!this.useDataCollection||this.successBinding){this.drawContents();if(this.options.toggleEvent!="none"){this.event.addListener(this.render,this.options.toggleEvent,this.event.bindAsEventListener(this,this.handleToggleEvent));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"ondblclick",this.event.bindAsEventListener(this,this.handleDblclickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onselectstart",function(e){$W._c.stopEvent(e);});this.event.addListener(this.render,"oncontextmenu",this.event.bindAsEventListener(this,this.handleContextmenuEvent));this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.activateDrag));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.refreshStop=false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.refreshItemset=function(){["WebSquare.uiplugin.treeview.refreshItemset"];try{if(this.modelControl.isItemsetBinded()&&!this.refreshStop){this.refreshStop=true;var _32=null;var _33=this.tree.getNodeset();var _34=null;var _35=false;if(this.useDataCollection){var _36=$W._j["comp"][this.modelControl.itemsetObj.nodeset.slice("data:".length)];if(_36!=undefined){var _37=_36.options.baseNode+"/"+_36.options.repeatNode;if(_36.filterManager.filterArr.length==0){_34=$W._B.findNodes(_36.getAllXML(),_37);}else{_34=$W._B.findNodes(_36.getAllFilteredXML(),_37);}if(!this.successBinding){_33=_36.options.baseNode+"/"+_36.options.repeatNode;var _38=_33.replace(/\[[^\[\]]*\]/g,"").match(/[^\/]*$/);if(_38){_38=_38[0];}var _39="";if(_36.options.valueAttribute){_39="/@"+_36.options.valueAttribute;}var _3a=this.tree.xpath.label;var _3b=this.tree.xpath.value;var _3c=this.tree.xpath.depth;var _3d=this.tree.xpath.folder;if(_3a&&_39&&_3a.indexOf(_39)<0){_3a=_3a+_39;}if(_3b&&_39&&_3b.indexOf(_39)<0){_3b=_3b+_39;}if(_3c&&_39&&_3c.indexOf(_39)<0){_3c=_3c+_39;}if(_3d&&_39&&_3d.indexOf(_39)<0){_3d=_3d+_39;}this.tree.setXPath(_33,_3a,_3b,_3c,_38,_3d);this.successBinding=true;_35=true;}}}else{_34=$W._J.findInstanceNodes(_33);}if(_34!=null){if(this.options.dataType=="recursive"){_32=this.tree.parseRecursiveToTree(_34);}else{if(this.options.dataType=="listed"){_32=this.tree.parseListToTree(_34);}}}this.tree.setXML(_32);var _3e=this.selectedInfo.node;this.drawContents();if(_35){this.setAction();this.refreshStop=true;}if(this.useDataCollection&&_3e!=null){var _36=$W._j["comp"][this.modelControl.itemsetObj.nodeset.slice("data:".length)];if(_36!=null&&_36.rowPosition!=null){this.selectNode2(_3e);}}this.refreshStop=false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.refreshItemArr=function(){this.refreshItemset();};$W._a._n.prototype.drawContents=function(){["WebSquare.uiplugin.treeview.drawContents"];try{this.selectedInfo={dom:null,node:null};this.initRenderStatus();var _3f=[];for(var i=0;i<this.tree.rootNode.childNodes.length;i++){_3f.push(this.nodeToHTML(this.tree.rootNode.childNodes[i]));}this.render.innerHTML=_3f.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.selectNode=function(_41,idx,_43,_44){["WebSquare.uiplugin.treeview.selectNode"];try{var _43=(typeof _43=="undefined")?true:_43;if(this.selectedInfo.dom){this.removeClass(this.selectedInfo.dom,this.options.labelonClickClass);this.selectedInfo.dom.style.backgroundColor=this.originalBackgroundColor;this.selectedInfo.dom.style.color=this.originalColor;}var _45=this.selectedInfo.node?this.tree.getCloneNode(this.selectedInfo.node):null;var _46=null;if(_41!=null){_46=this.tree.findNodeByValue(_41);}else{if(idx!=null){_46=this.tree.findNodeByIndex(idx);}}if(_45!=null&&_46!=null){if(_45.index!=_46.index){$W._c.fireEvent(this,"onchange",_45,_46);}}else{if((_45==null&&_46!=null)||(_45!=null&&_46==null)){$W._c.fireEvent(this,"onchange",_45,_46);}}this.selectedInfo.node=_46;if(this.selectedInfo.node!=null&&_43){var _47=this.selectedInfo.node.parentNode;var _48=[];while(_47){var idx=_47.index;_48.push(idx);_47=_47.parentNode;}_48.reverse();for(var i in _48){this.toggleChild(null,_48[i],true);}}this.selectedInfo.dom=document.getElementById(this.id+"_label_"+this.selectedInfo.node.index);this.selectedInfo.groupDom=document.getElementById(this.id+"_group_"+this.selectedInfo.node.index);this.addClass(this.selectedInfo.dom,this.options.labelonClickClass);this.originalBackgroundColor=this.selectedInfo.dom.style.backgroundColor;this.originalColor=this.selectedInfo.dom.style.color;this.selectedInfo.dom.style.backgroundColor="";this.selectedInfo.dom.style.color="";if(_44!==true){if(!this.options.scrollFix){this.selectedInfo.groupDom.setAttribute("tabindex",0);this.selectedInfo.groupDom.focus();this.selectedInfo.groupDom.setAttribute("tabindex",-1);}if(this.useDataCollection&&this.successBinding){var _4a=$W._j["comp"][this.modelControl.itemsetObj.nodeset.slice("data:".length)];if(this.selectedInfo.node!=null){for(var id in _4a.refCompHash){var _4c=_4a.refCompHash[id];if(_4c!=null&&$W.idCache[_4c.uuid]&&_4c.options.pluginName=="input"){_4c.setValue(_4c.getValue());}}_4a.setRowPosition(this.selectedInfo.node.index-1);}else{_4a.setRowPosition(null);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.selectNode1=function(_4d,idx,_4f,_50){["WebSquare.uiplugin.treeview.selectNode1"];try{if(this.selectedInfo.node!=null){var _51=this.tree.getCloneNode(this.selectedInfo.node);var _52=_51.index;this.selectNode(_4d,idx,_4f,_50);if(this.selectedInfo.node!=null){var _53=this.selectedInfo.node.index;if(_52!=_53){var _54={"oldNode":_51,"newNode":this.tree.getCloneNode(this.selectedInfo.node)};$W._c.fireEvent(this,"onviewchange",_54);}}}else{this.selectNode(_4d,idx,_4f,_50);if(this.selectedInfo.node!=null){var _54={"oldNode":{},"newNode":this.tree.getCloneNode(this.selectedInfo.node)};$W._c.fireEvent(this,"onviewchange",_54);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.selectNode2=function(_55){["WebSquare.uiplugin.treeview.selectNode"];try{this.selectedInfo.node=_55;this.selectedInfo.dom=document.getElementById(this.id+"_label_"+this.selectedInfo.node.index);this.selectedInfo.groupDom=document.getElementById(this.id+"_group_"+this.selectedInfo.node.index);this.addClass(this.selectedInfo.dom,this.options.labelonClickClass);if(this.selectedInfo.dom){this.originalBackgroundColor=this.selectedInfo.dom.style.backgroundColor;this.originalColor=this.selectedInfo.dom.style.color;this.selectedInfo.dom.style.backgroundColor="";this.selectedInfo.dom.style.color="";}else{this.originalBackgroundColor="";this.originalColor="";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.findNode=function(_56,_57){["WebSquare.uiplugin.treeview.findNode"];try{if(typeof _57=="undefined"){_57=true;}if(_57===true){this.selectNode(_56,null);var _58=$W._H.getAbsoluteTop(this.selectedInfo.dom);var _59=$W._H.getAbsoluteTop(this.render)+this.render.offsetHeight;if(_59<_58){this.render.scrollTop=(_58-_59+parseInt(this.render.offsetHeight/2));}return this.getSelectedNode();}else{return this.tree.findNodeByValue(_56);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.findNodeByValue=function(_5a,_5b){["WebSquare.uiplugin.treeview.findNodeByValue"];try{if(_5b===true){this.selectNode(_5a,null);var _5c=$W._H.getAbsoluteTop(this.selectedInfo.dom);var _5d=$W._H.getAbsoluteTop(this.render)+this.render.offsetHeight;if(_5d<_5c){this.render.scrollTop=(_5c-_5d+parseInt(this.render.offsetHeight/2));}return this.getSelectedNode();}else{return this.tree.findNodeByValue(_5a);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.findNodeByIndex=function(_5e,_5f){["WebSquare.uiplugin.treeview.findNodeByIndex"];try{if(_5f===true){this.selectNode(null,_5e);var _60=$W._H.getAbsoluteTop(this.selectedInfo.dom);var _61=$W._H.getAbsoluteTop(this.render)+this.render.offsetHeight;if(_61<_60){this.render.scrollTop=(_60-_61+parseInt(this.render.offsetHeight/2));}return this.getSelectedNode();}else{return this.tree.findNodeByIndex(_5e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.isOpen=function(_62){["WebSquare.uiplugin.treeview.isOpen"];try{if(_62>=this.tree.size()||_62<1){return;}var _63=document.getElementById(this.id+"_node_"+_62);var _64=$W._G.getBoolean(_63.getAttribute("opened"));return _64;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getSelectedNode=function(){["WebSquare.uiplugin.treeview.getSelectedNode"];try{if(this.selectedInfo){return this.selectedInfo.node;}else{return null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getSelectedDom=function(){["WebSquare.uiplugin.treeview.getSelectedDom"];try{if(this.selectedInfo){return this.selectedInfo.dom;}else{return null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getSelectedLabel=function(){["WebSquare.uiplugin.treeview.getSelectedLabel"];try{if(this.selectedInfo&&this.selectedInfo.node){return this.selectedInfo.node.label;}else{return "";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getSelectedValue=function(){["WebSquare.uiplugin.treeview.getSelectedValue"];try{if(this.selectedInfo&&this.selectedInfo.node){return this.selectedInfo.node.value;}else{return "";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.treeview.getSelectedIndex"];try{if(this.selectedInfo&&this.selectedInfo.node){return this.selectedInfo.node.index;}else{return "";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getSelectedElement=function(){["WebSquare.uiplugin.treeview.getSelectedElement"];try{if(this.selectedInfo&&this.selectedInfo.node){return this.selectedInfo.node.element;}else{return null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.isLeaf=function(){["WebSquare.uiplugin.treeview.isLeaf"];try{if(this.selectedInfo&&this.selectedInfo.node){return !this.selectedInfo.node.hasChild();}else{return true;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.setLabelStyle=function(idx,_66,_67,_68){["WebSquare.uiplugin.treeview.setLabelStyle"];var _69;if(typeof idx==="object"&&typeof idx.index==="number"){_69=idx;}else{if(typeof idx==="number"){_69=this.tree.findNodeByIndex(idx);}else{if(typeof idx==="string"){_69=this.tree.findNodeByValue(idx);}}}this._setLabelStyle(_69,_66,_67,_68);};$W._a._n.prototype.setCustomFormatter=function(_6a){["WebSquare.uiplugin.treeview.setCustomFormatter"];if(typeof _6a==="function"){var ni=this.tree.getNodeIterator();while(ni.next()){var _6c=ni.getNode();if(_6c.isRoot()){continue;}var _6d=this.tree.getCloneNode(_6c);var _6e=_6a.call(this,_6c.orgLabel,_6c.label,_6d)||_6c.label;_6c.label=_6e;if(_6c.rendered){var _6f=document.getElementById(this.id+"_label_"+_6c.index);_6f.firstChild.nodeValue=_6c.label;}}ni=null;this.tree.customFormatter=_6a;}};$W._a._n.prototype._setLabelStyle=function(_70,_71,_72,_73){["WebSquare.uiplugin.treeview._setLabelStyle"];if(_70==null){return;}if(_70.labelStyle==undefined){_70.labelStyle={};}_70.labelStyle[_71]=_72;this.originalBackgroundColor=_70.labelStyle["background-color"]||this.originalBackgroundColor;this.originalColor=_70.labelStyle["color"]||this.originalColor;if(_70.rendered){var _74=document.getElementById(this.id+"_label_"+_70.index);if(_74){var _75="";var _76=0;for(var i=0;i<_71.length;i++){if(_71.charAt(i)==="-"){_75+=_71.charAt(i+1).capitalize();i++;}else{_75+=_71.charAt(i);}}_74.style[_75]=_72;}}if(_73===true){for(var i=0;i<_70.childNodes.length;i++){var _78=_70.childNodes[i];this._setLabelStyle(_78,_71,_72,_73);}}};$W._a._n.prototype.checkNode=function(idx,_7a,_7b,_7c){["WebSquare.uiplugin.treeview.checkNode"];try{var _7d=this.tree.findNodeByIndex(idx);_7d.checked=_7a;if(!_7d.checkboxDom){_7d.checkboxDom=document.getElementById(this.id+"_checkbox_"+idx);}if(_7d.checkboxDom){_7d.checkboxDom.checked=_7a;}if(this.options.refreshCheckboxModel==true){this.stopRefresh(true);if(this.useDataCollection&&this.tree.checkbox.colID){var _7e=$W._j["comp"][this.modelControl.itemsetObj.nodeset.slice("data:".length)];if(_7e!=null){_7e.setCellData(idx-1,this.tree.checkbox.colID,_7a?this.options.trueValue:this.options.falseValue);}}else{if(_7a==true){if(_7d.checkboxXPath&&$W._J.findInstanceNode(_7d.checkboxXPath)!=null){$W._J.setInstanceValue(_7d.checkboxXPath,this.options.trueValue);}}else{if(_7d.checkboxXPath&&$W._J.findInstanceNode(_7d.checkboxXPath)!=null){$W._J.setInstanceValue(_7d.checkboxXPath,this.options.falseValue);}}}this.stopRefresh(false);}if(_7b!==false&&(_7b==true||this.options.hierarchy==true||this.options.checkAllChildNodes==true)){for(var i=0;i<_7d.childNodes.length;i++){var _80=_7d.childNodes[i];this.checkNode(_80.index,_7a,true,false);}}if(this.options.hierarchy==true){this.partialSelection(_7d);}if(_7c!==false&&_7d.parentNode.parentNode&&this.options.hierarchy==true){var _81=true;var _82=0;for(var i=0;i<_7d.parentNode.childNodes.length;i++){var _80=_7d.parentNode.childNodes[i];if(_80.checked!=true){_81=false;break;}}if(_81==true){this.checkNode(_7d.parentNode.index,true,false);}else{this.checkNode(_7d.parentNode.index,false,false);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.partialSelection=function(_83){["WebSquare.uiplugin.treeview.partialSelection"];try{var _84=0;var _85=false;if(_83.childNodes.length==0){return;}for(var i=0;i<_83.childNodes.length;i++){var _87=_83.childNodes[i];if(_87.checked==true){_84++;}else{if(_87.partial==true){_85=true;}}}if(_85==true||(0<_84&&_84<_83.childNodes.length)){_83.partial=true;this.addClass(_83.checkboxDom,"w2treeview_partialselect");_83.checkboxDom.checked=true;}else{_83.partial=false;this.removeClass(_83.checkboxDom,"w2treeview_partialselect");if(_83.checked==true){_83.checkboxDom.checked=true;}else{_83.checkboxDom.checked=false;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.disableCheckboxByValue=function(_88,_89,_8a){["WebSquare.uiplugin.treeview.disalbeNode"];try{var _8b=this.tree.findNodeByValue(_88);this.disableCheckbox(_8b,_89,_8a);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.setLabelByIndex=function(_8c,_8d){["WebSquare.uiplugin.treeview.setLabelByValue"];this.setLabel(this.tree.findNodeByIndex(_8c),_8d);};$W._a._n.prototype.setLabelByValue=function(_8e,_8f){["WebSquare.uiplugin.treeview.setLabelByValue"];this.setLabel(this.tree.findNodeByValue(_8e),_8f);};$W._a._n.prototype.setLabel=function(_90,_91){["WebSquare.uiplugin.treeview.setLabel"];try{if(_90){var _92=this.refreshStop;this.refreshStop=true;if(this.modelControl.useItemset){$W._J.setInstanceValue(_90.xpath+"/"+this.tree.xpath.label,_91);}$W._B.setValue(_90.element,"label",_91);if(typeof this.tree.customFormatter==="function"){var _93=this.tree.getCloneNode(_90);_91=this.tree.customFormatter.call(this,_91,_91,_93);}_90.label=_91;_90.orgLabel=_91;if(_90.rendered){var _94=document.getElementById(this.id+"_label_"+_90.index);_94.firstChild.nodeValue=_91;}this.refreshStop=_92;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.disableCheckbox=function(_95,_96,_97){["WebSquare.uiplugin.treeview.disalbeNode"];try{_96=$W._G.getBoolean(_96);if(!_95.checkboxDom){_95.checkboxDom=document.getElementById(this.id+"_checkbox_"+_95.index);}if(_95.checkboxDom){_95.checkboxDom.disabled=_96;_95.checkboxDisabled=_96;}if(this.options.refreshCheckboxDisableModel==true){this.stopRefresh(true);if(_96==true){if($W._J.findInstanceNode(_95.checkboxDisableXPath)!=null){$W._J.setInstanceValue(_95.checkboxDisableXPath,this.options.checkboxDisabledTrueValue);}}else{if($W._J.findInstanceNode(_95.checkboxDisableXPath)!=null){$W._J.setInstanceValue(_95.checkboxDisableXPath,this.options.checkboxDisabledFalseValue);}}this.stopRefresh(false);}if(_97===true){for(var i=0;i<_95.childNodes.length;i++){var _99=_95.childNodes[i];this.disableCheckbox(_99,_96,_97);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.checkByValue=function(_9a,_9b,_9c){["WebSquare.uiplugin.treeview.checkByValue"];try{var _9d=this.tree.findNodeByValue(_9a);this.checkNode(_9d.index,_9b,_9c);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getParentValue=function(_9e){["WebSquare.uiplugin.treeview.getParentValue"];try{var _9f="";var _a0=this.tree.findNodeByValue(_9e);if(_a0&&!_a0.ParentNode){_9f=_a0.parentNode.value;}return _9f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getChildData=function(_a1){["WebSquare.uiplugin.treeview.getChildLength"];try{var _a2=this.tree.findNodeByValue(_a1);var _a3=[];for(var i=0;i<_a2.childNodes.length;i++){if(this.options.dynamicAppend==true||this.useDataCollection){_a3.push(_a2.childNodes[i].element);}else{_a3.push($W._J.findInstanceNode(_a2.childNodes[i].xpath));}}return _a3;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getXPathByValue=function(_a5){["WebSquare.uiplugin.treeview.getXPathByValue"];try{var _a6=this.tree.findNodeByValue(_a5);return _a6.xpath;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.nodeToHTML=function(_a7){["WebSquare.uiplugin.treeview.nodeToHTML"];try{if(!_a7){return "";}_a7.rendered=true;var _a8=[];var _a9=this.options.accessibility;var _aa=(this.options.escape)?$W._B._encode(_a7.label):_a7.label;var _ab=(this.options.escape)?$W._B._encode(_a7.value):_a7.value;if(!_a9){_a8.push("<div tabindex='-1' id='"+this.id+"_group_"+_a7.index+"' class='w2treeview_group' index='"+_a7.index+"' label='"+_aa+"'>");}else{_a8.push("<ol tabindex='-1' id='"+this.id+"_group_"+_a7.index+"' class='w2treeview_group' aria-expanded='true' index='"+_a7.index+"' label='"+_aa+"'>");}_a8.push("<table id='"+this.id+"_node_"+_a7.index+"' treeNodeValue='"+_ab+"' index='"+_a7.index+"' cellpadding='0' cellspacing='0'");var _ac="";if(_a7.isLastChild()){_ac=" w2treeview_last_sibling";}else{if(_a7.isFirstChild()){_ac=" w2treeview_first_sibling";}}if(_a7.hasChild()){if(_a7.depth>this.options.showTreeDepth){_a8.push("class='w2treeview_node w2treeview_table_node w2treeview_notleaf w2treeview_close_child"+_ac+"'>");}else{_a8.push("class='w2treeview_node w2treeview_table_node w2treeview_notleaf w2treeview_open_child"+_ac+"' opened='true'>");}}else{if(_a7.isFirstChildByRoot()){if(_a7.parentNode.childNodes.length==1){_a8.push("class='w2treeview_node w2treeview_table_node w2treeview_root_single_leaf w2treeview_open_child"+_ac+"'>");}else{_a8.push("class='w2treeview_node w2treeview_table_node w2treeview_root_multi_leaf w2treeview_open_child"+_ac+"'>");}}else{if(_a7.isLastChild()){_a8.push("class='w2treeview_node w2treeview_table_node w2treeview_leaf w2treeview_last_leaf w2treeview_open_child"+_ac+"'>");}else{_a8.push("class='w2treeview_node w2treeview_table_node w2treeview_leaf w2treeview_open_child"+_ac+"'>");}}}_a8.push("<tr class='w2treeview_row_parent w2treeview_row_depth"+_a7.depth+"'>");if(this.options.lineShow==true){_a8.push("<td id='"+this.id+"_col_icon_navi_"+_a7.index+"' class='w2treeview_col_icon_navi'><div class='w2treeview_icon_navi'></div></td>");}else{if(_a7.isLeaf()){if(!_a9){_a8.push("<td id='"+this.id+"_col_icon_navi_"+_a7.index+"' class='w2treeview_col_icon_navi'><div class='w2treeview_icon_none'></div></td>");}else{_a8.push("<td id='"+this.id+"_col_icon_navi_"+_a7.index+"' class='w2treeview_col_icon_navi'></td>");}}else{if(!_a9){_a8.push("<td id='"+this.id+"_col_icon_navi_"+_a7.index+"' class='w2treeview_col_icon_navi'><div class='w2treeview_icon_navi'></div></td>");}else{if(_a7.depth>this.options.showTreeDepth){_a8.push("<td id='"+this.id+"_col_icon_navi_"+_a7.index+"' class='w2treeview_col_icon_navi'><img id='"+this.id+"_toggle_"+_a7.index+"' src='"+this.options.folderOpenToggleImage+"' class='w2treeview_icon_navi_img' /></td>");}else{_a8.push("<td id='"+this.id+"_col_icon_navi_"+_a7.index+"' class='w2treeview_col_icon_navi'><img id='"+this.id+"_toggle_"+_a7.index+"' src='"+this.options.folderCloseToggleImage+"' class='w2treeview_icon_navi_img' /></td>");}}}}if(_a7.image!=""){var _ad=_a7.image;if(_a7.hasChild()==true&&_a7.depth<=this.options.showTreeDepth){_ad=_a7.expandedImage;}var _ae=_a7.imageTitle?"title='"+_a7.imageTitle+"'":"";_a8.push("<td class='w2treeview_col_icon_label'>");_a8.push("<div id='"+this.id+"_icon_"+_a7.index+"' class='w2treeview_icon_label'"+_ae+" style='background-image:url("+_ad+")'></div>");_a8.push("</td>");}else{_a8.push("<td class='w2treeview_none'></td>");}if(this.options.showCheckbox==true){_a8.push("<td class='w2treeview_col w2treeview_col_icon_checkbox'>");if($W._G.isIE()){_a8.push("<div style='left:0px;top:-1px;' class='w2treeview_partialdiv'>");}else{_a8.push("<div style='left:4px;top:-1px;' class='w2treeview_partialdiv'>");}if(_a7.checked==true){if(_a7.checkboxDisabled==true){_a8.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' checked='true' disabled='true' id='"+this.id+"_checkbox_"+_a7.index+"' class='w2treeview_checkbox' />");}else{_a8.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' checked='true' id='"+this.id+"_checkbox_"+_a7.index+"' class='w2treeview_checkbox' />");}}else{if(_a7.checkboxDisabled==true){if(_a7.partial==true){_a8.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' checked='true' disabled='true' id='"+this.id+"_checkbox_"+_a7.index+"' class='w2treeview_checkbox w2treeview_partialselect' />");}else{_a8.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' disabled='true' id='"+this.id+"_checkbox_"+_a7.index+"' class='w2treeview_checkbox' /></div>");}}else{if(_a7.partial==true){_a8.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' checked='true' id='"+this.id+"_checkbox_"+_a7.index+"' class='w2treeview_checkbox w2treeview_partialselect' />");}else{_a8.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' id='"+this.id+"_checkbox_"+_a7.index+"' class='w2treeview_checkbox' />");}}}_a8.push("\t\t\t</div>");_a8.push("\t\t</td>");}var _af="";if(typeof _a7.labelStyle==="object"){var _b0="";for(var key in _a7.labelStyle){_b0+=key+":"+_a7.labelStyle[key]+";";}_af=" style='"+_b0+"'";}if(this.options.rowHeight!=-1){_a8.push("<td class='w2treeview_col_label' style='height:"+this.options.rowHeight+"px;'><span id='"+this.id+"_label_"+_a7.index+"' class='w2treeview_label "+this.options.labelclass+"'"+_af+">"+_aa+"</span></td>");}else{_a8.push("<td class='w2treeview_col_label'><span id='"+this.id+"_label_"+_a7.index+"' class='w2treeview_label "+this.options.labelclass+"'"+_af+">"+_aa+"</span></td>");}_a8.push("</tr>");if(_a7.hasChild()||this.options.dynamicAppend==true){_a8.push("<tr class='w2treeview_row_child'>");if(this.options.lineShow==false||_a7.isLastChild()){_a8.push("<td id='"+this.id+"_guideline_"+_a7.index+"' class='w2treeview_noguideline w2treeview_col_depth"+_a7.depth+"'></td>");}else{_a8.push("<td id='"+this.id+"_guideline_"+_a7.index+"' class='w2treeview_guideline w2treeview_row_depth"+_a7.depth+"'></td>");}if(this.options.showCheckbox==true){_a8.push("<td colspan='3'>");}else{_a8.push("<td colspan='2'>");}if(_a7.depth>this.options.showTreeDepth){_a8.push("<div id='"+this.id+"_child_"+_a7.index+"' class='w2treeview_child w2treeview_none'>");}else{_a8.push("<div id='"+this.id+"_child_"+_a7.index+"' class='w2treeview_child'>");}if(this.options.alwaysDraw==true||_a7.depth<=this.options.showTreeDepth){for(var i=0;i<_a7.childNodes.length;i++){_a8.push(this.nodeToHTML(_a7.childNodes[i]));}}_a8.push("</div>");_a8.push("</td>");_a8.push("</tr>");}_a8.push("</table>");if(!_a9){_a8.push("</div>");}else{_a8.push("</ol>");}return _a8.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.toggleChild=function(_b3,idx,_b5){["WebSquare.uiplugin.treeview.toggleChild"];try{if(idx==null){idx=-1;}if(_b3!=null){var _b6=this.tree.findNodeByValue(_b3);if(_b6){idx=_b6.index;}}var _b6=this.tree.findNodeByIndex(idx);if(_b6&&_b6.depth>0&&_b6.hasChild()){var _b7=document.getElementById(this.id+"_node_"+idx);var _b8=document.getElementById(this.id+"_child_"+idx);var _b9=document.getElementById(this.id+"_icon_"+idx);if(_b7&&_b8){var _ba=(_b6.childNodes&&_b6.childNodes[0]&&_b6.childNodes[0].rendered)?true:false;if(!_ba||this.options.accessibility){var _bb=[];for(var i=0;i<_b6.childNodes.length;i++){_bb.push(this.nodeToHTML(_b6.childNodes[i]));}_b8.innerHTML=_bb.join("");}var _bd=$W._G.getBoolean(_b7.getAttribute("opened"));if(typeof _b5=="undefined"||_b5==null){_b5=(_bd==false)?true:false;}if(_b5==true){if(this.options.accordion==true){var _be={};var _bf=_b6;while(_bf.parentNode){_bf=_bf.parentNode;_be[_bf.index]=_bf.depth;}for(var i in this.openedNodes){if(this.openedNodes[i]!=_b6&&!_be[this.openedNodes[i].index]){if(this.openedNodes[i].depth<=_b6.depth){this.toggleChild(null,i,false);}}}this.openedNodes[idx]=_b6;}_b7.setAttribute("opened","true");_b8.style.display="block";this.changeClass(_b7,"w2treeview_close_child","w2treeview_open_child");if(_b9){_b9.style.backgroundImage="url("+_b6.expandedImage+")";}if(this.options.accessibility){var _c0=document.getElementById(this.id+"_toggle_"+idx);if(_c0){_c0.src=this.options.folderCloseToggleImage;}}}else{if(_b5==false){_b7.setAttribute("opened","false");if(this.openedNodes[idx]){delete this.openedNodes[idx];}_b8.style.display="none";this.changeClass(_b7,"w2treeview_open_child","w2treeview_close_child");if(_b9){_b9.style.backgroundImage="url("+_b6.image+")";}if(this.options.accessibility){var _c0=document.getElementById(this.id+"_toggle_"+idx);if(_c0){_c0.src=this.options.folderOpenToggleImage;}$W.removeChildren(_b8);}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.spanAll=function(_c1){["WebSquare.uiplugin.treeview.spanAll"];try{if(this.options.accordion==true){$l("treeview\uc758 accordion \ubaa8\ub4dc\uc5d0\uc11c\ub294 spanAll API\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");return;}if(_c1==true){for(var idx=0;idx<this.tree.size();idx++){this.toggleChild(null,idx,_c1);}}else{if(_c1==false){for(var idx=this.tree.size()-1;idx>=0;idx--){this.toggleChild(null,idx,_c1);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.showTooltip=function(_c3,top,_c5){["WebSquare.uiplugin.treeview.showTooltip"];try{if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}if(this.timeHideTooltip!=null){clearTimeout(this.timeHideTooltip);this.timeHideTooltip=null;}this.timeShowTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(!this.tooltip){this.tooltip=new $W._a._o(this.id+"_tooltip",{className:"w2treeview_tooltip "+this.options.tooltipClass});this.tooltip.writeTo($W.getBody(),null,this.parentFrame);this.tooltip.activate();if(!this.options.tooltipGroupClass){this.tooltip.removeClass("w2group");}}this.tooltip.setStyle("display","block");this.tooltip.setStyle("left",_c3+"px");this.tooltip.setStyle("top",top+"px");if(this.options.escape){_c5=$W._B._encode(_c5);}this.tooltip.render.innerHTML=_c5;}),this.options.tooltipTime*1000);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.hideTooltip=function(){["WebSquare.uiplugin.treeview.hideTooltip"];try{this.timeHideTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(this.tooltip){this.tooltip.setStyle("display","none");}}),this.options.tooltipTime*1000);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.setXML=function(_c6){["WebSquare.uiplugin.treeview.setXML"];try{var _c7=null;var _c8=this.tree.getNodeset();var _c9=$W._B.findNodes(_c6,_c8);if(this.options.dataType=="recursive"){_c7=this.tree.parseRecursiveToTree(_c9);}else{if(this.options.dataType=="listed"){_c7=this.tree.parseListToTree(_c9);}}this.tree.setXML(_c7);this.drawContents();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.activateDrag=function(e){["WebSquare.uiplugin.treeview.activateDrag"];try{$W._c.stopEvent(e);var _cb=this;var it=this.event.getTargetIterator(e,this.render);if(it.element.id===this.id){return;}var _cd=false;var _ce=false;var _cf=false;var _d0=false;while(it.next()){if(it.match("w2treeview_label")){_d0=true;}if(it.match("w2treeview_icon_navi")||it.match("w2treeview_icon_navi_img")){_cd=true;}if(it.match("w2treeview_icon_label")){_ce=true;}if(it.match("w2treeview_checkbox")){_cf=true;}if(it.match("w2treeview_node")){var _d1=it.getElement().getAttribute("index");if(_d1==null){it.stop();break;}if(this.options.toggleButtonEvent=="onmousedown"){var _d2=this.tree.findNodeByIndex(_d1);if(_cd&&!_d2.isLeaf()){this.toggleChild(null,_d1);var _d3=(_d2.childNodes&&_d2.childNodes[0]&&_d2.childNodes[0].rendered)?true:false;if(!this.inlineElement){$W._c.fireEvent(this,"ontoggleclick",_d2.element,_d1,_d3);}else{$W._c.fireEvent(this,"ontoggleclick",null,_d1,_d3);}}}if(_d0||_cf||_ce||_cd){this.selectNode1(null,_d1,false,true);}if(this.options.useDrag==true){var _d4=this.getSelectedLabel();$W._K.gDragManager.activate(e,it.getElement(),{id:this.id+"_drag",className:"w2treeview_drag",contents:_d4,delay:15,dropClass:"w2treeview_node",dragoverClass:"w2treeview_label",applyMousePosition:true,onDrop:function(_d5,_d6,x,y,dx,dy,e){if(!_d5){return;}var _dc=null;var it2={};if(_d6){it2=new $W.targetIterator(_d6,_cb.render);}else{it2=_cb.event.getTargetIterator(e);}while(it2.next()){if(it2.match("w2treeview")){var _de=it2.getElement().id;if($W._G.getComponentById(_de)){_dc=$W._G.getComponentById(_de);}it2.stop();}}it2=null;if(_dc&&!_d6){_d6=document.getElementById(_dc.id+"_node_0");}if(_d5&&_d6&&_dc){var _df=_d5.getAttribute("index");var _e0=_d6.getAttribute("index");var _e1=_cb.tree.findNodeByIndex(_df);var _e2=_dc.tree.findNodeByIndex(_e0);$W._c.fireEvent(_dc,"ondrop",_e1,_e2,_cb,_dc,e);}},onDragover:function(_e3,_e4,x,y,dx,dy,e){if(!_e3){return;}if(!_e4){$W._c.fireEvent(_cb,"ondragleave",e);return;}var _ea=null;var it2=new $W.targetIterator(_e4,_cb.render);while(it2.next()){if(it2.match("w2treeview")){var _ec=it2.getElement().id;if($W._G.getComponentById(_ec)){_ea=$W._G.getComponentById(_ec);}it2.stop();}}it2=null;if(_ea){var _ed=_e3.getAttribute("index");var _ee=_e4.getAttribute("id");var _ef=_ee.substring(_ee.lastIndexOf("_")+1,_ee.length);var _f0=_cb.tree.findNodeByIndex(_ed);var _f1=_ea.tree.findNodeByIndex(_ef);$W._c.fireEvent(_ea,"ondragover",_f0,_f1,_cb,_ea,e);}}});}it.stop();}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.appendXmlNodes=function(_f2,_f3){["WebSquare.uiplugin.treeview.appendXmlNodes"];try{this.appendData(_f2.index,_f3,true);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.appendNode=function(_f4,_f5){["WebSquare.uiplugin.treeview.appendNode"];try{if(this.options.dynamicAppend==false){$l("treeview\ub97c \ub3d9\uc801\uc73c\ub85c \ucc98\ub9ac\ud558\ub294 \uacbd\uc6b0\uc5d0\ub294  dynamicAppend='true'\ub85c \uc124\uc815\ud558\ub294 \uac83\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4.");}var _f6=_f4.index;if(this.options.dynamicAppend==true){var _f7=(_f4.childNodes)?_f4.childNodes.length+1:1;_f4.appendChild(this.tree.parseNodeByNode(_f5,(_f4.depth+1),_f7,_f4));for(var i=0;i<_f4.childNodes.length;i++){this.tree.setRender(_f4.childNodes[i],false);}this.refreshNaviIcon(_f4);if(_f4.childNodes.length>0){_f4.childNodes[0].rendered=false;this.toggleChild(null,_f4.index,true);}}else{_f4.appendChild(_f5);this.drawContents();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.refreshNaviIcon=function(_f9){["WebSquare.uiplugin.treeview.refreshNaviIcon"];try{if(!_f9){return;}var _fa=_f9.index;var _fb=document.getElementById(this.id+"_node_"+_fa);var _fc=document.getElementById(this.id+"_col_icon_navi_"+_fa);if(_f9.childNodes.length>0){if(!this.options.accessibility){if(_fb){this.removeClass(_fb,"w2treeview_leaf");}if(_fb){this.removeClass(_fb,"w2treeview_last_leaf");}if(_fb){this.removeClass(_fb,"w2treeview_root_single_leaf");}if(_fb){this.removeClass(_fb,"w2treeview_root_multi_leaf");}if(_f9.isFirstChildByRoot()){if(_f9.parentNode.childNodes.length==1){if(_fc){this.changeClass(_fc,"w2treeview_first_leaf","w2treeview_icon_navi");}}else{if(_fc){this.changeClass(_fc,"w2treeview_root_multi_leaf","w2treeview_icon_navi");}}}else{if(_f9.isLastChild()){if(_fc){this.changeClass(_fc,"w2treeview_last_leaf","w2treeview_icon_navi");}}else{if(_fc){this.changeClass(_fc,"w2treeview_leaf","w2treeview_icon_navi");}}}}else{if(_fc){_fc.innerHTML="<img id='"+this.id+"_toggle_"+_fa+"' src='"+this.options.folderOpenToggleImage+"' class='w2treeview_icon_navi_img' />";}}}else{if(!this.options.accessibility){if(_fb){this.changeClass(_fb,"w2treeview_notleaf","w2treeview_leaf");}}else{if(_fc){_fc.innerHTML="<img id='"+this.id+"_toggle_"+_fa+"' src='"+this.options.leafToggleImage+"' class='w2treeview_icon_navi_img' />";}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.removeNode=function(_fd){["WebSquare.uiplugin.treeview.removeNode"];try{if(!_fd){return;}var _fe=_fd.parentNode;if(_fe){var _ff=_fe.index;_fe.removeChild(_fd);if(this.options.dynamicAppend==true){var _100=_fd.index;var _101=document.getElementById(this.id+"_group_"+_100);if(_101){$W.removeChildren(_101);}if(_ff==0){_fe._hasChild=_fe.folder?null:(_fe.childNodes.length!=0);this.drawContents();}else{this.refreshNaviIcon(_fe);}}else{this.drawContents();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.removeNodeList=function(_102){["WebSquare.uiplugin.treeview.removeNodeList"];try{for(var i=0;i<_102.length;i++){if(!_102[i]){continue;}var _104=_102[i].parentNode;if(_104){var _105=_104.index;_104.removeChild(_102[i]);}}this.drawContents();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.initRenderStatus=function(){["WebSquare.uiplugin.treeview.initRenderStatus"];try{var ni=this.tree.getNodeIterator({type:"bfs"});while(ni.next()){var node=ni.getNode();node.rendered=false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getCheckedValues=function(){["WebSquare.uiplugin.treeview.getCheckedValues"];try{var arr=[];var ni=this.tree.getNodeIterator({type:"bfs"});while(ni.next()){var node=ni.getNode();if(node.checked==true){arr.push(node.value);}}return arr;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getCheckedLabels=function(){["WebSquare.uiplugin.treeview.getCheckedLabels"];try{var arr=[];var ni=this.tree.getNodeIterator({type:"bfs"});while(ni.next()){var node=ni.getNode();if(node.checked==true){arr.push(node.label);}}return arr;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getCheckedIndexes=function(){["WebSquare.uiplugin.treeview.getCheckedIndexs"];try{var arr=[];var ni=this.tree.getNodeIterator({type:"bfs"});while(ni.next()){var node=ni.getNode();if(node.checked==true){arr.push(node.index);}}return arr;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getCheckedNodes=function(){["WebSquare.uiplugin.treeview.getCheckedNodes"];try{var arr=[];var ni=this.tree.getNodeIterator({type:"bfs"});while(ni.next()){var node=ni.getNode();if(node.checked==true){arr.push(node.element);}}return arr;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.expandNode=function(_114,_115){["WebSquare.uiplugin.treeview.expandNode"];try{if(typeof _114=="number"){this.toggleChild(null,_114,true);}else{this.toggleChild(_114,null,true);}if(_115){var node=null;if(typeof _114=="number"){node=this.tree.findNodeByIndex(_114);}else{node=this.tree.findNodeByValue(_114);}for(var i=0;i<node.childNodes.length;i++){this.expandNode(node.childNodes[i].index,_115);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.collapseNode=function(_118,_119){["WebSquare.uiplugin.treeview.collapseNode"];try{if(_119){var node=null;if(typeof _118=="number"){node=this.tree.findNodeByIndex(_118);}else{node=this.tree.findNodeByValue(_118);}for(var i=0;i<node.childNodes.length;i++){this.collapseNode(node.childNodes[i].index,_119);}}if(typeof _118=="number"){this.toggleChild(null,_118,false);}else{this.toggleChild(_118,null,false);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getAllXML=function(){["WebSquare.uiplugin.treeview.getAllXML"];try{var _11c=null;if(this.options.dataType=="recursive"){_11c=this.tree.rootNode.element;}else{if(this.options.dataType=="listed"){_11c=this.tree.parseTreeToList();}}return _11c;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.stopRefresh=function(stop){["WebSquare.uiplugin.treeview.stopRefresh"];try{this.refreshStop=$W._G.getBoolean(stop);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.getNextNode=function(node){["WebSquare.uiplugin.treeview.getChildNextNode"];var _11f=null;var _120=node.index;var _121=node.depth;var _122=document.getElementById(this.id+"_node_"+_120);var _123=$W._G.getBoolean(_122.getAttribute("opened"));var ni=this.tree.getNodeIterator({type:"dfs"});var flag=false;while(ni.next()){var _126=ni.getNode();if(!flag){if(_126.index==_120){flag=true;}}else{if(!_123){if(_126.depth<=_121){break;}}else{break;}}}_11f=ni.getNode();return _11f;};$W._a._n.prototype.getPreviousNode=function(node){["WebSquare.uiplugin.treeview.getPreviousNode"];var _128=null;var _129=node.index;var ni=this.tree.getNodeIterator({type:"dfs"});var _12b={};while(ni.next()){var _12c=ni.getNode();if(_12c.index==_129){return _128;}if(!this.options.accessibility){var _12d=document.getElementById(this.id+"_node_"+_12c.index);var _12e=_12d?$W._G.getBoolean(_12d.getAttribute("opened")):false;var _12f=_12c.parentNode?_12c.parentNode.depth:0;if(_12b[_12f]||_12c.depth==0){if(_12c.depth==0){_12e=true;}_12b[_12c.depth]=_12e;_128=_12c;}else{_12b[_12c.depth]=false;}}else{if(document.getElementById(this.id+"_group_"+_12c.index)){_128=_12c;}}}return _128;};$W._a._n.prototype.handleToggleEvent=function(e){["WebSquare.uiplugin.treeview.handleToggleEvent"];try{var _131=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){_131=true;}if(_131&&it.match("w2treeview_node")){var _133=it.getElement().getAttribute("treeNodeValue");var _134=it.getElement().getAttribute("index");this.toggleChild(null,_134);it.stop();}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.handleDblclickEvent=function(e){["WebSquare.uiplugin.treeview.handleDblclickEvent"];try{var _136=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){_136=true;}if(_136&&it.match("w2treeview_node")){$W._c.fireEvent(this,"ondblclick");it.stop();}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.treeview.handleClickEvent"];try{var _139=false;var _13a=false;var _13b=false;var _13c=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){_13c=true;}if(it.match("w2treeview_icon_navi")||it.match("w2treeview_icon_navi_img")){_139=true;}if(it.match("w2treeview_icon_label")){_13a=true;}if(it.match("w2treeview_checkbox")){_13b=true;}if(it.match("w2treeview_node")){var _13e=it.getElement().getAttribute("treeNodeValue");var _13f=it.getElement().getAttribute("index");var node=this.tree.findNodeByIndex(_13f);if(_139&&!node.isLeaf()&&this.options.toggleButtonEvent!="onmousedown"){this.toggleChild(null,_13f);var _141=(node.childNodes&&node.childNodes[0]&&node.childNodes[0].rendered)?true:false;if(!this.inlineElement){$W._c.fireEvent(this,"ontoggleclick",node.element,_13f,_141);}else{$W._c.fireEvent(this,"ontoggleclick",null,_13f,_141);}}if(_13b){if(!node.checkboxDisabled){var _142=!node.checked;this.checkNode(_13f,_142);if(!this.inlineElement){if(this.options.dynamicAppend==true||this.useDataCollection){$W._c.fireEvent(this,"oncheckboxclick",_13e,node.element,_13f);}else{$W._c.fireEvent(this,"oncheckboxclick",_13e,$W._J.findInstanceNode(node.xpath),_13f);}}else{$W._c.fireEvent(this,"oncheckboxclick",_13e,null,_13f);}}}if(_13c){if(!this.inlineElement){$W._c.fireEvent(this,"onlabelclick",_13e,node.element,_13f);}else{$W._c.fireEvent(this,"onlabelclick",_13e,null,_13f);}}if(_13a){if(!this.inlineElement){$W._c.fireEvent(this,"onImageclick",_13e,node.element,_13f);}else{$W._c.fireEvent(this,"onImageclick",_13e,null,_13f);}}var _143=$W._N.getConfiguration("/WebSquare/treeview/useClickEventToggleButton/@value");if(_13c||_13b||_13a||(_139&&_143!="false")){this.selectNode1(null,_13f,false);$W._c.fireEvent(this,"onclick");}it.stop();}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.treeview.handleMouseoverEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){this.addClass(it.getElement(),"w2treeview_over");if(this.options.tooltipDisplay==true){var _146=it.getElement();var left=$W._H.getAbsoluteLeft(_146);var top=$W._H.getAbsoluteTop(_146);var _149=_146.innerHTML;var _14a=$W._H.getAbsoluteLeft(this.render);if(left+_146.offsetWidth>_14a+this.render.clientWidth+this.render.scrollLeft){this.showTooltip(left,top,_149);}else{if(!$W._G.isIE(6)&&!$W._G.isIE(7)){var _14b=_146.style.display;_146.style.display="block";if(_146.clientWidth<_146.scrollWidth){this.showTooltip(left,top,_149);}_146.style.display=_14b;}else{this.hideTooltip();}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.treeview.handleMouseoutEvent"];try{$W._c.stopEvent(e);if(this.options.tooltipDisplay==true){this.hideTooltip();}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){this.removeClass(it.getElement(),"w2treeview_over");}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.handleContextmenuEvent=function(e){["WebSquare.uiplugin.treeview.handleContextmenuEvent"];try{$W._c.stopEvent(e);var _14f=false;var _150=false;var _151=false;var _152=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){_152=true;}if(it.match("w2treeview_icon_navi")){_14f=true;}if(it.match("w2treeview_icon_label")){_150=true;}if(it.match("w2treeview_checkbox")){_151=true;}if(it.match("w2treeview_node")){var _154=it.getElement().getAttribute("treeNodeValue");var _155=it.getElement().getAttribute("index");if(_14f){this.toggleChild(null,_155);}if(_151){var _156=document.getElementById(this.id+"_checkbox_"+_155).checked;this.checkNode(_155,_156);}if(_152||_151||_150){this.selectNode1(null,_155);$W._c.fireEvent(this,"onrightbuttonclick",this.findNodeByIndex(_155),$W._c.getMouseX(e),$W._c.getMouseY(e));}it.stop();}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.treeview.handleKeydownEvent"];try{var _158=(e.charCode)?e.charCode:e.keyCode;var _159=0;var _15a=null;if(this.selectedInfo.node){_15a=this.selectedInfo.groupDom;_159=this.selectedInfo.node.index;}else{_15a=e.srcElement||e.target;_159=_15a.getAttribute("index");}var node=this.tree.findNodeByIndex(_159);if(_158===37||_158===39||_158===13){var _15c=(_158===37)?false:true;if(_158===13){this.toggleChild(null,_159,null);}else{this.toggleChild(null,_159,_15c);}var _15d=(node.childNodes&&node.childNodes[0]&&node.childNodes[0].rendered)?true:false;if(!this.inlineElement){$W._c.fireEvent(this,"ontoggleclick",node.element,_159,_15d);}else{$W._c.fireEvent(this,"ontoggleclick",null,_159,_15d);}$W._c.stopEvent(e);}else{if(_158===38){var _15e=null;if(_159==0){_159=1;_15e=this.tree.findNodeByIndex(_159);}else{if(_15a.id.indexOf("_group_")>-1){_15e=this.getPreviousNode(node);}}if(_15e){var _15f=_15e.index;var _160=document.getElementById(this.id+"_group_"+_15f);if(_160){this.selectNode1(null,_15f,false);}$W._c.stopEvent(e);}}else{if(_158===40){var _15e=null;if(_159==0){_159=1;_15e=this.tree.findNodeByIndex(_159);}else{if(_15a.id.indexOf("_group_")>-1){_15e=this.getNextNode(node);}}if(_15e){var _15f=_15e.index;var _160=document.getElementById(this.id+"_group_"+_15f);if(_160){this.selectNode1(null,_15f,false);}$W._c.stopEvent(e);}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.onPropertyChange=function(_161,_162){["WebSquare.uiplugin.treeview.onPropertyChange"];try{switch(_161){case "disabled":this.options.disabled=_162;if(_162){this.addClass(this.render,"w2treeview_disabled");}else{this.removeClass(this.render,"w2treeview_disabled");}break;case "readOnly":break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._n.prototype.setDisabled=function(_163){["WebSquare.uiplugin.treeview.setDisabled"];_163=$W._G.getBoolean(_163);var ret=$W._t.prototype.setDisabled.call(this,_163);this.disableCheckbox(this.tree.rootNode,_163,true);return ret;};;WebSquare.uiplugin.treeview=$W._a._n;requires("uiplugin.group");requires("uiplugin/treeview/tree.js");requires("uiplugin/graphicUtil/graphicUtil.js");$W._a.bl=function(id,_2,_3){["WebSquare.uiplugin.menu"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bl.prototype,$W._t.prototype);$W._a.bl.prototype.defaultOptions={pluginType:"uiplugin.menu",pluginName:"menu",userEvents:["onleafclick","onbranchclick"],systemEvents:["onclick","onmousemove","onmouseover"],isVertical:false,dataType:"recursive",repeatNode:"",menuHide:true,firstOpenEvent:"onmouseover",menuWidthType:"byWidth",firstMenuGap:10,menuPosition:"manual",keepFirstSelectedMenu:false,hoverOneDepthMenuId:undefined,nowSelectedOneDepthMenuIndex:-1,beforeSelectedOneDepthMenuIndex:-1,selectedMenuIndex:-1,overlapHeight:0,overlapWidth:0,wmode:false};$W._a.bl.prototype.initialize=function(_4){["WebSquare.uiplugin.menu.initialize"];try{this.tree=new $W._q.tree();this.childMenuLayerArr=[];this.timeHide=null;this.mainMenuInfo={defaultStyle:{style:"",className:""},hoverStyle:{style:"",className:""},selectedStyle:{style:"",className:""}};this.childMenuInfo={roundStyle:{borderWidth:"0",borderColor:"#ffffff",fillColor:"#ffffff",arcSize:"0"},defaultStyle:{style:"",className:""},hoverStyle:{style:"",className:""},selectedStyle:{style:"",className:""},childDefaultStyle:{style:"",className:""},childHoverStyle:{style:"",className:""},childSelectedStyle:{style:"",className:""},childStyle:{style:"",className:""},containerStyle:{style:"",className:""}};this.selectedChildNodeList=[];this.directionObject={"direction":-1};this.oneDepthMenuId="";this.selectedMenuDepth=-1;this.maxChildMenuDepth=-1;this.useDataCollection=false;if(_4){var _5=$W.WebSquareparser.parseItemset(_4);this.modelControl.setItemset(_5.nodeset,_5.label,_5.value);var _6="w2:";var _7=$W._B.findNode(_4,_6+"mainMenu");if(_7){for(var _8=_7.firstChild;_8!=null;_8=_8.nextSibling){if(_8.nodeType==1){var _9=$W._B.getLocalName(_8);this.mainMenuInfo[_9]=$W.WebSquareparser.parseAttribute(_8);}}}var _a=$W._B.findNode(_4,_6+"childMenu");if(_a){this.childMenuInfo["onclick"]=$W._B.getValue(_a,"@onclick");try{this.childMenuInfo["onclickFunc"]=null;}catch(e){}for(var _8=_a.firstChild;_8!=null;_8=_8.nextSibling){if(_8.nodeType==1){var _9=$W._B.getLocalName(_8);this.childMenuInfo[_9]=$W.WebSquareparser.parseAttribute(_8);}}}var _b=null;var _c=$W._B.findNode(_4,_6+"itemset");if(_c){var _d=$W._B.getValue(_c,"@nodeset");var _e=null;this.useDataCollection=(_d.match("data:")&&$W._j["comp"][_d.slice("data:".length)]!=undefined);var _f="";if(this.useDataCollection){this.modelControl.getDataCollectionItemsetData(this.modelControl.id);var _10=$W._j["comp"][_d.slice("data:".length)];var _11=_10.options.baseNode+"/"+_10.options.repeatNode;_e=$W._B.findNodes(_10.getAllXML(),_11);_d=_10.options.baseNode+"/"+_10.options.repeatNode;if(_10.options.valueAttribute){_f="/@"+_10.options.valueAttribute;}}else{var _e=$W._J.findInstanceNodes(_d);}var _12=_d.replace(/\[[^\[\]]*\]/g,"").match(/[^\/]*$/);if(_12){_12=_12[0];}var _13=$W._B.getValue(_c,_6+"label/@ref");var _14=$W._B.getValue(_c,_6+"value/@ref");var _15=$W._B.getValue(_c,_6+"depth/@ref");var _16=$W._B.getValue(_c,_6+"auth/@ref");if(_13&&_f&&_13.indexOf(_f)<0){_13=_13+_f;}if(_14&&_f&&_14.indexOf(_f)<0){_14=_14+_f;}if(_15&&_f&&_15.indexOf(_f)<0){_15=_15+_f;}if(_16&&_f&&_16.indexOf(_f)<0){_16=_16+_f;}this.tree.setXPath(_d,_13,_14,_15,_12,false,_16);if(_e!=null){if(this.options.dataType=="recursive"){_b=this.tree.parseRecursiveToTree(_e);}else{if(this.options.dataType=="listed"){_b=this.tree.parseListToTree(_e);}}}}else{_b=_4;}if(_b){this.tree.setXML(_b);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.toHTML=function(){["WebSquare.uiplugin.menu.toHTML"];try{var _17=[];var _18=(this.options.style=="")?"":"style='"+this.options.style+"'";if(this.options.isVertical==true){_17.push("<div id='"+this.id+"' "+_18+" class='w2menu w2menu_vertical "+this.options.className+"'>");}else{_17.push("<div id='"+this.id+"' "+_18+" class='w2menu "+this.options.className+"'>");}_17.push("</div>");return _17.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.setAction=function(){["WebSquare.uiplugin.menu.setAction"];try{var _19=$W._j["comp"][this.modelControl.itemsetObj.nodeset.slice("data:".length)];if(_19&&_19.initializeType==="linkedDataList"){}else{this.drawContents();}if($W._G.isMobile()){this.event.addListener(document.documentElement,"ontouchstart",this.event.bindAsEventListener(this,this.handleClickEventDocument));this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleClickEvent));}else{this.event.addListener(document.documentElement,"onclick",this.event.bindAsEventListener(this,this.handleClickEventDocument));this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}this.event.addListener(this.render,this.options.firstOpenEvent,this.event.bindAsEventListener(this,this.handleFirstOpenEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.refreshItemset=function(){["WebSquare.uiplugin.menu.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){var _1a=null;var _1b=this.tree.getNodeset();var _1c=null;if(this.useDataCollection){var _1d=$W._j["comp"][this.modelControl.itemsetObj.nodeset.slice("data:".length)];var _1e=_1d.options.baseNode+"/"+_1d.options.repeatNode;_1c=$W._B.findNodes(_1d.getAllXML(),_1e);}else{_1c=$W._J.findInstanceNodes(_1b);}if(_1c!=null){if(this.options.dataType=="recursive"){_1a=this.tree.parseRecursiveToTree(_1c);}else{if(this.options.dataType=="listed"){_1a=this.tree.parseListToTree(_1c);}}}this.tree.setXML(_1a);this.removeMenuLayer();this.drawContents();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.refreshItemArr=function(){["WebSquare.uiplugin.menu.refreshItemArr"];try{this.refreshItemset();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.setXML=function(_1f){["WebSquare.uiplugin.menu.setXML"];try{var _20=null;var _21=this.tree.getNodeset();this.removeMenuLayer();var _22=$W._B.findNodes(_1f,_21);if(this.options.dataType=="recursive"){_20=this.tree.parseRecursiveToTree(_22);}else{if(this.options.dataType=="listed"){_20=this.tree.parseListToTree(_22);}}this.tree.setXML(_20);this.drawContents();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.drawContents=function(){["WebSquare.uiplugin.menu.drawContents"];try{this.render.innerHTML=this.mainNodeToHTML(this.tree.rootNode);if(this.options.menuPosition=="manual"){this.setMainMenuPosition();}if(this.options.keepFirstSelectedMenu&&this.options.selectedMenuIndex>-1&&this.options.selectedMenuIndex<this.tree.rootNode.childNodes.length){this.options.nowSelectedOneDepthMenuIndex=this.options.selectedMenuIndex;var _23=this.tree.rootNode.childNodes[this.options.selectedMenuIndex].nodeDom;this.addClass(_23,"w2menu_node_selected");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.setMainMenuPosition=function(){["WebSquare.uiplugin.menu.setMainMenuPosition"];try{if(this.tree.rootNode){var _24=this.tree.rootNode.childNodes.length;var _25=Math.floor(this.render.offsetWidth/_24)-3;var _26=Math.floor(this.render.offsetHeight/_24)-3;var _27=0;var _28=0;var _29=0;var ni=this.tree.getNodeIterator({type:"bfs"});while(ni.next()){var _2b=ni.getNode();if(_2b.depth>1){ni.stop();}if(_2b.depth==1){_2b.nodeDom=document.getElementById(this.id+"_node_"+_2b.index);if(this.options.menuWidthType=="byEverage"){if(this.options.isVertical==true){_2b.nodeDom.style.height=_26+"px";_2b.nodeDom.style.top=(_27*_26)+"px";}else{_2b.nodeDom.style.width=_25+"px";_2b.nodeDom.style.left=(_27*_25)+"px";}_27++;}else{if(this.options.menuWidthType=="byWidth"){if(this.options.isVertical==true){_2b.nodeDom.style.top=_29+"px";_29+=(_2b.nodeDom.offsetHeight+this.options.firstMenuGap);}else{_2b.nodeDom.style.left=_28+"px";_28+=(_2b.nodeDom.offsetWidth+this.options.firstMenuGap);}}else{if(this.options.menuWidthType=="custom"){}}}}}ni=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.setChildMenuPosition=function(_2c,_2d,e,_2f){["WebSquare.uiplugin.menu.setChildMenuPosition"];try{var _30=this.getChild(this.id+"_subLayer");if(_30&&_2c){if(_2d.depth==1){if(this.options.isVertical==true){_30.render.style.top=$W._H.getAbsoluteTop(_2f)+"px";}else{_30.render.style.left=$W._H.getAbsoluteLeft(_2f)+"px";}this.directionObject={"direction":-1};}else{var _31=-1;var _32=0;var _33=1;var _34=$W._H.getAbsoluteLeft(_30.render);var _35=$W._H.getAbsoluteTop(_30.render);var _36=$W._H.getRelativeLeft(_2f,_30.render);var _37=$W._H.getRelativeTop(_2f,_30.render);var _38=_2f.offsetWidth;var _39=(_2c.render.children[0])?_2c.render.children[0].scrollWidth:0;var _3a=document.documentElement.clientWidth||document.body.clientWidth;if(this.directionObject[_2c.render.id]==undefined){this.directionObject[_2c.render.id]=this.directionObject["direction"];}else{this.directionObject["direction"]=this.directionObject[_2c.render.id];}switch(this.directionObject["direction"]){case _31:if(_34+_38+_39>_3a){_36-=_39;this.directionObject["direction"]=_33;}else{_36+=_38;this.directionObject["direction"]=_32;}break;case _32:_34=$W._H.getAbsoluteLeft(_2f.parentElement);if(_34+_38+_39>_3a){_36-=_39;this.directionObject["direction"]=_33;}else{_36+=_38;}break;case _33:_34=$W._H.getAbsoluteLeft(_2f.parentElement);if(_34-_39<0){_36+=_38;this.directionObject["direction"]=_32;}else{_36-=_39;}break;}if(this.directionObject["direction"]==_32){_36-=this.options.overlapWidth;}else{if(this.directionObject["direction"]==_33){_36+=this.options.overlapWidth;}}_37+=this.options.overlapHeight;if(_2f.className.indexOf("w2menu_node_horizon")>0){if(this.directionObject["direction"]==_32){_36-=_2f.offsetWidth;}else{if(this.directionObject["direction"]==_33){_36+=_2f.offsetWidth;}}_37+=_2f.offsetHeight;_2c.render.style.left=_36+"px";_2c.render.style.top=_37+"px";}else{_2c.render.style.left=_36+"px";_2c.render.style.top=_37+"px";}}}if(this.options.wmode){$W.getBody().showWModeFrame("menu",_2c.render);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.mainNodeToHTML=function(_3b){["WebSquare.uiplugin.menu.mainNodeToHTML"];try{if(!_3b){return "";}if(_3b.rendered==true){return "";}_3b.rendered=true;var _3c=[];if(_3b.depth==0){_3c.push("<div class='w2menu_main'>");for(var i=0;i<_3b.childNodes.length;i++){var _3e=_3b.childNodes[i];if(this.authorization){var _3f=this.authFunction(_3e.label,_3e.value,_3e.depth,_3e.auth);if(!_3f){continue;}}_3c.push("<span class='w2menu_node "+this.mainMenuInfo.defaultStyle.className+"' id='"+this.id+"_node_"+_3e.index+"' index='"+_3e.index+"'>");_3c.push("<span class='w2menu_label'>"+_3e.label+"</span>");_3c.push("</span>");}_3c.push("</div>");}return _3c.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.childNodeToHTML=function(_40){["WebSquare.uiplugin.menu.childNodeToHTML"];try{if(!_40){return "";}if(_40.rendered==true){return "";}_40.rendered=true;var _41=[];if(_40.childNodes.length>0){_41.push("<div class='w2menu_depth"+(_40.depth+1)+" w2menu_child'>");_41.push("<div class='w2menu_child_container "+this.childMenuInfo.containerStyle.className+"'>");for(var i=0;i<_40.childNodes.length;i++){var _43=_40.childNodes[i];if(this.authorization){var _44=this.authFunction(_43.label,_43.value,_43.depth,_43.auth);if(!_44){continue;}}var _45="";if(_43.hasChild()){_45=this.childMenuInfo.childDefaultStyle.className;}else{_45=this.childMenuInfo.defaultStyle.className;}if(_43.hasChild()){_41.push("<div class='w2menu_node w2menu_hasChild w2menu_node_icon "+_45+"' id='"+this.id+"_node_"+_43.index+"' index='"+_43.index+"'>");}else{_41.push("<div class='w2menu_node w2menu_node_icon "+_45+"' id='"+this.id+"_node_"+_43.index+"' index='"+_43.index+"'>");}_41.push("<span class='w2menu_label'>"+_43.label+"</span>");_41.push("</div>");}_41.push("</div>");_41.push("</div>");}return _41.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.showAll=function(){["WebSquare.uiplugin.menu.showAll"];try{var _46=this.getChildren();for(var i=0;i<_46.length;i++){if(_46[i].id.indexOf("menuLayer")>-1){_46[i].show();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.hideAll=function(_48){["WebSquare.uiplugin.menu.hideAll"];try{var _49=this.getChildren();for(var i=0;i<_49.length;i++){if(_49[i].id.indexOf("menuLayer")>-1){if(this.options.wmode&&_48){var _4b=_49[i].render.childNodes;if(_4b.length==0){continue;}var _4c=_4b[0].className.split(" ")[0];$W.getBody().removeWModeFrame("menu",_4c);}_49[i].hide();}}var _4d=this.tree.rootNode.childNodes;for(var idx in _4d){if(_4d[idx].nodeDom){this.removeClass(_4d[idx].nodeDom,this.mainMenuInfo.selectedStyle.className);this.removeClass(_4d[idx].nodeDom,this.childMenuInfo.childSelectedStyle.className);this.removeClass(_4d[idx].nodeDom,this.childMenuInfo.childHoverStyle.className);this.removeClass(_4d[idx].nodeDom,this.childMenuInfo.hoverStyle.className);if(this.hoverOneDepthMenuId&&this.hoverOneDepthMenuId===_4d[idx].nodeDom.id){if(this.options.keepFirstSelectedMenu&&this.options.nowSelectedOneDepthMenuIndex>-1){if(_4d[idx].nodeDom.id===_4d[this.options.nowSelectedOneDepthMenuIndex].nodeDom.id){break;}}this.removeClass(_4d[idx].nodeDom,"w2menu_node_selected");}}}for(var idx in this.selectedChildNodeList){this.removeClass(this.selectedChildNodeList[idx],this.childMenuInfo.childSelectedStyle.className);this.removeClass(this.selectedChildNodeList[idx],this.childMenuInfo.childHoverStyle.className);}this.selectedChildNodeList=[];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.showChildMenu=function(_4f,e,_51){["WebSquare.uiplugin.menu.showChildMenu"];try{var _52=this.getChild(this.id+"_"+"menuLayer"+_4f.index);if(!_52){_52=this.makeMenuLayer(_4f,e,_51);}if(!this.options.wmode){this.hideAll();}else{if(_4f.depth==1){if(this.oneDepthMenuId==_51.id||this.oneDepthMenuId==""){this.hideAll();}else{this.hideAll(true);}this.oneDepthMenuId=_51.id;}else{if(this.selectedMenuDepth>_4f.depth){for(var i=_4f.depth+1;i<=this.selectedMenuDepth;i++){$W.getBody().removeWModeFrame("menu","w2menu_depth"+i);}}this.hideAll();}}_52.show();var _54=_4f.parentNode;while(_54&&_54.depth>0){var _55=this.getChild(this.id+"_menuLayer"+_54.index);if(_55){_55.show();if(this.options.wmode){$W.getBody().showWModeFrame("menu",_55.render);}var _56=document.getElementById(this.id+"_node_"+_54.index);if(_56){if(_54.depth==1){this.addClass(_56,this.mainMenuInfo.selectedStyle.className);}else{if(_54.depth>1){this.selectedChildNodeList.push(_56);this.addClass(_56,this.childMenuInfo.childSelectedStyle.className);}}}}_54=_54.parentNode;}if(this.options.wmode){var _57=_4f.depth;if(this.selectedMenuDepth==_57){var _58="w2menu_depth"+(_57+1);var _59;if($W._G.isIE(8)||$W._G.isIE(7)||$W._G.isIE(6)){var _5a=document.getElementsByTagName("div");for(var i=0;i<_5a.length;i++){if(_5a[i].className.split(" ")[0]==_58){_59=_5a[i];}}}else{_59=document.getElementsByClassName(_58)[0];}var _5b=document.getElementById(_58+"_wmode_frame");if(!!_59){if(_59.parentElement.style.display=="none"){if(!!_5b){$W.getBody().removeWModeFrame("menu",_58);}}}}if(this.maxChildMenuDepth!=-1){if(this.maxChildMenuDepth>_57){if(this.maxChildMenuDepth-_57!=1){var _5c="w2menu_depth"+this.maxChildMenuDepth;var _5d=document.getElementById(_5c+"_wmode_frame");if(!!_5d){$W.getBody().removeWModeFrame("menu",_5c);this.maxChildMenuDepth=_57;}}}}this.selectedMenuDepth=_57;if(_4f.childNodes.length>0){if(this.maxChildMenuDepth<(_57+1)){this.maxChildMenuDepth=_57+1;}}else{this.maxChildMenuDepth=_57;}}this.setChildMenuPosition(_52,_4f,e,_51);this.addRoundRect(_52,_4f);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.hideChildMenu=function(_5e){["WebSquare.uiplugin.menu.hideChildMenu"];try{var _5f=this.getChild(this.id+"_menuLayer"+_5e.index);if(_5f){_5f.hide();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.addRoundRect=function(_60,_61){["WebSquare.uiplugin.menu.addRoundRect"];try{if(_61.rounded==true){return;}_61.rounded=true;if(_60&&_60.render.firstChild){var _62=_60.render.firstChild;var idx=_61.index;_62.style.display="block";var gu=new $W._a._j(this.id+"_gu_"+idx,_62,null,{appendMode:"insert"});var _65=_62.offsetWidth-3;var _66=_62.offsetHeight-3;if(this.childMenuInfo.roundStyle.borderWidth>0){gu.drawToolkit.createRoundRect(this.id+"_back_round_"+idx,this.childMenuInfo.roundStyle.borderWidth,1,1,_65,_66,this.childMenuInfo.roundStyle.arcSize,this.childMenuInfo.roundStyle.borderColor,this.childMenuInfo.roundStyle.fillColor,true);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.makeSubLayer=function(e,_68){["WebSquare.uiplugin.menu.makeSubLayer"];try{var _69="w2menu_sub";if(this.options.isVertical==true){_69+=" w2menu_vertical";}var _6a=new $W._a._o(this.id+"_subLayer",{className:_69});_6a.writeTo($W.getBody(),null,this.parentFrame);_6a.activate();var _6b=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(this.render);var _6d=this.render.offsetWidth;var _6e=this.render.offsetHeight;if(this.options.isVertical==true){var _6b=$W._H.getAbsoluteLeft(_68);var top=$W._H.getAbsoluteTop(this.render);var _6d=_68.offsetWidth;_6a.setStyle("left",_6b+_6d+"px");_6a.setStyle("top",top+"px");}else{var _6b=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(_68);var _6e=_68.offsetHeight;_6a.setStyle("left",_6b+"px");_6a.setStyle("top",top+_6e+"px");}if($W._G.isMobile()){_6a.event.addListener(_6a.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleClickEvent));}else{_6a.event.addListener(_6a.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}_6a.event.addListener(_6a.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));_6a.event.addListener(_6a.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.addControl(_6a);return _6a;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.makefakeSubLayer=function(){["WebSquare.uiplugin.menu.makefakeSubLayer"];try{var _6f=this.render.childNodes[0].childNodes[0];var _70="w2menu_sub";if(this.options.isVertical==true){_70+=" w2menu_vertical";}var _71=new $W._a._o(this.id+"_subLayer",{className:_70});_71.writeTo($W.getBody(),null,this.parentFrame);_71.activate();var _72=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(this.render);var _74=this.render.offsetWidth;var _75=this.render.offsetHeight;if(this.options.isVertical==true){var _72=$W._H.getAbsoluteLeft(_6f);var top=$W._H.getAbsoluteTop(this.render);var _74=_6f.offsetWidth;_71.setStyle("left",_72+_74+"px");_71.setStyle("top",top+"px");}else{var _72=$W._H.getAbsoluteLeft(this.render);var top=$W._H.getAbsoluteTop(_6f);var _75=_6f.offsetHeight;_71.setStyle("left",_72+"px");_71.setStyle("top",top+_75+"px");}if($W._G.isMobile()){_71.event.addListener(_71.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleClickEvent));}else{_71.event.addListener(_71.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}_71.event.addListener(_71.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));_71.event.addListener(_71.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.addControl(_71);return _71;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.makeMenuLayer=function(_76,e,_78){["WebSquare.uiplugin.menu.makeMenuLayer"];try{var _79=null;var _7a=this.getChild(this.id+"_subLayer");if(!_7a){_7a=this.makeSubLayer(e,_78);}if(_7a){_79=new $W._a._o(this.id+"_menuLayer"+_76.index,{className:"w2menu_menuLayer"});_79.writeTo(_7a);_79.activate();var _7b=this.childNodeToHTML(_76);if(_7b!=""){_79.render.innerHTML=_7b;}this.addControl(_79);}return _79;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.removeMenuLayer=function(){["WebSquare.uiplugin.menu.removeMenuLayer"];try{this.clearChildren();var _7c=document.getElementById(this.id+"_subLayer");if(!_7c){return;}else{this.removeChildren(_7c);document.body.removeChild(_7c);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.removeChildren=function(_7d){["WebSquare.uiplugin.scatterChart.removeChildren"];try{while(_7d.hasChildNodes()){if(_7d.firstChild!=""){_7d.removeChild(this.removeChildren(_7d.firstChild));}else{_7d.removeChild(_7d.firstChild);}}return _7d;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.showChildMenuHorizontal=function(_7e,_7f){["WebSquare.uiplugin.menu.showChildrenHorizontal"];try{var _80=this.getChild(this.id+"_subLayer");var _81=this.getChild(this.id+"_menuLayer"+_7e);var _82=this.render.childNodes[0].childNodes[0];var _83=this.tree.findNodeByIndex(_7e);if(_7f){if(_81){var _84=_81.render.childNodes[0].childNodes[1];_84.className+=" w2menu_child_container_horizon";var _85=_84.childNodes;for(var i=0;i<_85.length;i++){_85[i].className+=" w2menu_node_horizon";}}else{if(!_80){this.makefakeSubLayer(_82);}this.showChildMenu(_83,null,_82);var _87=this.getChild(this.id+"_"+"menuLayer"+_83.index);this.hideAll();var _84=_87.render.childNodes[0].childNodes[1];_84.className+=" w2menu_child_container_horizon";var _85=_84.childNodes;for(var i=0;i<_85.length;i++){_85[i].className+=" w2menu_node_horizon";}}}else{if(_81){var _84=_81.render.childNodes[0].childNodes[1];_84.className=_84.className.replaceAll("w2menu_child_container_horizon","");var _85=_84.childNodes;for(var i=0;i<_85.length;i++){_85[i].className=_85[i].className.replaceAll("w2menu_node_horizon","");}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.handleFirstOpenEvent=function(e){["WebSquare.uiplugin.menu.handleFirstOpenEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2menu_node")){var _8a=it.getElement();var _8b=_8a.getAttribute("index");var _8c=this.tree.findNodeByIndex(_8b);if(_8c.depth>1){break;}if(_8c.depth==1){this.showChildMenu(_8c,e,_8a);var _8d=document.getElementById(this.id+"_node_"+_8b);if(_8d){this.addClass(_8d,this.mainMenuInfo.selectedStyle.className);}this.hoverOneDepthMenuId=this.id+"_node_"+_8b;}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.handleClickEventDocument=function(e){["WebSquare.uiplugin.menu.handleClickEventDocument"];try{if(!this.event.isMine(e,this.render)){this.hideAll(true);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.menu.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2menu_node")){var _91=it.getElement().getAttribute("index");var _92=this.tree.findNodeByIndex(_91);var _93=_92.value.split("$$");if(_92.isLeaf()){try{if(this.options.keepFirstSelectedMenu){if(this.options.nowSelectedOneDepthMenuIndex>-1){this.options.beforeSelectedOneDepthMenuIndex=this.options.nowSelectedOneDepthMenuIndex;}var _94=this.tree.rootNode.childNodes;while(_92){if(_92.parentNode&&_92.parentNode.index!=0){_92=_92.parentNode;}else{break;}}for(var i=0;i<_94.length;i++){if(_94[i].index===_92.index){this.options.nowSelectedOneDepthMenuIndex=i;}}if(this.options.beforeSelectedOneDepthMenuIndex>-1&&this.options.nowSelectedOneDepthMenuIndex!==this.options.beforeSelectedOneDepthMenuIndex){var _96=this.tree.rootNode.childNodes[this.options.beforeSelectedOneDepthMenuIndex].nodeDom;this.removeClass(_96,"w2menu_node_selected");}}this.hideAll(true);if(this.options.keepFirstSelectedMenu){var _97=this.tree.rootNode.childNodes[this.options.nowSelectedOneDepthMenuIndex].nodeDom;this.addClass(_97,"w2menu_node_selected");}if(!this.childMenuInfo["onclickFunc"]){this.childMenuInfo["onclickFunc"]=eval(this.childMenuInfo["onclick"]);}}catch(e){}if(this.childMenuInfo["onclickFunc"]){this.childMenuInfo["onclickFunc"].apply(this,_93);}$W._c.fireEvent(this,"onleafclick",_93[0],_93[1],_93[2]);it.stop();}else{$W._c.fireEvent(this,"onbranchclick",_93[0],_93[1],_93[2]);}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.menu.handleMouseoverEvent"];try{$W._c.stopEvent(e);if(this.options.menuHide==true&&this.timeHide){clearTimeout(this.timeHide);this.timeHide=null;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2menu_node")){this.addClass(it.getElement(),"w2menu_node_over");var _9a=it.getElement();var _9b=it.getElement().getAttribute("index");var _9c=this.tree.findNodeByIndex(_9b);if(_9c.depth==1){}else{if(_9c.depth>1){this.showChildMenu(_9c,e,_9a);if(_9c.hasChild()){this.addClass(it.getElement(),this.childMenuInfo.childHoverStyle.className);}else{this.addClass(it.getElement(),this.childMenuInfo.hoverStyle.className);}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.menu.handleMouseoutEvent"];try{$W._c.stopEvent(e);var _9e=this;if(this.options.menuHide==true){this.timeHide=setTimeout(function(){_9e.hideAll(true);},500);}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2menu_node")){this.removeClass(it.getElement(),"w2menu_node_over");var _a0=it.getElement();var _a1=it.getElement().getAttribute("index");var _a2=this.tree.findNodeByIndex(_a1);if(_a2.depth==1){}else{if(_a2.depth>1){if(_a2.hasChild()){this.removeClass(it.getElement(),this.childMenuInfo.childHoverStyle.className);}else{this.removeClass(it.getElement(),this.childMenuInfo.hoverStyle.className);}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.closeMenu=function(){this.hideAll();};$W._a.bl.prototype.setSelectedMenuIndex=function(_a3){["WebSquare.uiplugin.menu.setSelectedMenuIndex"];if(!this.options.keepFirstSelectedMenu){return;}if(isNaN(_a3)){return;}if(_a3>-1&&_a3<this.tree.rootNode.childNodes.length){if(this.options.nowSelectedOneDepthMenuIndex>-1){this.options.beforeSelectedOneDepthMenuIndex=this.options.nowSelectedOneDepthMenuIndex;}if(this.options.beforeSelectedOneDepthMenuIndex>-1){var _a4=this.tree.rootNode.childNodes[this.options.beforeSelectedOneDepthMenuIndex].nodeDom;this.removeClass(_a4,"w2menu_node_selected");}this.options.nowSelectedOneDepthMenuIndex=_a3;var _a5=this.tree.rootNode.childNodes[this.options.nowSelectedOneDepthMenuIndex].nodeDom;this.addClass(_a5,"w2menu_node_selected");}};$W._a.bl.prototype.authorize=function(_a6){["WebSquare.uiplugin.menu.authorize"];try{this.authorization=true;this.authFunction=_a6;this.hideAll();this.removeMenuLayer();this.removeMainMenuLayer();this.removeChildMenuLayer(this.tree.rootNode);this.drawContents();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.removeMainMenuLayer=function(){["WebSquare.uiplugin.menu.removeMainMenuLayer"];try{if(this.render){this.render.removeChild(this.render.childNodes[0]);this.tree.rootNode.rendered=false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bl.prototype.removeChildMenuLayer=function(_a7){["WebSquare.uiplugin.menu.removeMainMenuLayer"];try{_a7.rendered=false;var _a8=_a7.childNodes;if(_a8.length>0){for(var i=0;i<_a8.length;i++){this.removeChildMenuLayer(_a8[i]);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.menu=$W._a.bl;requires("uiplugin.group");$W._a._A=function(id,_2,_3){["WebSquare.uiplugin.wframe"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._A.prototype,$W._t.prototype);$W._a._A.prototype.defaultOptions={pluginType:"uiplugin.wframe",pluginName:"wframe",src:"",tagname:"div",mode:"async",scope:false,initScript:""};$W._a._A.prototype.initialize=function(_4){["WebSquare.uiplugin.wframe.initialize "];this.createFlag=false;if(_4&&_4.tagName==="w2:wframe"){this.createFlag=true;}this.frameDoc=null;this.wframeScript=[];this.lazyImportsArr=[];this.childAllControlList=[];this.userComponentList=[];this.userPluginList=[];this.scope={};};$W._a._A.html5={"footer":"div","header":"div","nav":"div","section":"div"};$W._a._A.prototype.toHTML=function(){["WebSquare.uiplugin.wframe.toHTML"];try{var _5=[];var _6=this.options.tagname;var _7=(this.options.style=="")?"":"style='"+this.options.style+"'";if($W._N.browserCheck.ie){var _8=$W._N.browserVersion();if(_8=="6"||_8=="7"||_8=="8"){if($W._a._A.html5[_6]){_6=$W._a._A.html5[_6];}}}_5.push("<"+_6+" id='"+this.id+"' "+_7+" class='w2wframe "+this.options.className+"'>");if(this.createFlag){var _9=this.getChildren();for(var i=0;i<_9.length;i++){_5.push(_9[i].toHTML());}}_5.push("</"+_6+">");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._A.prototype.setAction=function(){["WebSquare.uiplugin.wframe.setAction"];try{if(!this.createFlag){this.setSrc(this.options.src);}else{if(this.frameDoc&&this.frameDoc.scriptSection.wq_trim()!=""){var _b=this.frameDoc.scriptSection;if(this.options.scope){_b="WebSquare.scope_obj="+this.id+";\nwith(WebSquare.util.getComponentById('"+this.id+"').scope){\n var udc_obj = "+this.id+";"+_b+"\n};\nWebSquare.scope_obj=null;\n";}_b=$W.scriptIdentifier+$W._N.getURL(this.getSrc())+"\";"+_b;if($W.scriptSectionExcuteFlag&&$W.scriptSectionExcuteFlag==="executed"){var _c=this.parentControl.parentControl;if(_c.options.pluginName=="wframe"){_c.wframeScript.push(_b);if(this.wframeScript.length>0){for(var i=0;i<this.wframeScript.length;i++){_c.wframeScript+=this.wframeScript[i];}}this.frameDoc.scriptSection="";_c.lazyImportsArr=_c.lazyImportsArr.concat(this.lazyImportsArr);this.lazyImportsArr=[];}else{if(this.wframeScript.length>0){for(var i=0;i<this.wframeScript.length;i++){_b+=this.wframeScript[i];}}$W.BootLoader.globalEval(_b);}}else{if(!$W.wframeScript){$W.wframeScript=[];}$W.wframeScript.push(_b);this.frameDoc.scriptSection="";}}}for(var i=0;i<this.childControlList.length;i++){var _e=this.childControlList[i];if(_e.activeStatus=="stop"){_e.setUserAction();}$W._c.fireEvent(_e,"oncreated",_e.options);$W._c.fireEvent(_e,"onwframeload",this.getSrc());}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._A.prototype.setSrc=function(_f,_10){["WebSquare.uiplugin.wframe.setSrc"];try{_10=_10||{};var _11=this.getSrc();if(!_f||_f==""){return;}this.options.src=_f;_f=this.getSrc();var _12=$W._B.load($W._N.getURL(_f),null);if(_12){for(var i=0;i<this.childControlList.length;i++){$W._c.fireEvent(this.childControlList[i],"onwframeunload",_11);}$W._G.emptySelection();if(_10.removeAll){_10.appendModel="replace";}if(_10.appendModel=="replace"){this.removeFrame_old();}else{this.removeFrame();}this.frameDoc=new $W.WebSquareDocument(_12);this.frameDoc.renderStartTime=new Date();this.frameDoc.parsingWFrame(true,this);if(_10.appendModel==undefined){_10.appendModel=true;}this.appendModels(this.frameDoc.models,null,_10);this.frameDoc.renderBody2(this,true);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._A.prototype.makeFrame=function(){["WebSquare.uiplugin.wframe.makeFrame"];try{var src=this.getSrc();if(src){var _15=$W._B.load($W._N.getURL(src),null);if(_15){this.frameDoc=new $W.WebSquareDocument(_15);this.frameDoc.renderStartTime=new Date();this.frameDoc.parsingWFrame(true,this);this.appendModels(this.frameDoc.models,null,{"appendModel":true});this.frameDoc.renderBody2(this);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._A.prototype.getSrc=function(){["WebSquare.uiplugin.wframe.getSrc"];try{var _16=this.options.src;if(_16==""){return "";}var _17=$W._N.getConfiguration("/WebSquare/pageURLPrefix/@ignoreW2xPath");if($W.pageURLPrefix!==""&&$W.pageURLPrefixType=="function"){var _18=$W.pageURLPrefix;if($W.pageURLPrefix.indexOf("()")==-1){_18=$W.pageURLPrefix+"()";}if(_17.toLowerCase()=="true"){_18=_18.wq_replaceAll("()","(obfuscator_url)");_16=eval("(function(){var obfuscator_url = \""+_16+"\";return "+_18+"})();");}else{_16=eval(_18)+encodeURIComponent(_16);}}else{if($W.pageURLPrefix!==""&&$W.pageURLPrefixType!="function"){_16=$W.pageURLPrefix+encodeURIComponent(_16);}}return _16;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._A.prototype.appendModels=function(_19,_1a,_1b){["WebSquare.uiplugin.wframe.appendModels"];try{_1b=_1b||{};if(_1b.appendModel=="replace"){this.replaceModels(_19);return;}var _1c=$W._J.getModelByID(_1a);if(_1c){for(var i=0;i<_19.length;i++){if(_1b.appendModel){var _1e=_1c.instances[0].document;var _1f=_19[i].instances[0].document.childNodes;for(var j=0;j<_1f.length;j++){_1e.appendChild(_1f[j].cloneNode(true));}}_1c.binds=_1c.binds.concat(_19[i].binds);for(var sm=0;sm<_19[i].submissions.length;sm++){var _22=_19[i].submissions[sm];_22.parentElement=_1c.element;_1c.submissions.push(_22);}for(var wk=0;wk<_19[i].workflows.length;wk++){var _24=_19[i].workflows[wk];_24.parentElement=_1c.element;_1c.workflows.push(_24);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._A.prototype.replaceModels=function(_25){["WebSquare.uiplugin.wframe.replaceModels"];try{$W.WebSquaredoc.models.splice(0,$W.WebSquaredoc.models.length);$W.WebSquaredoc.models=$W.WebSquaredoc.models.concat(_25);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._A.prototype.remove=function(){["WebSquare.uiplugin.wframe.removeFrame"];try{this.removeFrame();if(this.render!=null){$W.removeNode(this.render);}if(this.parentControl){this.parentControl.removeControl(this);}for(var i in $W.getBody().childControlList){if($W.getBody().childControlList[i]==this){$W.getBody().childControlList.splice(i,1);}}this.destroy();$W._G.emptySelection();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._A.prototype.removeFrame=function(){["WebSquare.uiplugin.wframe.removeFrame"];try{$W.logger.printLog("Wframe unloading start.");for(var i=0;i<this.childControlList.length;i++){$W._c.fireEvent(this.childControlList[i],"onpageunload");}for(var i=this.childAllControlList.length-1;i>=0;i--){var _28=$W.idCache[this.childAllControlList[i]];if(!_28){continue;}if(typeof _28.removeFrame=="function"){_28.removeFrame();}$W.isPrintLog=false;if(typeof _28.finalize=="function"){_28.finalize();}$W.isPrintLog=true;if(typeof _28.unbind=="function"){_28.unbind();}if(_28.event){_28.event.clearCache();}if(_28.modelControl){_28.modelControl.unbindRef();_28.modelControl.unbindItemset();}$W.getBody().getLayerListener().remove(_28.id);_28.childControlList=[];var _29={"secret":"input","selectbox":"select1","radio":"select1","multiselect":"select","checkbox":"select","checkcombobox":"select","switch":"Switch"};var _2a=_29[this.options.pluginName]||this.options.pluginName;var arr=$W.WebSquareDocument.componentsCache[_2a]||$W.WebSquareDocument.componentsCache[this._wTagName]||[];for(var idx=0,len=arr.length;idx<len;idx++){if(arr[idx]==this.uuid){arr[idx]=null;arr.splice(idx,1);}}if($W._N.memoryLeakComponent[_2a]){$W._N.memoryLeakComponentCount+=$W._N.memoryLeakComponent[_2a];}window[$W.noConflict]["comp"][_28.id]=null;delete window[$W.noConflict]["comp"][_28.id];window[$W.noConflict]["data"][_28.id]=null;delete window[$W.noConflict]["data"][_28.id];if(window[_28.id]){window[_28.id]=null;}if(_28.render!=null){$W.removeNode(_28.render);}$W.idToUUID[_28.id]=null;delete $W.idToUUID[_28.id];for(var _2d in _28){delete _28[_2d];}_28=null;$W.idCache[this.childAllControlList[i]]=null;delete $W.idCache[this.childAllControlList[i]];}this.childAllControlList=[];this.childControlList=[];this.scope={};for(var i=0;i<this.userComponentList.length;i++){$W._G.loadedUserComponent[this.userComponentList[i]]=null;delete $W._G.loadedUserComponent[this.userComponentList[i]];}this.userComponentList=[];for(var i=0;i<this.userPluginList.push.length;i++){$W._G.loadedUserComponentPluginName[this.userPluginList[i]]=null;delete $W._G.loadedUserComponentPluginName[this.userPluginList[i]];}this.userPluginList=[];if(this.render!=null){$W.removeChildren(this.render);}this.removeCommon();$W.logger.printLog("Wframe unloading finished.");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._A.prototype.removeFrame_old=function(){["WebSquare.uiplugin.wframe.removeFrame"];try{$W.logger.printLog("Wframe unloading start.");for(var i=0;i<this.childControlList.length;i++){$W._c.fireEvent(this.childControlList[i],"onpageunload");}$W._j["stopBroadCast"]=true;$W.dragdrop2={"droppable":{},"scrollable":{},"scrollByDragDelay":300,"scrollByDragSpeed":50};var _2f=$W.getBody();for(var key in $W.idCache){var _31=$W.idCache[key];if(_31===_2f||_31===this){continue;}if(typeof _31.remove=="function"&&_31.remove!=$W._t.prototype.remove&&(!_31.options||(_31.options.pluginName!="wframe"&&_31.options.pluginName!="pageInherit"))){_31.remove();}else{$W.isPrintLog=false;if(typeof _31.finalize=="function"){_31.finalize();}$W.isPrintLog=true;if(typeof _31.unbind=="function"){_31.unbind();}if(_31.event){_31.event.clearCache();}if($W.useVisibleHelper&&_31.render&&_31.render.parentNode&&_31!=$W.bodyControlList[0]){_31.render.parentNode.removeChild(_31.render);}_31.childControlList=[];if(window[_31.id]){window[_31.id]=null;}}}_2f.getLayerListener().removeAll();$W.idCache={};$W.idCache[_2f.uuid]=_2f;$W.idCache[this.uuid]=this;window[$W.noConflict].comp={};window[$W.noConflict].comp[this.id]=this;$W.idToUUID={};$W.idToUUID[_2f.id]=_2f.uuid;$W.idToUUID[this.id]=this.uuid;$W.WebSquaredoc.itemsetElement=[];$W.WebSquaredoc.refElement=[];$W.WebSquareDocument.componentsCache={};$W.WebSquareDocument.componentsCache[_2f.options.pluginName]=[_2f.uuid];$W.WebSquareDocument.componentsCache[this.options.pluginName]=[this.uuid];this.childAllControlList=[];this.childControlList=[];this.scope={};this.userComponentList=[];this.userPluginList=[];if(this.render!=null){$W.removeChildren(this.render);}this.removeCommon();$W._N.clearCommon();$W.logger.printLog("Wframe unloading finished.");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._A.prototype.removeCommon=function(){["WebSquare.uiplugin.wframe.removeCommon"];try{this.wframeScript=[];if(this.frameDoc!=null){var _32=$W.document.getElementsByTagName("head")[0];for(var i=0;i<this.frameDoc.cssList.length;i++){var uri=this.frameDoc.cssList[i].getAttribute("href");for(var idx in $W._y.skinTag){if(uri==$W._y.skinTag[idx]){$W._y.skinTag.splice(idx,1);break;}}_32.removeChild(this.frameDoc.cssList[i]);this.frameDoc.cssList[i]=null;}_32=null;var _36=this.frameDoc.models[0].submissions;var _37=$W.WebSquaredoc.models[0].submissions;for(var i=0;i<_36.length;i++){for(var j=0;j<_37.length;j++){if(_36[i].id===_37[j].id&&_36[i].ref===_37[j].ref){_37[j].dead=true;_37[j].parentElement=null;_37.splice(j,1);break;}}}var _39=this.frameDoc.models[0].workflows;var _37=$W.WebSquaredoc.models[0].workflows;for(var i=0;i<_39.length;i++){for(var j=0;j<_37.length;j++){if(_39[i].id===_37[j].id&&_39[i].ref===_37[j].ref){_37[j].promiseStatus="REJECT";_37[j].parentElement=null;_37.splice(j,1);break;}}}for(var _3a in this.frameDoc){this.frameDoc[_3a]=null;delete this.frameDoc[_3a];}}this.frameDoc=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._A.prototype.onPropertyChange=function(_3b,_3c){["WebSquare.uiplugin.wframe.onPropertyChange"];try{switch(_3b){case "disabled":for(var i=0;i<this.childControlList.length;i++){var _3e=this.childControlList[i];var obj={componentId:_3e.id,disabled:_3c};$W._G.setDisabled(obj);}break;case "readOnly":break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.wframe=$W._a._A;$W.wframeDocument=function(_1,_2){["WebSquare.wframeParser"];this.options=_2;$W.WebSquareDocument.call(this,_1);this.cssList=[];this.scriptSection="";};$W.wframeDocument.inherit($W.WebSquareDocument);$W.wframeDocument.prototype.renderBody=function(_3){["WebSquare.wframeDocument.renderBody"];var _4=$W._B.getElementsByTagName(this.xmlDocument,"body",$W._N._XML_NAMESPACE.XHTML);$W.cssManager.startCache();var _5=$W.controlFactory.create(null,null,_4[0],_3.options.scope?_3:null);$W.cssManager.endCache();_3.addControl(_5);};$W.wframeDocument.prototype.renderBody2=function(_6){["WebSquare.wframeDocument.renderBody2"];var _7=$W._B.getElementsByTagName(this.xmlDocument,"body",$W._N._XML_NAMESPACE.XHTML);$W.cssManager.startCache();var _8=$W.controlFactory.create(null,null,_7[0],_6.options.scope?_6:null);$W.cssManager.endCache();_6.addControl(_8);if(_8){var _9=this;var _a=function(){_8.activate();_8.onComplete();_8.render=null;_6.wframeScript.push(_9.scriptSection);_9.scriptSection=_6.wframeScript.reverse().join("");_9.wframeScript=[];if(_9.scriptSection.wq_trim()!=""){$W.BootLoader.globalEval(_9.scriptSection);}if(_6.lazyImportsArr.length>0){$W._G.js.apply(null,_6.lazyImportsArr);_6.lazyImportsArr=[];}$W._c.fireEvent(_8,"onwframeload",_6.getSrc());};var _b=function(){_6.render.innerHTML=_8.toHTML();if(_9.options.mode=="async"){setTimeout(_a,1);}else{_a();}};if($W.externalScriptArr.length>0){$W.externalScriptArr.push(_b);$W._G.js.apply(null,$W.externalScriptArr);}else{_b();}$W.externalScriptArr=[];return true;}else{return false;}};$W.wframeDocument.prototype.addBodyEvents=function(_c,_d){["WebSquare.wframeDocument.addBodyEvents"];try{if(typeof _d!="undefined"){var s1=$W._N.makeStyle(_d);$W._N.applyStyle(this.render,s1);}var _f=$W.WebSquareparser.parseEvent(_c);$W._c.addEvents(this.render,_f);}catch(e){$W.exception.printStackTrace(e);}};$W.wframeParser=function(_1,_2){["WebSquare.wframeParser"];$W._o.WebSquareParser.call(this);this.frameDoc=_1;this.wframeComponent=_2;};$W.wframeParser.inherit($W._o.WebSquareParser);$W.wframeParser.prototype.parse=function(_3){["WebSquare.wframeParser.parse"];try{if($W._N.browserCheck.ieAllVersion&&$W.BootLoader.useActiveXObject){var _4=$W._N.getNamespaces(_3);var _5="";for(var i in _4){if(i!=""){_5+="xmlns:"+i+"=\""+_4[i]+"\" ";}}_3.setProperty("SelectionLanguage","XPath");_3.setProperty("SelectionNamespaces",_5);}$W._y.importCSS(_3,true);this.parseModels(_3.documentElement);return this.parseScript(_3.documentElement);}catch(e){$W.exception.printStackTrace(e);}};$W.wframeParser.prototype.parseModels=function(_7){["WebSquare.wframeParser.parseModels"];try{var _8=$W._B.getElementsByTagName(_7,"model",$W._N._XML_NAMESPACE.XFORMS);for(var i=0;i<_8.length;i++){this.frameDoc.models.push(this.parseModel(_8[i]));if(this.wframeComponent.options.scope){for(var j=0;j<this.frameDoc.models[i].submissions.length;j++){this.frameDoc.models[i].submissions[j].scope_obj=this.wframeComponent;}for(var j=0;j<this.frameDoc.models[i].workflows.length;j++){this.frameDoc.models[i].workflows[j].scope_obj=this.wframeComponent;}}}}catch(e){$W.exception.printStackTrace(e);}};$W.wframeParser.prototype.parseScript=function(_b){["WebSquare.wframeParser.parseScript"];try{this.frameDoc.scriptSection="";var _c=$W._B.getElementsByTagName(_b,"head",$W._N._XML_NAMESPACE.XHTML);if(_c.length==1){for(var _d=_c[0].firstChild;_d!=null;_d=_d.nextSibling){if((_d.nodeType==1)&&$W._B.matchNode(_d,"script",$W._N._XML_NAMESPACE.XHTML)){var _e=_d.getAttribute("src");if(_e!=null&&_e!=""){var _f=_d.getAttribute("defer");if(_f=="defer"){if($W.scriptSectionExcuteFlag=="executed"){this.wframeComponent.lazyImportsArr.push($W._N.getURL(_e));}else{$W.lazyImportsArr.push($W._N.getURL(_e));}}else{$W.externalScriptArr.push($W._N.getURL(_e));}}else{for(var _10=_d.firstChild;_10!=null;_10=_10.nextSibling){if(_10.nodeType==4||_10.nodeType==3){var _11=_10.nodeValue;if(this.wframeComponent.options.scope){_11="WebSquare.scope_obj="+this.wframeComponent.id+";\nwith(WebSquare.util.getComponentById("+this.wframeComponent.id+").scope){\n"+_11+"\n};\nWebSquare.scope_obj=null;\n";}this.frameDoc.scriptSection+=_11;}}}}}}else{alert($W._m.getMessage("E_Parser_MoreThanOneHeadError",_c.length));return false;}}catch(e){$W.exception.printStackTrace(e);}return true;};$W._a._X=function(id,_2,_3){["WebSquare.uiplugin.window"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._X.prototype,$W._t.prototype);$W._a._X.prototype.defaultOptions={pluginType:"uiplugin.window",pluginName:"window",parseChild:true,userEvents:["onclose","onminimize","onmaximize","onrestore","ondragstart","ondragend","onwindowkeyup","onwindowmousedown","onpopup"],defaultTop:"5px",defaultLeft:"5px",defaultWidth:"300px",defaultHeight:"210px",minimumWidth:"150px",minimumHeight:"150px",frameMode:"iframe",windowTitle:"",statusMsg:"",src:"",wmode:false,useStatusMsg:true,windowTooltipDisplay:true,title:"",dragResizable:true,spa:false};$W._a._X.prototype.initialize=function(_4){["WebSquare.uiplugin.window.initialize"];try{this.frame=null;this.modal=null;this.windowInfo={status:this.options.parent?"maximized":"restored",drag:this.options.parent?false:true,top:this.options.defaultTop,left:this.options.defaultLeft,width:(this.options.defaultWidth.slice(-2)=="px"||this.options.defaultWidth.slice(-1)=="%")?this.options.defaultWidth:parseInt(this.options.defaultWidth,10)+"px",height:(this.options.defaultHeight.slice(-2)=="px"||this.options.defaultHeight.slice(-1)=="%")?this.options.defaultHeight:parseInt(this.options.defaultHeight,10)+"px",minWidth:(parseInt(this.options.minimumWidth,10)<150)?(150+"px"):this.options.minimumWidth,minHeight:(parseInt(this.options.minimumHeight,10)<150)?(150+"px"):this.options.minimumHeight,minimized:false,setInfo:function(_5){this.top=_5.style.top;this.left=_5.style.left;this.width=_5.style.width;this.height=_5.style.height;},getInfo:function(_6){_6.style.top=this.top;_6.style.left=this.left;_6.style.width=this.width;_6.style.height=this.height;}};if(this.options.frameMode=="iframe"){requires("uiplugin.iframe");}else{if(this.options.frameMode=="wframe"){requires("uiplugin.wframe");}}if($W._N.getConfiguration("/WebSquare/spa/@value")=="true"){this.options.spa=true;}if(this.options.parent&&this.options.parent.options.hideTitleOnMaximize){this.hideTitleOnMaximize=true;}if(this.options.parent&&this.options.parent.options.usePopup){this.usePopup=true;}this.buttons=[];this.buttonInfo={};this.hasButtons=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.toHTML=function(){["WebSquare.uiplugin.window.toHTML"];try{var _7=(this.options.disabled=="")?"":"disabled='true'";var _8=[];var _9="";var _a="";var _b=(this.options.style=="")?"":"style='"+this.options.style+"'";if(this.options.windowTooltipDisplay){_a="title='"+this.options.windowTitle+"'";}_8.push("<div "+_7+" id='"+this.id+"' "+_b+" class='w2window w2window_maximized "+this.options.className+"' tabindex='0' role='application' "+_a+">");if(this.options.wmode==true){_9=$W._r.getSSLBlankPage();_8.push("<iframe frameBorder='no' class='w2window_wmode' "+_9+"></iframe>");}var _c="w2window_header";var _d="w2window_body";if(this.hideTitleOnMaximize==true&&this.windowInfo.status=="maximized"){_c+=" w2window_header_extend";_d+=" w2window_body_extend";}_8.push("<div id='"+this.id+"_header' class='"+_c+"'>");_8.push("<div id='"+this.id+"_header_icon' class='w2window_header_icon'></div>");_8.push("<div id='"+this.id+"_header_title' class='w2window_header_title'>"+this.options.windowTitle+"</div>");if(this.hasButtons){_8.push("<div id='"+this.id+"_header_buttonArea' class='w2window_header_buttonArea'>");for(var i=0;i<this.buttonInfo.buttons.length;i++){var _f=this.buttonInfo.buttons[i].value?"<span id='"+this.id+"_header_button_"+i+"_value' class='w2window_header_button_value'  btn_index='"+i+"' > "+this.buttonInfo.buttons[i].value+" </span>":"";_8.push("<div id='"+this.id+"_header_button_"+i+"' class='w2window_header_button w2window_header_button_"+i+"' btn_index='"+i+"' >");_8.push("<div id='"+this.id+"_header_button_"+i+"_content' class='w2window_header_button_content w2window_header_button_content_"+i+"' btn_index='"+i+"' >");_8.push(_f);_8.push("</div>");_8.push("</div>");}_8.push("</div>");}_8.push("<div id='"+this.id+"_header_control' class='w2window_header_control'>");_8.push("<div id='"+this.id+"_minimize' class='w2window_minimize' title='"+$W._m.getMessage("Window_minimize")+"'></div>");_8.push("<div id='"+this.id+"_restore' class='w2window_restore' title='"+$W._m.getMessage("Window_restore")+"' ></div>");_8.push("<div id='"+this.id+"_close' class='w2window_close' title='"+$W._m.getMessage("Window_close")+"' ></div>");if(this.usePopup==true){_8.push("<div id='"+this.id+"_popup' class='w2window_popup' title='"+$W._m.getMessage("Window_popup")+"' ></div>");}_8.push("</div>");_8.push("</div>");if(this.options.useStatusMsg){_8.push("<div id='"+this.id+"_body' class='"+_d+"'>");}else{_8.push("<div id='"+this.id+"_body' class='"+_d+" w2window_no_status'>");}_8.push("<div id='"+this.id+"_content' class='w2window_content'>");_8.push("</div>");if(this.options.useStatusMsg){_8.push("<div id='"+this.id+"_status' class='w2window_status'>");_8.push("<div id='"+this.id+"_msg' class='w2window_msg'>"+this.options.statusMsg+"</div>");_8.push("</div>");}_8.push("</div>");if(this.options.dragResizable){_8.push("<div id='"+this.id+"_resize' class='w2window_resize_right'></div>");_8.push("<div id='"+this.id+"_resize' class='w2window_resize'></div>");_8.push("<div id='"+this.id+"_resize' class='w2window_resize_bottom'></div>");}_8.push("</div>");return _8.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.setAction=function(){["WebSquare.uiplugin.window.setAction"];try{this.dom.header=document.getElementById(this.id+"_header");this.dom.statusMsg=document.getElementById(this.id+"_msg");this.dom.resize=document.getElementById(this.id+"_resize");this.dom.body=document.getElementById(this.id+"_body");this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if(this.options.useMaximize){this.event.addListener(this.render,"ondblclick",this.event.bindAsEventListener(this,this.handleDblclickEvent));}this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedownEvent));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,this.handleSelectStartEvent));this.drawFrame(this.options.src);if(this.hasButtons){for(var i=0;i<this.buttonInfo.buttons.length;i++){var _11=document.getElementById(this.id+"_header_button_"+i+"_content");_11.style.marginTop=-_11.offsetHeight/2+"px";_11.style.marginLeft=-_11.offsetWidth/2+"px";if(this.buttonInfo.buttons[i].value){var _12=document.getElementById(this.id+"_header_button_"+i+"_value");_12.style.marginTop=-_12.offsetHeight/2+"px";_12.style.marginLeft=-_12.offsetWidth/2+"px";}this.buttons.push({"btn_index":i,"disable":false,"hidden":false,"contentDom":_11,"valueDom":_12});}if(this.buttonInfo.alignment=="right"){var _13=document.getElementById(this.id+"_header_control");var _14=document.getElementById(this.id+"_header_buttonArea");$W._H.setStyle(_14,"float","right");$W._H.setStyle(_14,"left","-"+_13.offsetWidth+"px");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.drawFrame=function(src){["WebSquare.uiplugin.window.drawFrame"];try{if(this.frame){this.removeControl(this.frame);this.frame.remove();this.frame=null;}this.options.src=src||"";if(this.options.frameMode=="iframe"){this.frame=new $W._a.bq(this.id+"_iframe",{className:"w2window_iframe",src:this.options.src||"",spa:this.options.spa});}else{if(this.options.frameMode=="wframe"){this.frame=new $W._a._A(this.id+"_iframe",{className:"w2window_iframe",src:this.options.src||""});}}var _16=this.getElementById(this.id+"_content");this.frame.writeTo(_16);this.frame.activate();this.addControl(this.frame);if(this.options.frameMode=="iframe"){try{if($W._G.isIE()){if(this.frame.render.contentWindow.document){this.frame.event.addListener(this.frame.render.contentWindow.document,"onmousedown",this.event.bindAsEventListener(this,this.handleFrameMouseDownEvent));this.frame.event.addListener(this.frame.render.contentWindow.document,"onkeyup",this.event.bindAsEventListener(this,this.handleFrameKeyupEvent));}}else{if(this.frame.render.contentWindow){this.frame.event.addListener(this.frame.render.contentWindow,"onmousedown",this.event.bindAsEventListener(this,this.handleFrameMouseDownEvent));this.frame.event.addListener(this.frame.render.contentWindow,"onkeyup",this.event.bindAsEventListener(this,this.handleFrameKeyupEvent));}}}catch(e){$W.logger.printLog("[window.drawFrame]addListener in iframe exception:"+e.message);}}else{if(this.options.frameMode=="wframe"){}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.resizeForIE6=function(_17,_18,_19){["WebSquare.uiplugin.window.resizeForIE6"];try{if($W._G.isIE(6)){if(!_19){_19="windowContainer";}_17=parseInt(_17,10);_18=parseInt(_18,10);var _1a=this.options.useStatusMsg?0:20;if(_19=="windowContainer"){this.setSize(_17-3,_18-2);}this.dom.windowBody=document.getElementById(this.id+"_body");this.dom.windowContent=document.getElementById(this.id+"_content");this.dom.windowStatus=document.getElementById(this.id+"_status");this.dom.header.style.setAttribute("width",(_17-5)+"px");this.dom.windowBody.style.setAttribute("width",(_17-5)+"px");this.dom.windowBody.style.setAttribute("height",(_18-27)+"px");this.dom.windowContent.style.setAttribute("width",(_17-11)+"px");if(_19=="popup"){this.dom.windowContent.style.setAttribute("height",(_18-31+_1a)+"px");}else{this.dom.windowContent.style.setAttribute("height",(_18-50+_1a)+"px");}if(_19=="popup"){this.frame.setSize(_17-11,_18-31+_1a);}else{this.frame.setSize(_17-11,_18-50+_1a);}if(this.options.useStatusMsg){this.dom.windowStatus.style.setAttribute("width",(_17-11)+"px");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.resizeParentGroup=function(){["WebSquare.uiplugin.window.resizeParentGroup"];try{if(this.parentControl&&this.parentControl.parentControl&&(this.parentControl.parentControl.options.pluginName=="windowContainer"||this.parentControl.parentControl.options.inheritFrom=="windowContainer")){width=$W._H.getSize(this.parentControl.parentControl.render,"width");height=$W._H.getSize(this.parentControl.parentControl.render,"height")-$W._H.getSize(this.parentControl.parentControl.dom.toolBar,"height");return {"width":width,"height":height};}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.close=function(){["WebSquare.uiplugin.window.close"];try{var _1b=this;setTimeout(function(){if(_1b.options){if(_1b.options.closeAction){if(eval(_1b.options.closeAction+"('"+_1b.options.title+"')")!==true){return;}}var _1c=(_1b.options.parent&&_1b.options.parent.options.spaIframeMaxSize>_1b.options.parent.storedFrame.length);if(_1b.options.frameMode=="iframe"){if(_1c){_1b.frame.setSrc($W._r.getBlankXML());}else{_1b.frame.setSrc("about:blank");}}var _1d={"src":_1b.options.src,"title":_1b.options.windowTitle};$W._c.fireEvent(_1b,"onclose",_1d);if(_1c){if(_1b.render){_1b.render.style.display="none";}_1b.options.parent.storedFrame.push(_1b.id);}else{_1b.remove();}}},100);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.forceClose=function(){["WebSquare.uiplugin.window.forceClose"];try{var _1e=this;setTimeout(function(){if(_1e.options.frameMode=="iframe"){_1e.frame.setSrc("about:blank");}var _1f={"src":_1e.options.src,"title":_1e.options.windowTitle};$W._c.fireEvent(_1e,"onclose",_1f);_1e.remove();},100);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.minimize=function(){["WebSquare.uiplugin.window.minimize"];try{if(this.windowInfo.minimized==false){this.setStyle("display","none");this.windowInfo.minimized=true;}else{this.setStyle("display","block");this.windowInfo.minimized=false;}$W._c.fireEvent(this,"onminimize");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.popup=function(){["WebSquare.uiplugin.window.popup"];try{$W._c.fireEvent(this,"onpopup");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.maximize=function(){["WebSquare.uiplugin.window.maximize"];try{this.removeClass(this.render,"w2window_restored");this.addClass(this.render,"w2window_maximized");if(this.hideTitleOnMaximize){this.dom.header.className="w2window_header w2window_header_extend";var _20="w2window_body w2window_body_extend";if(!this.options.useStatusMsg){_20+=" w2window_no_status";}this.dom.body.className=_20;}this.windowInfo.status="maximized";this.windowInfo.drag=false;this.windowInfo.minimized=false;this.windowInfo.setInfo(this.render);this.render.style.left="0px";this.render.style.top="0px";this.render.style.width="";this.render.style.height="";$W._c.fireEvent(this,"onmaximize");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.restore=function(){["WebSquare.uiplugin.window.restore"];try{this.removeClass(this.render,"w2window_maximized");this.addClass(this.render,"w2window_restored");if(this.hideTitleOnMaximize){this.dom.header.className="w2window_header";var _21="w2window_body";if(!this.options.useStatusMsg){_21+=" w2window_no_status";}this.dom.body.className=_21;}this.windowInfo.status="restored";this.windowInfo.drag=true;this.windowInfo.minimized=false;this.windowInfo.getInfo(this.render);$W._c.fireEvent(this,"onrestore");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.toggleResize=function(){["WebSquare.uiplugin.window.toggleResize"];try{if(this.windowInfo.status=="restored"){this.maximize();}else{this.restore();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.setStatusMsg=function(msg){["WebSquare.uiplugin.window.setStatusMsg"];try{if(this.options.useStatusMsg){this.dom.statusMsg.innerHTML=msg;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.setSrc=function(url){["WebSquare.uiplugin.window.setSrc"];try{if(this.frame!=null){if(this.options.frameMode=="iframe"){this.drawFrame(url);}else{if(this.options.frameMode=="wframe"){this.frame.setSrc(url);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.movable=function(_24){["WebSquare.uiplugin.window.movable"];try{_24=$W._G.getBoolean(_24);this.windowInfo.drag=_24;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.showModal=function(){["WebSquare.uiplugin.window.showModal"];try{$W._c.fireEvent(this,"ondragstart");if(!this.modal){this.modal=document.createElement("div");this.modal.id=this.id+"_modal";this.modal.className="w2modal";if($W._G.isIE(6)){this.resizeParentGroup();width=document.documentElement.offsetWidth||0;height=document.documentElement.offsetHeight||0;this.modal.style.width=width+"px";this.modal.style.height=height+"px";this.modal.style.left="-"+this.render.offsetLeft+"px";this.modal.style.top="-"+this.render.offsetTop+"px";}this.render.appendChild(this.modal);$W._H.setOpacity(this.modal,0.3);}if(this.modal){this.modal.style.display="block";if($W._G.isIE(6)){this.resizeParentGroup();width=document.documentElement.offsetWidth||0;height=document.documentElement.offsetHeight||0;this.modal.style.width=width+"px";this.modal.style.height=height+"px";this.modal.style.left="-"+this.render.offsetLeft+"px";this.modal.style.top="-"+this.render.offsetTop+"px";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.hideModal=function(){["WebSquare.uiplugin.window.hideModal"];try{$W._c.fireEvent(this,"ondragend");if(this.modal){this.modal.style.display="none";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.setFocus=function(){["WebSquare.uiplugin.window.setFocus"];try{if(this.options.frameMode=="iframe"){if(this.frame.render.contentWindow){this.frame.render.contentWindow.focus();}}else{if(this.options.frameMode=="wframe"){}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.getMaxSize=function(){["WebSquare.uiplugin.window.prototype.getMaxSize"];var _25;var _26;if(this.parentControl){_25=$W._H.getSize(this.parentControl.render,"width");_26=$W._H.getSize(this.parentControl.render,"height");}else{_25=this.options.width;_26=this.options.height;}if(this.render){var _27=parseInt($W._G.getStyleProperty(this.render,"border-left-width"),10)||0;var _28=parseInt($W._G.getStyleProperty(this.render,"border-right-width"),10)||0;var _29=parseInt($W._G.getStyleProperty(this.render,"padding-left"),10)||0;var _2a=parseInt($W._G.getStyleProperty(this.render,"padding-right"),10)||0;_25=_25-_27-_28-_29-_2a;var _2b=parseInt($W._G.getStyleProperty(this.render,"border-top-width"),10)||0;var _2c=parseInt($W._G.getStyleProperty(this.render,"border-bottom-width"),10)||0;var _2d=parseInt($W._G.getStyleProperty(this.render,"padding-top"),10)||0;var _2e=parseInt($W._G.getStyleProperty(this.render,"padding-bottom"),10)||0;_26=_26-_2b-_2c-_2d-_2e;}return {"width":_25,"height":_26};};$W._a._X.prototype.getElementSize=function(_2f){["WebSquare.uiplugin.window.prototype.getElementWidth"];var _30;var _31;if(!_2f){_2f=this.render;}if(_2f){_30=_2f.offsetWidth;_31=_2f.offsetHeight;var _32=parseInt($W._G.getStyleProperty(_2f,"border-left-width"),10)||0;var _33=parseInt($W._G.getStyleProperty(_2f,"border-right-width"),10)||0;var _34=parseInt($W._G.getStyleProperty(_2f,"padding-left"),10)||0;var _35=parseInt($W._G.getStyleProperty(_2f,"padding-right"),10)||0;_30=_30-_32-_33-_34-_35;var _36=parseInt($W._G.getStyleProperty(_2f,"border-top-width"),10)||0;var _37=parseInt($W._G.getStyleProperty(_2f,"border-bottom-width"),10)||0;var _38=parseInt($W._G.getStyleProperty(_2f,"padding-top"),10)||0;var _39=parseInt($W._G.getStyleProperty(_2f,"padding-bottom"),10)||0;_31=_31-_36-_37-_38-_39;}return {"width":_30,"height":_31};};$W._a._X.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.window.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2window_close")){this.close();}if(it.match("w2window_minimize")){$W._c.stopEvent(e);this.minimize();}if(it.match("w2window_restore")){this.toggleResize();}if(it.match("w2window_popup")){$W._c.stopEvent(e);this.popup();}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.handleFrameMouseDownEvent=function(e){["WebSquare.uiplugin.window.handleFrameMouseDownEvent"];try{$W._c.fireEvent(this,"onwindowmousedown",e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.handleDblclickEvent=function(e){["WebSquare.uiplugin.window.handleDblclickEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_header_button")){return;}if(it.match("w2window_header")){this.toggleResize();}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.window.handleMouseoverEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_minimize")){this.addClass(it.getElement(),"w2window_minimize_on");}if(it.match("w2window_restore")){this.addClass(it.getElement(),"w2window_restore_on");}if(it.match("w2window_close")){this.addClass(it.getElement(),"w2window_close_on");}if(it.match("w2window_popup")){this.addClass(it.getElement(),"w2window_popup_on");}if(it.match("w2window_header_button_content")){var _41=it.getElement();var _42=this.buttons[Number(_41.getAttribute("btn_index"))];if(!_42.disable){this.addClass(_41,"w2window_header_button_content_on");}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.window.handleMouseoutEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_minimize")){this.removeClass(it.getElement(),"w2window_minimize_on");}if(it.match("w2window_restore")){this.removeClass(it.getElement(),"w2window_restore_on");}if(it.match("w2window_close")){this.removeClass(it.getElement(),"w2window_close_on");}if(it.match("w2window_popup")){this.removeClass(it.getElement(),"w2window_popup_on");}if(it.match("w2window_header_button_content")){var _45=it.getElement();var _46=this.buttons[Number(_45.getAttribute("btn_index"))];if(!_46.disable){this.removeClass(_45,"w2window_header_button_content_on");}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.handleMousedownEvent=function(e){["WebSquare.uiplugin.window.handleMousedownEvent"];try{$W._c.stopEvent(e);this.resizeParentGroup();var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_header")){if(this.windowInfo.drag==true){var _49=$W._c.getTarget(e);if(!_49||_49.id==this.id+"_minimize"||_49.id==this.id+"_restore"||_49.id==this.id+"_close"||_49.id==this.id+"_popup"){return;}var _4a=this;$W._K.gDragManager.activate(e,this.render,{id:this.id+"_drag",className:"w2drag_resize",delay:5,mode:"move",makeGhostLayer:function(_4b){var _4c=$W._H.getAbsoluteLeft(_4a.render);var top=$W._H.getAbsoluteTop(_4a.render);var _4e=_4a.getElementSize(_4a.render);var _4f=_4e.width;var _50=_4e.height;var _51=parseInt($W._G.getStyleProperty(_4b.render,"border-left-width"),10)||0;var _52=parseInt($W._G.getStyleProperty(_4b.render,"border-right-width"),10)||0;var _53=parseInt($W._G.getStyleProperty(_4b.render,"border-top-width"),10)||0;var _54=parseInt($W._G.getStyleProperty(_4b.render,"border-bottom-width"),10)||0;_4f=_4f-_51-_52;_50=_50-_53-_54;_4b.show();_4b.setSize(_4f,_50);_4b.setPosition(_4c,top);_4b.hide();return _4b;},handleStart:function(){_4a.showModal.call(_4a);},handleFinish:function(x,y,dx,dy){_4a.hideModal.call(_4a);var _59=_4a.render.offsetLeft;var top=_4a.render.offsetTop;var _5b=_4a.render.clientWidth;var _5c=_4a.render.clientHeight;var _5d=_4a.getMaxSize();var _5e=_5d.width;var _5f=_5d.height;var _60=_59+dx;var _61=top+dy;if(_59+dx<0){_60=0;}if(_59+_5b+dx>_5e){if(_5b<=_5e){_60=_5e-_5b;}else{_60=0;}}if(top+dy<0){_61=0;}if(top+_5c+dy>_5f){if(_5c<=_5f){_61=_5f-_5c;}else{_61=0;}}_4a.setPosition(_60,_61);}});}}if(it.match("w2window_header_button")){var _62=it.getElement();var _63=_62.getAttribute("btn_index");var _64=this.buttons[Number(_63)];if(!_64.disable){try{var _65=this.buttonInfo.buttons[_63].clickAction;switch(typeof _65){case "function":_65.apply(this,this);break;case "string":default:eval(_65+"( this ); ");break;}}catch(e){$W.exception.printStackTrace(e,null,this);}}return;}if(it.match("w2window_resize")){if(this.windowInfo.drag==true){var _4a=this;$W._K.gDragManager.activate(e,this.render,{id:this.id+"_drag",className:"w2drag_resize",mode:"resize",makeGhostLayer:function(_66){var _67=$W._H.getAbsoluteLeft(_4a.render);var top=$W._H.getAbsoluteTop(_4a.render);var _69=_4a.getElementSize(_4a.render);var _6a=_69.width;var _6b=_69.height;var _6c=parseInt($W._G.getStyleProperty(_66.render,"border-left-width"),10)||0;var _6d=parseInt($W._G.getStyleProperty(_66.render,"border-right-width"),10)||0;var _6e=parseInt($W._G.getStyleProperty(_66.render,"border-top-width"),10)||0;var _6f=parseInt($W._G.getStyleProperty(_66.render,"border-bottom-width"),10)||0;_6a=_6a-_6c-_6d;_6b=_6b-_6e-_6f;_66.setSize(_6a,_6b);_66.setPosition(_67,top);return _66;},handleStart:function(){_4a.showModal.call(_4a);},handleFinish:function(x,y,dx,dy,e){_4a.hideModal.call(_4a);var _75=parseInt(_4a.getStyle("width"),10);var _76=parseInt(_4a.getStyle("height"),10);var _77=_75+dx;var _78=_76+dy;if(_77<parseInt(_4a.windowInfo.minWidth,10)){_77=parseInt(_4a.windowInfo.minWidth,10);}if(_78<parseInt(_4a.windowInfo.minHeight,10)){_78=parseInt(_4a.windowInfo.minHeight,10);}var _79=_4a.getMaxSize();var _7a=_79.width-_4a.render.offsetLeft;var _7b=_79.height-_4a.render.offsetTop;var _7c=_4a.render.clientWidth+dx;var _7d=_4a.render.clientHeight+dy;if(_7a<_7c){_77=_7a;}if(_7b<_7d){_78=_7b;}_4a.setSize(_77,_78);}});}}if(it.match("w2window_resize_right")){if(this.windowInfo.drag==true){var _4a=this;$W._K.gDragManager.activate(e,this.render,{id:this.id+"_drag",className:"w2drag_resize",mode:"resize_right",makeGhostLayer:function(_7e){var _7f=$W._H.getAbsoluteLeft(_4a.render);var top=$W._H.getAbsoluteTop(_4a.render);var _81=_4a.getElementSize(_4a.render);var _82=_81.width;var _83=_81.height;var _84=parseInt($W._G.getStyleProperty(_7e.render,"border-left-width"),10)||0;var _85=parseInt($W._G.getStyleProperty(_7e.render,"border-right-width"),10)||0;var _86=parseInt($W._G.getStyleProperty(_7e.render,"border-top-width"),10)||0;var _87=parseInt($W._G.getStyleProperty(_7e.render,"border-bottom-width"),10)||0;_82=_82-_84-_85;_83=_83-_86-_87;_7e.setSize(_82,_83);_7e.setPosition(_7f,top);return _7e;},handleStart:function(){_4a.showModal.call(_4a);},handleFinish:function(x,y,dx,dy,e){_4a.hideModal.call(_4a);var _8d=parseInt(_4a.getStyle("width"),10);var _8e=parseInt(_4a.getStyle("height"),10);var _8f=_8d+dx;if(_8f<parseInt(_4a.windowInfo.minWidth,10)){_8f=parseInt(_4a.windowInfo.minWidth,10);}var _90=_4a.getMaxSize();var _91=_90.width-_4a.render.offsetLeft;var _92=_90.height-_4a.render.offsetTop;var _93=_4a.render.clientWidth+dx;var _94=_4a.render.clientHeight+dy;if(_91<_93){_8f=_91;}_4a.setSize(_8f,_8e);}});}}if(it.match("w2window_resize_bottom")){if(this.windowInfo.drag==true){var _4a=this;$W._K.gDragManager.activate(e,this.render,{id:this.id+"_drag",className:"w2drag_resize",mode:"resize_bottom",makeGhostLayer:function(_95){var _96=$W._H.getAbsoluteLeft(_4a.render);var top=$W._H.getAbsoluteTop(_4a.render);var _98=_4a.getElementSize(_4a.render);var _99=_98.width;var _9a=_98.height;var _9b=parseInt($W._G.getStyleProperty(_95.render,"border-left-width"),10)||0;var _9c=parseInt($W._G.getStyleProperty(_95.render,"border-right-width"),10)||0;var _9d=parseInt($W._G.getStyleProperty(_95.render,"border-top-width"),10)||0;var _9e=parseInt($W._G.getStyleProperty(_95.render,"border-bottom-width"),10)||0;_99=_99-_9b-_9c;_9a=_9a-_9d-_9e;_95.setSize(_99,_9a);_95.setPosition(_96,top);return _95;},handleStart:function(){_4a.showModal.call(_4a);},handleFinish:function(x,y,dx,dy,e){_4a.hideModal.call(_4a);var _a4=parseInt(_4a.getStyle("width"),10);var _a5=parseInt(_4a.getStyle("height"),10);var _a6=_a5+dy;if(_a6<parseInt(_4a.windowInfo.minHeight,10)){_a6=parseInt(_4a.windowInfo.minHeight,10);}var _a7=_4a.getMaxSize();var _a8=_a7.width-_4a.render.offsetLeft;var _a9=_a7.height-_4a.render.offsetTop;var _aa=_4a.render.clientWidth+dx;var _ab=_4a.render.clientHeight+dy;if(_a9<_ab){_a6=_a9;}_4a.setSize(_a4,_a6);}});}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.handleMouseupEvent=function(e){["WebSquare.uiplugin.window.handleMouseupEvent"];try{$W._c.stopEvent(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.handleFrameKeyupEvent=function(e){["WebSquare.uiplugin.window.handleFrameKeyupEvent"];try{$W._c.fireEvent(this,"onwindowkeyup",e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.handleSelectStartEvent=function(e){["WebSquare.uiplugin.window.handleSelectStartEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_header")||it.match("w2window_status")){$W._c.preventDefault(e);}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.setWindowTitle=function(_b0){["WebSquare.uiplugin.window.setWindowTitle"];try{var _b1=document.getElementById(this.id+"_header_title");if(_b1){_b1.innerHTML=_b0;this.options.windowTitle=_b0;if(this.options.windowTooltipDisplay&&this.render){this.render.setAttribute("title",_b0);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._X.prototype.setButtonCondition=function(_b2,_b3,_b4){["WebSquare.uiplugin.window.setButtonCondition"];try{var _b5=this.buttons[Number(_b3)];if(_b5){var _b6=_b5.contentDom;var _b4=$W._G.getBoolean(_b4);switch(_b2){case "hidden":_b5.visisble=_b4;if(_b4){_b6.parentNode.style.display="none";}else{_b6.parentNode.style.display="inline-block";}break;case "disabled":_b5.disable=_b4;if(_b4){this.addClass(_b6,"w2window_header_button_disabled");}else{this.removeClass(_b6,"w2window_header_button_disabled");}break;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.window=$W._a._X;requires("uiplugin.window");requires("uiplugin.group");$W._a.aM=function(id,_2,_3){["WebSquare.uiplugin.windowContainer"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aM.prototype,$W._t.prototype);$W._a.aM.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.windowContainer",pluginName:"windowContainer",userEvents:["onCloseWindow","onwindowkeyup","onwindowchange","onbeforecloseall"],useConfirmMessage:true,confirmTrueAction:"existWindow",confirmFalseAction:"newWindow",windowMaxNum:5,confirmMessage:"#title \ud654\uba74\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4. \uae30\uc874\uc758 \ucc3d\uc744 \uc0ac\uc6a9\ud558\uc2dc\ub824\uba74 '\ud655\uc778'\uc744 \uc0c8\ub85c\uc6b4 \ucc3d\uc744 \uc0ac\uc6a9\ud558\uc2dc\ub824\uba74 '\ucde8\uc18c'\ub97c \uc120\ud0dd\ud558\uc138\uc694",lineBreakNum:4,useNameScroll:false,useCloseButton:false,useFixButton:false,useNameContainer:false,controlIconPosition:"left",fixArrangeFullScreen:false,verticalArrangeNum:2,horizontalArrangeNum:2,sequentialArrangeRowNum:2,sequentialArrangeColNum:2,windowAutoResize:false,toolbarPosition:"bottom",positionX:"none",positionY:"none",windowMaximizeAll:false,stopMinimizeOnNameLayer:false,stopToggleOnLast:false,defaultTop:"5px",defaultLeft:"5px",defaultWidth:"300px",defaultHeight:"210px",minimumWidth:"150px",minimumHeight:"150px",frameMode:"iframe",hideTitleOnMaximize:false,usePopup:false,closeWindowOnPopup:false,tooltipDisplay:true,tooltipStyle:"border:2px solid #7BAFE4; background-color:#ffffff;cursor:default;",tooltipClass:"",tooltipTime:1,tooltipGroupClass:true,windowTooltipDisplay:true,confirmMessageLocaleRef:"",wmode:false,selectedIndex:-1,useStatusMsg:true,statusMsg:"",nameScrollMode:"",useControlIconTitle:false,spa:false,spaIframeMaxSize:0,spaIframeMinSize:0,spaInitCount:0};$W._a.aM.prototype.initialize=function(_4){["WebSquare.uiplugin.windowContainer.initialize"];try{this.windows=[];this.fixedWindowArr=[];this.beforeWindow=null;this.nowWindow=null;this.selectedWindowHistory=[];this.selectedIndex=-1;this.windowIdx=0;this.maxZIndex=0;this.currentWindowNum=0;this.tooltip=null;this.timeShowTooltip=null;if(this.options.confirmMessageLocaleRef!=null&&this.options.confirmMessageLocaleRef!=""){this.options.confirmMessage=this.getLocaleValue(this.options.confirmMessageLocaleRef);}var _5="w2windowContainer_window";if(this.options.toolbarPosition=="top"){_5+="_top";}var _6=new $W._a._o(this.id+"_window",{className:_5,style:"background-color : transparent"});this.addControl(_6);this.options=$W.cssManager.styleToClass(this.id,this.options);if(_4&&_4.getAttribute("statusMsg")=="$blank"){this.defaultStatusMsg="";}else{this.defaultStatusMsg=this.options.statusMsg||$W._m.getMessage("Window_statusMsg");}if(this.options.spaIframeMinSize>this.options.spaIframeMaxSize){this.options.spaIframeMaxSize=this.options.spaIframeMinSize;}if(this.options.spaInitCount>0){this.options.spaIframeMaxSize=this.options.spaIframeMinSize=this.options.spaInitCount;}if($W._N.getConfiguration("/WebSquare/spa/@value")=="true"||this.options.spaIframeMaxSize>0){this.options.spa=true;}this.storedFrame=[];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.toHTML=function(){["WebSquare.uiplugin.windowContainer.toHTML"];try{var _7=(this.options.disabled=="")?"":"disabled='true'";var _8=(this.options.disabled="")?"":"style='color:#848684'";var _9=[];var _a={vertical:"",horizontal:"",cascade:"",sequential:"",closeAll:"",maximize:""};var _b=(this.options.style=="")?"":"style='"+this.options.style+"'";var _c=(this.options.tabIndex=="")?"":"tabIndex='"+this.options.tabIndex+"'";if(this.options.useControlIconTitle){function makeTitle(_d){return " title='"+_d+"'";}_a.maximize=makeTitle($W._m.getMessage("WindowContainer_controlIcon_maximize"));_a.vertical=makeTitle($W._m.getMessage("WindowContainer_controlIcon_vertical"));_a.horizontal=makeTitle($W._m.getMessage("WindowContainer_controlIcon_horizontal"));_a.cascade=makeTitle($W._m.getMessage("WindowContainer_controlIcon_cascade"));_a.sequential=makeTitle($W._m.getMessage("WindowContainer_controlIcon_sequential"));_a.closeAll=makeTitle($W._m.getMessage("WindowContainer_controlIcon_closeAll"));}var _e="w2windowContainer_windowToolbar";if(this.options.toolbarPosition=="top"){_e+="_top";}var _f="";var _10="";if(this.options.useNameContainer&&this.options.controlIconPosition=="right"){_f=" w2windowContainer_controlIconLayer_right";_10=(this.options.hideTitleOnMaximize)?" w2windowContainer_nameContainer_right_maximizeBtn":" w2windowContainer_nameContainer_right";}var _11="w2windowContainer_controlIconLayer";var _12="w2windowContainer_scrollLeftBtn";if(this.options.hideTitleOnMaximize){_11+=" w2windowContainer_controlIconLayer_extend";_12+=" w2windowContainer_scrollLeftBtn_extend";}_9.push("<div id='"+this.id+"' "+_b+" class='w2windowContainer "+this.options.className+"' "+_c+">");_9.push(this.getChild(this.id+"_window").toHTML());_9.push("<div id='"+this.id+"_toolbar' class='"+_e+"'>");_9.push("<div id='"+this.id+"_controlIcon' class='"+_11+_f+"'>");_9.push("<span id='"+this.id+"_vertical' class='w2windowContainer_controlIcon_vertical'"+_a.vertical+"></span>");_9.push("<span id='"+this.id+"_horizontal' class='w2windowContainer_controlIcon_horizontal'"+_a.horizontal+"></span>");_9.push("<span id='"+this.id+"_cascade' class='w2windowContainer_controlIcon_cascade'"+_a.cascade+"></span>");_9.push("<span id='"+this.id+"_sequential' class='w2windowContainer_controlIcon_sequential'"+_a.sequential+"></span>");_9.push("<span id='"+this.id+"_closeAll' class='w2windowContainer_controlIcon_closeAll'"+_a.closeAll+"></span>");if(this.options.hideTitleOnMaximize){_9.push("<span id='"+this.id+"_maximize' class='w2windowContainer_controlIcon_maximize'"+_a.maximize+"></span>");}_9.push("</div>");if(this.options.useNameContainer){_9.push("<div id='"+this.id+"_nameContainer' class='w2windowContainer_nameContainer"+_10+"'>");}_9.push("<div id='"+this.id+"_left' style='display:none;' class='"+_12+"'></div>");_9.push("<div id='"+this.id+"_name' class='w2windowContainer_name'></div>");_9.push("<div id='"+this.id+"_right' style='display:none;' class='w2windowContainer_scrollRightBtn'></div>");if(this.options.useNameContainer){_9.push("</div>");}_9.push("</div>");_9.push("</div>");return _9.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.setAction=function(){["WebSquare.uiplugin.windowContainer.setAction"];try{this.dom.toolBar=this.getElementById(this.id+"_toolbar");this.dom.nameBar=this.getElementById(this.id+"_name");this.dom.window=this.getElementById(this.id+"_window");this.dom.control=this.getElementById(this.id+"_controlIcon");this.dom.leftScrollBtn=this.getElementById(this.id+"_left");this.dom.rightScrollBtn=this.getElementById(this.id+"_right");this.dom.iconVertical=this.getElementById(this.id+"_vertical");this.dom.iconHorizontal=this.getElementById(this.id+"_horizontal");this.dom.iconCascade=this.getElementById(this.id+"_cascade");this.dom.iconSequential=this.getElementById(this.id+"_sequential");this.dom.iconCloseAll=this.getElementById(this.id+"_closeAll");if(this.options.hideTitleOnMaximize){this.dom.iconMaximize=this.getElementById(this.id+"_maximize");}this.dom.nameScrollLeft=this.getElementById(this.id+"_left");this.dom.nameScrollRight=this.getElementById(this.id+"_right");this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseOverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOutEvent));this.checkResize();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.onComplete=function(){["WebSquare.uiplugin.windowContainer.onComplete"];$W._N.setTimer(this.makeIframe,{key:this.id+"_makeIframe",caller:this,delay:10});};$W._a.aM.prototype.makeIframe=function(){["WebSquare.uiplugin.windowContainer.makeIframe"];var _13=this.storedFrame.length;if(this.options.spaIframeMinSize>_13+this.windows.length){var _14=this.id+"_subWindow"+(this.windowIdx++);var _15=this._createSubWindow("temp",null,$W._r.getBlankXML());if(_15&&_15.render){_15.render.style.display="none";}this.storedFrame.push(_15.id);$W._N.setTimer(this.makeIframe,{key:this.id+"_makeIframe",caller:this,delay:50});}};$W._a.aM.prototype.createWindow=function(_16,_17,src,_19,_1a,_1b,_1c,_1d){["WebSquare.uiplugin.windowContainer.createWindow"];try{var _19=_19||_16;var _1a=_1a||_16;var _1e=null;for(var i=0;i<this.windows.length;i++){var _20=this.windows[i];if(_1a==_20.windowId){_1e=_20;}}if(_1e!=null){if(_1b!=null&&_1b!=""){this.performAction(_1b,_1e,_16,_17,src,_19,_1a,_1d);}else{var _21=this.options.confirmMessage;while(_21.indexOf("#title")!=-1){_21=_21.replace("#title",_16);}var _22=true;if(this.options.useConfirmMessage==true){_22=confirm(_21);}if(_22){this.performAction(this.options.confirmTrueAction,_1e,_16,_17,src,_19,_1a,_1d);}else{this.performAction(this.options.confirmFalseAction,_1e,_16,_17,src,_19,_1a,_1d);}}}else{this._createWindow(_16,_17,src,_19,_1a,_1c,_1d);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.performAction=function(_23,_24,_25,_26,src,_28,_29,_2a){["WebSquare.uiplugin.windowContainer.performAction"];try{if(_23=="selectWindow"){this.selectNameLayer(_24.id);}else{if(_23=="existWindow"){if(_24.isFix){_24.isFix=false;for(var i=0;i<this.fixedWindowArr.length;i++){if(this.fixedWindowArr[i].id==_24.id){this.fixedWindowArr.splice(i,1);break;}}}this.selectNameLayer(_24.id);_24.window.setStatusMsg(this.defaultStatusMsg);_24.window.setSrc(src);var _2a=_2a||_28;this.setWindowLabel(_29,"toolbar",_25);this.setWindowLabel(_29,"window",_28);this.setWindowLabel(_29,"tooltip",_2a);}else{if(_23=="newWindow"){this._createWindow(_25,_26,src,_28,_29,_2a);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype._createWindow=function(_2c,_2d,src,_2f,_30,_31,_32){["WebSquare.uiplugin.windowContainer._createWindow"];try{var _33=_2f.wq_replaceAll("&nbsp;","");if(this.options.windowMaxNum!=-1&&this.currentWindowNum>this.options.windowMaxNum-1){alert($W._m.getMessage("WindowContainer_maxNum_warning",this.options.windowMaxNum));return;}var _34=null;if(this.storedFrame.length>0){_34=$W._G.getComponentById(this.storedFrame.shift());_34.options.closeAction=_31;_34.options.title=_2c;_34.setWindowTitle(_2f);_34.frame.setSrc(src);if(_34.render){_34.render.style.display="";}}else{_34=this._createSubWindow(_2c,_2d,src,_33,_30,_31,_32);}var _35=_34.id;this.currentWindowNum++;var _36={};_36.id=_35;_36.windowId=_30;_36.windowTitle=_2f;_36.title=_2c;_36.window=_34;_36.tooltip=_32||_2f;_36.isFix=false;this.windows.push(_36);this.createNameLayer();this.beforeWindow=this.nowWindow;this.nowWindow=_35;this.selectWindow();if(this.beforeWindow!=this.nowWindow){var _37=this.beforeWindow?this.getWinInfoObj(this.beforeWindow).windowId:null;var _38=this.getWinInfoObj(this.nowWindow).windowId;$W._c.fireEvent(this,"onwindowchange",_37,_38);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype._createSubWindow=function(_39,_3a,src,_3c,_3d,_3e,_3f){["WebSquare.uiplugin.windowContainer._createSubWindow"];var _40=this.id+"_subWindow"+(this.windowIdx++);var _41=new $W._a._X(_40,{windowTitle:_3c,src:src,useStatusMsg:this.options.useStatusMsg,statusMsg:(this.defaultStatusMsg=="")?"":this.defaultStatusMsg,defaultTop:this.options.defaultTop,defaultLeft:this.options.defaultLeft,defaultWidth:this.options.defaultWidth,defaultHeight:this.options.defaultHeight,minimumWidth:this.options.minimumWidth,minimumHeight:this.options.minimumHeight,frameMode:this.options.frameMode,wmode:this.options.wmode,width:(this.render.offsetWidth),height:(this.render.offsetHeight-25),closeAction:_3e,title:_39,parent:this,windowTooltipDisplay:this.options.windowTooltipDisplay,spa:this.options.spa});var _42=this;_41.options.xmlEvents=[{name:"onclose",action:"script",param:{handler:function(e){try{$W._c.fireEvent(_42,"onCloseWindow",e);_42.removeNameLayer(this.id);for(var i=0;i<_42.fixedWindowArr.length;i++){if(_42.fixedWindowArr[i].id==this.id){_42.fixedWindowArr.splice(i,1);break;}}_42.createNameLayer();_42.selectWindow();var _45=_42.nowWindow?_42.getWinInfoObj(_42.nowWindow).windowId:null;$W._c.fireEvent(_42,"onwindowchange",_42.closedWindowId,_45);_42.setFocus(_42.getSelectedIndex());}catch(ee){$W.exception.printStackTrace(ee,null,_42);}}}},{name:"onwindowkeyup",action:"script",param:{handler:function(e){try{$W._c.fireEvent(_42,"onwindowkeyup",e);}catch(ee){$W.exception.printStackTrace(ee,null,_42);}}}},{name:"onwindowmousedown",action:"script",param:{handler:function(e){try{_42.selectNameLayer(this.id);}catch(ee){$W.exception.printStackTrace(ee,null,_42);}}}},{name:"onminimize",action:"script",param:{handler:function(e){_42._onminimize(this.id);}}},{name:"onmaximize",action:"script",param:{handler:function(e){_42._onmaximize(this.id);}}},{name:"ondragstart",action:"script",param:{handler:function(e){_42.selectNameLayer(this.id);_42.handleDragStartEvent();}}},{name:"ondragend",action:"script",param:{handler:function(e){_42.handleDragEndEvent();}}},{name:"onpopup",action:"script",param:{handler:function(e){_42._onpopup(this.id);}}}];_41.writeTo(this.getChild(this.id+"_window"));_41.activate();return _41;};$W._a.aM.prototype.setWindowLabel=function(_4d,_4e,_4f){["WebSquare.uiplugin.windowContainer.setWindowLabel"];try{if(!_4d||!_4e||!_4f){return;}var _50;for(var i=this.windows.length-1;i>=0;i--){if(this.windows[i].windowId===_4d){_50=this.windows[i];break;}}if(!_50){return;}_4e=_4e.toLowerCase();var _52=_4e==="all";if(_4e==="window"||_52){_50.windowTitle=_4f;_50.window.options.windowTitle=_4f;if(this.options.windowTooltipDisplay){var _53=_50.window.getElementById(_50.id);_53.setAttribute("title",_4f);}var _54=_50.window.getElementById(_50.id+"_header_title");_54.innerHTML=_4f;}if(_4e==="tooltip"||_52){_50.tooltip=_4f;}if(_4e==="toolbar"||_52){var _55=document.getElementById(this.id+"_nameLayer_"+_50.id);_55.setAttribute("windowTitle",_4f);_50.title=_4f;if(this.options.useFixButton){var _56="w2windowContainer_nameLayer_fixOff";if(_50.isFix){_56+=" w2windowContainer_nameLayer_fixOn";}_4f="<div class='"+_56+"' refId='"+_50.id+"'></div>"+_4f;}if(this.options.useCloseButton){_4f+="<div class='w2windowContainer_nameLayer_close' refId='"+_50.id+"'></div>";}_55.innerHTML=_4f;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.getWindowLabel=function(_57,_58){["WebSquare.uiplugin.windowContainer.getWindowLabel"];try{if(!_57||!_58){return;}var _59;for(var i=this.windows.length-1;i>=0;i--){if(this.windows[i].windowId===_57){_59=this.windows[i];break;}}if(!_59){return;}_58=_58.toLowerCase();if(_58==="toolbar"){return _59.title;}else{if(_58==="window"){return _59.windowTitle;}else{if(_58==="tooltip"){return _59.tooltip;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.createNameLayer=function(){["WebSquare.uiplugin.windowContainer.createNameLayer"];try{var _5b=[];this.dom.nameBar.innerHTML="";var _5c="w2windowContainer_nameLayer";if(this.options.useFixButton){_5c+=" w2windowContainer_nameLayer_fix";}for(var i=0;i<this.windows.length;i++){var _5e=this.windows[i];_5b.push("<div id='"+this.id+"_nameLayer_"+_5e.id+"' class='"+_5c+"' refId='"+_5e.id+"' windowTitle='"+_5e.title+"'>");if(this.options.useFixButton){var _5f="w2windowContainer_nameLayer_fixOff";if(_5e.isFix){_5f+=" w2windowContainer_nameLayer_fixOn";}_5b.push("<div class='"+_5f+"' refId='"+_5e.id+"'>");_5b.push("</div>");}_5b.push(_5e.title);if(this.options.useCloseButton){_5b.push("<div class='w2windowContainer_nameLayer_close' refId='"+_5e.id+"'>");_5b.push("</div>");}_5b.push("</div>");}this.dom.nameBar.innerHTML=_5b.join("");this.dom.nameBar.style.width="auto";if(this.windows.length>0){var _60=0;for(var i=0;i<this.windows.length;i++){var _61=parseInt($W._H.getStyleProperty(this.dom.nameBar.childNodes[i],"margin-left"))||0;var _62=parseInt($W._H.getStyleProperty(this.dom.nameBar.childNodes[i],"margin-right"))||0;_60+=this.dom.nameBar.childNodes[i].offsetWidth+_61+_62;}this.dom.nameBar.style.width=(_60+1)+"px";}else{this.dom.nameBar.style.width="0px";}if(this.render.offsetWidth<this.dom.nameBar.scrollWidth+this.dom.control.offsetWidth+2){this.options.useNameScroll=true;this.dom.rightScrollBtn.style.display="";this.dom.leftScrollBtn.style.display="";}else{this.options.useNameScroll=false;if(this.options.useNameContainer){this.dom.nameBar.style.left="0px";}else{this.dom.nameBar.style.left=(this.dom.control.offsetWidth+2)+"px";}this.dom.rightScrollBtn.style.display="none";this.dom.leftScrollBtn.style.display="none";}if(this.options.useNameScroll==true){this.dom.rightScrollBtn.style.left=parseInt(this.getSize("width"))-20+"px";this.dom.rightScrollBtn.style.display="block";this.dom.leftScrollBtn.style.display="block";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.removeNameLayer=function(id){["WebSquare.uiplugin.windowContainer.removeNameLayer"];try{this.closedWindowId=this.getWinInfoObj(id).windowId;for(var i=0;i<this.windows.length;i++){var _65=this.windows[i];if(_65.id==id){this.windows.splice(i,1);}}this.addHistory(id);this.closedWindow=this.selectedWindowHistory.pop();this.beforeWindow=this.selectedWindowHistory[this.selectedWindowHistory.length-2]||null;this.nowWindow=this.selectedWindowHistory[this.selectedWindowHistory.length-1]||null;this.currentWindowNum--;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.clickNameLayer=function(_66,_67,_68){["WebSquare.uiplugin.windowContainer.clickNameLayer"];try{var _69=_66;var _67=$W._G.getBoolean(_67);var _6a=$W._G.getBoolean(_68.stopToggleOnLast);if(this.nowWindow==_69){if(_6a==true&&this.windows.length==1){return;}if(_67==true){return;}this.minimizeWindow(_69);}else{this.beforeWindow=this.nowWindow;this.nowWindow=_69;this.selectWindow();var _6b=this.beforeWindow?this.getWinInfoObj(this.beforeWindow).windowId:null;var _6c=this.getWinInfoObj(this.nowWindow).windowId;$W._c.fireEvent(this,"onwindowchange",_6b,_6c);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.getWinInfoObj=function(_6d){["WebSquare.uiplugin.windowContainer.getWinInfoObj"];try{for(var i=0;i<this.windows.length;i++){if(this.windows[i].id==_6d){return this.windows[i];}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.minimizeWindow=function(_6f){["WebSquare.uiplugin.windowContainer.minimizeWindow"];try{var _70=this.getWinInfoObj(_6f);_70.window.minimize();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype._onminimize=function(_71){["WebSquare.uiplugin.windowContainer._onminimize"];try{var _72=_71;this.prevWindow=this.nowWindow;if(this.nowWindow==_72){this.minimizedWindow=this.selectedWindowHistory.pop();this.nowWindow=this.selectedWindowHistory.pop()||null;this.beforeWindow=this.selectedWindowHistory[this.selectedWindowHistory.length-1];}this.selectWindow();if(this.prevWindow==_72){var _73=this.getWinInfoObj(this.minimizedWindow).windowId;var _74=this.nowWindow?this.getWinInfoObj(this.nowWindow).windowId:null;$W._c.fireEvent(this,"onwindowchange",_73,_74);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.maximizeWindow=function(_75){["WebSquare.uiplugin.windowContainer.maximizeWindow"];try{var _76=this.getWinInfoObj(_75);_76.window.maximize();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype._onmaximize=function(_77){["WebSquare.uiplugin.windowContainer._onmaximize"];try{var _78=_77;this.prevWindow=this.nowWindow;if(this.prevWindow!=_78){this.nowWindow=_78;this.selectWindow();var _79=this.getWinInfoObj(this.prevWindow).windowId;var _7a=this.getWinInfoObj(_78).windowId;$W._c.fireEvent(this,"onwindowchange",_79,_7a);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype._onpopup=function(_7b){["WebSquare.uiplugin.windowContainer._onpopup"];try{var _7c=_7b;this.prevWindow=this.nowWindow;if(this.prevWindow!=_7c){this.nowWindow=_7c;this.selectWindow();var _7d=this.getWinInfoObj(this.prevWindow).windowId;var _7e=this.getWinInfoObj(_7c).windowId;$W._c.fireEvent(this,"onwindowchange",_7d,_7e);}var _7f=this.getSelectedIndex();if(_7f>-1&&_7f<this.windows.length){var _80=this.windows[_7f];imports("uiplugin.popup");var top=(window.screen.availHeight-this.getSize("height"))/2;var _82=(window.screen.availWidth-this.getSize("width"))/2;var _83={id:_80.id,type:"window",width:this.getSize("width")+"px",height:this.getSize("height")+"px",top:top+"px",left:_82+"px",popupName:_80.title,modal:false,useIFrame:false,style:"",resizable:true,status:false,menubar:false,scrollbars:true,title:false,srcData:"",destData:""};$W._G.openPopup(_80.window.options.src,_83);if(this.options.closeWindowOnPopup){_80.window.forceClose();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.selectWindow=function(){["WebSquare.uiplugin.windowContainer.selectWindow"];try{for(var i=0;i<this.windows.length;i++){var _85=this.windows[i].id;var _86=document.getElementById(this.id+"_nameLayer_"+_85);this.removeClass(_86,"w2windowContainer_selectedNameLayer");}if(this.nowWindow!=null){var _87=this.getWinInfoObj(this.nowWindow);_87.window.windowInfo.minimized=false;_87.window.setStyle("display","block");this.increaseZIndex(_87.window);var _86=document.getElementById(this.id+"_nameLayer_"+this.nowWindow);this.addClass(_86,"w2windowContainer_selectedNameLayer");if(this.options.nameScrollMode=="hide"){var _88=0;var _89=this.dom.nameBar.offsetWidth;var _8a=this.selectedIndex;this.addHistory(this.nowWindow);this.refreshSelectedIndex();if(_8a>this.selectedIndex){for(var i=_8a;i>=0;i--){var _8b=this.windows[i].id;var _8c=document.getElementById(this.id+"_nameLayer_"+_8b);if(_8c.style.display!="block"){_8c.style.display="block";}}}for(var i=this.selectedIndex;i>=0;i--){var _8b=this.windows[i].id;var _8c=document.getElementById(this.id+"_nameLayer_"+_8b);if(_8c.style.display!="none"){var _8d=$W._H.getStyle(_8c,"margin-left");_8d=_8d==="auto"?"0":_8d;var _8e=$W._H.getStyle(_8c,"margin-right");_8e=_8e==="auto"?"0":_8e;var _8f=_8c.offsetWidth+parseInt(_8d,10)+parseInt(_8e,10);if(_88+_8f>=_89){_8c.style.display="none";}else{_88+=_8f;}}}}else{if(this.options.useNameScroll){var _90=this.dom.leftScrollBtn.offsetLeft+this.dom.leftScrollBtn.offsetWidth;var _91=this.dom.rightScrollBtn.offsetLeft;var _92=parseInt(this.dom.nameBar.style.left)+_86.offsetLeft;var _93=parseInt(this.dom.nameBar.style.left)+_86.offsetLeft+_86.offsetWidth;if(_92>_91||_93>_91){this.dom.nameBar.style.left=(parseInt(this.dom.nameBar.style.left)-(_93-_91))+"px";}else{if(_92<_90||_93<_90){var _94=(this.options.useNameContainer&&this.options.controlIconPosition=="right")?0:this.dom.control.offsetWidth;this.dom.nameBar.style.left=(_94+this.dom.leftScrollBtn.offsetWidth-_86.offsetLeft)+"px";}}this.addHistory(this.nowWindow);this.refreshSelectedIndex();}else{this.addHistory(this.nowWindow);this.refreshSelectedIndex();}}}else{this.selectedIndex=-1;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.addHistory=function(_95){["WebSquare.uiplugin.windowContainer.addHistory"];try{var idx=null;for(var i=0;i<this.selectedWindowHistory.length;i++){if(this.selectedWindowHistory[i]==_95){idx=i;}}if(idx!=null){this.selectedWindowHistory.splice(idx,1);}this.selectedWindowHistory.push(_95);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.increaseZIndex=function(_98){["WebSquare.uiplugin.windowContainer.increaseZIndex"];try{this.maxZIndex+=2;_98.setStyle("zIndex",this.maxZIndex);this.dom.toolBar.style.zIndex=this.maxZIndex;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.selectNameLayer=function(_99){["WebSquare.uiplugin.windowContainer.selectNameLayer"];try{for(var i=0;i<this.selectedWindowHistory.length;i++){if(this.selectedWindowHistory[i]==_99){this.prevWindow=this.nowWindow;var _9b=_99;if(_9b!=this.nowWindow){this.beforeWindow=this.nowWindow;this.nowWindow=_9b;}this.selectWindow();if(this.prevWindow!=_9b){var _9c=this.getWinInfoObj(this.prevWindow).windowId;var _9d=this.getWinInfoObj(_9b).windowId;$W._c.fireEvent(this,"onwindowchange",_9c,_9d);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.doVerticalArrange=function(){["WebSquare.uiplugin.windowContainer.doVerticalArrange"];try{var _9e=0;var _9f=2;var _a0=[];for(var i=0;i<this.windows.length;i++){var _a2=this.windows[i];if(_a2.window.windowInfo.minimized==false){_a0.push(_a2);}}var _a3=_a0.length;if(_a3<this.options.lineBreakNum){_9f=1;_9e=_a3;}else{_9f=2;_9e=Math.ceil(_a3/_9f);}var _a4="";var x=0;var y=0;var _a7;var _a8;for(var i=0;i<_a3;i++){var _a9=_a0[i];var _aa=_a9.window;var _ab=_aa.resizeParentGroup();_a7=parseInt(_ab.width/_9e,10);_a8=parseInt(_ab.height/_9f,10);_aa.restore();_aa.setSize(_a7-(_aa.getSize("outerMarginWidth")-_aa.getSize("width")),_a8-(_aa.getSize("outerMarginHeight")-_aa.getSize("height")));_aa.setPosition(x*_a7,y*_a8);x++;if(x==_9e){x=0;y++;}_a4=_a9.id;}this.selectNameLayer(_a4);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.doVerticalFixArrange=function(){["WebSquare.uiplugin.windowContainer.doVerticalFixArrange"];try{var _ac=this;var _ad=function(_ae){_ac.prevWindow=_ac.nowWindow;var _af=_ae;if(_af!=_ac.nowWindow){_ac.beforeWindow=_ac.nowWindow;_ac.nowWindow=_af;}_ac.selectWindow();};var _b0={};for(var i=0;i<this.windows.length;i++){var _b2=this.windows[i];if(!_b2.isFix){if(_b2.window.windowInfo.minimized){_ad(_b2.id);}else{_b0[_b2.id]=_b2;}}}var _b3=this.selectedWindowHistory.slice();for(var i=0;i<this.selectedWindowHistory.length;i++){var _b4=_b3[i];if(typeof _b0[_b4]!="undefined"){_ad(_b0[_b4].id);}}for(var i=0;i<this.fixedWindowArr.length;i++){var _b2=this.fixedWindowArr[i];_ad(_b2.id);}var _b5=1;var _b6=this.options.verticalArrangeNum;var _b7=this.windows.length;if(this.options.fixArrangeFullScreen){_b6=_b6>_b7?_b7:_b6;}var x=0;var y=0;var _ba=0;var _bb=0;if(this.options.positionX=="none"){for(var i=this.selectedWindowHistory.length;i>0;i--){var _b2=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _bc=_b2.window;var _bd=_bc.resizeParentGroup();_ba=parseInt(_bd.width/_b6,10);_bb=parseInt(_bd.height/_b5,10);_bc.restore();_bc.setSize(_ba-(_bc.getSize("outerMarginWidth")-_bc.getSize("width")),_bb-(_bc.getSize("outerMarginHeight")-_bc.getSize("height")));_bc.setPosition(x*_ba,y*_bb);x++;if(x==_b6){x=0;}}}else{if(this.options.positionX=="left"){for(var i=this.selectedWindowHistory.length;i>0;i--){var _b2=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _bc=_b2.window;var _bd=_bc.resizeParentGroup();_ba=parseInt(_bd.width/_b6,10);_bb=parseInt(_bd.height/_b5,10);_bc.restore();_bc.setSize(_ba-(_bc.getSize("outerMarginWidth")-_bc.getSize("width")),_bb-(_bc.getSize("outerMarginHeight")-_bc.getSize("height")));_bc.setPosition(x*_ba,y*_bb);x++;if(x==_b6){x=1;}}}else{if(this.options.positionX=="right"){x=_b6-1;for(var i=this.selectedWindowHistory.length;i>0;i--){var _b2=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _bc=_b2.window;var _bd=_bc.resizeParentGroup();_ba=parseInt(_bd.width/_b6,10);_bb=parseInt(_bd.height/_b5,10);_bc.restore();_bc.setSize(_ba-(_bc.getSize("outerMarginWidth")-_bc.getSize("width")),_bb-(_bc.getSize("outerMarginHeight")-_bc.getSize("height")));_bc.setPosition(x*_ba,y*_bb);x++;if(x==_b6&&y==0){x=0;}if(x==_b6-1){x=0;}}}}}this.selectNameLayer(this.selectedWindowHistory[_b7-1]);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.doHorizontalArrange=function(){["WebSquare.uiplugin.windowContainer.doHorizontalArrange"];try{var _be=2;var _bf=0;var _c0=[];for(var i=0;i<this.windows.length;i++){var _c2=this.windows[i];if(_c2.window.windowInfo.minimized==false){_c0.push(_c2);}}var _c3=_c0.length;if(_c3<this.options.lineBreakNum){_bf=_c3;_be=1;}else{_bf=Math.ceil(_c3/_be);_be=2;}var _c4="";var x=0;var y=0;var _c7;var _c8;for(var i=0;i<_c3;i++){var _c9=_c0[i];var _ca=_c9.window;var _cb=_ca.resizeParentGroup();_c7=parseInt(_cb.width/_be,10);_c8=parseInt(_cb.height/_bf,10);_ca.restore();_ca.setSize(_c7-(_ca.getSize("outerMarginWidth")-_ca.getSize("width")),_c8-(_ca.getSize("outerMarginHeight")-_ca.getSize("height")));_ca.setPosition(x*_c7,y*_c8);x++;if(x==_be){x=0;y++;}_c4=_c9.id;}this.selectNameLayer(_c4);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.doHorizontalFixArrange=function(){["WebSquare.uiplugin.windowContainer.doHorizontalFixArrange"];try{var _cc=this;var _cd=function(_ce){_cc.prevWindow=_cc.nowWindow;var _cf=_ce;if(_cf!=_cc.nowWindow){_cc.beforeWindow=_cc.nowWindow;_cc.nowWindow=_cf;}_cc.selectWindow();};var _d0={};for(var i=0;i<this.windows.length;i++){var _d2=this.windows[i];if(!_d2.isFix){if(_d2.window.windowInfo.minimized){_cd(_d2.id);}else{_d0[_d2.id]=_d2;}}}var _d3=this.selectedWindowHistory.slice();for(var i=0;i<this.selectedWindowHistory.length;i++){var _d4=_d3[i];if(typeof _d0[_d4]!="undefined"){_cd(_d0[_d4].id);}}for(var i=0;i<this.fixedWindowArr.length;i++){var _d2=this.fixedWindowArr[i];_cd(_d2.id);}var _d5=this.options.horizontalArrangeNum;var _d6=1;var _d7=this.windows.length;if(this.options.fixArrangeFullScreen){_d5=_d5>_d7?_d7:_d5;}var x=0;var y=0;var _da=0;var _db=0;if(this.options.positionY=="none"){for(var i=this.selectedWindowHistory.length;i>0;i--){var _d2=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _dc=_d2.window;var _dd=_dc.resizeParentGroup();_da=parseInt(_dd.width/_d6,10);_db=parseInt(_dd.height/_d5,10);_dc.restore();_dc.setSize(_da-(_dc.getSize("outerMarginWidth")-_dc.getSize("width")),_db-(_dc.getSize("outerMarginHeight")-_dc.getSize("height")));_dc.setPosition(x*_da,y*_db);y++;if(y==_d5){y=0;}}}else{if(this.options.positionY=="top"){for(var i=this.selectedWindowHistory.length;i>0;i--){var _d2=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _dc=_d2.window;var _dd=_dc.resizeParentGroup();_da=parseInt(_dd.width/_d6,10);_db=parseInt(_dd.height/_d5,10);_dc.restore();_dc.setSize(_da-(_dc.getSize("outerMarginWidth")-_dc.getSize("width")),_db-(_dc.getSize("outerMarginHeight")-_dc.getSize("height")));_dc.setPosition(x*_da,y*_db);y++;if(y==_d5){y=1;}}}else{if(this.options.positionY=="bottom"){y=_d5-1;for(var i=this.selectedWindowHistory.length;i>0;i--){var _d2=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _dc=_d2.window;var _dd=_dc.resizeParentGroup();_da=parseInt(_dd.width/_d6,10);_db=parseInt(_dd.height/_d5,10);_dc.restore();_dc.setSize(_da-(_dc.getSize("outerMarginWidth")-_dc.getSize("width")),_db-(_dc.getSize("outerMarginHeight")-_dc.getSize("height")));_dc.setPosition(x*_da,y*_db);y++;if(x==0&&y==_d5){y=0;}if(y==_d5-1){y=0;}}}}}this.selectNameLayer(this.selectedWindowHistory[_d7-1]);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.doCascadeArrange=function(){["WebSquare.uiplugin.windowContainer.doCascadeArrange"];try{var _de;var _df;var _e0="";var _e1=[];for(var i=0;i<this.windows.length;i++){var _e3=this.windows[i];if(_e3.window.windowInfo.minimized==false){_e1.push(_e3);}}var _e4=_e1.length;for(var i=0;i<_e4;i++){var _e5=_e1[i];var _e6=_e5.window;if(i==0){var _e7=_e6.resizeParentGroup();_de=parseInt(_e7.width-200,10);_df=parseInt(_e7.height-200,10);}_e6.restore();_e6.setSize(_de-(_e6.getSize("outerMarginWidth")-_e6.getSize("width")),_df-(_e6.getSize("outerMarginHeight")-_e6.getSize("height")));_e6.setPosition((i%10)*20,(i%10)*20);_e0=_e5.id;}this.selectNameLayer(_e0);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.doCascadeFixArrange=function(){["WebSquare.uiplugin.windowContainer.doCascadeFixArrange"];try{var _e8=this;var _e9=function(_ea){_e8.prevWindow=_e8.nowWindow;var _eb=_ea;if(_eb!=_e8.nowWindow){_e8.beforeWindow=_e8.nowWindow;_e8.nowWindow=_eb;}_e8.selectWindow();};var _ec={};for(var i=0;i<this.windows.length;i++){var _ee=this.windows[i];if(!_ee.isFix){if(_ee.window.windowInfo.minimized){_e9(_ee.id);}else{_ec[_ee.id]=_ee;}}}var _ef=this.selectedWindowHistory.slice();for(var i=0;i<this.selectedWindowHistory.length;i++){var _f0=_ef[i];if(typeof _ec[_f0]!="undefined"){_e9(_ec[_f0].id);}}for(var i=0;i<this.fixedWindowArr.length;i++){var _ee=this.fixedWindowArr[i];_e9(_ee.id);}var _f1=this.windows.length;var _f2=0;var _f3=0;for(var i=this.selectedWindowHistory.length;i>0;i--){var _ee=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _f4=_ee.window;if(i==this.selectedWindowHistory.length){var _f5=_f4.resizeParentGroup();_f2=parseInt(_f5.width-200,10);_f3=parseInt(_f5.height-200,10);}_f4.restore();_f4.setSize(_f2-(_f4.getSize("outerMarginWidth")-_f4.getSize("width")),_f3-(_f4.getSize("outerMarginHeight")-_f4.getSize("height")));_f4.setPosition(((i-1)%10)*20,((i-1)%10)*20);}this.selectNameLayer(this.selectedWindowHistory[_f1-1]);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.doSequentialArrange=function(){["WebSquare.uiplugin.windowContainer.doSequentialArrange"];try{var _f6=1;var _f7=1;var _f8=true;var _f9=[];for(var i=0;i<this.windows.length;i++){var _fb=this.windows[i];if(_fb.window.windowInfo.minimized==false){_f9.push(_fb);}}var _fc=_f9.length;while(_f8){if(_f6*_f7<_fc){if(_f6==_f7){_f6++;}else{_f7++;}}else{_f8=false;}}var _fd;var _fe;var _ff="";var x=0;var y=0;for(var i=0;i<_fc;i++){var _102=_f9[i];var _103=_102.window;if(i==0){var _104=_103.resizeParentGroup();_fd=parseInt(_104.width/_f6,10);_fe=parseInt(_104.height/_f7,10);}_103.restore();_103.setSize(_fd-(_103.getSize("outerMarginWidth")-_103.getSize("width")),_fe-(_103.getSize("outerMarginHeight")-_103.getSize("height")));_103.setPosition(x*_fd,y*_fe);x++;if(x==_f6){x=0;y++;}_ff=_102.id;}this.selectNameLayer(_ff);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.doSequentialFixArrange=function(){["WebSquare.uiplugin.windowContainer.doSequentialFixArrange"];try{var _105=this;var _106=function(_107){_105.prevWindow=_105.nowWindow;var _108=_107;if(_108!=_105.nowWindow){_105.beforeWindow=_105.nowWindow;_105.nowWindow=_108;}_105.selectWindow();};var _109={};for(var i=0;i<this.windows.length;i++){var _10b=this.windows[i];if(!_10b.isFix){if(_10b.window.windowInfo.minimized){_106(_10b.id);}else{_109[_10b.id]=_10b;}}}var _10c=this.selectedWindowHistory.slice();for(var i=0;i<this.selectedWindowHistory.length;i++){var _10d=_10c[i];if(typeof _109[_10d]!="undefined"){_106(_109[_10d].id);}}for(var i=0;i<this.fixedWindowArr.length;i++){var _10b=this.fixedWindowArr[i];_106(_10b.id);}var rows=this.options.sequentialArrangeRowNum;var cols=this.options.sequentialArrangeColNum;var _110=this.windows.length;if(this.options.fixArrangeFullScreen){cols=cols>_110?_110:cols;rows=cols>_110?1:rows;}var x=0;var y=0;var _113=0;var _114=0;if(this.options.positionX=="none"&&this.options.positionY=="none"){for(var i=this.selectedWindowHistory.length;i>0;i--){var _10b=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _115=_10b.window;var _116=_115.resizeParentGroup();_113=parseInt(_116.width/cols,10);_114=parseInt(_116.height/rows,10);_115.restore();_115.setSize(_113-(_115.getSize("outerMarginWidth")-_115.getSize("width")),_114-(_115.getSize("outerMarginHeight")-_115.getSize("height")));_115.setPosition(x*_113,y*_114);x++;if(x==cols){x=0;y++;if(y==rows){y=0;}}}}else{if(this.options.positionX=="left"&&this.options.positionY=="top"){for(var i=this.selectedWindowHistory.length;i>0;i--){var _10b=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _115=_10b.window;var _116=_115.resizeParentGroup();_113=parseInt(_116.width/cols,10);_114=parseInt(_116.height/rows,10);_115.restore();_115.setSize(_113-(_115.getSize("outerMarginWidth")-_115.getSize("width")),_114-(_115.getSize("outerMarginHeight")-_115.getSize("height")));_115.setPosition(x*_113,y*_114);x++;if(x==cols){x=0;y++;if(y==rows){x=1;y=0;}}}}else{if(this.options.positionX=="right"&&this.options.positionY=="top"){x=cols-1;for(var i=this.selectedWindowHistory.length;i>0;i--){var _10b=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _115=_10b.window;var _116=_115.resizeParentGroup();_113=parseInt(_116.width/cols,10);_114=parseInt(_116.height/rows,10);_115.restore();_115.setSize(_113-(_115.getSize("outerMarginWidth")-_115.getSize("width")),_114-(_115.getSize("outerMarginHeight")-_115.getSize("height")));_115.setPosition(x*_113,y*_114);x++;if(y==0&&x==cols-1){y++;x=0;}if(x==cols){x=0;if(y!=0){y++;if(y==rows){y=0;}}}}}else{if(this.options.positionX=="left"&&this.options.positionY=="bottom"){y=rows-1;for(var i=this.selectedWindowHistory.length;i>0;i--){var _10b=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _115=_10b.window;var _116=_115.resizeParentGroup();_113=parseInt(_116.width/cols,10);_114=parseInt(_116.height/rows,10);_115.restore();_115.setSize(_113-(_115.getSize("outerMarginWidth")-_115.getSize("width")),_114-(_115.getSize("outerMarginHeight")-_115.getSize("height")));_115.setPosition(x*_113,y*_114);if(y==rows-1&&x==0){x=0;y=0;}else{x++;if(x==cols){x=0;y++;if(y==rows-1){x=1;}else{if(y==rows){y=0;}}}}}}else{if(this.options.positionX=="right"&&this.options.positionY=="bottom"){x=cols-1;y=rows-1;for(var i=this.selectedWindowHistory.length;i>0;i--){var _10b=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _115=_10b.window;var _116=_115.resizeParentGroup();_113=parseInt(_116.width/cols,10);_114=parseInt(_116.height/rows,10);_115.restore();_115.setSize(_113-(_115.getSize("outerMarginWidth")-_115.getSize("width")),_114-(_115.getSize("outerMarginHeight")-_115.getSize("height")));_115.setPosition(x*_113,y*_114);x++;if(y==rows-1&&(x==cols-1||x==cols)){x=0;y=0;}if(x==cols){x=0;y++;}}}}}}}this.selectNameLayer(this.selectedWindowHistory[_110-1]);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.doCloseAll=function(){["WebSquare.uiplugin.windowContainer.doCloseAll"];var ret=$W._c.fireEvent(this,"onbeforecloseall");if(ret!==false){for(var i=this.windows.length-1;i>=0;i--){this.selectNameLayer(this.windows[i].id);this.windows[i].window.close();}this.selectedIndex=-1;}};$W._a.aM.prototype.doMaximizeAll=function(){["WebSquare.uiplugin.windowContainer.doMaximizeAll"];var _119=[];for(var i=0;i<this.selectedWindowHistory.length;i++){for(var n=0;n<this.selectedWindowHistory.length;n++){if(this.selectedWindowHistory[i]==this.windows[n].id){_119.push(this.windows[n]);break;}}}for(var i=0;i<_119.length;i++){_119[i].window.maximize();}};$W._a.aM.prototype.isExistWindow=function(_11c){["WebSquare.uiplugin.windowContainer.isExistWindow"];try{for(var i=0;i<this.windows.length;i++){var _11e=this.windows[i];if(_11c==_11e.title){return true;}}return false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.setSize=function(_11f,_120){["WebSquare.uiplugin.windowContainer.setSize"];try{if(parseInt(_11f)<450){_11f=450;}if(parseInt(_120)<150){_120=150;}var _121=this.getSize("width");var _122=this.getSize("height");var _123=_11f/_121;var _124=_120/_122;this.setStyle("width",_11f+"px");this.setStyle("height",_120+"px");for(var i=0;i<this.windows.length;i++){var _126=this.windows[i];_126.window.resizeParentGroup();if(this.options.windowAutoResize&&_126.window.windowInfo.status!="maximized"){var _127=_126.window;var _128=_127.getSize("width");var _129=_127.getSize("height");var _12a=parseInt(_127.getStyle("left"),10);var _12b=parseInt(_127.getStyle("top"),10);var _12c=Math.ceil(_128*_123);var _12d=Math.ceil(_129*_124);var _12e=Math.ceil(_12a*_123);var _12f=Math.ceil(_12b*_124);_126.window.setSize(_12c,_12d);_126.window.setStyle("left",_12e+"px");_126.window.setStyle("top",_12f+"px");}if(this.options.useNameScroll){this.dom.rightScrollBtn.style.left=parseInt(this.render.offsetWidth)-20+"px";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.checkResize=function(){["WebSquare.uiplugin.windowContainer.prototype.checkResize"];try{var _130=this.render?this.render.offsetWidth:null;if(this.bWidth!=null&&_130!=this.bWidth){this.nameLayerResize();}this.bWidth=_130;$W._N.setTimer(this.checkResize,{key:this.id+"_checkResize",caller:this,delay:70});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.nameLayerResize=function(e){["WebSquare.uiplugin.windowContainer.prototype.nameLayerResize"];try{if(this.render.offsetWidth<this.dom.nameBar.scrollWidth+this.dom.control.offsetWidth+2){this.options.useNameScroll=true;this.dom.rightScrollBtn.style.left=parseInt(this.getSize("width"))-20+"px";this.dom.rightScrollBtn.style.display="block";this.dom.leftScrollBtn.style.display="block";}else{this.options.useNameScroll=false;if(this.options.useNameContainer){this.dom.nameBar.style.left="0px";}else{this.dom.nameBar.style.left=(this.dom.control.offsetWidth+2)+"px";}this.dom.rightScrollBtn.style.display="none";this.dom.leftScrollBtn.style.display="none";}if(this.options.nameScrollMode=="hide"){for(var i=0;i<this.windows.length;i++){var _133=this.windows[i].id;var _134=document.getElementById(this.id+"_nameLayer_"+_133);if(_134.style.display=="none"){_134.style.display="block";}}}this.selectWindow();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.showTooltip=function(_135,_136){["WebSquare.uiplugin.windowContainer.showTooltip"];try{if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}this.timeShowTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(!this.tooltip){this.tooltip=new $W._a._o(this.id+"_tooltip",{className:"w2windowContainer_tooltip "+this.options.tooltipClass});this.tooltip.writeTo($W.getBody(),null,this.parentFrame);this.tooltip.activate();if(!this.options.tooltipGroupClass){this.tooltip.removeClass("w2group");}}if(this.tooltip.render.style.display!="block"){this.tooltip.setStyle("display","block");this.tooltip.render.innerHTML=_136;var left=$W._H.getAbsoluteLeft(_135)+(_135.offsetWidth/2);var top;if(this.options.toolbarPosition==="bottom"){top=$W._H.getAbsoluteTop(_135)-this.tooltip.render.offsetHeight;}else{top=$W._H.getAbsoluteTop(_135)+this.tooltip.render.offsetHeight;}this.tooltip.setStyle("zIndex",this.maxZIndex);this.tooltip.setStyle("left",left+"px");this.tooltip.setStyle("top",top+"px");}}),this.options.tooltipTime*1000);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.hideTooltip=function(){["WebSquare.uiplugin.windowContainer.hideTooltip"];try{if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}if(this.tooltip){this.tooltip.setStyle("display","none");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.setWindowSize=function(_139,_13a){["WebSquare.uiplugin.windowContainer.setWindowSize"];try{for(var i=0;i<this.windows.length;i++){var _13c=this.windows[i];var _13d=_13c.window;if(_13c.id==this.nowWindow){_13d.windowInfo.width=_139;_13d.windowInfo.height=_13a;_13d.restore();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.setWindowPosition=function(left,top){["WebSquare.uiplugin.windowContainer.setWindowPosition"];try{for(var i=0;i<this.windows.length;i++){var _141=this.windows[i];var _142=_141.window;if(_141.id==this.nowWindow){_142.windowInfo.left=left;_142.windowInfo.top=top;_142.windowInfo.status="restored";_142.windowInfo.minimized=false;_142.windowInfo.getInfo(_142.render);break;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.closeWindow=function(){["WebSquare.uiplugin.windowContainer.closeWindow"];try{for(var i=0;i<this.windows.length;i++){var _144=this.windows[i];var _145=_144.window;if(_144.id==this.nowWindow){_145.close();break;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.setWindowStatusMsg=function(msg,_147){["WebSquare.uiplugin.windowContainer.setWindowStatusMsg"];try{for(var i=0;i<this.windows.length;i++){var _149=this.windows[i];var _14a=_149.window;if(_147){if(_149.title==_147){_14a.setStatusMsg(msg);break;}}else{if(_149.id==this.nowWindow){_14a.setStatusMsg(msg);break;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.setAllWindowStatusMsg=function(msg){["WebSquare.uiplugin.windowContainer.setAllWindowStatusMsg"];try{for(var i=0;i<this.windows.length;i++){var _14d=this.windows[i];var _14e=_14d.window;_14e.setStatusMsg(msg);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.getWindow=function(_14f){["WebSquare.uiplugin.windowContainer.getWindow"];try{for(var i=0;i<this.windows.length;i++){var _151=this.windows[i];if(_14f==_151.title){this.beforeWindow=this.nowWindow;this.nowWindow=_151.id;this.selectWindow();if(this.beforeWindow!=this.nowWindow){var _152=this.getWinInfoObj(this.beforeWindow).windowId;var _153=this.getWinInfoObj(this.nowWindow).windowId;$W._c.fireEvent(this,"onwindowchange",_152,_153);}return _151.window.frame.getWindow();}}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.getWindowByWindowId=function(_154,_155){["WebSquare.uiplugin.windowContainer.getWindowByWindowId"];try{var _155=$W._G.getBoolean(_155);for(var i=0;i<this.windows.length;i++){var _157=this.windows[i];if(_154==_157.windowId){if(_155==true){this.beforeWindow=this.nowWindow;this.nowWindow=_157.id;this.selectWindow();if(this.beforeWindow!=this.nowWindow){var _158=this.getWinInfoObj(this.beforeWindow).windowId;var _159=this.getWinInfoObj(this.nowWindow).windowId;$W._c.fireEvent(this,"onwindowchange",_158,_159);}}return _157.window.frame.getWindow();}}return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.showModal=function(){["WebSquare.uiplugin.windowContainer.showModal"];try{if(!this.modal){this.modal=document.createElement("div");this.modal.id=this.id+"_modal";this.modal.className="w2modal";this.render.appendChild(this.modal);}if(this.modal){this.modal.style.display="block";this.modal.style.zIndex=this.maxZIndex-1;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.hideModal=function(){["WebSquare.uiplugin.windowContainer.shideModal"];try{if(this.modal){this.modal.style.display="none";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.moveNameLayerScroll=function(_15a){["WebSquare.uiplugin.windowContainer.moveNameLayerScroll"];try{if(this.options.nameScrollMode=="hide"){var _15b=0;for(var i=0;i<this.windows.length;i++){var _15d=this.windows[i].id;var _15e=document.getElementById(this.id+"_nameLayer_"+_15d);var _15f=$W._H.getStyle(_15e,"margin-left");_15f=_15f==="auto"?"0":_15f;var _160=$W._H.getStyle(_15e,"margin-right");_160=_160==="auto"?"0":_160;var _161=_15e.offsetWidth+parseInt(_15f,10)+parseInt(_160,10);if(_15e.style.display!="none"){_15b+=_161;}}if(_15a=="right"){if(this.dom.nameBar.offsetWidth>_15b){return;}for(var i=0;i<this.windows.length;i++){var _15d=this.windows[i].id;var _15e=document.getElementById(this.id+"_nameLayer_"+_15d);if(_15e.style.display=="none"||i==this.windows.length-1){continue;}else{_15e.style.display="none";break;}}}else{for(var i=this.windows.length-1;i>=0;i--){var _15d=this.windows[i].id;var _15e=document.getElementById(this.id+"_nameLayer_"+_15d);if(_15e.style.display!="none"){continue;}else{_15e.style.display="block";break;}}}}else{var _162=110;if(_15a=="right"){var _163=this.windows[this.windows.length-1].id;var _164=document.getElementById(this.id+"_nameLayer_"+_163);var _165=this.dom.rightScrollBtn.offsetLeft-this.dom.nameBar.offsetWidth;if(parseInt(this.dom.nameBar.style.left)-_162<_165){this.dom.nameBar.style.left=_165+"px";}else{this.dom.nameBar.style.left=parseInt(this.dom.nameBar.style.left)-_162+"px";}}else{if(this.options.useNameContainer){if(parseInt(this.dom.nameBar.style.left)+_162>this.dom.leftScrollBtn.offsetWidth){this.dom.nameBar.style.left=this.dom.leftScrollBtn.offsetWidth+"px";}else{this.dom.nameBar.style.left=parseInt(this.dom.nameBar.style.left)+_162+"px";}}else{if(parseInt(this.dom.nameBar.style.left)+_162>(this.dom.control.offsetWidth+this.dom.leftScrollBtn.offsetWidth)){this.dom.nameBar.style.left=(this.dom.control.offsetWidth+this.dom.leftScrollBtn.offsetWidth)+"px";}else{this.dom.nameBar.style.left=parseInt(this.dom.nameBar.style.left)+_162+"px";}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.setFocus=function(_166){["WebSquare.uiplugin.windowContainer.setFocus"];try{if(!this.windows[_166]){return;}if(this.windows[_166].id!==this.nowWindow){this.selectNameLayer(this.windows[_166].id);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.windowContainer.getSelectedIndex"];return this.selectedIndex;};$W._a.aM.prototype.getSelectedWindowId=function(){["WebSquare.uiplugin.windowContainer.getSelectedWindowId"];return this.windows[this.selectedIndex].windowId;};$W._a.aM.prototype.refreshSelectedIndex=function(_167){["WebSquare.uiplugin.windowContainer.refreshSelectedIndex"];try{var _168=_167||this.nowWindow;for(var i=0;i<this.windows.length;i++){var _16a=this.windows[i];var _16b=this.nowWindow;if(_16a.id==_168){this.selectedIndex=i;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.windowContainer.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2windowContainer_controlIcon_vertical")){if(this.options.useFixButton&&this.options.verticalArrangeNum>0){this.doVerticalFixArrange();}else{this.doVerticalArrange();}$W._c.fireEvent(this,"onverticalarrange");}if(it.match("w2windowContainer_controlIcon_horizontal")){if(this.options.useFixButton&&this.options.horizontalArrangeNum>0){this.doHorizontalFixArrange();}else{this.doHorizontalArrange();}$W._c.fireEvent(this,"onhorizontalarrange");}if(it.match("w2windowContainer_controlIcon_cascade")){if(this.options.useFixButton){this.doCascadeFixArrange();}else{this.doCascadeArrange();}$W._c.fireEvent(this,"oncascadearrange");}if(it.match("w2windowContainer_controlIcon_sequential")){if(this.options.useFixButton&&this.options.sequentialArrangeRowNum>0&&this.options.sequentialArrangeColNum>0){this.doSequentialFixArrange();}else{this.doSequentialArrange();}$W._c.fireEvent(this,"onsequentialarrange");}if(it.match("w2windowContainer_controlIcon_closeAll")){this.doCloseAll();}if(it.match("w2windowContainer_controlIcon_maximize")){var _16e=this.getSelectedIndex();if(_16e>-1&&_16e<this.windows.length){var _16f=this.windows[_16e];if(_16f.window.windowInfo.status=="maximized"){_16f.window.toggleResize();$W._c.fireEvent(this,"onselectedmaximize");}else{$W._c.fireEvent(this,"onselectedrestore");if(this.options.windowMaximizeAll==true){this.doMaximizeAll();}else{_16f.window.toggleResize();}}}}if(it.match("w2windowContainer_nameLayer")){var _170=it.getElement().getAttribute("refId");var _171={};_171["stopToggleOnLast"]=this.options.stopToggleOnLast;this.clickNameLayer(_170,this.options.stopMinimizeOnNameLayer,_171);}if(it.match("w2windowContainer_nameLayer_close")){var _170=it.getElement().getAttribute("refId");var _172=this.getWinInfoObj(_170);_172.window.close();return;}if(it.match("w2windowContainer_nameLayer_fixOff")){var _170=it.getElement().getAttribute("refId");var _172=this.getWinInfoObj(_170);_172.isFix=!_172.isFix;if(_172.isFix){it.getElement().className="w2windowContainer_nameLayer_fixOff w2windowContainer_nameLayer_fixOn";this.fixedWindowArr.push(_172);}else{it.getElement().className="w2windowContainer_nameLayer_fixOff";for(var i=0;i<this.fixedWindowArr.length;i++){if(this.fixedWindowArr[i].id==_172.id){this.fixedWindowArr.splice(i,1);break;}}}return;}if(it.match("w2window")){this.selectNameLayer(it.getElement().id);}if(it.match("w2window_restore")){if(this.options.windowMaximizeAll==true){this.doMaximizeAll();}}if(it.match("w2windowContainer_scrollLeftBtn")){this.moveNameLayerScroll("left");}if(it.match("w2windowContainer_scrollRightBtn")){this.moveNameLayerScroll("right");}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.handleMouseOverEvent=function(e){["WebSquare.uiplugin.windowContainer.handleMouseOverEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2windowContainer_nameLayer")){var _176=it.getElement();var _177=it.getElement().getAttribute("refId");var _178="";for(var i=0;i<this.windows.length;i++){var _17a=this.windows[i];if(_177==_17a.id){_178=_17a.tooltip;break;}}if(it.getElement().id.indexOf(this.nowWindow)==-1){this.addClass(_176,"w2windowContainer_selectedNameLayer");}if(this.options.tooltipDisplay){this.showTooltip(_176,_178);}}else{if(it.match("w2windowContainer_controlIcon_vertical")){this.addClass(this.dom.iconVertical,"w2windowContainer_controlIcon_vertical_over");}else{if(it.match("w2windowContainer_controlIcon_horizontal")){this.addClass(this.dom.iconHorizontal,"w2windowContainer_controlIcon_horizontal_over");}else{if(it.match("w2windowContainer_controlIcon_cascade")){this.addClass(this.dom.iconCascade,"w2windowContainer_controlIcon_cascade_over");}else{if(it.match("w2windowContainer_controlIcon_sequential")){this.addClass(this.dom.iconSequential,"w2windowContainer_controlIcon_sequential_over");}else{if(it.match("w2windowContainer_controlIcon_closeAll")){this.addClass(this.dom.iconCloseAll,"w2windowContainer_controlIcon_closeAll_over");}else{if(it.match("w2windowContainer_controlIcon_maximize")){this.addClass(this.dom.iconMaximize,"w2windowContainer_controlIcon_maximize_over");}else{if(it.match("w2windowContainer_scrollLeftBtn")){this.addClass(this.dom.nameScrollLeft,"w2windowContainer_scrollLeftBtn_over");}else{if(it.match("w2windowContainer_scrollRightBtn")){this.addClass(this.dom.nameScrollRight,"w2windowContainer_scrollRightBtn_over");}}}}}}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.handleMouseOutEvent=function(e){["WebSquare.uiplugin.windowContainer.handleMouseOutEvent"];try{$W._c.stopEvent(e);this.hideTooltip();var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2windowContainer_nameLayer")){if(it.getElement().id.indexOf(this.nowWindow)==-1){this.removeClass(it.getElement(),"w2windowContainer_selectedNameLayer");}}else{if(it.match("w2windowContainer_controlIcon_vertical")){this.removeClass(this.dom.iconVertical,"w2windowContainer_controlIcon_vertical_over");}else{if(it.match("w2windowContainer_controlIcon_horizontal")){this.removeClass(this.dom.iconHorizontal,"w2windowContainer_controlIcon_horizontal_over");}else{if(it.match("w2windowContainer_controlIcon_cascade")){this.removeClass(this.dom.iconCascade,"w2windowContainer_controlIcon_cascade_over");}else{if(it.match("w2windowContainer_controlIcon_sequential")){this.removeClass(this.dom.iconSequential,"w2windowContainer_controlIcon_sequential_over");}else{if(it.match("w2windowContainer_controlIcon_closeAll")){this.removeClass(this.dom.iconCloseAll,"w2windowContainer_controlIcon_closeAll_over");}else{if(it.match("w2windowContainer_controlIcon_maximize")){this.removeClass(this.dom.iconMaximize,"w2windowContainer_controlIcon_maximize_over");}else{if(it.match("w2windowContainer_scrollLeftBtn")){this.removeClass(this.dom.nameScrollLeft,"w2windowContainer_scrollLeftBtn_over");}else{if(it.match("w2windowContainer_scrollRightBtn")){this.removeClass(this.dom.nameScrollRight,"w2windowContainer_scrollRightBtn_over");}}}}}}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.handleDragStartEvent=function(){["WebSquare.uiplugin.windowContainer.handleDragStartEvent"];try{this.showModal();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.handleDragEndEvent=function(){["WebSquare.uiplugin.windowContainer.handleDragEndEvent"];try{this.hideModal();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aM.prototype.finalize=function(){["WebSquare.uiplugin.windowContainer.finalize"];try{for(var i=this.childControlList.length-1;i>=0;i--){this.childControlList[i].remove();}for(var i=this.storedFrame.length-1;i>=0;i--){var comp=$W._G.getComponentById(this.storedFrame[i]);if(comp!=null){comp.remove();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.windowContainer=$W._a.aM;$W._a.aW=function(){try{}catch(e){$l(e.message);$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.toHTML=function(){["WebSquare.uiplugin.grid.toHTML"];if(this.uncompleted){return;}var _1=[];var _2=this.options.overflowY==="scroll";var _3=this.options.title?" title='"+this.options.title.wq_replaceAll("'","&#39;")+"'":"";var _4=this.options.focusMode=="none"||this.options.focusFlow=="linear"?"":" tabIndex='0'";var _5=(this.options.style=="")?"style='overflow:hidden;'":"style='"+this.options.style+";overflow:hidden;'";_1.push("<div id='"+this.id+"' class='w2grid "+this.options.className+"' "+_5+" role='application' "+_3+_4+">");if(this.options.senseReader){_1.push("<div id='"+this.id+"_gridstart_div' style='height:0px; font-size:0; line-height:0px;' tabindex='0'>\uadf8\ub9ac\ub4dc \uc2dc\uc791</div>");}if(this.options.groupbyZone){_1.push("<div id='"+this.id+"_groupbyZone_div' class='w2grid_groupbyZone' style='width:0px; height:0px;'></div>");}_1.push("<div id='"+this.id+"_main_div' style='z-index:10;overflow:hidden;position:absolute;left:0px; right:"+(_2?this.scrollLayerWidthSize:"0")+"px; top:0px; bottom:"+this.scrollLayerWidthSize+"px;float:left;'>");_1.push(this.mainDataGridLayout());_1.push("</div>");_1.push("<div id='"+this.id+"_scrollX_div' style='z-index:20;overflow-x:hidden;overflow-y:hidden;position:absolute; height:0px; left:0px; right:"+(_2?this.scrollWidthSize:"0")+"px; bottom:0px;'>");_1.push(this.getScrollX());_1.push("</div>");_1.push("<div id='"+this.id+"_scrollY_div' style='z-index:15;position:absolute; overflow-x:hidden;overflow-y:scroll;width:"+(_2?this.scrollLayerWidthSize:"0")+"px; height: 100%;right:0px;'>");_1.push(this.getScrollY());_1.push("</div>");_1.push("<div id='"+this.id+"_iScrollX' class='w2grid_iScrollX' style='visibility:hidden;'></div>");_1.push("<div id='"+this.id+"_iScrollY' class='w2grid_iScrollY' style='visibility:hidden;'></div>");_1.push("<div id='"+this.id+"_resize_line' style='display:none;position:absolute;top:10px; bottom:0px;border:0px dashed #222222; border-left-width:1px;'></div>");_1.push("<div id='"+this.id+"_noresult' style='display:none;position:absolute;"+this.options.noResultMessageStyle+"' class='"+this.options.noResultMessageClass+"'>"+this.options.noResultMessage+"</div>");if(this.options.senseReader){_1.push("<div id='"+this.id+"_gridend_div' style='height:0px; font-size:0; line-height:0px;' tabindex='0'>\uadf8\ub9ac\ub4dc \ub05d</div>");}_1.push("</div>");return _1.join("");};$W._a.aW.prototype.getScrollY=function(){var _6="<div id='"+this.id+"_size_y' style='height:0px; position:absolute; top:0px; left:0px; width:18px;"+this.test_border+"'></div>";return _6;};$W._a.aW.prototype.getScrollX=function(){var _7=this.getFixedColumnLastIndex();var _8=0;for(var i=0;i<_7;i++){if(!this.hiddenList[i]){_8+=this.colWidthList[i];}}var _a=[];_a.push("<table id='"+this.id+"_scrollX_table' style='height:18px;table-layout:fixed; border-collapse:collapse; border-spacing:0px; width:100%'>");_a.push("<tr>");_a.push("<td id='"+this.id+"_scrollX_left' style='border:0px solid red;padding:0px 0px 0px 0px;height:"+this.scrollLayerWidthSize+"px;width:"+_8+"px;vertical-align:bottom;'>");_a.push("<div style='height:"+this.scrollLayerWidthSize+"px;overflow-x:scroll;overflow-y:hidden'></div>");_a.push("</td>");_a.push("<td style='border:0px solid orange;padding:0px 0px 0px 0px;height:18px;'>");_a.push("<div id='"+this.id+"_scrollX_right' style='height:18px;border:0px solid blue; overflow-x:scroll;overflow-y:hidden;padding:0px 0px 0px 0px;padding-top:-5px;' tabIndex='-1'>");_a.push("<div id='"+this.id+"_scroll_size' style='height:1px;width:"+parseInt(this.gridWidth-_8)+"px'></div>");_a.push("</div>");_a.push("</td>");_a.push("</tr>");_a.push("</table>");return _a.join("");};$W._a.aW.prototype.mainDataGridLayout=function(){["WebSquare.uiplugin.layoutController.prototype.mainDataGridLayout"];this.setTableStruct();var _b=[];_b.push(this.getBodyTable());_b.push(this.getFooterTable());this.setInitialCSS();return _b.join("");};$W._a.aW.prototype.setColArr=function(){this.colGroupArr=[];this.setColWidth();this.gridWidth=0;var _c=-1;if(this.options.rowStatusVisible){var _d=40;if(this.options.rowStatusWidth.length>0){if(this.options.rowStatusWidth.indexOf("*")>-1){_d=this.options.rowStatusWidth;_c++;}else{if((this.options.rowStatusWidth-0)>-1){_d=this.options.rowStatusWidth-0;}}}this.colWidthList.unshift(_d);this.hiddenList.unshift(false);this.hiddenAdaptiveList.unshift(false);}if(this.options.rowNumVisible){var _d=40;if(this.options.rowNumWidth.length>0){if(this.options.rowNumWidth.indexOf("*")>-1){_d=this.options.rowNumWidth;_c++;}else{if((this.options.rowNumWidth-0)>-1){_d=this.options.rowNumWidth-0;}}}this.colWidthList.unshift(_d);this.hiddenList.unshift(false);this.hiddenAdaptiveList.unshift(false);}if(_c>-1){this.autofitColumn=true;for(var i=0;i<2;i++){if(this.colWidthList[i]&&typeof this.colWidthList[i]=="string"){if(this.colWidthList[i].indexOf("*")>-1){this.autofitColumnIndexArr.push(i);this.autofitColumnWidthArr[i]=this.colWidthList[i];}}}}var _f;var _10;if(this.isIE6or7){_f=[];_10=this.colIndexes.bodyColInfo.colSpanArr;var len=this.colIndexes.bodyColInfo.colIndexArr.length;for(var i=0;i<len;i++){if(_10[i]){for(var j=0;j<_10[i];j++){_f[j]=true;}}}}this.colGroupArr.push("<colgroup>");for(var i=0;i<this.colWidthList.length;i++){if(this.colWidthList[i]==null){this.colWidthList[i]=70;}var _13=(isNaN(this.colWidthList[i]))?0:this.colWidthList[i];if(!this.hiddenList[i]){this.gridWidth+=_13;if(this.isIE6or7&&(i<this.defaultColCnt||!_f[i])){_13--;if(i==this.defaultColCnt){_13--;}}}else{_13=0;}this.colGroupArr.push("<col id='colGroupID_"+i+"' style='width:"+_13+"px;white-space:nowrap' />");}this.colGroupArr.push("</colgroup>");};$W._a.aW.prototype.setCss=function(){this.options.headerTableClass=this.struct.head.attr["class"]||"gridHeaderTableDefault";this.options.headerTrClass=this.struct.head.attr.rowClass||"gridHeaderTRDefault";this.options.headerTdClass=this.struct.head.attr.columnClass||"gridHeaderTDDefault";this.options.bodyTableClass=this.struct.body.attr["class"]||"gridBodyTableDefault";this.options.bodyTrClass=this.struct.body.attr.rowClass||"gridBodyTRDefault";this.options.bodyTdClass=this.struct.body.attr.columnClass||"gridBodyDefault";if(this.hasFooter){this.options.footerTableClass=this.struct.foot.attr["class"]||"gridFooterTableDefault";this.options.footerTrClass=this.struct.foot.attr.rowClass||"gridFooterTRDefault";this.options.footerTdClass=this.struct.foot.attr.columnClass||"gridFooterTDDefault";}if(this.hasSubtotal){this.options.subtotalTrClass=this.struct.subtotalArr[this.struct.subtotalArr.length-1].attr.rowClass||"gridSubtotalTRDefault";this.options.subtotalTdClass=this.struct.subtotalArr[this.struct.subtotalArr.length-1].attr.columnClass||"gridSubtotalDefault";}};$W._a.aW.prototype.setInitialCSS=function(){if(this.options.oddEvenColorDisplay){$W.cssStyleSheet.addRule("#"+this.id+" .evenTd","background-color:"+this.options.evenRowBackgroundColor);$W.cssStyleSheet.addRule("#"+this.id+" .oddTd","background-color:"+this.options.oddRowBackgroundColor);}this.rowStyleIndex=0;this.cellStyleIndex=0;this.readOnlyTdStyle="";this.readOnlyTdImg="";this.disabledTdStyle="";this.rowOverStyle="";if(this.options.readOnlyBackgroundColor!=""){this.readOnlyTdStyle="background-color:"+this.options.readOnlyBackgroundColor;}if(this.options.readOnlyBackgroundImg!=""||this.options.readOnlyBackgroundImgCSS!=""){if(this.options.readOnlyBackgroundImgCSS){this.readOnlyTdImg=this.options.readOnlyBackgroundImgCSS;}else{this.readOnlyTdImg="background:url("+this.options.readOnlyBackgroundImg+") no-repeat center center; background-size: cover";}}if(this.options.disabledBackgroundColor!=""){this.disabledTdStyle="background-color:"+this.options.disabledBackgroundColor;}if(this.options.disabledFontColor!=""){this.disabledTdStyle=(this.disabledTdStyle!="")?this.disabledTdStyle+";":"";this.disabledTdStyle+="color:"+this.options.disabledFontColor;}if(this.options.rowNumBackgroundColor!=""){$W.cssStyleSheet.addRule("#"+this.id+" ."+this.options.bodyTdClass+"_rowNumber","background-color:"+this.options.rowNumBackgroundColor);}if(this.options.rowMouseOver){this.rowOverStyle="background-color:"+this.options.rowMouseOverColor;}if(this.options.defaultCellHeight!=-1){$W.cssStyleSheet.addRule("#"+this.id+" td."+this.options.bodyTdClass,"height:"+this.options.defaultCellHeight+"px");$W.cssStyleSheet.addRule("#"+this.id+" th."+this.options.headerTdClass,"height:"+this.options.defaultCellHeight+"px");}};$W._a.aW.prototype.getGridClassName=function(_14,_15){if(_14==null||_14==""){return _15;}return _14;};$W._a.aW.prototype.grid2TableXml=function(_16){var _17=$W._B.getElementsByTagName(this.element,_16,$W._N._XML_NAMESPACE.W2);if(_17.length>0){return this.oneGrid2TableXml(_17[0]);}else{return null;}};$W._a.aW.prototype.xml2JSON=function(_18){var obj={attr:{},rowArr:[],rowAttrArr:[]};for(var i=0;i<_18.attributes.length;i++){if($W.nodeValueDeprecated){obj.attr[_18.attributes[i].name]=_18.attributes[i].value;}else{obj.attr[_18.attributes[i].nodeName]=_18.attributes[i].nodeValue;}}var _1b=$W._B.getElementsByTagName(_18,"row",$W._N._XML_NAMESPACE.W2);for(var i=0;i<_1b.length;i++){obj.rowAttrArr[i]={};for(var t=0;t<_1b[i].attributes.length;t++){obj.rowAttrArr[i][_1b[i].attributes[t].name]=_1b[i].attributes[t].value;}var _1d=$W._B.getElementsByTagName(_1b[i],"column",$W._N._XML_NAMESPACE.W2);var _1e=[];for(var j=0;j<_1d.length;j++){var _20=_1d[j];var col={"@xml":_20};for(var k=0;k<_20.attributes.length;k++){if($W.nodeValueDeprecated){col[_20.attributes[k].name]=_20.attributes[k].value;}else{col[_20.attributes[k].nodeName]=_20.attributes[k].nodeValue;}}_1e.push(col);}obj.rowArr.push(_1e);}return obj;};$W._a.aW.prototype.oneGrid2TableXml=function(_23){var _24=$W._B.serialize(_23);var _25=_24.indexOf("w2:header")>=0?"th":"td";_24=_24.wq_replaceAll("w2:header",this.options.fixPrint?"tbody":"thead");_24=_24.wq_replaceAll("w2:gBody","tbody");_24=_24.wq_replaceAll("w2:footer","tbody");_24=_24.wq_replaceAll("w2:row","tr");_24=_24.wq_replaceAll("w2:column",_25);var _26=$W._B.parse(_24);return _26;};$W._a.aW.prototype.setColWidth=function(){var _27=this.getColCnt();this.colWidthList=[];this.autoFitColWidthList=null;this.hiddenList=[];this.hiddenAdaptiveList=[];for(var i=0;i<_27;i++){this.colWidthList[i]=null;this.hiddenList[i]=false;this.hiddenAdaptiveList[i]=false;}this.initializeTableInfo();};$W._a.aW.prototype.getColCnt=function(){["WebSquare.uiplugin.layoutController.prototype.getColCnt"];try{var _29=0;var row=this.htmlInfo?this.htmlInfo.head.rowArr[0]:this.struct.head.rowArr[0];for(var i=0;i<row.length;i++){var _2c=row[i];_29+=parseInt(_2c.colSpan,10)||1;}return _29;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.initializeTableInfo=function(){["WebSquare.uiplugin.layoutController.prototype.initializeTableInfo"];try{var _2d=this;var _2e=function(_2f){if(_2f==null){return null;}var _30=[];var _31=[];var _32=[];var _33=[];var _34=[];var _35=_2f.rowArr;var _36=[];for(var i=0;i<_35.length;i++){var _38=[];for(var j=0;j<_2d.colWidthList.length;j++){_38.push(false);}_36.push(_38);}var _3a=0;if(_2d.options.rowNumVisible){_30.push(0);_32.push(0);_33.push(_35.length);_34.push([_3a++]);}if(_2d.options.rowStatusVisible){_30.push((_2d.options.rowNumVisible===true)?1:0);_32.push(0);_33.push(_35.length);_34.push([_3a++]);}for(var i=0;i<_35.length;i++){var _3b=_35[i];var x=0;for(var j=0;j<_3b.length;j++){var _3d=_3b[j];var _3e=parseInt(_3d.colSpan||1);var _3f=parseInt(_3d.rowSpan||1);while(typeof _36[i][x]!="undefined"&&_36[i][x]){x++;}_3d.colIndex=x+_2d.defaultColCnt;_30.push(x+_2d.defaultColCnt);_32.push(i);_33.push(_3f);var _40=_3d.width||"";if(_3e>1){if(_40.indexOf("*")>-1){_2d.autofitColumn=true;for(var _41=0;_41<_3e;_41++){var _42=x+_41;_2d.colWidthList[_42]=_40;_2d.autofitColumnWidthArr[_42+_2d.defaultColCnt]=_40;_2d.autofitColumnIndexArr.push(_42+_2d.defaultColCnt);}}_31[_30.length-1]=_3e;}if(_3e==1&&_2d.colWidthList[x]==null){if(_40.indexOf("*")>-1){_2d.autofitColumn=true;var _42=x;_2d.colWidthList[_42]=_40;_2d.autofitColumnIndexArr.push(_42+_2d.defaultColCnt);_2d.autofitColumnWidthArr[_42+_2d.defaultColCnt]=_40;}else{_2d.colWidthList[x]=parseInt(_40||0);}}for(var k=0;k<_3e;k++){if(!_34[x+_2d.defaultColCnt+k]){_34[x+_2d.defaultColCnt+k]=[];}_34[x+_2d.defaultColCnt+k].push(_3a);_36[i][x+k]=true;if(_3d.hidden=="true"){_2d.hiddenList[x+k]=true;}for(var l=1;l<_3f;l++){_36[i+l][x+k]=true;}}_3a++;delete _3d.hidden;}}return {colIndexArr:_30,colSpanArr:_31,trIndexArr:_32,rowSpanArr:_33,colIndexMatch:_34};};this.colIndexes={headerColInfo:_2e(this.struct.head),bodyColInfo:_2e(this.struct.body),footerColInfo:_2e(this.struct.foot)};if(this.hasSubtotal){this.colIndexes.subtotalColInfo=[];for(var i=0;i<this.struct.subtotalArr.length;i++){var obj=_2e(this.struct.subtotalArr[i]);this.colIndexes.subtotalColInfo.push(obj);this.colIndexes.subtotalColInfo[this.struct.subtotalArr[i].attr.targetColumnID]=obj;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.getFooterTable=function(){if(!this.hasFooter){return "";}this.hasFooter=true;var _47=this.options.footerSummary?" summary='"+this.options.footerSummary.wq_replaceAll("'","&#39;")+"'":"";var str="";str="<table id='"+this.id+"_foot_table' class='"+this.options.footerTableClass+"' style='position:absolute; bottom:0px; table-layout:fixed; border-collapse:collapse; border-spacing:0px; width:"+this.gridWidth+"px;'"+_47+">";str+=this.getColGroup(this.id+"_col_footer");if(this.options.footerCaption){str+="<caption>"+this.options.footerCaption+"</caption>";}if($W._G.isSafari()||$W._G.isChrome()){str+="<thead><tr></tr></thead>";}else{if($W._G.isIE()){var _49="";for(var i=0;i<this.getColCnt();i++){_49+="<td></td>";}str+="<thead style='visibility:collapse;'><tr>"+_49+"</tr></thead>";}}str+=this.getTableHtml(this.htmlInfo.foot,"tbody","td",this.options.footerTdClass);str+="</table>";str=str.wq_replaceAll("width=","or_wd=");str=str.wq_replaceAll("disabled=","dis=");return str;};$W._a.aW.prototype.getBodyTable=function(){var _4b="width:"+this.gridWidth+"px;";if(this.isIE6or7){_4b="";}var _4c=(this.element.getAttribute("summary")||"").wq_replaceAll("'","&#39;");var str="";str="<div id='"+this.id+"_dataLayer' style='position:absolute; width:100%; top:0px;bottom:0px;overflow:hidden;'>";str+=this.getGridHeaderFillerTable(this.headerXml,this.options.headerTdClass,this.options.headerTrClass,this.id+"_head_table",this.options.headerTableClass);str+="<table id='"+this.id+"_body_table' class='"+this.options.headerTableClass+"' style='position:absolute;left:0px;top:0px;table-layout:fixed; border-collapse:collapse; border-spacing:0px;"+_4b+"' summary='"+_4c+"' role='grid'>";str+=this.getColGroup(this.id+"_col_body");if(this.captionXml){var _4e=$W._B.parse("<caption/>");var _4f=null;for(var i=0;i<this.captionXml.attributes.length;i++){_4e.documentElement.setAttribute(this.captionXml.attributes[i].nodeName,this.captionXml.attributes[i].nodeValue);if(this.captionXml.attributes[i].nodeName=="value"){_4f=this.captionXml.attributes[i].nodeValue;}}if(_4f){_4e.documentElement.appendChild(_4e.createTextNode(_4f));}else{for(var i=0;i<this.captionXml.childNodes.length;i++){_4e.documentElement.appendChild(this.captionXml.childNodes[i].cloneNode(true));}}str+=$W._B.noNameSpaceSerialize(_4e);}if(this.isWebKit){if(!this.captionXml){var _51="transparent";var _52="0";for(var i=0;i<document.styleSheets.length;i++){var _53=document.styleSheets[i];for(var j=0;_53.cssRules&&j<_53.cssRules.length;j++){var _55=_53.cssRules[j];if(_55.selectorText=="."+this.options.headerTableClass){_51=_55.style["border-top-color"];_52=parseInt(_55.style["border-top-width"])/2;i=document.styleSheets.length;break;}}}str+="<caption style='height:"+_52+"px;background-color:"+_51+";'></caption>";}str+="<thead><tr></tr></thead>";}str+=this.getTableHtml(this.htmlInfo.head,"thead","th",this.options.headerTdClass);str+="<tbody id='"+this.id+"_body_tbody'></tbody>";str+="</table>";str+="</div>";str=str.wq_replaceAll("width=","or_wd=");return str;};$W._a.aW.prototype.getTableInfo=function(_56,_57,_58){var _59=$W.extend({},_56.attr);var _5a=[];var _5b=_56.rowAttrArr||[{}];var _5c=_56.rowArr;_59.id=this.id+"_"+_57+"_tbody";_59.style="";for(var i=0;i<_5c.length;i++){_5b[i].role="row";_5a.push([]);for(var j=0;j<_5c[i].length;j++){var _5f=$W.extend({},_5c[i][j]);_5f.role="gridcell";_5f["class"]=_57+" "+_57+"_data";if(this.isIE6or7){var _60=parseInt(_5f.colSpan||"1");var _61=parseInt(_5f.colIndex);if(_60>1){for(var k=1;k<_60;k++){if(this.hgap[_58+"_"+_61]!=false){this.hgap[_58+"_"+(_61+k)]=true;}}this.hgap[_58+"_"+_61]=true;}else{this.hgap[_58+"_"+_61]=false;}}var _63=_5f.textAlign;var _64=_5f.style;_64=_64+";text-align:"+(_63||"center");_5f.style=_64;_5a[i].push(_5f);}}return {attr:_59,rowArr:_5a,rowAttrArr:_5b};};$W._a.aW.prototype.getBodyHtmlInfo=function(){var _65=this.options.bodyTdClass;var _66=this.options.bodyTrClass;var _67=this.getTableInfo(this.struct.body,_65,_66);var _68=_67.attr;var _69=_67.rowArr;var _6a=_67.rowAttrArr;this.oneRowLength=_69.length;this.oneRowDataLength=0;this.tdIdList=[];this.bodyIdColIndexMap={};this.colMoveIndexMap={};var _6b=0;for(var i=0;i<_69.length;i++){_6a[i].trIndex=i;this.oneRowDataLength+=_69[i].length;for(var j=0;j<_69[i].length;j++){var _6e=_69[i][j];var _6f=_6e.style;var _70=_6f.split(";");if(_70.length>0){var _71=this.id+"_columnstyle_"+_6b+"_";for(var k=0;k<_70.length;k++){if(_70[k].indexOf(":")>-1){try{var _73=_70[k].split(":")[0].wq_trim();var _74=_70[k].split(":")[1].wq_trim();this.setColumnStyle(_6b,_73,_74);}catch(e){}break;}}}var _75=_6e.adaptiveStyle;if(_75){var _76=_75.split(";");if(_76.length>0){for(var m=0;m<_76.length;m++){if(_76[m].indexOf(":")>-1){try{var _78=_76[m].split(":")[0].wq_trim();var _79=_76[m].split(":")[1].wq_trim();this.setAdaptiveColumnStyle(_6b,_78,_79);}catch(e){}}}}}var _7a=_6e.inputType;if(_7a=="textarea"){if(_6e.displayType=="all"){_6e.style+=";word-break:break-all;white-space:normal;";}}var _7b=_6e.id;if(_6e.col_id==null){_6e.col_id=_7b;_6e.id=this.id+"_"+_7b;_6e["@xml"].setAttribute("col_id",_7b);_6e["@xml"].setAttribute("id",this.id+"_"+_7b);}else{_7b=_6e.col_id;}this._setCellInfo(_7b,_6e["@xml"]);this.bodyIdColIndexMap[_7b]=_6b;if(i==0){this.colMoveIndexMap[_7b]=_6b;}this.tdIdList.push(_7b);_6b++;}}return {attr:_68,rowArr:_69,rowAttrArr:_6a};};$W._a.aW.prototype.getHeaderHtmlInfo=function(){var _7c=this.options.headerTdClass;var _7d=this.options.headerTrClass;var _7e=this.getTableInfo(this.struct.head,_7c,_7d);var _7f=_7e.attr;var _80=_7e.rowArr;var _81=_7e.rowAttrArr;var _82=[];var _83=this.struct.head.rowArr;this.thIdList=[];_7f.id=this.id+"_head_table";_7f["class"]=this.options.headerTableClass;var _84=/(?:^|;)\s*height\s*:\s*(\d*)px\s*(?:$|;)/i;var _85=_84.exec(this.struct.head.attr.style);if(_85&&_85.length==2){this.headerHeight=parseInt(_85[1]);}_7f.style=this.options.hideHeader?"display:none":"";this.headCellInfoHash={};for(var i=0;i<_80.length;i++){_82.push([]);for(var j=0;j<_80[i].length;j++){var _88=_80[i][j];var _89=null;var _8a=_88.inputType;var _8b=_88.dataType;var _8c=_88.value;if(typeof _8c=="undefined"||_8c==null){_8c=_88.defaultValue;if(typeof _8c=="undefined"||_8c==null){_8c="";}}if(_8a=="checkbox"){_89="<input type='checkbox' style='border:0px solid blue;background-color:transprent;' />";}else{if(_8a=="select"){var _8d="";var _8e="";if(this.options.chooseOption){_8d=$W._G.getBoolean(this.options.useLocale)?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel;}else{if(this.options.allOption){var _8f=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";_8d=_8f;}else{var _90=$W._B.serialize(_88["@xml"]);var _91=(_90.match(/label\s*>[^<]+<\//)||"").toString();if(_91!==""){_8d=_91.slice(_91.toString().indexOf(">")+1,-2);}}}_89="<div style='width:100%;height:20px;top:0px;left:0px;position:relative;background-color:#ffffff' class='w2selectbox "+this.options.headerTdClass+" "+this.options.headerTdClass+"_data'>"+"<span style='display:none'></span>"+"<table class='w2selectbox_table_main' cellSpacing='0' cellPadding='0'>"+"<tr class='w2selectbox_row w2selectbox_row_main'>"+"<td class='w2selectbox_col_label'>"+"<div class='w2selectbox_label'>"+_8d+"</div></td>"+"<td class='w2selectbox_col_button'></td>"+"</tr></table></div>";}else{if(_8a=="text"&&_8b=="own"){_89="<input type='text' class='w2grid_head_input' style='width:95%; height:18px;' />";}else{var _92=_88.localeRef;if(_92!=null){_8c=this.getLocaleValue(_92);}else{if(_8c==null){_8c="";}}_89="<nobr style='padding-top:0px; padding-left:4px;padding-right:4px' >"+_8c+"</nobr>";}}}_82[i].push(_89);this.thIdList.push(_88.id);this.headCellInfoHash[_88.id]=_88["@xml"];this._setHeaderInfo(_88.id,_88["@xml"]);if(_88.col_id==null){_88.col_id=_88.id;}}}return {attr:_7f,rowArr:_80,rowAttrArr:_81,headerTdHtml:_82};};$W._a.aW.prototype.getFooterHtmlInfo=function(){var _93=this.options.footerTdClass;var _94=this.options.footerTrClass;var _95=this.getTableInfo(this.struct.foot,_93,_94);var _96=_95.attr;var _97=_95.rowArr;var _98=_95.rowAttrArr;var _99=/(?:^|;)\s*height\s*:\s*(\d*)px\s*(?:$|;)/i;var _9a=_99.exec(this.struct.foot.attr.style);if(_9a&&_9a.length==2){this.footerHeight=parseInt(_9a[1]);}return {attr:_96,rowArr:_97,rowAttrArr:_98};};$W._a.aW.prototype.getSubtotalHtmlInfo=function(_9b){var _9c=this.options.subtotalTdClass;var _9d=this.options.subtotalTrClass;var _9e=this.getTableInfo(_9b,_9c,_9d);var _9f=_9e.attr;var _a0=_9e.rowArr;var _a1=_9e.rowAttrArr;for(var i=0;i<_a0.length;i++){_a1[i].trIndex=i;_a1[i].targetColumnID=_9f.targetColumnID;for(var j=0;j<_a0[i].length;j++){_a0[i][j]["class"]+=_a0[i][j]["class"]+" "+this.id+"_subtotal__column"+j;delete _a0[i][j].hidden;}}return {attr:_9f,rowArr:_a0,rowAttrArr:_a1};};$W._a.aW.prototype.getTableHtml=function(_a4,_a5,_a6,_a7){var _a8=_a4.attr;var _a9=_a4.rowArr;var _aa=_a4.rowAttrArr;var _ab=[];_ab.push("<"+_a5+this.getAttributesString(_a8)+">");var _ac="";if(_a9.length>=2){_ac=" rowSpan='"+_a9.length+"'";}for(var i=0;i<_a9.length;i++){if(_a4==this.htmlInfo.head){_ab.push("<tr"+this.getAttributesString(_aa[i])+" class='gridHeaderStyle_"+i+"'"+">");}else{if(_a4==this.htmlInfo.foot){_ab.push("<tr"+this.getAttributesString(_aa[i])+" class='gridFooterStyle_"+i+"'"+">");}else{_ab.push("<tr"+this.getAttributesString(_aa[i])+">");}}if(i==0){var _ae="";var _af="";if(_a4==this.htmlInfo.head){_ae=this.options.rowNumHeaderValue;_af=this.options.rowStatusHeaderValue;}if(this.options.rowNumVisible){_ab.push("<"+_a6+_ac+" class='"+_a7+" "+_a7+"_rowNumber' value='"+_ae+"' colIndex='0' id='_headerRowNumber'></"+_a6+">");}if(this.options.rowStatusVisible){_ab.push("<"+_a6+_ac+" class='"+_a7+" "+_a7+"_rowStatus' value='"+_af+"' colIndex='"+(this.options.rowNumVisible?1:0)+"' id='_headerRowStatus'></"+_a6+">");}}for(var j=0;j<_a9[i].length;j++){_ab.push("<"+_a6+this.getAttributesString(_a9[i][j])+">");if(_a4.headerTdHtml&&_a4.headerTdHtml[i][j]){_ab.push(_a4.headerTdHtml[i][j]);}_ab.push("</"+_a6+">");}_ab.push("</tr>");}_ab.push("</"+_a5+">");return _ab.join("");};$W._a.aW.prototype.getGridHeaderFillerTable=function(_b1,_b2,_b3,_b4,_b5){if(!this.options.headFiller){return "";}var _b6=[];var _b7="";if(this.options.hideHeader){_b7="display:none";}_b6.push("<table class='"+this.options.headerTableClass+"' style='z-index:-1;position:absolute;table-layout:fixed; border-collapse:collapse; border-spacing:0px; width:"+this.gridWidth+"px; '>");_b6.push("<tbody id='"+this.id+"_"+_b2+"_tbody_tmp"+"' style='"+_b7+"' class='"+_b5+"'>");_b6.push("<tr class='"+_b3+"'>");_b6.push("<td style='' id='"+this.id+"_header_bg_td' class='"+_b2+" "+_b2+"_rowNumber'>&nbsp;</td>");_b6.push("</tr>");_b6.push("</tbody>");_b6.push("</table>");return _b6.join("");};$W._a.aW.prototype.getColGroup=function(id){return this.colGroupArr.join("").wq_replaceAll("colGroupID",id);};$W._a.aW.prototype.initializeLayoutEvents=function(){["WebSquare.uiplugin.layoutController.prototype.initializeLayoutEvents"];try{this.event.addListener2(this.getElementById(this.id+"_scrollX_right"),"onscroll",this.handleScrollX,this);this.event.addListener2(this.getElementById(this.id+"_scrollY_div"),"onscroll",this.handleScrollY,this);this.event.addListener2(this.render,"onmousewheel",this.handleWheel,this);if(this.options.groupbyZone){this.event.addListener2(this.getElementById(this.id+"_groupbyZone_div"),"onclick",this.handleGroupbyZoneClick,this);this.event.addListener2(this.getElementById(this.id+"_groupbyZone_div"),"onmousedown",this.handleChangeGroupDepth,this);}if(this.options.resize&&!$W._G.isMobile()){this.event.addListener(this.getElementById(this.id+"_head_table"),"onmousemove",this.event.bindAsEventListener(this,this.handleColumnResize));this.event.addListener(this.getElementById(this.id+"_head_table"),"onmousedown",this.event.bindAsEventListener(this,this.doColumnResize));this.event.addListener(document.documentElement,"onmouseup",this.event.bindAsEventListener(this,this.endColumnResize));if($W._G.isIE()&&$W._N.browserVersion()<=8){this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,function(e){if(this.resizeStarted||this.columnMoveTarget!=null){$W._c.preventDefault(e);}}));}}this.handleScrollX();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.handleScrollX=function(e){["WebSquare.uiplugin.layoutController.handleScrollX"];try{if(typeof (CollectGarbage)=="function"){var _bb=$W._N.getConfiguration("/WebSquare/"+this.options.pluginName+"/collectGarbage/@value");if(_bb!="none"&&_bb!="false"&&_bb!="draw"){CollectGarbage();}}var _bc=$W._c.getTarget(e);if(_bc){if(!this._scrollXPrev){this._scrollXPrev={};}if(this._scrollXPrev.scrollLeft===_bc.scrollLeft&&this._scrollXPrev.scrollTop===_bc.scrollTop&&this._scrollXPrev.scrollWidth===_bc.scrollWidth&&this._scrollXPrev.scrollHeight===_bc.scrollHeight){this.scrollXPreventEndEdit=true;}this._scrollXPrev.scrollLeft=_bc.scrollLeft;this._scrollXPrev.scrollTop=_bc.scrollTop;this._scrollXPrev.scrollWidth=_bc.scrollWidth;this._scrollXPrev.scrollHeight=_bc.scrollHeight;}$W._N.clearTimer(this.id+"_completiveDrawData",true);$W._N.clearTimer(this.id+"_applyStyleOptions",true);if(this.editedCell!=null&&!this.scrollXPreventEndEdit){this.editedCell.handleEndEdit(e);}this._handleScrollX();if(this.scrollXPreventEndEdit&&this.editedCell&&this.editedCell.setPosition){this.editedCell.setPosition();}this.scrollXPreventEndEdit=false;$W._c.fireEvent(this,"onscrollx",e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype._handleScrollX=function(){["WebSquare.uiplugin.layoutController._handleScrollX"];try{if(!this.body_table){this.head_table=this.getElementById(this.id+"_head_table");this.body_table=this.getElementById(this.id+"_body_table");if(this.hasFooter){this.foot_table=this.getElementById(this.id+"_foot_table");}this.scrollX_right=this.getElementById(this.id+"_scrollX_right");}if(typeof this.colGroup=="undefined"||this.colGroup==null){this.colGroup={};this.colGroup.bodyColList=this.body_table.getElementsByTagName("col");if(this.hasFooter){this.colGroup.footerColList=this.foot_table.getElementsByTagName("col");}else{this.colGroup.footerColList=null;}}var _bd=this.getFixedColumnLastIndex();var max=this.gridWidth-this.scrollX_right.scrollLeft-this.fixedWidth-1;var _bf=max;max=max>0?max:0;this.head_table.style.width=max+"px";if(this.isWebKit){var _c0=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){_c0.push(i-this.defaultColCnt);}}this.body_table.style.width=max-this.colGroup.bodyColList.length-_c0.length-1+"px";}else{this.body_table.style.width=max+"px";}if(this.hasFooter){this.foot_table.style.width=max+"px";}var _c2=[];var _c3=[];var _c4=0;var _c5=-1;if(this.options.scrollByColumn||$W._G.isIE(8)){var _c6=parseInt(document.getElementById(this.id+"_scrollY_div").style.width,10)-1;var _c7=(this.resizeObj&&this.resizeObj.clientWidth)?this.resizeObj.clientWidth:this.render.clientWidth;_c4=(_c7-1)-this.fixedWidth;if(_c6!=-1){_c4=_c4-_c6;}}for(var i=this.colGroup.bodyColList.length-1;i>=0;i--){var _c8=0;var _c9=this.colWidthList[i];if(this.hiddenList[i]){_c9=0;}if(max>_c9){max-=_c9;}else{if(max>0&&_bf<=_c4){_c5=i;if(this.options.scrollByColumn){_c8=max;}}_c9=max;max=0;}if(i<_bd&&!this.hiddenList[i]){_c9=this.colWidthList[i];}var _ca=0;var _cb=0;var _cc=0;if(this.isIE6or7&&_c9!=0){if(this.hgap[this.options.headerTrClass+"_"+i]==true){_ca=0;}else{_ca=1;}if(this.hgap[this.options.bodyTrClass+"_"+i]==true){_cb=0;}else{_cb=1;}if(this.hasFooter){if(this.hgap[this.options.footerTrClass+"_"+i]==true){_cc=0;}else{_cc=1;}}}if($W._G.isIE(8)&&this.defaultColCnt==0&&i==0&&_c9==0){_c9=1;if(_c5>=0){_c2[_c5]=_c2[_c5]-1;this.colGroup.bodyColList[_c5].style.width=_c2[_c5]+"px";if(this.hasFooter){_c3[_c5]=_c3[_c5]-1;this.colGroup.footerColList[_c5].style.width=_c3[_c5]+"px";}}}if(this.options.scrollByColumn){var _cd=this.colWidthList[i];if(_c9==1&&$W._G.isIE(8)&&this.defaultColCnt==0&&i==0){_cd=1;}if(_c9==0){_cd=0;}if(_c8>0){_cd=_c8;}if(_cd==0||_cd==1||_cd==this.colWidthList[i]||_c8>0){this.colGroup.bodyColList[i].style.width=(_cd-_cb)+"px";_c2[i]=_cd-_cb;if(this.hasFooter){this.colGroup.footerColList[i].style.width=(_cd-_cc)+"px";_c3[i]=_cd-_cc;}}}else{this.colGroup.bodyColList[i].style.width=(_c9-_cb)+"px";_c2[i]=_c9-_cb;if(this.hasFooter){this.colGroup.footerColList[i].style.width=(_c9-_cc)+"px";_c3[i]=_c9-_cc;}}}this.redrawTable();this.setColIndexInfo(_c2,_c3);this._setGridBorder();if(this.groupbyZoneStatus.groupbyZoneRender||this.options.useFilterList){this.resizeGroupbyZone();this.resizeGridList();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.redrawTable=function(){try{if(this.isWebKit){this.body_table.style.webkitTransform="rotateZ(0deg)";this.body_table.offsetHeight;this.body_table.style.webkitTransform="none";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.setColIndexInfo=function(_ce,_cf){["WebSquare.uiplugin.layoutController.setColIndexInfo"];try{if(typeof this.colGroup=="undefined"||this.colGroup==null){this.colGroup={};this.colGroup.bodyColList=this.getElementById(this.id+"_body_table").getElementsByTagName("col");var _d0=this.getElementById(this.id+"_foot_table");if(_d0){this.colGroup.footerColList=_d0.getElementsByTagName("col");}else{this.colGroup.footerColList=null;}}this.colIndexInfo={};var _d1=this.getVisibleColRange(this.colGroup.bodyColList,_ce);var _d2=this.getVisibleTds(this.colIndexes.bodyColInfo,_d1);this.colIndexInfo.body={colInfo:this.colIndexes.bodyColInfo,visibleTds:_d2.visibleTds,invisibleTds:_d2.invisibleTds,visibilityArr:_d2.visibilityArr,firstCoveredColIndex:_d1.firstCoveredColIndex};if(this.isIE6or7){var _d3=this.getVisibleTds(this.colIndexes.headerColInfo,_d1);this.colIndexInfo.header={colInfo:this.colIndexes.headerColInfo,visibleTds:_d3.visibleTds,invisibleTds:_d3.invisibleTds,visibilityArr:_d3.visibilityArr,firstCoveredColIndex:_d1.firstCoveredColIndex};if(this.hasFooter){var _d4=this.getVisibleColRange(this.colGroup.footerColList,_cf);var _d5=this.getVisibleTds(this.colIndexes.footerColInfo,_d4);this.colIndexInfo.footer={colInfo:this.colIndexes.footerColInfo,visibleTds:_d5.visibleTds,invisibleTds:_d5.invisibleTds,visibilityArr:_d5.visibilityArr,firstCoveredColIndex:_d4.firstCoveredColIndex};}if(this.hasSubtotal){this.colIndexInfo.subtotal={};for(var _d6 in this.subtotalRowHash){var _d7=this.getVisibleTds(this.colIndexes.subtotalColInfo[_d6],_d1);this.colIndexInfo.subtotal[_d6]={colInfo:this.colIndexes.subtotalColInfo[_d6],visibleTds:_d7.visibleTds,invisibleTds:_d7.invisibleTds,visibilityArr:_d7.visibilityArr,firstCoveredColIndex:_d1.firstCoveredColIndex};}}}if(this.options.lazyDrawHiddenColumn){this.hideInvisibleTds();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.hideInvisibleTds=(function(){var _d8=true;return function(){if(_d8){_d8=false;if(this.groupbyStatus.grouped){this.options.lazyDrawHiddenColumn=false;var _d9=$W._m.getMessage("Grid_warning6",this.id)||this.id+" groupby\uac00 \ud65c\uc131\ud654\ub418\uc5b4\uc11c lazyDrawHiddenColumn \uc18d\uc131\uc774 \ube44\ud65c\uc131\ud654 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.";$l(_d9);return;}for(var i=this.defaultColCnt;i<this.colIndexes.bodyColInfo.rowSpanArr.length;i++){if(this.colIndexes.bodyColInfo.rowSpanArr[i]>=2){this.options.lazyDrawHiddenColumn=false;var _db=$W._m.getMessage("Grid_warning7",this.id)||this.id+" : rowSpan\uc774 \uc788\uae30 \ub54c\ubb38\uc5d0 lazyDrawHiddenColumn \uc18d\uc131\uc774 \ube44\ud65c\uc131\ud654 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.";$l(_db);return;}}}var _dc=this.colIndexInfo.body.visibilityArr;var _dd=[];for(var i=0;i<this.drawedRowLength;i++){if(this.dataRowList[i].style.display=="none"){continue;}var _de=0;var cnt=0;for(var j=this.defaultColCnt;j<_dc.length;j++){if(this.colIndexes.bodyColInfo.trIndexArr[j]>_de){cnt=0;_de++;}var _e1=parseInt((j-this.defaultColCnt)/this.columnOrder.length);var _e2=(j-this.defaultColCnt)%this.columnOrder.length;var _e3=this.columnOrder[_e2]+(_e1*this.columnOrder.length);var td=this.data_td_list[_e3+(i*this.oneRowDataLength)];var _e5=this.colIndexes.bodyColInfo.colSpanArr[j]||1;if(_dc[j]){if(!this.initVisibilityArr[j]){this.drawCellData(i,i+this.rowIndex,_e3);this.applyCellStyleOptions(i+this.rowIndex,_e3);_dd[j]=true;}td.style.display="";if(_e5+cnt>1){td.setAttribute("colSpan",_e5+cnt);}else{td.removeAttribute("colSpan");}cnt=0;}else{td.style.display="none";cnt+=_e5;}}}for(var i=0;i<_dd.length;i++){if(_dd[i]){this.initVisibilityArr[i]=true;}}};})();$W._a.aW.prototype.getVisibleColRange=function(_e6,_e7){["WebSquare.uiplugin.layoutController.prototype.getVisibleColRange"];try{var _e8=this.render.clientWidth;var _e9=[];var _ea=0;var _eb=-1;var _ec=-1;var len=_e7?_e7.length:_e6.length;for(var i=0;i<len;i++){var _ef=_e7?_e7[i]:parseInt(_e6[i].style.width);_ea+=_ef;if(_ea>_e8){if(_eb>=0){if(_ef<3){_e9.push([_eb,i]);}else{_e9.push([_eb,i+1]);}_ec=i+1;_eb=-1;}else{_e9.push([i,i+1]);_ec=i+1;}break;}if(_ef<3){if(_eb!=-1){_e9.push([_eb,i]);_eb=-1;}}else{if(_eb==-1){_eb=i;}}}if(_eb!=-1&&_eb<i){_e9.push([_eb,i]);}_e9.firstCoveredColIndex=_ec!==-1?_ec:len;if(_ec==-1){_ec=len;}return _e9;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.getVisibleTds=function(_f0,_f1){["WebSquare.uiplugin.layoutController.prototype.getVisibleTds"];try{var _f2=[];var _f3=[];var _f4=[];for(var i=0;i<_f0.colIndexArr.length;i++){var _f6=_f0.colIndexArr[i];var _f7=_f0.colSpanArr[i]||1;for(var j=0;j<_f1.length;j++){if((_f1[j][0]<=_f6&&_f6<_f1[j][1])||(_f1[j][0]<=_f6+_f7-1&&_f6+_f7-1<_f1[j][1])||(_f6<=_f1[j][0]&&_f1[j][0]<_f6+_f7)||(_f6<=_f1[j][1]-1&&_f1[j][1]-1<_f6+_f7)){_f2[_f2.length]=i;_f4[_f4.length]=true;break;}}if(j==_f1.length){_f3[_f3.length]=i;_f4[_f4.length]=false;}}return {visibleTds:_f2,invisibleTds:_f3,visibilityArr:_f4};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype._setGridBorder=function(){["WebSquare.uiplugin.layoutController.prototype._setGridBorder"];try{if($W._G.isIE(8)){if(this.defaultColCnt==0){var _f9=this.colGroup.bodyColList[0].style.width;var _fa=(_f9=="1px"||_f9=="0px")?"0px":"";if(!this.leftMostTds){this.leftMostTds=[];var _fb=this.getElementById(this.id+"_head_table").getElementsByTagName("th");var _fc=this.hasFooter?this.getElementById(this.id+"_foot_table").getElementsByTagName("td"):[];for(var i=0;i<_fb.length;i++){if(_fb[i].getAttribute("colIndex")==0){this.leftMostTds.push(_fb[i]);}}for(var i=0;i<_fc.length;i++){if(_fc[i].getAttribute("colIndex")==0){this.leftMostTds.push(_fc[i]);}}}for(var i=0;i<this.leftMostTds.length;i++){this.leftMostTds[i].style.borderLeftWidth=_fa;this.leftMostTds[i].style.borderRightWidth=_fa;}if(this.all_data_td_list.length>0){if(!this.leftMostIndexArr){this.leftMostIndexArr=[];for(var i=0;i<this.oneRowDataLength;i++){if(this.all_data_td_list[i].getAttribute("colIndex")==0){this.leftMostIndexArr.push(i);}}}for(var i=0;i<this.leftMostIndexArr.length;i++){for(j=0;j<this.drawedRowLength;j++){var td=this.all_data_td_list[this.leftMostIndexArr[i]+j*this.oneRowDataLength];td.style.borderLeftWidth=_fa;td.style.borderRightWidth=_fa;}}}if(this.hasSubtotal&&this.drawedSubtotal){for(var i=0;i<this.drawedSubtotal.length;i++){for(var j=0;j<this.drawedSubtotal[i].length;j++){var td=this.drawedSubtotal[i][j].cells[0];if(td.cellIndex==0){td.style.borderLeftWidth=_fa;td.style.borderRightWidth=_fa;}}}}}if(!this._setGridBorderNoRefresh){var _100=this.getElementById(this.id+"_dataLayer");var _101=_100.style.display;var _102=document.activeElement;_100.style.display="none";_100.offsetHeight;_100.style.display=_101;if(document.activeElement!=_102&&this.hasClass(_102,this.options.bodyTdClass)){_102.focus();}}}if(this.isIE6or7){if(!this.colIndexInfo){this.setColIndexInfo();}if(this.colGroup){this._setBorderFolding(this.all_data_td_list,this.colIndexInfo.body,this.drawedRowLength);if(!this.headerTds){this.headerTds=this.getElementById(this.id+"_head_table").getElementsByTagName("th");}this._setBorderFolding(this.headerTds,this.colIndexInfo.header);}if(this.hasFooter){if(!this.footerTds){this.footerTds=this.getElementById(this.id+"_foot_table").getElementsByTagName("td");}this._setBorderFolding(this.footerTds,this.colIndexInfo.footer);}if(this.hasSubtotal){this._setSubtotalBorder();}if(!this._setGridBorderNoRefresh){var _100=this.getElementById(this.id+"_dataLayer");var _103=_100.style.filter;var _102=document.activeElement;_100.style.filter="alpha(opacity=99)";_100.style.filter=_103;if(document.activeElement!=_102&&this.hasClass(_102,this.options.bodyTdClass)){_102.focus();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype._setBorderFolding=function(_104,_105,_106){["WebSquare.uiplugin.layoutController.prototype._setBorderFolding"];try{if(!_104||_106==0){return;}var _106=_106||1;var _107=_105.firstCoveredColIndex;var _108=this.oneRowDataLength+this.defaultColCnt;for(var i=0,len=_105.visibilityArr.length;i<len;i++){var _10a=_105.colInfo.colIndexArr[i];var _10b=_105.visibilityArr[i];var _10c=_104[i].style.borderWidth==="0px";if(_106>1){_10c=_10c||_104[i+_108].style.borderWidth==="0px";}if(_10a<_107&&!_10b&&!_10c){for(var j=0;j<_106;j++){_104[i+j*_108].style.borderWidth="0px";}}else{if((_10a>=_107||_10b)&&_10c){for(var j=0;j<_106;j++){_104[i+j*_108].style.borderWidth="";_104[i+j*_108].style.borderStyle="";}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype._setSubtotalBorder=function(){["WebSquare.uiplugin.layoutController.prototype._setSubtotalBorder"];try{if(!this.drawedSubtotal){return;}var _10e={};for(idx=0;idx<this.drawedSubtotal.length;idx++){var _10f=this.drawedSubtotal[idx];if(_10e[_10f.targetID]){continue;}_10e[_10f.targetID]=true;var _110=this.colIndexInfo.subtotal[_10f.targetID];var _111=_110.firstCoveredColIndex;var col=0;for(var i=0;i<_10f.length;i++){var row=_10f[i];for(var j=0;j<row.cells.length;j++,col++){var _116=_110.colInfo.colIndexArr[col];var _117=_110.visibilityArr[col];var _118=row.cells[j].style.borderWidth==="0px";if(_116<_111&&!_117&&!_118){for(var idx2=idx;idx2<this.drawedSubtotal.length;idx2++){if(this.drawedSubtotal[idx2].targetID==_10f.targetID){this.drawedSubtotal[idx2][i].cells[j].style.borderWidth="0px";}}}else{if((_116>=_111||_117)&&_118){for(var idx2=idx;idx2<this.drawedSubtotal.length;idx2++){if(this.drawedSubtotal[idx2].targetID==_10f.targetID){this.drawedSubtotal[idx2][i].cells[j].style.borderWidth="";}}}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.handleWheel=function(e){["WebSquare.uiplugin.layoutController.handleWheel"];var _11b=e.detail;var _11c=e.wheelDelta;var _11d=e.wheelDeltaY;var _11e=e.wheelDeltaX;var _11f=this.options.wheelRows;var _120=0;var _121=navigator.userAgent.indexOf("Windows")!=-1||false;var _122=navigator.userAgent.indexOf("Macintosh")!=-1||false;if(this.options.groupbyZone){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2grid_groupbyZone_scrollView")||it.match("w2grid_customFilter_scrollView")){$W._c.stopPropagation(e);return;}}}if($W._G.isChrome()){_120=_11c<0?_11c*-1:_11c;if(_121){_11f=(_120/120)*_11f;}else{if(_122){_11f=(_120/120)*_11f;}}}else{if($W._G.isSafari()){_120=_11c<0?_11c*-1:_11c;if(_121){_11f=(_120/120)*_11f;}else{if(_122){_11f=(_120/12)*_11f;}}}else{if($W._G.isFF()){_120=_11b<0?_11b*-1:_11b;if(_121){_11f=(_120/3)*_11f;}else{if(_122){_11f=_120*_11f;}}}else{if($W._G.isOpera()){_120=_11c<0?_11c*-1:_11c;if(_121){_11f=(_120/120)*_11f;}else{if(_122){_11f=(_120/160)*_11f;}}}else{if($W._G.isIEAllVersion("8 9 10 11")){_120=_11c<0?_11c*-1:_11c;_11f=(_120/120)*_11f;}}}}}_11f=Math.floor(_11f);if(("wheelDeltaX" in e)&&Math.abs(_11e)>Math.abs(_11d)){var _124=this.getElementById(this.id+"_scrollX_right");_124.scrollLeft-=_11e;$W._c.stopEvent(e);return;}var _125=this.getElementById(this.id+"_scrollY_div");this.scrollEvent=true;if(_11c>0||_11b<0){if(_125.scrollTop==0){if(this.options.wheelStop){$W._c.stopEvent(e);}return;}_125.scrollTop=this.oneRowScrollHeight*(this.rowIndex-_11f);}else{if(_11c<0||_11b>0){var _126=this.getElementById(this.id+"_scrollY_div");if(this.rowIndex<0||_126.clientHeight==0||_126.scrollTop==_126.scrollHeight-_126.clientHeight){if(this.options.wheelStop){$W._c.stopEvent(e);}return;}_125.scrollTop=this.oneRowScrollHeight*(this.rowIndex+_11f);}}$W._c.stopEvent(e);};$W._a.aW.prototype.handleColumnResize=function(e){["WebSquare.uiplugin.layoutController.prototype.handleColumnResize"];try{this.handleResizeLine(e);if(this.columnMoveTarget!=null){return;}var it=this.event.getTargetIterator(e,this.render);var _129=null;while(it.next()){var el=it.getElement();if(el.tagName=="TH"||el.tagName=="TD"){_129=el;}if(el.tagName=="NOBR"){_129=null;break;}}this.getElementById(this.id+"_head_table").style.cursor="";this.getElementById(this.id+"_head_table").cursor="";if(_129==null){return;}var _12b=$W._c.getMouseX(e);var _12c=$W._H.getAbsoluteLeft(_129);var _12d=parseInt(_129.getAttribute("colSpan")||1,10);var _12e=parseInt(_129.getAttribute("colIndex"),0);var _12f=_12c;if(_12b-_12f<10&&_12e!=0){this.getElementById(this.id+"_head_table").style.cursor="col-resize";this.getElementById(this.id+"_head_table").cursor="col-resize";return;}for(var i=0;i<_12d;i++){_12f+=parseInt(this.colGroup.bodyColList[_12e+i].style.width);if(_12f-10<_12b&&_12b<_12f+10){this.getElementById(this.id+"_head_table").style.cursor="col-resize";this.getElementById(this.id+"_head_table").cursor="col-resize";return;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.doColumnResize=function(e){["WebSquare.uiplugin.layoutController.prototype.doColumnResize"];try{var _132=$W._c.getTarget(e);var it=this.event.getTargetIterator(e,this.render);var _134=null;this.resize_colIndex=null;while(it.next()){if(it.match(this.options.headerTdClass)){_134=it.getElement();}}if(_134==null){return;}this.startResizeX=$W._c.getScreenX(e);if(this.getElementById(this.id+"_head_table").cursor=="col-resize"){$W._c.preventDefault(e);this.resizeStarted=true;var _135=$W._c.getMouseX(e);var _136=$W._H.getAbsoluteLeft(_134);var _137=parseInt(_134.getAttribute("colSpan")||1,10);var _138=_134.getAttribute("header_id");var _139=this._getRealColIndex("head",_138)+this.defaultColCnt;if(_138=="_headerRowNumber"||_138=="_headerRowStatus"){_139=parseInt(_134.getAttribute("colindex"),10);}var _13a=_136;this.resizeColIndex=_139;if(_135-_13a<10&&_139!=0){this.resizeColIndex--;}else{for(var i=0;i<_137;i++){_13a+=parseInt(this.colGroup.bodyColList[_139+i].style.width);if(_13a-10<_135&&_135<_13a+10){this.resizeColIndex+=i;break;}}}}else{if(this.options.columnMove){var _138=_134.getAttribute("header_id");var _13c=this.htmlInfo.head.rowArr[0];var _13d=true;for(var i=0;i<_13c.length;i++){if(_13c[i].id==_138){_13d=false;break;}}if(_13d||this.colMoveBolockedHeaderObj[_138]){return;}this.resizeStarted=false;if(_138!="_headerRowNumber"&&_138!="_headerRowStatus"){this.columnMoveTarget=this.getHeaderIndex(_138);this.columnMoveTargetId=_138;this.getElementById(this.id+"_head_table").style.cursor="pointer";this.addClass("w2noselect");$W._G.emptySelection();}}else{if(this.options.groupbyZone){this.resizeStarted=false;var _138=_134.getAttribute("header_id");if(_138!="_headerRowNumber"&&_138!="_headerRowStatus"){this.groupbyZoneStatus.clickedHeaderInfo={};this.groupbyZoneStatus.clickedHeaderInfo.index=this._getRealColIndex("head",_138);this.groupbyZoneStatus.clickedHeaderInfo.value=_134.getAttribute("value");this.groupbyZoneStatus.clickedHeaderInfo.headerID=_138;if(this.groupbyStatus.sortIndexArr!=null&&this.groupbyStatus.sortOrderArr!=null){var _13e=false;var _13f={};_13f.render=_134;_13f.parentRender=this.render.getElementsByTagName("div")[0];_13f.headerID=_134.getAttribute("header_id");_13f.headerIndex=this.getHeaderIndex(_13f.headerID);for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(_13f.headerIndex==this.groupbyStatus.sortIndexArr[i]){_13e=true;break;}}if(_13e){if(this.groupbyFilterScrollView){this.toggleGroupbyFilterList(_13f);}else{this.createGroupbyFilterList(_13f);}}else{this.hideGroupbyFilterList();this.showGroupbyHeaderGhost(e,_138);}}else{this.showGroupbyHeaderGhost(e,_138);}this.getElementById(this.id+"_head_table").style.cursor="pointer";this.addClass("w2noselect");$W._G.emptySelection();}}}}this.handleResizeLine(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.endColumnResize=function(e){["WebSquare.uiplugin.layoutController.prototype.endColumnResize"];try{if(this.resizeStarted){this.endResizeX=$W._c.getScreenX(e);var _141=this.resizeColIndex||0;while(this.hiddenList[_141]==true){_141--;if(_141<0){break;}}if(_141>=0){var _142=this.colWidthList[_141];var _143=_142+this.endResizeX-this.startResizeX;_143=(_143<20)?20:_143;this.setColumnWidth(_141-this.defaultColCnt,_143);}this.resizeStarted=false;this.columnMoveTarget=null;this.handleResizeLine(e);this.getElementById(this.id+"_head_table").style.cursor="";$W._G.emptySelection();this.removeClass("w2noselect");}else{if(this.columnMoveTarget!=null){var _144=$W._c.getTarget(e);var it=this.event.getTargetIterator(e,this.render);var _146=null;while(it.next()){if(it.match(this.options.headerTdClass)){_146=it.getElement();}}var _147;var _148=this.columnMoveTarget;if(_146!=null){var _149=_146.getAttribute("header_id");var _14a=this.htmlInfo.head.rowArr[0];var _14b=true;for(var i=0;i<_14a.length;i++){if(_14a[i].id==_149){_14b=false;break;}}if(!_14b){_147=this.getHeaderIndex(_149);}}else{_147=this.resize_colIndex;}if(_148!=null&&_148!=_147){this.moveColumn(_148,_147);}this.resizeStarted=false;this.columnMoveTarget=null;this.handleResizeLine(e);this.getElementById(this.id+"_head_table").style.cursor="";$W._G.emptySelection();this.removeClass("w2noselect");}else{if(this.groupbyZoneStatus.clickedHeaderInfo!=null){var it=this.event.getTargetIterator(e,this.render);var _14d=null;while(it.next()){if(it.match("w2grid_groupbyZone")){_14d=it.getElement();if(this.groupbyStatus.sortIndexArr==null){this.groupbyStatus.sortIndexArr=[];}if(this.groupbyStatus.sortOrderArr==null){this.groupbyStatus.sortOrderArr=[];}for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyZoneStatus.clickedHeaderInfo.index==this.groupbyStatus.sortIndexArr[i]){this.groupbyZoneStatus.clickedHeaderInfo=null;this.resizeStarted=false;return;}}if(this.options.groupbyMaxCount!=-1){if(this.options.groupbyMaxCount<=this.groupbyStatus.sortIndexArr.length){$W.logger.printLog("groupby max column count has been exceeded.");this.groupbyZoneStatus.clickedHeaderInfo=null;this.resizeStarted=false;return;}}this.groupbyStatus.sortIndexArr.push(this.groupbyZoneStatus.clickedHeaderInfo.index);this.groupbyStatus.sortOrderArr.push(1);var _14e={};_14e.sortIndex=this.groupbyStatus.sortIndexArr;_14e.sortOrder=this.groupbyStatus.sortOrderArr;if(this.groupbyStatus.filter!=null){_14e.filter=this.groupbyStatus.filter;}var _14f=$W._c.fireEvent(this,"ongroupby",_14e);if(_14f===false){var _150=this.getColCnt()+this.defaultColCnt;_14e.rowNumHeader={colSpan:_150,inputType:"expression",expression:" toggle() + depthStr() + ' [ ' + count() + ' \uac74 ] ' ",align:"left"};_14e.footerVisible=false;_14e.rowNumFooter={colSpan:_150};this.groupby(_14e);}if(this.groupbyFilterScrollView){this.hideGroupbyFilterList();}break;}}this.groupbyZoneStatus.clickedHeaderInfo=null;this.resizeStarted=false;this.handleResizeLine(e);this.getElementById(this.id+"_head_table").style.cursor="";$W._G.emptySelection();this.removeClass("w2noselect");}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.handleResizeLine=function(e){["WebSquare.uiplugin.layoutController.prototype.handleResizeLine"];try{var _152=this.getElementById(this.id+"_resize_line");if(!this.resize_ghost){this.resize_ghost=document.createElement("div");this.resize_ghost.className="w2grid_columnMove_ghost";this.resize_ghost.style.display="none";document.body.appendChild(this.resize_ghost);this.resize_arrow=document.createElement("div");this.resize_arrow.className="w2grid_columnMove_arrow";this.resize_arrow.style.display="none";document.body.appendChild(this.resize_arrow);}if(this.resizeStarted){_152.style.cssText="position:absolute;top:10px; bottom:0px;border:0px dashed #222222; border-left-width:1px;";_152.style.display="block";_152.style.zIndex=100;_152.style.top=0;_152.style.height=this.render.offsetHeight+"px";if(this.getElementById(this.id+"foot_table")){_152.style.height=(this.render.offsetHeight-this.getElementById(this.id+"_foot_table").offsetHeight-this.getElementById(this.id+"_scrollX_div").offsetHeight)+"px";}_152.style.left=($W._c.getMouseX(e)-$W._H.getAbsoluteLeft(this.render))+"px";this.resize_ghost.style.display="none";}else{if(this.columnMoveTarget!=null){var _153=$W._c.getTarget(e);var it=this.event.getTargetIterator(e,this.render);var _155=null;while(it.next()){if(it.match(this.options.headerTdClass)){_155=it.getElement();}}if(_155!=null){var _156=this.columnMoveTargetId;var _157=this.getHeaderIndex(_156);var _158=_155.getAttribute("header_id");var _159=this.getHeaderIndex(_158);var _15a=this._getRealColIndex("head",_158);var _15b=this.htmlInfo.head.rowArr[0];var _15c=true;for(var i=0;i<_15b.length;i++){if(_15b[i].id==_158){_15c=false;break;}}if(_15c){return;}if(_158=="_headerRowNumber"||_158=="_headerRowStatus"||_157==_159){_152.style.display="none";this.resize_ghost.style.display="none";this.resize_arrow.style.display="none";}else{this.resize_colIndex=_159;var _15e=null;if(this.colMoveBolockedHeaderObj[_158]){return;}else{for(var i=0;i<this.htmlInfo.body.rowArr.length;i++){for(var j=0;j<this.htmlInfo.body.rowArr[i].length;j++){if(this.htmlInfo.body.rowArr[i][j]["@col"]==_15a){_15e=this.bodyIdColIndexMap[this.htmlInfo.body.rowArr[i][j]["col_id"]];break;}}if(_15e!==null){break;}}}var _160=this.getElementById(this.id+"_head_table");var _161=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));var _162=$W._H.getAbsoluteTop(this.render);var _163=$W._H.getAbsoluteLeft(this.render);var _164=this.getCellPosition(0,_15e,"left");var _165=this.getCellSize(0,_15e,"width");var _166=_164+(_157<_159?_165:0);this.resize_ghost.innerHTML=_161[this.columnMoveTarget+this.defaultColCnt].innerHTML;this.resize_ghost.style.display="block";this.resize_ghost.style.top=(_162+_161[this.columnMoveTarget].offsetHeight+5)+"px";this.resize_ghost.style.left=(_163+_166+5)+"px";this.resize_arrow.style.display="block";this.resize_arrow.style.top=(_162-this.resize_arrow.offsetHeight)+"px";this.resize_arrow.style.left=(_163+_166-parseInt(this.resize_arrow.offsetWidth/2,10)+1)+"px";_152.style.display="block";_152.style.zIndex=9999;_152.style.border="1px solid #3a3f44";_152.style.top=0;_152.style.left=_166+"px";_152.style.height=this.render.offsetHeight+"px";if(this.getElementById(this.id+"foot_table")){_152.style.height=(this.render.offsetHeight-this.getElementById(this.id+"_foot_table").offsetHeight-this.getElementById(this.id+"_scrollX_div").offsetHeight)+"px";}$W._G.emptySelection();}}}else{_152.style.display="none";this.resize_ghost.style.display="none";this.resize_arrow.style.display="none";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype._setColumnWidth=function(_167,_168){["WebSquare.uiplugin.layoutController.prototype._setColumnWidth"];try{this.autoFitColWidthList=null;if(this.hiddenList[_167]){this.colWidthList[_167]=_168;}else{var _169=(isNaN(this.colWidthList[_167]))?0:this.colWidthList[_167];this.colWidthList[_167]=_168;this.gridWidth+=(_168-_169);this.arrangeOverflowXScroll();this.setOverflowX();this.handleScrollX();var _16a=_167-this.defaultColCnt;if(_16a>=0){var _16b=this.getCellInfo(_16a);if(_16b.options.inputType=="textarea"){this.drawColumnData(_16a);}else{if((_16b.options.inputType=="text"||_16b.options.inputType=="secret"||_16b.options.inputType=="calendar")&&_16b.options.embeddedInput){var _16c=0;for(var i=0;i<=_16a;i++){_16b=this.getCellInfo(i);_16c+=(_16b.options.colSpan-0);if(_16c-1==_16a){_16a=i;break;}}if(this.embeddedWidthObj[_16a]){this.embeddedWidthObj[_16a]["isChanged"]=true;}this.drawColumnData(_16a);}}}this.handlerResize_drawInitializer();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.setColumnVisible=function(_16e,_16f){["WebSquare.uiplugin.layoutController.prototype.setColumnVisible"];var _16f=$W._G.getBoolean(_16f);var _170=this.getCellInfo(_16e);var _171=this._getRealColIndex("body",_170.options.col_id)+this.defaultColCnt;for(var i=0;i<_170.options.colSpan;i++){this.hiddenList[_171+i]=!_16f;}this.gridWidth=0;for(var i=0;i<this.colWidthList.length;i++){if(!this.hiddenList[i]){this.gridWidth+=this.colWidthList[i];}}if(this.options.hiddenClass!=""||_170.options.hiddenClass!=""){this.drawData(this.rowIndex,0);var _173=this.getColumnID(_16e);var _174=this.options.hiddenClass;if(_170.options.hiddenClass!=""){_174=_170.options.hiddenClass;}var th=(this.bodyToHeaderRelation[_173]!=undefined)?this.getHeaderLayer(this.bodyToHeaderRelation[_173]):null;if(!_16f){if(th!=undefined&&!this.hasClass(th,_174)){this.addClass(th,_174);}}else{if(th!=undefined&&this.hasClass(th,_174)){this.removeClass(th,_174);}}}if(this.options.lazyDrawHiddenColumn&&_16f&&this.initVisibilityArr&&!this.initVisibilityArr[_171]){var _176=this.colIndexInfo.body.colInfo.colIndexArr;for(var i=0;i<_176.length;i++){if(_176[i]==_171){for(var j=0;j<=this.lastIndex;j++){this.drawCellData(j,j+this.rowIndex,i-this.defaultColCnt);this.applyCellStyleOptions(j+this.rowIndex,i-this.defaultColCnt);}}}this.initVisibilityArr[_171]=true;}if(this.options.adaptive=="crosstab"&&this.hasClass("w2grid_adaptive_crosstab")){this.setAdaptiveColumnVisible(_171,_16f);}$W._N.setTimer(function(){this.arrangeOverflowXScroll();this.setOverflowX();this.handleScrollX();if(this.options.autoFit||this.autofitColumn){this._setAutoFit();}},{key:this.id+"_setColumnVisible",caller:this});};$W._a.aW.prototype.setScrollLeft=function(left){["WebSquare.uiplugin.layoutController.prototype.setScrollLeft"];left=parseInt(left,10);try{var _179=this.getElementById(this.id+"_scrollX_right");_179.scrollLeft=left;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.setScrollTop=function(top){["WebSquare.uiplugin.layoutController.prototype.setScrollTop"];top=parseInt(top,10);try{this.scrollEvent=true;var _17b=this.getElementById(this.id+"_scrollY_div");_17b.scrollTop=top;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.getScrollLeft=function(){["WebSquare.uiplugin.layoutController.prototype.getScrollLeft"];try{var _17c=this.getElementById(this.id+"_scrollX_right");return _17c.scrollLeft;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.getScrollTop=function(){["WebSquare.uiplugin.layoutController.prototype.getScrollTop"];try{var _17d=this.getElementById(this.id+"_scrollY_div");return _17d.scrollTop;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.setGridStyle=function(doc){if(doc.nodeType==9){doc=doc.documentElement;}var _17f=this.getParent();if(_17f&&_17f.parentControl&&_17f.parentControl.options.pluginName=="wframe"){_17f=_17f.parentControl;}this.remove();this["__removed_object__"]=true;var _180=$W.controlFactory.create(null,null,doc);_180.writeTo(_17f);_180.activate();};$W._a.aW.prototype.getGridStyle=function(){["WebSquare.uiplugin.grid.prototype.getGridStyle"];try{return $W._B.serialize(this.element);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aW.prototype.setTableStruct=function(){this.headerXml=$W._B.getElementsByTagName(this.element,"header",$W._N._XML_NAMESPACE.W2)[0];this.bodyXml=$W._B.getElementsByTagName(this.element,"gBody",$W._N._XML_NAMESPACE.W2)[0];this.struct={head:this.xml2JSON(this.headerXml),body:this.xml2JSON(this.bodyXml)};this.updateStruct(this.struct.head.rowArr);this.updateStruct(this.struct.body.rowArr);this.footerXml=$W._B.getElementsByTagName(this.element,"footer",$W._N._XML_NAMESPACE.W2)[0];if(this.footerXml){this.hasFooter=true;this.struct.foot=this.xml2JSON(this.footerXml);this.updateStruct(this.struct.foot.rowArr);}this.subtotalXmlArr=$W._B.getElementsByTagName(this.element,"subTotal",$W._N._XML_NAMESPACE.W2);if(this.subtotalXmlArr.length>0){this.hasSubtotal=true;this.drawedSubtotal=[];this.struct.subtotalArr=[];for(var i=0;i<this.subtotalXmlArr.length;i++){var obj=this.xml2JSON(this.subtotalXmlArr[i]);this.struct.subtotalArr.push(obj);this.struct.subtotalArr[obj.attr.id]=obj;this.updateStruct(obj.rowArr);}}this.setCss();this.setColArr();this.htmlInfo={head:this.getHeaderHtmlInfo(),body:this.getBodyHtmlInfo()};if(this.footerXml){this.htmlInfo.foot=this.getFooterHtmlInfo();}if(this.subtotalXmlArr.length>0){this.htmlInfo.subtotalArr=[];this.subtotalStrList={};for(var i=0;i<this.struct.subtotalArr.length;i++){var obj=this.getSubtotalHtmlInfo(this.struct.subtotalArr[i]);this.htmlInfo.subtotalArr.push(obj);this.htmlInfo.subtotalArr[obj.attr.id]=obj;this.subtotalStrList[obj.attr.targetColumnID]=obj;}}this.captionXml=$W._B.getElementsByTagName(this.element,"caption",$W._N._XML_NAMESPACE.W2)[0];var _183=this.getColCnt();this.columnOrder=[];for(var i=0;i<_183;i++){this.columnOrder.push(i);}};$W._a.aW.prototype.updateStruct=function(_184){var cnt=0;var map=[];var _187=this.getColCnt();for(var i=0;i<_184.length;i++){var row=[];for(var j=0;j<_187;j++){row.push(null);}map.push(row);}for(var i=0;i<_184.length;i++){for(var j=0;j<_184[i].length;j++){var col;for(col=0;col<map[i].length;col++){if(map[i][col]===null){break;}}var cell=_184[i][j];cell["@col"]=col;var _18d=cell["colSpan"]||cell["colspan"]||1;var _18e=cell["rowSpan"]||cell["rowspan"]||1;for(var k=0;k<_18e;k++){for(var l=0;l<_18d;l++){map[i+k][col+l]=cnt;}}cnt++;}}};$W._a.aW.prototype._getRealColIndex=function(type,id){for(var i=0;i<this.htmlInfo[type].rowArr.length;i++){for(var j=0;j<this.htmlInfo[type].rowArr[i].length;j++){if(this.htmlInfo[type].rowArr[i][j]["col_id"]==id){return this.htmlInfo[type].rowArr[i][j]["@col"];}}}return null;};$W._a.aW.prototype._moveColumn=function(_195,_196,_197,_198,_199,_19a){var _196=_196||"td";var _19b=[];for(var i=0;i<_195[_197].childNodes.length;i++){if(_195[_197].childNodes[i].nodeName.toLowerCase()==_196){_19b.push(_195[_197].childNodes[i]);}}var _19d=_19b[_198];_19d.parentNode.removeChild(_19d);var _19e=[];for(var i=0;i<_195[_197].childNodes.length;i++){if(_195[_197].childNodes[i].nodeName.toLowerCase()==_196){_19e.push(_195[_197].childNodes[i]);}}if(_19a<_19e.length){var toTd=_19e[_19a];toTd.parentNode.insertBefore(_19d,toTd);}else{_195[_199].appendChild(_19d);}};$W._a.aW.prototype.moveBodyColumn=function(_1a0,_1a1,_1a2,_1a3){var tmp=this.htmlInfo.body.rowArr[_1a0].splice(_1a1,1);this.htmlInfo.body.rowArr[_1a2].splice(_1a3,0,tmp[0]);this.updateStruct(this.htmlInfo.body.rowArr);_1a1+=_1a0==0?this.defaultColCnt:0;_1a3+=_1a2==0?this.defaultColCnt:0;var _1a5=this.getElementById(this.id+"_body_tbody");for(var i=0;i<this.drawedRowLength;i++){var _1a7=[];for(var j=0;j<this.oneRowLength;j++){_1a7.push(_1a5.rows[i*this.oneRowLength+j]);}this._moveColumn(_1a7,"td",_1a0,_1a1,_1a2,_1a3);}};$W._a.aW.prototype.moveHeadColumn=function(_1a9,_1aa,_1ab,_1ac){var tmp=this.htmlInfo.head.rowArr[_1a9].splice(_1aa,1);this.htmlInfo.head.rowArr[_1ab].splice(_1ac,0,tmp[0]);this.updateStruct(this.htmlInfo.head.rowArr);_1aa+=_1a9==0?this.defaultColCnt:0;_1ac+=_1ab==0?this.defaultColCnt:0;var _1ae=this.getElementById(this.id+"_head_table");this._moveColumn(_1ae.rows,"th",_1a9,_1aa,_1ab,_1ac);};$W._a.aW.prototype.moveColumn=function(_1af,_1b0){if(_1af==_1b0){return;}var _1b1=this.getHeaderID(_1af);var _1b2=this._getRealColIndex("head",_1b1)+this.defaultColCnt;var _1b3=this.headerToBodyRelation[_1b1];if(!_1b3||this.colMoveBolockedHeaderObj[_1b1]){return;}var _1b4=this.colMoveIndexMap[_1b3];var _1b5=this._getRealColIndex("body",_1b3)+this.defaultColCnt;var _1b6=this.getHeaderID(_1b0);var _1b7=this.headerToBodyRelation[_1b6];var _1b8;if(!_1b7||this.colMoveBolockedHeaderObj[_1b6]){return;}var _1b9=this._getRealColIndex("head",_1b6)+this.defaultColCnt;var _1ba=this.colMoveIndexMap[_1b7];var _1bb=this.colIndexes.bodyColInfo.colIndexArr[_1ba+this.defaultColCnt];var _1bc=[];var _1bd=_1b5-this.defaultColCnt;for(var i=0;i<this.htmlInfo.body.rowArr.length;i++){for(var j=0;j<this.htmlInfo.body.rowArr[i].length;j++){if(this.htmlInfo.body.rowArr[i][j]["@col"]==_1bd){_1bc.push({row:i,col:j});}}}var _1c0=_1bb-this.defaultColCnt;for(var i=0;i<_1bc.length;i++){var _1c1=null;for(var j=0;j<this.htmlInfo.body.rowArr[_1bc[i].row].length;j++){if(this.htmlInfo.body.rowArr[_1bc[i].row][j]["@col"]==_1c0){_1c1=j;break;}}if(_1c1!==null){this.moveBodyColumn(_1bc[i].row,_1bc[i].col,_1bc[i].row,_1c1);}else{this.moveBodyColumn(_1bc[i].row,_1bc[i].col,_1bc[i].row,_1ba);}}var _1bc=[];var _1c2=_1b2-this.defaultColCnt;for(var i=0;i<this.htmlInfo.head.rowArr.length;i++){for(var j=0;j<this.htmlInfo.head.rowArr[i].length;j++){if(this.htmlInfo.head.rowArr[i][j]["@col"]==_1c2){_1bc.push({row:i,col:j});}}}var _1c3=_1b9-this.defaultColCnt;for(var i=0;i<_1bc.length;i++){var _1c1=null;for(var j=0;j<this.htmlInfo.head.rowArr[_1bc[i].row].length;j++){if(this.htmlInfo.head.rowArr[_1bc[i].row][j]["@col"]==_1c3){_1c1=j;break;}}if(_1c1!==null){this.moveHeadColumn(_1bc[i].row,_1bc[i].col,_1bc[i].row,_1c1);}else{this.moveHeadColumn(_1bc[i].row,_1bc[i].col,_1bc[i].row,_1b0);}}var _1c4=function(arr,from,to){var tmp=arr.splice(from,1);arr.splice(to,0,tmp[0]);};if(this.initVisibilityArr!=undefined){for(var i=0;i<this.htmlInfo.body.rowArr.length;i++){_1c4(this.initVisibilityArr,_1b5+i*this.getColCnt(),_1bb+i*this.getColCnt());}}_1c4(this.columnOrder,_1b5-this.defaultColCnt,_1bb-this.defaultColCnt);_1c4(this.colIndexInfo.body.colInfo.colIndexMatch,_1b5,_1bb);_1c4(this.colWidthList,_1b5,_1bb);_1c4(this.hiddenList,_1b2,_1b9);for(var id in this.colMoveIndexMap){if(this.colMoveIndexMap[id]==_1b4){this.colMoveIndexMap[id]=_1ba;}else{if(_1b4<_1ba){if(_1b4<this.colMoveIndexMap[id]&&this.colMoveIndexMap[id]<=_1ba){this.colMoveIndexMap[id]-=1;}}else{if(_1b4>_1ba){if(_1b4>this.colMoveIndexMap[id]&&this.colMoveIndexMap[id]>=_1ba){this.colMoveIndexMap[id]+=1;}}}}}this.arrangeOverflowXScroll();this._handleScrollX();};$W._a.aW.prototype.resetMoveColumn=function(){["WebSquare.uiplugin.layoutController.prototype.resetMoveColumn"];try{var _1ca=this.getColCnt();var _1cb=[];for(var i=0;i<_1ca;i++){_1cb.push(i);}this.setColumnOrder(_1cb);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.setColumnOrder=function(_1cd){var _1ce=this.getColCnt();var _1cf=[];if(typeof _1cd=="string"){_1cd=_1cd.split(",");}for(var i=0;i<_1cd.length;i++){if(this.bodyIdColIndexMap[_1cd[i]]!=null){_1cd[i]=this.bodyIdColIndexMap[_1cd[i]];}_1cd[i]=Number(_1cd[i]);if(typeof _1cd[i]!="number"){$l(this.id+".setColumnOrder : wrong column order array.");return;}_1cf[_1cd[i]]=true;}for(var i=0;i<_1ce;i++){if(!_1cf[i]){_1cd.push(i);}}if(_1ce!=_1cd.length){$l(this.id+".setColumnOrder : wrong column order array.");return;}for(var i=0;i<_1ce;i++){for(var j=i;j<_1ce;j++){if(this.columnOrder[j]==_1cd[i]){break;}}if(i!=j){this.moveColumn(j,i);}}};$W._a.aW.prototype.getColumnOrder=function(_1d2){if(_1d2){var _1d3=[];var _1d4=this.colIndexInfo.body.colInfo.colIndexMatch;for(var i=this.defaultColCnt;i<_1d4.length;i++){if(_1d4[i].length==0){$l(this.id+".getColumnOrder : use getColumnOrder(false). cannot express column order by name.");return;}_1d3.push(this.tdIdList[_1d4[i][0]-this.defaultColCnt]);}return _1d3;}return this.columnOrder.slice(0);};$W._a.aW.prototype.handleGroupbyZoneClick=function(e){["WebSquare.uiplugin.grid.handleGroupbyZoneClick"];var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2grid_groupbyZone_column")){var _1d8=it.getElement();var _1d9={};_1d9.render=_1d8;_1d9.parentRender=this.render.getElementsByTagName("div")[0];_1d9.headerID=_1d8.getAttribute("header_id");_1d9.headerIndex=this.getHeaderIndex(_1d9.headerID);this.toggleGroupbyFilterList(_1d9);$W._c.stopEvent(e);break;}if(it.match("w2grid_groupbyZone_column_closeButtonImg")){var _1d8=it.getElement();this.hideGroupbyFilterList();this.ungroupColumn(_1d8.getAttribute("col_id"));break;}if(it.match("w2grid_groupbyZone")){this.hideGroupbyFilterList();$W._c.stopEvent(e);break;}}};$W._a.aW.prototype.toggleGroupbyFilterList=function(_1da){["WebSquare.uiplugin.grid.toggleGroupbyFilterList"];var _1db=_1da.render;var _1dc=_1db.tagName;var _1dd=_1da.headerIndex;if(typeof this.groupbyZoneStatus.beforeOpenedColIndex=="number"){if(_1dd==this.groupbyZoneStatus.beforeOpenedColIndex&&_1dc==this.groupbyZoneStatus.beforeOpenedColTagName){if(this.groupbyFilterScrollView.render.style.display=="block"){this.hideGroupbyFilterList();}else{this.showGroupbyFilterList(_1da,true);}}else{this.showGroupbyFilterList(_1da,true);}}else{this.createGroupbyFilterList(_1da);}};$W._a.aW.prototype.createGroupbyFilterList=function(_1de){["WebSquare.uiplugin.grid.createGroupbyFilterList"];var _1df=_1de.render;var _1e0=_1de.parentRender;var _1e1=_1de.headerIndex;var _1e2=_1de.headerID;this.groupbyStatus.filter={};if(!this.groupbyFilterList&&!this.groupbyFilterScrollView){var _1e3="";_1e3+="<w2:scrollView xmlns:w2=\"http://www.inswave.com/websquare\" style='position:absolute; z-index:11;' class='w2grid_groupbyZone_scrollView'>";_1e3+="</w2:scrollView>";var _1e4=$W._B.parse(_1e3,true);scrollViewXML=_1e4.documentElement;$W._B.setAttribute(scrollViewXML,"bounce",false);$W._B.setAttribute(scrollViewXML,"horizontalScroll",false);$W._B.setAttribute(scrollViewXML,"paging",false);$W._B.setAttribute(scrollViewXML,"scrollType","auto");$W._B.setAttribute(scrollViewXML,"showHorizontalScroll",false);$W._B.setAttribute(scrollViewXML,"showVerticalScroll",false);$W._B.setAttribute(scrollViewXML,"verticalScroll",false);this.groupbyFilterScrollView=new $W._a.aO(this.id+"_groupbyZone_scrollView","",scrollViewXML);var _1e5="";_1e5+="<w2:list xmlns:w2=\"http://www.inswave.com/websquare\" tagName='div' style='position:absolute; z-index:11; padding:0px; display:block;' class='w2grid_groupbyZone_list'>";_1e5+="\t<w2:listRow tagName='div' style='height: 20px; display:block; border-top: 0px; border-left:0px; border-right:0px;' class='w2grid_groupbyZone_list_listRow'>";_1e5+="\t\t<w2:listColumn id='id1' inputType='checkbox' style='' class='w2grid_groupbyZone_list_listColumn_checkbox'/>";_1e5+="\t\t<w2:listColumn id='id2' inputType='text' style='' class='w2grid_groupbyZone_list_listColumn_text'/>";_1e5+="\t</w2:listRow>";_1e5+="</w2:list>";var _1e6=$W._B.parse(_1e5,true);var _1e7=_1e6.documentElement;this.groupbyFilterList=new $W._a.bh(this.id+"_groupbyZone_list","",_1e7);this.groupbyFilterScrollView.addControl(this.groupbyFilterList);this.groupbyFilterScrollView.writeTo(this);this.groupbyFilterScrollView.activate();var _1e8=this;this.groupbyFilterScrollView.event.addListener(this.groupbyFilterScrollView.render,"onclick",this.groupbyFilterScrollView.event.bindAsEventListener(this.groupbyFilterList,function(e){$W._c.stopPropagation(e);var _1ea;if($W._G.isIE()){_1ea=e.srcElement;}else{_1ea=e.target;}var _1eb=_1ea.parentNode;var _1ec=_1e8.getHeaderID(this.headerIndex);var _1ed=_1e8.getColumnID(this.headerIndex);if(_1ea.className.match("w2grid_groupbyZone_list_listRow")){_1eb=_1ea;_1ea=_1eb.firstChild;for(var i=0;i<this.getLength();i++){if(_1eb==this.render.childNodes[i]){this.setCellData(i,"id1",!_1ea.checked);break;}}}if(_1eb==this.render.childNodes[0]){_1e8.hideGroupbyFilterList();if(_1ea.className.match("w2grid_groupbyZone_list_listColumn_checkbox")){if(_1ea.checked){if(_1e8.firstOpenCustomFilter[_1ec]){_1e8._dataList.filterManager.headerID=_1ec;_1e8._dataList.filterManager.targetColID=_1ed;_1e8.setCustomFilterExpression();return;}else{if(!_1e8.firstOpenCustomFilter[_1ec]){_1e8.firstOpenCustomFilter[_1ec]=true;}_1e8.showCustomFilter(_1ec);return;}}else{_1e8.customFilterStatusObj[_1ec]=false;_1e8.removeColumnFilter(_1ed);for(var key in _1e8.customFilterStatusObj){if(_1e8.customFilterStatusObj[key]){return;}}for(var i=1;i<this.getLength();i++){this.setCellData(i,"id1",true);}}}else{if(_1ea.className.match("w2grid_groupbyZone_list_listColumn_text")){_1e8.showCustomFilter(_1ec);return;}}}else{this.setCellData(0,"id1",false);_1e8.customFilterStatusObj[_1ec]=false;if(_1eb==this.render.childNodes[1]){var _1f0=_1ea.checked;for(var i=1;i<this.getLength();i++){this.setCellData(i,"id1",_1f0);}}}_1e8.groupbyStatus.filter[_1ed]=[];var data=this.getAllData();for(var i=2;i<data.length;i++){if(data[i]["id1"]){var sReg=/[\^\$\.\[\]\{\}\+\(\)\|\\]/g;_1e8.groupbyStatus.filter[_1ed].push(data[i]["id2"].replace(sReg,function(m){return _1e8.replacechar(m);}));}}var _1f4=this.getLength()-2;if(_1f4>_1e8.groupbyStatus.filter[_1ed].length&&_1e8.groupbyStatus.filter[_1ed].length>0){this.setCellData(1,"id1",false);}else{if(_1e8.groupbyStatus.filter[_1ed].length==_1f4){this.setCellData(1,"id1",true);}}var _1f5={};_1f5.sortIndex=_1e8.groupbyStatus.sortIndexArr;_1f5.sortOrder=_1e8.groupbyStatus.sortOrderArr;if(_1e8.groupbyStatus.filter!=null){_1f5.filter=_1e8.groupbyStatus.filter;}var _1f6=$W._c.fireEvent(_1e8,"ongroupby",_1f5);if(_1f6===false){var _1f7=_1e8.getColCnt()+_1e8.defaultColCnt;_1f5.rowNumHeader={colSpan:_1f7,inputType:"expression",expression:" toggle() + depthStr() + ' [ ' + count() + ' \uac74 ] ' ",align:"left"};_1f5.footerVisible=false;_1f5.rowNumFooter={colSpan:_1f7};_1e8.groupby(_1f5);}}));}var _1f8=this.getGroupbyDepthInfo(_1de);var _1f9;var _1fa;var _1fb=_1f8.length*21;this.groupbyFilterScrollViewRenderHeight=this.options.groupbyListVisibleRowNum*21;var _1fc=$W._H.getRelativeTop(_1df,_1e0)+_1df.offsetHeight;var _1fd=$W._H.getRelativeLeft(_1df,_1e0);var _1fe;if($W._G.getBoolean(this.headerInfoHash[_1e2].options.autoFitFilterList)){this.groupbyFilterList.setJSON(_1f8);_1f9=this.groupbyFilterList.getMaxItemWidth();if(_1df.clientWidth>_1f9){_1f9=_1df.clientWidth;}_1fa=_1f9;if(this.groupbyFilterScrollViewRenderHeight>=_1fb){_1fe=_1fb;}else{_1fe=this.groupbyFilterScrollViewRenderHeight;_1fa+=this.getElementById(this.id+"_size_y").clientWidth;}var _1ff=this.getElementById(this.id+"_groupbyZone_scrollView_container");$W._H.setStyle(_1ff,"overflow-x","hidden");}else{_1f9=_1df.clientWidth;_1fa=_1f9;if(this.groupbyFilterScrollViewRenderHeight>_1fb){_1fe=_1fb;}else{_1fe=this.groupbyFilterScrollViewRenderHeight;_1f9-=this.getElementById(this.id+"_size_y").clientWidth;}this.groupbyFilterList.setJSON(_1f8);}this.groupbyFilterScrollView.setPosition(_1fd,_1fc);this.groupbyFilterScrollView.setSize(_1fa,_1fe);this.groupbyFilterList.setSize(_1f9,_1fb);this.groupbyFilterList.currentHeaderID=_1e2;this.groupbyFilterList.headerIndex=_1e1;$W._H.show(this.groupbyFilterScrollView.render);this.groupbyZoneStatus.beforeOpenedColIndex=_1e1;this.groupbyZoneStatus.beforeOpenedColTagName=_1df.tagName;};$W._a.aW.prototype.showGroupbyFilterList=function(_200,_201){["WebSquare.uiplugin.grid.showGroupbyFilterList"];var _202=_200.render;var _203=_200.headerIndex;this.groupbyFilterList.currentHeaderID=_200.headerID;this.groupbyFilterList.headerIndex=_203;this.groupbyZoneStatus.beforeOpenedColIndex=_203;this.groupbyZoneStatus.beforeOpenedColTagName=_202.tagName;$W._H.show(this.groupbyFilterScrollView.render);if(_201){var _204=this.getGroupbyDepthInfo(_200);this.groupbyFilterList.setJSON(_204);var _205;var _206;var _207;var _208=_204.length*21;var _209=_200.parentRender;this.groupbyFilterScrollViewRenderHeight=this.options.groupbyListVisibleRowNum*21;var _20a=$W._H.getRelativeTop(_202,_209)+_202.offsetHeight;var _20b=$W._H.getRelativeLeft(_202,_209);if($W._G.getBoolean(this.headerInfoHash[_200.headerID].options.autoFitFilterList)){_206=this.groupbyFilterList.getMaxItemWidth();if(_202.clientWidth>_206){_206=_202.clientWidth;}_207=_206;if(this.groupbyFilterScrollViewRenderHeight>=_208){_205=_208;}else{_205=this.groupbyFilterScrollViewRenderHeight;_207+=this.getElementById(this.id+"_size_y").clientWidth;}var _20c=this.getElementById(this.id+"_groupbyZone_scrollView_container");$W._H.setStyle(_20c,"overflow-x","hidden");}else{_206=_202.clientWidth;_207=_206;if(this.groupbyFilterScrollViewRenderHeight>_208){_205=_208;}else{_205=this.groupbyFilterScrollViewRenderHeight;_206-=this.getElementById(this.id+"_size_y").clientWidth;}}this.groupbyFilterList.setSize(_206,_208);this.groupbyFilterScrollView.setPosition(_20b,_20a);this.groupbyFilterScrollView.setSize(_207,_205);}};$W._a.aW.prototype.hideGroupbyFilterList=function(){["WebSquare.uiplugin.grid.hideGroupbyFilterList"];try{if(this.groupbyFilterScrollView){$W._H.hide(this.groupbyFilterScrollView.render);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.getGroupbyDepthInfo=function(_20d){["WebSquare.uiplugin.grid.getGroupbyDepthInfo"];var _20e=_20d.headerIndex;var _20f=this.getColumnID(_20e);var _210=_20d.headerID;var _211;for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(_20e==this.groupbyStatus.sortIndexArr[i]){_211=i;}}var _213=[];this.groupbyStatus.groupbyDepthInfoObj=this.groupbyStatus.groupbyDepthInfoObj?this.groupbyStatus.groupbyDepthInfoObj:{};if(this.groupbyStatus.groupbyDepthInfoObj[_20f]){_213=this.groupbyStatus.groupbyDepthInfoObj[_20f];}else{_213=this.createGroupbyDepthInfo(_211);this.groupbyStatus.groupbyDepthInfoObj[_20f]=_213;}var _214=[];var _215=this.groupbyStatus.filter[_20f];if(_215||_215==""){if(_215.length==0){_215=[];}else{if(_215.length>0){_215=this.groupbyStatus.filter[_20f];}}}var _216=$W._m.getMessage("Grid_Customized_Filter")||"\uc0ac\uc6a9\uc790\ud544\ud130";var _217=$W._m.getMessage("Grid_checked_all")||"\uc804\uccb4\uc120\ud0dd";_214.push({id1:false,id2:_216});_214.push({id1:false,id2:_217});var _218=false;for(var key in this.customFilterStatusObj){if(this.customFilterStatusObj[key]){_218=true;break;}}for(var i=0;i<_213.length;i++){var _21a={};var _21b=_213[i];var _21c=true;if(_218){_21c=false;}else{if(_215){_21c=false;for(var j=0;j<_215.length;j++){if(_21b==_215[j].wq_replaceAll("\\","")){_21c=true;}}}}_21a["id1"]=_21c;_21a["id2"]=_213[i];_214.push(_21a);}if(_218){if(this.customFilterStatusObj[_210]){_214[0].id1=true;}}else{_214[1].id1=true;if(_215){if(_215.length==_213.length){_214[1].id1=true;}else{_214[1].id1=false;}}}return _214;};$W._a.aW.prototype.showGroupbyZoneMessage=function(){["WebSquare.uiplugin.layoutController.prototype.showGroupbyZoneMessage"];try{if((this.options.groupbyZone||this.clearGrouping)&&this.options.groupbyZoneMessage){var _21e=this.groupbyZoneStatus.groupbyZoneMessageRender;if(_21e){$W._H.show(_21e);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.hideGroupbyZoneMessage=function(){["WebSquare.uiplugin.layoutController.prototype.hideGroupbyZoneMessage"];try{if(this.options.groupbyZone&&this.options.groupbyZoneMessage){var _21f=this.groupbyZoneStatus.groupbyZoneMessageRender;if(_21f){$W._H.hide(_21f);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.syncWithGroupbyZone=function(){["WebSquare.uiplugin.layoutController.prototype.syncWithGroupbyZone"];try{if(this.groupbyStatus.grouped&&this.options.groupbyZone){this.clearGroupbyZone();var _220=this.groupbyStatus.sortIndexArr;for(var i=0;i<_220.length;i++){var _222=_220[i];var id=this.getHeaderID(_222);var _224=this.getColumnID(_222);var _225=document.createElement("div");_225.setAttribute("header_id",id);_225.className="w2grid_groupbyZone_column";var _226=document.createElement("div");_226.className="w2grid_groupbyZone_column_closeButtonDiv";var _227=document.createElement("div");_227.className="w2grid_groupbyZone_column_closeButtonImg";_227.setAttribute("col_id",_224);var _228=document.createElement("div");_228.className="w2grid_groupbyZone_column_labelDiv";var _229=document.createElement("span");_229.innerHTML=this.getHeaderValue(id);_228.appendChild(_229);_226.appendChild(_227);_225.appendChild(_228);_225.appendChild(_226);this.groupbyZoneStatus.groupbyZoneRender.appendChild(_225);_229.className="w2grid_groupbyZone_column_value";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.clearGroupbyZone=function(){["WebSquare.uiplugin.layoutController.prototype.syncWithGroupbyZone"];try{if((this.groupbyStatus.grouped||this.clearGrouping)&&this.options.groupbyZone){var _22a=this.groupbyZoneStatus.groupbyZoneRender;var _22b=_22a.childNodes;var _22c=[];for(var i=0;i<_22b.length;i++){if(_22b[i].className.match("w2grid_groupbyZone_column")!=null){_22c.push(_22b[i]);}}for(var i=0;i<_22c.length;i++){_22a.removeChild(_22c[i]);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.handleChangeGroupDepth=function(e){["WebSquare.uiplugin.layoutController.prototype.handleChangeGroupDepth"];var it=this.event.getTargetIterator(e);while(it.next()){if(it.match("w2grid_groupbyZone_column")){this.addClass("w2noselect");$W._G.emptySelection();var _230=it.getElement();var _231=_230.getAttribute("header_id");var _232=this.getHeaderIndex(_231);var _233=this.getHeaderValue(_231);var _234=this;$W._K.gDragManager.activate(e,null,{id:this.id+"_drag",className:"w2grid_groupbyZone_column_drag",contents:_233,delay:15,applyMousePosition:true,onDrop:function(drag,drop,x,y,dx,dy,e){var _23c=null;if(this.isMobile){_23c=new $W.targetIterator(document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY));e.preventDefault();}else{_23c=_234.event.getTargetIterator(e);}var _23d;while(_23c.next()){if(_23c.match("w2grid_groupbyZone_column")){_23d=_234.getHeaderIndex(_23c.getElement().getAttribute("header_id"));break;}if(_23c.match("w2grid_groupbyZone")){var _23e=_234.groupbyStatus.sortIndexArr;_23d=_23e[_23e.length-1];break;}if(_23c.match(null,null,"body")){return;}}if(_232==_23d){return;}_234.removeClass("w2noselect");_234.hideGroupbyFilterList();_234.changeGroupDepth(_232,_23d);}});return;}}};$W._a.aW.prototype.createContextMenu=function(info){var _240="";_240+="<w2:list xmlns:w2=\"http://www.inswave.com/websquare\" tagName='div' style='' class='w2grid_contextMenu'>";_240+="\t<w2:listRow tagName='div' style='height: 20px; display:block; border-top: 0px; border-left:0px; border-right:0px;' class='w2grid_contextMenu_row'>";_240+="\t\t<w2:listColumn id='col1' inputType='text' style='padding-left: 10px' class='w2grid_contextMenu_column'/>";_240+="\t</w2:listRow>";_240+="</w2:list>";var _241=$W._B.parse(_240,true);var _242=_241.documentElement;this.contextMenu=new $W._a.bh(this.id+"_contextMenu_list","",_242);this.contextMenu.writeTo($W.getBody());this.contextMenu.activate();var _243=this;this.contextMenu.event.addListener(this.contextMenu.render,"onclick",function(e){$W._c.stopPropagation(e);var it=_243.event.getTargetIterator(e,this.render);var list=_243.contextMenu;var _247;while(it.next()){if(it.match("w2grid_contextMenu_column")){_247=it.getElement().parentNode;break;}if(it.match("w2grid_contextMenu_row")){_247=it.getElement();break;}if(it.match("w2grid_contextMenu")){break;}}var _248;for(var i=0;i<list.getLength();i++){if(_247==list.render.childNodes[i]){_248=i;break;}}_243.callSelectedAPI(list.getRowData(i).col1,list.info);_243.hideContextMenu();list.info=null;});var _24a=this.getContextMenuData(info);var _24b=_24a.length*21;this.contextMenu.show();this.contextMenu.setSize(180,_24b);this.contextMenu.setPosition($W._c.getMouseX(info.e),$W._c.getMouseY(info.e));this.contextMenu.setJSON(_24a);this.contextMenu.info=info;};$W._a.aW.prototype.getContextMenuData=function(info){var _24d=[];var _24e=true;if(this.groupbyStatus.grouped){var _24f=$W._m.getMessage("Grid_ungroup")||"\uc120\ud0dd \uceec\ub7fc \uadf8\ub8f9 \ud574\uc81c";for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyStatus.sortIndexArr[i]==info.colIndex){_24d.push({"col1":_24f});_24e=false;break;}}}if(_24e){var _251=$W._m.getMessage("Grid_group")||"\uc120\ud0dd \uceec\ub7fc \uadf8\ub8f9";_24d.push({"col1":_251});}var _252=$W._m.getMessage("Grid_column_hide")||"\uc120\ud0dd \uceec\ub7fc \uc228\uae30\uae30";_24d.push({"col1":_252});if(this.options.fixedColumn==0||this.options.fixedColumn-1<info.colIndex){var _253=$W._m.getMessage("Grid_column_fix")||"\uc120\ud0dd \uceec\ub7fc \ud2c0\uace0\uc815";_24d.push({"col1":_253});}var _254=$W._m.getMessage("Grid_column_adjustWidth")||"\uc120\ud0dd \uceec\ub7fc \ud06c\uae30 \uc790\ub3d9 \ub9de\ucd94\uae30";var _255=$W._m.getMessage("Grid_column_showAll")||"\uc804\uccb4 \uceec\ub7fc \uc228\uae30\uae30 \ud574\uc81c";_24d.push({"col1":_254});for(var i=0;i<this.hiddenList.length;i++){if(this.hiddenList[i]){_24d.push({"col1":_255});break;}}if(this.options.fixedColumn>0){var _256=$W._m.getMessage("Grid_column_unfix")||"\uc804\uccb4 \uceec\ub7fc \ud2c0\uace0\uc815 \ucde8\uc18c";_24d.push({"col1":_256});}var _257=$W._m.getMessage("Grid_column_adjustAuto")||"\uc804\uccb4 \uceec\ub7fc \ud06c\uae30 \uc790\ub3d9 \ub9de\ucd94\uae30";_24d.push({"col1":_257});if(this.groupbyStatus.grouped){var _258=$W._m.getMessage("Grid_fold_all")||"\uc804\uccb4 \uadf8\ub8f9 \uc811\uae30";var _259=$W._m.getMessage("Grid_unfold_all")||"\uc804\uccb4 \uadf8\ub8f9 \ud3bc\uce58\uae30";var _25a=$W._m.getMessage("Grid_ungroup_all")||"\uc804\uccb4 \uadf8\ub8f9 \ud574\uc81c";_24d.push({"col1":_258});_24d.push({"col1":_259});_24d.push({"col1":_25a});}return _24d;};$W._a.aW.prototype.showContextMenu=function(info){var _25c=this.getContextMenuData(info);var _25d=_25c.length*21;this.contextMenu.show();this.contextMenu.setSize(180,_25d);this.contextMenu.setPosition($W._c.getMouseX(info.e),$W._c.getMouseY(info.e));this.contextMenu.setJSON(_25c);this.contextMenu.info=info;};$W._a.aW.prototype.hideContextMenu=function(){if(this.contextMenu){this.contextMenu.hide();}};$W._a.aW.prototype.callSelectedAPI=function(type,info){var _260=$W._m.getMessage("Grid_column_hide")||"\uc120\ud0dd \uceec\ub7fc \uc228\uae30\uae30";var _261=$W._m.getMessage("Grid_column_showAll")||"\uc804\uccb4 \uceec\ub7fc \uc228\uae30\uae30 \ud574\uc81c";var _262=$W._m.getMessage("Grid_column_fix")||"\uc120\ud0dd \uceec\ub7fc \ud2c0\uace0\uc815";var _263=$W._m.getMessage("Grid_column_unfix")||"\uc804\uccb4 \uceec\ub7fc \ud2c0\uace0\uc815 \ucde8\uc18c";var _264=$W._m.getMessage("Grid_column_adjustWidth")||"\uc120\ud0dd \uceec\ub7fc \ud06c\uae30 \uc790\ub3d9 \ub9de\ucd94\uae30";var _265=$W._m.getMessage("Grid_column_adjustAuto")||"\uc804\uccb4 \uceec\ub7fc \ud06c\uae30 \uc790\ub3d9 \ub9de\ucd94\uae30";var _266=$W._m.getMessage("Grid_fold_all")||"\uc804\uccb4 \uadf8\ub8f9 \uc811\uae30";var _267=$W._m.getMessage("Grid_unfold_all")||"\uc804\uccb4 \uadf8\ub8f9 \ud3bc\uce58\uae30";var _268=$W._m.getMessage("Grid_ungroup_all")||"\uc804\uccb4 \uadf8\ub8f9 \ud574\uc81c";var _269=$W._m.getMessage("Grid_ungroup")||"\uc120\ud0dd \uceec\ub7fc \uadf8\ub8f9 \ud574\uc81c";var _26a=$W._m.getMessage("Grid_group")||"\uc120\ud0dd \uceec\ub7fc \uadf8\ub8f9";switch(type){case _260:this.setColumnVisible(info.colIndex,false);if(this.groupbyStatus.grouped){this.ungroupColumn(info.colIndex);}break;case _261:for(var i=0;i<this.hiddenList.length;i++){if(this.hiddenList[i]){this.setColumnVisible(i-this.defaultColCnt,true);}}break;case _262:this.setFixedColumn(parseInt(info.colIndex,10)+1);break;case _263:this.setFixedColumn(0);break;case _264:if(!this.autofitColumn){var _26c={"type":"selectedColumn","colIndex":info.colIndex};this.setAutoFit(_26c);}break;case _265:var _26c={"type":"allColumn"};this.setAutoFit(_26c);break;case _266:if(this.groupbyStatus.grouped){this.foldAll();}break;case _267:if(this.groupbyStatus.grouped){this.unfoldAll();}break;case _268:if(this.groupbyStatus.grouped){this.clearGroupby();}break;case _269:this.ungroupColumn(info.colIndex);break;case _26a:if(this.groupbyStatus.grouped){var _26c={};_26c.sortIndex=this.groupbyStatus.sortIndexArr;_26c.sortOrder=this.groupbyStatus.sortOrderArr;_26c.sortIndex.push(info.colIndex);_26c.sortOrder.push(1);var _26d=$W._c.fireEvent(this,"ongroupby",_26c);if(_26d===false){_26c=$W.extend({},this.groupbyDisplayOptions);_26c.sortIndex=this.groupbyStatus.sortIndexArr;_26c.sortOrder=this.groupbyStatus.sortOrderArr;this.groupby(_26c);}}else{var _26c={};_26c.sortIndex=[info.colIndex];_26c.sortOrder=[1];var _26d=$W._c.fireEvent(this,"ongroupby",_26c);if(_26d===false){var _26e=this.getColCnt()+this.defaultColCnt;_26c.rowNumHeader={colSpan:_26e,inputType:"expression",expression:" toggle() + depthStr() + ' [ ' + count() + ' \uac74 ] ' ",align:"left"};_26c.rowNumFooter={colSpan:_26e};this.groupby(_26c);}}break;}};$W._a.aW.prototype.createCustomFilterList=function(_26f){["WebSquare.uiplugin.grid.createCustomFilterList"];var _270=this.headerToBodyRelation[_26f];var _271=this.getCellInfo(_270);var _272=this.getColumnIndex(_270);var _273="";_273+="<w2:scrollView xmlns:w2=\"http://www.inswave.com/websquare\" style='position:absolute; z-index:11;' class='w2grid_customFilter_scrollView'>";_273+="</w2:scrollView>";var _274=$W._B.parse(_273,true);scrollViewXML=_274.documentElement;$W._B.setAttribute(scrollViewXML,"bounce",false);$W._B.setAttribute(scrollViewXML,"horizontalScroll",false);$W._B.setAttribute(scrollViewXML,"paging",false);$W._B.setAttribute(scrollViewXML,"scrollType","auto");$W._B.setAttribute(scrollViewXML,"showHorizontalScroll",false);$W._B.setAttribute(scrollViewXML,"showVerticalScroll",false);$W._B.setAttribute(scrollViewXML,"verticalScroll",false);this.customFilterScrollView=new $W._a.aO(this.id+"_customFilter_scrollView","",scrollViewXML);var _275="";_275+="<w2:list xmlns:w2=\"http://www.inswave.com/websquare\" tagName='div' style='position:absolute; z-index:11; padding:0px; display:block;' class='w2grid_customFilter_list'>";_275+="\t<w2:listRow tagName='div' style='height: 20px; display:block; border-top: 0px; border-left:0px; border-right:0px;' class='w2grid_customFilter_list_listRow'>";_275+="\t\t<w2:listColumn id='id1' inputType='checkbox' style='' class='w2grid_customFilter_list_listColumn_checkbox'/>";_275+="\t\t<w2:listColumn id='id2' inputType='text' style='' class='w2grid_customFilter_list_listColumn_text'/>";_275+="\t</w2:listRow>";_275+="</w2:list>";var _276=$W._B.parse(_275,true);var _277=_276.documentElement;this.customFilterList=new $W._a.bh(this.id+"_customFilter_list","",_277);this.customFilterList.filterHistory={"column":[],"filteredRowIndexArr":[]};this.customFilterScrollView.addControl(this.customFilterList);this.customFilterScrollView.writeTo(this);this.customFilterScrollView.activate();var _278=this;this.customFilterScrollView.event.addListener(this.customFilterScrollView.render,"onclick",this.customFilterScrollView.event.bindAsEventListener(this.customFilterList,function(e){$W._c.stopPropagation(e);var _27a=$W._c.getTarget(e);var _27b=_27a.parentNode;if(_27a.className.match("w2grid_customFilter_list_listRow")){_27b=_27a;_27a=_27b.firstChild;for(var i=0;i<this.getLength();i++){if(_27b==this.render.childNodes[i]){this.setCellData(i,"id1",!_27a.checked);break;}}}var _27d=this.currentHeaderID;var _27e=_278.headerToBodyRelation[_27d];var _27f=_278._dataList.getColumnIndex(_27e);var _280=_278.headerInfoHash[_27d];var _281=0;if(_280&&_280.options.hideCustomFilter){_281=1;}if(_281!==1&&_27b==this.render.childNodes[0]){if(_27a.className.match("w2grid_customFilter_list_listColumn_checkbox")){if(_27a.checked){if(_278.firstOpenCustomFilter[_27d]){_278.headerID=_27d;_278.targetColID=_27e;_278.setCustomFilterExpression();delete this.customFilterListFilterInfo[_27e];for(var i=1;i<this.getLength();i++){this.setCellData(i,"id1",false);}return;}else{_278.hideCustomFilterList();if(!_278.firstOpenCustomFilter[_27d]){_278.firstOpenCustomFilter[_27d]=true;}_278._showCustomFilter(_27d);return;}}else{_278.customFilterStatusObj[_27d]=false;_278.removeColumnFilter(_27e);for(var i=1;i<this.getLength();i++){this.setCellData(i,"id1",true);}}}else{if(_27a.className.match("w2grid_customFilter_list_listColumn_text")){_278._showCustomFilter(_27d);return;}}}else{if(_281!==1){this.setCellData(0,"id1",false);}_278.customFilterStatusObj[_27d]=false;if(_27b==this.render.childNodes[1-_281]){var _282=_27a.checked;for(var i=1-_281;i<this.getLength();i++){this.setCellData(i,"id1",_282);}}}var _283=[];var sReg=/[\^\$\.\[\]\{\}\+\(\)\|\\]/g;for(var i=2-_281;i<this.getLength();i++){if(this.getCellData(i,"id1")){var _285=this.getCellData(i,"id2");if(typeof _285=="string"){_283.push(_285.replace(sReg,function(m){return _278.replacechar(m);}));}else{_283.push(_285);}}}_283=_278.changeItemValue("value",_27e,_283);var _287="";if(_283.length==0){_287+="/^[a-z0-9_-]{3,16}$/";}else{_287+="^"+_283.join("$|^")+"$";}var _288=_278.getColumnOption(_271.options.col_id,"dataType");if(_288=="number"){regexp=new RegExp(_287);}else{regexp=new RegExp(_287,"gi");}$W._c.fireEvent(_278._dataList,"onbeforecolumnfilterchange");var _289=this.getLength()-2+_281;if(_283.length<_289){$W._j["stopBroadCast"]=true;}_278.dataList.removeColumnFilter(_27e);if(this.filterHistory.column[0]!==_27e){this.filterHistory.column.unshift(_27e);this.filterHistory.filteredRowIndexArr.unshift(_278._dataList.filteredRowIndexArr.slice(0));}if(_283.length<_289){$W._j["stopBroadCast"]=false;_278.dataList.setColumnFilter({type:"regExp",colIndex:_27f,key:regexp,condition:"and"});this.customFilterListFilterInfo[_27e]=_283;}else{delete this.customFilterListFilterInfo[_27e];}var _28a=_278.getElementById(_278.id+"_"+_27d+"_filter");if(_281===1||!this.getCellData(0,"id1")){$W._H.removeClass(_28a,"w2grid_customFilter_filter");}var _28b=true;var _289=this.getLength()-2+_281;var _28c=this.getAllData();for(var i=2-_281;i<_28c.length;i++){if(!_28c[i].id1){_28b=false;break;}}if(_28b){this.setCellData(1-_281,"id1",true);this.filterHistory.column.shift();this.filterHistory.filteredRowIndexArr.shift();}else{this.setCellData(1-_281,"id1",false);$W._H.addClass(_28a,"w2grid_customFilter_filter");}$W._c.fireEvent(_278._dataList,"onaftercolumnfilterchange");}));var _28d=this.getCustomFilterListJSON({colID:_270,headerID:_26f});var _28e;var _28f;var _290=this.getElementById(this.id+"_"+_26f);var _291=_28d.length*21;this.customFilterScrollViewRenderHeight=this.options.customFilterListVisibleRowNum*21;var _292=$W._H.getRelativeTop(_290,this.render)+_290.offsetHeight+1;var _293=$W._H.getRelativeLeft(_290,this.render);var _294=this.getElementById(this.id+"_head_table");var _295=this.dataLayerHeight-_294.offsetHeight;var _296=Math.min(this.customFilterScrollViewRenderHeight,_291,_295);if($W._G.getBoolean(this.headerInfoHash[_26f].options.autoFitFilterList)||$W._G.getBoolean(this.options.autoFitFilterList)){this.customFilterList.setJSON(_28d);_28e=this.customFilterList.getMaxItemWidth();if(_290.clientWidth>_28e){_28e=_290.clientWidth;}_28f=_28e;if(this.customFilterScrollViewRenderHeight>=_291){_296=_291;}else{_296=this.customFilterScrollViewRenderHeight;_28f+=this.getElementById(this.id+"_size_y").clientWidth;}var _297=this.getElementById(this.id+"_customFilter_scrollView_container");$W._H.setStyle(_297,"overflow-x","hidden");}else{_28e=_290.clientWidth;_28f=_28e;if(this.customFilterScrollViewRenderHeight>_291){_296=_291;}else{_296=this.customFilterScrollViewRenderHeight;_28e-=this.getElementById(this.id+"_size_y").clientWidth;}this.customFilterList.setJSON(_28d);}this.customFilterScrollView.setPosition(_293,_292);this.customFilterScrollView.setSize(_28f,_296);this.customFilterList.setSize(_28e,_291);this.customFilterList.setJSON(_28d);this.customFilterList.currentHeaderID=_26f;this.customFilterList.customFilterListFilterInfo={};$W._H.show(this.customFilterScrollView.render);};$W._a.aW.prototype.toggleCustomFilterList=function(_298){["WebSquare.uiplugin.grid.toggleCustomFilterList"];try{if(this.customFilterScrollView&&this.customFilterList){if(this.customFilterScrollView.render.style.display=="none"){this.moveCustomFilterList(_298);}else{if(this.customFilterList.currentHeaderID!=_298){this.moveCustomFilterList(_298);}else{this.hideCustomFilterList();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.showCustomFilterList=function(info,_29a){["WebSquare.uiplugin.grid.showCustomFilterList"];try{if(this.customFilterScrollView&&this.customFilterList){if(_29a){$W._H.show(this.customFilterScrollView.render);var _29b;var _29c;var _29d=this.getElementById(this.id+"_"+info.headerID);var _29e=info.dataLength*21;this.customFilterScrollViewRenderHeight=this.options.customFilterListVisibleRowNum*21;var _29f=$W._H.getRelativeTop(_29d,this.render)+_29d.offsetHeight+1;var _2a0=$W._H.getRelativeLeft(_29d,this.render);var _2a1=this.getElementById(this.id+"_head_table");var _2a2=this.dataLayerHeight-_2a1.offsetHeight;var _2a3=Math.min(this.customFilterScrollViewRenderHeight,_29e,_2a2);if($W._G.getBoolean(this.headerInfoHash[info.headerID].options.autoFitFilterList)||$W._G.getBoolean(this.options.autoFitFilterList)){_29b=this.customFilterList.getMaxItemWidth();if(_29d.clientWidth>_29b){_29b=_29d.clientWidth;}_29c=_29b;if(this.customFilterScrollViewRenderHeight>=_29e){_2a3=_29e;}else{_2a3=this.customFilterScrollViewRenderHeight;_29c+=this.getElementById(this.id+"_size_y").clientWidth;}var _2a4=this.getElementById(this.id+"_customFilter_scrollView_container");$W._H.setStyle(_2a4,"overflow-x","hidden");}else{_29b=_29d.clientWidth;_29c=_29b;if(this.customFilterScrollViewRenderHeight>_29e){_2a3=_29e;}else{_2a3=this.customFilterScrollViewRenderHeight;_29b-=this.getElementById(this.id+"_size_y").clientWidth;}}this.customFilterScrollView.setPosition(_2a0,_29f);this.customFilterScrollView.setSize(_29c,_2a3);this.customFilterList.setSize(_29b,_29e);}this.customFilterList.currentHeaderID=info.headerID;$W._H.show(this.customFilterScrollView.render);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.moveCustomFilterList=function(_2a5){["WebSquare.uiplugin.grid.moveCustomFilterList"];try{if(this.customFilterScrollView&&this.customFilterList){var _2a6=this.headerToBodyRelation[_2a5];var _2a7=this.getColumnIndex(_2a6);var _2a8=this.getCustomFilterListJSON({colID:_2a6,headerID:_2a5});this.customFilterList.setJSON(_2a8);this.customFilterList.currentHeaderID=_2a5;this.showCustomFilterList({headerID:_2a5,dataLength:_2a8.length},true);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.hideCustomFilterList=function(){["WebSquare.uiplugin.grid.hideCustomFilterList"];try{if(this.customFilterScrollView&&this.customFilterList){$W._H.hide(this.customFilterScrollView.render);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.getCustomFilterListJSON=function(info){["WebSquare.uiplugin.grid.getCustomFilterListJSON"];try{var _2aa=this.customFilterList.filterHistory.column[0];var _2ab;if(_2aa===info.colID){_2ab=this.customFilterList.filterHistory.filteredRowIndexArr[0];}else{_2ab=this._dataList.filteredRowIndexArr;}var _2ac=this.dataList.getColData(info.colID,_2ab);var _2ad=this.getCellInfo(info.colID);var _2ae=this.getUniqueValueOfArray(_2ac);var _2af=this.options.useFilterEmptyValue?this.options.useFilterEmptyValue.split(","):[];var _2b0=this.changeItemValue("label",info.colID,_2ae.slice(0));var _2b1=this.customFilterStatusObj[info.headerID]||false;var _2b2=$W._m.getMessage("Grid_Customized_Filter")||"\uc0ac\uc6a9\uc790\ud544\ud130";var _2b3=$W._m.getMessage("Grid_checked_all")||"\uc804\uccb4\uc120\ud0dd";var _2b4=[{"id1":_2b1,"id2":_2b2},{"id1":!_2b1,"id2":_2b3}];var _2b5;var _2b6;if(!_2b1&&this.customFilterList.customFilterListFilterInfo){if(info.colID in this.customFilterList.customFilterListFilterInfo){_2b5=this.customFilterList.customFilterListFilterInfo[info.colID];_2b6=_2b5.slice(0);}}var sReg=/[\^\$\.\[\]\{\}\+\(\)\|\\]/g;var _2b8=this;for(var i=0;i<_2b0.length;i++){var json={};if(_2b6){var _2bb=false;var _2bc=_2ad.itemArr?_2ad.itemHash[_2b0[i]]:_2b0[i];if(typeof _2bc=="string"){_2bc=_2bc.replace(sReg,function(m){return _2b8.replacechar(m);});}for(var j=_2b6.length-1;j>-1;j--){if(_2bc==_2b6[j]){_2bb=true;_2b6.splice(j,1);break;}else{if(typeof _2b6[j]=="string"){var _2bf=false;for(var k=0;k<_2af.length;k++){if(_2af[k]==_2b6[j]){_2bf=true;break;}}if(_2bf&&_2b0[i]==this.options.useFilterEmptyMsg){_2bb=true;break;}}}}json["id1"]=_2bb;}else{json["id1"]=!_2b1;}json["id2"]=_2b0[i];_2b4.push(json);}var _2c1=0;var _2c2=this.headerInfoHash[info.headerID];if(_2c2&&_2c2.options.hideCustomFilter){_2b4.shift();_2c1=1;}if(_2b5){var _2c3=true;var _2c4=this.customFilterList.getLength()-2+_2c1;var _2c5=this.customFilterList.getAllData();for(var i=2-_2c1;i<_2c5.length;i++){if(!_2c5[i].id1){_2c3=false;break;}}if(_2c3){_2b4[1-_2c1]["id1"]=true;}else{_2b4[1-_2c1]["id1"]=false;}}return _2b4;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.changeItemValue=function(to,_2c7,_2c8){["WebSquare.uiplugin.grid.changeItemValue"];try{var _2c9=[];this.useFilterEmptyValueInfo={"":true};var _2ca=false;var _2cb=this.getCellInfo(_2c7);var _2cc=this.options.useFilterEmptyValue?this.options.useFilterEmptyValue.split(","):[];this.filterEmptyStr=this.options.useFilterEmptyMsg||$W._m.getMessage("GRID_useFilterEmptyMsg");for(var i=0;i<_2cc.length;i++){_2cc[i]=_2cc[i].trim();this.useFilterEmptyValueInfo[_2cc[i]]=true;}_2cb.itemHash={};if(_2cb.itemsetObj&&_2cb.itemsetObj.nodeset!=""&&_2cb.itemsetObj.nodeset.wq_replaceAll(" ","").indexOf("data:")>=0&&!_2cb.itemArr){_2cb.itemArr=[];var _2ce=_2cb.itemsetObj.nodeset.replace("data:","");var _2cf=$W._j["comp"][_2ce];if(_2cf&&$W.idCache[_2cf.uuid]){switch(_2cf.initializeType){case "linkedDataList":case "dataList":var _2d0=[];var _2d1={};for(var i=0;i<_2cf.getDataLength();i++){var _2d2=_2cf.getCellData(i,_2cb.itemsetObj.label);var _2d3=_2cf.getCellData(i,_2cb.itemsetObj.value);if(_2d1[_2d2]==_2d3){continue;}_2d1[_2d2]=_2d3;_2d0.push({label:_2d2,value:_2d3});}_2cb.itemArr=_2d0;break;case "dataMap":var _2d0=[];var _2d1={};for(var i=0;i<_2cf.getCount();i++){var _2d2=_2cf.get(_2cb.itemsetObj.label);var _2d3=_2cf.get(_2cb.itemsetObj.value);if(_2d1[_2d2]==_2d3){continue;}_2d1[_2d2]=_2d3;_2d0.push({label:_2d2,value:_2d3});}_2cb.itemArr=_2d0;break;}}}if(_2cb.itemArr){var from=to=="label"?"value":"label";var _2d5=_2cb.itemArr.slice(0);for(var i=0;i<_2c8.length;i++){for(var j=_2d5.length-1;j>-1;j--){var item=_2d5[j];if(item[from]==_2c8[i]){_2c9.push(item[to]);_2d5.splice(j,1);if(to=="label"){_2cb.itemHash[item[to]]=item[from];}break;}else{if(to=="label"){if(!_2c8[i]||this.useFilterEmptyValueInfo[_2c8[i]]){if(!_2ca){_2ca=true;_2c9.push(this.filterEmptyStr);}break;}}else{if(to=="value"){if(_2c8[i]==this.filterEmptyStr){for(var j=0;j<_2cc.length;j++){_2c9.push(_2cc[j]);}break;}}}}}}}else{for(var i=0;i<_2c8.length;i++){if(to=="label"){if(!_2c8[i]||this.useFilterEmptyValueInfo[_2c8[i]]){if(!_2ca){_2ca=true;_2c9.push(this.filterEmptyStr);}continue;}}else{if(to=="value"){if(_2c8[i]==this.filterEmptyStr){for(var j=0;j<_2cc.length;j++){_2c9.push(_2cc[j]);}continue;}}}_2c9.push(_2c8[i]);_2cb.itemHash[_2c8[i]]=_2c8[i];}}return _2c9;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.resizeGridList=function(){["WebSquare.uiplugin.grid.resizeGridList"];try{var list;var _2d9;if(this.groupbyFilterList){return;list=this.groupbyFilterList;_2d9=this.groupbyFilterScrollView;}else{if(this.customFilterList){list=this.customFilterList;_2d9=this.customFilterScrollView;}else{return;}}var _2da=this.getElementById(this.id+"_"+list.currentHeaderID);var _2db=_2da.clientWidth;var _2dc=_2d9.render.clientHeight;var _2dd=$W._H.getRelativeTop(_2da,this.render)+_2da.offsetHeight+1;var _2de=$W._H.getRelativeLeft(_2da,this.render);_2d9.setPosition(_2de,_2dd);list.setSize(_2db,null);_2d9.setSize(_2db,_2dc);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.showGroupbyHeaderGhost=function(e,_2e0){["WebSquare.uiplugin.grid.showGroupbyHeaderGhost"];try{var _2e1=this;var _2e2=this.getHeaderValue(_2e0);$W._K.gDragManager.activate(e,null,{id:this.id+"_drag",className:"w2grid_groupbyZone_header_drag",contents:_2e2,delay:15,applyMousePosition:true,onDrop:function(drag,drop,x,y,dx,dy,e){}});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aW.prototype.setAdaptiveColumnVisible=function(_2ea,_2eb){["WebSquare.uiplugin.layoutController.prototype.setAdaptiveColumnVisible"];try{if(this.hiddenAdaptiveList[_2ea]==!_2eb||_2ea>=this.hiddenAdaptiveList.length){return;}var _2ec=document.getElementsByClassName(this.id+"_header__column"+_2ea)[0];var _2ed=document.getElementsByClassName(this.id+"_columnstyle_"+(_2ea-this.defaultColCnt)+"_");var _2ee=this.columnStyleValueObj[_2ea-this.defaultColCnt].height;if(this.oldOptions["headerColBorder"]!=""){this.oldOptions["headerColBorder"]=$W._H.getStyle(_2ec,"border-top");}if(_2ed.length>0&&this.oldOptions["bodyColBorder"]!=""){this.oldOptions["bodyColBorder"]=$W._H.getStyle(_2ed[0],"border-top");}if(this.hasSubtotal){var _2ef=0;var _2f0=0;var _2f1=this.drawedSubtotal[0][0].childNodes;var _2f2;for(var i=0;i<_2f1.length;i++){_2f2=parseInt(_2f1[i].getAttribute("colSpan"));if(!_2f2){_2f2=1;}if(_2f0<=_2ea&&_2ea<_2f0+_2f2){break;}else{_2f0+=_2f2;_2ef++;}}}if(this.hasFooter){var _2f4=0;var _2f5=0;var _2f6=this.htmlInfo.foot.rowArr;for(var i=0;i<_2f6.length;i++){var _2f7=_2f6[i];for(var j=0;j<_2f7.length;j++){var _2f9=_2f7[j];var _2f2=parseInt(_2f9.colSpan);if(!_2f2){_2f2=1;}if(_2f5<=_2ea-this.defaultColCnt&&_2ea-this.defaultColCnt<_2f5+_2f2){break;}else{_2f5+=_2f2;_2f4++;}}}}if(_2eb){_2ec.style.height=_2ee;_2ec.style.removeProperty("padding");_2ec.style.borderTop=this.oldOptions["headerColBorder"];for(var i=0;i<_2ed.length;i++){_2ed[i].style.height=_2ee;_2ed[i].style.removeProperty("padding");_2ed[i].style.borderTop=this.oldOptions["bodyColBorder"];}if(this.hasFooter){for(var i=0;i<_2f6.length;i++){var _2f9=_2f6[i][_2f4];var _2fa=parseInt(this.getFooterStyle(_2f9.id,"height"))+parseInt(_2ec.offsetHeight);var _2f2=parseInt(_2f9.colSpan);if(!_2f2||parseInt(this.getFooterStyle(_2f9.id,"height"))<=0){this.setFooterStyle(_2f9.id,"height",_2ec.style.height);this.setFooterStyle(_2f9.id,"padding",_2ec.style.padding);this.setFooterStyle(_2f9.id,"borderTop",_2ec.style.borderTop);}else{this.setFooterStyle(_2f9.id,"height",_2fa+"px");}}}if(this.hasSubtotal){for(var i=0;i<this.drawedSubtotal.length;i++){for(var j=0;j<this.drawedSubtotal[i].length;j++){var _2fb=this.drawedSubtotal[i][j].childNodes;var _2fa=parseInt(_2fb[_2ef].style.height)+parseInt(_2ec.offsetHeight);var _2f2=parseInt(_2fb[_2ef].getAttribute("colSpan"));if(!_2f2||parseInt(_2fb[_2ef].style.height)<=0){_2fb[_2ef].style.height=_2ec.style.height;_2fb[_2ef].style.padding=_2ec.style.padding;_2fb[_2ef].style.borderTop=_2ec.style.borderTop;}else{_2fb[_2ef].style.height=_2fa+"px";}}}}}else{if(this.hasFooter){for(var i=0;i<_2f6.length;i++){var _2f9=_2f6[i][_2f4];var _2fa=parseInt(this.getFooterStyle(_2f9.id,"height"))-parseInt(_2ec.offsetHeight);var _2f2=parseInt(_2f9.colSpan);if(!_2f2||_2fa<=0){this.setFooterStyle(_2f9.id,"height","0px");this.setFooterStyle(_2f9.id,"padding","0px");this.setFooterStyle(_2f9.id,"borderTop","0px");}else{this.setFooterStyle(_2f9.id,"height",_2fa+"px");}}}if(this.hasSubtotal){for(var i=0;i<this.drawedSubtotal.length;i++){for(var j=0;j<this.drawedSubtotal[i].length;j++){var _2fb=this.drawedSubtotal[i][j].childNodes;var _2fa=parseInt(_2fb[_2ef].style.height)-parseInt(_2ec.offsetHeight);var _2f2=parseInt(_2fb[_2ef].getAttribute("colSpan"));if(!_2f2||_2fa<=0){_2fb[_2ef].style.height="0px";_2fb[_2ef].style.padding="0px";_2fb[_2ef].style.borderTop="0px";}else{_2fb[_2ef].style.height=_2fa+"px";}}}}_2ec.style.height="0px";_2ec.style.padding="0px";_2ec.style.borderTop="0px";for(var i=0;i<_2ed.length;i++){_2ed[i].style.height="0px";_2ed[i].style.padding="0px";_2ed[i].style.borderTop="0px";}}this.hiddenAdaptiveList[_2ea]=!_2eb;}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.layoutController=$W._a.aW;$W._a.aZ=function(){try{}catch(e){$l(e.message);$W.exception.printStackTrace(e,null,this);}};$W._a.aZ.prototype.setTableLayout=function(){["WebSquare.uiplugin.drawInitializer.prototype.setTableLayout"];try{this.initializeHead();this.initializeFooter();this.setDataLayerPosition();this.arrangeOverflowXScroll();this.handlerResize_drawInitializer();this.setTrRowTable();this.setTrSubtotalRowTable();this._setAutoFit();this.realRowDataLength=this.oneRowDataLength+this.defaultColCnt;this.associateHeaderBody();if(this.options.columnMove){this.createBlockedHeaderInfo();}this.lastDisplayedRow=-1;this.drawFooter();this.drawHeader();for(var j=0;j<this.oneRowDataLength;j++){var _2=this.cellInfoHash2[this.tdIdList[j]];var _3=new $W._a._I(_2,this);if(_3.options.inputType=="textarea"){this.isExistTextarea=true;}if(_3.options.colMerge){this.isColMerge=true;if(_3.options.upperColumn){if(!this.upperToLowerColumnRelation[_3.options.upperColumn]){this.upperToLowerColumnRelation[_3.options.upperColumn]=[];}this.upperToLowerColumnRelation[_3.options.upperColumn].push(_3.options.id);}}if(_3.options.maxLength!=undefined&&_3.options.maxLength!==""){_3.options.maxlength=_3.options.maxLength;}this.cellInfoHash[_3.id]=_3;this.cellIdList.push(_3.id);var _4=this.headerInfoHash2[this.thIdList[j]];if(_4){var _5=new $W._a.headerInfo(_4,this);this.headerInfoHash[_5.id]=_5;}var _6=_3.options.hideThreshold;if(typeof _6!="undefined"){this.hideThresholdObj[_3.id]=_6;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aZ.prototype.setDataLayerPosition=function(){try{var _7=this.getElementById(this.id+"_dataLayer");if(this.hasFooter){var _8=this.getElementById(this.id+"_foot_table").offsetHeight;_8=(_8==0)?this.footerHeight:_8;_7.style.bottom=_8+"px";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aZ.prototype.arrangeOverflowXScroll=function(){["WebSquare.uiplugin.drawInitializer.arrangeOverflowXScroll"];try{this.fixedWidth=0;var _9=this.getFixedColumnLastIndex();for(var i=0;i<_9;i++){if(!this.hiddenList[i]){this.fixedWidth+=this.colWidthList[i];}}var _b=this.getElementById(this.id+"_scrollX_div");var _c=this.getElementById(this.id+"_scrollX_table");var _d=_b.offsetWidth-_c.offsetWidth;var _e=this.getElementById(this.id+"_scrollX_left");var _f=this.getElementById(this.id+"_scroll_size");_e.style.width=this.fixedWidth+"px";_f.style.width=(this.gridWidth-this.fixedWidth-_d)+"px";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aZ.prototype.handlerResize_drawInitializer=function(){["WebSquare.uiplugin.drawInitializer.prototype.handlerResize_drawInitializer"];try{if(this.render.offsetWidth==0||this.render.offsetHeight==0){return;}this.setOverflowY();this.setOverflowX();this.setIE6Fix();if(this.options.headFiller){var _10=this.getElementById(this.id+"_header_bg_td");var _11=this.getElementById(this.id+"_dataLayer").offsetWidth-1;var _12=this.getElementById(this.id+"_head_table").offsetHeight;var _13=_11;var _14=_12;_10.style.width=(_11)+"px";while(_10.offsetWidth!=_13){if(_10.offsetWidth>_13){_11--;}else{_11++;}_10.style.width=(_11)+"px";}_10.style.height=(_12)+"px";while(_10.offsetHeight!=_14){if(_10.offsetHeight>_14){_12--;}else{_12++;}_10.style.height=(_12)+"px";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aZ.prototype.setIE6Fix=function(){["WebSquare.uiplugin.drawInitializer.prototype.setIE6Fix"];try{var _15=this.options.fixPrint&&($W._G.isIE(9)||$W._G.isIE(10)||($W._N.browserCheck.ieAllVersion&&document.documentMode=="11")||$W._G.isFF());if(this.isIE6||$W._G.isOpera()||_15){var _16=this.getElementById(this.id+"_scrollX_div");var _17=this.getElementById(this.id+"_scrollY_div");var _18=this.getElementById(this.id+"_main_div");var _19=(this.render.offsetHeight-_16.offsetHeight);var _1a=(this.render.offsetWidth-_17.offsetWidth+2);_19=(_19<0)?0:_19;_1a=(_1a<0)?0:_1a;_18.style.height=_19+"px";_18.style.width=_1a+"px";var _1b=0;if(this.hasFooter){_1b=this.getElementById(this.id+"_foot_table").offsetHeight;_1b=(_1b==0)?this.footerHeight:_1b;}var _1c;if(this.options.visibleRowNum!==""){var _1d=this.getElementById(this.id+"_body_table");if(!this.defaultDataLayerHeight||_1d.offsetHeight>this.defaultDataLayerHeight){_1c=_1d.offsetHeight+_1b;}else{_1c=this.defaultDataLayerHeight+_1b;}}else{_1c=_19-_1b-1;}_1c=_1c<0?0:_1c;var _1e=this.getElementById(this.id+"_dataLayer");_1e.style.height=_1c+"px";this.dataLayerHeight=_1c;var _1f=this.getElementById(this.id+"_scrollX_right");_1f.style.width=_1f.parentNode.offsetWidth+"px";if(_15){_18.style.position="relative";_18.style.bottom="";_18.style.right="";_1e.style.position="relative";_1e.style.bottom="";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aZ.prototype.setOverflowX=function(_20){var _21=true;if(typeof _20!="undefined"){if(_20!="hidden"&&_20!="auto"&&_20!="scroll"){_20="auto";}this.options.overflowX=_20;}else{_21=false;}_20=this.isMobile?"hidden":this.options.overflowX;switch(_20){case "auto":this.setOverflowXAuto();break;case "hidden":this.setOverflowXHidden();break;default:this.setOverflowXScroll();break;}if(this.isMobile){this.setIScrollX();}if(_21){this.setIE6Fix();}};$W._a.aZ.prototype.setOverflowXAuto=function(){var _22=this.getElementById(this.id+"_scrollX_div");var _23=this.getElementById(this.id+"_scrollX_left");var _24=this.getElementById(this.id+"_scrollX_right");if(_24.firstChild.offsetWidth>_22.offsetWidth-_23.offsetWidth){this.setOverflowXScroll();}else{this.setOverflowXHidden();}};$W._a.aZ.prototype.setOverflowXScroll=function(){["WebSquare.uiplugin.drawInitializer.prototype.setOverflowXScroll"];try{var _25=this.getElementById(this.id+"_scrollX_div");var _26=_25.style.height;_25.style.height=(this.scrollLayerWidthSize)+"px";if(this.rowIndex!==-1&&_26==="0px"){if(this.options.visibleRowNum!==""){var _27=parseInt(this.render.style.height,10);this.setSize(null,_27+this.scrollWidthSize);}else{this.dataLayerHeight-=this.scrollWidthSize;var _28=this.dataRowList[(this.lastIndex+1)*this.oneRowLength-1];if(_28&&_28.offsetTop+_28.offsetHeight>this.dataLayerHeight){this._setRowDisplay(this.lastIndex,"none");this.lastIndex=this.lastIndex-1;this.maxRowLength=this.maxRowLength-1;this.lastDisplayedRow=this.lastIndex;this.lastTopRowIndex=null;this.setScrollYHeight({noDraw:true});this.setOverflowYAuto();}}}if(!this.isIE6){var _29=this.getElementById(this.id+"_main_div");var _25=this.getElementById(this.id+"_scrollX_div");var _2a=parseInt(_25.style.height,10);_29.style.bottom=_2a+"px";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aZ.prototype.setOverflowXHidden=function(){["WebSquare.uiplugin.drawInitializer.prototype.setOverflowXHidden"];try{var _2b=this.getElementById(this.id+"_scrollX_div");var _2c=_2b.style.height;_2b.style.height="0px";if(_2c!="0px"){this.handleScrollX();}if(this.rowIndex!==-1&&_2c!=="0px"){if(this.options.visibleRowNum!==""){var _2d=parseInt(this.render.style.height,10);this.setSize(null,_2d-this.scrollWidthSize);}else{this.dataLayerHeight+=this.scrollWidthSize;this.maxRowLength=this.maxRowLength+1;var _2e=this.getDataLength();if(this.maxRowLength>=_2e){this.getElementById(this.id+"_size_y").style.height="0px";}this.setOverflowYAuto();this.drawData(this.rowIndex,this.lastIndex);this.lastTopRowIndex=null;}}var _2f=this.getElementById(this.id+"_main_div");if(!this.isIE6){_2f.style.bottom="0px";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aZ.prototype.setOverflowY=function(_30){var _31=true;if(typeof _30!="undefined"){if(_30!="hidden"&&_30!="auto"&&_30!="scroll"){_30="auto";}this.options.overflowY=_30;}else{_31=false;}_30=this.isMobile?"hidden":this.options.overflowY;switch(_30){case "auto":this.setOverflowYAuto();break;case "hidden":this.setOverflowYHidden();break;default:this.setOverflowYScroll();break;}if(this.isMobile){this.setIScrollY();}if(_31){this.setIE6Fix();}};$W._a.aZ.prototype.setOverflowYAuto=function(){var _32=this.getElementById(this.id+"_scrollY_div");if(_32.offsetHeight<_32.scrollHeight){this.setOverflowYScroll();}else{this.setOverflowYHidden();}};$W._a.aZ.prototype.setOverflowYScroll=function(){var _33=this.getElementById(this.id+"_scrollY_div");var _34=this.getElementById(this.id+"_scrollX_div");var _35=this.getElementById(this.id+"_main_div");var _36=parseInt(_33.style.width,10);_33.style.width=this.scrollLayerWidthSize+"px";_33.style.overflowY="scroll";if(!this.isIE6){_35.style.right=(this.scrollWidthSize-1)+"px";_34.style.right=this.scrollWidthSize+"px";}else{var _37=this.render.offsetWidth-this.scrollWidthSize;_34.style.width=(_37>0?_37:0)+"px";_33.style.height=this.render.offsetHeight+"px";}if(_36==0){this._setAutoFit();}};$W._a.aZ.prototype.setOverflowYHidden=function(){var _38=this.getElementById(this.id+"_scrollY_div");var _39=parseInt(_38.style.width,10);_38.style.width="0px";_38.style.overflowY="hidden";if(!this.isIE6){var _3a=this.getElementById(this.id+"_main_div");_3a.style.right="0px";var _3b=this.getElementById(this.id+"_scrollX_div");_3b.style.right="0px";}if(_39!=0){this._setAutoFit();}};$W._a.aZ.prototype.setTrRowTable=function(){["WebSquare.uiplugin.drawInitializer.prototype.setTrRowTable"];try{this.tempDiv=document.createElement("div");this.tempDiv.style.width="0px";this.tempDiv.style.height="0px";this.tempDiv.style.overflow="hidden";this.tempDiv.innerHTML="<table id='tempTable' style='table-layout:fixed; border-collapse:collapse; border-spacing:0px;'>"+this.getTableHtml(this.htmlInfo.body,"tbody","td",this.options.bodyTdClass)+"</table>";this.tempTr=this.tempDiv.getElementsByTagName("table")[0];var tds=this.tempTr.getElementsByTagName("td");this.aria_labelledby=[];for(var i=0;i<tds.length;i++){if(this.options.autoScope&&i==0){tds[i].setAttribute("scope","row");}this.aria_labelledby[i]=tds[i].getAttribute("aria-labelledby");tds[i].innerHTML="";}this.tempDiv.id=this.id;this.tempDiv.className="w2grid";document.body.appendChild(this.tempDiv);var _3e=this.tempDiv.getElementsByTagName("tbody")[0].offsetHeight;if(_3e==0){if(this.options.defaultCellHeight!=-1){_3e=this.options.defaultCellHeight;}else{_3e=20;}}this.oneRowHeight=_3e+($W._G.isIE(6)||$W._G.isIE(7)?1:0);if(this.options.scrollRowHeight){this.oneRowScrollHeight=this.oneRowHeight;}document.body.removeChild(this.tempDiv);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aZ.prototype.setTrSubtotalRowTable=function(){["WebSquare.uiplugin.drawInitializer.prototype.setTrSubtotalRowTable"];try{this.subtotalTableList={};for(var _3f in this.subtotalStrList){var _40=document.createElement("div");_40.style.width="0px";_40.style.height="0px";_40.style.overflow="hidden";_40.innerHTML="<table id='tempTable' style='width:100%;table-layout:fixed; border-collapse:collapse; border-spacing:0px;'>"+this.getTableHtml(this.subtotalStrList[_3f],"tbody","td",this.options.subtotalTdClass)+"</table>";var _41=_40.getElementsByTagName("table")[0];var _42=_41.getElementsByTagName("td");for(var j=0;j<_42.length;j++){var _44=_42[j];var _45=_44.getAttribute("width");if(_45){_44.removeAttribute("width");_44.setAttribute("or_wd",_45);}}this.subtotalTableList[_3f]=_41;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aZ.prototype._setAutoFit=function(_46){["WebSquare.uiplugin.drawInitializer.prototype._setAutoFit"];if(this.render.offsetWidth==0||this.render.offsetHeight==0){return;}var _46=_46||{};var _47=_46.type?_46.type:this.options.autoFit;var _48=_46.exceptCol;var _49=_46.exceptWidth||0;var _4a=this.options.autoFitFixYScroll?this.scrollLayerWidthSize:parseInt(this.getElementById(this.id+"_scrollY_div").style.width,10);var _4b=this.render.clientWidth;this.autofit_clientWidth=_4b;var _4c=0;for(var i=this.colWidthList.length-1;i>=0;i--){if(this.hiddenList[i]==false){_4c=i;break;}}if(_47=="selectedColumn"&&!this.autofitColumn){this.autofitColumn=true;var _4e=this.defaultColCnt+_46.colIndex;this.gridWidth-=this.colWidthList[_4e];this.autofitColumnIndexArr.push(_4e);this.colWidthList[_4e]="*";this.autofitColumnWidthArr[_4e]="*";}if(this.autofitColumn){var _4f=_4b;var _50=this.autofitColumnIndexArr.slice();if(_4a>0){_4f-=_4a;}for(var i=0;i<_50.length;i++){if(this.hiddenList[_50[i]]==true){if($W._G.isIE("6 7 8")){for(var j=0;j<_50.length;j++){if(_50[j]===_50[i]){_50.splice(j,1);break;}}}else{var _52=_50.indexOf(_50[i]);_50.splice(_52,1);}}}var _53=0;var _54=[];for(var i=0;i<this.colWidthList.length;i++){if(this.hiddenList[i]==true){continue;}if(i<this.autofitColumnWidthArr.length&&this.autofitColumnWidthArr[i]){var _55=this.autofitColumnWidthArr[i].substring(0,this.autofitColumnWidthArr[i].indexOf("*"));if(_55.length>0){_54.push(parseInt(_55,10));}else{if(_55.length==0){_54.push(1);}}}else{_4f-=this.colWidthList[i];}}var gcd=function(o){if(!o.length){return 0;}for(var r,a,i=o.length-1,b=o[i];i;){for(a=o[--i];r=a%b;a=b,b=r){}}return b;};var _59=gcd(_54);for(var i=0;i<_54.length;i++){_54[i]=_54[i]/_59;_53=_53+_54[i];}var _5a=Math.floor(_4f/_53);var _5b=_4f-(_5a*_53);for(var i=0;i<_50.length;i++){var _5c=this.options.autoFitMinWidth||0;var _5d=_50[i];var _5e=_5a*_54[i];_54[i]=_5e;if(_5e<_5c){this._setColumnWidth(_5d,_5c);}else{this._setColumnWidth(_5d,_5e);}}if(_5b>0){if(_50.length==1){this._setColumnWidth(_50[0],_5b);}else{var _5f=_54.slice();for(var i=_5b;i>0;i--){var _60={};for(var j=0;j<_54.length;j++){if(this.hiddenList[_50[j]]==true){continue;}var _61=Math.abs((_5f[j]-(_54[j]+1))*(this.gridWidth/_5f[j]));if(_60.distortion==undefined||_60.distortion>_61){_60.distortion=_61;_60.index=j;}}_54[_60.index]++;}for(var t=0;t<_54.length;t++){this._setColumnWidth(_50[t],_54[t]);}}}}if(_47=="lastColumn"){if(!this.autoFitGridWidth){this.autoFitGridWidth=this.gridWidth;this.orgLastWidth=this.colWidthList[_4c];this.orgLastVisibleCol=_4c;}if(typeof _48=="number"&&_48!=_4c){this.autoFitGridWidth+=_49-this.colWidthList[_48];this._setColumnWidth(_48,_49);}var _63=_4b-_4a-this.gridWidth+this.colWidthList[_4c];var _64=this.gridWidth+_63-this.colWidthList[_4c];if(_63>this.orgLastWidth){this._setColumnWidth(_4c,_63);}else{this._setColumnWidth(_4c,this.orgLastWidth);}}else{if(_47=="allColumn"){if(!this.autofitColumn){var _65=this.autoFitColWidthList||this.colWidthList;var _64=_4b-_4a;var _66=[];if(this.options.keepDefaultColumnWidth){for(var i=0;i<this.defaultColCnt;i++){_66.push(i);}}var _5c=parseInt(_46.minWidth?_46.minWidth:this.options.autoFitMinWidth,10);if(!isNaN(_5c)&&_5c>_64){_64=_5c;}_64-=_49;for(var i=0;i<_66.length;i++){_64-=this.colWidthList[_66[i]];}var _67=0;for(var i=0;i<_65.length;i++){var _68=false;if(this.options.keepDefaultColumnWidth&&i==0||i==1){for(var _69=0;_69<_66.length;_69++){if(_66[i]==i){_68=true;}}}_67+=(this.hiddenList[i]||i===_48||_68)?0:_65[i];}var _6a=0;var _6b=_67?(_64/_67):0;var _6c=[];if(_6b){for(var i=0;i<_65.length;i++){var _68=false;if(this.options.keepDefaultColumnWidth&&i==0||i==1){for(var _69=0;_69<_66.length;_69++){if(_66[i]==i){_68=true;}}}if(i==_48){this.colWidthList[i]=_49;}else{if(_68){this.colWidthList[i]=this.colWidthList[_66[i]];}else{_6c[i]=_6b*_65[i];var _6d=Math.round(_6c[i]);this.colWidthList[i]=_6d;_6a+=this.hiddenList[i]?0:_6d;}}}var _6e=_64-_6a;var _6f=(_6e>0)?1:-1;for(i=0;i<_6e*_6f;i++){var min={};for(j=0;j<_65.length;j++){var _68=false;if(this.options.keepDefaultColumnWidth&&j==0||j==1){for(var _69=0;_69<_66.length;_69++){if(_66[j]==j){_68=true;}}}if(this.hiddenList[j]||j==_48||_68){continue;}var _61=Math.abs(_6c[j]-(this.colWidthList[j]+_6f))*(_6a/this.colWidthList[j]);if(min.value==undefined||min.value>_61){min.value=_61;min.index=j;}}this.colWidthList[min.index]+=_6f;_6a+=_6f;}if(this.hiddenList[0]&&$W._G.isIE(8)){for(var i=0;i<this.colWidthList.length;i++){if(!this.hiddenList[i]){this.colWidthList[i]=this.colWidthList[i]-2;break;}}}}if(!this.autoFitColWidthList){this.autoFitColWidthList=this.colWidthList.slice(0);}this.gridWidth=_6a+_49;if(this.options.keepDefaultColumnWidth){for(var i=0;i<_66.length;i++){this.gridWidth+=this.colWidthList[_66[i]];}}this.arrangeOverflowXScroll();this.setOverflowX();this.handleScrollX();this.handlerResize_drawInitializer();}for(var i=0;i<this.oneRowDataLength;i++){var _71=this.getCellInfo(i);if((_71.options.inputType=="text"||_71.options.inputType=="secret"||_71.options.inputType=="calendar")&&_71.options.embeddedInput&&(this.options.autoResizeEmbeddedInput||_71.options.inputType=="calendar")){if(!this.hiddenList[i]){if(this.embeddedWidthObj[i]){this.embeddedWidthObj[i]["isChanged"]=true;}this.drawColumnData(i);}}}}else{if(_47=="clear"){if(!this.autoFitGridWidth){this.autoFitGridWidth=this.gridWidth;}if(typeof _48=="number"){this.autoFitGridWidth+=_49-this.colWidthList[_48];this._setColumnWidth(_48,_49);}}}}};$W._a.aZ.prototype.setAutoFit=function(_72){["WebSquare.uiplugin.drawInitializer.prototype.setAutoFit"];try{if(_72){this.options.autoFit=_72.type;}this._setAutoFit(_72);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aZ.prototype.autoFitFunc=function(){if(this.autofit_clientWidth===this.render.clientWidth){$W._N.clearTimer(this.id+"_autofit");}else{$W._N.setTimer(this._setAutoFit,{key:this.id+"_autofit",caller:this,delay:100});}};$W._a.aZ.prototype.setIScrollX=function(){["WebSquare.uiplugin.drawInitializer.prototype.setIScrollX"];try{var _73=this.getElementById(this.id+"_iScrollX");if(!_73){return;}var _74=this.getElementById(this.id+"_scrollX_right");if(_74.offsetWidth>=_74.firstChild.offsetWidth){_73.style.visibility="hidden";return;}var _75=this.getElementById(this.id+"_dataLayer");var _76=parseInt(this.getElementById(this.id+"_scrollX_left").style.width,10);var _77=_74.firstChild.offsetWidth-_74.offsetWidth;var _78=parseInt(_74.offsetWidth*_74.offsetWidth/_74.firstChild.offsetWidth,10);_73.style.width=(_78<30?30:_78)+"px";_73.style.left=(_76+_74.scrollLeft/_77*(_75.offsetWidth-_76-_73.offsetWidth))+"px";_73.style.visibility="";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aZ.prototype.setIScrollY=function(){["WebSquare.uiplugin.drawInitializer.prototype.setIScrollY"];try{var _79=this.getElementById(this.id+"_iScrollY");if(!_79){return;}var _7a=this.getDataLength();var _7b=this.rowIndex;var _7c=this.getElementById(this.id+"_size_y").parentNode.offsetHeight;if(_7c==0){_7c=parseInt(this.getStyleValue("height"));}if(_7b==-1||(_7b==0&&_7b+this.lastIndex+1==_7a)){var _7d=!this.hasSubtotal;if(this.hasSubtotal){if(this.drawedSubtotal.length>0){var _7e=this.drawedSubtotal[this.drawedSubtotal.length-1];if(_7e.rowIndex==dataLen-1){var _7f=_7e[_7e.length-1];if(_7f.style.display!="none"){_7d=true;}}}}if(_7d){_79.style.visibility="hidden";return;}}var _80=this.getElementById(this.id+"_scrollY_div");var _81=_80.firstChild.offsetHeight;var _82=this.getElementById(this.id+"_dataLayer");var _83=_81-_82.offsetHeight;var _84=parseInt(_82.offsetHeight*_82.offsetHeight/_81,10);_79.style.height=(_84<30?30:_84)+"px";_79.style.top=(_80.scrollTop/_83*(_82.offsetHeight-_79.offsetHeight))+"px";_79.style.visibility="";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aZ.prototype.createBlockedHeaderInfo=function(){["WebSquare.uiplugin.drawInitializer.prototype.createBlockedHeaderInfo"];try{var _85=function(arr,_87){var max=0;var _89=arr[_87];if(typeof _89=="string"){for(var i=_87;i<arr.length;i++){if(typeof arr[i]=="string"){max++;}else{break;}}}else{if(_89>1){max=_89;}}return max;};var _8b=this.htmlInfo.body.rowArr;var _8c=this.htmlInfo.head.rowArr;this.colSpanInfoObj={};for(var _8d=0;_8d<_8c.length;_8d++){this.colSpanInfoObj["header_row_"+_8d]=[];for(var _8e=0;_8e<_8c[_8d].length;_8e++){var _8f=_8c[_8d][_8e];var _90=parseInt(_8f.colSpan,10)||1;if(_90>1){for(var _91=0;_91<_90;_91++){if(_91==0){this.colSpanInfoObj["header_row_"+_8d].push(_90);}else{this.colSpanInfoObj["header_row_"+_8d].push("*");}}}else{this.colSpanInfoObj["header_row_"+_8d].push(_90);}}}for(var _8d=0;_8d<_8b.length;_8d++){this.colSpanInfoObj["body_row_"+_8d]=[];for(var _8e=0;_8e<_8b[_8d].length;_8e++){var _8f=_8b[_8d][_8e];var _90=parseInt(_8f.colSpan,10)||1;if(_90>1){for(var _91=0;_91<_90;_91++){if(_91==0){this.colSpanInfoObj["body_row_"+_8d].push(_90);}else{this.colSpanInfoObj["body_row_"+_8d].push("*");}}}else{this.colSpanInfoObj["body_row_"+_8d].push(_90);}}}var _92=0;var _93;var _94=[];var _95=this.colSpanInfoObj["header_row_0"];for(var _8e=0;_8e<_95.length;_8e++){if(_8e<_92){continue;}var _8f=_95[_8e];var max=0;for(var key in this.colSpanInfoObj){var _90=_85(this.colSpanInfoObj[key],_8e);if(max<_90){max=_90;if(_94.length==0){var _98=this.colIndexes.headerColInfo.colIndexMatch[_8e+this.defaultColCnt][0]-this.defaultColCnt;var _99=_8c[0][_98].id;_93=this.getHeaderIndex(_99);_94.push({"startHeaderID":_99});}}}var _9a=_92+max-1;if(_92<_9a){_92=_9a;}else{if(_94.length!=0){var _98=this.colIndexes.headerColInfo.colIndexMatch[_8e+this.defaultColCnt][0]-this.defaultColCnt;var _99=_8c[0][_98].id;var _9b=this.getHeaderIndex(_99);_94[0]["endHeaderID"]=_99;_94[0]["blockLength"]=_98-_93+1;for(var i=_93;i<=_9b;i++){this.colMoveBolockedHeaderObj[_8c[0][i].id]=_94[0];}_94=[];_92=_8e;}else{_92=_8e;continue;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.drawInitializer=$W._a.aZ;$W._a.ay=function(){["WebSquare.uiplugin.eventController"];};$W._a.ay.prototype.initializeEvent=function(){["WebSquare.uiplugin.eventController.prototype.initializeEvent"];try{this.otherClickEvent();this.checkResize();this.event.addListener(this.render,"ondblclick",this.event.bindAsEventListener(this,this.handleDblClickEvent));this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if(!$W._G.isIEAllVersion()){if($W._N.browserCheck.safari){this.event.addListener($W.getBody().render,"onbeforecopy",this.event.bindAsEventListener(this,this.handleBeforeCopyEvent));this.event.addListener($W.getBody().render,"oncopy",this.event.bindAsEventListener(this,this.handleCopyEvent));this.event.addListener(this.render,"onpaste",this.event.bindAsEventListener(this,this.handlePasteEvent));}else{this.event.addListener(this.render,"oncopy",this.event.bindAsEventListener(this,this.handleCopyEvent));this.event.addListener(this.render,"onpaste",this.event.bindAsEventListener(this,this.handlePasteEvent));}}else{if($W._G.isIEAllVersion()){this.event.addListener(this.render,"oncopy",this.event.bindAsEventListener(this,function(e){$W._c.preventDefault(e);}));this.event.addListener(this.render,"onpaste",this.event.bindAsEventListener(this,function(e){$W._c.preventDefault(e);}));}}if(!this.isMobile){this.event.addListener(this.getElementById(this.id+"_head_table"),"onmouseover",this.event.bindAsEventListener(this,this.gridDataLayerOut));this.event.addListener(this.getElementById(this.id+"_scrollX_div"),"onmouseover",this.event.bindAsEventListener(this,this.gridDataLayerOut));this.event.addListener(this.getElementById(this.id+"_scrollY_div"),"onmouseover",this.event.bindAsEventListener(this,this.gridDataLayerOut));this.event.addListener(this.getElementById(this.id+"_dataLayer"),"onmouseover",this.event.bindAsEventListener(this,this.gridOver));if(this.hasFooter){this.event.addListener(this.getElementById(this.id+"_foot_table"),"onmouseover",this.event.bindAsEventListener(this,this.gridOver));}}this.event.addListener(this.getElementById(this.id+"_dataLayer"),"oncontextmenu",this.event.bindAsEventListener(this,this.clickRightButtonCell));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.gridOut));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyDownEvent));this.event.addListener(this.render,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyUpEvent));if($W._G.isOpera()){this.event.addListener(this.render,"onkeypress",function(e){if(e.keyCode==9||e.keyCode==27){$W._c.preventDefault(e);}});}if(this.options.dataDragDrop){if(this.isMobile==true){}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleDragEvent));}}else{if(!this.options.dataDragDrop&&this.options.dataDragSelect){if(!this.isMobile){this.event.addListener(this.getElementById(this.id+"_dataLayer"),"onmousedown",this.event.bindAsEventListener(this,this.handleDragSelectEvent));}}}$W._N.setTimer(function(){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){var _5=$W.getBody().getLayerListener();if(_5.layers[this.id]){var _6=_5.layers[this.id].component;var _7={};while(_6.parentControl){_6=_6.parentControl;for(var id in _5.useOtherComponentId){if(_5.useOtherComponentId[id]==_6.id){_7[id]=true;}}}$W.getBody().getLayerListener().hideAll(_7);}if(!this.parentControl||!this.parentControl.options||(this.parentControl.options.pluginName!="gridItemTable"&&this.parentControl.options.pluginName!="gridViewItemTable")){$W._c.stopPropagation(e);}}));},{key:this.id+"initializeEvent",caller:this,delay:100});if(this.isMobile){this.iScroll={};this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{if(window.navigator.msPointerEnabled){this.iScroll={};this.render.style.touchAction="none";this.event.addListener(this.render,"onMSPointerDown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"onMSPointerMove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"onMSPointerUp",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{if(this.options.senseReader){this.event.addListener(this.getElementById(this.id+"_gridstart_div"),"onfocus",this.event.bindAsEventListener(this,this.handleStartDivFocus));this.event.addListener(this.getElementById(this.id+"_gridend_div"),"onfocus",this.event.bindAsEventListener(this,this.handleEndDivFocus));}}}this.initializeLayoutEvents();$W._G.setInterval(this.checkResize,{key:this.id+"_checkResize",caller:this,delay:70});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ay.prototype.handleStartDivFocus=function(e){this.applyFocusedCellOut();this.focusedCell=[];this.addGridScroll(0-this.rowIndex);var _a=this.getElementById(this.id+"_scrollY_div").scrollTop;if(_a!=0){this.addGridScroll(0-this.rowIndex);}};$W._a.ay.prototype.handleEndDivFocus=function(e){this.applyFocusedCellOut();this.focusedCell=[];var _c=parseInt(this.getElementById(this.id+"_size_y").style.height,10);if(_c==0){return;}var _d=this.getElementById(this.id+"_size_y").parentNode.offsetHeight;var _e=_c-_d;var _f=this.getElementById(this.id+"_scrollY_div").scrollTop;if(_e!=_f){var _10=0;for(var i=0;i<this.getRowCount();i++){_10+=this.getHasSubtotalCount(i);}this.addGridScroll(this.getRowCount()-this.rowIndex-this.lastIndex-1+_10);}};$W._a.ay.prototype.handleTdFocus=function(e){var td=$W._c.getTarget(e);var _14=this.getLastFocusedCell();if(td.tagName=="TD"&&_14.focusedTd!=td&&!this.focusedByApi){var _15=parseInt(td.getAttribute("tdIndex"));var _16=parseInt(_15/this.realRowDataLength);var _17=_16+this.rowIndex;var _18=td.getAttribute("col_id");this.setFocusedCell(_17,_18);}this.focusedByApi=false;};$W._a.ay.prototype.handleDragSelectEvent=function(e){if(this.isDrillDown){return;}var it=this.event.getTargetIterator(e);while(it.next()){if(it.match(null,null,"td")){var _1b=this;var _1c=it.getElement();$W._K.gDragManager.activate(e,this.render,{id:this.id+"_dragSelect",delay:15,handleStart:function(e){_1b._setFocusedCell(e,_1c,{editMode:false});},handleUpdate:function(x,y,dx,dy,e){var _23=null;var _24=null;var it2=_1b.event.getTargetIterator(e);while(it2.next()){if(it2.match("w2grid")){_23=it2.getElement().id;break;}if(it2.match(null,null,"td")){_24=it2.getElement();}}if(_23!=null&&_24!=null&&_1b.id==_23){_1b._setFocusedCell({shiftKey:true},_24,{editMode:false});}}});if($W._G.isIEAllVersion()){$W._G.emptySelection();$W._c.preventDefault(e);}return;}}};$W._a.ay.prototype.handleDragEvent=function(e){if(this.isDrillDown&&!this.drillDownDragDrop){return;}if(this.editedCell){return;}var it=this.event.getTargetIterator(e);while(it.next()){if(it.match(null,null,"td")){var _28=it.getElement();var _29=[];var _2a=this.rowIndex+parseInt(parseInt(_28.getAttribute("tdIndex"))/(this.oneRowDataLength+this.defaultColCnt));if(this.options.dragDisplayColumn==""){_29.push(_28.getAttribute("col_id"));}else{_29=this.options.dragDisplayColumn.split(",");}var _2b=[];for(var i=0;i<_29.length;i++){_2b.push(this.getCellDisplayData(_2a,_29[i].wq_trim()));}_2b=_2b.join(",");var _2d=this;$W._K.gDragManager.activate(e,_28,{id:this.id+"_drag",className:"w2grid_drag",contents:_2b,delay:15,applyMousePosition:true,onDrop:function(_2e,_2f,x,y,dx,dy,e){var _35=null;var _36=null;var _37=null;var _38;var it2=null;if(this.isMobile){it2=new $W.targetIterator(document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY));e.preventDefault();}else{it2=_2d.event.getTargetIterator(e);}while(it2.next()){if(it2.match(null,null,"body")){return;}if(it2.match("w2grid")){_35=it2.getElement().id;break;}if(it2.match("w2grid_tooltip")){var _3a=it2.getElement();_3a.style.display="none";it2=new $W.targetIterator(document.elementFromPoint($W._c.getClientX(e),$W._c.getClientY(e)));}if(_37==null&&it2.match(null,null,"td")){var _3b=it2.getElement();_37=parseInt(_3b.getAttribute("tdIndex"),10);_38=parseInt(_3b.getAttribute("colindex"),10);if(typeof _38!="number"){_38=undefined;}}if(_37!=null){}}if(_35!=null){_35=$W._G.getComponentById(_35);_36=_35.getDataLength();if(_37!=null){_36=_35.rowIndex+parseInt(_37/(_35.oneRowDataLength+_35.defaultColCnt));}}var _3c=_2d.dataList.getRowXML(_2a);var _3d=_2e.getAttribute("col_id");var _3e=_2d.getColumnIndex(_3d);if(_2d.options.dragStartFunction!=""){var _3f=eval(_2d.options.dragStartFunction);if(typeof _3f=="function"){if(_2d.drillDownDragDrop){var _40;var _41;if(_2d.getRowCount()<=_36){_40=undefined;_41=undefined;}else{_40=_2d.getRealRowIndex(_36);_41=_2d.dataList.getRowData(_36);}var _42=_2d.getRealRowIndex(_2a);var _43=[_42].concat(_2d.drilldown.getRecursiveRowIndex(_42));var _44=[];for(var i=0;i<_43.length;i++){_44=_44.concat(_2d.dataList.getRowData(_2d.getDisplayRowIndex(_43[i])));}var _46=_3f.call(_2d,{"parentRowIndex":_40,"parentRowData":_41,"beforeRemoveData":_44,"beforeRemoveRowIndex":_43});if(!_46){return;}}else{var _47={"fromColumnId":_3d,"fromColumnIndex":_3e};_3c=_3f.call(_2d,_2a,_3c,_47);}}}if(_35.options.dragEndFunction!=""){var _48=eval(_35.options.dragEndFunction);if(typeof _48=="function"){if(_2d.drillDownDragDrop){if(_2d.id==_35.id&&_2d.isDrillDown&&(_36!=_2a)){var _49;var _42=_2d.getRealRowIndex(_2a);if(_2d.getRowCount()<=_36){_2d.drilldown.bodyDrop=true;var _4a=_2d.getRealRowIndex(_36-1);_49=_4a+_2d.drilldown.getRecursiveRowCount(_4a);}else{_49=_2d.getRealRowIndex(_36)+1;}var _4b=[_42].concat(_2d.drilldown.getRecursiveRowIndex(_42));var _4c=_2d.drilldown.moveNode(_42,_49);var _4d=[_4c.insertedRowIndex].concat(_2d.drilldown.getRecursiveRowIndex(_4c.insertedRowIndex));_48.call(_2d,_49,_3c,{"removedData":_4c.detachedData,"removedRowIndex":_4b,"insertedData":_4c.insertedData,"insertedRowIndex":_4d,"fromRowIndex":_42,"toRowIndex":_4d[0]});}}else{var _4e=typeof _38=="number"?_35.getColumnID(_38):undefined;var _47={"fromColumnId":_3d,"fromColumnIndex":_3e,"toColumnId":_4e,"toColumnIndex":_38};if(_48.call(_2d,_36,_3c,_47)){_2d.dataList.removeRow(_2a);}}}}else{if(_2d.id==_35.id&&_2d.isDrillDown&&(_36!=_2a)){if(_2d.drillDownDragDrop){var _49;var _42=_2d.getRealRowIndex(_2a);if(_2d.getRowCount()<=_36){_2d.drilldown.bodyDrop=true;var _4a=_2d.getRealRowIndex(_36-1);_49=_4a+_2d.drilldown.getRecursiveRowCount(_4a);}else{_49=_2d.getRealRowIndex(_36)+1;}var ret=_2d.drilldown.moveNode(_42,_49);return;}}if(_2d.id==_35.id){if(_36>_2a){_36++;}else{_2a++;}}_35.dataList.setRowXML(_36,_3c);if(_2d._linkedDataList){_2a=_2d._linkedDataList.getRealRowIndex(_2a);}_2d.dataList.removeRow(_2a);}}});return;}}};$W._a.ay.prototype.otherClickEvent=function(){["WebSquare.uiplugin.eventController.otherClickEvent"];try{var _50=this;var _51=window;this.otherClickHandler=function(e){var _53=e||_51.event;_53.otherClick=true;if(_50.editedCell){var _54=_50.editedCell.editRowIndex;var _55=_50._dataList.getColumnIndex(_50.editedCell.id);var _56=_50.getColumnIndex(_50.editedCell.id);var _57=_50._grid.getRealRowIndex(_54);var _58=_50._dataList.dataArr[_57*_50._dataList.getColumnCount()+_55];_50.editedCell.handleEndEdit();var _59=_50._dataList.dataArr[_57*_50._dataList.getColumnCount()+_55];if(_58!=_59){$W._c.fireEvent(_50,"onviewchange",{"oldValue":_58,"newValue":_59,"rowIndex":_54,"colIndex":_56});}}};if(this.isMobile){this.event.addListener(document.documentElement,"ontouchstart",this.event.bindAsEventListener(this,this.handleClickEventDocument));}else{var _5a=self;var cnt=0;$W.getBody().getLayerListener().addListener({component:this,event:{},otherClick:this.handleClickEventDocument});}if(!$W._G.isFF()){var _5a=self;var cnt=0;while(_5a!=_5a.parent&&cnt++<10){var _5c=true;if(_5a.parent["__WebSquare_gridArr__"]){for(var i=0;i<_5a.parent["__WebSquare_gridArr__"].length;i++){if(_5a.parent["__WebSquare_gridArr__"][i]!=null){_5c=false;break;}}}if(_5c){if(_5a.parent.$l){_5a.parent.$l("[grid.otherClickEvent]initialize GridArray");}_5a.parent["__WebSquare_gridArr__"]=[];}_5a.parent["__WebSquare_gridArr__"].push(this);_5a=_5a.parent;}}}catch(e){}};$W._a.ay.prototype.handleClickEventDocument=function(e){["WebSquare.uiplugin.eventController.handleClickEventDocument"];this.lastEvent=e;if(!this.event.isMe(e,this.render)&&!this.isMine(e)){e.otherClick=true;if(this.editedCell){var _5f=this.editedCell.editRowIndex;var _60=this._dataList.getColumnIndex(this.editedCell.id);var _61=this.getColumnIndex(this.editedCell.id);var _62=this._grid.getRealRowIndex(_5f);var _63=this._dataList.dataArr[_62*this._dataList.getColumnCount()+_60];this.handleClickEventDocumentAfter(e);var _64=$W.getBody();_64.layerListener.handleMouseDownEventDocument.call(_64,e);_64=null;this.editedCell.handleEndEdit(e,false,true);var _65=this._dataList.dataArr[_62*this._dataList.getColumnCount()+_60];if(_63!=_65){$W._c.fireEvent(this,"onviewchange",{"oldValue":_63,"newValue":_65,"rowIndex":_5f,"colIndex":_61});}}else{this.handleClickEventDocumentAfter(e);}}else{this.handleClickEventDocumentAfter(e);}};$W._a.ay.prototype.handleClickEventDocumentAfter=function(e){if(this.contextMenu){if(!e.srcElement.className.match("contextMenu")){this.hideContextMenu();}}if(this.groupbyFilterScrollView||this.customFilterScrollView){var it=this.event.getTargetIterator(e,this.render);var _68=true;while(it.next()){if(it.match("gridHeaderTDDefault")||it.match("w2grid_groupbyZone_scrollView")||it.match("w2grid_groupbyZone_column")||it.match("w2grid_customFilter_scrollView")||it.match("w2grid_customFilter_column")){_68=false;break;}}if(_68){this.hideGroupbyFilterList();this.hideCustomFilterList();}}};$W._a.ay.prototype.isMine=function(e){["WebSquare.uiplugin.eventController.isMine"];try{var _6a=$W._c.getTarget(e);while(_6a!=null){if(_6a.id&&_6a.id.indexOf&&_6a.id.indexOf("G_"+this.id+"__")>=0){return true;}_6a=_6a.parentNode;}return false;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ay.prototype.handleResize=function(){["WebSquare.uiplugin.eventController.prototype.handleResize"];try{var _6b=this.render.offsetWidth;var _6c=this.render.offsetHeight;if(_6b>0&&_6c>0){if(this.delayedDrawObj){this.setRedrawStatus("draw");}else{var _6d=_6b-this.resizeObj.width;var _6e=_6c-this.resizeObj.height;var _6f=false;if(_6e>0){if(this.options.adaptive){var _70=this.options.adaptive;var _71=parseInt(this.options.adaptiveThreshold)||480;if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_71){return;}}}_6f=true;var _72=this.getDataLength();var _73=this.drawedRowLength;this.lastTopRowIndex=null;this.setDataTable();if(_72<=0){}else{if(this.rowIndex+this.lastIndex+this.drawedRowLength-_73<_72){this.drawData(this.rowIndex,this.lastIndex);}else{var _74=_72-this.drawedRowLength>0?_72-this.drawedRowLength:0;if(_74==this.rowIndex){this.drawData(this.rowIndex,this.lastIndex);}else{this.scrollEvent=false;this.checkScrollEnd=true;var _75=this.getElementById(this.id+"_scrollY_div");_75.scrollTop=this.oneRowScrollHeight*_74;this.drawData(_74);}}}}else{if(_6e<0&&this.options.visibleRowNum!="all"){_6f=true;var _76=this.getElementById(this.id+"_body_table");this.dataLayerHeight=_76.parentNode.offsetHeight;var _77=Number(this.options.visibleRowNum);var _78=this.getVisibleRowNum();if(!isNaN(_77)&&_77>=_78){this.setScrollYHeight();}else{this.lastTopRowIndex=null;this.lastIndex=this.cutGridBottom(this.lastIndex);this.setScrollYHeight();}}}if(_6d!=0){_6f=true;this.resizeObj.clientWidth=this.render.clientWidth;this.setScrollYHeight();this._handleScrollX();if(this.options.autoFit){this.autoFitFunc();}}if(_6f&&this.groupbyZoneStatus.groupbyZoneRender){this.resizeGroupbyZone();}}}else{this.setRedrawStatus("stop");}if(this.groupbyZoneStatus.groupbyZoneRender&&!this.adjustGroupbyZone){this.adjustGroupbyZone=true;this.resizeGroupbyZone();}this.resizeObj={width:_6b,height:_6c,scrollLeft:this.resizeObj.scrollLeft,scrollTop:this.resizeObj.scrollTop,clientWidth:this.resizeObj.clientWidth};if(this.resizeObj.width>0&&this.resizeObj.height>0){this.resizeObj.scrollLeft=this.getElementById(this.id+"_scrollX_right").scrollLeft;this.resizeObj.scrollTop=this.getElementById(this.id+"_scrollY_div").scrollTop;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ay.prototype.resizeGroupbyZone=function(){["WebSquare.uiplugin.eventController.prototype.resizeGroupbyZone"];if(this.groupbyZoneStatus.groupbyZoneRender){var _79=(this.resizeObj.clientWidth-this.groupbyZoneStatus.groupbyZoneBorder);var _7a=this.dom[this.id+"_scrollY_div"].offsetWidth;if(_7a!=0){_79=_79-_7a;}_79=_79+"px";if(this.groupbyZoneStatus.groupbyZoneRender.style.width!=_79){this.groupbyZoneStatus.groupbyZoneRender.style.width=_79;}}};$W._a.ay.prototype.checkPercent=function(){["WebSquare.uiplugin.eventController.prototype.checkPercent"];var _7b=$W.WebSquareparser.getAttribute(this.element,"style");if(_7b.indexOf("%")>0){var _7c=_7b.split(";");for(var i=0;i<_7b.length;i++){if((_7c[i].indexOf("%")&&_7c[i].indexOf("height"))||(_7c[i].indexOf("%")&&_7c[i].indexOf("width"))){this.checkResize();break;}}}};$W._a.ay.prototype.checkResize=function(){["WebSquare.uiplugin.eventController.prototype.checkResize"];try{if(this.render){var _7e=true;if($W.getBody().modalStack&&$W.getBody().modalStack.length>0&&this.getDisabled()){var _7f=this.parentControl;while(_7f){if(_7f.options&&_7f.options.pluginName=="floatingLayer"){break;}_7f=_7f.parentControl;}if(_7f==null){_7e=false;}}if(_7e&&!this.startedDisplayNone){this.handleResize();}if(this.startedDisplayNone){if(this.render.offsetWidth>0&&this.render.offsetHeight>0){this.delayedAction();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ay.prototype.handleDblClickEvent=function(e){["WebSquare.uiplugin.eventController.prototype.handleDblClickEvent"];var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(this.options.bodyTdClass)){this.bodyDblClick(e,it.getElement());break;}else{if(it.match(this.options.headerTdClass)){this.headerDdlClick(e,it.getElement());break;}else{if(this.hasFooter&&it.match(this.options.footerTdClass)){this.footerDblClick(e,it.getElement());break;}else{if(this.hasSubtotal&&it.match(this.options.subtotalTdClass)){this.subtotalDblClick(e,it.getElement());break;}}}}}};$W._a.ay.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.eventController.prototype.handleClickEvent"];this.lastEvent=e;$W._c.fireEvent(this,"onclick",e);if(this.isMobile){if(this.iScroll&&this.iScroll.moveDirection){return;}}var it=this.event.getTargetIterator(e,this.render);var _84=(this.editedCell!=null);var _85,_col,gridCol,_realRow,oldValue;if(_84){_85=this.editedCell.editRowIndex;_col=this._dataList.getColumnIndex(this.editedCell.id);gridCol=this.getColumnIndex(this.editedCell.id);_realRow=this._grid.getRealRowIndex(_85);oldValue=this._dataList.dataArr[_realRow*this._dataList.getColumnCount()+_col];}while(it.next()){if(it.match(this.options.bodyTdClass)){this.bodyClick(e,it.getElement());break;}else{if(it.match(this.options.headerTdClass)){this.headerClick(e,it.getElement());break;}else{if(this.hasFooter&&it.match(this.options.footerTdClass)){this.footerClick(e,it.getElement());break;}else{if(this.hasSubtotal&&it.match(this.options.subtotalTdClass)){this.subtotalClick(e,it.getElement());break;}else{if(this.isMine(e)){}else{if(it.getElement().getAttribute("id")==this.id+"_dataLayer"){if(this.editedCell!=null){this.editedCell.handleEndEdit();}}}}}}}}if(_84){var _86=this._dataList.dataArr[_realRow*this._dataList.getColumnCount()+_col];if(oldValue!=_86){$W._c.fireEvent(this,"onviewchange",{"oldValue":oldValue,"newValue":_86,"rowIndex":_85,"colIndex":gridCol});}}};$W._a.ay.prototype.gridDataLayerOut=function(e){["WebSquare.uiplugin.eventController.prototype.gridDataLayerOut"];if(this.overElem){if(this.options.rowMouseOver){this.removeRowOverStyle(this.overElem.parentNode);}this.bodyOut(e,this.overElem);this.overElem=null;}};$W._a.ay.prototype.gridHeaderOver=function(e){["WebSquare.uiplugin.eventController.prototype.gridHeaderOver"];if(this.overElem){if(this.options.rowMouseOver){this.removeRowOverStyle(this.overElem.parentNode);}this.bodyOut(e,this.overElem);this.overElem=null;}};$W._a.ay.prototype.gridOver=function(e){["WebSquare.uiplugin.eventController.prototype.gridOver"];var _8a=$W._c.getTarget(e);while(_8a){if(_8a.tagName=="TD"&&_8a.getAttribute("colIndex")!=null){break;}if(_8a.tagName=="DIV"&&(_8a.getAttribute("id")==this.id+"_dataLayer")){break;}if(_8a.tagName=="TABLE"&&(_8a.getAttribute("id")==this.id+"_foot_table")){break;}_8a=_8a.parentNode;}if(_8a.id==this.id+"_dataLayer"){if(this.overElem){this.removeRowOverStyle(this.overElem.parentNode);this.bodyOut(e,this.overElem);this.overElem=null;}}else{if(_8a.id==this.id+"_foot_table"){if(this.overElem){this.bodyOut(e,this.overElem);this.overElem=null;}}else{if(_8a&&_8a.tagName=="TD"){if(this.overElem!=_8a&&_8a.className.indexOf(this.options.headerTdClass)==-1){this.bodyOut(e,this.overElem);this.bodyOver(e,_8a);if(this.options.rowMouseOver){var _8b=this;if(this.overElem){this.removeRowOverStyle(this.overElem.parentNode);}if(!this.hasClass(_8a,"w2grid_groupby")){this.addRowOverStyle(_8a.parentNode);}}this.overElem=_8a;var _8c={};var _8d=_8a.getAttribute("col_id");if(_8d){_8c.rowIndex=this.getElemRowIndex(_8a);_8c.colIndex=this.getColumnIndex(_8a.getAttribute("col_id"));}$W._c.fireEvent(this,"onbodymouseover",_8c);}}}}};$W._a.ay.prototype.gridOver1=function(e){["WebSquare.uiplugin.eventController.prototype.gridOver"];var _8f=$W._c.getTarget(e);if(_8f.tagName=="NOBR"){_8f=_8f.parentNode;}if(typeof _8f.tagName=="undefined"||_8f.tagName!="TD"){return;}if(this.options.rowMouseOver){var _90=this;if(this.overElem){this.removeRowOverStyle(this.overElem.parentNode);}this.addRowOverStyle(_8f.parentNode);}this.overElem=_8f;};$W._a.ay.prototype.gridOver2=function(e){["WebSquare.uiplugin.eventController.prototype.gridOver2"];input1.setValue(this.tmpCnt++);var _92=$W._c.getTarget(e);if(_92.tagName=="NOBR"){_92=_92.parentNode;}if(typeof _92.tagName=="undefined"||_92.tagName!="TD"){return;}if(this.options.rowMouseOver){var _93=this;if(this.overElem){}this.addRowOverStyle(_92.parentNode);}this.overElem=_92;};$W._a.ay.prototype.handlePasteEvent=function(e){["WebSquare.uiplugin.eventController.prototype.handlePasteEvent"];try{if(this.options.preventPaste){return;}var _95=($W._G.isIEAllVersion())?window.clipboardData:e.clipboardData;var _96=_95.getData("Text");if(_96.slice(-2)=="\r\n"){_96=_96.slice(0,_96.length-2);}else{if(_96.slice(-1)=="\n"){_96=_96.slice(0,_96.length-1);}}var _97=Papa.parse(_96,{delimiter:"\t"}).data;if(!_97||_97==null||_97=="undefined"){return;}if(this.focusedCell.length>0){var _98=this.getDataLength();var _99=0;var _9a=this.getTotalCol();var _9b=0;var _9c=null;for(var i=0;i<this.focusedCell.length;i++){var _9e=this.focusedCell[i];var _9f=_9e.focusedRowIndex;var _a0=_9e.focusedColIndex;if(_98>_9f){_98=_9f;}if(_99<_9f){_99=_9f;}if(_9a>_a0){_9a=_a0;}if(_9b<_a0){_9b=_a0;}}if(this.focusedCell.length!=(_99-_98+1)*(_9b-_9a+1)){return;}else{for(var i=0;i<this.focusedCell.length;i++){_9e=this.focusedCell[i];_9f=_9e.focusedRowIndex;_a0=_9e.focusedColIndex;if(_9f==_98&&_a0==_9a){_9c=_9e;break;}}}if(_9c.focusedTd!=null){var _a1=_9c.focusedTd;var _a2=_a1.getAttribute("col_id");if(_a2==null||_a2.wq_trim()==""){return;}if(_a1.getAttribute("colMerged")=="1"){return;}var _a3=parseInt(_a1.getAttribute("tdIndex"));var _a4=parseInt(_a3/this.realRowDataLength);var _9f=_a4+this.rowIndex;var _a0=_a1.getAttribute("col_id");var _a5=this.getColumnIndex(_a0);var _a6=this.getCellInfo(_a0);var _a7=this.getTotalRow();var _a8=this.getTotalCol();if(this.options.checkBlankRowOnPaste){for(var i=_97.length-1;i>-1;i--){var _a9=true;for(var j=0;j<_97[0].length;j++){if(_97[i][j].wq_trim()!=""){_a9=false;break;}}if(_a9){_97.splice(i,1);}}}var ret=$W._c.fireEvent(this,"onbeforepaste",{"rowIndex":_9f,"colIndex":_a0,"data":_97.slice(0)});if(ret===false){return;}var _ac=this;var _ad=function(){if(_9f+_97.length>=_a7){var _ae=(_9f+_97.length)-_a7;var _af=Array(_ac._dataList.getTotalCol()*_ae);if(_ac.depthColumn!=null){var _b0=_ac._dataList.getCellInfo(_ac.depthColumn).options.defaultValue;for(var i=0;i<_ae;i++){_af[i*_ac._dataList.getTotalCol()+_ac._dataList.getColumnIndex(_ac.depthColumn)]=_b0;}}if(_ac.options.checkReadOnlyOnPaste){var _b2=true;for(var j=0;j<_97[0].length;j++){if(j+_a5>=_a8){break;}if(!_ac.getReadOnly("all",_9f,j+_a5)){_b2=false;break;}}if(_b2){return;}}if(_ac.options.checkDisabledOnPaste){var _b4=true;for(var j=0;j<_97[0].length;j++){if(j+_a5>=_a8){break;}if(!_ac.getDisabled("all",_9f,j+_a5)){_b4=false;break;}}if(_b4){return;}}if(_af.length>0){_ac._dataList.setData(_af,true);}}for(var i=0;i<_97.length;i++){for(var j=0;j<_97[0].length;j++){if(j+_a5>=_a8){break;}if(_ac.options.checkReadOnlyOnPaste&&_ac.getReadOnly("all",i+_9f,j+_a5)){continue;}if(_ac.options.checkDisabledOnPaste&&_ac.getDisabled("all",i+_9f,j+_a5)){continue;}var _b5=j+_a5;var _b6=_ac.tdIdList[_b5];var _b7=_ac._dataList.getColumnIndex(_b6);var _b8=_ac._dataList.dataArr[(i+_9f)*_ac._dataList.getColumnCount()+_b7];var _b9=_97[i][j];if(_ac.options.unformatOnPaste){var _ba=_b9;var _bb=_ac.getCellInfo(_b5);var _bc=_bb.formatter.masking;var _bd=_bb.formatter.type;if(typeof _bd!="undefined"&&_bd!=null&&_bd=="number"){_ba=$W._A.unformatCurrency(_bc,_ba);}else{if(typeof _bd!="undefined"&&_bd!=null&&_bd=="date"){_ba=$W._A.unformatDate(_bc,_ba);}else{if(typeof _bd!="undefined"&&_bd!=null&&_bd=="time"){_ba=$W._A.unformatTime(_bc,_ba);}else{_ba=$W._A.unformatText(_bc,_ba);}}}_b9=_ba;}_ac._dataList.setCellData(i+_9f,_b7,_b9);if(_b8!=_b9){$W._c.fireEvent(_ac,"onviewchange",{"oldValue":_b8,"newValue":_b9,"rowIndex":(i+_9f),"colIndex":_b5});}}}};if(this.options.showMessageOnPaste){var _be=$W._N.getConfiguration("/WebSquare/"+this.options.pluginName+"/pasteMessage/@value");$W.layer.pasteMessageLoaded=false;$W.layer.showProcessMessage(_be,{type:"pasteMsg"});var _bf=function(){if(!$W.layer.pasteMessageLoaded){$w.setTimeout(_bf,{delay:500,key:_ac.id+"_pasteMessageLoaded"});}else{$w.clearTimeout(_ac.id+"_pasteMessageLoaded");_ad();$W.layer.hideProcessMessage({type:"pasteMsg"});$W._c.fireEvent(this,"onafterpaste");}};_bf();}else{_ad();$W._c.fireEvent(this,"onafterpaste");}}}$W._c.preventDefault(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ay.prototype.handleBeforeCopyEvent=function(e){["WebSquare.uiplugin.eventController.prototype.handleBeforeCopyEvent"];$W._c.preventDefault(e);};$W._a.ay.prototype.handleCopyEvent=function(e){["WebSquare.uiplugin.eventController.prototype.handleCopyEvent"];try{if(this.options.preventCopy){return;}if($W._N.browserCheck.safari){var _c2=document.activeElement;var _c3=false;while(_c2!=null){if(_c2.id&&_c2.id==this.id){_c3=true;}_c2=_c2.parentNode;}if(!_c3){return;}}var _c4=($W._G.isIEAllVersion())?window.clipboardData:e.clipboardData;var _c5=this.options.copyAmount;if(!_c5){_c5="cell";}if(_c5=="cell"){var _c6=this.getDataLength();var _c7=0;var _c8=this.getTotalCol();var _c9=0;var _ca=[];for(var i=0;i<this.focusedCell.length;i++){var _cc=this.focusedCell[i];var _cd=_cc.focusedRowIndex;var _ce=_cc.focusedColIndex;if(_c6>_cd){_c6=_cd;}if(_c7<_cd){_c7=_cd;}if(_c8>_ce){_c8=_ce;}if(_c9<_ce){_c9=_ce;}}if(this.focusedCell.length==(_c7-_c6+1)*(_c9-_c8+1)){for(var i=_c6;i<=_c7;i++){var _cf=[];for(var j=_c8;j<=_c9;j++){if(this.options.copyOption=="display"){_cf.push(this._getDisplayData(i,this.getColumnID(j)));}else{_cf.push(this.dataList.getCellData(i,this.getColumnID(j)));}}_ca.push(_cf);}}else{var _d1=this.focusedCell[this.focusedCell.length-1];if(_d1!=undefined){var _cf=[];if(this.options.copyOption=="display"){_cf.push(this._getDisplayData(_d1.focusedRowIndex,this.getColumnID(_d1.focusedColIndex)));}else{_cf.push(this.dataList.getCellData(_d1.focusedRowIndex,this.getColumnID(_d1.focusedColIndex)));}_ca.push(_cf);}}var _d2=Papa.unparse(_ca,{delimiter:"\t"});_c4.setData("Text",_d2);}$W._c.preventDefault(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ay.prototype.clickRightButtonCell=function(e){["WebSquare.uiplugin.eventController.prototype.clickRightButtonCell"];var _d4=$W._c.getTarget(e);while(_d4){if(_d4.tagName=="TD"||_d4.tagName=="TH"||_d4.tagName=="DIV"){break;}_d4=_d4.parentNode;}var _d5=_d4&&this.hasClass(_d4,this.options.headerTdClass);if(_d4&&this.hasClass(_d4,this.options.bodyTdClass)){_d5=false;}if(!_d5){var _d6=_d4;while(_d6){if(_d6.tagName==="TH"&&this.hasClass(_d6,this.options.headerTdClass)){_d5=true;break;}if(_d6.tagName==="TD"&&this.hasClass(_d6,this.options.bodyTdClass)){_d5=false;break;}_d6=_d6.parentNode;}}if(_d5){$W._c.preventDefault(e);$W._c.fireEvent(this,"onheaderrightbuttonclick",_d4.getAttribute("header_id"));}else{if(_d4&&_d4.tagName=="TD"&&this.hasClass(_d4,this.options.bodyTdClass)){var _d7=this._setFocusedCell(e,_d4);var _d8;var _d9;if(_d7===false){if(this.focusedCell.length>0){for(var i=0;i<this.focusedCell.length;i++){this._applyFocusedCellOut(this.focusedCell[i]);}}var _db=_d4.className;var _dc=parseInt(_d4.getAttribute("tdIndex"));var _dd=parseInt(_dc/this.realRowDataLength);if(_db.match("rowNum")!=null){_d8=_dd;_d9="rowNum";}else{if(_db.match("rowStatus")!=null){_d8=_dd;_d9="rowStatus";}else{if(_db.match("groupby")!=null){_d8="groupby";_d9=-1;}else{if(_db.match("Subtotal")!=null){_d8="subtotal";_d9=parseInt(_d4.getAttribute("colIndex"),10);_d9=typeof _d9=="number"?_d9:-1;}}}}}else{if(_d4&&(this.hasClass(_d4,"w2grid_textImage")||this.hasClass(_d4,"w2grid_textImage_image"))){_d8=parseInt(_d4.getAttribute("rowIndex"),10);_d9=parseInt(_d4.getAttribute("colIndex"),10);this.setFocusedCell(_d8,_d9);}else{_d8=this.getFocusedRowIndex();_d9=this.getFocusedColumnIndex();}}$W._c.preventDefault(e);$W._c.fireEvent(this,"onrightbuttonclick",_d8,_d9,e);if(this.options.contextMenu){var _de={};_de.result=_d7;_de.rowIndex=_d8;_de.colIndex=_d9;_de.event=e;if(!this.contextMenu){this.createContextMenu(_de);}else{this.showContextMenu(_de);}}}}};$W._a.ay.prototype.fireImageClick=function(_df,_e0){["WebSquare.uiplugin.eventController.prototype.fireImageClick"];var _e1=this.getCellInfo(_e0);var _e2=eval(_e1.options.imageClickFunction);if(typeof _e2=="function"){_e2.call(this,_df,_e0,this.dataList.getCellData(_df,_e0));}};$W._a.ay.prototype.gridOut=function(e){["WebSquare.uiplugin.eventController.prototype.gridOut"];var _e4=$W._c.getTarget(e);var _e5="";if(this.overElem&&(_e4.id==this.id+"_dataLayer"||_e4.id==this.overElem.id||_e4.id=="")){if(this.options.rowMouseOver){this.removeRowOverStyle(this.overElem.parentNode);}this.bodyOut(e,this.overElem);this.overElem=null;}};$W._a.ay.prototype.addRowOverStyle=function(_e6){["WebSquare.uiplugin.eventController.prototype.addRowOverStyle"];while(_e6!=null&&_e6.getAttribute("trIndex")==null){_e6=_e6.parentNode;if(_e6.id==this.id+"_foot_table"){return;}}if(_e6==null){return;}var _e7=parseInt(_e6.getAttribute("trIndex"));while(_e7>0){_e7--;_e6=$W._G.prev(_e6);}var cnt=0;var _e9=$W._G.first(_e6);var _ea=parseInt(_e9.getAttribute("tdIndex"));if(isNaN(_ea)){return;}_ea=parseInt(_ea/(this.oneRowDataLength+this.defaultColCnt),10)*(this.oneRowDataLength+this.defaultColCnt);var _eb=this.options.rowMouseOverColor.wq_trim();var _ec=(this.options.selectedCellOverColor=="")?"":this.options.selectedCellOverColor.wq_trim();var _ed=(this.options.selectedRowOverColor=="")?"":this.options.selectedRowOverColor.wq_trim();for(var i=0;i<this.realRowDataLength;i++){var td=this.all_data_td_list[_ea+i];var _f0=_eb;if(_ec!=""&&(this.options.focusMode=="cell"||this.options.focusMode=="both")){var _f1=parseInt(td.getAttribute("tdIndex"));var _f2=parseInt(_f1/this.realRowDataLength)+this.rowIndex;var _f3=_f1%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);for(var j=0;j<this.focusedCell.length;j++){if(_f2==this.focusedCell[j].focusedRowIndex&&_f3==this.focusedCell[j].focusedColIndex){_f0=_ec;break;}}}else{if(_ed!=""&&(this.options.focusMode=="row"||this.options.focusMode=="both")){var _f1=parseInt(td.getAttribute("tdIndex"));var _f2=parseInt(_f1/this.realRowDataLength)+this.rowIndex;var _f3=_f1%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);for(var j=0;j<this.focusedCell.length;j++){if(_f2==this.focusedCell[j].focusedRowIndex){_f0=_ed;break;}}}}if(i<this.defaultColCnt){var _f5=td.className;if(this.options.rowNumBackgroundColor==""&&_f5.indexOf(this.options.bodyTdClass+"_rowNumber")>=0){td.style.backgroundColor=_f0;}else{if(_f5.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){td.style.backgroundColor=_f0;}}}else{td.style.backgroundColor=_f0;}td.removeAttribute("style_bak");}};$W._a.ay.prototype.removeRowOverStyle=function(_f6){["WebSquare.uiplugin.eventController.prototype.removeRowOverStyle"];while(_f6!=null&&_f6.getAttribute("trIndex")==null){_f6=_f6.parentNode;if(_f6==null||_f6.id==this.id+"_foot_table"){return;}}if(_f6==null){return;}var _f7=parseInt(_f6.getAttribute("trIndex"));while(_f7>0){_f7--;_f6=$W._G.prev(_f6);}var _f8=$W._G.first(_f6);var _f9=parseInt(_f8.getAttribute("tdIndex"));if(isNaN(_f9)){return;}_f9=parseInt(_f9/(this.oneRowDataLength+this.defaultColCnt),10)*(this.oneRowDataLength+this.defaultColCnt);for(var i=0;i<this.realRowDataLength;i++){var td=this.all_data_td_list[_f9+i];if(i<this.defaultColCnt){var _fc=td.className;if(this.options.rowNumBackgroundColor==""&&_fc.indexOf(this.options.bodyTdClass+"_rowNumber")>=0){if(this.options.focusMode=="row"||this.options.focusMode=="both"){var _fd=parseInt(td.getAttribute("tdIndex"));var _fe=parseInt(_fd/this.realRowDataLength)+this.rowIndex;var _ff=false;for(var j=0;j<this.focusedCell.length;j++){if(_fe==this.focusedCell[j].focusedRowIndex){_ff=true;break;}}if(_ff){td.style.backgroundColor=this.options.selectedRowColor.wq_trim();}else{td.style.backgroundColor="";}}else{td.style.backgroundColor="";}}else{if(_fc.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){if(this.options.focusMode=="row"||this.options.focusMode=="both"){var _fd=parseInt(td.getAttribute("tdIndex"));var _fe=parseInt(_fd/this.realRowDataLength)+this.rowIndex;var _ff=false;for(var j=0;j<this.focusedCell.length;j++){if(_fe==this.focusedCell[j].focusedRowIndex){_ff=true;break;}}if(_ff){td.style.backgroundColor=this.options.selectedRowColor.wq_trim();}else{td.style.backgroundColor="";}}else{td.style.backgroundColor="";}}}}else{td.style.backgroundColor=td.getAttribute("or_bgColor")||"";}td.removeAttribute("style_bak");}};$W._a.ay.prototype.handleKeyDownEvent=function(e){["WebSquare.uiplugin.eventController.prototype.handleKeyDownEvent"];var ret=$W._c.fireEvent(this,"onkeydown",e);if(ret==false){return;}this.lastEvent=e;if(this.headerFocus){}else{this.handleBodyKeyDown(e);}};$W._a.ay.prototype.handleKeyUpEvent=function(e){["WebSquare.uiplugin.eventController.prototype.handleKeyUpEvent"];var ret=$W._c.fireEvent(this,"onkeyup",e);if(ret==false){return;}this.lastEvent=e;};$W._a.ay.prototype.bodyOver=function(e,_106){["WebSquare.uiplugin.eventController.prototype.bodyOver"];if(this.options.tooltipDisplay){if(_106.className.indexOf(this.options.bodyTdClass+"_rowNumber")>=0||_106.className.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){return;}if(_106.offsetWidth<2||!_106.firstChild){return;}var _107=_106.getAttribute("col_id");if(!_107){var _108="text";}else{var _109=this.getCellInfo(_107);var _108=_109.options.inputType;var _10a=_109.options.embeddedInput;if(_10a&&_108=="text"){var _10b=this.getElemRowIndex(_106);var _10c=this.getColumnIndex(_106.getAttribute("col_id"));_10a=!this.getEditDisabled(_10b,_10c)&&!this._getEditReadOnly(_10b,_10c);}}if(_108=="text"||_108=="textarea"||_108=="textImage"||_108=="link"||_108=="calendar"||_108=="expression"||(_108=="select"&&!_10a)||_108=="drilldown"||_108=="checkcombobox"){var _10d;if((_108=="textImage"&&_106.firstChild.style.width==="100%")||_108=="textarea"){_10d=_106.cloneNode(true);_10d.firstChild.style.width=_106.firstChild.offsetWidth+"px";if(_108=="textarea"){_10d.firstChild.style.width="";}else{_10d.firstChild.style.width=_106.firstChild.offsetWidth+"px";}}else{_10d=_106;}var obfuscator_elemWidth=_106.offsetWidth;var obfuscator_elemHeight=_106.offsetHeight;var _10e=$W._H.getStyle(_106,"text-overflow");if(!this.tooltipPositionParse){this.options.tooltipPositionX=this.options.tooltipPositionX.replaceAll("cellWidth","obfuscator_elemWidth").replaceAll("cellHeight","obfuscator_elemHeight");this.options.tooltipPositionY=this.options.tooltipPositionY.replaceAll("cellWidth","obfuscator_elemWidth").replaceAll("cellHeight","obfuscator_elemHeight");this.tooltipPositionParse=true;}var _10f=20;var _110=obfuscator_elemHeight+3;try{_10f=eval(this.options.tooltipPositionX);_110=eval(this.options.tooltipPositionY);}catch(e){$W.logger.printLog("tooltipPosistion \uc635\uc158 \uc801\uc6a9 \uc911 \uc624\ub958 \ubc1c\uc0dd. \uc635\uc158 \ubb34\uc2dc\ud558\uace0 \uae30\ubcf8\uac12 \uc801\uc6a9.");$W.exception.printStackTrace(e,null,this);}if(this.options.tooltipShowAlways){var left=$W._H.getAbsoluteLeft(_106)+_10f;var top=$W._H.getAbsoluteTop(_106)+_110;var _113="";if(_108=="text"&&_10a){_113=_10d.firstChild.value;}else{_113=(_106.firstChild.tagName=="NOBR")?_10d.firstChild.innerHTML:_10d.innerHTML;}if(this.options.tooltipFormatter){try{eval("var obfuscator_tooltipFormatter = "+this.options.tooltipFormatter);if(typeof obfuscator_tooltipFormatter=="function"){var _10b=this.getElemRowIndex(_106);var _10c=this.getColumnIndex(_106.getAttribute("col_id"));var _114=_106.offsetWidth<_106.scrollWidth;_113=obfuscator_tooltipFormatter(_10b,_10c,_113,_114);}}catch(e){$W.exception.printStackTrace(e,null,this);}}if(_113!=""){this.showTooltip(left,top,_113);}}else{if(_10e=="ellipsis"){if(!this.toolTipRuler){this.toolTipRuler=document.createElement("span");this.toolTipRuler.style.position="absolute";this.toolTipRuler.style.visibility="hidden";this.toolTipRuler.style.left="0px";this.toolTipRuler.style.top="0px";}document.body.appendChild(this.toolTipRuler);this.toolTipRuler.className=_10d.className;if(_108=="text"&&_10a){this.toolTipRuler.innerHTML="<div>"+_10d.firstChild.value+"</div>";this.toolTipRuler.style.fontSize=$W._H.getStyle(_10d.firstChild,"font-size");this.toolTipRuler.style.fontFamily=$W._H.getStyle(_10d.firstChild,"font-family");}else{this.toolTipRuler.innerHTML=_10d.innerHTML;this.toolTipRuler.style.fontSize=$W._H.getStyle(_10d,"font-size");this.toolTipRuler.style.fontFamily=$W._H.getStyle(_10d,"font-family");}var _115=this.toolTipRuler.firstChild.offsetWidth;var _116=_106.clientWidth;if(_10d.firstChild.nodeType!=3){var _117=$W._H.getStyle(this.toolTipRuler.firstChild,"padding-left");var _118=$W._H.getStyle(this.toolTipRuler.firstChild,"padding-right");_115-=parseInt(_117?_117:"0",10);_115-=parseInt(_118?_118:"0",10);_116-=parseInt($W._H.getStyle(_106.firstChild,"padding-left"),10);_116-=parseInt($W._H.getStyle(_106.firstChild,"padding-right"),10);_116-=parseInt($W._H.getStyle(_106,"padding-left"),10);_116-=parseInt($W._H.getStyle(_106,"padding-right"),10);}if(_116<_115){var left=$W._H.getAbsoluteLeft(_106)+_10f;var top=$W._H.getAbsoluteTop(_106)+_110;var _113="";if(_108=="text"&&_10a){_113=_10d.firstChild.value;}else{_113=(_106.firstChild.tagName=="NOBR")?_10d.firstChild.innerHTML:_10d.innerHTML;}document.body.removeChild(this.toolTipRuler);if(this.options.tooltipFormatter){try{eval("var obfuscator_tooltipFormatter = "+this.options.tooltipFormatter);if(typeof obfuscator_tooltipFormatter=="function"){var _10b=this.getElemRowIndex(_106);var _10c=this.getColumnIndex(_106.getAttribute("col_id"));_113=obfuscator_tooltipFormatter(_10b,_10c,_113);}}catch(e){$W.exception.printStackTrace(e,null,this);}}this.showTooltip(left,top,_113);}else{document.body.removeChild(this.toolTipRuler);}}else{if(_106.offsetWidth+3<_106.firstChild.offsetWidth){var left=$W._H.getAbsoluteLeft(_106)+_10f;var top=$W._H.getAbsoluteTop(_106)+_110;var _113="";if(_108=="text"&&_10a){_113=_10d.firstChild.value;}else{_113=(_106.firstChild.tagName=="NOBR")?_10d.firstChild.innerHTML:_10d.innerHTML;}if(this.options.tooltipFormatter){try{eval("var obfuscator_tooltipFormatter = "+this.options.tooltipFormatter);if(typeof obfuscator_tooltipFormatter=="function"){var _10b=this.getElemRowIndex(_106);var _10c=this.getColumnIndex(_106.getAttribute("col_id"));_113=obfuscator_tooltipFormatter(_10b,_10c,_113);}}catch(e){$W.exception.printStackTrace(e,null,this);}}this.showTooltip(left,top,_113);}}}}}};$W._a.ay.prototype.bodyOut=function(e,_11a){["WebSquare.uiplugin.eventController.prototype.bodyOut"];var _11b=this;if(_11b.options.tooltipDisplay){if(_11a){_11b.hideTooltip();}}};$W._a.ay.prototype.showTooltip=function(left,top,_11e){["WebSquare.uiplugin.eventController.prototype.showTooltip"];if(this.editedCell!=null){return;}var _11f=document.body.scrollWidth;var _120=document.body.scrollHeight;if(!this.tooltip){requires("uiplugin.output");this.tooltip=new $W._a.aB(this.id+"_tooltip",{className:"w2grid_tooltip "+this.options.tooltipClass,style:"position:absolute;z-index:10000;"+this.options.tooltipStyle});this.tooltip.writeTo($W.getBody());this.tooltip.activate();if(this.options.tooltipHide==="click"){this.tooltip.render.onclick=function(){this.style.display="none";};}else{this.tooltip.render.onmouseover=function(){this.style.display="none";};}}if(this.options.tooltipHide==="click"){if($W.getBody().hasClass("w2drag_activate")==true){this.tooltip.render.onclick=null;this.tooltip.render.onmouseover=function(){this.style.display="none";};}else{this.tooltip.render.onclick=function(){this.style.display="none";};this.tooltip.render.onmouseover=null;}}this.tooltip.setStyle("display","block");this.tooltip.setStyle("left",left+"px");this.tooltip.setStyle("top",top+"px");this.tooltip.render.innerHTML=_11e;var _121=this.tooltip.render.offsetTop+this.tooltip.render.offsetHeight+20;if(_121>document.body.scrollHeight){tooltipTop=top-this.tooltip.render.offsetHeight;if(tooltipTop<0){tooltipTop=0;}this.tooltip.setStyle("top",tooltipTop+"px");}var _122=this.tooltip.render.offsetLeft+this.tooltip.render.offsetWidth;if(document.body.scrollWidth>_11f){var _123=left-(document.body.scrollWidth-_11f);if(_123<0){_123=0;}this.tooltip.setStyle("left",_123+"px");}if(this.options.tooltipDisplayTime>0){$W._N.setTimer(this.hideTooltip,{key:this.id+"_tooltip_hide_timer",caller:this,delay:this.options.tooltipDisplayTime});}};$W._a.ay.prototype.hideTooltip=function(){["WebSquare.uiplugin.eventController.prototype.hideTooltip"];if(this.tooltip){if(this.options.tooltipDisplayTime>0){$W._N.clearTimer(this.id+"_tooltip_hide_timer");}this.tooltip.setStyle("display","none");}};$W._a.ay.prototype.bodyClick=function(e,_125){["WebSquare.uiplugin.eventController.prototype.bodyClick"];try{if(this.options.rowMouseOver){this.removeRowOverStyle(this.lastOverSrc,"grid_body_row_over","grid_body_row");}var _126=parseInt(_125.getAttribute("tdIndex"));var _127=parseInt(_126/this.realRowDataLength);var _128=_127+this.rowIndex;var _129=_125.getAttribute("col_id");var _12a;if(_129){_12a=this.getCellInfo(_129);}var _12b=this.rowIndex;var _12c=this.dataList.getRealRowIndex(_128);if(typeof _12c!="number"){if(_12c&&_12c.type=="header"){this.toggleGroup(_12c.groupId);}return;}if(this.options.focusDefaultColumn){var _12d=_125.getAttribute("id");if(_12d=="_headerRowNumber"||_12d=="_headerRowStatus"){this._setFocusedCell(e,_125,{editMode:false});return;}}if(_129==null){return;}this.moveDirection=null;var _12e=this._dataList.getRowPosition();var _12f=this.getColumnIndex(this._dataList.getColumnPosition());var _130=_127+_12b;var _131=_126%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);var _132=_12f-_131;var _133=_12e-_130;if(_132==0&&_133==0){this.moveDirection="none";}else{if((_132>0||_132<0)&&(_133>0||_133<0)){this.moveDirection="both";}else{if(_132>0||_132<0){this.moveDirection="column";}else{if(_133>0||_133<0){this.moveDirection="row";}}}}var _134=_125.getAttribute("editModeEvent")||"";var _135=false;if((_134!=""&&_134.toLowerCase()=="onsecondclick")||(_134==""&&this.options.editModeEvent.toLowerCase()=="onsecondclick")){for(var i=0;i<this.focusedCell.length;i++){if(this.focusedCell[i].focusedRowIndex==_130&&this.focusedCell[i].focusedColIndex==_131){_135=true;}}}var _12a=this.getCellInfo(_125);if(!_12a.options.blockSelect&&_12a.options.inputType!="button"){this._setFocusedCell(e,_125,{editMode:_12a.options.focusMode=="none"});if(_12a.options.embeddedInput){this.focusedByApi=false;}}var _137;var _138=true;if($W._G.isIE()){_137=e.srcElement;}else{_137=e.target;}switch(_12a.options.inputType){case "radio":case "checkbox":if(_137.tagName!="INPUT"){_138=false;}case "drilldown":if(this.options.ignoreToggleOnDisabled&&this.getEditDisabled(_128,_129)){_138=false;}}var _139=false;var _13a;if(_138){_13a=this.setCellClickEdit(_125);if(!_13a){if((_134!=""&&_134.toLowerCase()=="onclick")||(_134==""&&this.options.editModeEvent.toLowerCase()=="onclick")||_135){if(!this.getEditDisabled(_128,_129)){var _126=parseInt(_125.getAttribute("tdIndex"));var _127=parseInt(_126/this.realRowDataLength);var _129=parseInt(_125.getAttribute("colIndex"));var _130=_127+_12b;var _131=_126%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);this.hideTooltip();if(this.getCellInfo(_131).options.inputType!="button"){if(this.getCellInfo(_131).options.inputType=="drilldown"){if(this.options.ignoreCellClick){if(!_13a){$W._c.fireEvent(this,"oncellclick",_130,_131);}}else{$W._c.fireEvent(this,"oncellclick",_130,_131);}}else{$W._c.fireEvent(this,"oncellclick",_130,_131);}}_139=true;}this.setEditMode(_125);}}}if(!_139&&!this.getEditDisabled(_128,_129)){var _126=parseInt(_125.getAttribute("tdIndex"));var _127=parseInt(_126/this.realRowDataLength);var _129=parseInt(_125.getAttribute("colIndex"));var _130=_127+_12b;var _131=_126%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);this.hideTooltip();if(this.getCellInfo(_131).options.inputType!="button"){if(this.getCellInfo(_131).options.inputType=="drilldown"){if(this.options.ignoreCellClick){if(!_13a){$W._c.fireEvent(this,"oncellclick",_130,_131);}}else{$W._c.fireEvent(this,"oncellclick",_130,_131);}}else{$W._c.fireEvent(this,"oncellclick",_130,_131);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ay.prototype.bodyDblClick=function(e,_13c){["WebSquare.uiplugin.eventController.prototype.bodyDblClick"];if(_13c.tagName=="INPUT"){var _13d=this.getLastFocusedCell();var _13e=_13d.focusedRowIndex;var _13f=_13d.focusedColIndex;}else{var _140=parseInt(_13c.getAttribute("tdIndex"));var _141=parseInt(_140/this.realRowDataLength);var _13e=_141+this.rowIndex;var _13f=_13c.getAttribute("col_id");}if(_13f==null){return;}var _142=_13c.getAttribute("editModeEvent")||"";if((_142!=""&&_142.toLowerCase()=="ondblclick")||(_142==""&&this.options.editModeEvent.toLowerCase()=="ondblclick")){this.setEditMode(_13c);}if(!this.getEditDisabled(_13e,_13f)){this.rollbackCommitFlag=false;$W._c.fireEvent(this,"oncelldblclick",this.getFocusedRowIndex(),this.getFocusedColumnIndex());this.rollbackCommitFlag=true;}};$W._a.ay.prototype.headerClick=function(e,_144){["WebSquare.uiplugin.eventController.prototype.headerClick"];$W._c.fireEvent(this,"onheaderclick",_144.getAttribute("header_id"));var _145=$W._c.getTarget(e);var type=_144.getAttribute("inputType");if(this.editedCell!=null){this.editedCell.handleEndEdit();}if(this.noevent==true){}else{if(this.options.sortEvent=="onclick"&&(this.options.sortable||_144.getAttribute("sortable")=="true")&&!this.groupbyStatus.grouped){this.fireSortEvent(e,_144);if(this.options.sortHeaderDiv){var _147=_144.getElementsByTagName("button");if(_147.length>0){var _148=_147[_147.length-1];_148.focus();}}}}this.noevent=false;};$W._a.ay.prototype.headerDdlClick=function(e,_14a){["WebSquare.uiplugin.eventController.prototype.headerDdlClick"];$W._c.fireEvent(this,"onheaderdblclick",_14a.getAttribute("header_id"));if(this.options.sortEvent=="ondblclick"&&(this.options.sortable||_14a.getAttribute("sortable")=="true")&&!this.groupbyStatus.grouped){this.fireSortEvent(e,_14a);}if(this.groupbyStatus.grouped&&this.options.sortable){return;this.fireGroupByRangeSortEvent(e,_14a);}this.noevent=false;};$W._a.ay.prototype.fireGroupByRangeSortEvent=function(e,_14c){["WebSquare.uiplugin.eventController.prototype.fireGroupByRangeSortEvent"];try{return;var _14d=_14c.className;var _14e=parseInt(_14c.getAttribute("colIndex"),10)-this.defaultColCnt;if(_14d.indexOf(this.options.headerTdClass+"_rowNumber")>=0||_14d.indexOf(this.options.headerTdClass+"_rowStatus")>=0){return;}for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyStatus.sortIndexArr[i]==_14e){return;}}var _150=1;var _151=_14c.getAttribute("header_id");var _152=_14c.getAttribute("inputtype");if(this.headerSortStatusArr.length>this.groupbyStatus.sortIndexArr.length){var _153=this.headerSortStatusArr[this.headerSortStatusArr.length-1];var td=this.getElementById(this.id+"_"+_153.headerId);if(_151==_153.headerId){_150=(_153.sortOrder===-1)?1:-1;}this._clearHeaderSortImage(td,"table");this._clearHeaderSortImage(td,"div");this.headerSortStatusArr.pop();}this.headerSortStatusArr.push({"dataType":_152,"headerId":_151,"colID":this.headerToBodyRelation[_151],"sortOrder":_150});this.filteredRowIndexArr=this.recursiveRangeSort(this.filteredRowIndexArr,_14e,_150);this.drawHeaderSortImages();this.drawData(0,null,"async");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ay.prototype.recursiveRangeSort=function(_155,_156,_157){["WebSquare.uiplugin.eventController.prototype.recursiveRangeSort"];try{return;var _158=0;var _159={};var _15a=[];var _15b=[_156];var _15c=[_157];for(var i=0;i<_155.length;i++){if(typeof _155[i]=="number"){if(!_159[_158]){_159[_158]=[];_15a.push(i);}_159[_158].push(_155[i]);}else{if(_155[i].type=="header"){if(_155[i].status=="open"){continue;}else{if(_155[i].status=="closed"){var arr=_155[i].closedChildArr.slice();var _15f=this.recursiveRangeSort(arr,_156,_157);_155[i].closedChildArr=_15f;}}}else{if(_155[i].type=="footer"){if(_159[_158]){_158++;}}}}}for(var key in _159){var _161=_159[key].slice();var _15f=this._rangeSort(_161,[_156],[_157]);var _162=_15a[parseInt(key,10)];_15f.unshift(_162,_15f.length);[].splice.apply(_155,_15f);}this.groupbyStatus.groupbyRowIndexArr=[];for(var i=0;i<_155.length;i++){if(typeof _155[i]=="number"){this.groupbyStatus.groupbyRowIndexArr.push(_155[i]);}}return _155;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ay.prototype.fireSortEvent=function(e,_164){["WebSquare.uiplugin.eventController.prototype.fireSortEvent"];if(_164.disabled){return;}if(_164.className.indexOf(this.options.headerTdClass+"_rowNumber")>=0||_164.className.indexOf(this.options.headerTdClass+"_rowStatus")>=0){return;}if(_164.getAttribute("sortable")=="false"){return;}var _165=_164.getAttribute("header_id");var _166=this.headerToBodyRelation[_165];var _167=this.options.useCtrlOnMultisort?(e.ctrlKey||e.metaKey):true;if(this.headerSortStatusArr==null){this.headerSortStatusArr=[];}if(this.headerSortStatusArr[_166]){if(this.options.sortOrderReverse){this.headerSortStatusArr[_166].sortOrder=(this.headerSortStatusArr[_166].sortOrder+3)%3-1;}else{this.headerSortStatusArr[_166].sortOrder=(this.headerSortStatusArr[_166].sortOrder-3)%3+1;}if(!_167){var _168=this.headerSortStatusArr[_166];this.clearHeaderSort();this.headerSortStatusArr.push(_168);this.headerSortStatusArr[_166]=this.headerSortStatusArr[0];}}else{var _168={};_168.headerId=_165;_168.colID=_166;if(this.options.sortOrderReverse){_168.sortOrder=-1;}else{_168.sortOrder=1;}var _169=this.getCellInfo(_166);var _16a=this.getColumnOption(_169.options.col_id,"dataType");_168.dataType=(_16a=="number")?"number":"text";if(_167){this.headerSortStatusArr.push(_168);this.headerSortStatusArr[_166]=this.headerSortStatusArr[this.headerSortStatusArr.length-1];}else{this.clearHeaderSort();this.headerSortStatusArr.push(_168);this.headerSortStatusArr[_166]=this.headerSortStatusArr[0];}}var _16b=[];var _16c=[];var _16a=[];var _16d={};_16d["headerId"]=_165;_16d["bodyColId"]=_166;_16d["sortOrder"]=this.headerSortStatusArr[_166].sortOrder;if(this.headerSortStatusArr.length==0){this.dataList.clearSortFilter();}else{for(var i=this.headerSortStatusArr.length-1;i>=0;i--){if(this.headerSortStatusArr[i].sortOrder==0){var _cId=this.headerSortStatusArr[i].colID;this.setHeaderSortImage(_165,0,0);this.headerSortStatusArr.splice(i,1);delete this.headerSortStatusArr[_cId];if(this.headerSortStatusArr.length==0){this.dataList.clearSort();$W._c.fireEvent(this,"onsort",_16d);return;}}else{_16b.push(this.headerSortStatusArr[i].colID);_16c.push(this.headerSortStatusArr[i].sortOrder);_16a.push(this.headerSortStatusArr[i].dataType);}}_16b.reverse();_16c.reverse();_16a.reverse();this.dataList.setFilter({type:"sort",sortIndex:_16b.join(" "),sortOrder:_16c.join(" "),dataType:_16a.join(" "),focuseMode:this.options.filterFocusMode,ignoreEmptyStringOnSort:this.options.ignoreEmptyStringOnSort,setEmptyStringFirstOnSort:this.options.setEmptyStringFirstOnSort});}this.drawHeaderSortImages();$W._c.fireEvent(this,"onsort",_16d);};$W._a.ay.prototype.footerClick=function(e,_171){["WebSquare.uiplugin.eventController.prototype.footerClick"];$W._c.fireEvent(this,"onfooterclick",_171.getAttribute("footer_id"));if(this.editedCell!=null){this.editedCell.handleEndEdit();}};$W._a.ay.prototype.footerDblClick=function(e,_173){["WebSquare.uiplugin.eventController.prototype.footerDblClick"];$W._c.fireEvent(this,"onfooterdblclick",_173.getAttribute("footer_id"));if(this.editedCell!=null){this.editedCell.handleEndEdit();}};$W._a.ay.prototype.subtotalClick=function(e,_175){["WebSquare.uiplugin.eventController.prototype.subtotalClick"];$W._c.fireEvent(this,"onsubtotalclick",_175.getAttribute("id"));if(this.editedCell!=null){this.editedCell.handleEndEdit();}};$W._a.ay.prototype.subtotalDblClick=function(e,_177){["WebSquare.uiplugin.eventController.prototype.subtotalDblClick"];$W._c.fireEvent(this,"onsubtotaldblclick",_177.getAttribute("id"));if(this.editedCell!=null){this.editedCell.handleEndEdit();}};$W._a.ay.prototype.handleTouchStart=function(e){["WebSquare.uiplugin.eventController.prototype.handleTouchStart"];$W._N.clearTimer(this.id+"_iScroll_slideX");if(e.touches&&e.touches.length==1){this.iScrollAddMoveClass();this.iScroll.moveDirection=null;this.iScroll.propagation=null;this.iScroll.prevTouches=[{x:e.touches[0].pageX,y:e.touches[0].pageY}];$W._N.setTimer(function(){this.iScrollRemoveMoveClass();this.iScroll.prevTouches=[];this.iScroll.propagation="pass";},{key:this.id+"_iScroll",caller:this,delay:this.options.iScrollMoveEffectTime});}else{if(window.navigator.msPointerEnabled&&e.pointerType=="touch"){this.iScrollAddMoveClass();this.iScroll.moveDirection=null;this.iScroll.propagation=null;this.iScroll.prevTouches=[{x:e.pageX,y:e.pageY}];$W._N.setTimer(function(){this.iScrollRemoveMoveClass();this.iScroll.prevTouches=[];this.iScroll.propagation="pass";},{key:this.id+"_iScroll",caller:this,delay:this.options.iScrollMoveEffectTime});}}};$W._a.ay.prototype.handleTouchMove=function(e){["WebSquare.uiplugin.eventController.prototype.handleTouchMove"];if(this.iScroll.propagation=="pass"){return;}if(this.iScroll.addMoveClass){this.iScrollAddMoveClass();this.iScroll.addMoveClass=false;}if(e.touches&&e.touches.length==1){var _17a=this.scrollX_right;var _17b=this.getElementById(this.id+"_scrollY_div");var _17c=this.getElementById(this.id+"_iScrollX");var _17d=this.getElementById(this.id+"_iScrollY");this.iScroll.prevTouches.push({x:e.touches[0].pageX,y:e.touches[0].pageY});var _17e=this.iScroll.prevTouches=this.iScroll.prevTouches.splice(-2);var _17f=_17e[0].x-_17e[1].x;var _180=_17e[0].y-_17e[1].y;var _181=this.iScroll.moveDirection;if(!_181){_181=this.iScroll.moveDirection=Math.abs(_180)>=Math.abs(_17f)?"Y":"X";}var _182=_181=="X"&&_17f<0&&_17a.scrollLeft==0||_181=="X"&&_17f>0&&_17a.scrollLeft>=_17a.firstChild.offsetWidth-_17a.offsetWidth||_181=="Y"&&_180<0&&_17b.scrollTop==0||_181=="Y"&&_180>0&&this.rowIndex+this.lastIndex+1==this.getDataLength()||this.getDataLength()==0;if(_182){if(this.iScroll.propagation=="stop"){$W._c.stopEvent(e);}else{this.iScrollRemoveMoveClass();this.iScroll.prevTouches=[];this.iScroll.propagation="pass";}return;}if(_181=="X"){this.moveXScroll(_17f);}else{this.moveYScroll(_180);}this.iScroll.propagation="stop";$W._c.stopEvent(e);$W._N.setTimer(function(){this.iScrollRemoveMoveClass();this.iScroll.addMoveClass=true;},{key:this.id+"_iScroll",caller:this,delay:this.options.iScrollMoveEffectTime});}else{if(window.navigator.msPointerEnabled&&this.iScroll.prevTouches&&e.pointerType=="touch"){var _17a=this.scrollX_right;var _17b=this.getElementById(this.id+"_scrollY_div");var _17c=this.getElementById(this.id+"_iScrollX");var _17d=this.getElementById(this.id+"_iScrollY");this.iScroll.prevTouches.push({x:e.pageX,y:e.pageY});var _17e=this.iScroll.prevTouches=this.iScroll.prevTouches.splice(-2);var _17f=_17e[0].x-_17e[1].x;var _180=_17e[0].y-_17e[1].y;var _181=this.iScroll.moveDirection;if(!_181){_181=this.iScroll.moveDirection=Math.abs(_180)>=Math.abs(_17f)?"Y":"X";}var _182=_181=="X"&&_17f<0&&_17a.scrollLeft==0||_181=="X"&&_17f>0&&_17a.scrollLeft>=_17a.firstChild.offsetWidth-_17a.offsetWidth||_181=="Y"&&_180<0&&_17b.scrollTop==0||_181=="Y"&&_180>0&&this.rowIndex+this.lastIndex+1==this.getDataLength()||this.getDataLength()==0;if(_182){if(this.iScroll.propagation=="stop"){$W._c.stopEvent(e);}else{this.iScrollRemoveMoveClass();this.iScroll.prevTouches=[];this.iScroll.propagation="pass";}return;}if(_181=="X"){this.moveXScroll(_17f);}else{this.moveYScroll(_180);}this.iScroll.propagation="stop";$W._c.stopEvent(e);$W._N.setTimer(function(){this.iScrollRemoveMoveClass();this.iScroll.addMoveClass=true;},{key:this.id+"_iScroll",caller:this,delay:this.options.iScrollMoveEffectTime});}}};$W._a.ay.prototype.handleTouchEnd=function(e){["WebSquare.uiplugin.eventController.prototype.handleTouchEnd"];if(this.isMobile||(window.navigator.msPointerEnabled&&this.iScroll.prevTouches&&e.pointerType=="touch")){$W._N.clearTimer(this.id+"_iScroll");this.iScroll.prevTouches=this.iScroll.prevTouches.splice(-2);var _184=this.iScroll.prevTouches;if(_184.length>=2){var _185=_184[0].x-_184[1].x;var _186=new Date();this.slideX(_185,_186);}else{this.iScrollRemoveMoveClass();}}};$W._a.ay.prototype.iScrollAddMoveClass=function(){var _187=this.getElementById(this.id+"_iScrollX");var _188=this.getElementById(this.id+"_iScrollY");if($W._G.isMobile()){this.__addClass(_187,"w2grid_iScrollX_move_mobile");this.__addClass(_188,"w2grid_iScrollY_move_mobile");}else{this.__addClass(_187,"w2grid_iScrollX_move");this.__addClass(_188,"w2grid_iScrollY_move");}};$W._a.ay.prototype.iScrollRemoveMoveClass=function(){var _189=this.getElementById(this.id+"_iScrollX");var _18a=this.getElementById(this.id+"_iScrollY");if($W._G.isMobile()){this.__removeClass(_189,"w2grid_iScrollX_move_mobile");this.__removeClass(_18a,"w2grid_iScrollY_move_mobile");}else{this.__removeClass(_189,"w2grid_iScrollX_move");this.__removeClass(_18a,"w2grid_iScrollY_move");}};$W._a.ay.prototype.moveXScroll=function(_18b){var _18c=this.getElementById(this.id+"_iScrollX");var _18d=this.getElementById(this.id+"_dataLayer");var _18e=this.getElementById(this.id+"_scrollX_left");var _18f=this.scrollX_right;_18f.scrollLeft+=_18b;var _190=parseInt(_18e.style.width,10);var _191=_18f.firstChild.offsetWidth-_18f.offsetWidth;var _192=parseInt(_18f.offsetWidth*_18f.offsetWidth/_18f.firstChild.offsetWidth,10);_18c.style.width=(_192<30?30:_192)+"px";_18c.style.left=(_190+_18f.scrollLeft/_191*(_18d.offsetWidth-_190-_18c.offsetWidth))+"px";};$W._a.ay.prototype.slideX=function(_193,_194){var _195=new Date();var dx=parseInt(_193/3,10);this.moveXScroll(dx);_193-=dx;var sign=_193>0?"+":"-";if(Math.abs(_193)>=0&&_195-_194<this.options.iScrollSlideTime){$W._N.clearTimer(this.id+"_iScroll_slideX");$W._N.setTimer(this.slideX,{key:this.id+"_iScroll_slideX",caller:this,delay:this.options.iScrollSlidePeriod,args:[_193,_194]});}else{this.iScrollRemoveMoveClass();}};$W._a.ay.prototype.moveYScroll=function(_198){_198*=parseInt(this.options.touchScrollDelta,10)||5;var _199=this.getElementById(this.id+"_iScrollY");var _19a=this.getElementById(this.id+"_scrollY_div");_19a.scrollTop+=_198;var _19b=_19a.firstChild.offsetHeight;var _19c=this.getElementById(this.id+"_dataLayer");var _19d=_19b-_19c.offsetHeight;var _19e=parseInt(_19c.offsetHeight*_19c.offsetHeight/_19b,10);_199.style.height=(_19e<30?30:_19e)+"px";_199.style.top=(_19a.scrollTop/_19d*(_19c.offsetHeight-_199.offsetHeight))+"px";};$W._a.ay.prototype.tbodyMoveXScroll=function(){["WebSquare.uiplugin.eventController.prototype.tbodyMoveXScroll"];if(this.editedCell){this.editedCell.handleEndEdit();}if(this.options.adaptiveSlideHeader){var _19f=this.options.adaptive;var _1a0=parseInt(this.options.adaptiveThreshold)||480;if(_19f=="crosstab"&&!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_1a0&&this.slideHeadObj&&this.slideHeadObj.render.style.position=="absolute"){if(this.slideHeadObj.hidden){$(this.slideHeadObj.render.firstChild).animate({width:"show"});this.slideHeadObj.hidden=false;}var _1a1=this;var _1a2=function(){$w.setTimeout(function(){if($W.userTimerHash[_1a1.id+"_adaptiveSlideHeader"]!=null){$w.clearTimeout(_1a1.id+"_adaptiveSlideHeader");_1a2();}else{if(!_1a1.slideHeadObj.hidden){$(_1a1.slideHeadObj.render.firstChild).animate({width:"hide"});_1a1.slideHeadObj.hidden=true;}}},{delay:1000,key:_1a1.id+"_adaptiveSlideHeader"});};_1a2();}}}};;WebSquare.uiplugin.eventController=$W._a.ay;$W._a._g=function(){["WebSquare.uiplugin.keyEventController"];};$W._a._g.prototype.nonCharKeys={4:"insert",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",9:"tab",13:"enter",46:"del",16:"shift",17:"ctrl",18:"alt",21:"hanyoung",25:"hanja",91:"window",20:"capslock",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"numlock",145:"scrolllock"};$W._a._g.prototype.handleBodyKeyDown=function(e){["WebSquare.uiplugin.keyEventController.prototype.handleBodyKeyDown"];this.isKeyPressed=true;if(!this.editMode){if(this.options.focusMode!="none"&&(this.getFocusedRowIndex()==-1||this.getFocusedColumnIndex()==null)){if(e.keyCode==13&&document.activeElement==this.render){this.setFocusedCell();$W._c.stopEvent(e);}return;}var _2=false;if($W._N.browserCheck.safari&&(e.ctrlKey||e.metaKey)){this.tempEditableCell=document.activeElement;this.tempEditableCell.contentEditable="true";this.tempEditableCell.style.textShadow="0 0 0 "+$W._H.getStyle(this.tempEditableCell,"color");this.tempEditableCell.style.color="transparent";var _3=this;$W._N.setTimer(function(){_3.tempEditableCell.contentEditable="inherit";var _4=this.tempEditableCell.style.textShadow;this.tempEditableCell.style.color="";this.tempEditableCell.style.textShadow="";},{key:this.id+"_tempEditableCell_contentEditable",caller:this,delay:500});}switch(e.keyCode){case 37:case 39:if(this.options.moveKeyEditMode){var _5=(e.keyCode==37)?"left":"right";this.moveHorizontal(false,_5,true);$W._c.stopEvent(e);return;}case 38:case 40:this.skipScrollEndEvent=false;if(this.options.moveKeyEditMode){var _5=(e.keyCode==38)?"up":"down";this.moveVertical(false,_5,true);$W._c.stopEvent(e);return;}case 33:case 34:case 35:case 36:case 9:_2=true;break;case 13:if(this.options.senseReader&&this.options.focusImage&&this.getLastFocusedCell().focusedColIndex){var _6=this.getCellInfo(this.getLastFocusedCell().focusedColIndex);if(_6&&_6.options.inputType=="image"){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2grid_image")){var _8=eval(_6.options.imageClickFunction);if(typeof _8=="function"){_8.call(this,this.getLastFocusedCell().focusedRowIndex,_6.id,this.getCellData(this.getLastFocusedCell().focusedRowIndex,_6.id));}}}}}_2=true;break;default:_2=false;break;}if(_2==true&&this.options.focusMove=="false"){var _9=(e.charCode)?e.charCode:e.keyCode;if(!this.options.senseReader){return;}else{if(_9!=9){return;}}}if(this.F2Mode){switch(e.keyCode){case 8:case 46:case 35:case 36:case 37:case 38:case 39:case 40:return;}}switch(e.keyCode){case 4:break;case 46:this.removeCellData(e);$W._c.stopEvent(e);break;case 32:this.doDefaultAction(e);break;case 33:this.movePageUp(e);$W._c.stopEvent(e);break;case 34:this.movePageDown(e);$W._c.stopEvent(e);break;case 35:this.moveHorizontal(e,"end");$W._c.stopEvent(e);break;case 36:this.moveHorizontal(e,"home");$W._c.stopEvent(e);break;case 37:this.moveHorizontal(e,"left");$W._c.stopEvent(e);break;case 38:this.moveVertical(e,"up");$W._c.stopEvent(e);break;case 39:this.moveHorizontal(e,"right");$W._c.stopEvent(e);break;case 40:this.moveVertical(e,"down");$W._c.stopEvent(e);break;case 9:if(this.options.senseReader&&this.options.focusImage&&this.getLastFocusedCell().focusedColIndex){var _6=this.getCellInfo(this.getLastFocusedCell().focusedColIndex);if(_6&&_6.options.inputType=="image"){$W._c.stopPropagation(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2grid_image")){if($W._c.getTarget(e)==this.render){this.getLastFocusedCell().focusedTd.setAttribute("tabIndex",-1);}else{var _a=this.moveHorizontal(e,e.shiftKey?"left":"right",this.options.keyMoveEditMode);if(_a||this.options.focusFlow!="linear"){$W._c.stopEvent(e);}}}}}}else{if($W._c.getTarget(e)==this.render){this.getLastFocusedCell().focusedTd.setAttribute("tabIndex",-1);}else{var _a=this.moveHorizontal(e,e.shiftKey?"left":"right",this.options.keyMoveEditMode);if(_a||this.options.focusFlow!="linear"){$W._c.stopEvent(e);}}}break;case 13:if(this.options.enterKeyMove=="edit"){this.setEditHtml(e);}else{if(this.options.enterKeyMove=="none"){}else{if(this.options.enterKeyMove=="right"){this.moveHorizontal(e,e.shiftKey?"left":"right",this.options.keyMoveEditMode);}else{this.moveVertical(e,e.shiftKey?"up":"down",this.options.keyMoveEditMode);}}}$W._c.stopEvent(e);break;case 67:if(e.ctrlKey||e.metaKey){if($W._G.isIEAllVersion()){this.handleCopyEvent({});}else{if(!$W._G.isIEAllVersion()){if($W._N.browserCheck.moz){var _b=document.createElement("textarea");var _3=this;_b.oncopy=function(e){_3.handleCopyEvent(e);body.removeChild(this);};_b.textContent="temp";var _d=document.getElementsByTagName("body")[0];_d.appendChild(_b);_b.select();try{document.execCommand("copy");}catch(e){}}}}}else{var _e=$W._G.getBoolean(e.srcElement.getAttribute("directItemChoice"));if(_e){this.directItemChoiceKeyObj.select=e.keyCode;}this.setEditHtml(e);}break;case 86:if(e.ctrlKey||e.metaKey){if($W._G.isIEAllVersion()){this.handlePasteEvent({});}else{if(!$W._G.isIEAllVersion()){if($W._N.browserCheck.moz){var _b=document.createElement("textarea");var _3=this;_b.onpaste=function(e){_3.handlePasteEvent(e);_d.removeChild(this);};_b.textContent="temp";var _d=document.getElementsByTagName("body")[0];_d.appendChild(_b);_b.select();try{document.execCommand("paste");}catch(e){}}}}}else{var _e=$W._G.getBoolean(e.srcElement.getAttribute("directItemChoice"));if(_e){this.directItemChoiceKeyObj.select=e.keyCode;}this.setEditHtml(e);}break;case 90:if(e.ctrlKey){}else{var _e=$W._G.getBoolean(e.srcElement.getAttribute("directItemChoice"));if(_e){this.directItemChoiceKeyObj.select=e.keyCode;}this.setEditHtml(e);}break;case 27:if(this.options.focusMode!="none"&&this.options.focusFlow!="linear"){this.getLastFocusedCell().focusedTd.setAttribute("tabIndex",-1);this.render.focus();}break;case 16:case 17:case 18:case 21:case 229:case 25:case 91:case 20:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:case 123:break;default:if(!e.ctrlKey&&!e.metaKey){var _e=$W._G.getBoolean(e.srcElement.getAttribute("directItemChoice"));if(_e){this.directItemChoiceKeyObj.select=e.keyCode;}this.setEditHtml(e);}}}else{switch(e.keyCode){case 9:$W._c.stopEvent(e);var _10=this.editedCell.editRowIndex;var _11=this._dataList.getColumnIndex(this.editedCell.id);var _12=this.getColumnIndex(this.editedCell.id);var _13=this._grid.getRealRowIndex(_10);var _14=this._dataList.dataArr[_13*this._dataList.getColumnCount()+_11];var _a=this.editedCell.handleEndEdit(e);if(_a+""!="false"){var _15=this._dataList.dataArr[_13*this._dataList.getColumnCount()+_11];if(_14!=_15){$W._c.fireEvent(this,"onviewchange",{"oldValue":_14,"newValue":_15,"rowIndex":_10,"colIndex":_12});}if(!this.moveHorizontal(e,e.shiftKey?"left":"right",this.options.keyMoveEditMode)){this.setFocusedCell(this.editMode);}}break;case 13:if(this.editedCell.options.inputType=="textarea"&&!e.ctrlKey){break;}var _10=this.editedCell.editRowIndex;var _11=this._dataList.getColumnIndex(this.editedCell.id);var _12=this.getColumnIndex(this.editedCell.id);var _13=this._grid.getRealRowIndex(_10);var _14=this._dataList.dataArr[_13*this._dataList.getColumnCount()+_11];var _a=this.editedCell.handleEndEdit(e);if(_a+""!="false"){var _15=this._dataList.dataArr[_13*this._dataList.getColumnCount()+_11];if(_14!=_15){$W._c.fireEvent(this,"onviewchange",{"oldValue":_14,"newValue":_15,"rowIndex":_10,"colIndex":_12});}var _16=false;if(this.options.enterKeyMove=="right"){_16=this.moveHorizontal(e,e.shiftKey?"left":"right",this.options.keyMoveEditMode);}else{if(this.options.enterKeyMove!="none"){_16=this.moveVertical(e,e.shiftKey?"up":"down",this.options.keyMoveEditMode);}}if(!_16){this.setFocusedCell(this.editMode);}}break;case 27:this.editedCell.handleCancelEdit(e);this.setFocusedCell();$W._c.stopEvent(e);break;default:var _17={};_17.rowIndex=this.editedCell.editRowIndex;_17.colIndex=this._dataList.getColumnIndex(this.editedCell.id);$W._c.fireEvent(this,"oneditkeydown",_17);break;}}this.isKeyPressed=false;};$W._a.ay.prototype.handleOnfocus=function(e){if(this.getDataLength()>0&&(this.getFocusedRowIndex()==-1||this.getFocusedColumnIndex()==null)){var _19=null;var _1a=this.colIndexInfo.body.colInfo.colIndexMatch;var _1b=this.colIndexes.bodyColInfo.trIndexArr;var _1c=_1b[this.defaultColCnt];var row=0;for(var i=0;i<_1a.length;i++){var _1f=_1a[i];if(this.hiddenList[i]){continue;}for(var j=_1f.length-1;j>=0;j--){var _21=_1f[j]-this.defaultColCnt;var _22=_1b[_1f[j]];if(_22<=_1c){if(this.options.readOnlyTabIgnore&&this.getReadOnly("all",row,_21)){break;}if(this.options.ignoreNonEditableCell&&(this.getReadOnly("all",row,_21)||this.getDisabled("all",row,_21))){break;}_19=_21;break;}}if(_19!==null){break;}}if(_19!==null){this.setFocusedCell(row,_19);}}};$W._a._g.prototype.removeCellData=function(e){var _24=this.getLastFocusedCell();var row=_24.focusedRowIndex;var col=_24.focusedColIndex;var _27=this.getCellInfo(col);if(!this.getReadOnly("all",row,col)&&!this.getDisabled("all",row,col)){_27.removeCellData(row,col);}};$W._a._g.prototype.doDefaultAction=function(e){if(this.options.focusMode=="none"){var td=$W._c.getTarget(e);while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){this.getCellInfo(td).doDefaultAction(e);}}else{this.getCellInfo(this.getLastFocusedCell().focusedColIndex).doDefaultAction(e);}};$W._a._g.prototype.setEditHtml=function(e){["WebSquare.uiplugin.keyEventController.prototype.setEditHtml"];var _2b=$W._c.getTarget(e);if(!this.options.fastEditMode&&_2b.tagName!="INPUT"){$W._c.stopEvent(e);}if(this.focusedCell.length>0){var _2c=this.focusedCell[this.focusedCell.length-1];if(_2c.focusedTd!=null){this.setEditMode(_2c.focusedTd);}}};$W._a._g.prototype.getFirstTdTrIndex=function(td){["WebSquare.uiplugin.keyEventController.prototype.getFirstTdTrIndex"];var _2e=0;var tr=td.parentNode;while(tr.getAttribute("trIndex")!="0"){tr=$W._G.prev(tr);}return tr;};$W._a._g.prototype.fixScrollRightDirection=function(){["WebSquare.uiplugin.keyEventController.prototype.fixScrollRightDirection"];var _30=this.getLastFocusedCell();var _31=this.getElementById(this.id+"_dataLayer").offsetWidth;var _32=this.getElementById(this.id+"_scrollX_right");var _33=_30.focusedTd.offsetLeft;var _34=_30.focusedTd.offsetWidth+1;if($W._G.isFF()){_34-=1;}if($W._G.isOpera()){_34+=2;}var gap=_33+_34-_31;if(this.options.lazyDrawHiddenColumn){var td=this.focusedCell[0].focusedTd;if(td.style.display=="none"||gap>0){if(this.options.scrollByColumn){var _37=_31-this.fixedWidth;var _38;for(var i=0;i<this.columnOrder.length;i++){if(this.columnOrder[i]==_30.focusedColIndex){_38=i+this.defaultColCnt;break;}}var _3a=-1;var _3b=0;$W._G.isOpera()&&(_3b=2);for(var _3c=_38;_3c>=0;_3c--){if(this.hiddenList[_3c]){continue;}_37-=this.colWidthList[_3c];if(_37<0){_3a=_3c;break;}}var _3c=0;if(this.fixedWidth>0){_3c=this.getFixedColumnLastIndex();}for(_3c;_3c<=_3a;_3c++){if(this.hiddenList[_3c]){continue;}else{_3b+=this.colWidthList[_3c];}}this.scrollXPreventEndEdit=true;_32.scrollLeft=_3b;this._handleScrollX();}else{var _3d=parseInt(td.getAttribute("colIndex"),10);var _3e=0;$W._G.isOpera()&&(_3e=2);for(var i=0;i<=_3d;i++){if(!this.hiddenList[i]){_3e+=this.colWidthList[i];}}this.scrollXPreventEndEdit=true;_32.scrollLeft=_3e-_31;this._handleScrollX();}}}else{if(gap>0){if(this.options.scrollByColumn){var _37=_31-this.fixedWidth;var _38;var _3f=_30.focusedColIndex%this.columnOrder.length;for(var i=0;i<this.columnOrder.length;i++){if(this.columnOrder[i]==_3f){_38=i+this.defaultColCnt;break;}}var _3a=-1;var _3b=0;for(var _3c=_38;_3c>=0;_3c--){if(this.hiddenList[_3c]){continue;}if(this.colIndexes.bodyColInfo.colSpanArr.length!=0){_37-=(this.colWidthList[_3c]*(this.colIndexes.bodyColInfo.colSpanArr[_3c]?this.colIndexes.bodyColInfo.colSpanArr[_3c]:1));if(_37<0){_3a=_3c;break;}}else{_37-=this.colWidthList[_3c];if(_37<0){_3a=_3c;break;}}}var _3c=0;if(this.fixedWidth>0){_3c=this.getFixedColumnLastIndex();}for(_3c;_3c<=_3a;_3c++){if(this.hiddenList[_3c]){continue;}else{if(this.colIndexes.bodyColInfo.colSpanArr.length!=0){_3b+=(this.colWidthList[_3c]*(this.colIndexes.bodyColInfo.colSpanArr[_3c]?this.colIndexes.bodyColInfo.colSpanArr[_3c]:1));}else{_3b+=this.colWidthList[_3c];}}}this.scrollXPreventEndEdit=true;_32.scrollLeft=_3b;this._handleScrollX();}else{this.scrollXPreventEndEdit=true;_32.scrollLeft=_32.scrollLeft+gap;this._handleScrollX();}}}};$W._a._g.prototype.fixScrollLeftDirection=function(){["WebSquare.uiplugin.keyEventController.prototype.fixScrollLeftDirection"];var _40=this.getLastFocusedCell();var _41=_40.focusedTd.getAttribute("colIndex");_41=parseInt(_41);var _42=this.getElementById(this.id+"_scrollX_right");var _43=0;var max=this.gridWidth-_43-this.fixedWidth;var _45=this.getFixedColumnLastIndex();for(var i=_45;i<_41;i++){if(this.hiddenList[i]){continue;}var _47=this.colWidthList[i];_43+=_47;}if(_42.scrollLeft>_43){this.scrollXPreventEndEdit=true;_42.scrollLeft=_43;this._handleScrollX();}};$W._a._g.prototype.getLeftMostFocusableColIndex=function(_48){var _49=this.colIndexInfo.body.colInfo.colIndexArr;var _4a=null;if(_48>=this.dataList.getRowCount()||_48<0){return _4a;}for(var i=0;i<_49.length-this.defaultColCnt;i++){var _4c=false;if(this.options.readOnlyTabIgnore){_4c=this.getReadOnly("all",_48,i);}if(this.options.ignoreNonEditableCell||this.options.senseReader){_4c=this.getReadOnly("all",_48,i)||this.getDisabled("all",_48,i);}if(this.isColMerge&&this.cellInfoHash[this.tdIdList[i]].options.colMerge){var _4d=this.getCellData(_48-1,i);var _4e=this.upperGroupingTest(_48,i);var _4f=this.getCellData(_48,i);if(_4d==_4f&&_4e){_4c=true;}}if(!this.hiddenList[i]&&!_4c){_4a=i;break;}}return _4a;};$W._a._g.prototype.getRightMostFocusableColIndex=function(_50){var _51=this.colIndexInfo.body.colInfo.colIndexArr;var _52=null;if(_50>=this.getRowCount()||_50<0){return _52;}for(var i=_51.length-1-this.defaultColCnt;i>=0;i--){var _54=false;if(this.options.readOnlyTabIgnore){_54=this.getReadOnly("all",_50,i);}if(this.options.ignoreNonEditableCell||this.options.senseReader){_54=this.getReadOnly("all",_50,i)||this.getDisabled("all",_50,i);}if(this.isColMerge&&this.cellInfoHash[this.tdIdList[i]].options.colMerge){var _55=this._dataList.getCellData(_50-1,i);var _56=this.upperGroupingTest(_50,i);var _57=this._dataList.getCellData(_50,i);if(_55==_57&&_56){_54=true;}}if(!this.hiddenList[i]&&!_54){_52=i;break;}}return _52;};$W._a._g.prototype.moveHorizontal=function(e,_59,_5a){["WebSquare.uiplugin.keyEventController.prototype.moveHorizontal"];if(this.options.focusMove=="false"||this.options.focusMove=="vertical"){var _5b=(e.charCode)?e.charCode:e.keyCode;if(!this.options.senseReader){return false;}else{if(_5b!=9){return false;}}}var _5c=this.getLastFocusedCell();var row=_5c.focusedRowIndex;var col=_5c.focusedColIndex;var _5f=this.colIndexInfo.body.colInfo.colIndexArr;var _60=this._getRealColIndex("body",this.tdIdList[col])+this.defaultColCnt;var _61=this.colIndexInfo.body.colInfo.colIndexMatch;var _62=this.colIndexes.bodyColInfo.trIndexArr;var _63=_62[col+this.defaultColCnt];var _64=e?e.keyCode==9:false;var _65=e?(e.keyCode==9||e.keyCode==13):false;var _66=e?(37<=e.keyCode&&e.keyCode<=40):false;var _67=e?e.shiftKey:false;var _59=_59||"right";if(_5c.bTrIndex){_63=_5c.bTrIndex;}var _68=null;if(this.options.focusMultiRow){if(_59=="left"){var _69=_60-1;var end=this.defaultColCnt-1;var inc=-1;}else{if(_59=="right"){var _69=_60+1;var end=_61.length;var inc=+1;}else{if(_59=="home"){var _69=this.defaultColCnt;var end=_61.length;var inc=+1;}else{var _69=_61.length-1;var end=this.defaultColCnt-1;var inc=-1;}}}for(var i=_69;i!=end;i+=inc){var _6d=_61[i];if(this.hiddenList[i]){continue;}for(var j=_6d.length-1;j>=0;j--){var _6f=_6d[j]-this.defaultColCnt;var _70=_62[_6d[j]];if(_70<=_63&&((_59=="left"||_59=="right")?_6f!=col:true)){if(_64&&(this.options.readOnlyTabIgnore||this.options.senseReader)&&this.getReadOnly("all",row,_6f)){break;}if(_65&&(this.options.ignoreNonEditableCell||this.options.senseReader)&&(this.getReadOnly("all",row,_6f)||this.getDisabled("all",row,_6f))){break;}if(this.isColMerge&&this.cellInfoHash[this.tdIdList[_6f]].options.colMerge){var _71=this.getCellData(row-1,_6f);var _72=this.upperGroupingTest(row,_6f);var _73=this.getCellData(row,_6f);if(_71==_73&&_72){break;}}_68=_6f;break;}}if(_68!==null){break;}}}else{if(_59=="left"){var _69=col+this.defaultColCnt-1;var end=this.defaultColCnt-1;var inc=-1;}else{if(_59=="right"){var _69=col+this.defaultColCnt+1;var end=_5f.length;var inc=+1;}else{if(_59=="home"){var _69=this.defaultColCnt;var end=_61.length;var inc=+1;}else{var _69=_5f.length-1;var end=this.defaultColCnt-1;var inc=-1;}}}for(var i=_69;i!=end;i+=inc){var cnt=0;var _75=null;for(var t=0;t<_61.length;t++){cnt=0;for(var r=0;r<_61[t].length;r++){if(i==_61[t][r]){_75=t;break;}cnt++;}if(_75!=null){break;}}var _6d=_61[_75];if(this.hiddenList[_75]){continue;}for(var j=0;j<_6d.length;j++){var _6f=_6d[j]-this.defaultColCnt;var _70=_62[_6d[j]];if(j==cnt&&((_59=="left"||_59=="right")?_6f!=col:true)){if(_64&&(this.options.readOnlyTabIgnore||this.options.senseReader)&&this.getReadOnly("all",row,_6f)){break;}if(_65&&(this.options.ignoreNonEditableCell||this.options.senseReader)&&(this.getReadOnly("all",row,_6f)||this.getDisabled("all",row,_6f))){break;}if(this.isColMerge&&this.cellInfoHash[this.tdIdList[_6f]].options.colMerge){var _71=this.getCellData(row-1,_6f);var _72=this.upperGroupingTest(row,_6f);var _73=this.getCellData(row,_6f);if(_71==_73&&_72){break;}}_68=_6f;break;}}if(_68!==null){break;}}}if(_68!==null){if(_5a&&this.options.keyMoveEditMode){var _78=this.getCellInfo(_68);if($W._G.getBoolean(_78.options.skipKeyMoveEditMode)){_5a=false;}}this.setFocusedCell(row,_68,_5a);_5c=this.getLastFocusedCell();_5c.bTrIndex=_63;return true;}else{if(this.options.focusFlow=="linear"){if(row>0&&_65&&_67){var _79=this.getRightMostFocusableColIndex(row-1);while(row>=0&&_79==null){row-=1;_79=this.getRightMostFocusableColIndex(row-1);}if(_79==null){if(this.editedCell){this.editedCell.handleEndEdit(e);}return false;}if(row-1<this.rowIndex){this._setGridBorderNoRefresh=true;var _7a=-1;if(this.hasSubtotal){_7a-=this.getHasSubtotalCount(row-1);}this.addGridScroll(_7a);this._setGridBorderNoRefresh=false;}if(_5a&&this.isKeyPressed&&this.options.keyMoveEditMode){var _78=this.getCellInfo(_79);if($W._G.getBoolean(_78.options.skipKeyMoveEditMode)){_5a=false;}}this._setGridBorderNoRefresh=true;this.setFocusedCell(row-1,_79,_5a);this._setGridBorderNoRefresh=false;return true;}else{if(row<this.getDataLength()-1&&_65&&!_67){var _7b=this.getLeftMostFocusableColIndex(row+1);while(row!=this.dataList.getRowCount()&&_7b==null){row+=1;_7b=this.getLeftMostFocusableColIndex(row+1);}if(_7b==null){if(this.editedCell){this.editedCell.handleEndEdit(e);}return false;}if(row+1>this.rowIndex+this.lastIndex){this._setGridBorderNoRefresh=true;var _7a=1;if(this.hasSubtotal){_7a+=this.getHasSubtotalCount(row+1);}this.addGridScroll(_7a);this._setGridBorderNoRefresh=false;}if(_5a&&this.isKeyPressed&&this.options.keyMoveEditMode){var _78=this.getCellInfo(_7b);if($W._G.getBoolean(_78.options.skipKeyMoveEditMode)){_5a=false;}}this._setGridBorderNoRefresh=true;this.setFocusedCell(row+1,_7b,_5a);this._setGridBorderNoRefresh=false;return true;}}}}if(this.editedCell){this._setGridBorderNoRefresh=true;this.editedCell.handleEndEdit(e);this._setGridBorderNoRefresh=false;}else{if(this.options.moveKeyEditMode){this._setGridBorderNoRefresh=true;this.setFocusedCell(row,col,false);this._setGridBorderNoRefresh=false;}}this.moveDirection=null;return false;};$W._a._g.prototype.moveVertical=function(e,_7d,_7e){["WebSquare.uiplugin.keyEventController.prototype.moveVertical"];this.moveDirection="row";if(this.options.focusMove=="false"||this.options.focusMove=="horizontal"){return false;}var _7f=this.getLastFocusedCell();var row=_7f.focusedRowIndex;var col=_7f.focusedColIndex;var _82=this.defaultColCnt;var _83=this.colIndexInfo.body.colInfo.colIndexArr;var _84=this.colIndexes.bodyColInfo.trIndexArr;var _85=this.colIndexes.bodyColInfo.colSpanArr;var _86=this.colIndexes.bodyColInfo.rowSpanArr;var _87=_83[col+_82];var _88=_84[col+_82];var _89=_85[col+_82];var _8a=_86[col+_82];var _8b=col;var _8c=row;if(_89&&_7f.bColIndex){_87=_7f.bColIndex;}if(_7d=="up"){var _8d=_88==0?this.oneRowDataLength-1:col-1;var end=-1;var inc=-1;}else{var _8d=_88+_8a==this.oneRowLength?0:col+1;var end=this.oneRowDataLength;var inc=+1;}for(var i=_8d;i!=end;i+=inc){var _91=_83[i+_82];var _92=_91+(_85[i+_82]?_85[i+_82]:1)-1;if(_91<=_87&&_87<=_92&&!this.hiddenList[_83[i+_82]]){_8b=i;if(_7d=="up"){for(var j=row;j>=0;j--){_8c=_88==0?j-1:j;if(!((this.options.ignoreNonEditableCell||this.options.senseReader)&&(this.getReadOnly("all",_8c,_8b)||this.getDisabled("all",_8c,_8b)))){break;}}}else{for(var j=row;j<this.getDataLength();j++){_8c=_88+_8a==this.oneRowLength?j+1:j;if(!((this.options.ignoreNonEditableCell||this.options.senseReader)&&(this.getReadOnly("all",_8c,_8b)||this.getDisabled("all",_8c,_8b)))){break;}}}break;}}if(0<=_8c&&_8c<this.getDataLength()&&(row!=_8c||col!=_8b)){$W._c.stopEvent(e);if(_7e&&this.isKeyPressed&&this.options.keyMoveEditMode){var _94=this.getCellInfo(_8b);if($W._G.getBoolean(_94.options.skipKeyMoveEditMode)){_7e=false;}}if(this.setFocusedCell2(_8c,_8b,_7e)){_7f=this.getLastFocusedCell();_7f.bColIndex=_87;return true;}else{return false;}}if(this.options.focusFlow=="linear"){if(_8c==-1||_8c==this.getDataLength()){var td=this.getLastFocusedCell().focusedTd;var _94=this.getCellInfo(td);if(_94.options.inputType=="text"&&_94.options.embeddedInput){var _96=this.getInput(_94,td);this.showFakeInput(_96);this.fakeInput.setValue(_96.getValue());this.F2Mode=false;_96.select();}else{var _97=false;if(_7d=="up"&&_8c==-1&&_8b-1>-1&&_83[_8b-1+_82]!=null){_8c=this.getDataLength()-1;_8b-=1;_97=true;}else{if(_7d=="down"&&_8c==this.getDataLength()&&_83[_8b+1+_82]!=null){_8c=0;_8b+=1;_97=true;}}if(_97){$W._c.stopEvent(e);if(_7e&&this.isKeyPressed&&this.options.keyMoveEditMode){var _94=this.getCellInfo(_8b);if($W._G.getBoolean(_94.options.skipKeyMoveEditMode)){_7e=false;}}if(this.setFocusedCell2(_8c,_8b,_7e)){_7f=this.getLastFocusedCell();_7f.bColIndex=_87;return true;}else{return false;}}}}}if(this.editedCell){this.editedCell.handleEndEdit(e);}else{if(this.options.moveKeyEditMode){this._setGridBorderNoRefresh=true;this.setFocusedCell(row,col,false);this._setGridBorderNoRefresh=false;}}this.moveDirection=null;return false;};$W._a._g.prototype.moveEnd=function(e){["WebSquare.uiplugin.keyEventController.prototype.moveEnd"];if(this.options.focusMove=="false"||this.options.focusMove=="vertical"){return;}while(this._moveRight(e)){}var _99=false;while(!_99){var _9a=true;var _9b=this.getLastFocusedCell();var _9c=parseInt(_9b.focusedTd.getAttribute("colIndex"));var _9d=parseInt(_9b.focusedTd.getAttribute("colSpan")||1);for(var i=0;i<_9d;i++){if(this.hiddenList[_9c+i]==false){_9a=false;break;}}if(_9a==true){this._moveLeft(e);}else{_99=true;}}this.fixScrollRightDirection();};$W._a._g.prototype.moveHome=function(e){["WebSquare.uiplugin.keyEventController.prototype.moveHome"];if(this.options.focusMove=="false"||this.options.focusMove=="vertical"){return;}while(this._moveLeft(e)){}var _a0=false;while(!_a0){var _a1=true;var _a2=this.getLastFocusedCell();var _a3=parseInt(_a2.focusedTd.getAttribute("colIndex"));var _a4=parseInt(_a2.focusedTd.getAttribute("colSpan")||1);for(var i=0;i<_a4;i++){if(this.hiddenList[_a3+i]==false){_a1=false;break;}}if(_a1==true){this._moveRight(e);}else{_a0=true;}}this.fixScrollLeftDirection();};$W._a._g.prototype.movePageUp=function(e){["WebSquare.uiplugin.keyEventController.prototype.movePageUp"];if(this.options.focusMove=="false"||this.options.focusMove=="horizontal"){return;}if(this.rowIndex<=0){return;}var _a7=this.getLastFocusedCell();var _a8=_a7.focusedRowIndex;if(_a8<0){return;}_a8-=this.rowIndex;var _a9=_a7.focusedColIndex;this._applyFocusedCellOut(_a7);if(this.focusedCell){this.focusedCell.pop();}var _aa=this.rowIndex-this.lastIndex;if(_aa>=0){this.setTopRowIndex(_aa);this.setFocusedCell(_a8+this.rowIndex,_a9);}else{this.setTopRowIndex(0);this.setFocusedCell(0,_a9);}return true;};$W._a._g.prototype.movePageDown=function(e){["WebSquare.uiplugin.keyEventController.prototype.movePageDown"];if(this.options.focusMove=="false"||this.options.focusMove=="horizontal"){return;}if(this.lastTopRowIndex!=null&&this.rowIndex>=this.lastTopRowIndex){return;}var _ac=this.getLastFocusedCell();var _ad=_ac.focusedRowIndex;if(_ad<0){return;}_ad-=this.rowIndex;var _ae=_ac.focusedColIndex;this._applyFocusedCellOut(_ac);var _af=this.rowIndex+this.lastIndex;var _b0=this.getDataLength();var _b1=this.getDataLength()-this.lastIndex-1;if(_af<=_b1){this.setTopRowIndex(_af);this.setFocusedCell(_ad+this.rowIndex,_ae);}else{this.setTopRowIndex(_b1);this.setFocusedCell(_b0-1,_ae);}return true;};$W._a._g.prototype.findTd=function(_b2,_b3,_b4){["WebSquare.uiplugin.keyEventController.prototype.findTd"];var pTd=null;var i=0;while(_b2!=null){var _b7=$W._G.first(_b2);while(_b7!=null){var _b8=parseInt(_b7.getAttribute("colIndex"));if(_b8<=_b3&&_b3<=_b8+_b7.colSpan-1){if(i<=_b4&&_b4<=i+_b7.rowSpan-1){return _b7;}}if(_b8>_b3){break;}_b7=$W._G.next(_b7);}_b2=$W._G.next(_b2);if(i>_b4){break;}if(pTd!=null){break;}i++;}};$W._a._g.prototype.pasteFromClipboard=function(){["WebSquare.uiplugin.keyEventController.prototype.pasteFromClipboard"];var _b9=this.parseClipboardExcel();var _ba=this.getFocusedRowIndex();var _bb=this.getFocusedColumnIndex();var _bc=[];for(var row=0;row<_b9.length;row++){_bc.push([]);for(var col=0;col<_b9[0].length;col++){_bc[row][col]=this.dataList.getCellData(row+_ba,this.getColumnID(col+_bb));}}for(var row=0;row<_b9.length;row++){for(var col=0;col<_b9[0].length;col++){var _bf=_b9[row][col];try{_bf=_bf.wq_trim();var _c0=this.getCellInfo(col+_bb);var _c1=this.mainGrid.getColumnOption(_c0.options.col_id,"dataType");var _c2=/[^(\-0-9)]/g;if(_c1=="number"){_bf=_bf.replace(_c2,"");}}catch(e){}if(this._getEditReadOnly(row+_ba,col+_bb)!=true&&this.getEditDisabled(row+_ba,col+_bb,true)!=true){this.dataList.setCellData(row+_ba,this.getColumnID(col+_bb),_bf);}}}var _c3=this;$W.historyManager.set("grid","grid1",{focusRowIndex:_ba,focusColIndex:_bb,data2d:_bc},{onRestore:function(_c4){var _c5=_c4.data2d;for(var row=0;row<_c5.length;row++){for(var col=0;col<_c5[0].length;col++){var _c8=_c5[row][col];_c3.dataList.setCellData(row+_ba,this.getColumnID(col+_bb),_c8);}}}});};$W._a._g.prototype.parseClipboardExcel=function(){["WebSquare.uiplugin.keyEventController.prototype.parseClipboardExcel"];var _c9=[];var str=window.clipboardData.getData("Text");var _cb=str.split("\n");for(var row=0;row<_cb.length-1;row++){var _cd=_cb[row].split("\t");_c9.push(_cd);}return _c9;};$W._a._g.prototype.copyToClipboard=function(){["WebSquare.uiplugin.keyEventController.prototype.copyToClipboard"];var _ce=this.options.copyAmount;if(!_ce){if(this.options.focusMode=="cell"){_ce="cell";}else{if(this.options.focusMode=="both"||this.options.focusMode=="row"){_ce="row";}}}if(_ce=="cell"){var _cf=this.getDataLength();var _d0=0;var _d1=this.getTotalCol();var _d2=0;var _d3=[];for(var i=0;i<this.focusedCell.length;i++){var _d5=this.focusedCell[i];var _d6=_d5.focusedRowIndex;var _d7=_d5.focusedColIndex;if(_d3[_d6]==null){_d3[_d6]=[];}_d3[_d6][_d7]=_d5;if(_cf>_d6){_cf=_d6;}if(_d1>_d7){_d1=_d7;}}var _d8=[];for(var i=_cf;i<_d3.length;i++){var _d9=_d3[i];var _da=[];if(typeof _d9!="undefined"){for(var j=_d1;j<_d9.length;j++){var _dc=_d3[i][j];if(_dc){_da.push(this.dataList.getCellData(i,this.getColumnID(j)));}else{_da.push("");}}}_d8.push(_da.join("\t"));}window.clipboardData.setData("Text",_d8.join("\n"));}else{if(_ce=="row"){var _dd=[];for(var i=0;i<this.focusedCell.length;i++){var _d5=this.focusedCell[i];_dd[_d5.focusedRowIndex]=1;}var _d9=[];for(var _d6 in _dd){_d9.push(_d6);}function compare(a,b){if(parseInt(a)>parseInt(b)){return 1;}return -1;}_d9.sort(compare);var _d3=[];for(var i=0;i<_d9.length;i++){var _d6=_d9[i];var _e0=this.getRowData(_d6);_d3.push(_e0.join("\t"));}window.clipboardData.setData("Text",_d3.join("\n"));}}};;WebSquare.uiplugin.keyEventController=$W._a._g;$W._a._F=function(_1){["WebSquare.uiplugin.mainDrawController"];};$W._a._F.prototype.initializeDrawController=function(){["WebSquare.uiplugin.mainDrawController.prototype.initializeDrawController"];this.data_td_list=[];this.data_num_td_list=[];this.data_status_td_list=[];this.all_data_td_list=[];};$W._a._F.prototype.setScrollYHeight=function(){["WebSquare.uiplugin.mainDrawController.prototype.setScrollYHeight"];};$W._a._F.prototype.handleScrollY=function(){["WebSquare.uiplugin.layoutController.handleScrollY"];};$W._a._F.prototype.drawDataTable=function(_2){["WebSquare.uiplugin.mainDrawController.prototype.drawDataTable"];};$W._a._F.prototype.showAllBodyTR=function(_3){["WebSquare.uiplugin.mainDrawController.prototype.showAllBodyTR"];var _3=_3||"";for(var i=0;i<this.drawedRowLength;i++){this._setRowDisplay(i,_3);}this.lastDisplayedRow=_3==="none"?-1:this.drawedRowLength-1;};$W._a._F.prototype._setRowDisplay=function(_5,_6){["WebSquare.uiplugin.mainDrawController.prototype._setRowDisplay"];var _7=null;for(var i=0;i<this.oneRowLength;i++){_7=this.dataRowList[this.oneRowLength*_5+i];if(_7){_7.style.display=_6;if(_6=="none"){this.__addClass(_7,"w2grid_hidedRow");}else{this.__removeClass(_7,"w2grid_hidedRow");}}}return _7;};$W._a._F.prototype.setDataTable=function(){["WebSquare.uiplugin.mainDrawController.prototype.setDataTable"];};$W._a._F.prototype.drawData=function(_9){["WebSquare.uiplugin.mainDrawController.prototype.drawData"];var _a=0;if(_9+this.maxRowLength>this.getDataLength()){_a=_9+this.getDataLength()-this.maxRowLength;}this.setEvenOddBackground(_9);if(this.rowIndex!=_9){this.changeFocusedCellPosition(_9);}if(this.rowIndex!=_9||this.drawSizeAdded){this.rowIndex=_9;this.showAllBodyTR("");for(var i=0;i<this.maxRowLength-_a;i++){if(i+this.rowIndex<this.getDataLength()){this.drawRowData(i,_9+i);}else{this.hideRow(i);}}}if(_a>0){this.maxRowLength+=_a;this.handleBodyResize();}};$W._a._F.prototype.drawRowData=function(_c,_d){["WebSquare.uiplugin.mainDrawController.prototype.drawRowData"];for(var i=0;i<this.oneRowDataLength;i++){this.drawCellData(_c,_d,i);}this._drawRowNumData(_c,_d);this._drawRowStatus(_c,_d);};$W._a._F.prototype.drawColumnData=function(_f,_10){["WebSquare.uiplugin.mainDrawController.prototype.drawColumnData"];var _11=this._dataList.rowPosition;var _12=false;_f=this.getColumnIndex(_f);var _13=this.options.showLastRow?this.lastIndex+1:this.lastIndex;var _14=this.getCellInfo(_f);if(_14.dataComp){var _15=$W._G.getComponentById(_14.dataComp);if(_15!=null&&_15.initializeType==="linkedDataList"&&_15.conditionInfo!=undefined&&_15.conditionInfo.targetInfo!=undefined&&typeof _11==="number"){_12=true;}}for(var i=0;i<=_13;i++){var _17=i+this.rowIndex;if(_10&&_14.select&&_14.hasRef){_14.select.itemArr=_14.getRefItemArr(_17);_14.select.setSelectOptions();if(!_14.select.setValueNM(_14.mainGrid._dataList._getData(_17,_f))){_14.mainGrid._dataList._setData(_17,_f,"");}}if(_12&&i===_11){continue;}this.drawCellData(i,_17,_f);}if(_12){this.drawCellData(_11,_11+this.rowIndex,_f);}};$W._a._F.prototype.addGridScroll=function(gap){["WebSquare.uiplugin.drawController2.prototype.addGridScroll"];};$W._a._F.prototype.setFocusedCellPosition=function(){["WebSquare.uiplugin.mainDrawController.prototype.setFocusedCellPosition"];};$W._a._F.prototype._setMouseOverTr=function(e,_1a){["WebSquare.uiplugin.mainDrawController.prototype._setMouseOverTr"];this.setOverClass(_1a,"overTd",true);};$W._a._F.prototype._setMouseOutTr=function(e,_1c){["WebSquare.uiplugin.mainDrawController.prototype._setMouseOutTr"];this.setOverClass(_1c,"overTd",false);};$W._a._F.prototype.setOverClass=function(_1d,_1e,_1f){["WebSquare.uiplugin.mainDrawController.prototype.setOverClass"];var _20=_1d.parentNode;var _21=parseInt(_20.getAttribute("trIndex"));while(_21>0){_21--;_20=$W._G.prev(_20);}do{var _22=$W._G.first(_20);while(_22!=null){if(_22.offsetLeft>this.render.offsetWidth){break;}if(_22.offsetWidth>0){var _23="";if(_1f){_22.setAttribute("row_out_style",_22.style.cssText);_22.style.cssText=_22.style.cssText+";background-color:"+this.options.rowMouseOverColor;}else{_22.style.cssText=_22.getAttribute("row_out_style");}}_22=$W._G.next(_22);}_20=$W._G.next(_20);}while(_20!=null&&_20.getAttribute("trIndex")!="0");};$W._a._F.prototype.changeFocusedCellPosition=function(_24,_25){["WebSquare.uiplugin.mainDrawController.prototype.changeFocusedCellPosition"];if(this.focusedCell.length==0){return;}this.applyFocusedCellOut();for(var i=0;i<this.focusedCell.length;i++){targetRowIndex=this.focusedCell[i].focusedRowIndex-_24;targetColIndex=this.focusedCell[i].focusedColIndex;var _27=null;if(this.options.fixedRow>0&&this.options.fixedRow>this.focusedCell[i].focusedRowIndex){_27=this.data_td_list[targetColIndex+this.focusedCell[i].focusedRowIndex*this.oneRowDataLength];this.applyFocusedCellIn(_27,_25);}else{if(targetRowIndex<0||targetRowIndex>this.maxRowLength){_27=null;}else{_27=this.data_td_list[targetColIndex+targetRowIndex*this.oneRowDataLength];this.applyFocusedCellIn(_27,_25);}}this.focusedCell[i].focusedTd=_27;}};$W._a._F.prototype.setTRClass=function(_28,_29,_2a){["WebSquare.uiplugin.mainDrawController.prototype.setTRClass"];var _2b=_28.parentNode;var _2c=parseInt(_2b.getAttribute("trIndex"));while(_2c>0){_2c--;_2b=$W._G.prev(_2b);}do{var _2d=$W._G.first(_2b);while(_2d!=null){if(_2a){this.addClass(_2d,_29);}else{this.removeClass(_2d,_29);}_2d=$W._G.next(_2d);}_2b=$W._G.next(_2b);}while(_2b!=null&&_2b.getAttribute("trIndex")!="0");};$W._a._F.prototype.setEditMode=function(_2e){var _2f=_2e.getAttribute("col_id");if(_2f==null||_2f.wq_trim()==""){return;}var _30=parseInt(_2e.getAttribute("tdIndex"));var _31=parseInt(_30/this.realRowDataLength);if(this.options.fixedRow>0&&this.options.fixedRow>_31){var _32=_31;}else{var _32=_31+this.rowIndex;}var _33=_2e.getAttribute("col_id");var _34=this.getCellInfo(_33);if(!_34.options.colMergeEdit&&_2e.getAttribute("colMerged")=="1"){return;}if(_34.options.embeddedInput||this.groupbyStatus.grouped){return;}if(this.getEditReadOnly(_2e,_32)){this.editMode=false;if(_34.options.showReadOnly){this.editMode=true;_34.showReadonly(_2e,_32);}return;}if(this.getEditDisabled(_32,_33)){this.editMode=false;if(_34.options.showReadOnly){this.editMode=true;_34.showReadonly(_2e,_32);}return;}var _35=$W._c.fireEvent(this,"onbeforeedit",_32,_33,this.dataList.getCellData(_32,this.getColumnID(_33)));if(_35!=false){if(this.editedCell==null){this.editMode=true;this.setCellEditMode(_2e,_32);}}};$W._a._F.prototype.getEditReadOnly=function(_36,_37){var _38=_36.getAttribute("col_id");return this._getEditReadOnly(_37,_38);};$W._a._F.prototype.getReadOnly=function(){var _39=$W._G.getBoolean;var _3a=arguments[0];if(_3a=="grid"||arguments.length==0){return _39(this.options.readOnly);}else{if(_3a=="row"){return _39(this.getRowReadOnly(arguments[1]));}else{if(_3a=="column"){var _3b=this.getColumnID(arguments[1]);return _39(this.getColumnReadOnly(_3b));}else{if(_3a=="cell"){var _3c=arguments[1];var _3b=this.getColumnID(arguments[2]);return _39(this.getCellReadOnly(_3c,_3b));}else{if(_3a=="all"){var _3c=arguments[1];var _3b=this.getColumnID(arguments[2]);return this._getEditReadOnly(_3c,_3b);}}}}}};$W._a._F.prototype.setReadOnly=function(){try{var _3d=arguments[0];if(arguments.length==1||_3d=="grid"){var _3e=arguments[arguments.length-1];if(_3e=="clear"){this.rowReadOnlyArr=[];this.cellReadOnlyArr=[];}else{this.options.readOnly=$W._G.getBoolean(_3e);}var _3f=this.getDataLength();if(_3f!=0){this.notifyDataChanged({keepTop:true});}}else{if(_3d=="row"){this.setRowReadOnly(arguments[1],arguments[2]);}else{if(_3d=="column"){this.setColumnReadOnly(arguments[1],arguments[2]);}else{if(_3d=="cell"){this.setCellReadOnly(arguments[1],arguments[2],arguments[3]);}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._F.prototype._getEditReadOnly=function(_40,_41,_42){var _41=this.getColumnID(_41);var _43=this.getCellReadOnly(_40,_41,_42);var _44=this.cellInfoHash[_41];var _45=$W._G.getBoolean;if(_43+""!=""){return _45(_43);}var _46=this.options.readOnlyPriority;var _47=_44.options.readOnly;var _48=this.getRowReadOnly(_40,_42);if(_46=="column"&&_47!==""){return _45(_47);}else{if(_46=="row"&&_48!==""){return _45(_48);}else{if(_47+""=="true"||_48+""=="true"){return true;}else{if(_47+""=="false"||_48+""=="false"){return false;}}}}if(this.options.readOnly+""!=""){return _45(this.options.readOnly);}return false;};$W._a._F.prototype.getDisabled=function(){var _49=$W._G.getBoolean;var _4a=arguments[0];if(_4a=="grid"||_4a==undefined){return _49(this.options.disabled);}else{if(_4a=="row"){return _49(this.getRowDisabled(arguments[1]));}else{if(_4a=="column"){var _4b=this.getColumnID(arguments[1]);return _49(this.getColumnDisabled(_4b));}else{if(_4a=="cell"){var _4c=arguments[1];var _4b=this.getColumnID(arguments[2]);return _49(this.getCellDisabled(_4c,_4b));}else{if(_4a=="all"){var _4c=arguments[1];var _4b=this.getColumnID(arguments[2]);return this.getEditDisabled(_4c,_4b);}}}}}};$W._a._F.prototype.setDisabled=function(){try{var _4d=arguments[0];var f1=(arguments.length==1||_4d=="grid");var f2=(arguments.length==2&&typeof arguments[0]=="boolean"&&typeof arguments[1]=="boolean");if(f1||f2){var _50=f1?arguments[arguments.length-1]:arguments[0];_50=$W._G.getBoolean(_50);if(_50!=this.options.disabled){this.options.disabled=_50;var _51=this.getElementById(this.id+"_dataLayer");if(f1||!_50){_51.disabled=_50;}if(f2||(!_50&&_51.disabledW2)){_51.disabledW2=_50;}if(_50){this.addClass(_51,"w2grid_disabled");}else{this.removeClass(_51,"w2grid_disabled");}var _52=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_52.length;i++){var _54=_52[i].getAttribute("header_id");var _55=this.headerObj[_54];if(_55){if(_55.setDisabled){_55.setDisabled(_50);}else{if(_55.render){_55.render.disabled=_50;}else{_55.disabled=_50;}}}else{_52[i].disabled=_50;}}}return _50;}else{if(_4d=="row"){this.setRowDisabled(arguments[1],arguments[2]);}else{if(_4d=="column"){this.setColumnDisabled(arguments[1],arguments[2]);}else{if(_4d=="cell"){this.setCellDisabled(arguments[1],arguments[2],arguments[3]);}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._F.prototype.getEditDisabled=function(_56,_57,_58){try{var _59=-1;var _5a="";if(typeof _57=="number"){_59=_57;_5a=this.cellIdList[_57];}else{_59=this.bodyIdColIndexMap[_57];_5a=_57;}var _5b=-1;if(_58===true){_5b=_56;}else{if(this._linkedDataList){_5b=this._linkedDataList.filteredRowIndexArr[_56];}else{if(this.groupbyStatus.grouped){var _5c=true;for(var key in this._grid.customFilterStatusObj){if(this._grid.customFilterStatusObj[key]){_5b=this._dataList.filteredRowIndexArr[_56];_5c=false;break;}}if(_5c){_5b=this.groupbyStatus.groupedRowIndexArr[_56];}}else{_5b=this._dataList.filteredRowIndexArr[_56];}}}var _5e=this.cellInfoHash[_5a]||{"options":{}};var _5f=this.cellDisabledArr[_5b*this.oneRowDataLength+_59];if(_5f!==true&&_5f!==false){var _60=_5e.options.disabled;var _61=this.rowDisabledArr[_5b];var _62=this.options.disabledPriority;if(_61!==true&&_61!==false){_61="";}if(_62==="column"&&_60!==""){_5f=_60;}else{if(_62==="row"&&_61!==""){_5f=_61;}else{if(_60+""==="true"||_61+""==="true"){_5f=true;}else{if(_60+""==="false"||_61+""==="false"){_5f=false;}else{if(this.options.disabled!==""){_5f=this.options.disabled;}else{_5f=false;}}}}}}return _5f;}catch(e){$W.exception.printStackTrace(e);}};$W._a._F.prototype.getElemRowIndex=function(_63){var _64=parseInt(_63.getAttribute("tdIndex"));var _65=parseInt(_64/this.realRowDataLength);var _66=_65+this.rowIndex;return _66;};$W._a._F.prototype.notifyDataChanged=function(_67){if(this.activeStatus!="active"){return;}this.checkResize();var _68=_67?(_67.append||false):false;var _69=_67?(_67.keepTop||false):false;var _6a=_69&&this.rowIndex>=0?this.rowIndex:0;if(this.delayedDraw({rowIndex:_6a})){return;}var _6b=this._setGridBorderNoRefresh||false;this._setGridBorderNoRefresh=true;if(this.options.senseReader&&this.rowIndex<=0){this.senseReaderMode=true;this.setDataTable();this.drawData(0);this.drawFooter();this.drawHeader();this.senseReaderMode=false;this.displayNoResultMessage();this._setGridBorderNoRefresh=_6b;return;}if(_68&&!this.loadFlag){this.drawFooter();this.drawHeader();return;}var _6c=this.drawDataTable(0);if(_6c==0){if(_68){this.setScrollYHeight();}this.drawData(_6a);}this.displayNoResultMessage();this.drawFooter();this.drawHeader();this._setGridBorderNoRefresh=_6b;if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(this.checkAdaptiveGridType()&&(this.options.adaptive!=""||Object.keys(this.hideThresholdObj).length!=0)){var _6d=this.options.adaptive;var _6e=parseInt(this.options.adaptiveThreshold)||480;if(_6d=="crosstab"){if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_6e){this.removeAdaptive();this.addAdaptive();}}}}};$W._a._F.prototype.notifyCellChanged=function(_6f,_70,_71){if(this.delayedDraw({})){return;}var _72=_6f;if(this.rowIndex>=0){if(this.options.fixedRow>0&&this.options.fixedRow>_6f){}else{_72-=this.rowIndex;}}_70=this.getColumnIndex(_70);this._drawRowStatus(_72,_6f);if(_71!==true){this.drawCellData(_72,_6f,_70);}var _73=this.getColumnID(_70);var _74=this.expressionAssArr[_73];if(_74!=null){var obj=this.searchExpression(_74);for(var i in obj){var _77=this.getColumnIndex(i);this.drawCellData(_72,_6f,_77);this.drawFooter(_77);this.drawHeader(_77);}}this.displayNoResultMessage();if(this.hasSubtotal){this.subtotalHidden({"startRowIndex":0});this.refreshSubtotalRow(this.rowIndex);}this.drawFooter(_73);this.drawHeader(_73);};$W._a._F.prototype.searchExpression=function(_78){var exp=_78;var ret={};var _7b=[_78];while(_7b.length>0){var exp=_7b.pop();for(var i=0;i<exp.length;i++){ret[exp[i]]=true;if(this.expressionAssArr[exp[i]]){var a=this.expressionAssArr[exp[i]];if(a.length>1){_7b.push(a);}else{var b=this.expressionAssArr[a];if(b!=undefined){_7b.push(a);}ret[a]=true;}}}}return ret;};$W._a._F.prototype.notifyRowChanged=function(_7f){if(this.delayedDraw({rowIndex:_7f})){return;}if(this.options.senseReader&&this.rowIndex<=0){this.senseReaderMode=true;this.setDataTable();this.drawData(0);this.drawFooter();this.drawHeader();this.senseReaderMode=false;this.displayNoResultMessage();return;}if(this.rowIndex==-1){this.drawDataTable(0);}else{this.lastTopRowIndex=null;var _80=(this._dataList.options.depthColumn)?this.getDrawCount()+this.rowIndex:this.getDataLength();var _7f=_7f||this.rowIndex;var _81=_7f-this.rowIndex;if(0<=_81&&_81<=this.lastIndex&&(this.rowIndex<=0||this.rowIndex+this.lastIndex<_80)){this.drawData(this.rowIndex,0);}else{if((0<=_81&&_81<=this.lastIndex)||_81<0){var _82=this.rowIndex-1;if(_82+this.lastIndex>=_80){_82=_80-this.lastIndex-1;}_82=_82>0?_82:0;this.drawData(_82,0);}}}this.displayNoResultMessage();if(this.hasSubtotal){this.refreshSubtotalRow(_7f);}this.drawFooter();this.drawHeader();};$W._a._F.prototype.notifyRowInserted=function(_83){_83=parseInt(_83,10);if(this.delayedDraw({rowIndex:_83})){return;}if(this.options.senseReader&&this.rowIndex<=0){this.senseReaderMode=true;this.setDataTable();this.drawData(0);this.drawFooter();this.drawHeader();this.senseReaderMode=false;this.displayNoResultMessage();return;}this.lastTopRowIndex=null;if(this.rowIndex==-1){if(this.drawDataTable(0)==0){this.drawData(0,0);}}else{if(this.options.visibleRowNum!==""||this.options.initFixedHeightByRowNum>0){this.setDataTable();this.drawData(0);}else{var _84=_83-this.rowIndex;var _85=this.getElementById(this.id+"_scrollY_div");if(_84<0){var _86=this.getElementById(this.id+"_scrollY_div");this.scrollEvent=false;_86.scrollTop=this.oneRowScrollHeight*_83;this.drawData(_83,0);}else{if(_85.offsetHeight>=_85.scrollHeight||_84<=this.lastIndex){if(this.isDrillDown){_84=this.rowIndex;}if(this.hasSubtotal){_84=0;}this.drawData(this.rowIndex,_84);}}}}if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();var _87=this.rowIndex+this.lastIndex;if(_87<_83){this.scrollEvent=false;var _86=this.getElementById(this.id+"_scrollY_div");_86.scrollTop=this.oneRowScrollHeight*_83;var _88=parseInt(_86.scrollTop/this.oneRowScrollHeight);this.drawData(_88);}this.displayNoResultMessage();this.drawFooter();this.drawHeader();};$W._a._F.prototype.displayNoResultMessage=function(){var _89=this.getElementById(this.id+"_noresult");if(this.options.noResultMessageVisible&&this.removed==false&&this.initFlag==false&&this.getDataLength()==0){_89.innerHTML=this.options.noResultMessage;_89.style.display="block";var _8a=this.getElementById(this.id+"_main_div");var _8b=_8a.offsetHeight;var _8c=this.getElementById(this.id+"_body_table").offsetHeight+3;var _8d=this.getElementById(this.id+"_foot_table");var _8e=0;if(_8d){_8e=_8d.offsetHeight;}var _8f=this.getElementById(this.id+"_noresult");var _90=parseInt($W._H.getStyle(_8f,"margin-top"),10)||0;var _91=parseInt($W._H.getStyle(_8f,"margin-bottom"),10)||0;var _92=_8f.offsetHeight+_90+_91;var _93=_8b-_8c-_8e;var _94=this.getElementById(this.id+"_scrollX_div").offsetHeight;if(_93<=_92){this.getElementById(this.id+"_noresult").style.top=(_8c+_90)+"px";this.setSize(_8a,(_8c+_8e+_92+_94+_90+_91));}}else{_89.style.display="none";}this.removed=false;if(!this.delayedDrawObj&&!this.removeAllFinish){this.initFlag=false;}};$W._a._F.prototype.delayedDraw=function(_95){if(this.startedDisplayNone){return true;}if(this.resizeObj.width==0||this.resizeObj.height==0){if(!this.delayedDrawObj){this.delayedDrawObj={};}this.delayedDrawObj.redraw=true;if(_95.hasOwnProperty("rowIndex")){this.delayedDrawObj.rowIndex=_95.rowIndex;}return true;}return false;};$W._a._F.prototype.delayedAction=function(){this.startedDisplayNone=false;this.setPreAction();if(this.getRowCount&&this.getRowCount()>0){this.notifyDataChanged();}if(this.options.focusOnSetData){this.setFocusedCell(0,0);}if(this.checkAdaptiveGridType()){if(this.options.adaptive!=""||Object.keys(this.hideThresholdObj).length!=0){this.oldOptions["headerColBorder"]="";this.oldOptions["bodyColBorder"]="";this.setAdaptive();this.event.addListener(window,"onresize",this.event.bindAsEventListener(this,this.setAdaptive));}}this.delayedDrawObj=null;this.initFlag=false;};$W._a._F.prototype.setRedrawStatus=function(_96){if(this.startedDisplayNone&&_96=="stop"){return;}if(_96=="stop"){if(!this.delayedDrawObj){this.delayedDrawObj={};}}else{this.setDataLayerPosition();this.scrollX_right.scrollLeft=this.resizeObj.scrollLeft;this.getElementById(this.id+"_scrollY_div").scrollTop=this.resizeObj.scrollTop;this.handlerResize_drawInitializer();this._handleScrollX();if(this.options.autoFit){this.autoFitFunc();}if(this.delayedDrawObj.redraw){this.setDataTable();this.setColIndexInfo();var _97=this.delayedDrawObj.rowIndex||0;var _98=_97;var _99=this.getDataLength();if(_99-this.drawedRowLength<_98){_98=_99-this.drawedRowLength;(_98<0)&&(_98=0);}this.drawData(_98);this.setScrollYHeight();var _9a=this.rowIndex+this.lastIndex;if(_9a<_97){this.scrollEvent=false;var _9b=this.getElementById(this.id+"_scrollY_div");_9b.scrollTop=this.oneRowScrollHeight*_97;var _9c=parseInt(_9b.scrollTop/this.oneRowScrollHeight);this.drawData(_9c);}this.drawFooter();this.drawHeader();this.displayNoResultMessage();}this.delayedDrawObj=null;this.initFlag=false;}};;WebSquare.uiplugin.mainDrawController=$W._a._F;$W._a.aR=function(_1){["WebSquare.uiplugin.drawController"];};$W._a.aR.prototype.setScrollYHeight=function(_2){["WebSquare.uiplugin.drawController.prototype.setScrollYHeight"];var _3=this.getDataLength();var _4=this.rowIndex;var _5=_2?(_2.noDraw||false):false;var _6=this.getElementById(this.id+"_size_y");var _7=this.getElementById(this.id+"_scrollY_div");var _8=_6.parentNode.offsetHeight;if(_8==0){_8=parseInt(this.getStyle("height"));}if(_4==-1||(_4==0&&_4+this.lastIndex+1==_3)){var _9=true;if(this.hasSubtotal&&this.drawedSubtotal.length>0){var _a=this.drawedSubtotal[this.drawedSubtotal.length-1];if(_a.rowIndex+1!=_3){_9=false;}}else{if(this.hasSubtotal&&this.drawedSubtotal.length==0&&this.lastSubtotalRow){_9=false;}}if(_9){if(_6.tagName.toLowerCase()=="table"){_7.innerHTML=this.getScrollY();this.dom[this.id+"_size_y"]=null;_6=this.getElementById(this.id+"_size_y");}_6.style.height="0px";this.handlerResize_drawInitializer();return;}}var _b;if(this.options.visibleRowNum!==""){if(this.options.senseReader){_b=_3-(this.lastIndex+1);}else{_b=_3-this.drawedRowLength;}if(_b<0){_b=0;}}else{if(this.lastTopRowIndex&&this.lastTopRowIndex>0){_b=Math.ceil(this.lastTopRowIndex);}else{var _c=this.getElementById(this.id+"_head_table");var _d=this.dataLayerHeight-_c.offsetHeight;var _e=parseInt(_d/this.oneRowHeight);var _f=this.drawedRowLength;if(_e+(this.isMobile?0:1)<_f){_f=_e+(this.isMobile?0:1);}if(this.options.fixHeight||this.hasSubtotal){_b=_3-_e>1?_3-_e:1;}else{if(this.options.senseReader){_b=_3-(this.lastIndex+1)>0?_3-(this.lastIndex+1):1;}else{_b=_3-_f+1>1?_3-_f+(this.isMobile?0:1):1;}}}}var _10=_7.scrollTop;var _11=_8+this.oneRowScrollHeight*_b;if(_11<=1000000&&_6.tagName.toLowerCase()!="table"){_6.style.height=_11+"px";}else{if(_11<=1000000){_7.innerHTML=this.getScrollY();this.dom[this.id+"_size_y"]=null;_6=this.getElementById(this.id+"_size_y");_6.style.height=_11+"px";}else{if(($W._N.browserCheck.ieAllVersion&&!this.isIE6or7)||$W._G.isSpartan()){var _12=[];_12.push("<table id='"+this.id+"_size_y' style='border-collapse:collapse; border-spacing:0px;height:0px; position:absolute; top:0px; left:0px; width:18px'><tbody>");while(_11>1000000){_12.push("<tr style='height:1000000px'><td></td></tr>");_11-=1000000;}_12.push("<tr style='height:"+_11+"px'><td></td></tr></tbody></table>");_7.innerHTML=_12.join("");this.dom[this.id+"_size_y"]=null;_6=this.getElementById(this.id+"_size_y");}else{if(_6.tagName.toLowerCase()=="table"){_7.innerHTML=this.getScrollY();this.dom[this.id+"_size_y"]=null;_6=this.getElementById(this.id+"_size_y");}if($W._N.browserCheck.moz){_6.style.height=(_11+1)+"px";}else{_6.style.height=_11+"px";}}}}if(Math.floor(_10/this.oneRowScrollHeight)!=_4){if(this.lastTopRowIndex&&this.lastTopRowIndex==_4){_4=this.lastTopRowIndex+1;}if(_5&&_7.scrollTop!=this.oneRowScrollHeight*_4){this.scrollEvent=false;}_7.scrollTop=this.oneRowScrollHeight*_4;this.bScrollTop=parseInt(_7.scrollTop/this.oneRowScrollHeight);}var _8=_7.offsetHeight;var _13=parseInt(_6.style.height,10)-_8;if(_13>0&&_13==_7.scrollTop){var _14=this.getDataLength();var _9=false;if(this.hasSubtotal){if(this.drawedSubtotal.length>0){var _15=this.drawedSubtotal[this.drawedSubtotal.length-1];if(_15.rowIndex==_14-1){lastTr=_15[_15.length-1];if(lastTr.style.display!="none"){_9=true;}}}}else{_9=true;}if(this.rowIndex+this.lastIndex+1!=_14||!_9){_6.style.height=(parseInt(_6.style.height,10)+this.oneRowScrollHeight)+"px";}}this.lastScrollYTop=_7.scrollTop;this.handlerResize_drawInitializer();};$W._a.aR.prototype.addGridScroll=function(gap){["WebSquare.uiplugin.drawController.prototype.addGridScroll"];var _17=this.rowIndex+gap;_17=(_17<0)?0:_17;_17=(_17>=this.getDataLength()-this.lastIndex)?this.getDataLength()-this.lastIndex:_17;this.scrollEvent=false;this.checkScrollEnd=true;this.drawData(_17,0);};$W._a.aR.prototype.handleScrollY=function(e){["WebSquare.uiplugin.drawController.handleScrollY"];var _19=this.getElementById(this.id+"_scrollY_div").scrollTop;if(_19==this.bScrollY){return;}else{this.bScrollY=_19;}var _1a=parseInt(Math.ceil(_19)/this.oneRowScrollHeight);if(this.scrollEvent){if(this.editedCell!=null){this.editedCell.handleScrollY(e);}if(this.bScrollTop!=_1a){if(this.hasClass(document.activeElement,this.options.bodyTdClass)&&document.activeElement.blur){document.activeElement.blur();}this.drawData(_1a,null,"async");}this.bScrollTop=_1a;}if((this.scrollEvent||this.checkScrollEnd)&&this.options.loadCount>0&&this.loadFlag){var _1b=this.getDataLength();var _1c=_1a+this.lastIndex;if(_1b-this.options.loadCount-1<=_1c&&this.loadCheck[_1b]==null){if(!this.skipScrollEndEvent){this.loadCheck[_1b]=true;this.scrollEvent=true;this.loadFlag=false;$W._c.fireEvent(this,"onscrollend");$W._c.stopEvent(e);}}}else{if((this.scrollEvent||this.checkScrollEnd)&&this.options.loadCount==0&&this.getDataLength()!=0&&this.getDataLength()==_1a+this.lastIndex+1){$W._c.fireEvent(this,"onscrollend");$W._c.stopEvent(e);}}this.skipScrollEndEvent=false;this.scrollEvent=true;this.checkScrollEnd=false;$W._c.fireEvent(this,"onscrolly",e);};$W._a.aR.prototype.drawDataTable=function(_1d){["WebSquare.uiplugin.drawController.prototype.drawDataTable"];try{if(_1d==null){_1d=this.rowIndex;}if(_1d==-1){_1d=0;}var _1e=this.drawedRowLength;this.setDataTable();this.headerTds=null;this.footerTds=null;if(this.drawedRowLength!=_1e){this.setColIndexInfo();this.drawData(_1d,0);}return this.drawedRowLength-_1e;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype.drawData=function(_1f,_20,_21,_22){["WebSquare.uiplugin.drawController.prototype.drawData"];try{if(typeof (CollectGarbage)=="function"){var _23=$W._N.getConfiguration("/WebSquare/"+this.options.pluginName+"/collectGarbage/@value");if(_23!="none"&&_23!="false"&&_23!="scroll"){CollectGarbage();}}var _21=_21||"sync";var _24=(_21=="async")&&(this.options.fastScroll=="true");var _25=true;if(this.options.senseReader){_25=false;}this.changeFocusedCellPosition(_1f,_25);this.rowIndex=_1f;if(this.editedCell!=null){this.editedCell.handleEndEdit(null,_22);}this.subtotalHidden(_20?{startRowIndex:_20+this.rowIndex}:null);if((this.rowIndex==-1||_21=="sync"||this.options.visibleRowNum==="all")&&!this.startedDisplayNone){var _26=this.completiveDrawData(_20,true);this.adjustDraw(_26);this._setGridBorder();this._setCheckboxHead();}else{$W._N.clearTimer(this.id+"_drawData");$W._N.clearTimer(this.id+"_completiveDrawData");$W._N.clearTimer(this.id+"_adjustDraw");var _20=this.fastDrawData(_20,_24);$W._N.setTimer(function(_27){$W._N.setTimer(this.completiveDrawData,{key:this.id+"_completiveDrawData",caller:this,delay:120,args:[_27],callback:function(_28){$W._N.setTimer(function(){if(!this.startedDisplayNone){this.adjustDraw(_28);this._setGridBorder();this._setCheckboxHead();}},{key:this.id+"_adjustDraw",caller:this});}});},{key:this.id+"_drawData",caller:this,delay:1,args:[_20]});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype.fastDrawData=function(_29,_2a){["WebSquare.uiplugin.drawController.prototype.fastDrawData"];try{if(this.options.measureTime){$W._N.measureTime(function(_2b){var _2c=_2b.aver;var fps=parseInt(1000/_2c*10,10)/10;$W.logger.printLog("Id : "+this.id+", time : "+_2c+"ms   ,fps : "+fps);},{key:this.id+"_measureDrawTime",caller:this});}var _2e=this.rowIndex;var _2f=this.getDataLength();var _29=_29||0;if(_2f>0){if(_29==0&&_2e!=this.lastTopRowIndex&&this.options.visibleRowNum===""){this.drawSubtotalRow(0,_2e-1);}var _30=new Date();for(var i=_29;i<this.drawedRowLength&&(i+_2e)<_2f;i++){if(_2a&&new Date()-_30>this.options.drawLimitTime&&i>=this.options.drawLimitRow){this.hideNochangeDataLayer(i);return i;}if(this.options.fixedRow>0&&this.options.fixedRow>i){this.fastDrawRowData(i,i);}else{this.fastDrawRowData(i,i+_2e);}if(this.options.backgroundColorMode.toLowerCase()=="always"){if(typeof this.dataList.getRealRowIndex()!="object"){if(this.options.fixedRow>0&&this.options.fixedRow>i){this.applyRowStyleOptions(i);}else{this.applyRowStyleOptions(_2e+i);}}}if(this.lastDisplayedRow<i){this._setRowDisplay(i,"");this.lastDisplayedRow=i;}}}if(this.hideDataLayer){this.hideDataLayer.style.display="none";}if(this.lastTopRowIndex!==null&&_2e>=this.lastTopRowIndex){for(var j=i;j<=this.lastDisplayedRow;j++){this._setRowDisplay(j,"none");}this.lastDisplayedRow=i-1;}return i;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype.completiveDrawData=function(_33,_34){["WebSquare.uiplugin.drawController.prototype.completiveDrawData"];try{var _35=this.getDataLength();var _33=_33||0;var _36=this.rowIndex;var _37=_33-1;var _38=this.dataLayerHeight;if(_35>0){if(_33==0&&_36!=this.lastTopRowIndex&&this.options.visibleRowNum===""){this.drawSubtotalRow(0,_36-1);}for(var i=_33;i<this.drawedRowLength&&(i+_36)<_35;i++){if(this.options.fixedRow>0&&this.options.fixedRow>i){this.fastDrawRowData(i,i);}else{this.fastDrawRowData(i,_36+i);}_37=i;}for(var i=_37+1;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}for(var i=this.lastDisplayedRow+1;i<=_37;i++){this._setRowDisplay(i,"");}if(_34){for(var i=_33;i<=_37;i++){if(this.groupbyStatus.grouped){if(typeof this.dataList.getRealRowIndex(_36+i)=="object"){continue;}}if(this.options.fixedRow>0&&this.options.fixedRow>i){this.applyRowStyleOptions(i);}else{this.applyRowStyleOptions(_36+i);}}if(this.options.autoResizeEmbeddedInput&&this.firstEmbeddedInputResize){this.setAutoResizeEmbeddedInput();this.firstEmbeddedInputResize=false;}}this.lastDisplayedRow=_37;if(this.options.visibleRowNum===""&&this.options.initFixedHeightByRowNum==-1){_37=this.cutGridBottom(_37);}for(var i=0;i<=_37;i++){if(this.options.fixedRow>0&&this.options.fixedRow>i){this.setEvenOddBackground(i,i);}else{this.setEvenOddBackground(i,_36+i);}}if(_37+1<this.drawedRowLength){this._setRowDisplay(_37+1,"");this.setEvenOddBackground(_37+1,_36+_37+1);this.applyRowStyleOptions(_36+_37+1);this._setRowDisplay(_37+1,"none");}}else{var _3a=this.options.showLastRow?1:0;for(var i=0;i<=this.lastDisplayedRow+_3a;i++){this._setRowDisplay(i,"none");}_37=this.lastDisplayedRow=-1;}if(this.hideDataLayer){this.hideDataLayer.style.display="none";}if(this.focusedCell.length>0&&!this.editedCell){var _3b=this.focusedCell[this.focusedCell.length-1].focusedRowIndex-this.rowIndex;var _3c=this.focusedCell[this.focusedCell.length-1].focusedColIndex;if(0<=_3b&&_3b<=_37){var td=this.data_td_list[_3c+_3b*this.oneRowDataLength];this.applyFocusedCellIn(td);}}if(this.options.adaptive=="crosstab"&&this.hasClass("w2grid_adaptive_crosstab")){if(this.hasSubtotal){this.setAdaptiveGridSubtotalHeight();}for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){this.setAdaptiveColumnVisible(i,false);}}}return _37;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype.adjustDraw=function(_3e){["WebSquare.uiplugin.drawController.prototype.adjustDraw"];try{var _3f=this.getDataLength();var _40=this.rowIndex;var _41=this.dataLayerHeight;var _42=this.scrollEvent;if(this.options.lazyDrawHiddenColumn){this.initVisibilityArr=this.colIndexInfo.body.visibilityArr.slice(0);this.hideInvisibleTds();}else{this.rollbackCommitFlag=false;for(var i=0;i<=this.lastDisplayedRow;i++){if(this.groupbyStatus.grouped){if(typeof this.dataList.getRealRowIndex(i+_40)=="object"){continue;}}this.lazyDrawRowData(i,i+_40);}this.rollbackCommitFlag=true;}if(this.options.visibleRowNum!==""){this.setDataTable();this.setScrollYHeight({noDraw:true});var _44=this.options.visibleRowNum=="all"?_3f:_44=parseInt(this.options.visibleRowNum,10);for(var i=_3e+1;i+_40<_3f&&i<_44;i++){this.drawRowData(i,i+_40);_3e=i+_40;}for(var i=this.lastDisplayedRow+1;i<=_3e;i++){this._setRowDisplay(i,"");}this.applyStyleOptions(_3e);for(var i=_3e+1;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}this.lastDisplayedRow=_3e;var _45=this.getElementById(this.id+"_scrollX_div");var _46=parseInt(_45.style.height,10);var _47=this.getElementById(this.id+"_body_table");var _48=0;if(this.hasFooter){_48=this.getElementById(this.id+"_foot_table").offsetHeight;_48=(_48==0)?this.footerHeight:_48;}var _49=_47.offsetHeight;if($W._G.isIE(9)){_49=_47.getBoundingClientRect().height;}this.lastIndex=_3e;if(this.options.senseReader){var _4a=_3f;if(this.options.visibleRowNum!="all"&&parseInt(this.options.visibleRowNum,10)<_3f){_4a=parseInt(this.options.visibleRowNum,10);if(_4a==0){_49=this.defaultDataLayerHeight;}else{var tr=this.dataRowList[this.oneRowLength*_4a-1];_49=tr.offsetTop+tr.offsetHeight+this.gridLastTrBottomFix;if(_49>=this.dataLayerHeight-_46-_48){for(var i=0;i<tr.childNodes.length;i++){var _4c=tr.childNodes[i];if(_4c.tagName.toLowerCase()=="td"){_4c.style.borderBottomWidth="1px";}}}var _4d=this.rowIndex+(this.oneRowLength*_4a-1);if(this.hasSubtotal&&_4d+1>=_3f&&this.drawedSubtotal.length>0){var _4e=this.drawedSubtotal[this.drawedSubtotal.length-1][0];_49=_4e.offsetTop+_4e.offsetHeight+this.gridLastTrBottomFix;}}}this.lastIndex=_4a-1;}if(_49<this.defaultDataLayerHeight){_49=this.defaultDataLayerHeight;}this.setSize(null,_49+_46+_48);if(this.options.autoFit){this._setAutoFit();}this.resizeObj={width:this.render.offsetWidth,height:this.render.offsetHeight,clientWidth:this.render.clientWidth};this.dataLayerHeight=_47.parentNode.offsetHeight;this.setScrollYHeight({noDraw:true});}else{if(this.options.initFixedHeightByRowNum>-1){if(!this.initHeightCompleted){this.setDataTable();this.setScrollYHeight({noDraw:true});var _44=this.options.initFixedHeightByRowNum;for(var i=_3e+1;i+_40<_3f&&i<_44;i++){this.drawRowData(i,i+_40);_3e=i+_40;}for(var i=this.lastDisplayedRow+1;i<=_3e;i++){this._setRowDisplay(i,"");}this.applyStyleOptions(_3e);for(var i=_3e+1;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}this.lastDisplayedRow=_3e;var _45=this.getElementById(this.id+"_scrollX_div");var _46=parseInt(_45.style.height,10);var _47=this.getElementById(this.id+"_body_table");var _48=0;if(this.hasFooter){_48=this.getElementById(this.id+"_foot_table").offsetHeight;_48=(_48==0)?this.footerHeight:_48;}var _49=_47.offsetHeight;if($W._G.isIE(9)){_49=_47.getBoundingClientRect().height;}this.lastIndex=_3e;if(this.options.senseReader){var _4a=_3f;if(this.options.initFixedHeightByRowNum!="all"&&parseInt(this.options.initFixedHeightByRowNum,10)<_3f){_4a=parseInt(this.options.initFixedHeightByRowNum,10);if(_4a==0){_49=this.defaultDataLayerHeight;}else{var tr=this.dataRowList[this.oneRowLength*_4a-1];_49=tr.offsetTop+tr.offsetHeight+this.gridLastTrBottomFix;}}this.lastIndex=_4a-1;}if(_49<this.defaultDataLayerHeight){_49=this.defaultDataLayerHeight;}var _4f=0;var _50=0;var _51=0;var _52=this.dom[this.id+"_body_tbody"].childNodes;for(var i=0;i<_52.length;i++){var row=_52[i];if(row.style.display!="none"){_4f=i;_50++;if(row.className.match("grid_body_row")&&row.getAttribute("trindex")==="0"){_51++;}if(_50==_44){break;}}}if(_50<_44){this.setSize(null,_49+_46+_48);this.lastIndex=_51-1;}else{var _54=_52[_4f];_49=_54.offsetTop+_54.offsetHeight+this.gridLastTrBottomFix+_46+_48;this.setSize(null,_49);this.initHeightCompleted=true;this.lastIndex=_51-1;}if(this.options.autoFit){this._setAutoFit();}this.resizeObj={width:this.render.offsetWidth,height:this.render.offsetHeight,clientWidth:this.render.clientWidth};this.dataLayerHeight=_47.parentNode.offsetHeight;}else{var _45=this.getElementById(this.id+"_scrollX_div");var _47=this.getElementById(this.id+"_body_table");var _46=parseInt(_45.style.height,10);var _48=0;if(this.hasFooter){_48=this.getElementById(this.id+"_foot_table").offsetHeight;_48=(_48==0)?this.footerHeight:_48;}var _49=_47.offsetHeight;if($W._G.isIE(9)){_49=_47.getBoundingClientRect().height;}if(this.options.senseReader){var _4a=_3f;if(this.options.initFixedHeightByRowNum!="all"&&parseInt(this.options.initFixedHeightByRowNum,10)<_3f){_4a=parseInt(this.options.initFixedHeightByRowNum,10);if(_4a==0){_49=this.defaultDataLayerHeight;}else{var tr=this.dataRowList[this.oneRowLength*_4a-1];_49=tr.offsetTop+tr.offsetHeight+this.gridLastTrBottomFix;}}}if(_49<this.defaultDataLayerHeight){_49=this.defaultDataLayerHeight;}var _4f=0;var _50=0;var _51=0;var _52=this.dom[this.id+"_body_tbody"].childNodes;for(var i=0;i<_52.length;i++){var row=_52[i];if(row.style.display!="none"){_4f=i;_50++;if(row.className.match("grid_body_row")&&row.getAttribute("trindex")==="0"){_51++;}if(_50==this.options.initFixedHeightByRowNum){break;}}}if(_50<this.options.initFixedHeightByRowNum){this.setSize(null,_49+_46+_48);}else{var _54=_52[_4f];_49=_54.offsetTop+_54.offsetHeight+this.gridLastTrBottomFix+_46+_48;this.setSize(null,_49);}_3e=_51-1;}}var _55=this.getElementById(this.id+"_size_y").parentNode.offsetHeight;var _56=parseInt(this.getElementById(this.id+"_size_y").style.height,10)-_55;var _57=this.getElementById(this.id+"_scrollY_div").scrollTop;var _58=_3f-(_40+_3e+1);var _59=false;if(this.hasSubtotal){if(this.drawedSubtotal.length>0){var _5a=this.drawedSubtotal[this.drawedSubtotal.length-1];if(_5a.rowIndex==_3f-1){var _5b=_5a[_5a.length-1];if(_5b.style.display!="none"){_59=true;}}}}else{_59=true;}if(this.adjustDraw_keepTop&&_56>0&&_56<=_57&&!_59){var _5c=this.getElementById(this.id+"_size_y");_5c.style.height=parseInt(_5c.style.height,10)+this.oneRowScrollHeight+"px";_56=_57-this.oneRowScrollHeight;}if(!this.lastTopRowIndex&&_56>0&&_56<=_57){if(_58>=0||!_59){if(_3e+_58<this.drawedRowLength){this.drawSubtotalRow(_3e+1,_40+_3e);for(var i=_3e+1;i<=_3e+_58;i++){this.drawRowData(i,i+_40);}if(_58==0&&!_59){this.drawRowData(_3e+_58,_3e+_58+_40);}for(var i=this.lastDisplayedRow+1;i<=_3e+_58;i++){this._setRowDisplay(i,"");}this.lastDisplayedRow=_3e+_58;var _5b=this.dataRowList[(_3e+_58+1)*this.oneRowLength-1];if(this.hasSubtotal&&this.drawedSubtotal.length>0){var _5d=this.drawedSubtotal[this.drawedSubtotal.length-1];_5b=_5d[_5d.length-1];}var _5e=0;var _5f=_40;if(this.hasSubtotal&&this.drawedSubtotal.length>0&&this.drawedSubtotal[0].rowIndex!=_40){_5f=_40-0.5;}var _60=_5b.offsetTop+_5b.offsetHeight;while(_60>_41&&_5e<_3e+_58){this.subtotalHidden({rowIndex:_40+_5e-1});_60=_5b.offsetTop+_5b.offsetHeight;if(_60<=_41){_5f=_40+_5e;break;}this._setRowDisplay(_5e,"none");_60=_5b.offsetTop+_5b.offsetHeight;_5f=_40+_5e+0.5;_5e++;}if(this.hasSubtotal&&this.drawedSubtotal.length>0&&_5f+0.5==this.drawedSubtotal[0].rowIndex){_5f+=0.5;}if(_40!=Math.ceil(_5f)){_40=Math.ceil(_5f);this.bScrollTop=_40;var _61=_40-this.rowIndex;var _62=_3e+_58;_3e=_62-_61;this.rowIndex=_40;this.lastTopRowIndex=_5f;this.subtotalHidden();if(_40!=this.lastTopRowIndex&&this.options.visibleRowNum===""){this.drawSubtotalRow(0,_40-1);}for(var i=0;i<=_3e;i++){if(this.options.fixedRow>0&&i<=this.options.fixedRow-1){this.drawRowData(i,i);}else{this.drawRowData(i,i+_40);}}for(var i=0;i<=_5e;i++){this._setRowDisplay(i,"");}for(var i=_3e+1;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}this.changeFocusedCellPosition(_40);this.lastDisplayedRow=_3e;if(this.scrollEvent){this.checkScrollEnd=true;}}}}if(!this.lastTopRowIndex){this.lastTopRowIndex=this.rowIndex;if(this.hasSubtotal&&this.drawedSubtotal.length>0&&this.drawedSubtotal[0].rowIndex==this.rowIndex-1){this.lastTopRowIndex-=0.5;}}}this.applyStyleOptions(_3e);if(this.options.initFixedHeightByRowNum!=-1){var tr=this.dataRowList[_51-1];for(var i=0;i<tr.childNodes.length;i++){var _4c=tr.childNodes[i];if(_4c.tagName.toLowerCase()=="td"){_4c.style.borderBottomWidth="1px";}}}_3e=this.cutGridBottom(_3e);this.lastIndex=_3e;if(this.adjustDraw_keepTop){this.adjustDraw_keepTop=null;}else{this.setScrollYHeight();}}this.maxRowLength=_3e;if(this.isIE6or7){this._setRowDisplay(_3e+1,"");if(this.dataRowList[(_3e+1)*this.oneRowLength]){this.dataRowList[(_3e+1)*this.oneRowLength].offsetHeight;}this._setRowDisplay(_3e+1,"none");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype.drawBottomData=function(_63){if(this.rowIndex<0||this.rowIndex==0&&_63<=this.lastIndex||this.rowIndex>=0&&this.rowIndex+this.lastIndex==_63||isNaN(Number(_63))){return;}var _64=this.getDataLength();(_63>=_64)&&(_63=_64-1);this.subtotalHidden();for(var i=0;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}var _66=_63+1-this.drawedRowLength;(_66<0)&&(_66=0);var _67=((_64<this.drawedRowLength)?_64:this.drawedRowLength)-1;for(var i=0;i<=_67;i++){this.drawRowData(i,i+_66);this._setRowDisplay(i,"");}var _68=_63-_66;var _69=this.dataRowList[(_63-_66+1)*this.oneRowLength-1];if(this.hasSubtotal&&this.drawedSubtotal.length>0){for(var i=0;i<this.drawedSubtotal.length;i++){var _6a=this.drawedSubtotal[i];if(_6a.rowIndex==_63){_69=_6a[_6a.length-1];break;}}}var _6b=_69.offsetTop+_69.offsetHeight;var _6c=this.dataLayerHeight;if(_6b<=_6c){this.rowIndex=_66;this.lastIndex=this.cutGridBottom(_67);for(var i=this.rowIndex;i<=this.rowIndex+this.lastIndex;i++){this.applyRowStyleOptions(i);}this.setScrollYHeight({noDraw:true});return;}else{this.subtotalHidden({startRowIndex:_63+1});for(var i=_68+1;i<=_67;i++){this._setRowDisplay(i,"none");}}var _6d=_66-(this.hasSubtotal?0.5:0);var _6e=0;var _6f=0;if(this.hasSubtotal){for(var _70 in this.subtotalTableList){_6f+=this.subtotalTableList[_70].rows.length;}}while(_6d<_64){if(this.hasSubtotal){for(var i=0;i<this.drawedSubtotal.length;i++){if(this.drawedSubtotal[i].rowIndex==_6d-0.5){for(var j=0;j<this.drawedSubtotal[i].length;j++){_6b-=this.drawedSubtotal[i][j].offsetHeight;}}}_6d+=0.5;if(_6b<=_6c){this.subtotalHidden({endRowIndex:_6d-1});break;}_6e+=_6f;}for(var i=0;i<this.oneRowLength;i++){_6b-=this.dataRowList[this.oneRowLength*(_6d-_66)+i].offsetHeight;}_6e+=this.oneRowLength;_6d+=(this.hasSubtotal?0.5:1);if(_6b<=_6c){if(this.hasSubtotal){_6d+=0.5;for(var i=0;i<this.drawedSubtotal.length;i++){if(this.drawedSubtotal[i].rowIndex==_6d-1){_6d-=0.5;break;}}}break;}}var _72=[];var _73=this.getElementById(this.id+"_body_tbody");for(var i=0;i<_6e;i++){var tr=_73.removeChild(_73.rows[0]);tr.style.cssText="display:none";_72.push(tr);}for(var i=_6f;i<_72.length;i++){_73.appendChild(_72[i]);}for(var i=0;i<_6f;i++){_73.appendChild(_72[i]);}this.dataRowList=[];this.all_data_td_list=[];this.data_num_td_list=[];this.data_status_td_list=[];this.data_td_list=[];for(var _70 in this.subtotalRowHash){this.subtotalRowHash[_70]=[];}var _75=0;for(var i=0;i<_6f;i++){var row=_73.rows[_75++];var _70=row.getAttribute("targetcolumnid");this.subtotalRowHash[_70].push(row);}for(var i=0;i<this.drawedRowLength;i++){var _77=[];for(var j=0;j<this.oneRowLength;j++){_77.push(_73.rows[_75++]);}this.addBodyRow2(i,_77);for(var j=0;j<_6f;j++){var row=_73.rows[_75++];var _70=row.getAttribute("targetcolumnid");this.subtotalRowHash[_70].push(row);}}if(this.hideDataLayer){this.hideDataLayer.style.display="none";}this.rowIndex=parseInt(_6d+0.5,10);this.lastIndex=_67=_63-this.rowIndex;if(_63>=_64-1){this.lastTopRowIndex=_6d;}for(var i=0;i<=_67;i++){this.setEvenOddBackground(i,this.rowIndex+i);}for(var i=_63;i>=_6d;i--){this.applyRowStyleOptions(i);}if(_67+1<this.drawedRowLength){this._setRowDisplay(_67+1,"");this.setEvenOddBackground(_67+1,this.rowIndex+_67);this.rowIndex--;this.applyRowStyleOptions(this.rowIndex+_67+1);this.rowIndex++;this._setRowDisplay(_67+1,"none");}this.setScrollYHeight({noDraw:true});if(this.options.lazyDrawHiddenColumn){this.hideInvisibleTds();}};$W._a.aR.prototype.cutGridBottom=function(_78){try{var _79=this.rowIndex;var _7a=this.dataLayerHeight;if(_78<0){this.lastDisplayedRow=-1;return -1;}var _7b=this.getElementById(this.id+"_head_table");var _7c=this.getElementById(this.id+"_body_tbody");var _7d=$W._H.getStyle(_7b,"border-top-width");if(_7d=="thin"){if($W._G.isIE(6)||$W._G.isIE(7)){_7d=2;}else{_7d=1;}}else{if(_7d=="medium"){if($W._G.isIE(6)||$W._G.isIE(7)){_7d=4;}else{_7d=3;}}else{if(_7d=="thick"){if($W._G.isIE(6)||$W._G.isIE(7)||$W._G.isOpera()){_7d=6;}else{_7d=5;}}else{_7d=parseInt(_7d,10);}}}var _7e=parseInt(_7d/2,10)-_7b.offsetTop;if(_7c.getBoundingClientRect){var _7f=_7c.getBoundingClientRect();var _80=_7f.bottom-_7f.top;_7e+=_80-parseInt(_80,10)>0?1:0;}while(true){if(this.hasSubtotal&&this.drawedSubtotal.length>0){for(var i=this.drawedSubtotal.length-1;i>=0;i--){var _82=this.drawedSubtotal[i];if(_82.rowIndex==_79+_78){var _83=_82[_82.length-1];if(_7a<_83.offsetTop+_83.offsetHeight){this.subtotalHidden({index:i});}else{break;}}else{break;}}}var _84=this.dataRowList[(_78+1)*this.oneRowLength-1];if(_78>0&&_84.offsetTop+_84.offsetHeight+_7e>_7a){_78--;}else{break;}}if(!this.senseReaderMode){for(var i=_78+1;i<=this.drawedRowLength;i++){this._setRowDisplay(i,"none");}if(this.options.showLastRow){var _85=this.getDataLength();if(this.rowIndex+_78+1<_85){this._setRowDisplay(_78+1,"");}}this.lastDisplayedRow=_78;}else{if(this.options.showLastRow){var _85=this.getDataLength();if(this.rowIndex+_78+1<_85){this._setRowDisplay(_78+1,"");}}}return _78;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype.getLastIndex=function(_86){try{var _87=this.rowIndex;var _88=this.dataLayerHeight;if(_86<0){this.lastDisplayedRow=-1;return -1;}while(true){var _89=this.dataRowList[(_86+1)*this.oneRowLength-1];if(_86>0&&_89.offsetTop+_89.offsetHeight>_88){_86--;}else{break;}}return _86;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype.lazyDrawRowData=function(_8a,_8b){["WebSquare.uiplugin.drawController.prototype.lazyDrawRowData"];try{for(var i=0;i<this.colIndexInfo.body.invisibleTds.length;i++){var _8d=this.colIndexInfo.body.invisibleTds[i]-this.defaultColCnt;if(_8d>=0){this.drawCellData(_8a,_8b,_8d,true);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype.fastDrawRowData=function(_8e,_8f){["WebSquare.uiplugin.drawController.prototype.fastDrawRowData"];try{var _90=this.dataList.getRealRowIndex(this.rowIndex+_8e);var td=this.all_data_td_list[_8e*this.realRowDataLength];if(typeof _90=="number"){if(this.groupbyStatus.grouped||this.clearGrouping){if(this.defaultColCnt>0){var _92=td;var _93=true;for(var i=0;i<this.defaultColCnt;i++){var _95=this.colIndexes.bodyColInfo.colSpanArr[i]||1;_92.setAttribute("colSpan",_95);_92.style.display="";_92.innerText="";_92.textContent="";if(_92.className.match("w2grid_groupby")){_92.className=td.className.split(" ").splice(0,1);if(this.options.rowNumVisible&&_93){_92.className+=" gridBodyDefault_rowNumber";_93=false;}else{_92.className+=" gridBodyDefault_rowStatus";}}_92=_92.nextSibling;}}}this._drawRowNumData(_8e,_8f);this._drawRowStatus(_8e,_8f);var _96=this.colIndexInfo.body.visibleTds;var len=_96.length;for(var i=0;i<len;i++){var _98=_96[i]-this.defaultColCnt;var _99=parseInt(_98/this.columnOrder.length);var _9a=_98%this.columnOrder.length;var _9b=this.columnOrder[_9a]+(_99*this.columnOrder.length);if(_9b>=0){this.drawCellData(_8e,_8f,_9b);}}this.drawSubtotalRow(_8e+1,_8f);}else{if(typeof _90=="object"){this.drawGroupData(td,_90,_8e);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype.drawRowData=function(_9c,_9d){["WebSquare.uiplugin.drawController.prototype.drawRowData"];try{var _9e=this.dataList.getRealRowIndex(this.rowIndex+_9c);if(_9e==undefined){return;}var td=this.all_data_td_list[_9c*this.realRowDataLength];if(typeof _9e=="number"){this._drawRowNumData(_9c,_9d);this._drawRowStatus(_9c,_9d);for(var i=0;i<this.oneRowDataLength;i++){this.drawCellData(_9c,_9d,i);}this.drawSubtotalRow(_9c+1,_9d);}else{this.drawGroupData(td,_9e,_9c);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype.hideNochangeDataLayer=function(_a1){if(this.hideDataLayer==null){this.hideDataLayer=document.createElement("div");this.hideDataLayer.className="w2grid_fastScroll_layer";var _a2=document.createElement("div");_a2.innerHTML=this.options.scrollMsg;_a2.className="w2grid_fastScroll_msg";this.hideDataLayer.appendChild(_a2);var _a3=this.getElementById(this.id+"_dataLayer");_a3.appendChild(this.hideDataLayer);}var _a4=this.all_data_td_list[(_a1-1)*this.realRowDataLength];var _a5=_a4.offsetHeight;if(_a5!=0){this.hideDataLayer.style.display="block";this.hideDataLayer.style.top=(_a4.offsetTop+_a5+1)+"px";}else{this.hideDataLayer.style.display="none";}};$W._a.aR.prototype.setEvenOddBackground=function(_a6,_a7){if(this.options.oddEvenColorDisplay){var td=this.data_td_list[_a6*this.oneRowDataLength];var tr=null;if(td){tr=td.parentNode;do{if(_a7%2==1){tr.style.backgroundColor=this.options.evenRowBackgroundColor;}else{tr.style.backgroundColor=this.options.oddRowBackgroundColor;}tr=$W._G.next(tr);}while(tr!=null&&tr.getAttribute("trIndex")!="0");}}};$W._a.aR.prototype._drawRowNumData=function(_aa,_ab){["WebSquare.uiplugin.drawController.prototype._drawRowNumData"];if(this.options.rowNumVisible){var _ac=this.data_num_td_list[_aa];if(this.rowNumArr){if(typeof this.rowNumArr[_ab]=="number"){_ac.innerHTML=1+this.rowNumArr[_ab];}}else{if(_ac){_ac.innerHTML=1+_ab+this.startRowNumber;}}}};$W._a.aR.prototype._drawRowStatus=function(_ad,_ae){["WebSquare.uiplugin.drawController.prototype._drawRowStatus"];if(this.options.rowStatusVisible){var _af=this.data_status_td_list[_ad];if(_af){var _b0=this._linkedDataList||this._dataList;if(_b0.initializeType=="linkedDataList"){var _b1=_b0.getRowStatusValue(_ae);}else{var _b2=(this._dataList.options.depthColumn)?this.getRealRowIndex(_ae):_ae;var _b1=_b0.getRowStatusValue(_b2);}var _b3="";switch(_b1){case 0:_b3="R";break;case 1:_b3="U";break;case 2:_b3="C";break;case 3:_b3="D";break;case 4:_b3="V";break;}if(typeof _af.imageName=="undefined"){_af.imageName="";}if(_af.imageName!=_b3){switch(_af.imageName){case "":case "R":break;case "C":this.removeClass(_af,"w2grid_rowStatus_C");break;case "U":this.removeClass(_af,"w2grid_rowStatus_U");break;case "D":this.removeClass(_af,"w2grid_rowStatus_D");break;case "V":this.removeClass(_af,"w2grid_rowStatus_V");break;}if(_b3!="R"&&_b3!=""){this.addClass(_af,"w2grid_rowStatus_"+_b3);}_af.imageName=_b3;}}}};$W._a.aR.prototype.drawCellData=function(_b4,_b5,_b6,_b7){["WebSquare.uiplugin.drawController.prototype.drawCellData"];try{if(!_b7&&this.editedCell!=null&&this.editedCell.options.colIndex+""==_b6+""){this.editedCell.handleCancelEdit();}var td=this.data_td_list[_b6+_b4*this.oneRowDataLength];if(td){var _b9=this.cellInfoHash[this.tdIdList[_b6]];if(this.groupbyStatus.grouped||this.clearGrouping){var _ba=this.colIndexes.bodyColInfo.colSpanArr[_b6+this.defaultColCnt]||1;td.setAttribute("colSpan",_ba);td.style.display="";td.style.textAlign=_b9.options.textAlign;}var _bb=_b9.options.embeddedInput;if(!_bb&&this.groupbyStatus.grouped){td.innerText="";td.textContent="";}if((this.groupbyStatus.grouped||this.clearGrouping)&&this.hasClass(td,"w2grid_groupby")){td.className="gridBodyDefault";}var _bc=this.aria_labelledby[_b6];if(_bc){var row=_b4+_b5+1;td.setAttribute("aria-labelledby",_bc+" r"+row);}if(this.isColMerge&&_b9.options.colMerge){this.setColMergeCellData(_b4,_b5,_b6);}else{this.setInnerHTML(td,_b5,_b6);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype.setColMergeCellData=function(_be,_bf,_c0){["WebSquare.uiplugin.drawController.prototype.setColMergeCellData"];var td=this.data_td_list[_c0+_be*this.oneRowDataLength];var _c2=this.getHasSubtotalCount(_bf);if(_be==0){if(_c2!=0){td.style.borderBottomWidth="1px";}this.setInnerHTML(td,_bf,_c0);return;}var _c3=_bf-1;var _c4=this.getColumnID(_c0);var _c5=this.dataList.getCellData(_bf-1,_c4);var _c6=this.data_td_list[_c0+(_be-1)*this.oneRowDataLength];var _c7=this.upperGroupingTest(_bf,_c0);var _c8=this.dataList.getCellData(_bf,_c4);if(_c5==_c8&&_c7){_c6.style.borderBottomWidth="0px";td.style.borderTopWidth="0px";td.style.borderBottomWidth="0px";td.innerHTML="";if(this.options.senseReader){if(_c2!=0||_be==this.lastDisplayedRow||_be==this.lastIndex){td.style.borderBottomWidth="1px";}if(_be-1==this.lastDisplayedRow||_be-1==this.lastIndex){_c6.style.borderBottomWidth="1px";}}if(_c2!=0){td.style.borderBottomWidth="1px";}}else{var _c9=td.style.borderTopWidth;var _ca=this.getCellInfo(_c0);if(_ca.options.colMergeEdit&&_c9=="0px"){_c9="1px";}td.style.borderTopWidth="0px";this.setInnerHTML(td,_bf,_c0);td.style.borderTopWidth=_c9;}return;};$W._a.aR.prototype.drawColMergeCellData=function(_cb,_cc,_cd,_ce){["WebSquare.uiplugin.drawController.prototype.drawColMergeCellData"];var _cf=this.getColumnID(_cd);var td=this.data_td_list[_cd+_cb*this.oneRowDataLength];td.style.borderBottomWidth="0px";if(_cb==0&&!_ce){return;}var _d1=this.getHasSubtotalCount(_cc);if(_d1==0){td.style.borderBottomWidth="0px";}var _d2=_cc-1;var _d3=this.dataList.getCellData(_cc-1,_cf);var _d4=this.data_td_list[_cd+(_cb-1)*this.oneRowDataLength];td.style.borderTopWidth="0px";var _d5=this.upperGroupingTest(_cc,_cd);var _d6=true;if(this.options.senseReader){var _d7=this.lastIndex;if(_d7==-1){var _d8=this.getDataLength();_d7=_d8-1;if(this.options.visibleRowNum!="all"&&parseInt(this.options.visibleRowNum,10)<_d8){_d7=parseInt(this.options.visibleRowNum,10)-1;}}if(_d7+this.rowIndex+1==_cc){_d6=false;}}var _d9=this.dataList.getCellData(_cc,_cd);if(_d3==_d9&&_d5){if(_d4!=undefined){_d4.style.borderBottomWidth="0px";}td.style.borderTopWidth="0px";td.style.borderBottomWidth="0px";td.setAttribute("colMerged","1");td.innerHTML="";if(_d1!=0){td.style.borderBottomWidth="1px";}}else{td.style.borderTopWidth="1px";}return;};$W._a.aR.prototype.upperGroupingTest=function(_da,_db){["WebSquare.uiplugin.drawController.prototype.upperGroupingTest"];var _dc=this.getCellInfo(_db);var _dd=_dc.options.upperColumn;if(this.hasSubtotal&&this.hasUpperSubtotalRow(_da)){return false;}if(_dd!=""){var _de=this.dataList.getCellData(_da,_dd);var _df=this.dataList.getCellData(_da-1,_dd);if(_de!=_df){return false;}var _e0=this.getCellInfo(_dd);if(_e0.options.upperColumn!=""){return this.upperGroupingTest(_da,_e0.options.upperColumn);}}else{var _de=this.dataList.getCellData(_da,_db);var _df=this.dataList.getCellData(_da-1,_db);if(_de!=_df){return false;}}return true;};$W._a.aR.prototype.setDataTable=function(){["WebSquare.uiplugin.drawController.prototype.setDataTable"];try{var _e1=this.getElementById(this.id+"_head_table");var _e2=this.getElementById(this.id+"_body_table");var _e3=this.getElementById(this.id+"_body_tbody");this.dataLayerHeight=_e2.parentNode.offsetHeight;if(this.options.visibleRowNum===""){if(this.dataLayerHeight==0){this.resizeObj={width:0,height:0,scrollLeft:0,scrollTop:0,clientWidth:0};this.setRedrawStatus("stop");this.delayedDraw({rowIndex:this.rowIndex==-1?0:this.rowIndex});return;}}if(!this.defaultDataLayerHeight){if(this.isIE6||$W._G.isOpera()){this.defaultDataLayerHeight=this.getElementById(this.id+"_main_div").offsetHeight;}else{this.defaultDataLayerHeight=this.dataLayerHeight;}}var _e4=0;if(this.options.senseReader){_e4=this.getDataLength();}else{if(this.options.visibleRowNum===""){if(this.options.initFixedHeightByRowNum>-1){_e4=parseInt(this.options.initFixedHeightByRowNum,10)+1;}else{_e4=parseInt((this.dataLayerHeight-_e1.offsetHeight)/this.oneRowHeight)+1;}}else{if(this.options.visibleRowNum==="all"){_e4=this.getDataLength();}else{_e4=parseInt(this.options.visibleRowNum,10);}}}if(_e4>this.drawedRowLength){var _e5=this.drawedRowLength;this.drawedRowLength=_e4;var _e6=[];if(_e5==0&&this.hasSubtotal){_e6=_e6.concat(this.createSubtotalRows());}for(var k=_e5;k<this.drawedRowLength;k++){var _e8=[];for(var i=0;i<this.oneRowLength;i++){var _ea=this.tempTr.rows[i].cloneNode(true);_e8[i]=_ea;_e6.push(_ea);}this.addBodyRow(k,_e8);if(this.hasSubtotal){_e6=_e6.concat(this.createSubtotalRows());}}if(this.drawedRowLength==0){_e2.style.borderWidth="0px";}else{_e2.style.borderWidth="";}for(var i=0;i<_e6.length;i++){_e3.appendChild(_e6[i]);}for(var k=_e5;k<this.drawedRowLength;k++){this._setRowDisplay(k,"none");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype.applyStyleOptions=function(_eb){["WebSquare.uiplugin.drawController.prototype.applyStyleOptions"];try{var _ec=this.rowIndex>=0?this.rowIndex:0;for(var i=0;i<=_eb+1&&i<this.drawedRowLength;i++){if(typeof this.dataList.getRealRowIndex(i+_ec)=="object"){continue;}if(this.options.fixedRow>0&&i<=this.options.fixedRow-1){this.applyRowStyleOptions(i);}else{this.applyRowStyleOptions(i+_ec);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype._setCheckboxHead=function(){["WebSquare.uiplugin.drawController.prototype._setCheckboxHead"];try{for(var _ee in this.cellInfoHash){if(typeof this.cellInfoHash[_ee].checkHeader==="function"){this.cellInfoHash[_ee].checkHeader();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype.applyColumnStyleOptions=function(_ef){["WebSquare.uiplugin.drawController.prototype.applyColumnStyleOptions"];try{for(var i=0;i<this.drawedRowLength;i++){this.applyCellStyleOptions(i+this.rowIndex,_ef);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype.applyRowStyleOptions=function(_f1){["WebSquare.uiplugin.drawController.prototype.applyRowStyleOptions"];try{var _f2=_f1;if(this.rowIndex>=0){if(this.options.fixedRow>0&&this.options.fixedRow>_f1){}else{_f2-=this.rowIndex;}}if(_f2<0||_f2>=this.drawedRowLength){return;}var tr=this.dataRowList[this.oneRowLength*_f2];if(!tr||tr.style.display=="none"){return;}if(this.options.fixedRow>0&&_f2==this.options.fixedRow-1){tr.style.borderBottom="2px solid #383d41";this.styledFixedRow=tr;}if(this.options.lazyDrawHiddenColumn){var _f4=this.colIndexInfo.body.visibleTds;var _r=_f2*this.oneRowDataLength;for(var i=this.defaultColCnt;i<_f4.length;i++){var _f7=_f4[i]-this.defaultColCnt;var td=this.all_data_td_list[_r+_f7];if(td){this.applyCellStyleOptions(_f1,_f7);}}}else{for(var i=0;i<this.oneRowDataLength;i++){var _r=_f2*this.oneRowDataLength;var td=this.data_td_list[_r+i];if(td){this.applyCellStyleOptions(_f1,i);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype.setAutoResizeEmbeddedInput=function(){try{tdArr=this.data_td_list;var _f9="";var _fa=null;var _fb=null;var _fc=0;var _fd=0;var _fe=false;for(var i=0;i<tdArr.length;i++){if(tdArr[i].getAttribute("inputType")=="text"||tdArr[i].getAttribute("inputType")=="secret"){_f9=tdArr[i].getAttribute("col_id");_fb=this.cellInfoHash[_f9];var _100=false;if(this.dom[_fb.mainGridId+_fb.id]||this.dom[tdArr[i].getAttribute("id")+"_"+tdArr[i].getAttribute("inputType")]){_100=true;}if(_fb.options.embeddedInput==true&&_100){_fa=this.getInput(_fb,tdArr[i]);if(_fa.render.parentNode==null){tdArr[i].innerHTML="";tdArr[i].appendChild(_fa.render);}if(tdArr[i].parentNode.style.display=="none"){tdArr[i].parentNode.style.display="";_fe=true;}var _101=parseInt(tdArr[i].getAttribute("colindex"),10);if(!this.embeddedStyleObj){this.embeddedStyleObj={top:parseInt($W._H.getStyle(tdArr[i],"padding-top"),10),bottom:parseInt($W._H.getStyle(tdArr[i],"padding-bottom"),10),left:parseInt($W._H.getStyle(tdArr[i],"padding-left"),10),right:parseInt($W._H.getStyle(tdArr[i],"padding-right"),10),inputTop:parseInt($W._H.getStyle(_fa.render,"padding-top"),10),inputBottom:parseInt($W._H.getStyle(_fa.render,"padding-bottom"),10),inputLeft:parseInt($W._H.getStyle(_fa.render,"padding-left"),10),inputRight:parseInt($W._H.getStyle(_fa.render,"padding-right"),10)};}var _102=parseInt($W._H.getStyle(_fa.render,"border-top-width"),10);var _103=parseInt($W._H.getStyle(_fa.render,"border-bottom-width"),10);var _104=parseInt($W._H.getStyle(_fa.render,"border-left-width"),10);var _105=parseInt($W._H.getStyle(_fa.render,"border-right-width"),10);_fc=tdArr[i].offsetHeight-parseInt($W._H.getStyle(tdArr[i],"border-top-width"),10)-parseInt($W._H.getStyle(tdArr[i],"border-bottom-width"),10);_fc-=(this.embeddedStyleObj["top"]+this.embeddedStyleObj["bottom"]);_fc-=(_102+_103);if(!this.embeddedWidthObj[_101]||this.embeddedWidthObj[_101]["isChanged"]){this.embeddedWidthObj[_101]={isChanged:false,width:tdArr[i].clientWidth};}_fd=this.embeddedWidthObj[_101]["width"];_fd-=(this.embeddedStyleObj["left"]+this.embeddedStyleObj["right"]);_fd-=(_104+_105);_fd-=(this.embeddedStyleObj["inputLeft"]+this.embeddedStyleObj["inputRight"]);if($W._G.isOpera()){_fc+=2;}if(_fe){tdArr[i].parentNode.style.display="none";}else{if($W._G.isIE("6 7")){_fc-=2;}}_fa.setSize(_fd-2,_fc-(this.embeddedStyleObj["inputTop"]+this.embeddedStyleObj["inputBottom"]));_fa.setStyle("lineHeight",_fc+"px");}}else{if(tdArr[i].getAttribute("inputType")=="calendar"){_f9=tdArr[i].getAttribute("col_id");_fb=this.cellInfoHash[_f9];var _106=null;if(_fb.options.embeddedInput==true){_106=this.getInput(_fb,tdArr[i]);if(_106.render.parentNode==null){tdArr[i].innerHTML="";tdArr[i].appendChild(_106.render);}if(tdArr[i].parentNode.style.display=="none"){tdArr[i].parentNode.style.display="";_fe=true;}}_fc=tdArr[i].offsetHeight-parseInt($W._H.getStyle(tdArr[i],"border-top-width"),10)-parseInt($W._H.getStyle(tdArr[i],"border-bottom-width"),10);_fc-=(this.embeddedCalendarStyleObj["top"]+this.embeddedCalendarStyleObj["bottom"]);var _101=parseInt(tdArr[i].getAttribute("colindex"),10);if(!this.embeddedWidthObj[_101]||this.embeddedWidthObj[_101]["isChanged"]){this.embeddedWidthObj[_101]={isChanged:false,width:tdArr[i].clientWidth};}_fd=this.embeddedWidthObj[_101]["width"];_fd-=(this.embeddedCalendarStyleObj["left"]+this.embeddedCalendarStyleObj["right"]);if(_fe){tdArr[i].parentNode.style.display="none";}else{if($W._G.isIE("6 7")){_fc-=2;}}_106.setSize(_fd-2,_fc);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype.applyCellStyleOptions=function(_107,_108,_109){["WebSquare.uiplugin.drawController.prototype.applyCellStyleOptions"];try{var _10a=_107;if(this.rowIndex>=0){if(this.options.fixedRow>0&&this.options.fixedRow>_107){}else{_10a-=this.rowIndex;}}if(_10a<0||_10a>=this.drawedRowLength){return;}var td=this.data_td_list[_10a*this.oneRowDataLength+_108];if(td){var _10c=[];var _10d;var _10e;if(typeof _108=="number"){_10d=_108;_10e=this.cellIdList[_108];}else{_10d=this.bodyIdColIndexMap[_108];_10e=_108;}var _10f;if(this._linkedDataList){_10f=this._linkedDataList.filteredRowIndexArr[_107];}else{if(this.groupbyStatus.grouped){var _110=true;for(var key in this._grid.customFilterStatusObj){if(this._grid.customFilterStatusObj[key]){_10f=this._dataList.filteredRowIndexArr[_107];_110=false;break;}}if(_110){_10f=this.groupbyStatus.groupedRowIndexArr[_107];}}else{_10f=this._dataList.filteredRowIndexArr[_107];}}var _112=this.cellInfoHash[_10e]||{"options":{}};if(_112.options.textAlign!=""){_10c.push("text-align:"+_112.options.textAlign);}if(this.options.adjustAlign!=""){if(_112.options.textAlign=="left"){_10c.push("padding-left:"+this.options.adjustAlign+"px");}}var _113=null;var _114=null;if(_10f!=null){_113=(typeof _10f=="number")?this.rowStyleArr[_10f]:this.rowStyleArr[_10f.type+"_"+_10f.groupId];_114=(typeof _10f=="number")?this.cellStyleArr[_10f*this.oneRowDataLength+_10d]:this.cellStyleArr[_10f.type+"_"+_10f.groupId+"_"+_10d];}if(_113!=null){_10c.push(this.rowStyleValueObj[_113]["style"]);}var _115=this.columnStyleValueObj[_10d];if(_115!=null){_10c.push(this.columnStyleValueObj[_10d]["style"]);}if(_114!=null){_10c.push(this.cellStyleValueObj[_114]["style"]);}if(this.options.readOnlyBackgroundColor!=""){var _116=this._getEditReadOnly(_107,_108);if(_116==true){_10c.push(this.readOnlyTdStyle);td.readOnly=true;}else{td.readOnly=false;}}if(this.options.readOnlyBackgroundImg!=""||this.options.readOnlyBackgroundImgCSS!=""){var _116=this._getEditReadOnly(_107,_108);if(_116==true){_10c.push(this.readOnlyTdImg);if(!this.options.readOnlyBackgroundImgCSS){if($W._G.isIE(8)||$W._G.isIE(6)||$W._G.isIE(7)){_10c.push("filter: \"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled='true', src='"+this.options.readOnlyBackgroundImg+"', sizingMethod='scale')\"");_10c.push("-ms-filter: \"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled='true', src='"+this.options.readOnlyBackgroundImg+"', sizingMethod='scale')\"");}}td.readOnly=true;}else{td.readOnly=false;}}td.disabled=false;var _117=this.cellDisabledArr[_10f*this.oneRowDataLength+_10d];if(_117!==true&&_117!==false){var _118=_112.options.disabled;var _119=this.rowDisabledArr[_10f];var _11a=this.options.disabledPriority;if(_119!==true&&_119!==false){_119="";}if(_11a==="column"&&_118!==""){_117=_118;}else{if(_11a==="row"&&_119!==""){_117=_119;}else{if(_118+""==="true"||_119+""==="true"){_117=true;}else{if(_118+""==="false"||_119+""==="false"){_117=false;}else{if(this.options.disabled!==""){_117=this.options.disabled;}else{_117=false;}}}}}}if(_117===true||_117==="true"){_10c.push(this.disabledTdStyle);if(this.disabledCellStyleObj&&this.disabledCellStyleObj[_107+"_"+_108]&&this.disabledCellStyleObj[_107+"_"+_108]["style"]){_10c.push(this.disabledCellStyleObj[_107+"_"+_108]["style"]);}}if(!_109&&this.options.selectedRowColor!="transparent"){if(this.options.focusMode=="row"||this.options.focusMode=="both"){for(var j=0;j<this.focusedCell.length;j++){if(_107==this.focusedCell[j].focusedRowIndex){_10c.push("background-color:"+this.options.selectedRowColor);break;}}}}if(!_109&&this.options.selectedCellColor!="transparent"){if(this.options.focusMode=="cell"||this.options.focusMode=="both"){for(var j=0;j<this.focusedCell.length;j++){if(_107==this.focusedCell[j].focusedRowIndex&&_108==this.focusedCell[j].focusedColIndex){_10c.push("background-color:"+this.options.selectedCellColor);break;}}}}if(td.style.display=="none"){_10c.push("display:none");}var _11c=_10c.join(";");var _11d=td.style.borderBottomWidth;if(_11c!=td.getAttribute("style_bak")||this.groupbyStatus.grouped){td.style.cssText=_11c;}td.setAttribute("style_bak",_11c);td.setAttribute("or_bgColor",td.style.backgroundColor);if(this.isColMerge&&_112.options.colMerge){td.setAttribute("colMerged","0");this.drawColMergeCellData(_10a,_107,_108);if(this.options.senseReader&&_11d&&_11d.indexOf("px")!=-1){td.style.borderBottomWidth=_11d;}}if(this.cellReadOnlyArr[_10f*this.oneRowDataLength+_108]){td.setAttribute("readonly","true");}else{if(this.cellReadOnlyArr[_10f*this.oneRowDataLength+_108]===false){td.setAttribute("readonly","false");}}if(_112.options.disabledClass!=""){if(_117===true||_117==="true"){this.addClass(td,_112.options.disabledClass);}else{this.removeClass(td,_112.options.disabledClass);}}if(this.options.hiddenClass!=""||_112.options.hiddenClass!=""){var _11e=this.options.hiddenClass;if(_112.options.hiddenClass!=""){_11e=_112.options.hiddenClass;}var _11f=this._getRealColIndex("body",_112.options.col_id)+this.defaultColCnt;if(this.hiddenList[_11f]){this.addClass(td,_11e);}else{this.removeClass(td,_11e);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aR.prototype.createSubtotalRows=function(){["WebSquare.uiplugin.drawController.prototype.createSubtotalRows"];var rows=[];for(var _121 in this.subtotalTableList){var _122=this.subtotalRowHash[_121];if(_122==null){_122=[];}var _123=this.subtotalTableList[_121];for(var i=0;i<_123.rows.length;i++){var _125=_123.rows[i].cloneNode(true);_125.style.display="none";_122.push(_125);rows.push(_125);}this.subtotalRowHash[_121]=_122;}return rows;};$W._a.aR.prototype.addBodyRow=function(_126,_127){["WebSquare.uiplugin.drawController.prototype.addBodyRow"];var _128=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_rowNumber(\\s|$)");var _129=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_rowStatus(\\s|$)");var _12a=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_data(\\s|$)");var idx=0;var _12c=0;for(var i=0;i<_127.length;i++){this.dataRowList.push(_127[i]);_127[i].className="grid_body_row";var _12e=_127[i].getElementsByTagName("td");for(var j=0;j<_12e.length;j++){var _130=_12e[j];var _131=_130.className;_130.setAttribute("tdIndex",_126*this.realRowDataLength+idx);_130.removeAttribute("title");var _132=_130.getAttribute("width");if(_132){_130.removeAttribute("width");_130.setAttribute("or_wd",_132);}idx++;this.all_data_td_list.push(_130);if(_128.test(_131)){this.data_num_td_list.push(_130);}else{if(_129.test(_131)){this.data_status_td_list.push(_130);}else{if(!this.hasSubtotal||_12a.test(_131)){this.data_td_list.push(_130);var _133=this.id+"_columnstyle_"+_12c+"_";this.addClass(_130,_133);var _134=_130.getAttribute("col_id");var _135=this.getCellInfo(_134);this.addClass(_130,_135.options.className);_130.style.cssText=(_135.options.textAlign=="")?"":"text-align:"+_135.options.textAlign+";";_130.setAttribute("id",this.id+"_cell_"+_126+"_"+_12c);_12c++;if(this.options.focusFlow=="linear"&&this.options.focusMode!="none"){if(!_135.options.embeddedInput){if(_135.options.inputType!="link"&&_135.options.inputType!="button"&&_135.options.inputType!="image"){_130.setAttribute("tabIndex","0");}this.event.addListener(_130,"onfocus",this.event.bindAsEventListener(this,this.handleTdFocus));}}}}}}}var _136=[];if(!this.options.duplicateColumnId){for(var i=0;i<_127.length;i++){var _12e=_127[i].getElementsByTagName("td");var _137=[];for(var j=0;j<_12e.length;j++){_137[j]=_12e[j];}for(var j=0;j<_137.length;j++){var _131=_137[j].className;if(!_128.test(_131)&&!_129.test(_131)){_136.push(_137[j].parentNode.removeChild(_137[j]));}}}for(var i=0;i<this.htmlInfo.body.rowArr.length;i++){for(var j=0;j<this.htmlInfo.body.rowArr[i].length;j++){var _138=this.htmlInfo.body.rowArr[i][j].col_id;for(var k=0;k<_136.length;k++){if(_136[k].getAttribute("col_id")==_138){_127[i].appendChild(_136[k]);break;}}}}}};$W._a.aR.prototype.addBodyRow2=function(_13a,_13b){["WebSquare.uiplugin.drawController.prototype.addBodyRow"];var _13c=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_rowNumber(\\s|$)");var _13d=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_rowStatus(\\s|$)");var _13e=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_data(\\s|$)");var _13f=[];for(var i=0;i<_13b.length;i++){this.dataRowList.push(_13b[i]);_13b[i].className="grid_body_row";var _141=_13b[i].getElementsByTagName("td");for(var j=0;j<_141.length;j++){var _143=_141[j];var _144=_143.className;var _145=parseInt(_143.getAttribute("tdIndex"),10);var _146=_145%this.realRowDataLength;_143.setAttribute("tdIndex",_13a*this.realRowDataLength+_146);_143.removeAttribute("title");var _147=_143.getAttribute("width");if(_147){_143.removeAttribute("width");_143.setAttribute("or_wd",_147);}if(_13c.test(_144)){this.data_num_td_list.push(_143);this.all_data_td_list.push(_143);}else{if(_13d.test(_144)){this.data_status_td_list.push(_143);this.all_data_td_list.push(_143);}else{if(!this.hasSubtotal||_13e.test(_144)){var _148=_146-this.defaultColCnt;_13f[_148]=_143;var _149=this.id+"_columnstyle_"+_148+"_";this.addClass(_143,_149);var _14a=_143.getAttribute("col_id");var _14b=this.getCellInfo(_14a);this.addClass(_143,_14b.options.className);_143.style.cssText=(_14b.options.textAlign=="")?"":"text-align:"+_14b.options.textAlign+";";_143.setAttribute("id",this.id+"_cell_"+_13a+"_"+_148);_148++;if(this.options.focusFlow=="linear"&&this.options.focusMode!="none"){if(!_14b.options.embeddedInput){if(_14b.options.inputType!="link"&&_14b.options.inputType!="button"&&_14b.options.inputType!="image"){_143.setAttribute("tabIndex","0");}this.event.addListener(_143,"onfocus",this.event.bindAsEventListener(this,this.handleTdFocus));}}}}}}}[].push.apply(this.all_data_td_list,_13f);[].push.apply(this.data_td_list,_13f);};$W._a.aR.prototype.addRows=function(_14c){["WebSquare.uiplugin.drawController.prototype.addRows"];var _14d=this.drawedRowLength;var rows=[];for(var i=0;i<_14c;i++){var _150=[];for(var j=0;j<this.oneRowLength;j++){var _152=this.tempTr.rows[j].cloneNode(true);rows.push(_152);}this.addBodyRow(_14d+i,_150);if(this.hasSubtotal){rows=rows.concat(this.createSubtotalRows());}}var _153=this.getElementById(this.id+"_body_tbody");for(var i=0;i<rows.length;i++){_153.appendChild(rows[i]);}};$W._a.aR.prototype.notifyStatusChanged=function(_154){["WebSquare.uiplugin.drawController.prototype.notifyStatusChanged"];var from;var to;var _157=false;if(typeof _154.rowIndex=="object"){from=0;to=_154.rowIndex.length;_157=true;}else{if(_154.rowIndex=="all"){from=0;to=this.getRowCount();}else{if(typeof _154.startIndex=="number"&&typeof _154.endIndex=="number"){from=_154.startIndex;to=_154.endIndex;}}}for(var i=from;i<to;i++){var row;if(_157){row=_154.rowIndex[i];}else{row=i;}if(this.rowStatusColIDArr!=null){for(var k=0;k<this.rowStatusColIDArr.length;k++){var _15b=this.getColumnIndex(this.rowStatusColIDArr[k]);this.drawCellData(row-this.rowIndex,row,_15b);}}}};;WebSquare.uiplugin.drawController=$W._a.aR;$W._a._f=function(){["WebSquare.uiplugin.cellController"];};$W._a._f.prototype.setCellInfo=function(){["WebSquare.uiplugin.cellController.prototype.setCellInfo"];var _1=this.tempDiv.getElementsByTagName("td");for(var i=0;i<_1.length;i++){var _3=_1[i].getAttribute("inputType");if(_3=="drilldown"){this.isDrillDown=true;this.depthColumn=_1[i].getAttribute("depthColumn");this.showDepth=_1[i].getAttribute("showDepth");if(!this._dataList.options.depthColumn&&(this.options.pluginName!="grid"||this.options.drilldownRealRowIndex)){this._dataList.options.depthColumn=this.depthColumn;}}}};$W._a._f.prototype.setInnerHTML=function(td,_5,_6){["WebSquare.uiplugin.cellController.prototype.setInnerHTML"];var _7=this.getColumnID(_6);var _8=this.dataList.getCellData(_5,_7);var _9=this.cellInfoHash[this.tdIdList[_6]];if(_8===""){if(_9.options.groupName){var _a=this.dataList.getCellData(_5,_9.options.groupName);if(_a==_9.options.groupValue){_8=_9.options.trueValue;}else{_8=_9.options.falseValue;}}else{_8=_9.options.defaultValue;}}_9.setInnerHTML(td,_8,_5,_6);if(_9.options.disabledClass!=""){if(this.getEditDisabled(_5,_6)){this.addClass(td,_9.options.disabledClass);}else{this.removeClass(td,_9.options.disabledClass);}}if(this.options.hiddenClass!=""||_9.options.hiddenClass!=""){var _b=this.options.hiddenClass;if(_9.options.hiddenClass!=""){_b=_9.options.hiddenClass;}var _c=this._getRealColIndex("body",_7)+this.defaultColCnt;if(this.hiddenList[_c]){this.addClass(td,_b);}else{this.removeClass(td,_b);}}};$W._a._f.prototype.getCellInfo=function(td){["WebSquare.uiplugin.cellController.prototype.getCellInfo"];try{var _e="";if(typeof td=="string"){_e=td;}else{if(typeof td=="number"){_e=this.tdIdList[td];}else{_e=td?td.getAttribute("col_id"):null;}}return this.cellInfoHash[_e]||{options:{}};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._f.prototype._endEdit=function(){["WebSquare.uiplugin.cellController.prototype._endEdit"];if(this.editedCell!=null){this.editedCell.handleEndEdit();}};$W._a._f.prototype.initColumns=function(){["WebSquare.uiplugin.cellController.prototype.initColumns"];for(var _f in this.cellInfoHash){var _10=this.cellInfoHash[_f];if(_10.options.inputType=="select"){_10.initializeCellInfo(_10.element);_10.style="";_10.comp=null;}if(this.options.initColumns){for(var _11 in _10.dynamicAttrInfo){var _12=_10.dynamicAttrInfo[_11];if(_12){_10.options[_11]=_12["originalValue"];if(_11=="displayFormat"||_11=="displayFormatter"){_10.initFormatter();}}}}}};$W._a._f.prototype.initHeaders=function(){["WebSquare.uiplugin.cellController.prototype.initHeaders"];for(var _13 in this.headerInfoHash){var _14=this.headerInfoHash[_13];if(_14.options.inputType=="checkbox"){this.setHeaderValue(_13,false);}}};$W._a._f.prototype._setCellInfo=function(_15,td){["WebSquare.uiplugin.cellController.prototype._setCellInfo"];this.cellInfoHash2[_15]=td;};$W._a._f.prototype.getColumnCount=function(){return this.tdIdList.length;};$W._a._f.prototype.getColumnID=function(_17){if(typeof _17=="string"){return _17;}var _18=this.tdIdList[_17];if(_18){return _18;}else{return null;}};$W._a._f.prototype.getColumnIndex=function(_19){if(typeof _19=="number"){return _19;}return this.bodyIdColIndexMap[_19];};$W._a._f.prototype.setExpressionAssociation=function(_1a,_1b){["WebSquare.uiplugin.cellController.prototype.setExpressionAssociation"];try{if(this.expressionAssArr[_1a]==null){this.expressionAssArr[_1a]=[];}this.expressionAssArr[_1a].push(_1b);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._f.prototype.setCellEditMode=function(td,_1d){["WebSquare.uiplugin.cellController.prototype.setCellEditMode"];this.hideTooltip();var _1e=this.getCellInfo(td);this.editedCell=_1e;this.rollbackCommitFlag=false;var _1f=this.render.offsetWidth;var _20=this.render.offsetHeight;_1e.setEditMode(td,_1d);if(_1f!==this.render.offsetWidth||_20!==this.render.offsetHeight){this.handleResize();_1e.setEditMode(td,_1d);}this.rollbackCommitFlag=true;};$W._a._f.prototype.setCellClickEdit=function(td){["WebSquare.uiplugin.cellController.prototype.setCellClickEdit"];var _22=this.getElemRowIndex(td);var _23=this.getCellInfo(td);var ret=false;switch(_23.options.inputType){case "checkbox":case "radio":case "drilldown":ret=_23.handleClick(td,_22);}return ret;};$W._a._f.prototype.getInput=function(_25,_26){var _27=_25.options.inputType||"text";var _28=_25.options.embeddedInput;var _29=this.getColumnOption(_25.id,"dataType");var _2a=(_29=="bigDecimal")?true:false;if(_28){var _2b=_26.getAttribute("id")+"_"+_27;if(!this.fakeInput&&(_27=="text"||_27=="secret"||_27=="calendar")){this.makeFakeInput=function(){this.fakeInput=new $W._a.aF(this.id+"_fakeInput",{style:"visibility:hidden;position:absolute;z-index:100;background-color:"+this.options.selectedCellColor,className:"w2grid_embedded_input",ioFormat:"$blank",ioFormatter:"$blank",displayFormat:"$blank",displayFormatter:"$blank",readOnly:"$blank",disabled:"$blank",useKeyupBlur:false,xmlEvents:[{name:"onmousedown",action:"script",param:{handler:function(e){_this.lastEvent=e;$W._c.stopEvent(e);var _2d=this;setTimeout(function(){_2d.lastInput.focus();},1);}}},{name:"oncontextmenu",action:"script",param:{handler:function(e){_this.lastEvent=e;}}},{name:"ondblclick",action:"script",param:{handler:function(e){_this.lastEvent=e;_this.hideFakeInput(this);$W._c.stopPropagation(e);_this.F2Mode=true;$W._A.setCaretPos(this.lastInput.render,this.lastInput.render.value.length);}}}]});this.fakeInput.setAction=function(){};this.fakeInput.writeTo(this.render);this.fakeInput.activate();this.fakeInput.render.parentNode.removeChild(this.fakeInput.render);var _30=null;this.showFakeInput=function(_31){var td=_31.render.parentNode;this.render.appendChild(this.fakeInput.render);if(!_30){var td0=this.all_data_td_list[0];_30=1-td0.offsetLeft;}var _34=this.getElementById(this.id+"_dataLayer");this.fakeInput.setPosition(td.offsetLeft+_30-_34.scrollLeft,td.offsetTop+_30-_34.scrollTop);this.fakeInput.setSize(td.clientWidth,td.clientHeight);if($W._G.isIE()){this.fakeInput.setVerticalAlign();}this.fakeInput.lastInput=_31;var _35=_31.getStyle("text-align");if(_35){this.fakeInput.setStyle("text-align",_35);}else{this.fakeInput.setStyle("text-align","");}};this.hideFakeInput=function(_36){if(this.fakeInput.render.parentNode){this.fakeInput.render.parentNode.removeChild(this.fakeInput.render);}};};}}else{var _2b=_25.mainGridId+_25.id;}var _37=this.dom[_2b];var _38=this;if(!_37){if((_27=="text"||_27=="secret")&&_28){var _39=_25.options.title||"";var _3a="text";var _3b="w2grid_embedded_input";if(_27=="secret"){_3a="password";if($W._G.isIEAllVersion()){_3b+=" w2grid_secret";}else{_3b="w2grid_embedded_secret";}}var _3c={className:_3b,style:"$blank",ioFormat:"$blank",ioFormatter:"$blank",readOnly:"$blank",disabled:"$blank",hidden:"$blank",title:_39,type:_3a,adjustMaxLength:_25.options.adjustMaxLength,useKeyupBlur:false,xmlEvents:[{name:"onmousedown",action:"script",param:{handler:function(e){var row=parseInt(this.render.getAttribute("rowIndex"),10);var col=this.render.parentNode.getAttribute("col_id");if(row-_38.rowIndex>=_38.lastIndex+1){$W._c.stopEvent(e);_38.addGridScroll(1);_38.setFocusedCell(row,col,true);return;}}}},{name:"onclick",action:"script",param:{handler:function(e){$W._c.stopPropagation(e);}}},{name:"oncopy",action:"script",param:{handler:function(e){$W._c.stopPropagation(e);}}},{name:"onpaste",action:"script",param:{handler:function(e){$W._c.stopPropagation(e);}}}]};_37=new $W._a.aF(_2b,$W.extend($W.extend({},_25.options),_3c));_26.innerHTML="";_37.writeTo(_26);if(_25.options.dataType=="number"){if(_25.options.displayFormat==""){_37.validator.addCommand(new $W._p.allowCharCommand("+\\-.0-9"));}else{_37.validator.addCommand(new $W._p.numberCommand());}}if($W._G.isIE()){_37.setVerticalAlign();}_37.setVerticalAlign=function(){};var _43=$W._a.aF.prototype.handleBlurEventBasic;_37.handleBlurEventBasic=function(e){var _45=parseInt(this.render.getAttribute("rowindex"),10);var _46=this.render.parentNode.getAttribute("col_id");var _47=_38._dataList.getColumnIndex(_46);var _48=_38.getColumnIndex(_46);var _49=_37.validator.validateString(this.getValue());var ret=$W._c.fireEvent(_38,"oneditend",_45,_48,_49,e);if(ret+""=="false"){_38.editEndFlag=true;this.reFocus=true;if(_38.fakeInput.lastInput==this){this.focus();}var _4b=_38.getLastFocusedCell();if(_4b.focusedTd!=this.render.parentNode){_38.setFocusedCell(_45,_46);}$W._c.stopEvent(e);return false;}_38.editEndFlag=false;_43.call(this,e);var _4c=_38.getCellInfo(_46);if(_4c.options.dataType=="number"){var _4d=_49.wq_trim();if(_4d==="."||_4d==="-"||_4d==="+"){_49="";}}var _4e=_38._dataList.dataArr[_45*_38._dataList.getColumnCount()+_47];_38.dataList.setCellData(_45,_46,_49);_49=_38._dataList.getCellData(_45,_46);if(_4c.options.applyFormat!="all"&&!this.options.displayFormat){_49=_4c.getDisplayData(_49);}this.setValue(_49);var ret=$W._c.fireEvent(_38,"onafteredit",_45,_48,_49,_38.lastEvent);if(_4e!=_49){$W._c.fireEvent(_38,"onviewchange",{"oldValue":_4e,"newValue":_49,"rowIndex":_45,"colIndex":_48});}_38.hideFakeInput(_37);_38.F2Mode=false;};var _4f=$W._a.aF.prototype.handleFocusValueEventAdv;_37.handleFocusValueEventAdv=function(e){if(_38.editEndFlag&&_38.fakeInput.lastInput!=this){$W._c.stopEvent(e);return false;}var _51=this.render.getAttribute("rowindex");var _52=this.render.parentNode.getAttribute("col_id");_38.lastEvent=e;var _53=_38.getLastFocusedCell();if(_53.focusedTd!=this.render.parentNode&&!_38.focusedByApi){_38.setFocusedCell(_51,_52);}var _54=this.reFocus;_4f.call(this,e);this.reFocus=_54;_38.focusedByApi=false;if(!this.reFocus){this.setValue(_38._dataList.getCellData(_51,_52));_38.showFakeInput(this);_38.fakeInput.setValue(this.getValue());this.select();this.focus();if(_38.fakeInput.render.parentNode){var _55=_38.getColumnIndex(_52);var _56=$W._c.fireEvent(_38,"onbeforeedit",_51,_55,_38._dataList.getCellData(_51,_55));}}_38.F2Mode=false;this.reFocus=false;};var _57=$W._a.aF.prototype.handleKeydownEvent;_37.handleKeydownEvent=function(e){_38.lastEvent=e;_57.call(this,e);switch(e.keyCode){case 46:if(!_38.F2Mode&&_38.fakeInput.render.parentNode){this.setValue("");_38.fakeInput.setValue("");}$W._c.stopPropagation(e);return;case 27:_38.F2Mode=false;_38.showFakeInput(this);this.setValue(_38.getCellData(_38.getFocusedRowIndex(),_38.getFocusedColumnIndex()));this.select();$W._c.stopPropagation(e);return;case 113:_38.F2Mode=true;$W._A.setCaretPos(this.render,this.render.value.length);_38.hideFakeInput(this);$W._c.stopPropagation(e);return;case 9:var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2inputCalendar_divInput")){$W._c.stopPropagation(e);break;}}return;}var _5a=e.which||e.keyCode;if(_38.nonCharKeys[_5a]){return;}if(_5a==32){$W._c.stopPropagation(e);return;}if(_38.fakeInput.render.parentNode){var _5b=this.render.getAttribute("rowindex");var _5c=this.render.parentNode.getAttribute("col_id");var _5d=_38.getColumnIndex(_5c);var _5e=$W._c.fireEvent(_38,"onbeforeedit",_5b,_5d,_38.dataList.getCellData(_5b,_5d));_38.hideFakeInput(this);}$W._c.stopPropagation(e);};_37.activate();if(!this.fakeInput){this.makeFakeInput();}}else{if(_27=="select"&&_28){var _5f=_25.options.title||"";_37=new $W._a._N(_2b,{className:"w2grid_embedded_select",style:"$blank",pluginName:"selectbox",renderType:"native",title:_5f,xmlEvents:[{name:"onmousedown",action:"script",param:{handler:function(e){$W._c.stopPropagation(e);}}},{name:"onclick",action:"script",param:{handler:function(e){$W._c.stopEvent(e);}}},{name:"onkeydown",action:"script",param:{handler:function(e){switch(e.keyCode){case 38:case 40:case 27:$W._c.stopPropagation(e);return;}}}},{name:"onfocusin",action:"script",param:{handler:function(e){_38.lastEvent=e;var _64=_38.getLastFocusedCell();if(_64.focusedTd!=this.render.parentNode&&!_38.focusedByApi){_38.setFocusedCell(this.render.getAttribute("rowindex"),this.render.parentNode.getAttribute("col_id"));}_38.focusedByApi=false;}}}]},_25.xml);_26.innerHTML=_37.toHTML();var _65=$W._a._N.prototype.handleOnchange;_37.handleOnchange=function(e){var _67=this.render.parentNode.getAttribute("col_id");var _68=parseInt(this.render.getAttribute("rowindex"),10);var _69=_38.getColumnIndex(_67);var _6a=this.selectedIndex;var _6b=this.getValue();_65.call(this,e);_38.dataList.setCellData(_68,_67,this.getValue());if(_6a!=this.selectedIndex){var _6c={"oldValue":_6b,"newValue":this.getValue(),"oldSelectedIndex":_6a,"newSelectedIndex":this.selectedIndex,"rowIndex":_68,"colIndex":_69};$W._c.fireEvent(_38,"onviewchange",_6c);}};_37.activate();}else{if(_27=="checkbox"&&_28){_26.innerHTML="<INPUT style='border-width:0px;' type='checkbox' class='w2grid_embedded_check' />";var _37=_26.firstChild;if(_25.options.title){_37.title=_25.options.title;}this.event.addListener(_37,"onfocus",this.event.bindAsEventListener(this,function(e){var _6e=$W._c.getTarget(e);this.lastEvent=e;var _6f=this.getLastFocusedCell();if(_6f.focusedTd!=_6e.parentNode&&!this.focusedByApi){this.setFocusedCell(_6e.getAttribute("rowindex"),_6e.parentNode.getAttribute("col_id"));}this.focusedByApi=false;}));}else{if(_27=="radio"&&_28){var _70=_25.mainGridId+"_radio_"+_25.id;_26.innerHTML="<INPUT style='border-width:0px;' type='radio' name='"+_70+"' class='w2grid_embedded_radio' />";var _37=_26.firstChild;if(_25.options.title){_37.title=_25.options.title;}this.event.addListener(_37,"onfocus",this.event.bindAsEventListener(this,function(e){var _72=$W._c.getTarget(e);this.lastEvent=e;var _73=this.getLastFocusedCell();if(_73.focusedTd!=_72.parentNode&&!this.focusedByApi){this.setFocusedCell(_72.getAttribute("rowindex"),_72.parentNode.getAttribute("col_id"));}this.focusedByApi=false;}));}else{if(_27=="calendar"&&_28){var _39=_25.options.title||"";var _74=_25.options.ioFormat;var _37=new $W._a._k(_2b,{style:"width:0px; height:0px;",delimiter:"$blank",calendarValueType:_25.options.calendarValueType,calendarClass:_25.options.calendarClass||"class1",ioFormat:_74,ioFormatter:"$blank",displayFormat:_25.options.displayFormat||_74,displayFormatter:"$blank",footerDiv:true,renderDiv:true,keepFocusSelect:true,focusOnOuterDiv:true,renderType:"native",readOnly:"$blank",disabled:"$blank",title:_39,validCheck:false,xmlEvents:[{name:"onclick",action:"script",param:{handler:function(e){$W._c.stopPropagation(e);}}},{name:"onviewchange",action:"script",param:{handler:function(_76){var _77=parseInt(this.render.getAttribute("rowindex"),10);var _78=_38.getColumnIndex(this.render.parentNode.getAttribute("col_id"));$W._c.fireEvent(_38,"onviewchange",{"oldValue":_76.oldValue,"newValue":_76.newValue,"rowIndex":_77,"colIndex":_78});}}},{name:"ondateselect",action:"script",param:{handler:function(_79,_7a){this.dom.input.blur();var _7b=this.render.getAttribute("rowindex");var _7c=this.render.parentNode.getAttribute("col_id");var _7d=_38.getColumnIndex(_7c);var _7e=_37.validator.validateString(this.getValue());var _7f=_38.getCellInfo(_7c);_38.dataList.setCellData(_7b,_7c,_7e);}}}]},_25.element);try{if(_25.element&&typeof _25.element.getAttribute!="undefined"&&!_25.element.getAttribute("dateValidCheck")){_37.options.dateValidCheck=$W._N.getConfiguration("/WebSquare/grid/column[@inputType=\"calendar\"]/dateValidCheck/@value")||"false";}}catch(e){$W.exception.printStackTrace(e,null,this);}_26.innerHTML="";_37.writeTo(_26);if(_74!=_37.options.ioFormat){_25.options.ioFormat=_37.options.ioFormat;_25.initFormatter();}_37.setVerticalAlign=function(){};_37.handleKeyupEvent=function(){};var _80=$W._a._k.prototype.handleFocusEvent;_37.handleFocusEvent=function(e){if(_38.editEndFlag&&_38.fakeInput.lastInput!=this){$W._c.stopEvent(e);return false;}var _82=this.render.getAttribute("rowindex");var _83=this.render.parentNode.getAttribute("col_id");_38.lastEvent=e;var _84=_38.getLastFocusedCell();if(_84.focusedTd!=this.render.parentNode&&!_38.focusedByApi){_38.setFocusedCell(_82,_83);}_80.call(this,e);_38.focusedByApi=false;if(!this.reFocus){_38.showFakeInput(this);_38.fakeInput.setValue(this.getValue());this.select();this.focus();if(_38.fakeInput.render.parentNode){var _85=_38.getColumnIndex(_83);var _86=$W._c.fireEvent(_38,"onbeforeedit",_82,_85,_38._dataList.getCellData(_82,_85));}}_38.F2Mode=false;this.reFocus=false;};var _87=$W._a._k.prototype.handleKeyEvent;_37.handleKeyEvent=function(e){_38.lastEvent=e;_87.call(this,e);switch(e.keyCode){case 46:if(!_38.F2Mode&&_38.fakeInput.render.parentNode){this.setValue("");_38.fakeInput.setValue("");}$W._c.stopPropagation(e);return;case 27:_38.F2Mode=false;_38.showFakeInput(this);this.setValue(_38.getCellData(_38.getFocusedRowIndex(),_38.getFocusedColumnIndex()));this.select();$W._c.stopPropagation(e);return;case 113:_38.F2Mode=true;$W._A.setCaretPos(this.render,this.render.value.length);_38.hideFakeInput(this);$W._c.stopPropagation(e);return;case 9:var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2inputCalendar_divInput")){$W._c.stopPropagation(e);break;}}return;}var _8a=e.which||e.keyCode;if(_38.nonCharKeys[_8a]){return;}if(_8a==32){$W._c.stopPropagation(e);return;}if(_38.fakeInput.render.parentNode){_38.hideFakeInput(this);}$W._c.stopPropagation(e);};var _8b=$W._a._k.prototype.handleBlurEvent;_37.handleBlurEvent=function(e){var _8d=this.render.getAttribute("rowindex");var _8e=this.render.parentNode.getAttribute("col_id");var _8f=_38.getColumnIndex(_8e);var _90=_37.validator.validateString(this.getValue());var ret=$W._c.fireEvent(_38,"oneditend",_8d,_8f,_90,e);if(ret+""=="false"){_38.editEndFlag=true;this.reFocus=true;if(_38.fakeInput.lastInput==this){this.focus();}var _92=_38.getLastFocusedCell();if(_92.focusedTd!=this.render.parentNode){_38._dataList.setFocusedCell(_8d,_8e);}$W._c.stopEvent(e);return false;}_38.editEndFlag=false;_8b.call(this,e);var _93=_38.getCellInfo(_8e);_38.dataList.setCellData(_8d,_8e,_90);_90=_38._dataList.getCellData(_8d,_8e);if(_93.options.applyFormat!="all"){_90=_93.getDisplayData(_90);}this.setValue(_90);var ret=$W._c.fireEvent(_38,"onafteredit",_8d,_8f,_90,_38.lastEvent);_38.F2Mode=false;};_37.setStyle("z-index","10");_37.activate();if(!this.fakeInput){this.makeFakeInput();}}else{if(_27=="text"||_27=="textImage"||_27=="drilldown"||_27=="secret"){var _3a="text";if(_27=="secret"){_3a="password";}if(_2a){_29="bigDecimal";}if(typeof _39=="undefined"){_39="";}_37=new $W._a.aF(_2b,{style:"position:absolute;display:none;border:1px solid "+this.options.selectedCellColor+";outline:none;z-index:10;",ioFormat:"$blank",ioFormatter:"$blank",displayFormat:_25.options.applyFormat=="all"?"":"$blank",displayFormatter:"$blank",readOnly:"$blank",disabled:"$blank",title:_39,type:_3a,dataType:_29,maxlength:_25.options.maxLength||-1,adjustMaxLength:_25.options.adjustMaxLength,useKeyupBlur:false},_25.element);_37.writeTo(this);_37.event.addListener(_37.render,"oncopy",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));_37.event.addListener(_37.render,"onpaste",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));_37.activate();if(_25.options.dataType=="number"){if(_25.options.displayFormat==""){_37.validator.addCommand(new $W._p.allowCharCommand("+\\-.0-9"));}else{_37.validator.addCommand(new $W._p.numberCommand());}}_37.setVerticalAlign=function(){};if(this.options.moveKeyEditMode){var _38=this;var _96={37:"left",38:"up",39:"right",40:"down"};_37._handleKeydownEvent=_37.handleKeydownEvent;_37.handleKeydownEvent=function(e){this._handleKeydownEvent(e);var _98=_96[e.keyCode];if(_98){var _99=_38.editedCell.editRowIndex;var _9a=_38._dataList.getColumnIndex(_38.editedCell.id);var _9b=_38.getColumnIndex(_38.editedCell.id);var _9c=_38._grid.getRealRowIndex(_99);var _9d=_38._dataList.dataArr[_9c*_38._dataList.getColumnCount()+_9a];switch(_98){case "left":case "right":if(this.getValue().length==0){var ret=_38.editedCell.handleEndEdit(e);if(ret+""!="false"){var _9f=_38._dataList.dataArr[_9c*_38._dataList.getColumnCount()+_9a];if(_9d!=_9f){$W._c.fireEvent(_38,"onviewchange",{"oldValue":_9d,"newValue":_9f,"rowIndex":_99,"colIndex":_9b});}_38.moveHorizontal(false,_98,true);}$W._c.stopEvent(e);}break;case "up":case "down":var ret=_38.editedCell.handleEndEdit(e);if(ret+""!="false"){var _9f=_38._dataList.dataArr[_9c*_38._dataList.getColumnCount()+_9a];if(_9d!=_9f){$W._c.fireEvent(_38,"onviewchange",{"oldValue":_9d,"newValue":_9f,"rowIndex":_99,"colIndex":_9b});}_38.moveVertical(false,_98,true);}$W._c.stopEvent(e);break;}}};}}else{if(_27=="textarea"){_37=new $W._a.bi(_2b,{style:"position:absolute;display:none;width:150px;height:60px;z-index:1000;resize:none;",className:"$blank",readOnly:"$blank",disabled:"$blank",maxlength:_25.options.maxLength||-1},_25.element);_37.writeTo(this);_37.event.addListener(_37.render,"oncopy",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));_37.event.addListener(_37.render,"onpaste",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));_37.activate();}else{if(_27=="calendar"){var _74=_25.options.ioFormat;var _37=new $W._a._k(_2b,{style:"position:absolute;display:none;border:1px solid "+this.options.selectedCellColor+";outline:none;",delimiter:"$blank",calendarValueType:_25.options.calendarValueType,calendarClass:_25.options.calendarClass||"class1",ioFormat:_74,ioFormatter:"$blank",displayFormat:_25.options.displayFormat||_74,displayFormatter:"$blank",keepFocusSelect:true,focusOnOuterDiv:true,footerDiv:_25.options.footerDiv,readOnly:"$blank",disabled:"$blank",validCheck:false,renderDiv:true},_25.element);try{if(_25.element&&typeof _25.element.getAttribute!="undefined"&&!_25.element.getAttribute("dateValidCheck")){_37.options.dateValidCheck=$W._N.getConfiguration("/WebSquare/grid/column[@inputType=\"calendar\"]/dateValidCheck/@value")||"false";}}catch(e){$W.exception.printStackTrace(e,null,this);}_37.writeTo(this);_37.event.addListener(_37.render,"oncopy",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));_37.event.addListener(_37.render,"onpaste",this.event.bindAsEventListener(this,function(e){$W._c.stopPropagation(e);}));if(_74!=_37.options.ioFormat){_25.options.ioFormat=_37.options.ioFormat;_25.initFormatter();}_37.activate();_37.setVerticalAlign=function(){};_37.handleKeyupEvent=function(){};_37.setStyle("z-index","10");}}}}}}}}this.dom[_2b]=_37;if(_28){this.adaptiveEmbeddedInputIdList.push(_2b);}}return _37;};$W._a._f.prototype.getTemporaryDataCollectionItemArr=function(_a4){["WebSquare.uiplugin.cellController.prototype.getTemporaryDataCollectionItemArr"];try{var _a5=[];if($W._G.getComponentById(_a4.dataCompID)){var _a6=$W._G.getComponentById(_a4.dataCompID);switch(_a6.initializeType){case "linkedDataList":var _a7={};for(var i=0;i<_a6.filteredRowIndexArr.length;i++){var _a9=_a6.getRealRowIndex(i);var _aa=_a6._dataList.dataArr[_a9*_a6.cellIdList.length+_a6.bodyIdColIndexMap[_a4.itemsetObj.label]];var _ab=_a6._dataList.dataArr[_a9*_a6.cellIdList.length+_a6.bodyIdColIndexMap[_a4.itemsetObj.value]];if(_a7[_aa]==_ab){continue;}_a7[_aa]=_ab;_a5.push({label:_aa,value:_ab});}break;case "dataList":var _a7={};for(var i=0;i<_a6.filteredRowIndexArr.length;i++){var _aa=_a6.dataArr[_a6.filteredRowIndexArr[i]*_a6.cellIdList.length+_a6.bodyIdColIndexMap[_a4.itemsetObj.label]];var _ab=_a6.dataArr[_a6.filteredRowIndexArr[i]*_a6.cellIdList.length+_a6.bodyIdColIndexMap[_a4.itemsetObj.value]];if(_a7[_aa]==_ab){continue;}_a7[_aa]=_ab;_a5.push({label:_aa,value:_ab});}break;case "dataMap":var _a7={};for(var i=0;i<_a6._dataList.oneRowDataLength;i++){var _aa=_a6._dataList.dataArr[_a6.bodyIdColIndexMap[_a4.itemsetObj.label]];var _ab=_a6._dataList.dataArr[_a6.bodyIdColIndexMap[_a4.itemsetObj.value]];if(_a7[_aa]==_ab){continue;}_a7[_aa]=_ab;_a5.push({label:_aa,value:_ab});}break;}}return _a5;}catch(e){$W.exception.printStackTrace(e);}};$W._a._I=function(_ac,_ad){["WebSquare.uiplugin.cellInfo"];this.options={id:"",col_id:"",colIndex:"",colSpan:0,rowSpan:0,defaultValue:"",value:"",inputType:"text",useFilter:false,blockSelect:false,dataType:"",valueType:"binary",viewType:"",trueValue:null,falseValue:null,editType:"",applyFormat:"display",displayFormat:"",displayFormatter:"",chooseOptionLabel:"-\uc120\ud0dd-",chooseOptionValue:"",chooseOption:false,allOption:false,title:"",adjustMaxLength:false,depthColumn:"",showDepth:0,importExp:"",importFormatter:"",expression:"",colMerge:false,colMergeEdit:false,upperColumn:"",readOnly:"",imageWidth:"",imageHeight:"",imageClickFunction:"",imageSrc:"",imageSrcDisabled:"",imageSrcReadOnly:"",alt:"",calendarValueType:"yearMonthDate",disabled:"",textAlign:"",exportFormatter:"",imeMode:"",selectSetter:"",ignoreStatus:false,dateValidCheck:"true",embeddedInput:"",groupName:"",escape:"",setRecursive:false,showReadOnly:false,customFormatter:"",escapeFormatter:"",depthType:"nbsp",moveFocusByChoice:"",directItemChoice:"",focusOutOnCheckHeaderClick:true,usePartialCheck:true,footerDiv:false,displayRowIndex:false,NaNFormat:"NaN",disabledClass:"",hiddenClass:"",displayMode:"0",delimiter:"\t",skipKeyMoveEditMode:false};this.mainGrid=_ad;this.mainGridId="G_"+this.mainGrid.id+"__";if(_ac){this.setOptions(_ac);}if(this.options.value!=""&&this.options.defaultValue==""){this.options.defaultValue=this.options.value;}if(this.options.value==""&&this.options.defaultValue!=""){this.options.value=this.options.defaultValue;}this.id=this.options.col_id;this.options.id=this.options.col_id;this.setController();this.initFormatter(_ac);this.initializeCellInfo(_ac);this.expressionStr=null;this.style="";this.heightGap=0;var _ae=$W._N.browserVersion();if($W._N.browserCheck.ie&&_ae!="8"){this.heightGap=2;}if(this.options.importExp!=""){this.options.importExp=this.options.importExp.replace(/[cC][oO][lL][\s]*[(]/g,"this.columnValue(obfuscator_rowXml, ");this.options.importExp=this.options.importExp.replace(/[xX][pP][aA][tT][hH][\s]*[(]/g,"this.xpathValue(obfuscator_rowXml, ");this.options.importExp=this.options.importExp.replace(/[rR][oO][wW][iI][nN][dD][eE][xX][\s]*[(]/g,"this.rowIndexValue(obfuscator_i");}if(this.options.colSpan==0){this.options.colSpan=1;}if(this.options.rowSpan==0){this.options.rowSpan=1;}if(_ac){var _af=(this.options.groupName&&this.options.groupValue)?false:true;var _b0=this.options.inputType;var _b1=(_b0=="button"||_b0=="image")?false:true;if(_af&&_b1&&this.mainGrid.successBinding){var _b2=!!(_ad._dataList.getCellInfo(this.id).element)?true:false;if(!_b2){this.options.readOnly=true;}}}var _b3=this.mainGrid.getColumnIndex(this.id);if(this.options.inputType=="radio"&&this.options.groupName){this.mainGrid.radioGroupRepChk[this.options.groupName]=true;}if(this.options.NaNFormat=="$blank"){this.options.NaNFormat="";}this.changedCellHeight=0;this.dynamicAttrInfo={};};$W._a._I.prototype.setOptions=function(_b4){var _b5=this.mainGrid.options.pluginName;var _b6=_b4.getAttribute("inputType")||"text";var _b7=_b4.getAttribute("calendarValueType")||this.options.calendarValueType;this.configOptions=$W.configManager.getConfig(_b5+"/column[@inputType='"+_b6+"']");if(_b6=="calendar"&&_b5=="grid"){this.configOptions.displayFormat=$W._N.getConfiguration("/WebSquare/grid/column[@inputType=\"calendar\"]/displayFormat[@valueType=\""+_b7+"\"]/@value")||$W._N.getConfiguration("/WebSquare/grid/column[@inputType=\"calendar\"]/displayFormat/@value");}else{if(_b6=="calendar"&&_b5=="gridView"){this.configOptions.displayFormat=$W._N.getConfiguration("/WebSquare/gridView/column[@inputType=\"calendar\"]/displayFormat[@valueType=\""+_b7+"\"]/@value")||$W._N.getConfiguration("/WebSquare/gridView/column[@inputType=\"calendar\"]/displayFormat/@value");}}this.options=$W.extendKeepingType(this.options,this.configOptions);var _b8=[];for(var _b9 in this.options){_b8[_b9.toLowerCase()]=_b9;}var _ba=_b4.attributes;for(var i=0;i<_ba.length;i++){var _bc=_ba[i];var _bd=_bc.name;var _be=_bc.value;if(_bd=="xmlns:w2"){continue;}if(_bd=="class"){this.options["className"]=_be;}else{if((_be).wq_trim()!=""){if(_b8[_bd]){_bd=_b8[_bd];}if(typeof this.options[_bd]=="boolean"){_be=$W._G.getBoolean(_be);}else{if(typeof this.options[_bd]=="Number"){_be=$W._G.getNumber(_be);}}this.options[_bd]=_be;}}}var _bf=this.options.dataType;if(!_bf&&this.mainGrid.successBinding){_bf=this.mainGrid._dataList.getColumnOption(this.options.col_id,"dataType");}if(_bf=="date"&&!this.options.displayFormat){this.options.displayFormat=$W._N.getConfiguration("/WebSquare/"+_b5+"/dataType/date/@displayFormat");}if(_bf=="time"&&!this.options.displayFormat){this.options.displayFormat="HH:mm";}if(this.mainGrid.options.senseReader&&this.options.embeddedInput!=="false"){switch(this.options.inputType||"text"){case "secret":case "text":if(this.mainGrid.options.focusMode=="none"&&this.options.readOnly!="false"){this.options.readOnly=true;}case "select":case "checkbox":case "radio":case "calendar":this.options.embeddedInput=true;}}else{this.options.embeddedInput=$W._G.getBoolean(this.options.embeddedInput);}if(this.options.inputType=="textarea"){this.options.showReadOnly=true;}this.element=_b4;if(this.options.inputType=="expression"){var str=this.options.expression;if(str!=""){str=str.replace(/rowStatus[\s]*[(]/ig,"this.rowStatus(");if(str.match("rowStatus")){this.mainGrid.rowStatusColIDArr.push(this.options.col_id);}}}};$W._a._I.prototype.setController=function(){switch(this.options.inputType){case "text":$W.extend(this,$W._a._I.text.prototype);break;case "link":$W.extend(this,$W._a._I.link.prototype);break;case "checkbox":$W.extend(this,$W._a._I.checkbox.prototype);break;case "button":$W.extend(this,$W._a._I.button.prototype);break;case "image":$W.extend(this,$W._a._I.image.prototype);break;case "radio":$W.extend(this,$W._a._I.radio.prototype);break;case "select":$W.extend(this,$W._a._I.select.prototype);break;case "calendar":$W.extend(this,$W._a._I.calendar.prototype);break;case "textarea":$W.extend(this,$W._a._I.textarea.prototype);break;case "expression":$W.extend(this,$W._a._I.expression.prototype);break;case "drilldown":$W.extend(this,$W._a._I.text.prototype);$W.extend(this,$W._a._I.drilldown.prototype);break;case "textImage":$W.extend(this,$W._a._I.textImage.prototype);break;case "checkcombobox":$W.extend(this,$W._a._I.checkcombobox.prototype);break;case "autoComplete":$W.extend(this,$W._a._I.autoComplete.prototype);break;case "spinner":$W.extend(this,$W._a._I.spinner.prototype);break;default:$W.extend(this,$W._a._I.text.prototype);break;}};$W._a._I.prototype.setInnerHTML=function(td,_c2,_c3,_c4){td.innerHTML="<nobr>"+this.getDisplayData(_c2)+"</nobr>";};$W._a._I.prototype.setEditMode=function(td,_c6){this.mainGrid.editedCell=null;this.mainGrid.editMode=false;};$W._a._I.prototype.initFormatter=function(_c7){var _c8=this.options.dataType;if(!_c8&&this.mainGrid.successBinding){_c8=this.mainGrid._dataList.getColumnOption(this.options.col_id,"dataType");}if(!_c8&&this.options.expression){var exp=this.options.expression;exp=exp.replace(/[sS][uU][mM][\s]*[(]/g,"NUMBER(");exp=exp.replace(/[aA][vV][gG][\s]*[(]/g,"NUMBER(");exp=exp.replace(/[mM][aA][xX][\s]*[(]/g,"NUMBER(");exp=exp.replace(/[mM][iI][nN][\s]*[(]/g,"NUMBER(");exp=exp.replace(/rowStatus[\s]*[(]/ig,"NUMBER(");exp=exp.replace(/[cC][aA][lL][cC][\s]*[(]/g,"STRING(");exp=exp.replace(/[dD][iI][sS][pP][lL][aA][yY][\s]*[(]/g,"STRING(");if(exp.indexOf("NUMBER(")>-1){_c8="number";}else{if(exp.indexOf("STRING(")>-1){_c8="text";}}}if(_c8=="date"&&this.options.inputType=="calendar"&&!this.options.ioFormat){if(this.options.calendarValueType=="yearMonthDate"){this.options.ioFormat="yyyyMMdd";}else{if(this.options.calendarValueType=="yearMonth"){this.options.ioFormat="yyyyMM";}else{if(this.options.calendarValueType=="yearMonthDateTime"){this.options.ioFormat="yyyyMMddHHmm";}else{if(this.options.calendarValueType=="yearMonthDateTimeSec"){this.options.ioFormat="yyyyMMddHHmmSS";}}}}}this.formatter=$W._C.createFormatter(_c8,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.emptyFormatter=$W._C.createFormatter(_c8,"",null);};$W._a._I.prototype.getDisplayData=function(_ca){if(this.formatter){_ca=this.formatter.format(_ca);}if(this.options.inputType=="secret"){_ca=_ca.replace(/./gi,"\u25cf");}return _ca;};$W._a._I.prototype.initializeCellInfo=function(){};$W._a._I.prototype.handleEndEdit=function(e,_cc,_cd){["WebSquare.uiplugin.cellInfo.prototype.handleEndEdit"];try{e=e||{};if(this.options.embeddedInput){return true;}this.mainGrid.rollbackCommitFlag=false;if(this.mainGrid.editMode){var _ce=this.mainGrid.editedCell;if(_ce._getEditedValue){var _cf=this.mainGrid.getColumnIndex(this.mainGrid.editedCell.id);var _d0=this.editRowIndex;var _d1=_ce._getEditedValue();var ret=$W._c.fireEvent(this.mainGrid,"oneditend",_d0,_cf,_d1,e);if(ret+""=="false"){this.mainGrid.getInput(this).focus();$W._c.stopEvent(e);return false;}}if(!_ce.validate()){$W._c.stopEvent(e);return false;}var _d3=this.mainGrid.dataList.getCellData(this.editRowIndex,_ce.options.id);this.mainGrid.editedCell=null;this.mainGrid.editMode=false;if(_cd){var _d4=null;var _d5=null;if(this.editTd!=null){_d4=this._handleEndEdit(e,_cc,true);_d5=this.mainGrid.getCellData(this.editRowIndex,_ce.options.id);}$W._N.setTimer(function(_d6,_d7){if(this.editTd!=null){this._handleEndEdit_focus(_d7);}this._afterEndEdit(_d6,_d5);_d6=null;_d7=null;},{key:this.id+"_handleClickEventDocument",caller:this,args:[_ce,_d4]});_d4=null;_ce=null;}else{var _d5=null;if(this.editTd!=null){_d5=this.mainGrid.getCellData(this.editRowIndex,_ce.options.id);this._handleEndEdit(e,_cc);}var ret=this._afterEndEdit(_ce,_d5);_ce=null;return ret;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.prototype._afterEndEdit=function(_d8,_d9){var _da=this.mainGrid.dataList.getCellData(this.editRowIndex,_d8.options.id);var _db=this.editRowIndex;var _dc=_d8.options.id;var _dd=_db;var _de=this.mainGrid.getColumnIndex(_dc);var _df=this.editTd.getAttribute("colMerged");if(_df=="0"&&!_d8.options.colMergeEdit){var _e0=function(_e1,_e2,_e3,_e4){var _e5=_e1;while(_e1+1<this.mainGrid.getDataLength()){_e1=_e1+1;var _e6=this.mainGrid.upperGroupingTest(_e1,_e2);var _e7=this.mainGrid.dataList.getCellData(_e1,_e2);if(_e6){if(_e7==_d9){this.mainGrid.dataList.setCellData(_e1,_e2,_e4);}else{var _e8=this.mainGrid.tdIdList.length;var _e9=this.mainGrid.data_td_list[_e1*_e8+_e3];this.setInnerHTML(_e9,_e7,_e1,this.id);break;}}else{var _e8=this.mainGrid.tdIdList.length;var _e9=this.mainGrid.data_td_list[_e1*_e8+_e3];this.setInnerHTML(_e9,_e7,_e1,this.id);break;}}var _e1=_e5;while(_e1-1>0){var _e6=this.mainGrid.upperGroupingTest(_e1,_e2);var _e7=this.mainGrid.dataList.getCellData(_e1,_e2);_e1=_e1-1;if(_e6){var _e7=this.mainGrid.dataList.getCellData(_e1,_e2);if(_e7==_d9){this.mainGrid.dataList.setCellData(_e1,_e2,_e4);}else{var _e8=this.mainGrid.tdIdList.length;var _e9=this.mainGrid.data_td_list[_e1*_e8+_e3];this.setInnerHTML(_e9,_e7,_e1,this.id);break;}}else{_e7=this.mainGrid.dataList.getCellData(_e1,_e2);var _e8=this.mainGrid.tdIdList.length;var _e9=this.mainGrid.data_td_list[_e1*_e8+_e3];this.setInnerHTML(_e9,_e7,_e1,this.id);break;}}var _e2=this.mainGrid.getColumnIndex(_e2);this.mainGrid.applyColumnStyleOptions(_e2);};_e0.call(this,_db,_dc,_de,_da);var _ea=this.mainGrid.upperToLowerColumnRelation[_dc];if(_ea){for(var i=0;i<_ea.length;i++){var _ec=_ea[i];var _ed=this.mainGrid.dataList.getCellData(_db,_ec);var _ee=this.mainGrid.getColumnIndex(_ec);_e0.call(this,_db,_ec,_ee,_ed);}}}if(_d8.options.colMergeEdit){this.mainGrid.setColMergeCellData(_dd-this.mainGrid.rowIndex,_dd,_de);}var _ef=this.mainGrid.dataList.getCellData(_dd,_de);var _f0=3;if(Math.abs(this.changedCellHeight)>_f0){this.mainGrid.notifyRowChanged(_dd);}var _f1=$W._c.fireEvent(this.mainGrid,"onafteredit",_dd,_de,_ef,this.mainGrid.lastEvent);this.mainGrid.lastEvent=null;if(_f1==false){_f1=false;}else{_f1=true;}this.mainGrid.rollbackCommitFlag=true;return _f1;};$W._a._I.prototype.handleScrollY=function(e){return this.handleEndEdit(e);};$W._a._I.prototype.validate=function(){return true;};$W._a._I.prototype._handleEndEdit=function(e,_f4,_f5){var _f6=this._handleEndEdit_common(e);if(!_f5){this._handleEndEdit_focus(_f6,_f4);}else{return _f6;}};$W._a._I.prototype._handleEndEdit_common=function(e,_f8){return null;};$W._a._I.prototype._handleEndEdit_focus=function(_f9){return null;};$W._a._I.prototype.handleCancelEdit=function(e){if(this.options.embeddedInput){return;}this.mainGrid.editedCell=null;this.mainGrid.editMode=false;this._handleCancelEdit(e);};$W._a._I.prototype._handleCancelEdit=function(e){};$W._a._I.prototype.removeCellData=function(_fc,_fd){};$W._a._I.prototype.doDefaultAction=function(e){};$W._a._I.prototype.setMergedCol=function(_ff,_100,_101,_102){var _103=_ff;var _104=new Array();_104[_ff]=true;while(_ff<this.mainGrid.getDataLength()){_ff=_ff+1;var _105=this.mainGrid.upperGroupingTest(_ff,_100);if(_105){var _106=this.mainGrid.dataList.getCellData(_ff,_100);if(_106==_101){this.mainGrid.dataList.setCellData(_ff,_100,_102);_104[_ff]=true;}else{break;}}else{break;}}var _ff=_103;while(_ff>0){var _105=this.mainGrid.upperGroupingTest(_ff,_100);_ff=_ff-1;if(_105){var _106=this.mainGrid.dataList.getCellData(_ff,_100);if(_106==_101){this.mainGrid.dataList.setCellData(_ff,_100,_102);_104[_ff]=true;}else{break;}}else{break;}}var _100=this.mainGrid.getColumnIndex(_100);this.mainGrid.applyColumnStyleOptions(_100);return _104;};$W._a._I.prototype.getEscape=function(){return (this.options.escape!="")?this.options.escape:this.mainGrid.options.escape;};$W._a._I.text=function(){["WebSquare.uiplugin.cellInfo.text"];};$W._a._I.text.prototype.setInnerHTML=function(td,data,_109,_10a){if(this.options.embeddedInput&&!this.mainGrid.getEditDisabled(_109,_10a)&&!this.mainGrid._getEditReadOnly(_109,_10a)){var _10b=this.mainGrid.getInput(this,td);if(_10b.render.parentNode==null){td.innerHTML="";td.appendChild(_10b.render);}_10b.blur();_10b.render.setAttribute("rowindex",_109);if(this.mainGrid.options.autoResizeEmbeddedInput){var _10c=0;var _10d=0;var _10e=false;if(td.parentNode.style.display=="none"){td.parentNode.style.display="";_10e=true;}if(_10b.render.parentNode==null){td.innerHTML="";td.appendChild(_10b.render);}if(!this.mainGrid.embeddedStyleObj){this.mainGrid.embeddedStyleObj={top:parseInt($W._H.getStyle(td,"padding-top"),10),bottom:parseInt($W._H.getStyle(td,"padding-bottom"),10),left:parseInt($W._H.getStyle(td,"padding-left"),10),right:parseInt($W._H.getStyle(td,"padding-right"),10),inputTop:parseInt($W._H.getStyle(_10b.render,"padding-top"),10),inputBottom:parseInt($W._H.getStyle(_10b.render,"padding-bottom"),10),inputLeft:parseInt($W._H.getStyle(_10b.render,"padding-left"),10),inputRight:parseInt($W._H.getStyle(_10b.render,"padding-right"),10)};}var _10f=parseInt($W._H.getStyle(_10b.render,"border-top-width"),10);var _110=parseInt($W._H.getStyle(_10b.render,"border-bottom-width"),10);var _111=parseInt($W._H.getStyle(_10b.render,"border-left-width"),10);var _112=parseInt($W._H.getStyle(_10b.render,"border-right-width"),10);_10c=td.offsetHeight-parseInt($W._H.getStyle(td,"border-top-width"),10)-parseInt($W._H.getStyle(td,"border-bottom-width"),10);_10c-=(this.mainGrid.embeddedStyleObj["top"]+this.mainGrid.embeddedStyleObj["bottom"]);_10c-=(_10f+_110);if(!this.mainGrid.embeddedWidthObj[_10a]||this.mainGrid.embeddedWidthObj[_10a]["isChanged"]){this.mainGrid.embeddedWidthObj[_10a]={isChanged:false,width:td.clientWidth};}_10d=this.mainGrid.embeddedWidthObj[_10a]["width"];_10d-=(this.mainGrid.embeddedStyleObj["left"]+this.mainGrid.embeddedStyleObj["right"]);_10d-=(_111+_112);_10d-=(this.mainGrid.embeddedStyleObj["inputLeft"]+this.mainGrid.embeddedStyleObj["inputRight"]);if(_10e){td.parentNode.style.display="none";}else{if($W._G.isIE("6 7")){_10c-=2;}}if($W._G.isOpera()){_10c+=2;}_10b.setSize(_10d-2,_10c-(this.mainGrid.embeddedStyleObj["inputTop"]+this.mainGrid.embeddedStyleObj["inputBottom"]));_10b.setStyle("lineHeight",_10c+"px");}else{if(_10b.render.parentNode==null){td.innerHTML="";td.appendChild(_10b.render);}}if(this.options.applyFormat!="all"&&!this.options.displayFormat){data=this.getDisplayData(data);}_10b.setValue(data);if(this.options.textAlign){_10b.setStyle("text-align",this.options.textAlign);}else{_10b.setStyle("text-align","");}td.removeAttribute("tabIndex");td.removeAttribute("title");}else{if(this.options.title){td.setAttribute("title",this.options.title);}var _113=null;if(this.options.escapeFormatter){try{if(typeof this.options.escapeFormatter=="function"){_113=this.options.escapeFormatter;}else{_113=eval(this.options.escapeFormatter);this.options.escapeFormatter=_113;}}catch(e){_113=null;}}var _114=null;if(this.options.customFormatter){try{if(typeof this.options.customFormatter=="function"){_114=this.options.customFormatter;}else{_114=$W._G.getGlobalFunction(this.options.customFormatter);if(_114!=null){this.options.customFormatter=_114;}}}catch(e){_114=null;}}var _115=data;if(typeof _113=="function"){this.useEscapeFormatter=true;_115=_113.call(this.mainGrid,data,_109,_10a);}else{this.useEscapeFormatter=false;}var _116=(this.options.escape!=="")?this.options.escape:this.mainGrid.options.escape;if(_116==="true"){_115=$W._B._encode(data+"");}var _117=_115;var _118=this.options.displayFormat||this.options.displayFormatter||this.options.ioFormat;if(this.formatter&&_118){_117=this.formatter.format(_115);}if(this.options.inputType=="secret"){_117=_117.replace(/./gi,"\u25cf");}var _119;if(typeof _114=="function"){this.useCustomFormatter=true;_119=_114.call(this.mainGrid,data,_117,_109,_10a);}else{this.useCustomFormatter=false;_119=_117;}if(this.mainGrid.options.plainText&&this.useCustomFormatter===false&&!this.options.displayFormatter&&td.firstChild&&td.firstChild.firstChild){td.firstChild.firstChild.data=_119;}else{var _11a="";if(this.options.inputType=="secret"&&$W._N.browserCheck.ieAllVersion){_11a+=" class='w2grid_secret'";}td.innerHTML="<nobr"+_11a+">"+_119+"</nobr>";}}};$W._a._I.text.prototype.setEditMode=function(td,_11c){["WebSquare.uiplugin.cellInfo.text.prototype.setEditMode"];try{if(this.options.embeddedInput){return;}this.editRowIndex=_11c;this.editTd=td;this.setPosition();var _11d=this.mainGrid.getInput(this);_11d.formatter=this.options.applyFormat=="all"?this.formatter:this.emptyFormatter;_11d.options.applyFormat=this.options.applyFormat;if(this.options.maxLength){_11d.render.setAttribute("maxLength",this.options.maxLength);}else{_11d.render.removeAttribute("maxLength");}_11d.setValue(this.mainGrid.dataList.getCellData(_11c,this.id));if(document.activeElement!=_11d.render){_11d.focus();}this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;if(_11d.options.editType=="select"){_11d.select();}else{if(_11d.options.editType=="focus"&&($W._G.isIEAllVersion()||$W._G.isFF()||$W._G.isSpartan())){$W._A.setCaretPos(_11d.render,_11d.render.value.length);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.text.prototype.setPosition=function(){var _11e={top:0,left:0,width:0,height:0};if($W._G.isFF()){_11e={top:-1,left:-1,width:0,height:0};}else{if($W._G.isOpera()){_11e={top:0,left:0,width:0,height:1};}else{if($W._G.isIE(9)){_11e={top:-1,left:-1,width:0,height:0};}}}var td=this.editTd;var _120=td.offsetTop+1+_11e.top;var _121=td.offsetLeft+1+_11e.left;var _122=td.clientWidth-6+_11e.width;var _123=td.clientHeight-2+_11e.height;var _124=this.mainGrid.getInput(this);if(this.options.imeMode!=""){_124.render.style.imeMode=this.options.imeMode;}else{var _125=this.mainGrid.getColumnOption(this.options.col_id,"dataType");_124.render.style.imeMode=(_125=="number")?"disabled":"";}_124.show();if(this.mainGrid.options.groupbyZone){var _126=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;_120=_120+_126;}if(this.mainGrid.hasClass("w2grid_adaptive_crosstab")){var _127=document.getElementById(this.mainGrid.id+"_body_tbody").scrollLeft;_121=_121-_127;_124.render.style.lineHeight=_123+"px";}_124.render.style.top=_120+"px";_124.render.style.left=_121+"px";_124.render.style.width=_122+"px";_124.render.style.height=_123+"px";if($W._G.isIE()){_124.render.style.lineHeight=_123+"px";}_124.render.style.textAlign=td.style.textAlign==""?"center":td.style.textAlign;};$W._a._I.text.prototype.removeCellData=function(_128,_129){this.mainGrid.dataList.setCellData(_128,_129,"");};$W._a._I.text.prototype._handleEndEdit_common=function(e){["WebSquare.uiplugin.cellInfo.text.prototype._handleEndEdit"];try{var _12b=this.mainGrid.getInput(this);this.setEditData(_12b);return _12b;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.text.prototype._handleEndEdit_focus=function(_12c,_12d){if(this.mainGrid.isMobile||!_12d){_12c.hide();}};$W._a._I.text.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.text.prototype._getEditedValue"];var _12f=this.mainGrid.getColumnOption(this.options.col_id,"dataType");if(_12f=="bigDecimal"){var _130=$W._b(this.mainGrid.getInput(this).getValue());return _130.toString();}var _130=this.mainGrid.getInput(this).getValue();return _130;};$W._a._I.text.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.text.prototype._handleCancelEdit"];try{var _132=this.mainGrid.dataList.getCellData(this.editRowIndex,this.id);this.setInnerHTML(this.editTd,_132,this.editRowIndex,this.id);var _133=this.mainGrid.getInput(this);_133.hide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.text.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};$W._a._I.text.prototype.setEditData=function(_135){try{var _136=_135.getValue();if(this.options.dataType=="number"){var _137=_136.wq_trim();if(_137==="."||_137==="-"||_137==="+"){_136="";}}_136=_135.validator.validateString(_136);_135.setValueNM(_136,true);this.setInnerHTML(this.editTd,_136,this.editRowIndex,this.id);var _138=this.mainGrid.getColumnOption(this.options.col_id,"dataType");if(this.mainGrid.options.numberCasting&&_138=="number"){if(_136!=""){_136=Number(_136);}}var _139={};_139[this.mainGrid.id]=true;this.mainGrid.dataList.setCellData(this.editRowIndex,this.id,_136,null,null,null,_139);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.link=function(){["WebSquare.uiplugin.cellInfo.link"];};$W._a._I.link.prototype.setInnerHTML=function(td,data,_13c,_13d){var _13e=-1;var _13f="tabIndex='"+_13e+"'";if(this.mainGrid.options.focusMode=="none"){_13e=0;}else{if(this.mainGrid.options.keyMoveEditMode==true){_13f="";}}var _140=$W._G.getGlobalFunction(this.options.customFormatter);var _141=this.getDisplayData(data);var _142;if(typeof _140=="function"){this.useCustomFormatter=true;_142=_140.call(this.mainGrid,data,_141,_13c,_13d);}else{this.useCustomFormatter=false;_142=_141;}var _143=this.options.title?" title='"+this.options.title+"'":"";td.innerHTML="<nobr><a href='' onclick='event.returnValue=false; return false;'"+_13f+" "+_143+">"+_142+"</a></nobr>";};$W._a._I.link.prototype.doDefaultAction=function(e){if(this.mainGrid.options.focusMode=="none"){var td=$W._c.getTarget(e);while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){var _146=this.mainGrid.getElemRowIndex(td);var _147=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));}else{return;}}else{var _148=this.mainGrid.getLastFocusedCell();var _146=_148.focusedRowIndex;var _147=_148.focusedColIndex;}if(!this.mainGrid.getEditDisabled(_146,_147)&&!this.mainGrid._getEditReadOnly(_146,_147)){$W._c.fireEvent(this.mainGrid,"oncellclick",_146,_147);}};$W._a._I.checkbox=function(){["WebSquare.uiplugin.cellInfo.checkbox"];};$W._a._I.checkbox.prototype.initializeCellInfo=function(_149){["WebSquare.uiplugin.cellInfo.checkbox.prototype.initializeCellInfo"];switch(this.options.valueType){case "binary":this.setBooleanValue("1","0");break;case "boolean":this.setBooleanValue("true","false");break;case "other":if(this.options.trueValue=="$blank"){this.options.trueValue="";}if(this.options.falseValue=="$blank"){this.options.falseValue="";}this.setBooleanValue(this.options.trueValue,this.options.falseValue);break;}};$W._a._I.checkbox.prototype.setBooleanValue=function(_14a,_14b){this.options.trueValue=_14a+"";this.options.falseValue=_14b+"";};$W._a._I.checkbox.prototype.setInnerHTML=function(td,data,_14e){var _14f=data+""==this.options.trueValue;var _150=this.mainGrid.getEditReadOnly(td,_14e)||this.mainGrid.getEditDisabled(_14e,td.getAttribute("col_id"));if(this.options.embeddedInput){var _151=this.mainGrid.getInput(this,td);_151.setAttribute("rowindex",_14e);_151.checked=_14f;_151.disabled=_150;}else{var _152=this.options.title?" title='"+this.options.title+"'":"";var _153=this.mainGrid.options.focusMode=="none"?"":" tabIndex='-1'";var _154=_14f?" checked":"";var _155=_150?" disabled='true'":"";var _156="";if(this.options.removeBorderStyle!="true"){_156="style='border-width:0px;'";}var _157=this.options.visibleFunc;if(_157){var show=eval(_157+"("+_14e+")");if(show){td.innerHTML="<INPUT "+_156+" type='checkbox' "+_152+_153+_154+_155+" />";}else{td.innerHTML="";}}else{td.innerHTML="<INPUT "+_156+" type='checkbox' "+_152+_153+_154+_155+" />";}}};$W._a._I.checkbox.prototype.getDisplayData=function(data){return data;};$W._a._I.checkbox.prototype.handleClick=function(td,_15b){var _15c=this.mainGrid.getEditReadOnly(td,_15b)||this.mainGrid.getEditDisabled(_15b,td.getAttribute("col_id"));if(_15c){return true;}if(td.firstChild){var _15d=this.options.id;var _15e=td.firstChild.checked;var _15f=this.options.falseValue;if(_15e){_15f=this.options.trueValue;}var _160=this.mainGrid.dataList.getCellData(_15b,_15d);if(_160==""&&!_15e){_15f=_160;}this.mainGrid.dataList.setCellData(_15b,this.id,_15f);if(td.getAttribute("colMerged")=="0"){this.setMergedCol(_15b,_15d,_160,_15f);}if(_160!=_15f){var _161=this.mainGrid.getColumnIndex(this.options.id);var info={"oldValue":_160,"newValue":_15f,"rowIndex":_15b,"colIndex":_161};$W._c.fireEvent(this.mainGrid,"onviewchange",info);}this.checkHeader();}return true;};$W._a._I.checkbox.prototype.checkHeader=function(){["WebSquare.uiplugin.cellInfo.checkbox.prototype.checkHeader"];try{if(this.mainGrid.headerObj&&this.options.usePartialCheck){var _163=this.mainGrid.headerObj[this.mainGrid.bodyToHeaderRelation[this.id]];if(_163){var _164=!!(this.mainGrid.isDrillDown&&this.mainGrid._dataList.options.depthColumn);var _165=_164?this.mainGrid.getTotalRow():this.mainGrid.getRowCount();var _166=this.mainGrid.getCheckedIndex(this.id).length;if($W._G.isIEAllVersion()){if(_165<=_166){_163.checked=true;_163.indeterminate=false;}else{if(_166>0){if(_163.checked==true){_163.checked=false;_163.indeterminate=true;}else{_163.checked=true;_163.indeterminate=true;}}else{_163.checked=false;_163.indeterminate=false;}}}else{if(_165<=_166){_163.indeterminate=false;}else{if(_166>0){_163.indeterminate=true;}else{_163.indeterminate=false;}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.checkbox.prototype.doDefaultAction=function(e){if(this.options.embeddedInput){return;}if(this.mainGrid.options.focusMode=="none"){var td=$W._c.getTarget(e);td.focus();while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){var _169=this.mainGrid.getElemRowIndex(td);var _16a=this.id;var _16b=true;}else{return;}}else{var _16c=this.mainGrid.getLastFocusedCell();var _169=_16c.focusedRowIndex;var _16a=this.id;var _16b=false;}if(!this.mainGrid.getEditDisabled(_169,_16a)&&!this.mainGrid._getEditReadOnly(_169,_16a)){var _16d=this.mainGrid.dataList.getCellData(_169,_16a);this.mainGrid.dataList.setCellData(_169,_16a,_16d==this.options.trueValue?this.options.falseValue:this.options.trueValue);var _16e=this.mainGrid.dataList.getCellData(_169,_16a);if(_16e!=_16d){$W._c.fireEvent(this.mainGrid,"onviewchange",{"oldValue":_16d,"newValue":_16e,"rowIndex":_169,"colIndex":this.mainGrid.getColumnIndex(_16a)});}}this.checkHeader();};$W._a._I.button=function(){["WebSquare.uiplugin.cellInfo.button"];};$W._a._I.button.prototype.setInnerHTML=function(td,data,_171){var _172=this.mainGrid.getEditDisabled(_171,td.getAttribute("col_id"));var _173="";if(_172){_173=" disabled='true' ";}var _174=-1;var _175=" tabIndex='"+_174+"' ";if(this.mainGrid.options.focusMode=="none"){_174=0;}else{if(this.mainGrid.options.keyMoveEditMode==true){_175="";}}var _176=this.options.title?" title='"+this.options.title+"'":"";td.innerHTML="<button type='button' style='width:100%;height:100%' "+_173+_175+">"+this.getDisplayData(data)+"</button>";var _177=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));var _178=function(_179,attr,func){return function(e){func.apply(_179,[e||window.event].concat(attr));};};this._listener=_178(this,[_171,_177,td],function(e,_17e,_17f,_180){if(!this.mainGrid.getEditDisabled(_171,_17f)&&!this.mainGrid._getEditReadOnly(_171,_17f)){if(this.mainGrid.editedCell!=null){this.mainGrid.editedCell.handleEndEdit();}if(!this.options.blockSelect){this.mainGrid._setFocusedCell(e,_180,{editMode:this.options.focusMode=="none"});}}if(!this.mainGrid.getEditDisabled(_171,_17f)){$W._c.fireEvent(this.mainGrid,"oncellclick",_171,_17f);}});$W._c.addListener(td.getElementsByTagName("button")[0],"onclick",this._listener);};$W._a._I.button.prototype.doDefaultAction=function(e){if(this.mainGrid.options.focusMode=="none"){var td=$W._c.getTarget(e);while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){var _183=this.mainGrid.getElemRowIndex(td);var _184=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));}else{return;}}else{var _185=this.mainGrid.getLastFocusedCell();var _183=_185.focusedRowIndex;var _184=_185.focusedColIndex;}if(!this.mainGrid.getEditDisabled(_183,_184)&&!this.mainGrid._getEditReadOnly(_183,_184)){$W._c.fireEvent(this.mainGrid,"oncellclick",_183,_184);}};$W._a._I.image=function(){["WebSquare.uiplugin.cellInfo.image"];};$W._a._I.image.prototype.setInnerHTML=function(td,data,_188,_189){var _18a="";if(this.options.imageWidth!=""){_18a+=";width:"+parseInt(this.options.imageWidth)+"px";}if(this.options.imageHeight!=""){_18a+=";height:"+parseInt(this.options.imageHeight)+"px";}var _18b="";if(this.options.alt!=""){_18b="alt='"+this.options.alt+"' ";}var _18c=this.mainGrid.getEditDisabled(_188,td.getAttribute("col_id"));var _18d="";if(_18c){_18d=" disabled='true' ";}if(data==null||data==""){data=this.options.imageSrc?$W._N.getImageURL(this.options.imageSrc):"";}else{if(typeof data=="string"){data=$W._N.getImageURL(data);}}var _18e="";if(this.options.imageClickFunction!=""&&this.options.imageClickFunction!=null){var _18f=this.options.useImageClick||"false";var _190=this.mainGrid.getDisabled("all",_188,_189);if((_18f=="true")||(_18f=="false"&&_190==false)){_18e=" onclick='WebSquare.event.stopPropagation(event);"+this.mainGrid.id+".fireImageClick("+_188+",\""+this.id+"\")' ";}}var _191="";try{if(this.options.onerror){_191=" onerror='("+this.options.onerror+").call(this,event);' ";}}catch(e){$W.exception.printStackTrace(e,null,this);}var _192=this.options.imageTabIndex?" tabIndex='"+this.options.imageTabIndex+"'":"";if(this.mainGrid.options.senseReader&&this.mainGrid.options.focusImage){td.innerHTML="<IMG src='"+data+"' class='w2grid_image"+(_18c?" w2grid_image_disabled":"")+"' style='"+_18a+"' "+_18b+_18d+_18e+_191+_192+"tabIndex='0' />";}else{td.innerHTML="<IMG src='"+data+"' class='w2grid_image"+(_18c?" w2grid_image_disabled":"")+"' style='"+_18a+"' "+_18b+_18d+_18e+_191+_192+" />";}};$W._a._I.image.prototype.getDisplayData=function(data){return data;};$W._a._I.radio=function(){["WebSquare.uiplugin.cellInfo.radio"];};$W._a._I.radio.prototype.initializeCellInfo=function(_194){["WebSquare.uiplugin.cellInfo.radio.prototype.initializeCellInfo"];switch(this.options.valueType){case "binary":this.setBooleanValue("1","0");break;case "boolean":this.setBooleanValue("true","false");break;case "other":this.setBooleanValue(this.options.trueValue,this.options.falseValue);break;}if(this.options.groupRef){this.options.groupValue=$W._J.getInstanceValue(this.options.groupRef);}};$W._a._I.radio.prototype.setBooleanValue=function(_195,_196){this.options.trueValue=_195+"";this.options.falseValue=_196+"";};$W._a._I.radio.prototype.setInnerHTML=function(td,data,_199){var name=this.mainGridId+"_radio_"+(this.options.groupName?this.options.groupName+"_"+_199:this.id);var _19b=data+""==this.options.trueValue;var _19c=this.mainGrid.getEditReadOnly(td,_199)||this.mainGrid.getEditDisabled(_199,td.getAttribute("col_id"));if(this.options.embeddedInput){var _19d=this.mainGrid.getInput(this,td);_19d.setAttribute("rowindex",_199);_19d.checked=false;_19d.name=name;_19d.checked=_19b;_19d.disabled=_19c;}else{var _19e=this.options.title?" title='"+this.options.title+"'":"";var _19f=this.mainGrid.options.focusMode=="none"?"":" tabIndex='-1'";var _1a0=_19b?" checked":"";var _1a1=_19c?" disabled='true'":"";var _1a2="";if(this.options.removeBorderStyle!="true"){_1a2="style='border-width:0px;'";}td.innerHTML="<INPUT "+_1a2+" type='radio' name='"+name+"'"+_19e+_19f+_1a0+_1a1+" />";}};$W._a._I.radio.prototype.getDisplayData=function(data){return data;};$W._a._I.radio.prototype.handleClick=function(td,_1a5){if(!td.firstChild){return true;}var _1a6=this.mainGrid.dataList.getCellData(_1a5,this.id);var _1a7=_1a6;if(_1a6==this.options.trueValue){return true;}if(td.firstChild.checked){_1a7=this.options.trueValue;this.resetOthers(_1a5);if(this.options.groupName){if(this.mainGrid.radioGroupRepChk[this.options.groupName]){this.mainGrid.dataList.setCellData(_1a5,this.options.groupName,this.options.groupValue);}}}this.mainGrid.dataList.setCellData(_1a5,this.id,_1a7);if(td.getAttribute("colMerged")=="0"){var _1a8=this.setMergedCol(_1a5,this.id,_1a6,_1a7);}if(_1a6!=_1a7){var _1a9=this.mainGrid.getColumnIndex(this.options.id);var info={"oldValue":_1a6,"newValue":_1a7,"colIndex":_1a9,"rowIndex":_1a5};$W._c.fireEvent(this.mainGrid,"onviewchange",info);}return true;};$W._a._I.radio.prototype.resetOthers=function(_1ab){if(this.options.groupName){var _1ac=this.mainGrid.getColumnCount();for(var _1ad=0;_1ad<_1ac;_1ad++){var _1ae=this.mainGrid.getCellInfo(_1ad);if(_1ae!=this&&_1ae.options.inputType=="radio"&&_1ae.options.groupName==this.options.groupName){this.mainGrid.dataList.setCellData(_1ab,_1ad,_1ae.options.falseValue);}}}else{if(this.mainGrid.isDrillDown&&this.mainGrid._dataList.options.depthColumn){for(var i=0;i<this.mainGrid.getTotalRow();i++){if(this.mainGrid._dataList.getCellData(i,this.id)+""==this.options.trueValue){this.mainGrid._dataList.setCellData(i,this.id,this.options.falseValue);}}}else{for(var i=0;i<this.mainGrid.getDataLength();i++){if(this.mainGrid.dataList.getCellData(i,this.id)+""==this.options.trueValue){this.mainGrid.dataList.setCellData(i,this.id,this.options.falseValue);}}}}};$W._a._I.radio.prototype.doDefaultAction=function(e){var td=$W._c.getTarget(e);if(this.mainGrid.options.focusMode=="none"){while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){var _1b2=this.mainGrid.getElemRowIndex(td);var _1b3=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));}else{return;}}else{var _1b4=this.mainGrid.getLastFocusedCell();var _1b2=_1b4.focusedRowIndex;var _1b3=_1b4.focusedColIndex;}if(!this.mainGrid.getEditDisabled(_1b2,_1b3)&&!this.mainGrid._getEditReadOnly(_1b2,_1b3)){var _1b5=this.mainGrid.dataList.getCellData(_1b2,_1b3);td.firstChild.checked=(_1b5==this.options.trueValue?this.options.falseValue:this.options.trueValue);this.handleClick(td,_1b2);}};$W._a._I.select=function(){["WebSquare.uiplugin.cellInfo.select"];};$W._a._I.select.prototype.initializeCellInfo=function(_1b6){["WebSquare.uiplugin.cellInfo.select.prototype.initializeCellInfo"];if(this.options.selectSetter!=""){this.selectSetted=false;this.resetMatchInfo=true;}else{var _1b7=$W._B.serialize(_1b6);var _1b8=_1b7.indexOf("xmlns:w2")<0?" xmlns:w2=\"http://www.inswave.com/websquare\"":"";_1b7=_1b7.wq_replaceAll("<w2:column","<w2:select"+_1b8);_1b7=_1b7.wq_replaceAll("</w2:column","</w2:select");var elem=$W._B.parse(_1b7,true);this.xml=elem.documentElement;$W.extend(this,$W.itemsetControl.prototype);this.hasRef=false;this.selectedIndex=(typeof this.options.selectedIndex=="undefined")?-1:parseInt(this.options.selectedIndex,10);this.options.selectedData=(this.options.selectedData=="false")?false:true;this.itemsetObj=$W.WebSquareparser.parseItemset(this.xml);this.resetMatchInfo=true;var _1ba=this.itemsetObj.nodeset.wq_replaceAll(" ","");if(this.itemsetObj.nodeset!=""&&_1ba.indexOf("ref(")>=0){this.hasRef=true;var _1bb=this.itemsetObj.nodeset;this.refStr="\""+this.refReplace(_1bb)+"\"";var _1bc=_1bb.match(/ref\('([^']*)'\)/g);for(var i=0;i<_1bc.length;i++){var _1be=_1bc[i].slice(5,-2);var _1bf=this.mainGrid.getCellInfo(_1be);if(!_1bf.refArr){_1bf.refArr=[];}_1bf.refArr.push(this.id);}this.refHash=[];this.refItemArr=[];if(this.options.embeddedInput){var _1c0=$W._B.getElementsByTagName(this.xml,"w2:itemset");_1c0[0].setAttribute("nodeset","");}}else{if(this.itemsetObj.nodeset!=""&&_1ba.indexOf("data:")>=0){var _1c1=this.itemsetObj.nodeset.replace("data:","").split(".");this.dataComp=_1c1[0];}else{this.matchInfo=this.setMatchInfo();}}}if(!this.refArr){this.refArr=[];}this.col_index=this.mainGrid.getColumnIndex(this.id);};$W._a._I.select.prototype.createSelectbox=function(td,_1c3){["WebSquare.uiplugin.cellInfo.select.prototype.createSelectbox"];var _1c4=this;this.style="position:relative;left:0px;top:0px;background-color:#ffffff;";if(!this.comp){this.xml.setAttribute("class",this.mainGridId+"_select_"+this.id);this.xml.setAttribute("chooseOption",this.options.chooseOption+"");this.xml.setAttribute("chooseOptionLabel",this.options.chooseOptionLabel);this.xml.setAttribute("chooseOptionValue",this.options.chooseOptionValue);this.xml.setAttribute("allOption",this.options.allOption+"");this.xml.setAttribute("submenuSize","auto");this.xml.setAttribute("direction","auto");this.xml.setAttribute("style",this.style);this.setFirst=true;if(this.hasRef&&!this.useLinkedDataList){var _1c5=$W._B.getElementsByTagName(this.xml,"w2:itemset");_1c5[0].setAttribute("nodeset",eval(this.refStr));}this.setFirst=false;this.configOptions.chooseOptionLabel=this.options.chooseOptionLabel;this.configOptions.labelWidthAuto=false;this.configOptions.displayMode=this.options.displayMode;this.select=new $W._a._q(this.mainGridId+"_selectbox_"+this.id,this.configOptions,this.xml);this.mainGrid.dom[this.select.id]=this.select;this.comp=this.select;if(this.options.selectSetter!=""){for(var i=0;i<this.itemArr.length;i++){this.select.addItem(this.itemArr[i].value,this.itemArr[i].label);}}this.select.setSelectedIndex1=function(idx){var _1c8=this.selectedIndex;var _1c9=this.getValue();this.setSelectedIndex(idx);if(_1c8!=this.selectedIndex){var _1ca=_1c4.mainGrid.getColumnIndex(_1c4.mainGrid.editedCell.id);var _1cb=_1c4.editRowIndex;var info={"oldValue":_1c9,"newValue":this.getValue(),"oldSelectedIndex":_1c8,"newSelectedIndex":this.selectedIndex,"rowIndex":_1cb,"colIndex":_1ca};$W._c.fireEvent(_1c4.mainGrid,"onviewchange",info);}this.closeSubLayer();_1c4.handleEndEdit();};this.select.__openSubLayer=this.select.openSubLayer;this.select.openSubLayer=function(){this.__openSubLayer();};this.select.__closeSubLayer=this.select.closeSubLayer;this.select.closeSubLayer=function(_1cd){this.__closeSubLayer(_1cd);_1c4.mainGrid.setFocusedCell();};this.select._handleClickEvent=this.select.handleClickEvent;this.select.handleClickEvent=function(e){this._handleClickEvent(e);$W._c.stopEvent(e);_1c4.handleEndEdit();};this.select._refreshItemset=this.select.refreshItemset;this.select.refreshItemset=function(mode){_1c4.resetMatchInfo=true;this._refreshItemset(mode);};}td.innerHTML=this.select.toHTML();this.select.activate();this.select.setSize(td.clientWidth-2,td.clientHeight-2);this.select.render.style.border="1px solid "+this.mainGrid.options.selectedCellColor;};$W._a._I.select.prototype.createItemTable=function(td,_1d1){["WebSquare.uiplugin.cellInfo.select.prototype.createItemTable"];var _1d2=this;this.select.setSubLayer();var _1d3=this.select.itemTable;_1d3.addClickEventListener(function(_1d4){_1d2.select.setSelectedIndex1(_1d4);var fc=_1d2.mainGrid.getLastFocusedCell();if(_1d2.editRowIndex==fc.focusedRowIndex&&_1d2.col_index==fc.focusedColIndex&&!_1d2.options.moveEditModeByChoice){_1d2.mainGrid.setFocusedCell();}if(_1d2.options.moveEditModeByChoice){var _1d6=true;$W.editEndGridObj[_1d2.mainGrid.id]=true;var _1d7=_1d2.options.moveEditModeByChoice;switch(_1d7){case "down":_1d2.mainGrid.moveVertical(false,_1d7,_1d6);break;case "right":_1d2.mainGrid.moveHorizontal(false,_1d7,_1d6);break;case "none":break;}}});_1d3.addKeyDownEventListener(function(e){switch(e.keyCode){case 9:this.fireClick(e);var fc=_1d2.mainGrid.getLastFocusedCell();if(_1d2.editRowIndex==fc.focusedRowIndex&&_1d2.col_index==fc.focusedColIndex){_1d2.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_1d2.mainGrid.options.keyMoveEditMode);}break;case 13:var fc=_1d2.mainGrid.getLastFocusedCell();if(_1d2.editRowIndex==fc.focusedRowIndex&&_1d2.col_index==fc.focusedColIndex&&!_1d2.options.moveEditModeByChoice){if(_1d2.mainGrid.options.fastEditMode){if(_1d2.mainGrid.options.enterKeyMove=="none"){}else{if(_1d2.mainGrid.options.enterKeyMove=="right"){_1d2.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_1d2.mainGrid.options.keyMoveEditMode);}else{_1d2.mainGrid.moveVertical(e,e.shiftKey?"up":"down",_1d2.mainGrid.options.keyMoveEditMode);}}}else{_1d2.mainGrid.setFocusedCell();}}break;case 27:_1d2.mainGrid.editedCell.handleCancelEdit(e);_1d2.mainGrid.setFocusedCell();break;}});if($W._G.isOpera()){_1d3.event.addListener(_1d3.render,"onkeypress",function(e){if(e.keyCode==9||e.keyCode==27){$W._c.preventDefault(e);}});}if($W.WebSquaredoc.itemsetElement.length>0&&$W.WebSquaredoc.itemsetElement[$W.WebSquaredoc.itemsetElement.length-1].id==this.mainGridId+"_selectbox_"+this.id){$W.WebSquaredoc.itemsetElement.pop();}};$W._a._I.select.prototype.setInnerHTML=function(td,data,_1dd,_1de){if(this.options.embeddedInput){var _1df=this.mainGrid.getInput(this,td);_1df.render.setAttribute("rowindex",_1dd);if(this.options.selectSetter!=""&&!this.dataComp){this.initSelectSetter();_1df.itemArr=this.itemArr;_1df.setSelectOptions();}if(this.hasRef&&!this.dataComp){var _1e0=this.mainGrid.getElemRowIndex(td);_1df.itemArr=this.getRefItemArr(_1e0);_1df.setSelectOptions();}_1df.setValue(data);if(!_1df.setValueNM(data)&&!this.dataComp){var _1e1={};_1e1[this.mainGrid.id]=true;this.mainGrid.dataList.setCellData(_1df.render.getAttribute("rowindex"),_1df.render.parentNode.getAttribute("col_id"),_1df.getValue(),null,null,null,_1e1);}var _1e2=false;if(this.mainGrid.getEditDisabled(_1dd,_1de)){_1df.setDisabled(true);_1e2=true;}else{_1df.setDisabled(false);}if(this.mainGrid.getEditReadOnly(td,_1dd)){_1df.setReadOnly(true);_1e2=true;}else{_1df.setReadOnly(false);}if(_1e2){_1df.dom.select.disabled=true;}else{_1df.dom.select.disabled=false;}td.removeAttribute("tabIndex");}else{this.initSelectSetter();var _1e0=_1dd;if(data==null){data="";}var _1e3=$W._G.getGlobalFunction(this.options.customFormatter);var _1e4;if(typeof _1e3=="function"){this.useCustomFormatter=true;var _1e5=this.getDisplayData(data,_1e0);_1e4=_1e3.call(this.mainGrid,data,_1e5,_1dd,_1de);}else{this.useCustomFormatter=false;_1e4=this.getData(data,_1e0);}if($W._G.isSafari()&&navigator.userAgent.indexOf("Windows")!=-1){if(this.mainGrid.options.plainText&&td.firstChild&&td.firstChild.firstChild){td.firstChild.firstChild.data=_1e4;}else{td.innerHTML="";var noBR=document.createElement("nobr");noBR.style.cssText="overflow : hidden; text-overflow:ellipsis; display:block; width:100%;";noBR.textContent=_1e4;td.appendChild(noBR);}}else{if(this.mainGrid.options.plainText&&td.firstChild&&td.firstChild.firstChild){td.firstChild.firstChild.data=_1e4;}else{if(this.options.viewType=="icon"){td.innerHTML="";var _1e7=td.getAttribute("col_id");var _1e8=this.mainGrid.getHeaderLayer(this.mainGrid.bodyToHeaderRelation[_1e7]);var noBR=document.createElement("nobr");noBR.style.cssText="overflow : hidden; text-overflow:ellipsis; display:block; width:"+(_1e8.offsetWidth-16)+"px;";if(noBR.textContent!=null){noBR.textContent=_1e4;}else{noBR.innerText=_1e4;}td.appendChild(noBR);}else{td.innerHTML="<nobr>"+_1e4+"</nobr>";}}}var _1e9=this.mainGrid.dataList.getRealRowIndex(_1dd);var _1ea=this.mainGrid.getCellOption(_1e9,_1de,"viewType");var _1eb=this.mainGrid.getColumnOption(this.options.col_id,"dataType");if(_1ea=="icon"||(_1ea==""&&_1eb=="own")){this.mainGrid.addClass(td,this.mainGrid.options.bodyTdClass+"_select");td.setAttribute("editModeEvent","onclick");}else{if(this.options.editModeEvent=="onclick"){td.setAttribute("editModeEvent","onclick");}else{if(this.options.editModeEvent=="ondblclick"){td.setAttribute("editModeEvent","ondblclick");}else{if(this.options.editModeEvent=="onsecondclick"){td.setAttribute("editModeEvent","onsecondclick");}else{this.mainGrid.removeClass(td,this.mainGrid.options.bodyTdClass+"_select");td.setAttribute("editModeEvent","");}}}}}};$W._a._I.select.prototype.setColumnNodeSet=function(_1ec,_1ed,_1ee){["WebSquare.uiplugin.cellInfo.select.prototype.setColumnNodeSet"];try{var _1ef=$W._B.findNode(this.xml,"*['"+"choices"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_1ef==null){_1ef=$W._B.createNode(this.xml,"w2:choices");$W._B.appendChild(this.xml,_1ef);}while(_1ef&&_1ef.firstChild){_1ef.removeChild(_1ef.firstChild);}var _1f0="<w2:itemset xmlns:w2='http://www.inswave.com/websquare' nodeset='"+_1ec+"'>"+"<w2:label ref='"+_1ed+"'></w2:label>"+"<w2:value ref='"+_1ee+"'></w2:value>"+"</w2:itemset>";var _1f1=$W._B.parse(_1f0,true).documentElement;$W._B.appendChild(_1ef,_1f1);this.initializeCellInfo(this.xml);if(this.select){this.select.setNodeSet(_1ec,_1ed,_1ee);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.select.prototype.setColumnChooseOption=function(_1f2,_1f3){["WebSquare.uiplugin.cellInfo.select.prototype.setColumnChooseOption"];this.options.chooseOption=true;this.options.chooseOptionValue=_1f2;this.options.chooseOptionLabel=_1f3;if(this.select){this.select.changeChooseOption(_1f2,_1f3);}};$W._a._I.select.prototype.showChooseOption=function(flag){["WebSquare.uiplugin.cellInfo.select.prototype.showChooseOption"];this.options.chooseOption=flag;this.matchInfo=this.setMatchInfo();if(this.select&&flag){this.select.showChooseOption(flag);}else{if(this.select&&!flag){this.select.showChooseOption(flag);if(this.select.itemArr.length>1&&this.select.selectedIndex!=0){this.select.selectedIndex-=1;}else{this.select.selectedIndex=0;}this.editTd.innerHTML="<nobr>"+this.getData(this.select.getValue(),this.select.selectedIndex)+"</nobr>";}}};$W._a._I.select.prototype.refReplace=function(_1f5){["WebSquare.uiplugin.cellInfo.select.prototype.refReplace"];var _1f6=_1f5.replace(/ref\('([^']*)'\)/,"\"+this.getRefValue('$1')+\"");if(_1f6!=_1f5){return this.refReplace(_1f6);}return _1f6;};$W._a._I.select.prototype.refXmlReplace=function(_1f7){["WebSquare.uiplugin.cellInfo.select.prototype.refXmlReplace"];var _1f8=_1f7.replace(/ref\('([^']*)'\)/,"'+this.getRefValue('$1')+'");if(_1f8!=_1f7){return this.refXmlReplace(_1f8);}return _1f8;};$W._a._I.select.prototype.setMatchInfo=function(_1f9){["WebSquare.uiplugin.cellInfo.select.prototype.setMatchInfo"];this.modelControl=new $W.modelControl(this.id,this.options.model,this.options.ref,this.itemsetObj,this.options.bind);this.initializeItemArr(this.xml);if(this.itemArr.length==0){this.resetMatchInfo=true;}else{this.resetMatchInfo=false;}if(this.options.displayMode!="0"){for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].label=this.getItemText(i);}}var _1fb={};if(this.options.allOption==true){var _1fc=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";this.itemArr=[{label:_1fc,value:$W.allValue}].concat(this.itemArr);}if(this.options.chooseOption==true){var _1fd=this.options.chooseOptionLabel;if(_1fd=="$blank"){_1fd="";}this.itemArr=[{label:_1fd,value:this.options.chooseOptionValue}].concat(this.itemArr);}if(this.options.displayMode!="0"){for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].label=this.getItemText(i);}}if(this.hasRef){this.refItemArr[this.itemsetObj.nodeset]=this.itemArr;}for(var i=0;i<this.itemArr.length;i++){var _1fe=this.itemArr[i];_1fb["SELECT_"+_1fe.value]=_1fe.label;}return _1fb;};$W._a._I.select.prototype.getItemText=function(idx){["WebSquare.uiplugin.selectbox.getItemText"];try{var text="";if(idx>-1&&idx<this.itemArr.length){text=this.itemArr[idx].label;switch(this.options.displayMode){case "0":case "1":case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";}switch(this.options.displayMode){case "0":break;case "1":text=this.itemArr[idx].value+this.options.delimiter+text;break;case "2":text=text+this.options.delimiter+this.itemArr[idx].value;break;}}return text;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.select.prototype.getMatchInfo=function(_201){["WebSquare.uiplugin.cellInfo.select.prototype.getMatchInfo"];var _202=[];if(this.options.selectSetter!=""){_202=this.matchInfo;}else{if(this.hasRef){_202=this.getRefMatchInfo(_201);}else{if(!this.hasRef){if(this.resetMatchInfo){this.matchInfo=this.setMatchInfo(_201);}_202=this.matchInfo;}}}return _202;};$W._a._I.select.prototype.getRefMatchInfo=function(_203){["WebSquare.uiplugin.cellInfo.select.prototype.getRefMatchInfo"];this.targetRowIndex=_203;var _204=eval(this.refStr);if(this.refHash[_204]!=null&&!this.resetMatchInfo){return this.refHash[_204];}else{this.itemsetObj.nodeset=_204;var _205=$W._B.getElementsByTagName(this.xml,"w2:itemset");_205[0].setAttribute("nodeset",_204);var _206=this.setMatchInfo();this.refHash[_204]=_206;return _206;}return [];};$W._a._I.select.prototype.getRefItemArr=function(_207){["WebSquare.uiplugin.cellInfo.select.prototype.getRefItemArr"];this.getRefMatchInfo(_207);key=eval(this.refStr);return this.refItemArr[key];};$W._a._I.select.prototype.getRefValue=function(_208){["WebSquare.uiplugin.cellInfo.select.prototype.getRefValue"];var _209="\""+this.mainGrid.dataList.getCellData(this.targetRowIndex,_208)+"\"";return _209;};$W._a._I.select.prototype.getData=function(data,_20b){["WebSquare.uiplugin.cellInfo.select.prototype.getData"];try{var ret="";var _20d=null;if(this.dataComp){var _20e=$W._G.getComponentById(this.dataComp);if(_20e.initializeType==="linkedDataList"&&_20e.conditionInfo!=undefined&&_20e.conditionInfo.targetInfo!=undefined){var _20f=_20e.conditionInfo.targetInfo;var _210={};for(var item in _20f){var _212=$W._G.getComponentById(item);if(_212.initializeType!=null&&_212.initializeType!="dataMap"){var _213=_212.getRowPosition();if(_213!=_20b){_210[item]=_213;if(_212.initializeType==="linkedDataList"){_212._dataList.rowPosition=_212.filteredRowIndexArr[_20b];}else{_212.rowPosition=_20b;}}}}_20e.syncWithParent();for(var _214 in _210){var _215=$W._G.getComponentById(_214);if(_215.initializeType==="linkedDataList"){_215._dataList.rowPosition=_215.filteredRowIndexArr[_210[_214]];}else{_215.rowPosition=_210[_214];}}}var _216=null;var _217=null;if(_20e.initializeType==="linkedDataList"){_216=_20e._dataList;_217=_20e.initialRowIndexArr;}else{if(_20e.initializeType==="dataList"){_216=_20e;_217=_216.filteredRowIndexArr;}}if(!this.select&&_216!=null){try{var ret="";var _218=$W._B.getElementsByTagName(this.xml,"label",$W._N._XML_NAMESPACE.W2);var _219=$W._B.getElementsByTagName(this.xml,"value",$W._N._XML_NAMESPACE.W2);var _21a=$W._B.getAttribute(_218[0],"ref");var _21b=$W._B.getAttribute(_219[0],"ref");var _21c=_216.bodyIdColIndexMap[_21a];var _21d=_216.bodyIdColIndexMap[_21b];for(var i=0;i<_217.length;i++){var _21f=_217[i]*_216.cellIdList.length;if(data==_216.dataArr[_21f+_21d]){ret=_216.dataArr[_21f+_21c];if(this.options.displayMode==="value delim label"){ret=data+this.options.delimiter+ret;}else{if(this.options.displayMode==="label delim value"){ret=ret+this.options.delimiter+data;}}if(typeof ret=="undefined"||ret=="$blank"){ret="";}return ret;}}if(this.selectedIndex>=0&&this.selectedIndex<_217.length&&!this.options.chooseOption){ret=_216.dataArr[_217[this.selectedIndex]*_216.cellIdList.length+_21c];if(this.options.displayMode==="value delim label"){ret=data+this.options.delimiter+ret;}else{if(this.options.displayMode==="label delim value"){ret=ret+this.options.delimiter+data;}}}else{if(this.options.allOption&&data==$W.allValue){var _220=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";ret=_220;}else{if(this.options.chooseOption&&data==this.options.chooseOptionValue){ret=this.options.chooseOptionLabel;}else{if(!this.options.selectedData){ret=data;}else{if(data==""){ret="";}else{var _21f=0;if(this.mainGrid._linkedDataList){_21f=this.mainGrid._linkedDataList.filteredRowIndexArr[_20b];}else{_21f=this.mainGrid._dataList.filteredRowIndexArr[_20b];}var _221=this.mainGrid._dataList.cellIdList.length;var _222=this.mainGrid._dataList.bodyIdColIndexMap[this.id];this.mainGrid._dataList.dataArr[_21f*_221+_222]="";ret="";}}}}}if(typeof ret=="undefined"||ret=="$blank"){ret="";}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);return data;}}var _223=false;for(var i=0;i<this.select.itemArr.length;i++){if(this.select.itemArr[i].value==data){_223=true;ret=this.select.itemArr[i].label;break;}}if(!_223){if(data==""&&this.selectedIndex!=-1&&!this.options.chooseOption){ret=this.select.itemArr[this.selectedIndex].label;this.mainGrid.dataList.setCellData(_20b,this.id,ret);}else{if(this.options.allOption&&data==$W.allValue){var _220=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";ret=_220;}else{if(this.options.chooseOption&&data==this.options.chooseOptionValue){ret=this.options.chooseOptionLabel;}else{if(!this.options.selectedData){ret=data;}}}}}}else{var _224=this.getMatchInfo(_20b);if(data==""&&this.selectedIndex!=-1&&!this.options.chooseOption){this.mainGrid.dataList.setCellData(_20b,data);ret=_224["SELECT_"+this.itemArr[this.selectedIndex].label];}else{ret=_224["SELECT_"+data];}}if(typeof ret=="undefined"||ret=="$blank"){return "";}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.select.prototype.getDisplayData=function(data,_226){["WebSquare.uiplugin.cellInfo.select.prototype.getDisplayData"];var ret="";if(this.dataComp&&this.select){}var ret=this.getData(data,_226);if(ret==null){ret="";}if(ret!=data&&ret==""){ret=data;}return ret;};$W._a._I.select.prototype.initSelectSetter=function(){["WebSquare.uiplugin.drawController.Select.prototype.initSelectSetter"];if(this.selectSetted==false&&this.options.selectSetter!=""&&!this.dataComp){this.selectSetted=true;var _228=[];try{this.options.selectSetter=this.options.selectSetter.wq_trim();if(this.options.selectSetter.indexOf("(")<0){this.options.selectSetter+="()";}_228=eval(this.options.selectSetter);}catch(e){$W.exception.printStackTrace(e);}this.itemArr=_228;this.matchInfo=[];for(var i=0;i<_228.length;i++){var _22a=_228[i];if(_22a.value==null){_22a.value="";}this.matchInfo["SELECT_"+_22a.value]=_22a.label;}}};$W._a._I.select.prototype.setEditMode=function(td,_22c){["WebSquare.uiplugin.cellInfo.select.prototype.setEditMode"];if(this.options.embeddedInput){return;}if(this.style==""){this.createSelectbox(td,_22c);}else{td.innerHTML="";td.appendChild(this.select.render);}if(this.mainGrid.directItemChoiceKeyObj.select){this.editTd=td;this.editRowIndex=_22c;this.select.setValue(this.mainGrid.dataList.getCellData(_22c,this.id));var _22d=this.select.findItemStartedWithKeyChar(this.mainGrid.directItemChoiceKeyObj.select);this.mainGrid.dataList.setCellData(_22c,this.id,this.select.getValue());this.mainGrid.directItemChoiceKeyObj.select=null;if(this.options.moveFocusByChoice){if(_22d){this.moveFocus(this.editRowIndex,this.id);}}if(_22d){return;}else{this.mainGrid.editedCell=this.mainGrid.getCellInfo(td);td.innerHTML="";td.appendChild(this.select.render);}}if(!this.select.itemTable&&!this.mainGrid.directItemChoiceKeyObj.select){this.createItemTable(td,_22c);}if(this.hasRef&&!this.dataComp){var _22e=this.mainGrid.getElemRowIndex(td);this.select.itemArr=this.getRefItemArr(_22e);this.select.itemTable.show();this.select.setSelectOptions();}this.editRowIndex=_22c;this.editTd=td;this.select.setValue(this.mainGrid.dataList.getCellData(_22c,this.id));if(this.select.getItemCount()==0){this.select.selectedIndex=-1;this.select.dom.label.innerHTML="";}var _22f=td.clientWidth-2;this.select.setSize(td.clientWidth-2,td.clientHeight-2);this.select.openSubLayer();var _230=this.mainGrid.render.offsetWidth;var _231=this.select.itemTable.render.offsetWidth;var _232=this.select.itemTable.render.firstChild.offsetWidth;if(_231-2>_22f){_22f=_231-2;}if(this.select.itemTable.render.clientHeight>=this.select.itemTable.render.scrollHeight||this.select.getItemCount()<=this.select.options.visibleRowNum){this.select.itemTable.render.firstChild.style.width=_22f+"px";if(_230>_231&&_232<_231){if(this.select.itemTable.render.firstChild.firstChild.offsetWidth<=_22f){this.select.itemTable.setStyle("width",_22f+"px");}}}else{this.select.itemTable.render.firstChild.style.width=(_22f-17)+"px";this.select.setSize(td.clientWidth-2,td.clientHeight-2);if(_230>_231&&_232+17<=_231-2){if(this.select.itemTable.render.firstChild.firstChild.offsetWidth<=_22f){this.select.itemTable.setStyle("width",_22f+"px");}}}td.style.textOverflow="ellipsis";};$W._a._I.select.prototype._handleEndEdit_common=function(e){["WebSquare.uiplugin.cellInfo.select.prototype._handleEndEdit"];try{this.select.closeSubLayer();var _234=this.select.getValue();var _235=this.mainGrid.dataList.getCellData(this.editRowIndex,this.id);try{this.editTd.removeChild(this.select.render);}catch(e){return;}this.setInnerHTML(this.editTd,_234,this.editRowIndex,this.id);var _236={};_236[this.mainGrid.id]=true;this.mainGrid.dataList.setCellData(this.editRowIndex,this.id,_234,null,null,null,_236);}catch(e){$W.exception.printStackTrace(e,null,this.mainGrid);}};$W._a._I.select.prototype._handleEndEdit_focus=function(){if(this.options.moveFocusByChoice){this.moveFocus(this.editRowIndex,this.id);}};$W._a._I.select.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.select.prototype._getEditedValue"];var _238=this.select.getValue();return _238;};$W._a._I.select.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.select.prototype._handleCancelEdit"];this.select.closeSubLayer();var _23a=this.mainGrid.dataList.getCellData(this.editRowIndex,this.id);this.editTd.removeChild(this.select.render);this.setInnerHTML(this.editTd,_23a,this.editRowIndex,this.id);};$W._a._I.select.prototype.doDefaultAction=function(e){["WebSquare.uiplugin.cellInfo.select.prototype.doDefaultAction"];if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};$W._a._I.select.prototype.moveFocus=function(_23c,_23d){["WebSquare.uiplugin.cellInfo.select.prototype.moveFocus"];if(this.options.moveFocusByChoice){var _23e=this.options.moveFocusByChoice;switch(_23e){case "down":this.mainGrid.setFocusedCell(_23c+1,_23d,false);break;case "right":var _23f=this.mainGrid.getColumnIndex(_23d)+1;this.mainGrid.setFocusedCell(_23c,_23f,false);break;case "none":break;}}};$W._a._I.checkcombobox=function(){["WebSquare.uiplugin.cellInfo.checkcombobox"];};$W._a._I.checkcombobox.prototype.initializeCellInfo=function(_240){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.initializeCellInfo"];this.compID=this.mainGridId+"_checkcombobox_"+this.id;var _241=$W._B.serialize(_240);var _242=_241.indexOf("xmlns:w2")<0?" xmlns:w2=\"http://www.inswave.com/websquare\"":"";_241=_241.wq_replaceAll("<w2:column","<w2:checkcombobox"+_242);_241=_241.wq_replaceAll("</w2:column","</w2:checkcombobox");var elem=$W._B.parse(_241,true);this.xml=elem.documentElement;this.modelControl=new $W.modelControl(this.id,this.options.model,this.options.ref,this.itemsetObj,this.options.bind);var _244=$W.WebSquareparser.parseItemset(this.xml);this.modelControl.setItemset(_244.nodeset,_244.label,_244.value);this.itemsetObj=_244;this.itemArr=[];var _245=$W.WebSquareparser.parseChoices(this.xml,"");if(_245.length>0){this.itemArr=_245;}else{if(this.itemsetObj.nodeset.match("data:")){var _246=this.itemsetObj.nodeset.replace("data:","");$W._j.api.addRelation(this.compID,_246);if(this.itemArr.length==0){this.itemArr=this.mainGrid.getTemporaryDataCollectionItemArr({"dataCompID":_246,"itemsetObj":this.itemsetObj});}}else{this.itemArr=this.modelControl.getItemsetData();}}if(this.options.allOption==true){var _247=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";this.itemArr=[{label:_247,value:$W.allValue}].concat(this.itemArr);}if(this.options.chooseOption==true){var _248=this.options.chooseOptionLabel;if(_248=="$blank"){_248="";}this.itemArr=[{label:_248,value:""}].concat(this.itemArr);}this.separator=this.options.separator||" ";};$W._a._I.checkcombobox.prototype.setInnerHTML=function(td,data,_24b,_24c){if(data==null){data="";}td.innerHTML="<nobr>"+this.getData(data,_24b)+"</nobr>";var _24d=this.mainGrid.dataList.getRealRowIndex(_24b);var _24e=this.mainGrid.getCellOption(_24d,_24c,"viewType");var _24f=this.mainGrid.getColumnOption(this.options.col_id,"dataType");if(_24e=="icon"||(_24e==""&&_24f=="own")){this.mainGrid.addClass(td,this.mainGrid.options.bodyTdClass+"_checkcombobox");td.setAttribute("editModeEvent","onclick");}else{if(this.options.editModeEvent=="onclick"){td.setAttribute("editModeEvent","onclick");}else{this.mainGrid.removeClass(td,this.mainGrid.options.bodyTdClass+"_checkcombobox");td.setAttribute("editModeEvent","");}}};$W._a._I.checkcombobox.prototype.getData=function(data,_251){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.getData"];try{if(typeof data!="string"){data=data+"";}data=data.split(this.separator);var _252=[];if(!this.itemArr||this.itemArr.length==0){if(this.itemsetObj.nodeset.match("data:")&&!this.useLinkedDataList){var _253=this.itemsetObj.nodeset.replace("data:","");this.itemArr=this.mainGrid.getTemporaryDataCollectionItemArr({"dataCompID":_253,"itemsetObj":this.itemsetObj});}}for(var i=0;i<this.itemArr.length;i++){for(var j=0;j<data.length;j++){if(this.itemArr[i].value==data[j]){_252.push(this.itemArr[i].label);}}}return _252.join(this.separator);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.checkcombobox.prototype.setEditMode=function(td,_257){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.setEditMode"];try{if(this.style==""){this.style="position:relative;left:0px;top:0px;background-color:#ffffff;";this.xml.setAttribute("class",this.mainGridId+"_checkcombobox_"+this.id);this.xml.setAttribute("chooseOption",this.options.chooseOption+"");this.xml.setAttribute("chooseOptionLabel",this.options.chooseOptionLabel);this.xml.setAttribute("allOption",this.options.allOption+"");this.xml.setAttribute("submenuSize","auto");this.xml.setAttribute("style",this.style);this.configOptions.separator=this.separator;this.checkcombobox=new $W._a.br(this.compID,this.configOptions,this.xml);this.comp=this.checkcombobox;if(this.itemArr.length==0){var _258=$W.WebSquareparser.parseChoices(this.xml,"");if(_258.length>0){this.itemArr=_258;}else{if(this.itemsetObj.nodeset.match("data:")){this.itemArr=this.modelControl.getDataCollectionItemsetData(this.comp.id);}else{this.itemArr=this.modelControl.getItemsetData();}}if(this.options.allOption==true){var _259=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";this.itemArr=[{label:_259,value:$W.allValue}].concat(this.itemArr);}if(this.options.chooseOption==true){var _25a=this.options.chooseOptionLabel;if(_25a=="$blank"){_25a="";}this.itemArr=[{label:_25a,value:""}].concat(this.itemArr);}this.separator=this.options.separator||" ";}var _25b=this;this.checkcombobox.__closeSubLayer=this.checkcombobox.closeSubLayer;this.checkcombobox.closeSubLayer=function(){this.__closeSubLayer();_25b.handleEndEdit();};this.checkcombobox.toggle=function(){if(this.isOpen){var _25c=this.getValue();var _25d=this.getInfoArray();this.__closeSubLayer();var _25e=this.getValue();var _25f=_25b.mainGrid.getColumnIndex(_25b.options.id);if(_25c!=_25e){var info={"oldInfo":_25d,"newInfo":this.getInfoArray(),"oldValue":_25c,"newValue":_25e,"rowIndex":_257,"colIndex":_25f};$W._c.fireEvent(_25b.mainGrid,"onviewchange",info);}_25b.handleEndEdit();}else{this.openSubLayer();}};td.innerHTML=this.checkcombobox.toHTML();this.checkcombobox.activate();this.checkcombobox.setSize(td.clientWidth-2,td.clientHeight-2);this.checkcombobox.setSubLayer();var _261=this.checkcombobox.itemTable;_261.addKeyDownEventListener(function(e){switch(e.keyCode){case 9:this.fireClick(e);_25b.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_25b.mainGrid.options.keyMoveEditMode);break;case 13:if(_25b.mainGrid.options.fastEditMode){if(_25b.mainGrid.options.enterKeyMove=="none"){}else{if(_25b.mainGrid.options.enterKeyMove=="right"){_25b.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_25b.mainGrid.options.keyMoveEditMode);}else{_25b.mainGrid.moveVertical(e,e.shiftKey?"up":"down",_25b.mainGrid.options.keyMoveEditMode);}}}else{_25b.checkcombobox.closeSubLayer();}break;case 27:_25b.mainGrid.editedCell.handleCancelEdit(e);break;}});}else{td.innerHTML="";td.appendChild(this.checkcombobox.render);}this.checkcombobox.setValue(this.mainGrid.dataList.getCellData(_257,this.id));this.checkcombobox.openSubLayer();this.editRowIndex=_257;this.editTd=td;var _263=this.checkcombobox.itemTable.render.firstChild.clientWidth;if(_263<td.clientWidth-2){_263=td.clientWidth-2;}if(_263<this.checkcombobox.itemTable.render.offsetWidth-2){_263=this.checkcombobox.itemTable.render.offsetWidth-2;}this.checkcombobox.setSize(td.clientWidth-2,td.clientHeight-2);this.checkcombobox.setItemTable();td.style.textOverflow="ellipsis";}catch(e){$W.exception.printStackTrace(e,null,this.mainGrid);}};$W._a._I.checkcombobox.prototype._handleEndEdit_common=function(e){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype._handleEndEdit"];try{var _265=this.checkcombobox.getValue();var _266=this.mainGrid.dataList.getCellData(this.editRowIndex,this.id);try{this.editTd.removeChild(this.checkcombobox.render);}catch(e){return;}this.setInnerHTML(this.editTd,_265,this.editRowIndex,this.id);var _267={};_267[this.mainGrid.id]=true;this.mainGrid.dataList.setCellData(this.editRowIndex,this.id,_265,null,null,null,_267);}catch(e){$W.exception.printStackTrace(e,null,this.mainGrid);}};$W._a._I.checkcombobox.prototype._handleEndEdit_focus=function(){this.mainGrid.setFocusedCell();};$W._a._I.checkcombobox.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};$W._a._I.checkcombobox.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype._handleCancelEdit"];this.checkcombobox.__closeSubLayer();var _26a=this.mainGrid.dataList.getCellData(this.editRowIndex,this.id);this.setInnerHTML(this.editTd,_26a,this.editRowIndex,this.id);this.mainGrid.setFocusedCell();};$W._a._I.checkcombobox.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype._getEditedValue"];var _26c=this.checkcombobox.getValue();return _26c;};$W._a._I.checkcombobox.prototype.refreshItemArr=function(e){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.refreshItemArr"];var _26e=$W.WebSquareparser.parseChoices(this.xml,"");if(_26e.length>0){this.itemArr=_26e;}else{this.itemArr=this.modelControl.getItemsetData();}if(this.options.allOption==true){var _26f=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";this.itemArr=[{label:_26f,value:$W.allValue}].concat(this.itemArr);}if(this.options.chooseOption==true){var _270=this.options.chooseOptionLabel;if(_270=="$blank"){_270="";}this.itemArr=[{label:_270,value:""}].concat(this.itemArr);}};$W._a._I.autoComplete=function(){["WebSquare.uiplugin.cellInfo.autoComplete"];};$W._a._I.autoComplete.prototype.setInnerHTML=function(td,data,_273,_274){if(data==null){data="";}td.innerHTML="<nobr>"+this.getData(data,_273)+"</nobr>";};$W._a._I.autoComplete.prototype.initializeCellInfo=function(_275){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.initializeCellInfo"];var _276=$W._B.serialize(_275);var _277=_276.indexOf("xmlns:w2")<0?" xmlns:w2=\"http://www.inswave.com/websquare\"":"";_276=_276.wq_replaceAll("<w2:column","<w2:autoComplete"+_277);_276=_276.wq_replaceAll("</w2:column","</w2:autoComplete");var elem=$W._B.parse(_276,true);this.xml=elem.documentElement;$W.extend(this,$W.itemsetControl.prototype);this.hasRef=false;this.resetMatchInfo=true;this.itemsetObj=$W.WebSquareparser.parseItemset(this.xml);var _279=this.itemsetObj.nodeset.wq_replaceAll(" ","");if(this.itemsetObj.nodeset!=""&&_279.indexOf("ref(")>=0){this.hasRef=true;this.refHash=[];this.refItemArr=[];this.refStr="\""+this.refReplace(this.itemsetObj.nodeset)+"\"";var _27a=this.itemsetObj.nodeset.match(/ref\('([^']*)'\)/g);for(var i=0;i<_27a.length;i++){var _27c=_27a[i].slice(5,-2);var _27d=this.mainGrid.getCellInfo(_27c);if(!_27d.refArr){_27d.refArr=[];}_27d.refArr.push(this.id);}}else{if(this.itemsetObj.nodeset!=""&&_279.indexOf("data:")>=0){var _27e=this.itemsetObj.nodeset.replace("data:","").split(".");this.dataComp=_27e[0];}else{this.matchInfo=this.setMatchInfo();}}if(!this.refArr){this.refArr=[];}if(this.options.noResult=="useData"){this.useDataInfo={};}};$W._a._I.autoComplete.prototype.getRefValue=function(_27f){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.getRefValue"];var _280="\""+this.mainGrid.dataList.getCellData(this.targetRowIndex,_27f)+"\"";return _280;};$W._a._I.autoComplete.prototype.refReplace=function(_281){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.refReplace"];var _282=_281.replace(/ref\('([^']*)'\)/,"\"+this.getRefValue('$1')+\"");if(_282!=_281){return this.refReplace(_282);}return _282;};$W._a._I.autoComplete.prototype.getData=function(data,_284){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.getData"];try{var ret="";if(this.dataComp){var _286=$W._G.getComponentById(this.dataComp);if(_286.initializeType==="linkedDataList"&&_286.conditionInfo!=undefined&&_286.conditionInfo.targetInfo!=undefined){var _287=_286.conditionInfo.targetInfo;var _288={};for(var item in _287){var _28a=$W._G.getComponentById(item);var _28b=_28a.getRowPosition();if(_28b!=_284){_288[item]=_28b;if(_28a.initializeType==="linkedDataList"){_28a._dataList.rowPosition=_28a.filteredRowIndexArr[_284];}else{_28a.rowPosition=_284;}}}_286.syncWithParent();for(var _28c in _288){var _28d=$W._G.getComponentById(_28c);if(_28d.initializeType==="linkedDataList"){_28d._dataList.rowPosition=_28d.filteredRowIndexArr[_288[_28c]];}else{_28d.rowPosition=_288[_28c];}}}var _28e=null;var _28f=null;if(_286.initializeType==="linkedDataList"){_28e=_286._dataList;_28f=_286.initialRowIndexArr;}else{if(_286.initializeType==="dataList"){_28e=_286;_28f=_28e.filteredRowIndexArr;}}if(!this.autoComplete&&_28e!=null){try{var ret="";var _290=$W._B.getElementsByTagName(this.xml,"label",$W._N._XML_NAMESPACE.W2);var _291=$W._B.getElementsByTagName(this.xml,"value",$W._N._XML_NAMESPACE.W2);var _292=$W._B.getAttribute(_290[0],"ref");var _293=$W._B.getAttribute(_291[0],"ref");var _294=_28e.bodyIdColIndexMap[_292];var _295=_28e.bodyIdColIndexMap[_293];for(var i=0;i<_28f.length;i++){var _297=_28f[i]*_28e.cellIdList.length;if(data==_28e.dataArr[_297+_295]){ret=_28e.dataArr[_297+_294];if(this.options.displayMode==="value delim label"){ret=data+this.options.delimiter+ret;}else{if(this.options.displayMode==="label delim value"){ret=ret+this.options.delimiter+data;}}if(typeof ret=="undefined"||ret=="$blank"){ret="";}return ret;}}if(this.selectedIndex>=0&&this.selectedIndex<_28f.length&&!this.options.chooseOption){ret=_28e.dataArr[_28f[this.selectedIndex]*_28e.cellIdList.length+_294];if(this.options.displayMode==="value delim label"){ret=data+this.options.delimiter+ret;}else{if(this.options.displayMode==="label delim value"){ret=ret+this.options.delimiter+data;}}}else{if(this.options.allOption&&data==$W.allValue){var _298=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";ret=_298;}else{if(this.options.chooseOption&&data==this.options.chooseOptionValue){ret=this.options.chooseOptionLabel;}else{if(data==""){ret="";}else{var _297=0;if(this.mainGrid._linkedDataList){_297=this.mainGrid._linkedDataList.filteredRowIndexArr[_284];}else{_297=this.mainGrid._dataList.filteredRowIndexArr[_284];}var _299=this.mainGrid._dataList.cellIdList.length;var _29a=this.mainGrid._dataList.bodyIdColIndexMap[this.id];this.mainGrid._dataList.dataArr[_297*_299+_29a]="";ret="";}}}}if(typeof ret=="undefined"||ret=="$blank"){ret="";}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);return data;}}var _29b=false;for(var i=0;i<this.autoComplete.itemArr.length;i++){if(this.autoComplete.itemArr[i].value==data){_29b=true;ret=this.autoComplete.itemArr[i].label;break;}}if(!_29b){if(data==""&&this.selectedIndex!=-1&&!this.options.chooseOption){ret=this.autoComplete.itemArr[this.selectedIndex].label;this.mainGrid.dataList.setCellData(_284,this.id,ret);}else{if(this.options.allOption&&data==$W.allValue){var _298=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";ret=_298;}else{if(this.options.chooseOption&&data==this.options.chooseOptionValue){ret=this.options.chooseOptionLabel;}}}}}else{var _29c=this.getMatchInfo(_284);if(this.options.noResult=="useData"){if(!this.useDataInfo["AUTOCOMPLETE_"+data]){this.useDataInfo["AUTOCOMPLETE_"+data]=data;}if(!_29c["AUTOCOMPLETE_"+data]){this.matchInfo["AUTOCOMPLETE_"+data]=data;this.itemArr=[{label:data,value:""}].concat(this.itemArr);}}ret=_29c["AUTOCOMPLETE_"+data];}if(typeof ret=="undefined"||ret=="$blank"){return "";}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}return data;};$W._a._I.autoComplete.prototype.getMatchInfo=function(_29d){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.getMatchInfo"];var _29e=[];if(this.hasRef){_29e=this.getRefMatchInfo(_29d);}else{if(!this.hasRef){if(this.resetMatchInfo){this.matchInfo=this.setMatchInfo();}_29e=this.matchInfo;}}return _29e;};$W._a._I.autoComplete.prototype.getRefMatchInfo=function(_29f){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.getRefMatchInfo"];this.targetRowIndex=_29f;var _2a0=eval(this.refStr);if(this.refHash[_2a0]!=null&&!this.resetMatchInfo){return this.refHash[_2a0];}else{this.itemsetObj.nodeset=_2a0;var _2a1=$W._B.getElementsByTagName(this.xml,"w2:itemset");_2a1[0].setAttribute("nodeset",_2a0);var _2a2=this.setMatchInfo(_29f);this.refHash[_2a0]=_2a2;return _2a2;}return [];};$W._a._I.autoComplete.prototype.setMatchInfo=function(_2a3){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.setMatchInfo"];this.modelControl=new $W.modelControl(this.id,this.options.model,this.options.ref,this.itemsetObj,this.options.bind);this.initializeItemArr(this.xml);if(!this.comp||this.itemArr.length==0){this.resetMatchInfo=true;if(this.itemsetObj.nodeset.match("data:")){var _2a4=this.itemsetObj.nodeset.replace("data:","");this.itemArr=this.mainGrid.getTemporaryDataCollectionItemArr({"rowIndex":_2a3,"dataCompID":_2a4,"itemsetObj":this.itemsetObj});}}else{this.resetMatchInfo=false;}var _2a5={};if(this.options.allOption==true){var _2a6=$W._m.getMessage("Grid_all")||"-\uc804\uccb4-";this.itemArr=[{label:_2a6,value:$W.allValue}].concat(this.itemArr);}if(this.options.chooseOption==true){var _2a7=this.options.chooseOptionLabel;if(_2a7=="$blank"){_2a7="";}this.itemArr=[{label:_2a7,value:""}].concat(this.itemArr);}if(this.options.displayMode!="0"){for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].label=this.getItemText(i);}}for(var i=0;i<this.itemArr.length;i++){var _2a9=this.itemArr[i];_2a5["AUTOCOMPLETE_"+_2a9.value]=_2a9.label;}if(this.hasRef){this.refItemArr[this.itemsetObj.nodeset]=this.itemArr;}return _2a5;};$W._a._I.autoComplete.prototype.getItemText=function(idx){["WebSquare.uiplugin.autoComplete.getItemText"];try{var text="";if(idx>-1&&idx<this.itemArr.length){text=this.itemArr[idx].label;switch(this.options.displayMode){case "0":case "1":case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";}switch(this.options.displayMode){case "0":break;case "1":text=this.itemArr[idx].value+this.options.delimiter+text;break;case "2":text=text+this.options.delimiter+this.itemArr[idx].value;break;}}return text;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.autoComplete.prototype.getRefItemArr=function(_2ac){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.getRefItemArr"];this.getRefMatchInfo(_2ac);var _2ad=this.useLinkedDataList?this.refStr:eval(this.refStr);return this.refItemArr[_2ad];};$W._a._I.autoComplete.prototype.getDisplayData=function(data,_2af){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.getDisplayData"];var ret=this.getData(data,_2af);if(ret==null){ret="";}if(ret!=data&&ret==""){ret=data;}return ret;};$W._a._I.autoComplete.prototype.setEditMode=function(td,_2b2){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.setEditMode"];try{if(this.style==""){this.style="position:relative;left:0px;top:0px;background-color:#ffffff;";this.xml.setAttribute("class",this.mainGridId+"_autoComplete_"+this.id);this.xml.setAttribute("style",this.style);this.configOptions={};this.options.interactionMode?this.configOptions.interactionMode=this.options.interactionMode:"";this.options.submission?this.configOptions.submission=this.options.submission:"";this.options.sortOption?this.configOptions.sortOption=this.options.sortOption:"";this.options.displayMode?this.configOptions.displayMode=this.options.displayMode:"";this.options.search?this.configOptions.search=this.options.search:"";this.options.submenuSize?this.configOptions.submenuSize=this.options.submenuSize:"";this.options.allOption?this.configOptions.allOption=this.options.allOption:"";this.options.chooseOptionLabel?this.configOptions.chooseOptionLabel=this.options.chooseOptionLabel:"";this.options.noResult?this.configOptions.noResult=this.options.noResult:"";if(this.hasRef){this.targetRowIndex=_2b2;var _2b3=$W._B.getElementsByTagName(this.xml,"w2:itemset");_2b3[0].setAttribute("nodeset",eval(this.refStr));}this.autoComplete=new $W._a.an(this.mainGridId+"_autoComplete_"+this.id,this.configOptions,this.xml);this.comp=this.autoComplete;var _2b4=this;this.autoComplete._handleClickEvent=this.autoComplete.handleClickEvent;this.autoComplete.handleClickEvent=function(e){this._handleClickEvent(e);$W._c.stopEvent(e);};this.autoComplete._setSubLayer=this.autoComplete.setSubLayer;this.autoComplete.setSubLayer=function(e){this._setSubLayer(e);var _2b7=this.itemTable;_2b7.addKeyDownEventListener(function(e){switch(e.keyCode){case 9:this.fireClick(e);_2b4.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_2b4.mainGrid.options.keyMoveEditMode);break;case 13:if(_2b4.mainGrid.options.fastEditMode){if(_2b4.mainGrid.options.enterKeyMove=="none"){}else{if(_2b4.mainGrid.options.enterKeyMove=="right"){_2b4.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_2b4.mainGrid.options.keyMoveEditMode);}else{_2b4.mainGrid.moveVertical(e,e.shiftKey?"up":"down",_2b4.mainGrid.options.keyMoveEditMode);}}}break;case 27:_2b4.handleCancelEdit(e);break;}});_2b7.addClickEventListener(function(idx){_2b4.autoComplete.dom.input.value=_2b4.autoComplete.viewArr[idx].label;_2b4.autoComplete.selectedText=_2b4.autoComplete.viewArr[idx].label;_2b4.autoComplete.selectedValue=_2b4.autoComplete.viewArr[idx].value;var _2ba=_2b4.autoComplete.selectedText+"|"+_2b4.autoComplete.selectedValue;var idx=_2b4.autoComplete.findinItemArr(_2ba,"all");_2b4.autoComplete.setSelectedIndex1(idx);_2b4.handleEndEdit();});};this.autoComplete.showEditMode=function(_2bb){try{if(_2bb){this.dom.label.style.display="none";this.dom.label.style.visibility="hidden";this.dom.input.style.display="block";this.dom.input.style.visibility="visible";}else{this.dom.input.style.display="none";this.dom.input.style.visibility="hidden";this.dom.label.style.display="block";this.dom.label.style.visibility="visible";}}catch(e){}};this.autoComplete._inputKeyDown=this.autoComplete.inputKeyDown;this.autoComplete.inputKeyDown=function(e,_2bd){if(e.keyCode==27){}else{_2b4.autoComplete._inputKeyDown(e,_2bd);}};this.autoComplete.setSelectedIndex1=function(idx){var _2bf=this.selectedIndex;var _2c0=this.getValue();this.setSelectedIndex(idx);if(_2bf!=this.selectedIndex){var _2c1=_2b4.mainGrid.getColumnIndex(_2b4.mainGrid.editedCell.id);var _2c2=_2b4.editRowIndex;var info={"oldValue":_2c0,"newValue":this.getValue(),"oldSelectedIndex":_2bf,"newSelectedIndex":this.selectedIndex,"rowIndex":_2c2,"colIndex":_2c1};$W._c.fireEvent(_2b4.mainGrid,"onviewchange",info);}this.closeSubLayer();};td.innerHTML=this.autoComplete.toHTML();this.autoComplete.activate();this.autoComplete.setSize(td.clientWidth-2+"px",td.clientHeight-2+"px");}else{td.innerHTML="";td.appendChild(this.autoComplete.render);}this.autoComplete.setSize(td.clientWidth-2+"px",td.clientHeight-2+"px");if(this.hasRef){var _2c4=this.mainGrid.getElemRowIndex(td);this.autoComplete.itemArr=this.getRefItemArr(_2c4);}if(this.autoComplete.itemArr.length>0){var _2c5=this.mainGrid.dataList.getCellData(_2b2,this.id);this.autoComplete.setValue(_2c5);this.autoComplete.setInputFocus();}else{this.autoComplete.setInputFocus();this.autoComplete.dom.input.value="";}this.editRowIndex=_2b2;this.editTd=td;}catch(e){$W.exception.printStackTrace(e,null,this.mainGrid);}};$W._a._I.autoComplete.prototype._handleEndEdit_common=function(e){["WebSquare.uiplugin.cellInfo.autoComplete.prototype._handleEndEdit"];try{this.autoComplete.closeSubLayer();var _2c7=this.autoComplete.getValue();var _2c8=this.mainGrid.dataList.getCellData(this.editRowIndex,this.id);try{this.editTd.removeChild(this.autoComplete.render);}catch(e){return;}this.setInnerHTML(this.editTd,_2c7,this.editRowIndex,this.id);var _2c9={};_2c9[this.mainGrid.id]=true;this.mainGrid.dataList.setCellData(this.editRowIndex,this.id,_2c7,null,null,null,_2c9);}catch(e){$W.exception.printStackTrace(e,null,this.mainGrid);}};$W._a._I.autoComplete.prototype._handleEndEdit_focus=function(){this.mainGrid.setFocusedCell();};$W._a._I.autoComplete.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.autoComplete.prototype._handleCancelEdit"];this.autoComplete.closeSubLayer();var _2cb=this.mainGrid.dataList.getCellData(this.mainGrid.getRealRowIndex(this.editRowIndex),this.id);this.editTd.removeChild(this.autoComplete.render);this.setInnerHTML(this.editTd,_2cb,this.editRowIndex,this.id);this.mainGrid.setFocusedCell();};$W._a._I.autoComplete.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.autoComplete.prototype._getEditedValue"];var _2cd=this.autoComplete.getValue();return _2cd;};$W._a._I.autoComplete.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};$W._a._I.autoComplete.prototype.setColumnNodeSet=function(_2cf,_2d0,_2d1){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.setColumnNodeSet"];var _2d2=$W._B.findNode(this.xml,"*['"+"choices"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_2d2==null){_2d2=$W._B.createNode(this.xml,"w2:choices");$W._B.appendChild(this.xml,_2d2);}while(_2d2&&_2d2.firstChild){_2d2.removeChild(_2d2.firstChild);}var _2d3="<w2:itemset xmlns:w2='http://www.inswave.com/websquare' nodeset='"+_2cf+"'>"+"<w2:label ref='"+_2d0+"'></w2:label>"+"<w2:value ref='"+_2d1+"'></w2:value>"+"</w2:itemset>";var _2d4=$W._B.parse(_2d3,true).documentElement;$W._B.appendChild(_2d2,_2d4);this.initializeCellInfo(this.xml);if(this.autoComplete){this.autoComplete.setNodeSet(_2cf,_2d0,_2d1);}};$W._a._I.calendar=function(){["WebSquare.uiplugin.cellInfo.calendar"];};$W._a._I.calendar.prototype.setInnerHTML=function(td,data,_2d7,_2d8){if(this.options.embeddedInput){var _2d9=this.mainGrid.getInput(this,td);if(_2d9.render.parentNode==null){td.innerHTML="";td.appendChild(_2d9.render);}var _2da=0;var _2db=0;var _2dc=false;if(td.parentNode.style.display=="none"){td.parentNode.style.display="";_2dc=true;}if(!this.mainGrid.embeddedCalendarStyleObj){this.mainGrid.embeddedCalendarStyleObj={top:parseInt($W._H.getStyle(td,"padding-top"),10),bottom:parseInt($W._H.getStyle(td,"padding-bottom"),10),left:parseInt($W._H.getStyle(td,"padding-left"),10),right:parseInt($W._H.getStyle(td,"padding-right"),10)};}_2da=td.offsetHeight-parseInt($W._H.getStyle(td,"border-top-width"),10)-parseInt($W._H.getStyle(td,"border-bottom-width"),10);_2da-=(this.mainGrid.embeddedCalendarStyleObj["top"]+this.mainGrid.embeddedCalendarStyleObj["bottom"]);if(!this.mainGrid.embeddedWidthObj[_2d8]||this.mainGrid.embeddedWidthObj[_2d8]["isChanged"]){this.mainGrid.embeddedWidthObj[_2d8]={isChanged:false,width:td.clientWidth};}_2db=this.mainGrid.embeddedWidthObj[_2d8]["width"];_2db-=(this.mainGrid.embeddedCalendarStyleObj["left"]+this.mainGrid.embeddedCalendarStyleObj["right"]);if(_2dc){td.parentNode.style.display="none";}else{if($W._G.isIE("6 7")){_2da-=2;}}_2d9.setSize(_2db-2,_2da);_2d9.render.setAttribute("rowindex",_2d7);if(this.options.applyFormat!="all"){data=this.getDisplayData(data);}_2d9.setValue(data);if(this.mainGrid.getEditReadOnly(td,_2d7)||this.mainGrid.getEditDisabled(_2d7,_2d8)){_2d9.setDisabled(true);}else{_2d9.setDisabled(false);}td.removeAttribute("tabIndex");}else{td.innerHTML="<nobr>"+this.getDisplayData(data)+"</nobr>";var _2dd=this.mainGrid._dataList.filteredRowIndexArr[_2d7];var _2de=this.mainGrid.getCellOption(_2dd,_2d8,"viewType");if(_2de=="icon"||(_2de==""&&this.options.dataType=="own")){this.mainGrid.addClass(td,this.mainGrid.options.bodyTdClass+"_calendar");td.setAttribute("editModeEvent","onclick");}}};$W._a._I.calendar.prototype.setEditMode=function(td,_2e0){["WebSquare.uiplugin.cellInfo.calendar.prototype.setEditMode"];try{if(this.options.embeddedInput){return;}this.mainGrid.removeClass(td,this.mainGrid.options.bodyTdClass+"_calendar");this.editRowIndex=_2e0;this.editTd=td;this.setPosition();var _2e1=this.mainGrid.getInput(this);var _2e2=td.firstChild;for(var node=_2e2;node!=null;node=node.nextSibling){if(node.nodeName.toUpperCase()=="NOBR"){$W._H.setStyle(node,"visibility","hidden");break;}}if(_2e1.options.renderDiv==true||_2e1.options.renderDiv=="true"){var _2e4=document.getElementById(this.mainGridId+this.id);var _2e5=td.offsetWidth-6;var _2e6=td.offsetHeight;var _2e7=document.getElementById(this.mainGridId+this.id+"_div_input");var _2e8=_2e5-18-5;var _2e9=_2e6-3;var _2ea=document.getElementById(this.mainGridId+this.id+"_input");var bR=parseInt($W._H.getStyle(_2ea,"border-right-width"),10);var bL=parseInt($W._H.getStyle(_2ea,"border-left-width"),10);var pR=parseInt($W._H.getStyle(_2ea,"padding-right"),10);var pL=parseInt($W._H.getStyle(_2ea,"padding-left"),10);var _2ef=_2e8-(bR+bL+pR+pL);var _2f0=_2e9-2;var _2f1=document.getElementById(this.mainGridId+this.id+"_img");var _2f2=(_2e9/2)-(_2f1.offsetHeight/2);if(this.options.useAnchor==true||this.options.useAnchor=="true"){var divA=document.getElementById(this.mainGridId+this.id+"_a");$W._H.setStyle(divA,"top",_2f2+"px");}else{$W._H.setStyle(_2f1,"top",_2f2+"px");}$W._H.setStyle(_2e4,"width",Math.max(_2e5,0)+"px");$W._H.setStyle(_2e7,"width",Math.max(_2e8,0)+"px");$W._H.setStyle(_2ea,"width",Math.max(_2ef,0)+"px");$W._H.setStyle(_2e4,"height",Math.max(_2e6-3,0)+"px");$W._H.setStyle(_2e7,"height",Math.max(_2e9,0)+"px");$W._H.setStyle(_2ea,"height",Math.max(_2f0,0)+"px");}_2e1.setValue(this.mainGrid.dataList.getCellData(_2e0,this.id));_2e1.focus();this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;if(_2e1.options.editType=="select"){_2e1.select();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.calendar.prototype.setPosition=function(){["WebSquare.uiplugin.cellInfo.calendar.prototype.setEditMode"];try{var _2f4={top:0,left:0,width:0,height:0};if($W._G.isIE(8)){_2f4={top:1,left:0,width:0,height:0};}else{if($W._G.isFF()){_2f4={top:0,left:-1,width:0,height:0};}else{if($W._G.isChrome()||$W._G.isSafari()){_2f4={top:1,left:0,width:0,height:0};}else{if($W._G.isOpera()){_2f4={top:1,left:0,width:0,height:1};}}}}var td=this.editTd;var _2f6=td.offsetTop+_2f4.top;var _2f7=td.offsetLeft+1+_2f4.left;var _2f8=td.clientWidth-5+_2f4.width;var _2f9=td.clientHeight-3+_2f4.height;var _2fa=_2f9-1;if(this.mainGrid.options.groupbyZone){var _2fb=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;_2f6=_2f6+_2fb;}if(this.mainGrid.hasClass("w2grid_adaptive_crosstab")){var _2fc=document.getElementById(this.mainGrid.id+"_body_tbody").scrollLeft;_2f7=_2f7-_2fc;}var _2fd=this.mainGrid.getInput(this);_2fd.show();_2fd.render.style.top=_2f6+"px";_2fd.render.style.left=_2f7+"px";_2fd.render.style.width=_2f8+"px";_2fd.render.style.height=_2f9+"px";_2fd.render.firstChild.style.height=_2f9+"px";_2fd.dom.input.style.height=_2fa+"px";_2fd.dom.input.style.textAlign=td.style.textAlign==""?"center":td.style.textAlign;if($W._G.isIE()){_2fd.dom.input.style.lineHeight=_2f9+"px";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.calendar.prototype.removeCellData=function(_2fe,_2ff){this.mainGrid.dataList.setCellData(_2fe,_2ff,"");};$W._a._I.prototype.handleScrollY=function(e){var _301=this.validate();if(_301){return this.handleEndEdit(e);}else{return this.handleCancelEdit(e);}};$W._a._I.calendar.prototype._handleEndEdit=function(e){["WebSquare.uiplugi.cellInfo.calendar.prototype._handleEndEdit"];try{var _303=this.mainGrid.getInput(this);_303.hideCalendar();var _304=_303.getValue();_304=_303.sub_validator.validateString(_304);this.setInnerHTML(this.editTd,_304,this.editRowIndex,this.id);var _305={};_305[this.mainGrid.id]=true;this.mainGrid.dataList.setCellData(this.editRowIndex,this.id,_304,null,null,null,_305);_303.hide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.calendar.prototype.validate=function(e){["WebSquare.uiplugi.cellInfo.calendar.prototype.validate"];var _307=this.mainGrid.getInput(this);if(_307.validate()){return true;}if(_307.getValue()==""){return true;}this.mainGrid.getInput(this).blur();var _308=$W._m.getMessage("IC_invalidCalendarSelect")||"\ub0a0\uc9dc \ud615\uc2dd\uc774 \uc798\ubabb \ub418\uc5c8\uc2b5\ub2c8\ub2e4.";alert(_308);this.mainGrid.getInput(this).focus();return false;};$W._a._I.calendar.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.calendar.prototype._getEditedValue"];var _30a=this.mainGrid.getInput(this).getValue();return _30a;};$W._a._I.calendar.prototype._handleCancelEdit=function(e){["WebSquare.uiplugi.cellInfo.calendar.prototype._handleCancelEdit"];try{var _30c=this.mainGrid.dataList.getCellData(this.editRowIndex,this.id);this.setInnerHTML(this.editTd,_30c,this.editRowIndex,this.id);var _30d=this.mainGrid.getInput(this);_30d.hide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.calendar.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};$W._a._I.expression=function(){["WebSquare.uiplugin.cellInfo.expression"];};$W._a._I.expression.prototype.initializeCellInfo=function(){var str=this.options.expression;this.expIdArr=[];if(str!=""){var _310=str.match(/(sum|avg|max|min|display|rowstatus)[\s]*[(][\S\s]*?[)]/gi);if(_310!=null){str="";for(var i=0;i<_310.length;i++){str+=_310[i];if(i<_310.length-1){str+="+";}}}str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/[cC][aA][lL][cC][\s]*[(]/g,"this.getCalcExpressionTarget(");str=str.replace(/[dD][iI][sS][pP][lL][aA][yY][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/rowStatus[\s]*[(]/ig,"this.getExpressionTarget(");}try{eval(str);}catch(e){}};$W._a._I.expression.prototype.getExpressionTarget=function(){for(var i=0;i<arguments.length;i++){if(this.expIdArr[arguments[i]]==null){this.expIdArr[arguments[i]]=arguments[i];this.mainGrid.setExpressionAssociation(arguments[i],this.id);}}return 1;};$W._a._I.expression.prototype.getCalcExpressionTarget=function(str){var _314=str.wq_replaceAll("(",",").wq_replaceAll(")",",").wq_replaceAll("+",",").wq_replaceAll("-",",").wq_replaceAll("*",",").wq_replaceAll("/",",").wq_replaceAll("%",",").wq_replaceAll(" ","");_314=_314.split(",");for(var i=0;i<_314.length;i++){if(_314[i]!==""&&this.expIdArr[_314[i]]==null){this.expIdArr[_314[i]]=_314[i];this.mainGrid.setExpressionAssociation(_314[i],this.id);}}return 1;};$W._a._I.expression.prototype.setInnerHTML=function(td,data,_318,_319){try{var _31a=this.mainGrid.dataList.getRealRowIndex(_318);var _31b=$W._G.getGlobalFunction(this.options.customFormatter);var _31c=this.getDisplayData(null,_31a);var _31d;if(typeof _31b=="function"){this.useCustomFormatter=true;_31d=_31b.call(this.mainGrid,data,_31c,_318,_319);}else{this.useCustomFormatter=false;_31d=_31c;}var _31e=td.innerHTML.replace(/\r(\n)?/,"\n");var _31f="<nobr>"+_31d+"</nobr>";if(_31e!==_31f){td.innerHTML=_31f.replace("NaN",this.options.NaNFormat);this.mainGrid.drawFooter(this.id);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.expression.prototype.getDisplayData=function(_320,_321){_320=this.getExpressionValue(_321);if(this.formatter){return this.formatter.format(_320);}return _320;};$W._a._I.expression.prototype.getExpressionValue=function(_322){this.rowIndex=_322;var _323="";var str=this.options.expression;if(this.expressionStr==null){if(str!=""){str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.colsum(");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.colavg(");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.colmax(");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.colmin(");str=str.replace(/[cC][aA][lL][cC][\s]*[(]/g,"this.colcalc(");str=str.replace(/[dD][iI][sS][pP][lL][aA][yY][\s]*[(]/g,"this.display(");str=str.replace(/[rR][oO][wW][iI][nN][dD][eE][xX][\s]*[(]/g,"this.getRowIndex(");str=str.replace(/rowStatus[\s]*[(]/ig,"this.rowStatus(");}this.expressionStr=str;}_323=eval(this.expressionStr);return _323;};$W._a._I.expression.prototype.colsum=function(){var ret=0;for(var i=0;i<arguments.length;i++){var _327=this.mainGrid.getColumnIndex(arguments[i]);var _328=this.options.dataType;if(this.mainGrid.options.pluginName=="gridView"){_328=this.mainGrid._dataList.getCellInfo(this.options.col_id).options.dataType;}if(_328==="bigDecimal"){ret=$W._b(ret).plus($W._b(this.mainGrid.dataList._getData(this.rowIndex,_327)))||0;}else{ret+=parseFloat(this.mainGrid.dataList._getData(this.rowIndex,_327))||0;}}return ret;};$W._a._I.expression.prototype.colavg=function(){var ret=0;var _32a=this.mainGrid.getColumnOption(this.options.col_id,"dataType");for(var i=0;i<arguments.length;i++){var _32c=this.mainGrid.getColumnIndex(arguments[i]);if(_32a==="bigDecimal"){ret=$W._b(ret).plus($W._b(this.mainGrid.dataList._getData(this.rowIndex,_32c)))||0;}else{ret+=parseFloat(this.mainGrid.dataList._getData(this.rowIndex,_32c))||0;}}if(_32a==="bigDecimal"){ret=$W._b(ret).divide($W._b(arguments.length)).toString();}else{ret=ret/arguments.length;}return ret;};$W._a._I.expression.prototype.colmax=function(){var ret=0;var _32e=this.mainGrid.getColumnOption(this.options.col_id,"dataType");for(var i=0;i<arguments.length;i++){var _330=this.mainGrid.getColumnIndex(arguments[i]);if(_32e==="bigDecimal"){ret=$W._b(ret).compare($W._b(this.mainGrid.dataList._getData(this.rowIndex,_330)))||0;}else{var tmp=parseFloat(this.mainGrid.dataList._getData(this.rowIndex,_330))||0;if(i==0||tmp>ret){ret=tmp;}}}return ret;};$W._a._I.expression.prototype.colmin=function(){var ret=0;var _333=this.mainGrid.getColumnOption(this.options.col_id,"dataType");for(var i=0;i<arguments.length;i++){var _335=this.mainGrid.getColumnIndex(arguments[i]);if(_333==="bigDecimal"){ret=$W._b(ret).toString()==="0"?$W._b(this.mainGrid.dataList._getData(this.rowIndex,_335)):$W._b(ret);ret=$W._b(ret).compare($W._b(this.mainGrid.dataList._getData(this.rowIndex,_335)),true)||0;}else{var tmp=parseFloat(this.mainGrid.dataList._getData(this.rowIndex,_335))||0;if(i==0||tmp<ret){ret=tmp;}}}return ret;};$W._a._I.expression.prototype.colcalc=function(str){var ret=0;function _push(_339,ele){_339[_339.length]=ele;}function _pop(_33b){var _33c=_33b[_33b.length-1];delete _33b[_33b.length-1];_33b.length--;return (_33c);}function isOperation(who){return ((!isOperator(who)&&(who!="(")&&(who!=")"))?true:false);}function isOperator(who){return ((who=="+"||who=="-"||who=="*"||who=="/"||who=="^"||who=="%")?true:false);}function topStack(_33f){return (_33f[_33f.length-1]);}function isEmpty(_340){return ((_340.length==0)?true:false);}function isCalculation(who){if(who=="^"){return (5);}if((who=="*")||(who=="/")||(who=="%")){return (4);}if((who=="+")||(who=="-")){return (3);}if(who=="("){return (2);}if(who==")"){return (1);}}function InfixToPostfix(_342,_343,_344){var _343=new Array();var _345=new Array();var _346=0;_342=Tokens(_342);for(var i=0;i<_342.length;i++){if(isOperation(_342[i])){_343[_346]=_342[i];_346++;}if(isOperator(_342[i])){if(_342[i]!="^"){while((!isEmpty(_345))&&(isCalculation(_342[i])<=isCalculation(topStack(_345)))){_343[_346]=topStack(_345);_pop(_345);_346++;}}else{while((!isEmpty(_345))&&(isCalculation(_342[i])<isCalculation(topStack(_345)))){_343[_346]=topStack(_345);_pop(_345);_346++;}}_push(_345,_342[i]);}if(_342[i]=="("){_push(_345,_342[i]);}if(_342[i]==")"){while(topStack(_345)!="("){_343[_346]=_pop(_345);_346++;}_pop(_345);}}while(!isEmpty(_345)){if(topStack(_345)=="("){_pop(_345);}else{_343[_343.length]=_pop(_345);}}var _348="";for(var i=0;i<_343.length;i++){_348+=_343[i];}if(_344==0){return (_348);}else{return (_343);}}function PostfixToInfix(_349){var _34a=new Array();_349=_349.split("");for(var i=0;i<_349.length;i++){if(isOperation(_349[i])){_push(_34a,_349[i]);}else{var temp=topStack(_34a);_pop(_34a);var _34d="("+topStack(_34a)+_349[i]+temp+")";_pop(_34a);_push(_34a,_34d);}}return (topStack(_34a));}function Tokens(str){var _34f=str.split("");var _350="";var _351=new Array();var _352=0;for(var i=0;i<_34f.length;i++){if(isOperation(_34f[i])&&_34f[i].match(/\s/)==null){_350+=_34f[i];}if(isOperator(_34f[i])||_34f[i]==")"||_34f[i]=="("){if(_350!=""){_351[_352]=_350;_352++;}_350="";_351[_352]=_34f[i];_352++;}if(i==_34f.length-1){if(_350!=""){_351[_352]=_350;}}}return (_351);}function Calculation(num1,num2,sym){var _357;try{if(sym=="+"){_357=num1.plus(num2);}if(sym=="-"){_357=num1.minus(num2);}if(sym=="*"){_357=num1.times(num2);}if(sym=="/"){_357=num1.divide(num2);}if(sym=="^"){_357=num1.pow(num2);}if(sym=="%"){_357=num1.mod(num2);}return (_357);}catch(e){$W.exception.printStackTrace(e);}}function PostfixEval(_358){var _359=new Array();var temp;var _35b;for(var i=0;i<_358.length;i++){if(isOperation(_358[i])){_push(_359,_358[i]);}else{temp=eval(topStack(_359));if(temp.constructor!=$W.bigDecimalObj){temp=$W._b(temp);}_pop(_359);_35b=eval(topStack(_359));if(_35b.constructor!=$W.bigDecimalObj){_35b=$W._b(_35b);}var _35d=Calculation(_35b,temp,_358[i]);_pop(_359);_push(_359,_35d);}}return (topStack(_359));}var _35e=InfixToPostfix(str);for(var i in _35e){var _360=this.mainGrid.getColumnIndex(_35e[i]);_35e[i]=_360!=undefined?$W._b(this.mainGrid.dataList._getData(this.rowIndex,_360)):_35e[i];}return PostfixEval(_35e);};$W._a._I.expression.prototype.display=function(){var _361=this.mainGrid.getColumnIndex(arguments[0]);var ret=this.mainGrid.dataList.getCellData(this.rowIndex,_361);return ret;};$W._a._I.expression.prototype.getRowIndex=function(){return this.mainGrid.getDisplayRowIndex(this.rowIndex);};$W._a._I.expression.prototype.rowStatus=function(){var _363=this.mainGrid.dataList.getRowStatusValue(this.rowIndex);switch(_363){case 0:return "R";break;case 1:return "U";break;case 2:return "C";break;case 3:return "D";break;case 4:return "V";break;}};$W._a._I.textarea=function(){["WebSquare.uiplugin.cellInfo.textarea"];};$W._a._I.textarea.prototype.setInnerHTML=function(td,data){var _366=(td.clientWidth-8)+"";td.innerHTML="<div class='w2grid_textarea' style='text-align:"+this.options.textAlign+"; width:"+_366+"px'>"+(this.getEscape()==="true"?this.getDisplayData($W._B._encode(data+"")):this.getDisplayData(data))+"</div>";};$W._a._I.textarea.prototype.setEditMode=function(td,_368){this._setEditMode(td,_368);};$W._a._I.textarea.prototype._setEditMode=function(td,_36a){try{this.editRowIndex=_36a;this.editTd=td;this.setPosition();var _36b=this.mainGrid.getInput(this);_36b.setValue(this.mainGrid.dataList.getCellData(_36a,this.id));if(!this.options.disabled){_36b.focus();}this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;if(!this.options.disabled&&(this.options.editType=="select"||this.mainGrid.options.editType=="select")){_36b.select();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.textarea.prototype.setPosition=function(){try{var _36c={top:0,left:0,width:0,height:0};if($W._G.isIE(8)){_36c={top:-1,left:-1,width:0,height:0};}else{if($W._G.isFF()){_36c={top:-2,left:-1,width:0,height:0};}else{if($W._G.isOpera()){_36c={top:0,left:0,width:0,height:1};}}}var td=this.editTd;var _36e=td.offsetTop+1+_36c.top;var _36f=td.offsetLeft+1+_36c.left;var _370=td.clientWidth>150?td.clientWidth-5+_36c.width:150;var _371=td.clientHeight>60?td.clientHeight-2+_36c.height:60;if(this.mainGrid.options.groupbyZone){var _372=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;_36e=_36e+_372;}if(this.mainGrid.gridWidth<_36f+_370){var _373=(td.clientWidth>150?0:5+_36c.width)-2;_36f-=(_36f+_370)-(td.offsetLeft+td.clientWidth)+_373;}var _374=this.mainGrid.scrollX_right;if(this.mainGrid.render.offsetHeight-_374.offsetHeight<_36e+_371){var _375=(td.clientHeight>60?0:2-_36c.top);_36e-=(_36e+_371)-(td.offsetTop+td.clientHeight)+_375;if(_36e<0){_36e=1+_36c.top;}if(_371>this.mainGrid.render.offsetHeight){_371=this.mainGrid.render.offsetHeight-6+_36c.height;}}if(this.mainGrid.hasClass("w2grid_adaptive_crosstab")){var _376=document.getElementById(this.mainGrid.id+"_body_tbody").scrollLeft;_36f=_36f-_376;}var _377=this.mainGrid.getInput(this);_377.show();_377.render.style.top=_36e+"px";_377.render.style.left=_36f+"px";_377.render.style.width=_370+"px";_377.render.style.height=_371+"px";_377.render.style.imeMode=this.options.imeMode;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.textarea.prototype.removeCellData=function(_378,_379){this.mainGrid.dataList.setCellData(_378,_379,"");};$W._a._I.textarea.prototype.showReadonly=function(td,_37b){var _37c=this.mainGrid.getInput(this);var _37d=parseInt(td.getAttribute("colIndex"),10);var _37e=td.getAttribute("col_id");if(this.options.disabled||this.mainGrid.getEditDisabled(_37b,_37d)){_37c.setDisabled(true);}if(this.options.readOnly||this.mainGrid._getEditReadOnly(_37b,_37e)){_37c.setReadOnly(true);}this._setEditMode(td,_37b);this.mainGrid.editedCell=this;};$W._a._I.textarea.prototype._handleEndEdit_common=function(e){["WebSquare.uiplugin.cellInfo.textarea.prototype._handleEndEdit"];try{var _380=this.mainGrid.getInput(this);var _381=_380.getValue();var _382=this.mainGrid.getColumnOption(this.options.col_id,"dataType");if(_382=="number"){if(_381!=""){_381=Number(_381);}}var _383=this.editTd.offsetHeight;this.setInnerHTML(this.editTd,_381,this.editRowIndex,this.id);var _384=this.editTd.offsetHeight;this.changedCellHeight=_384-_383;var _385={};_385[this.mainGrid.id]=true;this.mainGrid.dataList.setCellData(this.editRowIndex,this.id,_381,null,null,null,_385);return _380;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.textarea.prototype._handleEndEdit_focus=function(_386){_386.hide();_386.setDisabled(false);_386.setReadOnly(false);};$W._a._I.textarea.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.textarea.prototype._getEditedValue"];var _388=this.mainGrid.getInput(this).value;return _388;};$W._a._I.textarea.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.textarea.prototype._handleCancelEdit"];try{var _38a=this.mainGrid.dataList.getCellData(this.editRowIndex,this.id);this.setInnerHTML(this.editTd,_38a,this.editRowIndex,this.id);var _38b=this.mainGrid.getInput(this);_38b.hide();_38b.setDisabled(false);_38b.setReadOnly(false);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.textarea.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};$W._a._I.drilldown=function(){["WebSquare.uiplugin.cellInfo.drilldown"];};$W._a._I.drilldown.prototype.setInnerHTML=function(td,data,_38f){var _390=_38f;var _391=100;var _392=this.options.depthColumn;if(this.mode==="linkedDataList"){if(this.mainGrid._linkedDataList.filteredRowIndexArr!=undefined&&this.mainGrid._linkedDataList.filteredRowIndexArr.length>0){_390=this.mainGrid._linkedDataList.filteredRowIndexArr[_38f];var _393=this.mainGrid._linkedDataList.filteredRowIndexArr.length-1;if(_390<this.mainGrid._linkedDataList.filteredRowIndexArr[_393]){_391=parseInt(this.mainGrid.dataList.getCellData(_38f+1,_392),10);}else{_391=null;}}}else{if(this.mainGrid._dataList.filteredRowIndexArr!=undefined&&this.mainGrid._dataList.filteredRowIndexArr.length>0){_390=this.mainGrid.dataList.getRealRowIndex(_38f);if(_390<this.mainGrid.dataList.getRealRowIndex(this.mainGrid.getDataLength()-1)){_391=parseInt(this.mainGrid.dataList.getCellData(_38f+1,_392),10);}else{_391=null;}}}var _394=parseInt(this.mainGrid.dataList.getCellData(_38f,_392),10);var _395="";var _396=_390;var type="";for(var i=1;i<_394;i++){if(this.options.depthType=="div"){_395+="<div class='w2grid_depthBlank'></div>";}else{if(this.options.depthType=="line"){if(i===1){if(this.mainGrid.drilldown.isLastChild(_396)){type="_line_L";}else{type="_line_T";}}else{if(this.mainGrid.drilldown.isLastChild(_396)){type="Blank";}else{type="_line_I";}}_395="<div class='w2grid_depth"+type+"'></div>"+_395;_396=this.mainGrid.drilldown.getParentRowIndex(_396);}else{if(this.options.depthType=="none"){_395+="";}else{_395+="&nbsp;&nbsp;";}}}}var _399=0;var _39a="w2grid_plus";var _39b="w2grid_root";var _39c="w2grid_depthBlank_root";var _39d="w2grid_depthBlank_leaf";if(_391!=null&&_394<_391){_399=1;_39a="w2grid_minus";}else{if(!this.mainGrid.hasChild(_38f)){_399=2;_39a="w2grid_leaf";}}if(_394==1){_39a=_39a+" "+_39b;}var icon="";if($W._G.isMobile()){icon="<span class='"+_39a+"' style='display:inline-block;' openStatus='"+(_399)+"' ontouchstart='this.clicked=true'></span>";}else{icon="<span class='"+_39a+"' style='display:inline-block;' openStatus='"+(_399)+"' onclick='this.clicked=true'></span>";}var _39f="<div class='w2grid_depthBlank";if(_394=="1"){_39f=_39f+" "+_39c;}if(_399===2){_39f=_39f+" "+_39d;}_39f=_39f+"'>";if(this.options.depthType=="div"){icon=_39f+icon+"</div>";td.innerHTML="<nobr class='w2grid_drilldown_nobr'>"+_395+icon+this.getDisplayData(data)+"</nobr>";}else{if(this.options.depthType=="line"){icon=_39f+icon+"</div>";td.innerHTML=_395+icon+"<nobr class='w2grid_drilldown_nobr'>"+this.getDisplayData(data)+"</nobr>";}else{if(this.options.depthType=="none"){td.innerHTML="<nobr>"+_395+icon+this.getDisplayData(data)+"</nobr>";}else{td.innerHTML="<nobr>"+_395+icon+this.getDisplayData(data)+"</nobr>";}}}};$W._a._I.drilldown.prototype.handleClick=function(td,_3a1){var imgs=td.getElementsByTagName("span");var img=imgs[0];if(img.clicked==true){img.clicked=false;if(img.getAttribute("openStatus")!="2"){this.mainGrid.toggle(_3a1);}return true;}return false;};$W._a._I.drilldown.prototype.setEditMode=function(td,_3a5){["WebSquare.uiplugin.cellInfo.drilldown.prototype.setEditMode"];try{this.editRowIndex=_3a5;this.editTd=td;this.setPosition();var _3a6=this.mainGrid.getInput(this);_3a6.formatter=this.options.applyFormat=="all"?this.formatter:this.emptyFormatter;_3a6.options.applyFormat=this.options.applyFormat;if(this.options.maxLength){_3a6.render.setAttribute("maxLength",this.options.maxLength);}else{_3a6.render.removeAttribute("maxLength");}_3a6.setValue(this.mainGrid.dataList.getCellData(_3a5,this.id));if(document.activeElement!=_3a6.render){_3a6.focus();}this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;_3a6.options.editType="select";if(_3a6.options.editType=="select"){_3a6.select();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.drilldown.prototype.setPosition=function(){var _3a7={top:0,left:0,width:0,height:0};if($W._G.isFF()){_3a7={top:-1,left:-1,width:0,height:0};}else{if($W._G.isOpera()){_3a7={top:0,left:0,width:0,height:1};}else{if($W._G.isIE(9)){_3a7={top:-1,left:-1,width:0,height:0};}}}var td=this.editTd;var _3a9=td.offsetTop+1+_3a7.top;var _3aa=td.offsetLeft+1+_3a7.left;var _3ab=td.clientWidth-6+_3a7.width;var _3ac=td.clientHeight-2+_3a7.height;var _3ad=this.mainGrid.getInput(this);if(this.options.imeMode!=""){_3ad.render.style.imeMode=this.options.imeMode;}else{var _3ae=this.mainGrid.getColumnOption(this.options.col_id,"dataType");_3ad.render.style.imeMode=_3ae=="number"?"disabled":"";}_3ad.show();if(this.mainGrid.options.groupbyZone){var _3af=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;_3a9=_3a9+_3af;}_3ad.render.style.top=_3a9+"px";_3ad.render.style.left=_3aa+"px";_3ad.render.style.width=_3ab+"px";_3ad.render.style.height=_3ac+"px";if($W._G.isIE()){_3ad.render.style.lineHeight=_3ac+"px";}_3ad.render.style.textAlign=td.style.textAlign==""?"center":td.style.textAlign;};$W._a._I.drilldown.prototype.removeCellData=function(_3b0,_3b1){this.mainGrid.dataList.setCellData(_3b0,_3b1,"");};$W._a._I.drilldown.prototype._handleEndEdit_common=function(e){["WebSquare.uiplugin.cellInfo.drilldown.prototype._handleEndEdit"];try{var _3b3=this.mainGrid.getInput(this);this.setEditData(_3b3);return _3b3;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.drilldown.prototype._handleEndEdit_focus=function(_3b4,_3b5){if(this.mainGrid.isMobile||!_3b5){_3b4.hide();}};$W._a._I.drilldown.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.drilldown.prototype._getEditedValue"];var _3b7=this.mainGrid.getInput(this).getValue();return _3b7;};$W._a._I.drilldown.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.drilldown.prototype._handleCancelEdit"];try{var _3b9=this.mainGrid.dataList.getCellData(this.editRowIndex,this.id);this.setInnerHTML(this.editTd,_3b9,this.editRowIndex,this.id);var _3ba=this.mainGrid.getInput(this);_3ba.hide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.drilldown.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};$W._a._I.drilldown.prototype.setEditData=function(_3bc){try{var _3bd=_3bc.getValue();_3bd=_3bc.validator.validateString(_3bd);_3bc.setValueNM(_3bd,true);this.setInnerHTML(this.editTd,_3bd,this.editRowIndex,this.id);var _3be=this.mainGrid.getColumnOption(this.options.col_id,"dataType");if(this.mainGrid.options.numberCasting&&_3be=="number"){if(_3bd!=""){_3bd=Number(_3bd);}}var _3bf={};_3bf[this.mainGrid.id]=true;this.mainGrid.dataList.setCellData(this.editRowIndex,this.id,_3bd,null,null,null,_3bf);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.textImage=function(){["WebSquare.uiplugin.cellInfo.textImage"];};$W._a._I.textImage.prototype.setInnerHTML=function(td,data,_3c2,_3c3){var row=this.mainGrid.getElemRowIndex(td);var _3c5=this.mainGrid.dataList.getRealRowIndex(row);var col=this.mainGrid.getColumnIndex(this.id);var _3c7=this.mainGrid.getCellOption(_3c5,col,"viewType");var _3c8=this.options.imageSrc?$W._N.getImageURL(this.options.imageSrc):"";var _3c9=this.mainGrid.getColumnID(_3c3);if(this.mainGrid.getEditDisabled(_3c2,_3c9)&&this.options.imageSrcDisabled){_3c8=$W._N.getImageURL(this.options.imageSrcDisabled);}else{if(this.mainGrid._getEditReadOnly(_3c2,_3c9)&&this.options.imageSrcReadOnly){_3c8=$W._N.getImageURL(this.options.imageSrcReadOnly);}}var _3ca=this.getDisplayData(data);var _3cb=$W._G.getGlobalFunction(this.options.customFormatter);var _3cc;if(typeof _3cb=="function"){this.useCustomFormatter=true;_3cc=_3cb.call(this.mainGrid,data,_3ca,_3c2,_3c3);}else{this.useCustomFormatter=false;_3cc=_3ca;}if(_3c7=="icon"||(_3c7==""&&this.options.dataType=="own")){var _3cd="";try{if(this.options.onerror){_3cd=" onerror='("+this.options.onerror+").call(this,event);' ";}}catch(e){$W.exception.printStackTrace(e,null,this);}td.innerHTML=["<table style='border-collapse:collapse; border-spacing:0px; width:100%; table-layout:fixed;'>","<td col_id='"+this.id+"' rowIndex='"+_3c2+"' colIndex='"+_3c3+"' class='w2grid_textImage' style='overflow:hidden; text-overflow:ellipsis;'>","<nobr>"+_3cc+"</nobr>","</td>","<td col_id='"+this.id+"' rowIndex='"+_3c2+"'  colIndex='"+_3c3+"' class='w2grid_textImage_image' style='",this.options.imageWidth!=""?"width:"+parseInt(this.options.imageWidth)+"px;":"",this.options.imageHeight!=""?"height:"+parseInt(this.options.imageHeight)+"px;":"","'>","<img src='"+_3c8+"' "+_3cd+"style='",this.options.imageWidth!=""?"width:"+parseInt(this.options.imageWidth)+"px;":"",this.options.imageHeight!=""?"height:"+parseInt(this.options.imageHeight)+"px;":"","' />","</td>","</table>"].join("");var _3ce=this;var img=td.getElementsByTagName("img")[0];var _3d0=this.options.useImageClick||"false";var _3d1=this.mainGrid.getDisabled("all",_3c2,_3c3);var _3d2=function(e){$W._c.stopPropagation(e);if(_3ce.mainGrid.options.imageClickSetFocuse){_3ce.mainGrid.setFocusedCell(_3c2,_3c3);}if((_3d0=="true")||(_3d0=="false"&&_3d1==false)){var _3d4=_3ce.getDisplayData(data);var _3d5=eval(_3ce.options.imageClickFunction);$W._c.fireEvent(_3ce.mainGrid,"ontextimageclick",_3c2,_3c3);if(typeof _3d5=="function"){if(_3ce.options.displayRowIndex){_3d5.call(_3ce.mainGrid,_3c2,_3ce.id,_3d4);}else{_3d5.call(_3ce.mainGrid,_3c5,_3ce.id,_3d4);}}}};$W._c.addListener(img,"onclick",_3d2);}else{td.innerHTML="<nobr>"+_3cc+"</nobr>";}};$W._a._I.textImage.prototype.setEditMode=function(td,_3d7){try{var _3d8="";try{if(this.options.onerror){_3d8=" onerror='("+this.options.onerror+").call(this,event);' ";}}catch(e){$W.exception.printStackTrace(e,null,this);}td.innerHTML=["<table style='border-collapse:collapse; border-spacing:0px;'><td></td><td>","<img src='"+this.options.imageSrc+"' "+_3d8+"style='",this.options.imageWidth!=""?"width:"+parseInt(this.options.imageWidth)+"px;":"",this.options.imageHeight!=""?"height:"+parseInt(this.options.imageHeight)+"px;":"","' />","</td></table>"].join("");var tds=td.getElementsByTagName("td");var img=tds[1].firstChild;var row=this.mainGrid.getElemRowIndex(td);var col=this.mainGrid.getColumnIndex(this.id);var _3dd=this.mainGrid._dataList.filteredRowIndexArr[row];var _3de=this;var _3df=function(e){$W._c.stopPropagation(e);if(_3de.mainGrid.editedCell){_3de.mainGrid.editedCell.handleEndEdit();}var _3e1=_3de.mainGrid.getInput(_3de).getValue();var _3e2=eval(_3de.options.imageClickFunction);$W._c.fireEvent(_3de.mainGrid,"ontextimageclick",_3d7,col);if(typeof _3e2=="function"){if(_3de.options.displayRowIndex){_3e2.call(_3de.mainGrid,_3d7,_3de.id,_3e1);}else{_3e2.call(_3de.mainGrid,_3dd,_3de.id,_3e1);}}};$W._c.addListener(img,"onclick",_3df);this.editRowIndex=_3d7;this.editTd=td;this.setPosition();var _3e3=this.mainGrid.getInput(this);_3e3.formatter=this.options.applyFormat=="all"?this.formatter:this.emptyFormatter;_3e3.options.applyFormat=this.options.applyFormat;if(this.options.maxLength){_3e3.render.setAttribute("maxLength",this.options.maxLength);}else{_3e3.render.removeAttribute("maxLength");}_3e3.setValue(this.mainGrid.dataList.getCellData(_3d7,this.id));_3e3.focus();this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;if(_3e3.options.editType=="select"){_3e3.select();}else{if(_3e3.options.editType=="focus"&&($W._G.isIE()||$W._G.isFF())){$W._A.setCaretPos(_3e3.render,_3e3.render.value.length);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.textImage.prototype.setPosition=function(){try{var _3e4={top:0,left:0,width:0,height:0,tdWidth:0};if($W._G.isFF()){_3e4={top:-1,left:-1,width:0,height:0,tdWidth:0};}else{if($W._G.isOpera()){_3e4={top:0,left:0,width:0,height:1,tdWidth:0};}}var td=this.editTd;var tds=td.getElementsByTagName("td");var img=tds[1].firstChild;var _3e8=td.clientWidth-img.offsetWidth-1+_3e4.tdWidth;var _3e9=td.offsetTop+1+_3e4.top;var _3ea=td.offsetLeft+1+_3e4.left;var _3eb=td.clientWidth-img.offsetWidth-6+_3e4.width;var _3ec=td.clientHeight-2+_3e4.height;if(this.mainGrid.options.groupbyZone){var _3ed=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;_3e9=_3e9+_3ed;}tds[0].style.width=_3e8+"px";var _3ee=this.mainGrid.getInput(this);if(this.options.imeMode!=""){_3ee.render.style.imeMode=this.options.imeMode;}else{var _3ef=this.mainGrid.getColumnOption(this.options.col_id,"dataType");_3ee.render.style.imeMode=(_3ef=="number")?"disabled":"";}if(this.mainGrid.hasClass("w2grid_adaptive_crosstab")){var _3f0=document.getElementById(this.mainGrid.id+"_body_tbody").scrollLeft;_3e9=_3e9-_3f0;_3ee.render.style.lineHeight=_3ec+"px";}_3ee.show();_3ee.render.style.top=_3e9+"px";_3ee.render.style.left=_3ea+"px";_3ee.render.style.width=_3eb+"px";_3ee.render.style.height=_3ec+"px";_3ee.render.style.lineHeight=_3ec+"px";_3ee.render.style.textAlign=td.style.textAlign==""?"center":td.style.textAlign;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.textImage.prototype.removeCellData=function(_3f1,_3f2){this.mainGrid.dataList.setCellData(_3f1,_3f2,"");};$W._a._I.textImage.prototype._handleEndEdit_common=function(e){["WebSquare.uiplugin.cellInfo.textImage.prototype._handleEndEdit"];try{var _3f4=this.mainGrid.getInput(this);var _3f5=_3f4.getValue();_3f5=_3f4.validator.validateString(_3f5);this.setInnerHTML(this.editTd,_3f5,this.editRowIndex,this.id);var _3f6={};_3f6[this.mainGrid.id]=true;this.mainGrid.dataList.setCellData(this.editRowIndex,this.id,_3f5,null,null,null,_3f6);return _3f4;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.textImage.prototype._handleEndEdit_focus=function(_3f7){_3f7.setDisabled(false);_3f7.setReadOnly(false);_3f7.hide();};$W._a._I.textImage.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.textImage.prototype._getEditedValue"];var _3f9=this.mainGrid.getInput(this).getValue();return _3f9;};$W._a._I.textImage.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.textImage.prototype._handleCancelEdit"];try{var _3fb=this.mainGrid.getInput(this);var _3fc=this.mainGrid.dataList.getCellData(this.editRowIndex,this.id);this.setInnerHTML(this.editTd,_3fc,this.editRowIndex,this.id);_3fb.hide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.textImage.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};$W._a._I.textImage.prototype.showReadonly=function(td,_3ff){this.setEditMode(td,_3ff);var _400=this.mainGrid.getInput(this);_400.setDisabled(true);_400.setReadOnly(true);this.mainGrid.editedCell=this;};$W._a._I.prototype.setDataListCellRefresh=function(_401){try{if(_401){this.initFormatter(_401);var _402=this.options.dataType;if(!_402){_402=this.mainGrid._dataList.getColumnOption(this.options.col_id,"dataType");}if(_402=="date"&&!this.options.displayFormat){this.options.displayFormat=$W._N.getConfiguration("/WebSquare/"+pluginName+"/dataType/date/@displayFormat");}if(_402=="time"&&!this.options.displayFormat){this.options.displayFormat="HH:mm";}var _403=(this.options.groupName&&this.options.groupValue)?false:true;var _404=this.options.inputType;var _405=(_404=="button"||_404=="image")?false:true;if(_403&&_405){var _406=!!(this.mainGrid._dataList.getCellInfo(this.id).element)?true:false;if(!_406){this.options.readOnly=true;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.spinner=function(){["WebSquare.uiplugin.cellInfo.spinner"];};$W._a._I.spinner.prototype.initializeCellInfo=function(_407){["WebSquare.uiplugin.cellInfo.spinner.prototype.initializeCellInfo"];try{if(!this.xml){var _408=$W._B.serialize(_407);var _409=_408.indexOf("xmlns:w2")<0?" xmlns:w2=\"http://www.inswave.com/websquare\"":"";_408=_408.wq_replaceAll("<w2:column","<w2:spinner"+_409);_408=_408.wq_replaceAll("</w2:column","</w2:spinner");var elem=$W._B.parse(_408,true);this.xml=elem.documentElement;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.spinner.prototype.setInnerHTML=function(td,data,_40d,_40e){if(data==null){data="";}td.innerHTML="<nobr>"+this.getDisplayData(data,_40d)+"</nobr>";};$W._a._I.spinner.prototype.setEditMode=function(td,_410){["WebSquare.uiplugin.cellInfo.spinner.prototype.setEditMode"];try{if(this.style==""){this.style="position:relative;left:0px;top:0px;background-color:#ffffff;";this.xml.setAttribute("class",this.mainGridId+"_spinner_"+this.id);this.xml.setAttribute("style",this.style);this.configOptions={};this.options.dataType?this.configOptions.dataType=this.options.dataType:"";this.options.buttonSize?this.configOptions.buttonSize=this.options.buttonSize:"";this.options.dateIncrementType?this.configOptions.dateIncrementType=this.options.dateIncrementType:"";this.options.displayFormat?this.configOptions.displayFormat=this.options.displayFormat:"";this.options.displayFormatter?this.configOptions.displayFormatter=this.options.displayFormatter:"";this.options.increment?this.configOptions.increment=this.options.increment:"";this.options.min?this.configOptions.min=this.options.min:"";this.options.max?this.configOptions.max=this.options.max:"";this.spinner=new $W._a._l(this.mainGridId+"_spinner_"+this.id,this.configOptions,this.xml);this.spinner.isGridCellComponent=true;var _411=this;this.spinner._handleClickEvent=this.spinner.handleClickEvent;this.spinner.handleClickEvent=function(e){this._handleClickEvent(e);$W._c.stopEvent(e);};this.spinner._inputKeyDown=this.spinner.inputKeyDown;this.spinner.inputKeyDown=function(e,_414){if(e.keyCode==27){}else{_411.spinner._inputKeyDown(e,_414);}};td.innerHTML=this.spinner.toHTML();this.spinner.activate();this.spinner.setSize(td.clientWidth-2,td.clientHeight-2);}else{td.innerHTML="";td.appendChild(this.spinner.render);this.spinner.show();}this.maxValue=Number(this.spinner.options.maxValue);this.minValue=Number(this.spinner.options.minValue);this.editColIndex=this.mainGrid.getColumnIndex(this.id);this.editRowIndex=_410;this.editTd=td;this.spinner.setValue(this.mainGrid.dataList.getCellData(_410,this.id));}catch(e){$W.exception.printStackTrace(e,null,this.mainGrid);}};$W._a._I.spinner.prototype._handleEndEdit_common=function(e){["WebSquare.uiplugin.cellInfo.spinner.prototype._handleEndEdit_common"];try{var _416=this.spinner.getValue();if(this.spinner.options.dataType=="number"){var _417=Number(_416);if(_416>this.maxValue){_416=this.maxValue+"";}else{if(this.minValue>_416){_416=this.minValue;}}}else{if(this.spinner.options.dataType=="date"){}}this.mainGrid.dataList.setCellData(this.editRowIndex,this.id,_416);this.setInnerHTML(this.editTd,_416,this.editRowIndex,this.id);this.spinner.hide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.spinner.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.spinner.prototype._handleCancelEdit"];try{}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.textImage.prototype._handleEndEdit_focus=function(){["WebSquare.uiplugin.cellInfo.spinner.prototype._handleEndEdit_focus"];try{return null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._I.spinner.prototype.doDefaultAction=function(e){console.log("doDefaultAction");if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};;WebSquare.uiplugin.cellController=$W._a._f;;WebSquare.uiplugin.cellInfo=$W._a._I;$W._a._v=function(){["WebSquare.uiplugin.headerController"];};$W._a._v.prototype.initializeHead=function(){["WebSquare.uiplugin.headerController.prototype.initializeHead"];try{this.headerObj={};var _1=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));var _2=[];for(var i=0;i<_1.length;i++){_2.push(_1[i]);}for(var i=0;i<_2.length;i++){var td=_2[i];if(td.getAttribute("header_id")){continue;}var _5=td.getAttribute("inputType");var _6=td.getAttribute("dataType");var _7=td.getAttribute("value");var _8=null;if(_5=="checkbox"){td.innerHTML="";_8=this.setCheckboxHead(td,_7);_8.headInputType="checkbox";}else{if(_5=="select"){_8=this.setSelectboxHead(td,_7);_8.headInputType="select";}else{if(_5=="text"&&_6=="own"){_8=this.setInputHead(td,_7);_8.headInputType="input";}else{if(_5=="checkcombobox"){_8=this.setCheckcomboboxHead(td,_7);_8.headInputType="checkcombobox";}else{var _9="";var _a=td.getAttribute("localeRef");if(_a!=null){_9=this.getLocaleValue(_a);}else{_9=td.getAttribute("value");if(_9==null){_9="";}}td.innerHTML="<nobr>"+_9+"</nobr>";}}}}var _b=td.getAttribute("id");td.setAttribute("header_id",_b);td.className=td.className+(" "+this.id+"_header__column"+i);if(this.headCellInfoHash[_b]){var _c=this.headCellInfoHash[_b].getAttribute("class");if(_c){td.className=td.className+(" "+_c);}}td.setAttribute("id",this.id+"_"+_b);if(this.options.autoScope){td.setAttribute("scope","col");}if(!!_b&&!_b.match("RowNumber")&&!_b.match("RowStatus")&&!this.options.groupbyZone){var _d="/WebSquare/grid/header/column[@inputType='"+_5+"']/useFilter/@value";var _e=$W._G.getBoolean($W._N.getConfiguration(_d));var _f=this.headCellInfoHash[_b].getAttribute("useFilter");if(typeof _f=="string"){_f=$W._G.getBoolean(_f);}else{_f=true;}if(_f&&(_e||td.getAttribute("useFilter")=="true")){var _10=td.innerHTML;td.innerHTML="<table style='width:100%;height:100%;'><tr><td style='width:100%;'>"+_10+"</td><td><input type='button' id='"+this.id+"_"+_b+"_filter' class='w2trigger w2grid_customFilter_open' onclick='"+this.id+".showCustomFilter(\""+_b+"\");'/></td></tr></table>";}}this.headerObj[_b]=_8;td.disabled=false;var _11=td.getAttribute("toolTip");if(_11){$W.getBody().setToolTip(td,_11);}}this.clearHeaderSort();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.associateHeaderBody=function(){["WebSquare.uiplugin.headerController.prototype.associateHeaderBody"];try{var _12=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));var _13=0;var _14=-1;var _15="";for(var i=0;i<_12.length;i++){var _17=_12[i];if(_17.className.indexOf(this.options.headerTdClass+"_rowNumber")>=0||_17.className.indexOf(this.options.headerTdClass+"_rowStatus")>=0){}else{var _18=_17.getAttribute("colIndex");if(parseInt(_18)<=_14){_13++;}_14=parseInt(_18);var _19=_13;if(_19+1>this.tempTr.rows.length){_19=this.tempTr.rows.length-1;}var _1a=null;var _1b=null;while(_19>=0){var _1c=this.tempTr.rows[_19];var _1d=$W._G.first(_1c);while(_1d){var _1e=_1d.getAttribute("colIndex");if(_18==_1e){_1b=_1d;break;}_1d=$W._G.next(_1d);}if(_1b){break;}_19--;}if(_1b){var _1f=_17.getAttribute("header_id");var _20=_1b.getAttribute("col_id");_15=_20;this.headerToBodyRelation[_1f]=_20;this.bodyToHeaderRelation[_20]=_1f;}else{var _1f=_17.getAttribute("header_id");this.passiveColSpanRelation[_1f]=_15;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.setCheckboxHead=function(td,_22){["WebSquare.uiplugin.headerController.prototype.setCheckboxHead"];try{var _23=td.getAttribute("col_id");var _24=td.getAttribute("onChangeFunction")||td.getAttribute("onchangeFunction");var _25="<INPUT type='checkbox' />";var _26=td.getAttribute("checkboxlabel");if(_26){var _27=this.uuid+"_header__"+_23;_25="<INPUT type='checkbox' name='"+_27+"'/>"+"<label class='w2checkbox_label ' for='"+_27+"'>"+_26+"</label>";}td.innerHTML=_25;var _28=td.firstChild;_28.setAttribute("colId",_22);var _29=td.getAttribute("title");if(_29){_28.setAttribute("title",_29);}var _2a=this;$W._c.addListener(_28,"onkeydown",function(e){$W._c.stopPropagation(e);});$W._c.addListener(_28,"ondblclick",function(e){$W._c.stopPropagation(e);});$W._c.addListener(_28,"onfocus",function(e){var _2e=_2a.headerToBodyRelation[_23];var _2f=_2a.getCellInfo(_2e);if(_2f.options.focusOutOnCheckHeaderClick){_2a.removeFocusedCell();}});if(_24!=null&&_24!=""){$W._c.addListener(_28,"onclick",function(e){_2a.noevent=true;var _31=$W._G.getGlobalFunction(_24);if(typeof _31=="function"){try{_31.call(this,this.checked,_22);}catch(e){}}});}else{$W._c.addListener(_28,"onclick",function(e){_2a.noevent=true;var _33=_2a.headerToBodyRelation[_23];var _34=_2a.getCellInfo(_33);var _35=_34.options.trueValue;var _36=_34.options.falseValue;var _37=!!(_2a.isDrillDown&&_2a._dataList.options.depthColumn);if(this.checked){var _38=_2a.getUnCheckedIndex(_33);for(var i=0;i<_38.length;i++){if(!_2a._getEditReadOnly(_38[i],_33,_37)&&!_2a.getEditDisabled(_38[i],_33,_37)){_2a.dataList.setCellData(_38[i],_33,_35,true,true);}}}else{var _3a=_2a.getCheckedIndex(_33);for(var i=0;i<_3a.length;i++){if(!_2a._getEditReadOnly(_3a[i],_33,_37)&&!_2a.getEditDisabled(_3a[i],_33,_37)){_2a.dataList.setCellData(_3a[i],_33,_36,true,true);}}}_2a._dataList.broadcast({"gridView":["notifyRowChanged"],"linkedDataList":["notifyRowChanged"],"fusionChart":["refresh"],"fwFunnelChart":["refresh"],"fwSparkChart":["refresh"],"fwPyramidChart":["refresh"],"fwGanttChart":["refresh"],"generalComp":"both"});if(_2a.options.senseReader&&_2a.rowIndex<=0){_2a.senseReaderMode=true;_2a._setGridBorderNoRefresh=true;}if(_2a.options.senseReader&&_2a.rowIndex<=0){_2a.senseReaderMode=false;_2a._setGridBorderNoRefresh=false;}_2a.drawFooter();_2a.drawHeader();});}return _28;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.setSelectboxHead=function(td,_3c){["WebSquare.uiplugin.headerController.prototype.setSelectboxHead"];try{if(!this.tmpSelectbox){requires("uiplugin.selectbox");this.tmpSelectbox=new $W._a._q("___tmp_selectbox__"+this.id,{},null);}var _3d=this;var _3e=td.getAttribute("id");var _3f=$W._B.getElementsByTagName(this.headCellInfoHash[_3e],"choices",$W._N._XML_NAMESPACE.W2)[0];var _40=$W._B.serialize(_3f);var _41=$W._B.parse("<w2:select xmlns:w2=\"http://www.inswave.com/websquare\">"+_40+"</w2:select>",true).documentElement;for(var idx in this.tmpSelectbox.options){var _43=td.getAttribute(idx);if(_43!=null&&_43!=""){if(idx=="style"){_43="width:100%; height:20px;top:0px;left:0px;position:relative;background-color:#ffffff";}_41.setAttribute(idx,_43);}}td.style.position="static";td.innerHTML="";var _44=new $W._a._q(this.id+"_head_selectbox_"+td.getAttribute("id"),null,_41);_44.writeTo(td);window[_44.id]=_44;_44.activate();if(_44.itemArr.length>0){_44.setValueNM(_44.itemArr[0].value);}var _45=td.getAttribute("onChangeFunction")||td.getAttribute("onchangeFunction");_44.changeFuncName=_45;_44.colId=_3c;_44.headerId=_3e;_44.addEvent("onchange",function(e){var _47=$W._G.getGlobalFunction(this.changeFuncName);if(typeof _47=="function"){try{_47.call(this,this.getValue(),this.colId,this.headerId);}catch(e){}}});_44.addEvent("onclick",function(e){_3d.noevent=true;});return _44;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.setInputHead=function(td,_4a){["WebSquare.uiplugin.headerController.prototype.setInputHead"];try{td.innerHTML="<input type='text' class='w2grid_head_input' style='width:95%; height:18px;' />";var _4b=$W._G.first(td);var _4c=this;var _4d=function(){_4c.noevent=true;_4c.headerFocus=true;};var _4e=td.getAttribute("onChangeFunction")||td.getAttribute("onchangeFunction");_4b.setAttribute("changeFuncName",_4e);_4b.setAttribute("colId",_4a);var _4f=function(e){_4c.headerFocus=false;var _51=$W._G.getGlobalFunction(this.getAttribute("changeFuncName"));if(typeof _51=="function"){try{_51.call(this,this.value,this.getAttribute("colId"));}catch(e){}}};var _52=function(e){if(e.keyCode==13){this.blur();}};var _54=function(e){_4c.noevent=true;};$W._c.addListener(_4b,"onfocus",_4d);$W._c.addListener(_4b,"onblur",_4f);$W._c.addListener(_4b,"onclick",_54);$W._c.addListener(_4b,"onkeyup",_52);return _4b;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.setCheckcomboboxHead=function(td,_57){["WebSquare.uiplugin.headerController.prototype.setCheckComboboxHead"];try{if(!this.tmpCheckcombobox){requires("uiplugin.checkcombobox");this.tmpCheckcombobox=new $W._a.br("___tmp_checkcombobox__"+this.id,{},null);}var _58=this;var _59=td.getAttribute("id");var _5a=$W._B.getElementsByTagName(this.headCellInfoHash[_59],"choices",$W._N._XML_NAMESPACE.W2)[0];var _5b=$W._B.serialize(_5a);var _5c=$W._B.parse("<w2:checkcombobox xmlns:w2=\"http://www.inswave.com/websquare\">"+_5b+"</w2:checkcombobox>",true).documentElement;for(var idx in this.tmpSelectbox.options){var _5e=td.getAttribute(idx);if(_5e!=null&&_5e!=""){if(idx=="style"){_5e="width:100%; height:20px;top:0px;left:0px;position:relative;background-color:#ffffff";}_5c.setAttribute(idx,_5e);}}td.style.position="static";td.innerHTML="";var _5f=new $W._a.br(this.id+"_head_checkcombobox_"+td.getAttribute("id"),null,_5c);_5f.writeTo(td);window[_5f.id]=_5f;_5f.activate();if(_5f.itemArr.length>0){_5f.setValueNM(_5f.itemArr[0].value);}var _60=td.getAttribute("onChangeFunction")||td.getAttribute("onchangeFunction");_5f.changeFuncName=_60;_5f.colId=_57;_5f.headerId=_59;_5f.addEvent("onchange",function(e){var _62=$W._G.getGlobalFunction(this.changeFuncName);if(typeof _62=="function"){try{_62.call(this,this.getValue(),this.colId,this.headerId);}catch(e){}}});_5f.addEvent("onclick",function(e){_58.noevent=true;});return _5f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.getHeaderDIV=function(_64){["WebSquare.uiplugin.headerController.prototype.getHeaderDIV"];return this.getHeaderLayer(_64);};$W._a._v.prototype.getHeaderLayer=function(_65){["WebSquare.uiplugin.headerController.prototype.getHeaderLayer"];var _66=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_66.length;i++){var _68=_66[i];var _69=_68.getAttribute("header_id");if(_69!=null&&_65.toLowerCase()==_69.toLowerCase()){return _68;}}};$W._a._v.prototype.setHeaderValue=function(_6a,_6b){["WebSquare.uiplugin.headerController.prototype.setHeaderValue"];var td=this.getHeaderLayer(_6a);if(td){if(typeof _6b=="function"){_6b(td);}else{var _6d=this.headerObj[_6a];if(_6d){if(_6d.headInputType=="select"||_6d.headInputType=="checkcombobox"){_6d.setValue(_6b);}else{if(_6d.headInputType=="checkbox"){if(_6d.checked!=$W._G.getBoolean(_6b)){_6d.click();_6d.checked=$W._G.getBoolean(_6b);}}else{if(_6d.headInputType=="input"){if(_6d.value!=_6b){_6d.value=_6b;var _6e=$W._G.getGlobalFunction(_6d.getAttribute("changeFuncName"));if(typeof _6e=="function"){try{_6e.call(_6d,_6d.value,_6d.getAttribute("colId"));}catch(e){}}}}else{if(_6d.headerInputType=="user"){_6d.setValue(_6b);}}}}}else{var _6f=td.getElementsByTagName("nobr")[0];if(_6f){_6f.innerHTML=_6b;}else{td.innerHTML="<nobr>"+_6b+"</nobr>";}}}}};$W._a._v.prototype.setHeaderNodeSet=function(_70,_71,_72,_73){["WebSquare.uiplugin.headerController.prototype.setHeaderNodeSet"];var td=this.getHeaderLayer(_70);if(td){var _75=this.headerObj[_70];if(_75){if(_75.headInputType=="select"||_75.headInputType=="checkcombobox"){_75.setNodeSet(_71,_72,_73);}}}};$W._a._v.prototype.setHeaderUserObject=function(_76,_77){["WebSquare.uiplugin.headerController.prototype.setHeaderUserObject"];this.headerObj[_76]=_77;_77.headerInputType="user";var td=this.getHeaderLayer(_76);td.innerHTML="";td.appendChild(_77.getContent());};$W._a._v.prototype.getHeaderValue=function(_79){["WebSquare.uiplugin.headerController.prototype.getHeaderValue"];var td=this.getHeaderLayer(_79);if(td){var _7b=this.headerObj[_79];if(_7b){var _7c="";if(_7b.headInputType=="select"||_7b.headInputType=="checkcombobox"){_7c=_7b.getValue();}else{if(_7b.headInputType=="checkbox"){_7c=_7b.checked;}else{if(_7b.headInputType=="input"){_7c=_7b.value;}else{if(_7b.headerInputType=="user"){_7c=_7b.getValue();}}}}return _7c;}var _7d=$W._G.first(td);var _7e=_7d.getElementsByTagName("NOBR")[0];if(!_7e){_7e=_7d;while(_7e&&_7e.tagName!="NOBR"){if(_7e.tagName=="TD"){_7d=$W._G.first(_7e);break;}_7e=$W._G.first(_7e);}}else{_7d=_7e;}if(_7d){return _7d.innerHTML;}else{return "";}}};$W._a._v.prototype.getHeaderValueList=function(_7f){["WebSquare.uiplugin.headerController.prototype.getHeaderValueList"];var _80=[];var _81=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_81.length;i++){if(this.hiddenList[i]!=null&&_7f!=true&&this.hiddenList[i]==true){continue;}var _83=_81[i];var _84=_83.getAttribute("header_id");if(_84!=null){if(_83){var _85=this.headerObj[_84];if(_85){if(_85.headInputType=="select"||_85.headInputType=="checkcombobox"){retValue=_85.getValue();}else{if(_85.headInputType=="checkbox"){retValue=_85.checked;}else{if(_85.headInputType=="input"){retValue=_85.value;}else{if(_85.headerInputType=="user"){retValue=_85.getValue();}}}}_80.push(retValue);}var _86=$W._G.first(_83);var _87=_86;while(_87&&_87.tagName!="NOBR"){if(_87.tagName=="TD"){_86=$W._G.first(_87);break;}_87=$W._G.first(_87);}if(_86){_80.push(_86.innerHTML);}else{_80.push("");}}}}return _80;};$W._a._v.prototype.clearHeaderSort=function(){this.headerSortStatusArr=[];var _88=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_88.length;i++){var _8a=_88[i].getAttribute("header_id");if(_8a==="_headerRowNumber"||_8a==="_headerRowStatus"){continue;}if(_88[i].getAttribute("sortable")==="false"){continue;}this.setHeaderSortImage(_8a,0,0);}};$W._a._v.prototype.drawHeaderSortImages=function(){["WebSquare.uiplugin.headerController.prototype.drawHeaderSortImages"];var _8b=this.htmlInfo.head.rowArr;for(var i=0,nSortOrd=0;i<this.headerSortStatusArr.length;i++){var _8d="";if(_8b.length>1&&this.options.sortedImagePosition=="top"){var _8e=this.headerSortStatusArr[i].colID;var _8f=this.getColumnIndex(_8e);var _90=_8b[0];for(var j=0;j<_90.length;j++){if(_90[j]["@col"]==_8f){_8d=_90[j].id;break;}}}else{_8d=this.bodyToHeaderRelation[this.headerSortStatusArr[i].colID];}if(_8d){this.setHeaderSortImage(_8d,this.headerSortStatusArr[i].sortOrder,i+1);}}};$W._a._v.prototype.setHeaderSortImage=function(_92,_93,_94){["WebSquare.uiplugin.headerController.prototype.setHeaderSortImage"];var td=this.getElementById(this.id+"_"+_92);if(td==undefined){$W.logger.printLog("headerId : "+_92+"\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");return;}var _93=parseInt(_93,10);var _94=parseInt(_94,10);if(isNaN(_94)||_94<=0||this.headerSortStatusArr.length<2){_94="";}else{_94+="";}this._clearHeaderSortImage(td,"table");this._clearHeaderSortImage(td,"div");if(this.options.showSortableImage!==true){var _96;if(_93!==0){_96=$W._G.first(td);if(_96.nodeName.toLowerCase()=="nobr"){_96=td.innerHTML;td.innerHTML="";}else{_96=td.removeChild(_96);}this.headerObjArr[_92]=_96;var _97=(_93==1)?"w2grid_head_sort_asc":"w2grid_head_sort_desc";td.innerHTML="<table sort='sort' style='width:100%;height:100%;'><tr><td></td><td style='width:10px;background-repeat:no-repeat;background-position:top center; font-size:9px; vertical-align:bottom;' class='"+_97+"'>"+_94+"</td></tr></table>";var tds=td.getElementsByTagName("td");if(typeof _96=="string"){tds[0].innerHTML=_96;}else{tds[0].appendChild(_96);}}}else{var _99=this.headerObj[_92];if(!_99){_99=td.getElementsByTagName("nobr")[0];}else{if(_99.render){_99=_99.render;}}_99.parentNode.removeChild(_99);var _97="";var _9a="";switch(_93){case 0:_97="w2grid_head_sort_none";_9a=$W._m.getMessage("Grid_sort_asc");break;case 1:_97="w2grid_head_sort_asc";_9a=$W._m.getMessage("Grid_sort_desc");break;case -1:_97="w2grid_head_sort_desc";_9a=$W._m.getMessage("Grid_sort_none");break;default:_97="w2grid_head_sort_none";_9a=$W._m.getMessage("Grid_sort_asc");break;}if(!this.options.sortHeaderDiv){td.innerHTML="<div sort='sort' class = 'w2grid_head_sort_div_main "+_97+"'>"+"<div class = 'w2grid_head_sort_div_sub'>"+_94+"</div>"+"</div>";var tds=td.getElementsByTagName("div");tds[0].appendChild(_99);}else{_97+="_btn";td.innerHTML="<div sort='sort' class='w2grid_head_sort_div_main_outer'>"+"<button class='w2grid_head_sort_div_main_btn "+_97+"' >"+_9a+"</button>"+"</div>";var tds=td.getElementsByTagName("div");var btn=td.getElementsByTagName("button")[0];tds[0].insertBefore(_99,btn);}}};$W._a._v.prototype._clearHeaderSortImage=function(td,_9d){["WebSquare.uiplugin.headerController.prototype._clearHeaderSortImage"];var _9e=td.getElementsByTagName(_9d);if(_9e.length>0&&_9e[0].getAttribute("sort")=="sort"){var _9f=this.headerObjArr[td.getAttribute("header_id")];if(_9f){if(typeof _9f=="string"){td.innerHTML=_9f;}else{_9f=td.appendChild(_9f);td.removeChild(_9f.previousSibling);}}}};$W._a._v.prototype.getColIdByHeaderId=function(_a0){return this.headerToBodyRelation[_a0];};$W._a._v.prototype.setHeaderHide=function(_a1){_a1=$W._G.getBoolean(_a1);if(this.options.hideHeader!=_a1){this.options.hideHeader=_a1;var _a2=this.getElementById(this.id+"_head_table");var _a3=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));if(_a1){this.backUpHeadClass=_a3[0].className;_a2.style.display="none";for(var i=0;i<_a3.length;i++){_a3[i].className="";}}else{_a2.style.display="";if(this.backUpHeadClass){for(var i=0;i<_a3.length;i++){_a3[i].className=this.backUpHeadClass;}}}}};$W._a._v.prototype.setHeaderDisabled=function(_a5,_a6){try{_a6=$W._G.getBoolean(_a6);var td=this.getHeaderLayer(_a5);if(td){var _a8=this.headerObj[_a5];if(_a8){if(_a8.setDisabled){_a8.setDisabled(_a6);}else{if(_a8.render){_a8.render.disabled=_a6;}else{_a8.disabled=_a6;}}td.disabled=_a6;}else{td.disabled=_a6;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.getHeaderID=function(_a9){["WebSquare.uiplugin.headerController.prototype.getHeaderID"];try{if(typeof _a9=="string"){return _a9;}var _aa=this.head_table;if(!_aa){return null;}_a9+=this.defaultColCnt;var _ab=_a9;var _ac=0;for(var i=0;i<_aa.children.length;i++){var _ae=_aa.children[i].children;_ac+=_ae.length;if(_ac>_a9){var _af=_ae[_ab];if(_af){return _af.id.replace(this.id+"_","");}else{return null;}}else{_ab-=_ae.length;continue;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.getHeaderIndex=function(id){["WebSquare.uiplugin.headerController.prototype.getHeaderIndex"];try{if(typeof id=="number"){return id;}var _b1=this.head_table;if(!_b1){_b1=this.getElementById(this.id+"_head_table");}var _b2=0;for(var i=0;i<_b1.children.length;i++){var _b4=_b1.children[i].children;for(var j=0;j<_b4.length;j++){if(_b4[j].id.replace(this.id+"_","")==id){var _b6=_b2+j;return _b6-this.defaultColCnt;}}_b2+=_b4.length;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.setHeaderStyle=function(_b7,_b8,_b9){try{var _ba=this.getElementById(this.id+"_head_table");var _bb=_ba.getElementsByTagName("th");if(_b7.wq_trim().toLowerCase()=="$rownum"){_b7="_headerRowNumber";}else{if(_b7.wq_trim().toLowerCase()=="$rowstatus"){_b7="_headerRowStatus";}else{if(typeof _b7=="number"){var _bc=_b7+this.defaultColCnt;headerTd=_bb[_bc];_b7=headerTd.getAttribute("header_id");}}}for(var j=0;j<_bb.length;j++){var _be=_bb[j];if(_be.getAttribute("header_id")==_b7){$W._H.setStyle(_be,_b8,_b9);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.drawHeader=function(_bf){["WebSquare.uiplugin.headerController.prototype.drawHeader"];try{if(!this.head_table){return;}if(this.headerDataObj==null){this.initHeaderDataObj();}var _c0=this.head_table;var _c1=_c0.getElementsByTagName("th");this.headerTempSum=[];if(_bf){var _bf=this.getColumnID(_bf);for(var i=0;i<_c1.length;i++){var _c3=_c1[i];var _c4=_c3.getAttribute("header_id");if(_c4){var _c5=this.headerDataObj[_c4];if(_c5){if(_c5.inputType=="expression"){var _c6=_c5.expression.match(/headercol(sum|avg|max|min)\s*\([^\)]*/g);if(_c6){for(var j=0;j<_c6.length;j++){if(_c6[j].split("(")[1].wq_replaceAll("'","").wq_replaceAll("\"","").wq_trim()==_bf){_c5.value=eval(_c5.expression);if(isNaN(_c5.value)){if(_c5.NaNFormat!="NaN"){_c5.value=_c5.NaNFormat;}}_c3.innerHTML="<nobr>"+_c5.formatter.format(_c5.value)+"</nobr>";}}}}}}}}else{for(var i=0;i<_c1.length;i++){var _c3=_c1[i];var _c4=_c3.getAttribute("header_id");if(_c4){var _c5=this.headerDataObj[_c4];if(_c5){if(_c5.inputType=="expression"){try{_c5.value=eval(_c5.expression);if(isNaN(_c5.value)){if(_c5.NaNFormat!="NaN"){_c5.value=_c5.NaNFormat;}}}catch(e1){}_c3.innerHTML="<nobr>"+_c5.formatter.format(_c5.value)+"</nobr>";}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.initHeaderDataObj=function(){["WebSquare.uiplugin.headerController.prototype.initHeaderDataObj"];try{var _c8=this.head_table;var _c9=_c8.getElementsByTagName("th");this.headerDataObj={};for(var j=0;j<_c9.length;j++){var _cb=_c9[j];var obj={};obj.id=_cb.getAttribute("header_id");var str=_cb.getAttribute("expression")||"";if(str!=""){str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.headercolsum( ");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.headercolavg( ");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.headercolmax( ");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.headercolmin( ");}var _ce=_cb.getAttribute("localeRef");if(_ce!=null){obj.value=this.getLocaleValue(_ce);}else{obj.value=_cb.getAttribute("value")||"";}obj.inputType=_cb.getAttribute("inputType");obj.dataType=_cb.getAttribute("dataType")||"text";obj.expression=str;obj.displayFormat=_cb.getAttribute("displayFormat")||"";obj.displayFormatter=_cb.getAttribute("displayFormatter")||"";obj.formatter=$W._C.createFormatter(obj.dataType,obj.displayFormat,obj.displayFormatter);obj.NaNFormat=_cb.getAttribute("NaNFormat")||$W._N.getConfiguration("/WebSquare/grid/column[@inputType='expression']/NaNFormat/@value")||"NaN";if(obj.NaNFormat=="$blank"){obj.NaNFormat="";}this.headerDataObj[obj.id]=obj;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype.headercolsum=function(_cf){["WebSquare.uiplugin.headerController.prototype.headercolsum"];if(!this.headerTempSum){this.headerTempSum=[];}if(!this.headerTempSum[_cf]){this.headerTempSum[_cf]={};}if(this.headerTempSum[_cf].sum===undefined){var _d0="";if(this.groupbyStatus.grouped){}else{var _d1=this.getColumnAllDataArray(_cf);if(_d1.length>0){for(var i=0;i<_d1.length;i++){if(_d1[i].replace(/^\s+|\s+$/g,"")==""){_d1[i]="0";}}_d0=eval(_d1.join("+"));}}this.headerTempSum[_cf].sum=_d0;}return $W._G.setPrecision(this.headerTempSum[_cf].sum);};$W._a._v.prototype.headercolavg=function(_d3){["WebSquare.uiplugin.headerController.prototype.headercolavg"];var _d4=this.getColumnAllDataArray(_d3);if(!this.headerTempSum){this.headerTempSum=[];}if(!this.headerTempSum[_d3]){this.headerTempSum[_d3]={};}var _d5="";if(this.groupbyStatus.grouped){return _d5;}else{if(this.headerTempSum[_d3].sum===undefined){if(_d4.length>0){for(var i=0;i<_d4.length;i++){if(_d4[i].replace(/^\s+|\s+$/g,"")==""){_d4[i]="0";}}_d5=eval(_d4.join("+"));}this.headerTempSum[_d3].sum=_d5;}if(this.headerTempSum[_d3].sum==""){return "";}else{return this.headerTempSum[_d3].sum/_d4.length;}}};$W._a._v.prototype.headercolmax=function(_d7){["WebSquare.uiplugin.headerController.prototype.headercolmax"];if(!this.headerTempSum){this.headerTempSum=[];}if(!this.headerTempSum[_d7]){this.headerTempSum[_d7]={};}if(this.headerTempSum[_d7].max===undefined){var max=null;if(this.groupbyStatus.grouped){}else{var _d9=this.getColumnAllDataArray(_d7);for(var i=0;i<_d9.length;i++){var _db=parseFloat(_d9[i]);if(!isNaN(_db)){if(max==null||max<_db){max=_db;}}}max=(max==null)?"":max;max=$W._G.setPrecision(max);}this.headerTempSum[_d7].max=max;}return this.headerTempSum[_d7].max;};$W._a._v.prototype.headercolmin=function(_dc){["WebSquare.uiplugin.headerController.prototype.headercolmin"];if(!this.headerTempSum){this.headerTempSum=[];}if(!this.headerTempSum[_dc]){this.headerTempSum[_dc]={};}if(this.headerTempSum[_dc].min===undefined){var min=null;if(this.groupbyStatus.grouped){}else{var _de=this.getColumnAllDataArray(_dc);for(var i=0;i<_de.length;i++){var _e0=parseFloat(_de[i]);if(!isNaN(_e0)){if(min==null||min>_e0){min=_e0;}}}min=(min==null)?"":min;min=$W._G.setPrecision(min);}this.headerTempSum[_dc].min=min;}return this.headerTempSum[_dc].min;};$W._a._v.prototype._getMatchedHeaderId=function(_e1){["WebSquare.uiplugin.headerController.prototype._getMatchedHeaderId"];try{return this.bodyToHeaderRelation[_e1];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.headerInfo=function(_e2,_e3){["WebSquare.uiplugin.headerInfo"];try{this.options={id:"",value:"",inputType:"text",useFilter:false,textAlign:""};this.mainGrid=_e3;this.mainGridId="G_"+this.mainGrid.id+"__";if(_e2){this.setOptions(_e2);}this.id=this.options.id;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._v.prototype._setHeaderInfo=function(_e4,td){["WebSquare.uiplugin.headerController.prototype._setHeaderInfo"];this.headerInfoHash2[_e4]=td;};$W._a.headerInfo.prototype.setOptions=function(_e6){["WebSquare.uiplugin.headerController.prototype.setOptions"];this.options.useFilter=$W._G.getBoolean($W._N.getConfiguration("/WebSquare/grid/header/column/useFilter/@value"));this.options.hideCustomFilter=$W._G.getBoolean($W._N.getConfiguration("/WebSquare/grid/header/column/hideCustomFilter/@value"));var _e7=[];for(var _e8 in this.options){_e7[_e8.toLowerCase()]=_e8;}var _e9=_e6.attributes;for(var i=0;i<_e9.length;i++){var _eb=_e9[i];var _ec=_eb.name;var _ed=_eb.value;if(_ec=="class"){this.options["className"]=_ed;}else{if((_ed).wq_trim()!=""){if(_e7[_ec]){_ec=_e7[_ec];}if(typeof this.options[_ec]=="boolean"){_ed=$W._G.getBoolean(_ed);}else{if(typeof this.options[_ec]=="number"){_ed=$W._G.getNumber(_ed);}}this.options[_ec]=_ed;}}}};;WebSquare.uiplugin.headerController=$W._a._v;$W._a.ba=function(){["WebSquare.uiplugin.focusController"];};$W._a.ba.prototype.getLastFocusedCell=function(){["WebSquare.uiplugin.focusController.prototype.getLastFocusedCell"];if(this.focusedCell.length>0){return this.focusedCell[this.focusedCell.length-1];}else{var _1={};_1.focusedRowIndex=-1;_1.focusedColIndex=null;return _1;}};$W._a.ba.prototype.getFocusedRowIndex=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedRowIndex"];var _2=this.getLastFocusedCell();return _2.focusedRowIndex;};$W._a.ba.prototype.getFocusedRealRowIndex=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedRealRowIndex"];var _3=this.getLastFocusedCell();return _3.focusedRealRowIndex;};$W._a.ba.prototype.getAllFocusedIndex=function(){["WebSquare.uiplugin.focusController.prototype.getAllFocusedIndex"];var _4=this.focusedCell;var _5=[];for(var i=0;i<_4.length;i++){var _7={};_7["col"]=_4[i]["focusedColIndex"];_7["row"]=_4[i]["focusedRowIndex"];_5.push(_7);}return _5;};$W._a.ba.prototype.getAllFocusedRowIndex=function(){["WebSquare.uiplugin.focusController.prototype.getAllFocusedIndex"];var _8=[];var _9={};for(var i=0;i<this.focusedCell.length;i++){var _b=this.focusedCell[i]["focusedRowIndex"];_9[_b]=true;}for(var _c in _9){_8.push(parseInt(_c,10));}return _8;};$W._a.ba.prototype.getFocusedColumnIndex=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedColumnIndex"];var _d=this.getLastFocusedCell();return _d.focusedColIndex;};$W._a.ba.prototype.getFocusedColumnID=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedColumnID"];return this.getColumnID(this.getFocusedColumnIndex());};$W._a.ba.prototype.getFocusedRowStatus=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedRowStatus"];var _e=this.getFocusedRowIndex();if(_e==-1){return null;}return this.dataList.getRowStatus(_e);};$W._a.ba.prototype.setFocusedCell2=function(_f,_10,_11){["WebSquare.uiplugin.focusController.prototype.setFocusedCell2"];try{var _11=$W._G.getBoolean(_11);var _10=this.getColumnIndex(_10);var _12=this.lastEvent&&(typeof this.lastEvent.type!="undefined"&&typeof this.lastEvent.type!="unknown")&&(this.lastEvent.type=="focus"||this.lastEvent.type=="focusin");var _13=this.getLastFocusedCell();var _14=_11&&(_13.focusedColIndex==_10);if(this.getReadOnly("all",_f,_10)||this.getDisabled("all",_f,_10)){_14=false;}if(this.editedCell&&!this.editedCell.handleEndEdit(null,_14)){return false;}if(!_12){var _15=this.rowIndex+this.lastIndex;var _16=this.getDataLength();if(_f<this.rowIndex||_f>_15){if(_f<this.rowIndex){var _17=_f-this.rowIndex;}else{var _17=_f-_15;}if(_f>_15&&this.hasSubtotal){this.rollbackCommitFlag=false;for(var _18 in this.subtotalTableList){if(_15<_16-1){var _19=this.dataList.getCellData(_15,_18);var _1a=this.dataList.getCellData(_15+1,_18);if(_19!=_1a){_17++;}}}this.rollbackCommitFlag=true;}var _1b=this.rowIndex+_17;_1b=(_1b<0)?0:_1b;_1b=(_1b>=_16-this.lastIndex)?_16-this.lastIndex:_1b;this.scrollEvent=false;this.checkScrollEnd=true;this.drawData(_1b,0,"keymove",_14);this.lastIndex=this.getLastIndex(this.lastDisplayedRow);}}var _1c=_f-(this.rowIndex>0?this.rowIndex:0);var td=this.data_td_list[_10+_1c*this.oneRowDataLength];if(td){var _1e=this._setFocusedCell({ctrl:false},td,{editMode:_11,dont_hide:_14,dont_fixScroll:true});if(_1e=="rollback"){this.setFocusedCell(_13.focusedRowIndex,_13.focusedColIndex,true);}return true;}return false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.setFocusedCell=function(_1f,_20,_21){["WebSquare.uiplugin.focusController.prototype.setFocusedCell"];try{if(this.options.focusMode=="none"){return;}if(arguments.length==0||arguments.length==1){var _21=arguments.length==0?false:arguments[0];var _22=this.colIndexInfo.body.colInfo.colIndexMatch;if(this.focusedCell.length>0){var _1f=this.focusedCell[this.focusedCell.length-1].focusedRowIndex;var _20=this.focusedCell[this.focusedCell.length-1].focusedColIndex;}else{if(this.lastFocusedCell&&this.lastFocusedCell.focusedColIndex!=null&&this.lastFocusedCell.focusedRowIndex>=0){var _1f=this.lastFocusedCell.focusedRowIndex;var _20=this.lastFocusedCell.focusedColIndex;}else{var _23=this.getLastFocusedCell();var _1f=_23.focusedRowIndex;var _20=_23.focusedColIndex;if(_20==null||_1f==-1){this.focusedCell=[{focusedRowIndex:0,focusedColIndex:_22.length-this.defaultColCnt-1}];this.moveHorizontal(null,"home");if(_21){this.setFocusedCell(true);}return;}}}}var _24=this.getDataLength();_20=this.getColumnIndex(_20);if(_1f<0||_1f>=_24||_20<0||_20>=this.oneRowDataLength){return;}var _25=this.lastEvent&&(typeof this.lastEvent.type!="undefined"&&typeof this.lastEvent.type!="unknown")&&(this.lastEvent.type=="focus"||this.lastEvent.type=="focusin");_21=$W._G.getBoolean(_21);if(this.delayedDraw({rowIndex:_1f})){this.focusedCell=[{focusedRowIndex:_1f,focusedColIndex:_20}];return;}var _26=this.getElementById(this.id+"_scrollY_div");if(_26&&_26.scrollTop==0&&this.rowIndex>0){_26.scrollTop=this.lastScrollYTop;}var _27=_1f-(this.rowIndex>0?this.rowIndex:0);if(!_25){if(_27<0){this.scrollEvent=false;_26.scrollTop=this.oneRowScrollHeight*_1f;this.drawData(_1f,0);_27=0;}else{if(_27>this.lastIndex){var _28=(_1f+this.lastIndex+1>_24)?_24-this.lastIndex-1:_1f;this.scrollEvent=false;this.checkScrollEnd=true;_26.scrollTop=this.oneRowScrollHeight*_28;if(_28>this.rowIndex+this.lastIndex){this.adjustDraw_keepTop=true;}this.drawData(_28,0);_27=_1f-this.rowIndex;}}}var td=this.data_td_list[_20+_27*this.oneRowDataLength];if(td){this._setFocusedCell({ctrl:false},td,{editMode:_21});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.removeFocusedCell=function(){["WebSquare.uiplugin.focusController.prototype.removeFocusedCell"];try{this.lastFocusedCell=this.getLastFocusedCell();this.applyFocusedCellOut();this.focusedCell=[];this._dataList.setRowPosition(null);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ba.prototype.applyFocusedCell=function(_2a,_2b){["WebSquare.uiplugin.focusController.prototype.applyFocusedCell"];if(!_2b){this.applyFocusedCellOut();this.focusedCell=[];}if(_2a!=null){this.applyFocusedCellIn(_2a);var _2c={};_2c.focusedTd=_2a;this.focusedCell.push(_2c);}};$W._a.ba.prototype._setFocusedCell=function(e,_2e,_2f){["WebSquare.uiplugin.focusController.prototype._setFocusedCell"];var _2f=_2f||{};var _30=e.ctrlKey;var _31=e.shiftKey;var _32=_2e.className;if(this.options.focusDefaultColumn){if(_32.indexOf("_groupby")>=0||_32.indexOf("Subtotal")>=0){if(this.editedCell!=null){this.editedCell.handleEndEdit();}return false;}}else{if(_32.indexOf("_rowNum")>=0||_32.indexOf("_rowStatus")>=0||_32.indexOf("_groupby")>=0||_32.indexOf("Subtotal")>=0){if(this.editedCell!=null){this.editedCell.handleEndEdit();}return false;}}var _33=parseInt(_2e.getAttribute("tdIndex"));var _34=parseInt(_33/this.realRowDataLength);var _35=parseInt(_2e.getAttribute("colIndex"));var _36=_2e.getAttribute("col_id");var _37=_34+this.rowIndex;var _38=_37;if(this.isDrillDown&&this._dataList.options.depthColumn){_38=this.getRealRowIndex(_37);}var _39=_33%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);var _3a=this.getColumnID(_39);var _3b=true;var _3c=this.getLastFocusedCell();if(this.focusedCell.length>0){if(_3c.focusedTd==_2e){_3b=false;}}if(_3b&&this.editedCell){if(!this.editedCell.handleEndEdit(e,!!_2f.dont_hide)){return false;}}var _3d=(this._linkedDataList)?this._linkedDataList.setRowPosition(_37):this._dataList.setRowPosition(_38);var _3e=this._dataList.setColumnPosition(_3a);if(_3d===false||_3e===false){return false;}var _3f=this.getFocusedRowIndex();var _40=this.getFocusedColumnIndex();if(!_30&&!_31){this.applyFocusedCellOut();this.focusedCell=[];}if(this.focusedCell.length>0&&$W._G.getBoolean(this.options.useShiftKey)&&_31){var _41=this.focusedCell[0];var _42=_41["focusedRowIndex"];var _43=_41["focusedColIndex"];var _44=_42>_37;var _45=_43>_39;this.applyFocusedCellOut();this.focusedCell=[];for(var i=_42;_44?(i>=_37):(i<=_37);_44?(i--):(i++)){for(var j=_43;_45?(j>=_39):(j<=_39);_45?(j--):(j++)){var td=this.data_td_list[j+(i-this.rowIndex)*this.oneRowDataLength];if(i<this.rowIndex){td=null;}var _49=this.getCellInfo(j);var _4a=this._getRealColIndex("body",_49.options.col_id)+this.defaultColCnt;if(_49.options.blockSelect||this.hiddenList[_4a]){continue;}this.focusedCell.push({focusedTd:td,focusedRowIndex:i,focusedColIndex:j});if(td!=null){var _4b=true;if(_49.options.embeddedInput){_4b=false;}else{if(j==_39&&i==_37){_4b=false;}}this.applyFocusedCellIn(td,_4b);}if(_49.options.inputType==""||(_49.options.inputType=="text"&&!_49.options.embeddedInput)||_49.options.inputType=="textImage"||_49.options.inputType=="calendar"){this.getInput(_49).options.editType=_49.options.editType?_49.options.editType:this.options.editType;}}}if(!_2f.dont_fixScroll){if(_35>=this.getFixedColumnLastIndex()){this.fixScrollLeftDirection();}this.fixScrollRightDirection();}if(this.options.lazyDrawHiddenColumn){this.hideInvisibleTds();}_3c=this.getLastFocusedCell();}else{var _49=this.getCellInfo(_2e);if(_49.options.blockSelect){return;}this.focusedCell.push({focusedTd:_2e,focusedRealRowIndex:_38,focusedRowIndex:(this.rowIndex>0&&this.options.fixedRow>0&&this.options.fixedRow>_37-this.rowIndex)?_37-this.rowIndex:_37,focusedColIndex:_39});if(!_2f.dont_fixScroll){if(_35>=this.getFixedColumnLastIndex()){this.fixScrollLeftDirection();}this.fixScrollRightDirection();}if(this.options.lazyDrawHiddenColumn){this.hideInvisibleTds();}this.applyFocusedCellIn(_2e,!!_2f.editMode);_3c=this.getLastFocusedCell();if(this.options.focusMode=="cell"){for(var i=this.focusedCell.length-2;i>=0;i--){if(this.focusedCell[i].focusedTd==_3c.focusedTd){this._applyFocusedCellOut(this.focusedCell[i]);this.focusedCell.pop();this.focusedCell.splice(i,1);break;}}}else{if(this.options.focusMode=="both"){var _4c=[];for(var i=this.focusedCell.length-2;i>=0;i--){if(this.focusedCell[i].focusedTd==_3c.focusedTd){this._applyFocusedCellOut(this.focusedCell[i]);this.focusedCell.pop();this.focusedCell.splice(i,1);this.changeFocusedCellPosition(this.rowIndex);break;}}}else{if(this.options.focusMode=="row"){var _4d=_3c.focusedTd?_3c.focusedTd.parentNode:null;for(var i=this.focusedCell.length-2;i>=0;i--){var _4e=this.focusedCell[i];if(_4e.focusedTd!=null){var _4f=_4e.focusedTd.parentNode;var _34=parseInt(_4f.getAttribute("trIndex"));while(_34>0){_34--;_4f=$W._G.prev(_4f);}do{if(_4f==_4d){this._applyFocusedCellOut(this.focusedCell[i]);this.focusedCell.pop();this.focusedCell.splice(i,1);this.changeFocusedCellPosition(this.rowIndex);break;}_4f=$W._G.next(_4f);}while(_4f.getAttribute("trIndex")!="0");}}}}}}var _50=this.getCellInfo(_39);if(_50.options.inputType==""||(_50.options.inputType=="text"&&!_50.options.embeddedInput)||_50.options.inputType=="textImage"||(_50.options.inputType=="calendar"&&!_50.options.embeddedInput)){this.getInput(_50).options.editType=_50.options.editType?_50.options.editType:this.options.editType;}if(_3f!=_37||_40!=_39){$W._c.fireEvent(this,"oncellindexchange",_37,_39,_3f,_40);}if(_3f!=_37){$W._c.fireEvent(this,"onrowindexchange",_37,_3f);}if(_40!=_39){$W._c.fireEvent(this,"oncolumnindexchange",_39,_40);}if(_2f.editMode){this.setEditMode(_2e);}};$W._a.ba.prototype.applyFocusedCellOut=function(){["WebSquare.uiplugin.focusController.prototype.applyFocusedCellOut"];if(this.focusedCell.length>0){for(var i=0;i<this.focusedCell.length;i++){var _52=this.focusedCell[i];this._applyFocusedCellOut(_52);}}};$W._a.ba.prototype._applyFocusedCellOut=function(_53){["WebSquare.uiplugin.focusController.prototype._applyFocusedCellOut"];if(this.options.focusMode=="row"||this.options.focusMode=="both"){if(_53.focusedTd!=null){this.removeFocusRowStyle(_53.focusedTd);}}if(this.options.focusMode=="cell"||this.options.focusMode=="both"){if(_53.focusedTd!=null){if(this.options.focusFlow!="linear"){_53.focusedTd.setAttribute("tabIndex",-1);}this.removeClass(_53.focusedTd,"focusedTd");if(!this.options.focusDefaultColumn||_53.focusedColIndex>=0){if(this.options.fixedRow>0&&_53.focusedRowIndex-this.rowIndex>=0&&this.options.fixedRow>_53.focusedRowIndex-this.rowIndex){this.applyCellStyleOptions(_53.focusedRowIndex-this.rowIndex,_53.focusedColIndex,true);}else{this.applyCellStyleOptions(_53.focusedRowIndex,_53.focusedColIndex,true);}}if(this.options.rowMouseOver){this.addRowOverStyle(this.overElem);}}}};$W._a.ba.prototype.removeFocusRowStyle=function(_54){["WebSquare.uiplugin.focusController.prototype.removeFocusRowStyle"];if(_54==null){return;}var _55=_54.parentNode;var _56=parseInt(_55.getAttribute("trIndex"));while(_56>0){_56--;_55=$W._G.prev(_55);}var _57=$W._G.first(_55);var _58=parseInt(_57.getAttribute("tdIndex"));var _56=parseInt(_58/this.realRowDataLength);for(var i=0;i<this.realRowDataLength;i++){var _5a=this.all_data_td_list[_58+i];this.removeClass(_5a,"focusedTr");if(i<this.defaultColCnt){var _5b=_5a.className;if(_5b.indexOf(this.options.bodyTdClass+"_rowNumber")>=0){if(this.options.rowNumBackgroundColor==""){_5a.style.backgroundColor="";_5a.removeAttribute("style_bak");}}else{if(_5b.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){_5a.style.backgroundColor="";_5a.removeAttribute("style_bak");}}}else{var _5c=parseInt(_5a.getAttribute("tdIndex"));var _5d=_56+this.rowIndex;var _5e=_5c%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);this.applyCellStyleOptions(_5d,_5e,true);}}};$W._a.ba.prototype.applyFocusedCellIn=function(_5f,_60){["WebSquare.uiplugin.focusController.prototype.applyFocusedCellIn"];if(this.options.focusMode=="none"){return;}var _61=this.getCellInfo(_5f.getAttribute("col_id"));var _62=_61.options.inputType||"text";this.focusedByApi=true;if(_61.options.embeddedInput){if(_60){var _63=this.getElemRowIndex(_5f);if((_62=="text"||_62=="link")&&(this.getEditDisabled(_63,_61.id)||this.getEditReadOnly(_5f,_63))){_5f.focus();}else{var _64=this.getInput(_61,_5f);_64.focus();}}}else{var _65=this.focusedCell[this.focusedCell.length-1];var _66=_65.focusedRealRowIndex-this.rowIndex;var _67=false;if(this.rowIndex>0&&this.options.fixedRow>0&&_66>=0&&this.options.fixedRow>_66){_67=true;}_5f.setAttribute("tabIndex",0);var _68=_62=="text"||_62=="secret"||_62=="textarea"||_62=="textImage"||_62=="calendar"||_62=="select";if((_60&&_68)||_67){}else{if(_62=="button"&&this.options.senseReader){var btn=_5f.getElementsByTagName("button");btn=btn[0];btn.focus();}else{if(_62=="link"&&this.options.senseReader){var _6a=_5f.getElementsByTagName("a");_6a=_6a[0];_6a.focus();}else{if($W._G.isIE(8)){if(_5f.parentElement.style.display!="none"){_5f.focus();}}else{_5f.focus();}}}}}var _6b=this.lastEvent&&(typeof this.lastEvent.type!="undefined"&&typeof this.lastEvent.type!="unknown")&&(this.lastEvent.type=="focus"||this.lastEvent.type=="focusin");if(!_6b&&!_60){var _6c=this.getElementById(this.id+"_dataLayer");_6c.scrollLeft=0;_6c.scrollTop=0;}if(this.options.focusMode=="row"||this.options.focusMode=="both"){this.setFocusRowStyle(_5f);}if(this.options.focusMode=="cell"||this.options.focusMode=="both"){this.addClass(_5f,"focusedTd");var _6d=parseInt(_5f.getAttribute("tdIndex"));var _6e=parseInt(_6d/this.realRowDataLength);var _6f=_6e+this.rowIndex;if(this.rowIndex>0&&this.options.fixedRow>0&&this.options.fixedRow>_6e){_6f=_6e;}var _70=_6d%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);if(this.options.focusDefaultColumn&&_70<0){return;}this.applyCellStyleOptions(_6f,_70);}};$W._a.ba.prototype.setFocusRowStyle=function(_71){["WebSquare.uiplugin.focusController.prototype.setFocusRowStyle"];if(_71==null){return;}var _72=_71.parentNode;var _73=parseInt(_72.getAttribute("trIndex"));while(_73>0){_73--;_72=$W._G.prev(_72);}var _74=$W._G.first(_72);var _75=parseInt(_74.getAttribute("tdIndex"));var _73=parseInt(_75/this.realRowDataLength);for(var i=0;i<this.realRowDataLength;i++){var _77=this.all_data_td_list[_75+i];this.addClass(_77,"focusedTr");if(i<this.defaultColCnt){var _78=_77.className;if(_78.indexOf(this.options.bodyTdClass+"_rowNumber")>=0){if(this.options.rowNumBackgroundColor==""){_77.style.backgroundColor=this.options.selectedRowColor.wq_trim();_77.removeAttribute("style_bak");}}else{if(_78.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){_77.style.backgroundColor=this.options.selectedRowColor.wq_trim();_77.removeAttribute("style_bak");}}}else{var _79=parseInt(_77.getAttribute("tdIndex"));var _7a=_73+this.rowIndex;var _7b=_79%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);this.applyCellStyleOptions(_7a,_7b);}}};$W._a.ba.prototype.outFocusedCell=function(){this.removeFocusedCell();};$W._a.ba.prototype.getFocusedCellData=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedCellData"];var _7c=this.getFocusedRowIndex();var _7d=this.getFocusedColumnIndex();var _7e=this.getColumnID(_7d);if(_7c>-1){return this.dataList.getCellData(_7c,_7e);}else{return null;}};$W._a.ba.prototype.getFocusedRowData=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedRowData"];var _7f=this.getFocusedRowIndex();if(_7f>-1){return this.dataList.getRowData(_7f);}else{return null;}};$W._a.ba.prototype.getFocusedRowXML=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedRowXML"];var _80=this.getFocusedRowIndex();if(_80>-1){return this.dataList.getRowXML(_80);}else{return null;}};$W._a.ba.prototype.removeRowFocus=function(_81){["WebSquare.uiplugin.focusController.prototype.removeDeletedRowFocus"];var _82=[];for(var i=0;i<this.focusedCell.length;i++){if(_81!=this.focusedCell[i].focusedRowIndex){_82.push(this.focusedCell[i]);}else{this._applyFocusedCellOut(this.focusedCell[i]);}}this.focusedCell=_82;};$W._a.ba.prototype.setFocusedHeaderObj=function(_84){["WebSquare.uiplugin.focusController.prototype.setFocusedHeaderObj"];var td=this.getHeaderLayer(_84);if(td){var _86=this.headerObj[_84];if(_86){switch(_86.headInputType){case "checkcombobox":case "select":case "checkbox":case "input":_86.focus();break;default:break;}}}};;WebSquare.uiplugin.focusController=$W._a.ba;$W._a.aN=function(_1){["WebSquare.uiplugin.subtotalDataController"];};$W._a.aN.prototype._subtotalHidden=function(_2){["WebSquare.uiplugin.subtotalDataController.prototype._subtotalHidden"];try{for(var i=0;i<_2.length;i++){if(this.isIE6or7){var _4=_2[i].getElementsByTagName("td");for(var j=0;j<_4.length;j++){_4[j].style.borderWidth="0px";}}_2[i].style.display="none";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.subtotalHidden=function(_6){["WebSquare.uiplugin.subtotalDataController.prototype.subtotalHidden"];try{if(!this.hasSubtotal){return;}if(_6){if(typeof _6.index=="number"){var _7=this.drawedSubtotal.splice(_6.index,1);for(var i=0;i<_7.length;i++){this._subtotalHidden(_7[i]);}}if(typeof _6.rowIndex=="number"){for(var i=this.drawedSubtotal.length-1;i>=0;i--){if(this.drawedSubtotal[i].rowIndex==_6.rowIndex){var _7=this.drawedSubtotal.splice(i,1);for(var j=0;j<_7.length;j++){this._subtotalHidden(_7[j]);}}}}if(typeof _6.startRowIndex=="number"){for(var i=this.drawedSubtotal.length-1;i>=0;i--){if(this.drawedSubtotal[i].rowIndex>=_6.startRowIndex){var _7=this.drawedSubtotal.splice(i,1);for(var j=0;j<_7.length;j++){this._subtotalHidden(_7[j]);}}}}if(typeof _6.endRowIndex=="number"){for(var i=this.drawedSubtotal.length-1;i>=0;i--){if(this.drawedSubtotal[i].rowIndex<=_6.endRowIndex){var _7=this.drawedSubtotal.splice(i,1);for(var j=0;j<_7.length;j++){this._subtotalHidden(_7[j]);}}}}}else{this.drawedSubtotal=[];for(var _a in this.subtotalTableList){var _b=this.subtotalRowHash[_a];if(_b){this._subtotalHidden(_b);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aN.prototype.refreshSubtotalRow=function(_c){["WebSquare.uiplugin.subtotalDataController.prototype.refreshSubtotalRow"];var st=_c-this.rowIndex;for(var i=st;i<=this.lastIndex;i++){this.drawSubtotalRow(i+1,i+this.rowIndex);}var _f=this.options.adaptive;var _10=parseInt(this.options.adaptiveThreshold)||480;if(_f=="crosstab"){if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_10){for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){this.setAdaptiveColumnVisible(i,true);}}this.removeAdaptiveGridSubtotalHeight();this.setAdaptiveGridSubtotalHeight();for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){this.setAdaptiveColumnVisible(i,false);}this.event.addListener(this.getElementById(this.id+"_body_tbody"),"onscroll",this.event.bindAsEventListener(this,this.tbodyMoveXScroll));}}}}};$W._a.aN.prototype.drawSubtotalRow=function(_11,_12){["WebSquare.uiplugin.subtotalDataController.prototype.drawSubtotalRow"];if(!this.hasSubtotal||_12<0||_12>=this.getDataLength()){return;}for(var _13 in this.subtotalTableList){var _14=this.dataList.getCellData(_12,_13);var _15=_14+"_12";if(_12<this.getDataLength()-1){var _15=this.dataList.getCellData(_12+1,_13);}if(_14!=_15){var _16=this.subtotalRowHash[_13];var _17=this.subtotalTableList[_13];var _18=_17.rows.length;var _19=[];_19.rowIndex=_12;_19.targetID=_13;for(var i=0;i<_18;i++){var _1b=_16[_11*_18+i];if(_1b){if(this.isIE6or7){var tds=_1b.getElementsByTagName("td");for(var j=0;j<tds.length;j++){tds[j].style.borderWidth="";}}_1b.style.display="";_19.push(_1b);this.lastSubtotalRow=_1b;}}this.drawedSubtotal.push(_19);this.setSubtotalData(_17,_13,_14,_12,_19);}}};$W._a.aN.prototype.hasUpperSubtotalRow=function(_1e){["WebSquare.uiplugin.subtotalDataController.prototype.drawSubtotalRow"];if(!this.hasSubtotal||_1e<0||_1e>=this.getDataLength()){return false;}for(var _1f in this.subtotalTableList){var _20=this.dataList.getCellData(_1e,_1f);var _21=_20;if(_1e<this.getDataLength()){var _21=this.dataList.getCellData(_1e-1,_1f);}if(_20!=_21){return true;}}return false;};$W._a.aN.prototype.getHasSubtotalCount=function(_22){["WebSquare.uiplugin.subtotalDataController.prototype.getHasSubtotalCount"];if(!this.hasSubtotal||_22<0||_22>=this.getDataLength()){return 0;}var _23=0;for(var _24 in this.subtotalTableList){var _25=this.dataList.getCellData(_22,_24);var _26=_25;if(_22+1<this.getDataLength()){_26=this.dataList.getCellData(_22+1,_24);}else{if(_22+1==this.getDataLength()){_23++;}}if(_25!=_26){_23++;}}return _23;};$W._a.aN.prototype.setSubtotalData=function(_27,_28,_29,_2a,_2b){["WebSquare.uiplugin.subtotalDataController.prototype.setSubtotalData"];var _2c=this.subtotalDataArr[_28+"_"+_29];if(_2c==null){_2c=this.getSubtotalData(_27,_28,_29,_2a);}var _2d=this.subtotalObj[_28];for(var i=0;i<_2b.length;i++){var _2f=_2b[i].getElementsByTagName("td");for(var j=0;j<_2f.length;j++){var _31=_2f[j];var _32=_31.getAttribute("id");if(_2c[_32]!=null){_31.innerHTML="<nobr>"+_2c[_32]+"</nobr>";}else{if(_31.getAttribute("colMerge")=="true"){_31.style.borderTopWidth="0px";_31.style.borderBottomWidth="0px";}else{var _33=_31.getAttribute("value");var _34=_31.getAttribute("inputType");var _35=_31.getAttribute("localeRef");if(_34!=="expression"&&_35!=null){_33=this.getLocaleValue(_35);}_33=_33!=null?_33:"";_31.innerHTML="<nobr>"+_33+"</nobr>";}}}}};$W._a.aN.prototype.getSubtotalData=function(_36,_37,_38,_39){["WebSquare.uiplugin.subtotalDataController.prototype.getSubtotalData"];var obfuscator_targetID=_37;var _3a=this.subtotalObj[_37];if(_3a==null){_3a={};for(var i=0;i<_36.rows.length;i++){var _3c=_36.rows[i].getElementsByTagName("td");for(var j=0;j<_3c.length;j++){var _3e=_3c[j];if(_3e.getAttribute("inputType")=="expression"){var obj={};obj.id=_3e.getAttribute("id");var str=_3e.getAttribute("expression")||"";if(str!=""){str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.subtotalcolsum( obfuscator_st, obfuscator_en ,");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.subtotalcolavg( obfuscator_st, obfuscator_en ,");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.subtotalcolmax( obfuscator_st, obfuscator_en ,");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.subtotalcolmin( obfuscator_st, obfuscator_en ,");str=str.replace(/[cC][oO][uU][nN][tT][\s]*[(]/g,"this.subtotalcolcnt( obfuscator_st, obfuscator_en ,");str=str.replace(/[tT][aA][rR][gG][eE][tT][cC][oO][lL][vV][aA][lL][uU][eE][\s]*[(]/g,"this.dataList.getCellData( obfuscator_en, obfuscator_targetID");}var _41="text";var _42=parseInt(_3e.getAttribute("colindex"))-this.defaultColCnt;if(_42>=0){_41=this._dataList.getCellInfo(_42).options.dataType;}obj.dataType=_3e.getAttribute("dataType")||_41;obj.expression=str;obj.displayFormat=_3e.getAttribute("displayFormat")||"";obj.displayFormatter=_3e.getAttribute("displayFormatter")||"";obj.formatter=$W._C.createFormatter(obj.dataType,obj.displayFormat,obj.displayFormatter);_3a[obj.id]=obj;}}}this.subtotalObj[_37]=_3a;}var _43=_39;while(_43>0&&_38==this.dataList.getCellData(_43-1,_37)){_43--;}var obfuscator_st=_43;var obfuscator_en=_39;var _44={};for(var id in _3a){var obj=_3a[id];var _46=eval(obj.expression);_44[id]=obj.formatter.format(_46);}return _44;};$W._a.aN.prototype.subtotalcolsum=function(st,en,_49){["WebSquare.uiplugin.subtotalDataController.prototype.checkRowSpan"];var _4a=this.getColumnSubtotalRangeDataArray(st,en,_49);retValue="";var _4b;if(_4a.length>0){_4b=this.getColumnOption(_49,"dataType");retValue=0;for(var i=0;i<_4a.length;i++){if(_4b==="bigDecimal"){retValue=$W._b(retValue+"").plus(_4a[i]);}else{retValue+=(_4a[i]-0);}}}return retValue;};$W._a.aN.prototype.subtotalcolavg=function(st,en,_4f){["WebSquare.uiplugin.subtotalDataController.prototype.checkRowSpan"];var _50=this.getColumnSubtotalRangeDataArray(st,en,_4f);var _51="";var _52=this.getColumnOption(_4f,"dataType");if(_52==="bigDecimal"){_51="0";for(var i in _50){_51=$W._b(_51).plus(_50[i]);}_51=_51.divide($W._b(_50.length));}else{if(_50.length>0){_51=eval(_50.join("+"))/_50.length;}}return _51;};$W._a.aN.prototype.subtotalcolmax=function(st,en,_56){["WebSquare.uiplugin.subtotalDataController.prototype.checkRowSpan"];var _57=this.getColumnSubtotalRangeDataArray(st,en,_56);var _58=this.getColumnOption(_56,"dataType");var max=null;if(_58==="bigDecimal"){for(var i in _57){max=(max==null)?_57[i]:max.compare(_57[i]);}}else{for(var i=0;i<_57.length;i++){var _5b=parseFloat(_57[i]);if(!isNaN(_5b)){if(max==null||max<_5b){max=_5b;}}}}max=(max==null)?"":max;return max;};$W._a.aN.prototype.subtotalcolmin=function(st,en,_5e){["WebSquare.uiplugin.subtotalDataController.prototype.checkRowSpan"];var _5f=this.getColumnSubtotalRangeDataArray(st,en,_5e);var _60=this.getColumnOption(_5e,"dataType");var min=null;if(_60==="bigDecimal"){for(var i in _5f){min=(min==null)?_5f[i]:min.compare(_5f[i],true);}}else{for(var i=0;i<_5f.length;i++){var _63=parseFloat(_5f[i]);if(!isNaN(_63)){if(min==null||min>_63){min=_63;}}}}min=(min==null)?"":min;return min;};$W._a.aN.prototype.subtotalcolcnt=function(st,en,_66){["WebSquare.uiplugin.subtotalDataController.prototype.subtotalcolcnt"];var cnt=0;cnt=en-st+1;return cnt;};$W._a.aN.prototype.getColumnSubtotalRangeDataArray=function(st,en,_6a){["WebSquare.uiplugin.subtotalDataController.prototype.getColumnSubtotalRangeDataArray"];var _6b=[];var _6c=this.getColumnID(_6a);var _6d;var _6e=this.getColumnOption(_6c,"dataType");for(var i=st;i<=en;i++){if(this.options.excludeDeletedRows){var _70=this.getDeletedIndex();var _71=false;for(var j=0;j<_70.length;j++){if(i==_70[j]){_71=true;break;}}if(_71){continue;}}if(_6e==="bigDecimal"){_6d=$W._b(this.dataList.getCellData(i,_6a));}else{_6d=this.dataList.getCellData(i,_6a);_6d+="";}if(typeof _6d=="undefined"||_6d==""){_6d="0";}else{_6b.push(_6d);}}return _6b;};;WebSquare.uiplugin.subtotalDataController=$W._a.aN;$W._a.bo=function(_1){["WebSquare.uiplugin.footerController"];};$W._a.bo.prototype.initializeFooter=function(){["WebSquare.uiplugin.footerController.prototype.initializeFooter"];try{if(!this.hasFooter){return;}var _2=this.getDomList("foot_tds","td",this.getElementById(this.id+"_foot_table"));for(var i=0;i<_2.length;i++){var td=_2[i];var _5=td.getAttribute("id");if(_5&&!td.getAttribute("footer_id")){td.setAttribute("footer_id",_5);td.setAttribute("id",this.id+"_"+_5);td.setAttribute("class",td.getAttribute("class")+" "+this.id+"_footer__column"+i);var _6=td.getAttribute("inputType");if(_6!="expression"){var _7="";var _8=td.getAttribute("localeRef");if(_8!=null){_7=this.getLocaleValue(_8);}else{_7=td.getAttribute("value");if(_7==null){_7="";}}td.innerHTML="<nobr>"+_7+"</nobr>";}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bo.prototype.drawFooter=function(_9){["WebSquare.uiplugin.footerController.prototype.drawFooter"];if(!this.hasFooter||!this.drawFooterStatus){return;}if(this.footerDataObj==null){this.initFooterDataObj();}var _a=this.getElementById(this.id+"_foot_table");var _b=_a.getElementsByTagName("td");this.footerTempSum=[];if(_9){var _9=this.getColumnID(_9);for(var i=0;i<_b.length;i++){var _d=_b[i];var _e=_d.getAttribute("footer_id");var _f=parseInt(_d.getAttribute("colindex"))-this.defaultColCnt;if(_e){var _10=this.footerDataObj[_e];if(_10.inputType=="expression"){var _11=_10.expression.match(/footercol(sum|avg|max|min)\s*\([^\)]*/g);if(_11){for(var j=0;j<_11.length;j++){if(_11[j].indexOf(_9)>=0){_10.value=eval(_10.expression);if(isNaN(_10.value)){if(_10.NaNFormat!="NaN"){_10.value=_10.NaNFormat;}}_d.innerHTML="<nobr>"+_10.formatter.format(_10.value)+"</nobr>";}}}else{if(_9==this.getCellInfo(_f).id){try{_10.value=eval(_10.expression);if(isNaN(_10.value)){if(_10.NaNFormat!="NaN"){_10.value=_10.NaNFormat;}}}catch(e1){}_d.innerHTML="<nobr>"+_10.formatter.format(_10.value)+"</nobr>";}}}}}}else{for(var i=0;i<_b.length;i++){var _d=_b[i];var _e=_d.getAttribute("footer_id");if(_e){var _10=this.footerDataObj[_e];if(_10.inputType=="expression"){try{_10.value=eval(_10.expression);if(isNaN(_10.value)){if(_10.NaNFormat!="NaN"){_10.value=_10.NaNFormat;}}}catch(e1){}}_d.innerHTML="<nobr>"+_10.formatter.format(_10.value)+"</nobr>";}}}};$W._a.bo.prototype.initFooterDataObj=function(){["WebSquare.uiplugin.footerController.prototype.initFooterDataObj"];var _13=this.getElementById(this.id+"_foot_table");var _14=_13.getElementsByTagName("td");this.footerDataObj={};for(var j=0;j<_14.length;j++){var _16=_14[j];var obj={};obj.id=_16.getAttribute("footer_id");var str=_16.getAttribute("expression")||"";if(str!=""){str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.footercolsum( ");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.footercolavg( ");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.footercolmax( ");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.footercolmin( ");str=str.replace(/[cC][oO][uU][nN][tT][\s]*[(]/g,"this.footercolcnt( ");}var _19=_16.getAttribute("localeRef");if(_19!=null){obj.value=this.getLocaleValue(_19);}else{obj.value=_16.getAttribute("value")||"";}obj.inputType=_16.getAttribute("inputType");var _1a="text";var _1b=parseInt(_16.getAttribute("colindex"))-this.defaultColCnt;if(_1b>=0){_1a=this._dataList.getCellInfo(_1b).options.dataType;}obj.dataType=_16.getAttribute("dataType")||_1a;obj.expression=str;obj.displayFormat=_16.getAttribute("displayFormat")||"";obj.displayFormatter=_16.getAttribute("displayFormatter")||"";obj.formatter=$W._C.createFormatter(obj.dataType,obj.displayFormat,obj.displayFormatter);obj.NaNFormat=_16.getAttribute("NaNFormat")||$W._N.getConfiguration("/WebSquare/grid/column[@inputType='expression']/NaNFormat/@value")||"NaN";if(obj.NaNFormat=="$blank"){obj.NaNFormat="";}this.footerDataObj[obj.id]=obj;}};$W._a.bo.prototype.footercolsum=function(_1c){["WebSquare.uiplugin.footerController.prototype.footercolsum"];if(!this.footerTempSum){this.footerTempSum=[];}if(!this.footerTempSum[_1c]){this.footerTempSum[_1c]={};}if(this.footerTempSum[_1c].sum===undefined){var _1d="";var _1e=5000;if(this.groupbyStatus.grouped){}else{var _1f=this.getColumnAllDataArray(_1c);var _20=this.getColumnOption(_1c,"dataType");if(_1f.length>0&&_20=="bigDecimal"){var _21=$W._b("0");for(var i=0;i<_1f.length;i++){if(_1f[i].replace(/^\s+|\s+$/g,"")==""){_1f[i]="0";}}for(var j in _1f){_1f[j]=$W._b(_1f[j]);_21=_21.plus(_1f[j]);}_1d=_21.toString();}else{if(_1f.length>0){if(_1f.length>_1e){var _24=Math.ceil((_1f.length/_1e));var _25=0;var _26;_1d=0;for(var i=0;i<_24;i++){if(this.options.excludeDeletedRows){var _27=this.dataList.getDeletedIndex();for(var j=0;j<_27.length;j++){_1f[_27[j]]="0";}}var _28=_1f.slice(_25,_1e*(i+1));for(var s=0;s<_28.length;s++){if(_28[s].replace(/^\s+|\s+$/g,"")==""){_28[s]="0";}}_26=eval(_28.join("+"));_25=parseInt(_25,10)+parseInt(_28.length,10);_1d=parseInt(_1d,10)+parseInt(_26,10);}}else{for(var i=0;i<_1f.length;i++){if(_1f[i].replace(/^\s+|\s+$/g,"")==""){_1f[i]="0";}}if(this.options.excludeDeletedRows){var _27=this.dataList.getDeletedIndex();for(var i=0;i<_27.length;i++){_1f[_27[i]]="0";}}_1d=eval(_1f.join("+"));}}}}this.footerTempSum[_1c].sum=_1d;}return $W._G.setPrecision(this.footerTempSum[_1c].sum);};$W._a.bo.prototype.footercolavg=function(_2a){["WebSquare.uiplugin.footerController.prototype.footercolavg"];var _2b=this.getColumnAllDataArray(_2a);if(!this.footerTempSum){this.footerTempSum=[];}if(!this.footerTempSum[_2a]){this.footerTempSum[_2a]={};}var _2c="";var _2d=5000;if(this.groupbyStatus.grouped){return _2c;}else{if(this.footerTempSum[_2a].sum===undefined){var _2e=this.getColumnOption(_2a,"dataType");if(_2b.length>0&&_2e=="bigDecimal"){var _2f=$W._b("0");for(var i=0;i<_2b.length;i++){if(_2b[i].replace(/^\s+|\s+$/g,"")==""){_2b[i]="0";}}for(var j in _2b){_2b[j]=$W._b(_2b[j]);_2f=_2f.plus(_2b[j]);}return _2f.divide($W._b(_2b.length)).toString();}else{if(_2b.length>0){if(_2b.length>_2d){var _32=Math.ceil((_2b.length/_2d));var _33=0;var _34;_2c=0;for(var i=0;i<_32;i++){var _35=_2b.slice(_33,_2d*(i+1));for(var s=0;s<_35.length;s++){if(_35[s].replace(/^\s+|\s+$/g,"")==""){_35[s]="0";}}_34=eval(_35.join("+"));_33=parseInt(_33,10)+parseInt(_35.length,10);_2c=parseInt(_2c,10)+parseInt(_34,10);}}else{for(var i=0;i<_2b.length;i++){if(_2b[i].replace(/^\s+|\s+$/g,"")==""){_2b[i]="0";}}_2c=eval(_2b.join("+"));}}}this.footerTempSum[_2a].sum=_2c;}if(this.footerTempSum[_2a].sum===""){return "";}else{if(this.cellInfoHash[_2a].options.dataType=="bigDecimal"){_2c=$W._b(this.footerTempSum[_2a].sum).divide($W._b(_2b.length)).toString();}else{_2c=this.footerTempSum[_2a].sum/_2b.length;}return _2c;}}};$W._a.bo.prototype.footercolmax=function(_37){["WebSquare.uiplugin.footerController.prototype.footercolmax"];if(!this.footerTempSum){this.footerTempSum=[];}if(!this.footerTempSum[_37]){this.footerTempSum[_37]={};}if(this.footerTempSum[_37].max===undefined){var max=null;if(this.groupbyStatus.grouped){}else{var _39=this.getColumnAllDataArray(_37);var _3a=this.getColumnOption(_37,"dataType");if(_39.length>0&&_3a=="bigDecimal"){var _3b;for(var i=0;i<_39.length;i++){if(_39[i].replace(/^\s+|\s+$/g,"")==""){_39[i]="0";}}for(var j in _39){_39[j]=$W._b(_39[j]);_3b=(_3b==null)?_39[j]:_3b.compare(_39[j],false);}max=_3b.toString();}else{for(var i=0;i<_39.length;i++){var _3e=parseFloat(_39[i]);if(!isNaN(_3e)){if(max==null||max<_3e){max=_3e;}}}max=(max==null)?"":max;max=$W._G.setPrecision(max);}this.footerTempSum[_37].max=max;}}return this.footerTempSum[_37].max;};$W._a.bo.prototype.footercolmin=function(_3f){["WebSquare.uiplugin.footerController.prototype.footercolmin"];if(!this.footerTempSum){this.footerTempSum=[];}if(!this.footerTempSum[_3f]){this.footerTempSum[_3f]={};}if(this.footerTempSum[_3f].min===undefined){var min=null;if(this.groupbyStatus.grouped){}else{var _41=this.getColumnAllDataArray(_3f);var _42=this.getColumnOption(_3f,"dataType");if(_41.length>0&&_42=="bigDecimal"){var _43;for(var i=0;i<_41.length;i++){if(_41[i].replace(/^\s+|\s+$/g,"")==""){_41[i]="0";}}for(var j in _41){_41[j]=$W._b(_41[j]);_43=(_43==null)?_41[j]:_43.compare(_41[j],true);}min=_43.toString();}else{for(var i=0;i<_41.length;i++){var _46=parseFloat(_41[i]);if(!isNaN(_46)){if(min==null||min>_46){min=_46;}}}min=(min==null)?"":min;min=$W._G.setPrecision(min);}this.footerTempSum[_3f].min=min;}}return this.footerTempSum[_3f].min;};$W._a.bo.prototype.footercolcnt=function(_47){["WebSquare.uiplugin.footerController.prototype.footercolcnt"];return this.getDataLength();};$W._a.bo.prototype.getColumnAllDataArray=function(_48){["WebSquare.uiplugin.footerController.prototype.getColumnAllDataArray"];var _49=[];var _4a=this.getColumnID(_48);if(_4a!==null){for(var i=0;i<this.getDataLength();i++){var _4c=this.dataList.getCellData(i,_4a);_4c+="";if((typeof _4c=="undefined"||_4c=="")){_4c="0";}else{_49.push(_4c);}}return _49;}else{$W.logger.printLog("[Warning] Doesn't columns have the colIndex.");}};$W._a.bo.prototype.getFooterData=function(_4d,_4e){["WebSquare.uiplugin.footerController.prototype.getFooterData"];var _4f=this.getElementById(this.id+"_foot_table");var _50=_4f.getElementsByTagName("td");if(typeof _4d=="number"){var _51=_4d+this.defaultColCnt;footerTd=_50[_51];var _4d=footerTd.getAttribute("footer_id");var _52=this.footerDataObj[_4d];var _53=_52.value;if(_52.inputType=="expression"){_53=eval(_52.expression);}if(_4e!="displayData"){return _53;}else{return _52.formatter.format(_53);}}else{for(var j=0;j<_50.length;j++){var _55=_50[j];if(_55.getAttribute("footer_id")==_4d){var _52=this.footerDataObj[_4d];var _53=_52.value;if(_52.inputType=="expression"){_53=eval(_52.expression);}if(_4e!="displayData"){return _53;}else{return _52.formatter.format(_53);}}}}};$W._a.bo.prototype.setFooterValue=function(_56,_57){this.setFooterData(_56,_57);};$W._a.bo.prototype.setFooterData=function(_58,_59){["WebSquare.uiplugin.footerController.prototype.setFooterData"];var _5a=this.getElementById(this.id+"_foot_table");var _5b=_5a.getElementsByTagName("tbody")[0];var _5c=_5b.getElementsByTagName("td");if(typeof _58=="number"){var _5d=_58+this.defaultColCnt;footerTd=_5c[_5d];_58=footerTd.getAttribute("footer_id");}for(var j=0;j<_5c.length;j++){var _5f=_5c[j];if(_5f.getAttribute("footer_id")==_58){var _60=this.footerDataObj[_58];if(_60.inputType=="text"){_60.value=_59;_5f.innerHTML="<nobr>"+_60.formatter.format(_60.value)+"</nobr>";}}}};$W._a.bo.prototype.setFooterDisplayFormat=function(_61,_62){try{var _63=this.getElementById(this.id+"_foot_table");var _64=_63.getElementsByTagName("td");if(typeof _61=="number"){var _65=_61+this.defaultColCnt;footerTd=_64[_65];_61=footerTd.getAttribute("footer_id");}for(var j=0;j<_64.length;j++){var _67=_64[j];if(_67.getAttribute("footer_id")==_61){var _68=this.footerDataObj[_61];_68.displayFormat=_62;_68.formatter=$W._C.createFormatter(_68.dataType,_68.displayFormat,_68.displayFormatter);if(_68.dataType=="number"){_67.innerHTML="<nobr>"+_68.formatter.format(_68.value)+"</nobr>";}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bo.prototype.getFooterStyle=function(_69,_6a){try{var _6b=this.getElementById(this.id+"_foot_table");var _6c=_6b.getElementsByTagName("td");if(typeof _69=="number"){var _6d=_69+this.defaultColCnt;footerTd=_6c[_6d];_69=footerTd.getAttribute("footer_id");}for(var j=0;j<_6c.length;j++){var _6f=_6c[j];if(_6f.getAttribute("footer_id")==_69){return $W._H.getStyle(_6f,_6a);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bo.prototype.setFooterStyle=function(_70,_71,_72){try{var _73=this.getElementById(this.id+"_foot_table");var _74=_73.getElementsByTagName("td");if(_70.wq_trim().toLowerCase()=="$rownum"){_70="_headerRowNumber";}else{if(_70.wq_trim().toLowerCase()=="$rowstatus"){_70="_headerRowStatus";}else{if(typeof _70=="number"){var _75=_70+this.defaultColCnt;footerTd=_74[_75];_70=footerTd.getAttribute("footer_id");}}}for(var j=0;j<_74.length;j++){var _77=_74[j];if(_77.getAttribute("footer_id")==_70){$W._H.setStyle(_77,_71,_72);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bo.prototype.getExcelAllFooterXML=function(_78){["WebSquare.uiplugin.footerController.getExcelAllFooterXML"];try{if(!_78){_78=",";}if(!this.hasFooter){return "<array><![CDATA[[]]]></array>";}var _79=[];_79.push("<array><![CDATA[");_79.push("[\"");var _7a=this.getElementById(this.id+"_foot_table");var _7b=_7a.getElementsByTagName("tbody")[0];var _7c=_7b.getElementsByTagName("td");for(var j=0;j<_7c.length;j++){var _7e=_7c[j];var _7f=_7e.getAttribute("footer_id");if(_7f!="_headerRowNumber"&&_7f!="_headerRowStatus"){var _80="";if(_7e.getAttribute("inputType")!="expression"){childNode=$W._G.first(_7e);while(childNode!=null&&childNode.tagName!="BR"){_7e=childNode;childNode=$W._G.first(childNode);}_80=_7e.innerHTML;}else{if(!this.footerDataObj){this.initFooterDataObj();}var _81=this.footerDataObj[_7f];_80=eval(_81.expression);}_79.push(_80);_79.push("\""+_78+"\"");}}_79[_79.length-1]="\"]";_79.push("]]></array>");return (_79.join(""));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bo.prototype.getExcelAllFooterXMLDisplay=function(_82){["WebSquare.uiplugin.footerController.getExcelAllFooterXMLDisplay"];try{if(!_82){_82=",";}if(!this.hasFooter){return "<array><![CDATA[[]]]></array>";}var _83=[];_83.push("<array><![CDATA[");_83.push("[\"");var _84=this.getElementById(this.id+"_foot_table");var _85=_84.getElementsByTagName("tbody")[0];var _86=_85.getElementsByTagName("td");if(this.groupbyStatus.grouped){if(!this.footerDataObj){this.initFooterDataObj();}var _87=0;if(this.options.rowNumVisible){var _88=this.footerDataObj[_86[_87].getAttribute("footer_id")];var _89=_88.value||"";_83.push(_89);_83.push("\""+_82+"\"");_87++;}if(this.options.rowStatusVisible){var _88=this.footerDataObj[_86[_87].getAttribute("footer_id")];var _89=_88.value||"";_83.push(_89);_83.push("\""+_82+"\"");}}for(var j=0;j<_86.length;j++){var _8b=_86[j];var _8c=_8b.getAttribute("footer_id");if(_8c!="_headerRowNumber"&&_8c!="_headerRowStatus"){var _89="";if(_8b.getAttribute("inputType")!="expression"){childNode=$W._G.first(_8b);while(childNode!=null&&childNode.tagName!="BR"){_8b=childNode;childNode=$W._G.first(childNode);}_89=_8b.innerHTML;}else{if(!this.footerDataObj){this.initFooterDataObj();}var _88=this.footerDataObj[_8c];_89=eval(_88.expression);_89=_88.formatter.format(_89);}_83.push(_89);_83.push("\""+_82+"\"");}}_83[_83.length-1]="\"]";_83.push("]]></array>");return (_83.join(""));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bo.prototype.getExcelAllFooterXMLRaw=function(_8d){["WebSquare.uiplugin.footerController.getExcelAllFooterXMLRaw"];try{if(!_8d){_8d=",";}if(!this.hasFooter){return "<array><![CDATA[[]]]></array>";}var _8e=this.getElementById(this.id+"_foot_table");var _8f=_8e.getElementsByTagName("tbody")[0];var _90=_8f.getElementsByTagName("td");var _91=[];for(var i=0;i<_90.length;i++){var _93=_90[i];var _94=_93.getAttribute("footer_id");if(_94!="_headerRowNumber"&&_94!="_headerRowStatus"){childNode=$W._G.first(_93);while(childNode!=null&&childNode.tagName!="BR"){_93=childNode;childNode=$W._G.first(childNode);}_91[_91.length]=_93.innerHTML;}}_91[0]="<array><![CDATA[[\""+_91[0];_91[_91.length-1]+="\"]]]></array>";return _91.join("\""+_8d+"\"");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bo.prototype.getExpressionValue=function(str){["WebSquare.uiplugin.footerController.prototype.getExpressionValue"];if(!this.hasFooter){this.footerTempSum=[];}str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.footercolsum( ");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.footercolavg( ");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.footercolmax( ");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.footercolmin( ");str=str.replace(/[cC][oO][uU][nN][tT][\s]*[(]/g,"this.footercolcnt( ");var _96=eval(str);return _96;};;WebSquare.uiplugin.footerController=$W._a.bo;$W._a.aj=function(_1){["WebSquare.uiplugin.gridViewApiController"];};$W._a.aj.prototype.setStartRowNumber=function(_2){["WebSquare.uiplugin.gridViewApiController.prototype.setStartRowNumber"];this.startRowNumber=_2;for(var i=0;i<=this.lastIndex;i++){this._drawRowNumData(i,i+this.rowIndex);}};$W._a.aj.prototype.setNoResultMessage=function(_4){["WebSquare.uiplugin.gridViewApiController.prototype.setStartRowNumber"];this.options.noResultMessage=_4;this.displayNoResultMessage();};$W._a.aj.prototype.checkAll=function(_5,_6){["WebSquare.uiplugin.gridViewApiController.prototype.checkAll"];var _7=this.getCellInfo(_5);if(_7.options.inputType!="checkbox"){var _8=$W._m.getMessage("Grid_warning1")||"\uc120\ud0dd\ud558\uc2e0 \uceec\ub7fc\uc740 checkbox\uac00 \uc544\ub2d9\ub2c8\ub2e4.";$l(_8);return;}var _9=_7.options.trueValue;var _a=_7.options.falseValue;this.drawFooterStatus=false;var _b=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _c=_b?this.getTotalRow():this.getDataLength();if(this._linkedDataList){for(var _d=0;_d<_c;_d++){var _e=this._linkedDataList.initialRowIndexArr[_d];var i=_b?_e:this._dataList.getFilteredRowIndex(_e);data=this._dataList.getCellData(i,_7.id);if(_6==1||_6==true){if(data!=_9){this._dataList.setCellData(i,_7.id,_9);}}else{if(_6==0||_6==false){if(data!=_a){this._dataList.setCellData(i,_7.id,_a);}}else{var _10=(data==_9)?_a:_9;this._dataList.setCellData(i,_7.id,_10);}}}}else{for(var i=0;i<_c;i++){data=this._dataList.getCellData(i,_7.id);if(_6==1||_6==true){if(data!=_9){this._dataList.setCellData(i,_7.id,_9);}}else{if(_6==0||_6==false){if(data!=_a){this._dataList.setCellData(i,_7.id,_a);}}else{var _10=(data==_9)?_a:_9;this._dataList.setCellData(i,_7.id,_10);}}}}this.drawFooterStatus=true;this.drawFooter();this.drawHeader();};$W._a.aj.prototype.getColumnType=function(_11){["WebSquare.uiplugin.gridViewApiController.prototype.getColumnType"];var _12=this.getCellInfo(_11);return _12.options.inputType;};$W._a.aj.prototype.getDefaultStyle=function(){["WebSquare.uiplugin.gridViewApiController.getDefaultStyle"];return this.options.style;};$W._a.aj.prototype.setCellChecked=function(_13,_14,_15){["WebSquare.uiplugin.gridViewApiController.prototype.setCellChecked"];if(typeof _15!="boolean"){var _16=$W._m.getMessage("Grid_warning2")||"\uc785\ub825\ub370\uc774\ud130\uac00 \uc633\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. true/false boolean \ud0c0\uc785\uc73c\ub85c \uc785\ub825\ud558\uc138\uc694";alert(_16);return;}var _17=this.getCellInfo(_14);if(_17.options.inputType!="checkbox"&&_17.options.inputType!="radio"){var _18=$W._m.getMessage("Grid_warning3")||"checkbox\ub098 radio\uac00 \uc544\ub2d9\ub2c8\ub2e4.";alert(_18);return;}if(_17.options.inputType=="radio"&&_15!=false){var _19=!!(this.isDrillDown&&this._dataList.options.depthColumn);var len=_19?this.getTotalRow():this.getDataLength();if(this._linkedDataList){for(var row=0;row<len;row++){var _1c=this._linkedDataList.initialRowIndexArr[row];var i=_19?_1c:this._dataList.getFilteredRowIndex(_1c);this._dataList.setCellData(i,_17.id,_17.options.falseValue);}}else{for(var i=0;i<len;i++){this._dataList.setCellData(i,_17.id,_17.options.falseValue);}}this.drawColumnData(_14);}if(_15==true){_15=_17.options.trueValue;}else{_15=_17.options.falseValue;}this._dataList.setCellData(_13,_17.id,_15);};$W._a.aj.prototype.getGridHTML=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getGridHTML"];alert("\ud604\uc7ac \uad6c\ud604\uc911");};$W._a.aj.prototype.redrawColumn=function(_1e,_1f){["WebSquare.gridApiController.grid.prototype.redrawColumn"];try{var _20=typeof _1f=="undefined"?true:_1f;this.drawColumnData(_1e,_20);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getDrawCount=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getRowCount"];return this.getVisibleRowNum();};$W._a.aj.prototype.getVisibleRowNum=function(){return this.rowIndex>=0?this.lastIndex+1:0;};$W._a.aj.prototype.getTopRowIndex=function(){return this.rowIndex;};$W._a.aj.prototype.setTopRowIndex=function(_21){var _22=this.getElementById(this.id+"_scrollY_div");(_21<=0)&&(_21=0);if(this.lastTopRowIndex!==null){(_21>this.lastTopRowIndex)&&(_21=parseInt(this.lastTopRowIndex+0.5,10));}else{if(_22.offsetHeight<_22.scrollHeight){if(this.rowIndex<_21){_21=(_21+this.lastIndex+1>this.getDataLength())?this.getDataLength()-this.lastIndex-1:_21;if(_21>this.rowIndex+this.lastIndex){this.adjustDraw_keepTop=true;}}}else{_21=0;}}if(this.rowIndex!=_21){if(this.delayedDraw({rowIndex:_21})){return;}this.scrollEvent=false;this.checkScrollEnd=true;_22.scrollTop=this.oneRowScrollHeight*_21;this.drawData(_21);}};$W._a.aj.prototype.getBottomRowIndex=function(){return this.rowIndex>=0?this.rowIndex+this.lastIndex:-1;};$W._a.aj.prototype.setBottomRowIndex=function(_23){this.drawBottomData(_23);};$W._a.aj.prototype.getCellPosition=function(row,_25,_26){var _25=this.getColumnIndex(_25);var _26=(_26||"").toLowerCase();var td=this.data_td_list[_25+row*this.oneRowDataLength];if(_26=="top"){return td.offsetTop;}else{if(_26=="left"){return td.offsetLeft;}}return null;};$W._a.aj.prototype.getCellSize=function(row,_29,_2a){var _29=this.getColumnIndex(_29);var _2a=(_2a||"").toLowerCase();var td=this.data_td_list[_29+row*this.oneRowDataLength];if(_2a=="width"){return td.clientWidth;}else{if(_2a=="height"){return td.clientHeight;}}return null;};$W._a.aj.prototype.getHeaderPosition=function(_2c,_2d){var _2d=(_2d||"").toLowerCase();var td=this.getHeaderLayer(_2c);if(_2d=="top"){var top=td.offsetTop;if(this.options.groupbyZone){top+=this.groupbyZoneStatus.groupbyZoneRender.offsetHeight;}return top;}else{if(_2d=="left"){return td.offsetLeft;}}return null;};$W._a.aj.prototype.getHeaderSize=function(_30,_31){var _31=(_31||"").toLowerCase();var td=this.getHeaderLayer(_30);if(_31=="width"){return td.clientWidth;}else{if(_31=="height"){return td.clientHeight;}}return null;};$W._a.aj.prototype.setSummary=function(str){var _34=this.getElementById(this.id+"_body_table");_34.setAttribute("summary",str);};$W._a.aj.prototype.setFooterSummary=function(str){if(this.hasFooter){var _36=this.getElementById(this.id+"_foot_table");_36.setAttribute("summary",str);}};$W._a.aj.prototype.setCaption=function(_37){var _38=this.getElementById(this.id+"_body_table");var _39=this.render.getElementsByTagName("caption")[0];if(_39){_39.innerHTML=_37;}else{_39=document.createElement("caption");_39.innerHTML=_37;var _3a=this.render.getElementsByTagName("colgroup")[0];_3a.parentNode.insertBefore(_39,_3a);}var _3b=_39.className;_39.className=(_3b&&_3b!="")?_3b+" setcaption":"setcaption";};$W._a.aj.prototype.setFooterCaption=function(_3c){if(this.hasFooter){var _3d=this.getElementById(this.id+"_foot_table");var _3e=_3d.getElementsByTagName("caption")[0];if(_3e){_3e.innerHTML=_3c;}else{_3e=document.createElement("caption");_3e.innerHTML=_3c;var _3f=_3d.getElementsByTagName("colgroup")[0];_3f.parentNode.insertBefore(_3e,_3f);}}};$W._a.aj.prototype.groupby=function(_40){["WebSquare.uiplugin.gridViewApiController.prototype.groupby"];try{var _41=((typeof _40.sortIndex=="string")?_40.sortIndex.split(" "):_40.sortIndex);var _42=((typeof _40.sortOrder=="string")?_40.sortOrder.split(" "):_40.sortOrder);var _43=_41.length;if(this.options.groupbyMaxCount!=-1){if(this.options.groupbyMaxCount<_43){$W.logger.printLog("groupby max column count has been exceeded.");return;}}var _40=_40||{};this.removeFocusedCell();this._dataList.filterManager.clear();this.clearHeaderSort();this.headerSortStatusArr=[];if(_40.filter){for(var _44 in _40.filter){var _45;var _46=_40.filter[_44];if(_46.constructor==/a/.constructor){_45=_46;}else{if(typeof _46=="object"){if(_46.length==0){_46="/^[a-z0-9_-]{3,16}$/";}else{_46="^"+_46.join("$|^")+"$";}_45=new RegExp(_46,"gi");}}if(_45){this.dataList.setColumnFilter({type:"regExp",colIndex:_44,key:_45,condition:"and"});}}}if(_40.sortOrder&&_40.sortIndex){this.dataList.multisort(_40);}this.groupbyInfo={};this.statusArr=[];var _47=this.getTotalCol();var _48=this._dataList.filteredRowIndexArr;var _49=[];var _4a=[];var _4b=0;var _4c=[];var _4d=[];var _4e=[];this.groupbyStatus.groupedRowIndexArr=[];this.groupbyStatus.groupbyRowIndexArr=this._dataList.filteredRowIndexArr.slice();this.groupbyStatus.groupbyDepthDelimiter="||";this.customFilterStatusObj={};for(var i=0;i<_43;i++){var _50=parseInt(_41[i],10);_41[i]=isNaN(_50)?this.getColumnIndex(_41[i]):_50;_4e[i]=this.dataList.getCellData(_48[0],this.getColumnID(_41[i]),3);}this.groupbyStatus.grouped=true;this.groupbyStatus.filter=_40.filter||{};this.groupbyStatus.sortIndexArr=_41;this.groupbyStatus.sortOrderArr=_42;this.groupbyStatus.headerValueObj={};this.groupbyStatus.footerValueObj={};if(!_40.keepDisplayOptions){this.groupbyDisplayOptions={};this.groupbyDisplayOptions.rowNumHeader=_40.rowNumHeader||{};this.groupbyDisplayOptions.rowStatusHeader=_40.rowStatusHeader||{};this.groupbyDisplayOptions.groupbyHeader=_40.groupbyHeader||[];this.groupbyDisplayOptions.rowNumFooter=_40.rowNumFooter||{};this.groupbyDisplayOptions.rowStatusFooter=_40.rowStatusFooter||{};this.groupbyDisplayOptions.groupbyFooter=_40.groupbyFooter||[];this.groupbyDisplayOptions.closeGroup=_40.closeGroup||false;this.groupbyDisplayOptions.hideHeader=_40.hideHeader||false;this.groupbyDisplayOptions.hideFooter=_40.hideFooter||false;}for(var i=0;i<_48.length;i++){_4c=_4d;_4d=_4e;if(i>0){var _51=false;var _52=[];for(var j=0;j<_43;j++){var _54=_4c.slice(0,j+1).join(this.groupbyStatus.groupbyDepthDelimiter);if(_51||_4c[j]!=_4d[j]){_51=true;var _55={type:"footer",groupId:_54,depth:j,status:"open",index:""};this.groupbyInfo[_54]=this.groupbyInfo[_54]?this.groupbyInfo[_54]:{};this.groupbyInfo[_54].footer=_55;_52.push(_55);}}for(var j=_52.length-1;j>=0;j--){_52[j].index=_49.length;if(!this.groupbyDisplayOptions.hideFooter){_49.push(_52[j]);_4a.push("footer");}}}var _56=false;for(var j=0;j<_43;j++){var _54=_4d.slice(0,j+1).join(this.groupbyStatus.groupbyDepthDelimiter);if(_56||i==0||_4c[j]!=_4d[j]){_56=true;var _55={type:"header",groupId:_54,depth:j,status:"open",index:_49.length};this.groupbyInfo[_54]={header:_55};if(!this.groupbyDisplayOptions.hideHeader){_49.push(_55);_4a.push("header");}}}_49.push(_48[i]);_4a.push(_4b++);_4e=[];for(var j=0;j<_43;j++){_4e[j]=this.dataList.getCellData(_48[i+1],this.getColumnID(_41[j]),3);}}if(_4a.length>0){for(var i=_43-1;i>=0;i--){var _54=_4d.slice(0,i+1).join(this.groupbyStatus.groupbyDepthDelimiter);var _55={type:"footer",groupId:_54,depth:i,status:"open",index:_49.length};this.groupbyInfo[_54]=this.groupbyInfo[_54]?this.groupbyInfo[_54]:{};this.groupbyInfo[_54].footer=_55;if(!this.groupbyDisplayOptions.hideFooter){_49.push(_55);_4a.push("footer");}}}this.groupbyStatus.groupedRowIndexArr=_49;this.rowNumArr=_4a;if(this.groupbyDisplayOptions.closeGroup&&_4a.length>0){for(var key in this.groupbyInfo){var _58=this.groupbyInfo[key].header;var _59=_58.groupId.split(this.groupbyStatus.groupbyDepthDelimiter);if(_43==_59.length){if(typeof _58!="number"&&this.groupbyStatus.groupedRowIndexArr[_58.index]==_58){this._foldRow(_58);}}}}this.lastTopRowIndex=null;this.rowIndex=0;this.setScrollYHeight();this.notifyDataChanged();this.drawFooter();this.drawHeader();if(this.options.groupbyZoneMessage){this.hideGroupbyZoneMessage();}if(this.options.groupbyZone){this.syncWithGroupbyZone();}var _5a=_41.length;if(!this.groupbyStatus.groupbyDepthInfoObj||_5a>this.groupbyStatus.beforeSortIndexLength){this.groupbyStatus.groupbyDepthInfoObj=this.groupbyStatus.groupbyDepthInfoObj||{};var _5b=this.getColumnID(_41[_5a-1]);this.groupbyStatus.groupbyDepthInfoObj[_5b]=this.createGroupbyDepthInfo(_5a-1);}this.groupbyStatus.beforeSortIndexLength=_5a;if($W._G.isIE("8")){this.drawData(0,null,"async");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.clearGroupby=function(){["WebSquare.uiplugin.gridViewApiController.prototype.clearGroupby"];try{this.clearGrouping=true;this.groupbyStatus={};this.groupbyZoneStatus.beforeOpenedColIndex=null;this.groupbyZoneStatus.beforeOpenedColTagName=null;this.groupbyZoneStatus.clickedHeaderInfo=null;this.groupbyDisplayOptions=null;this.dataList.clearFilter();this.clearHeaderSort();this.clearGroupbyZone();if($W._G.isIE("8")){this.drawData(0,null,"async");}if(this.options.groupbyZoneMessage){this.showGroupbyZoneMessage();}if(this.groupbyFilterList&&this.groupbyFilterScrollView){this.hideGroupbyFilterList();}this.clearGrouping=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.toggleGroup=function(_5c){if(!this.groupbyInfo[_5c]){return;}var _5d=this.groupbyInfo[_5c].header;if(typeof _5d!="number"&&this.dataList.getRealRowIndex(_5d.index)==_5d){if(_5d.status=="open"){this._foldRow(_5d);}else{this._unfoldRow(_5d);}this.lastTopRowIndex=null;this.setScrollYHeight();if(_5d.status=="open"){this.notifyRowInserted(_5d.index);}else{this.notifyRowChanged(_5d.index);}this.removeFocusedCell();this.drawFooter();}};$W._a.aj.prototype._foldRow=function(_5e){if(_5e.status=="open"){_5e.status="closed";if(this.groupbyDisplayOptions.hideFooter){var _5f;for(var i=_5e.index+1;i<this.rowNumArr.length;i++){if(this.rowNumArr[i]=="header"){break;}else{_5f=i;}}_5e.closedChildArr=this.groupbyStatus.groupedRowIndexArr.splice(_5e.index+1,_5f-_5e.index);}else{var _61=this.groupbyInfo[_5e.groupId].footer;_5e.closedChildArr=this.groupbyStatus.groupedRowIndexArr.splice(_5e.index+1,_61.index-_5e.index-1);}var _62=[];for(var i=0;i<this.groupbyStatus.groupbyRowIndexArr.length;i++){var _63=false;for(var j=0;j<_5e.closedChildArr.length;j++){if(this.groupbyStatus.groupbyRowIndexArr[i]==_5e.closedChildArr[j]){_63=true;}}if(!_63){_62.push(this.groupbyStatus.groupbyRowIndexArr[i]);}}this.groupbyStatus.groupbyRowIndexArr=_62;len=this.groupbyStatus.groupedRowIndexArr.length;var _65=0;this.rowNumArr=[];for(var i=0;i<len;i++){if(typeof this.groupbyStatus.groupedRowIndexArr[i]=="number"){this.rowNumArr.push(_65++);}else{this.groupbyInfo[this.groupbyStatus.groupedRowIndexArr[i].groupId][this.groupbyStatus.groupedRowIndexArr[i].type].index=this.rowNumArr.length;this.rowNumArr.push(this.groupbyStatus.groupedRowIndexArr[i].type);}}}};$W._a.aj.prototype._unfoldRow=function(_66){if(_66.status=="closed"){_66.status="open";_66.closedChildArr.unshift(_66.index+1,0);[].splice.apply(this.groupbyStatus.groupedRowIndexArr,_66.closedChildArr);_66.closedChildArr=[];var _67=0;this.rowNumArr=[];this.groupbyStatus.groupbyRowIndexArr=[];for(var i=0;i<this.groupbyStatus.groupedRowIndexArr.length;i++){if(typeof this.groupbyStatus.groupedRowIndexArr[i]=="number"){this.rowNumArr.push(_67++);this.groupbyStatus.groupbyRowIndexArr.push(this.groupbyStatus.groupedRowIndexArr[i]);}else{this.groupbyInfo[this.groupbyStatus.groupedRowIndexArr[i].groupId][this.groupbyStatus.groupedRowIndexArr[i].type].index=this.rowNumArr.length;this.rowNumArr.push(this.groupbyStatus.groupedRowIndexArr[i].type);}}}};$W._a.aj.prototype.foldAll=function(){for(var _69 in this.groupbyInfo){var _6a=this.groupbyInfo[_69].header;if(_6a.status=="open"&&_6a.depth==0){this._foldRow(_6a);}}this.lastTopRowIndex=null;this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();this.drawFooter();this.drawHeader();};$W._a.aj.prototype.unfoldAll=function(){for(var i=0;i<this.groupbyStatus.groupedRowIndexArr.length;i++){var _6c=this.groupbyStatus.groupedRowIndexArr[i];if(typeof _6c!="number"&&_6c.type=="header"&&_6c.status=="closed"){this._unfoldRow(_6c);}}this.lastTopRowIndex=null;this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();this.drawFooter();this.drawHeader();};$W._a.aj.prototype.drawGroupData=function(td,_6e,_6f){var _70=td;var _71=_6f*this.realRowDataLength;var _72=this.realRowDataLength;var _73;var _74;var _75;var _76;if(_6e.type=="header"){_74=this.groupbyDisplayOptions.rowNumHeader;_75=this.groupbyDisplayOptions.rowStatusHeader;_76=this.groupbyDisplayOptions.groupbyHeader;}else{if(_6e.type=="footer"){_74=this.groupbyDisplayOptions.rowNumFooter;_75=this.groupbyDisplayOptions.rowStatusFooter;_76=this.groupbyDisplayOptions.groupbyFooter;}else{td.innerHTML="";return;}}if(this.options.rowNumVisible){this._drawGroupData(_70,_6e,_74);if(!_74.hidden){_72-=(_74.colSpan||1);}_71++;_70=this.all_data_td_list[_71];}if(this.options.rowStatusVisible){this._drawGroupData(_70,_6e,_75);if(!_75.hidden){_72-=(_75.colSpan||1);}_71++;_70=this.all_data_td_list[_71];}for(var i=0;i<_72;i++){var _78;if(_76 instanceof Array){_78=_76[i]||{};}else{if(_76 instanceof Object&&typeof _76=="object"){_78=_76["depth_"+_6e.depth][i]||{};}}this._drawGroupData(_70,_6e,_78);_71++;_70=this.all_data_td_list[_71];}};$W._a.aj.prototype._drawGroupData=function(_79,_7a,_7b){["WebSquare.uiplugin.gridViewApiController.prototype._drawGroupData"];try{var _7c=_7b["className"]||"";var _7d="gridBodyDefault w2grid_groupby w2grid_groupby_depth_"+_7a.depth+" "+_7c;_79.className=_7d;_79.innerHTML="";var _7e="&nbsp;&nbsp;";var _7f=_7b.colSpan||1;var _80=_7b.value||"";var _81=_7b.inputType||"";var _82=_7b.depthVisible||false;var _83=_7b.align||"";var _84=_7b.expression||"";var _7f=_7b.colSpan||1;var _85=_7b.hidden?"none":"";var _86=_7b.displayFormatType||"text";var _87=_7b.displayFormat||"";var _88=_7b.displayFormatter||null;var _89;_79.setAttribute("colSpan",_7f);_79.style.align="";_79.style.textAlign="";_79.style.display=_85;_79.style.borderTopWidth="1px";_79.style.borderBottomWidth="1px";if(_81){if(_87||_88){_89=new $W._C.createFormatter(_86,_87,_88);}switch(_81){case "toggleButton":var _8a=_7a.status=="open"?"w2grid_minus":"w2grid_plus";var _8b="<span class='"+_8a+"' style='display:inline-block;"+(_83?"float:"+_83+";":"")+" margin-left:"+(_7a.depth*20)+"px;'></span>";_79.innerHTML+=_8b;break;case "expression":if(_84){var _8c=this.groupbyInfo[_7a.groupId].header;var _8d=0;if(_8c.status=="open"){var _8e;var _8f=true;var _90=0;var _91=0;for(var i=_8c.index;i<this.groupbyStatus.groupedRowIndexArr.length;i++){var _93=this.groupbyStatus.groupedRowIndexArr[i];if(this.groupbyDisplayOptions.hideFooter&&_8f){_8f=false;for(var j=i+1;j<this.groupbyStatus.groupedRowIndexArr.length;j++){var _95=this.groupbyStatus.groupedRowIndexArr[j];if(_95.type=="header"){break;}else{_90=j;}}}if(this.groupbyDisplayOptions.hideFooter){if(i>=_90){_8e=i+1;break;}}else{if(_93.type=="footer"&&_93.depth==_8c.depth){_8e=_93.index;break;}}}_8d=this.groupExpression(this.groupbyStatus.groupedRowIndexArr,_8c.index,_8e,_84,_8c);}else{_8d=this.groupExpression(_8c.closedChildArr,0,_8c.closedChildArr.length-1,_84,_8c);}if(_89){_8d=_89.format(_8d);}var _96="<span style='display:inline-block;"+(_83?"float:"+_83+";":"")+"''>"+_8d+"</span>";_79.innerHTML+=_96;}default:break;}}if(_82){var _97="";if(_81!="toggleButton"){_97="margin-left: "+(_7a.depth*20)+"px";}_79.innerHTML+="<span style='display:inline-block;"+(_83?"float:"+_83+";":"")+" "+(_97?_97:"")+"'>"+_7a.groupId.wq_replaceAll(this.groupbyStatus.groupbyDepthDelimiter," - ")+"</span>";}if(_80){if(_89){_80=_89.format(_80);}_79.innerHTML+="<span style='display:inline-block;"+(_83?"float:"+_83+";":"")+"'>"+_80+"</span>";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.groupExpression=function(obfuscator_arr,obfuscator_startIndex,obfuscator_endIndex,obfuscator_expression,obfuscator_header){["WebSquare.uiplugin.gridViewApiController.prototype.groupExpression"];try{var str=obfuscator_expression;str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.groupbySum(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex,");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.groupbyAvg(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex,");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.groupbyMax(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex,");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.groupbyMin(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex,");str=str.replace(/[cC][oO][uU][nN][tT][\s]*[(]/g,"this.groupbyCount(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex");str=str.replace(/[dD][eE][pP][tT][hH][\s]*[(]/g,"this.groupbyDepth(obfuscator_header");str=str.replace(/[tT][oO][gG][gG][lL][eE][\s]*[(]/g,"this.groupbyToggle(obfuscator_header");str=str.replace(/[dD][eE][pP][tT][hH][sS][tT][rR][\s]*[(]/g,"this.groupbyDepthStr(obfuscator_header");str=eval(str);return str;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.groupbySum=function(arr,_9a,_9b,_9c){["WebSquare.uiplugin.gridViewApiController.prototype.groupbySum"];var _9d=this.getColumnIndex(_9c);var sum=0;for(var i=_9a;i<=_9b;i++){if(typeof arr[i]=="number"){sum+=parseInt(this.dataList.getCellData(arr[i],this.getColumnID(_9d),3),10)||0;}else{if(arr[i].type=="header"&&arr[i].status=="closed"){sum+=this.groupbySum(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1,_9c);}}}return sum;};$W._a.aj.prototype.groupbyAvg=function(arr,_a1,_a2,_a3){["WebSquare.uiplugin.gridViewApiController.prototype.groupbyAvg"];var _a4=this._groupbyAvg(arr,_a1,_a2,_a3);return _a4.sum/_a4.number;};$W._a.aj.prototype._groupbyAvg=function(arr,_a6,_a7,_a8){["WebSquare.uiplugin.gridViewApiController.prototype._groupbyAvg"];var _a9=this.getColumnIndex(_a8);var _aa={};_aa.sum=0;_aa.number=0;for(var i=_a6;i<=_a7;i++){if(typeof arr[i]=="number"){_aa.sum+=parseInt(this.dataList.getCellData(arr[i],this.getColumnID(_a9),3),10)||0;_aa.number++;}else{if(arr[i].type=="header"&&arr[i].status=="closed"){var _ac=this._groupbyAvg(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1,_a8);_aa.sum+=_ac.sum;_aa.number+=_ac.number;}}}return _aa;};$W._a.aj.prototype.groupbyMax=function(arr,_ae,_af,_b0){["WebSquare.uiplugin.gridViewApiController.prototype.groupbyMax"];var _b1=this.getColumnIndex(_b0);var tmp=0;var max=0;var _b4=false;for(var i=_ae;i<=_af;i++){if(typeof arr[i]=="number"){tmp=parseInt(this.dataList.getCellData(arr[i],this.getColumnID(_b1),3),10)||0;}else{if(arr[i].type=="header"&&arr[i].status=="closed"){tmp=this.groupbyMax(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1,_b0);}}if(!_b4){max=_b4=tmp;}if(_b4&&max<tmp){max=tmp;}}return max;};$W._a.aj.prototype.groupbyMin=function(arr,_b7,_b8,_b9){["WebSquare.uiplugin.gridViewApiController.prototype.groupbyMin"];var _ba=this.getColumnIndex(_b9);var tmp=0;var min;var _bd=false;for(var i=_b7;i<=_b8;i++){if(typeof arr[i]=="number"){tmp=parseInt(this.dataList.getCellData(arr[i],this.getColumnID(_ba),3),10)||0;}else{if(arr[i].type=="header"&&arr[i].status=="closed"){tmp=this.groupbyMin(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1,_b9);}}if(!_bd){min=_bd=tmp;}if(_bd&&min>tmp){min=tmp;}}return min;};$W._a.aj.prototype.groupbyToggle=function(_bf){["WebSquare.uiplugin.gridViewApiController.prototype.groupbyToggle"];var _c0=_bf.status=="open"?"w2grid_minus":"w2grid_plus";var _c1="<span class='"+_c0+"' style='display:inline-block; margin-left:"+(_bf.depth*20)+"px;'></span>";return _c1;};$W._a.aj.prototype.groupbyDepth=function(_c2){["WebSquare.uiplugin.gridViewApiController.prototype.groupbyDepth"];return _c2.depth;};$W._a.aj.prototype.groupbyDepthStr=function(_c3){["WebSquare.uiplugin.gridViewApiController.prototype.groupbyDepthStr"];return _c3.groupId.wq_replaceAll(this.groupbyStatus.groupbyDepthDelimiter," - ");};$W._a.aj.prototype.groupbyCount=function(arr,_c5,_c6){["WebSquare.uiplugin.gridViewApiController.prototype.groupbyCount"];var _c7=0;for(var i=_c5;i<=_c6&&i<arr.length;i++){if(typeof arr[i]=="number"){_c7++;}else{if(arr[i].type=="header"&&arr[i].status=="closed"&&!this.groupbyDisplayOptions.hideFooter){_c7+=this.groupbyCount(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1);}}}return _c7;};$W._a.aj.prototype.setCellOption=function(row,col,key,_cc){["WebSquare.uiplugin.gridViewApiController.prototype.setCellOption"];var _cd=this.getExtraDataObj("cell",row,col);switch(key){case "viewType":_cd.key=_cc;if(this.rowIndex>=0){this.drawCellData(row-this.rowIndex,row,col);}break;default:var _ce=$W._m.getMessage("Grid_warning4",this.id,key)||"["+this.id+"] "+key+"\uc5d0 \ub300\ud55c \ubcc0\uacbd\uc740 \ucc98\ub9ac\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.";$l(_ce);break;}};$W._a.aj.prototype.getCellOption=function(row,col,key){["WebSquare.uiplugin.gridViewApiController.prototype.getCellOption"];var _d2=this.getExtraDataObj("cell",row,col);if(_d2.key==null){return this.getCellInfo(col).options[key];}else{return _d2.key;}};$W._a.aj.prototype.ungroupColumn=function(_d3){["WebSquare.uiplugin.gridViewApiController.prototype.ungroupColumn"];try{if(this.groupbyStatus.grouped){var _d4;if(typeof _d3=="string"){_d4=this.getColumnIndex(_d3);}else{if(typeof _d3=="number"){_d4=_d3;}}var _d5=true;for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyStatus.sortIndexArr[i]==_d4){this.groupbyStatus.sortIndexArr.splice(i,1);this.groupbyStatus.sortOrderArr.splice(i,1);delete this.groupbyStatus.groupbyDepthInfoObj[this.getColumnID(_d4)];delete this.groupbyStatus.filter[this.getColumnID(_d4)];_d5=false;break;}}if(_d5){return;}if(this.groupbyStatus.sortIndexArr.length==0){this.clearGroupby();}else{var _d7=this.groupbyDisplayOptions;_d7.filter=this.groupbyStatus.filter;_d7.sortIndex=this.groupbyStatus.sortIndexArr;_d7.sortOrder=this.groupbyStatus.sortOrderArr;this.groupby(_d7);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.changeGroupDepth=function(_d8,_d9){["WebSquare.uiplugin.gridViewApiController.prototype.changeGroupDepth"];try{if(this.groupbyStatus.grouped){var _da;if(typeof _d8=="string"){_da=this.getColumnIndex(_d8);}else{if(typeof _d8=="number"){_da=_d8;}}var _db;if(typeof _d9=="string"){_db=this.getColumnIndex(_d9);}else{if(typeof _d9=="number"){_db=_d9;}}var _dc;var _dd;for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyStatus.sortIndexArr[i]==_da){_dd=i;}if(this.groupbyStatus.sortIndexArr[i]==_db){_dc=i;}}if(typeof _dd!="number"||typeof _dc!="number"||_dd==_dc){return;}this.groupbyStatus.sortIndexArr.splice(_dd,1);this.groupbyStatus.sortIndexArr.splice(_dc,0,_da);var _df=this.groupbyStatus.sortOrderArr.splice(_dd,1);this.groupbyStatus.sortOrderArr.splice(_dc,0,_df);var _e0=this.groupbyDisplayOptions;_e0.filter=this.groupbyStatus.filter;_e0.sortIndex=this.groupbyStatus.sortIndexArr;_e0.sortOrder=this.groupbyStatus.sortOrderArr;this.groupby(_e0);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.removeGroupbyFilterList=function(){["WebSquare.uiplugin.gridViewApiController.prototype.removeGroupbyFilterList"];try{if(this.groupbyFilterList&&this.groupbyFilterScrollView){this.groupbyFilterList.remove();this.groupbyFilterScrollView.remove();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.createGroupbyDepthInfo=function(_e1){["WebSquare.uiplugin.gridViewApiController.prototype.createGroupbyDepthInfo"];try{var _e2={};for(var key in this.groupbyInfo){var _e4=[key];var _e5=key.split(this.groupbyStatus.groupbyDepthDelimiter);var _e6=_e5.length-_e4.length;var _e7=_e5[_e5.length-1];if(!_e2[_e6]){_e2[_e6]=[];}if(_e2[_e6].length==0){_e2[_e6].push(_e7);}else{distinct=true;for(var i=0;i<_e2[_e6].length;i++){if(_e7==_e2[_e6][i]){distinct=false;break;}}if(distinct){_e2[_e6].push(_e7);_e2[_e6].sort();}}}return _e2[_e1];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.isEditing=function(){["WebSquare.uiplugin.gridViewApiController.prototype.isEditing"];try{return !!this.editedCell;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.readExcelFile=function(_e9,_ea,_eb,_ec,_ed,_ee,_ef,_f0){["WebSquare.uiplugin.gridViewApiController.prototype.readExcelFile"];this.readFile(_e9,_ea,_eb,_ec,_ed,"excel",null,_ee,_ef,_f0);};$W._a.aj.prototype.readFile=function(_f1,_f2,_f3,_f4,_f5,_f6,_f7,_f8,_f9,_fa){["WebSquare.uiplugin.gridViewApiController.prototype.readExcelFile"];if(typeof _f4=="undefined"||typeof _f4!="string"){_f4=this.options.excelUploadPopupURL;}else{_f4=$W._N.getURL(_f4);}if(typeof _f5=="undefined"||typeof _f5!="string"){_f5="top=280,height=80,left=160,width=400,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";}_f1=parseInt(_f1,10);_f2=parseInt(_f2,10);_f3=parseInt(_f3,10);if(_f1==1){_f4+="?header=true";}else{_f4+="?header=false";}if(_f2==1){_f4+="&append=true";}else{_f4+="&append=false";}if(_f8==1){_f4+="&fillHidden=true";}else{_f4+="&fillHidden=false";}if(_f3==1){_f4+="&hidden=true";}else{_f4+="&hidden=false";}_fa=_fa||0;if(_fa==1){_f4+="&type=true";}else{_f4+="&type=false";}if(_f7){_f4+="&"+_f7;}if(_f6=="excel"){_f4+="&action="+this.options.excelUploadURL;}else{_f4+="&action="+this.options.excelUploadURL;}_f4+="&gridID="+this.id;var _fb=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){_fb.push(i-this.defaultColCnt);}}_f4+="&columnNum="+this.getTotalCol();_f4+="&expressionColumns="+this.getExpressionColumnArr().join(",");_f4+="&hiddenColumns="+_fb.join(",");_f4+="&headerRows="+this.getElementById(this.id+"_head_table").rows.length;if(_f9){_f4+="&gridStartRow="+_f9;}else{_f4+="&gridStartRow=1";}if($W.domain){_f4+="&domain="+$W._A.URLEncoder($W.domain);}var _fd=window.open(_f4,"fileupWindow",_f5);};$W._a.aj.prototype.getExpressionColumnArr=function(){var _fe=[];for(var i=0;i<this.getTotalCol();i++){if(this.getCellInfo(i).options.inputType=="expression"){_fe.push("true");}else{_fe.push("false");}}return _fe;};$W._a.aj.prototype.saveExcelFile=function(_100,_101,_102,type,_104,_105,_106){["WebSquare.uiplugin.gridViewApiController.prototype.saveExcelFile"];var _107={};_107.fileName=_100;_107.hidden=_101;_107.checkButton=_102;_107.type=type;_107.hiddenExpand=_104;_107.saveList=_105;_107.useEuroLocale=_106;this.saveExcel(_107);};$W._a.aj.prototype.saveExcel=function(_108){["WebSquare.uiplugin.gridViewApiController.prototype.saveExcel"];var _109=_108.processMsg;if(_109&&_109.length>0){$W.layer.showProcessMessage(_109);}else{$W.layer.showProcessMessage("download...");}var _10a=_108.fileName||"default";var _10b=_108.hidden||0;var _10c=_108.checkButton||0;var type=_108.type+""||"0";var _10e=_108.hiddenExpand||0;var _10f=_108.saveList||[];var _110=_108.useEuroLocale||"false";var _111=_108.password||"";var hash=new $W._q.Hashtable();var _113=$W._B.getElementsByTagName(this.element,"w2:header");var _114=_113[0];var _115=$W._B.getElementsByTagName(_114,"w2:column");for(var i=0;i<_115.length;i++){var col=_115[i];var _118=col.getAttribute("id");col.setAttribute("value",this.getHeaderValue(_118));}hash.put("style",$W._B.serialize(this.element));if(type=="0"||type==""){hash.put("data",this.getExcelAllXML());hash.put("footer_data",this.getExcelAllFooterXML());}else{if(type=="2"){var _119=this.getExcelAllXMLRaw();hash.put("data",_119);hash.put("footer_data",this.getExcelAllFooterXMLRaw());}else{var _119=this.getExcelAllXMLDisplay();hash.put("data",_119);hash.put("footer_data",this.getExcelAllFooterXMLDisplay());}}var _11a=[];for(var i=0;i<this.getTotalCol();i++){var _11b=this.getCellInfo(i).options.inputType;if(_11b=="checkbox"||_11b=="radio"||_11b=="button"){_11a.push("\""+i+"\"");}}hash.put("hiddenArr",this.getHiddenColumnArr());hash.put("fileName",_10a);hash.put("hidden",_10b);hash.put("checkButton",_10c);hash.put("type",type);hash.put("rowNumVisible",this.options.rowNumVisible+"");hash.put("rowNumHeaderValue",this.options.rowNumHeaderValue);hash.put("hiddenExpand",_10e);hash.put("checkButtonArr","<array><![CDATA[["+_11a.join(",")+"]]]></array>");if(typeof _10f!="undefined"&&_10f){hash.put("saveList","<array><![CDATA[[\""+_10f.join("\",\"")+"\"]]]></array>");}hash.put("useEuroLocale",_110);hash.put("password",_111);$W._N.excelDownload(this.options.excelDownloadURL,hash.toString(),"post");};$W._a.aj.prototype.saveExcelFile2=function(_11c,_11d,_11e,type,_120,_121){["WebSquare.uiplugin.gridViewApiController.prototype.saveExcelFile2"];var _122={};_122.fileName=_11c;_122.type=type;if(_11d+""=="0"){var _123=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]){_123.push(i-this.defaultColCnt);}}_122.removeColumns=_123.join(",");}var _125=[];if(_11e+""=="0"){for(var i=0;i<this.getTotalCol();i++){var _126=this.getCellInfo(i).options.inputType;if(_126=="checkbox"||_126=="radio"||_126=="button"){_125.push(this.getCellInfo(i).options.colIndex-this.defaultColCnt);}}}for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(_11d+""=="1"&&_120+""=="0"&&this.hiddenList[i]==true){_125.push(i-this.defaultColCnt);}}_122.foldColumns=_125.join(",");this.advancedExcelDownload(_122);};$W._a.aj.prototype.getHiddenColumnArr=function(){var _127=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){_127.push(this.hiddenList[i]);}return "<array><![CDATA[[\""+_127.join("\",\"")+"\"]]]></array>";};$W._a.aj.prototype.fireFileReadEnd=function(_129){var _12a=this;setTimeout(function(){$W._c.fireEvent(_12a,"onfilereadend",_129);},10);};$W._a.aj.prototype.readCSV=function(_12b){["WebSquare.uiplugin.gridViewApiController.prototype.readCSV"];var _12b=_12b||{};var type=_12b.type||"1";var _12d=_12b.delim||",";var _12e=_12b.escapeChar||"";var _12f=_12b.header||"1";var _130=_12b.footer||"1";var _131=_12b.startRowIndex||"0";var _132=_12b.startColumnIndex||"0";var _133=_12b.append||"0";var _134=_12b.hidden||"0";var _135=_12b.fillHidden||"0";var _136=_12b.skipSpace||"0";var _137=_12b.removeColumns||"";var _138=_12b.optionParam||"";var _139=_12b.popupUrl||this.options.csvUploadPopupURL;var _13a=_12b.processMsg||"";var _13b=this.options.dataList||"";var _13c=_12b.expression||"1";if(typeof sFeatures=="undefined"||typeof sFeatures!="string"){sFeatures="top=280,height=137,left=160,width=446,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";}_12f=parseInt(_12f,10);_133=parseInt(_133,10);_134=parseInt(_134,10);type=type||0;if(type==1){_139+="?type=true";}else{_139+="?type=false";}_139+="&delim="+_12d;_139+="&escapeChar="+_12e;if(_12f==1){_139+="&header=true";}else{_139+="&header=false";}if(_130==1){_139+="&footer=true";}else{_139+="&footer=false";}if(_133==1){_139+="&append=true";}else{_139+="&append=false";}if(_134==1){_139+="&hidden=true";}else{_139+="&hidden=false";}if(_135==1){_139+="&fillHidden=true";}else{_139+="&fillHidden=false";}if(_136==1){_139+="&skipSpace=true";}else{_139+="&skipSpace=false";}_139+="&removeColumns="+_137;if(_138){_139+="&"+_138;}_139+="&gridID="+this.id;var _13d=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){_13d.push(i-this.defaultColCnt);}}_139+="&columnNum="+this.getTotalCol();_139+="&expressionColumns="+this.getExpressionColumnArr().join(",");_139+="&hiddenColumns="+_13d.join(",");_139+="&headerRows="+this.getElementById(this.id+"_head_table").rows.length;if(_131){_139+="&gridStartRow="+_131;}else{_139+="&gridStartRow=1";}if(_132){_139+="&gridStartCol="+_132;}else{_139+="&gridStartCol=1";}if($W.domain){_139+="&domain="+$W._A.URLEncoder($W.domain);}_139+="&action="+this.options.csvUploadURL;_139+="&processMsg="+$W._A.BASE64URLEncoder(_13a);_139+="&dataList="+_13b;_139+="&columnIds="+this.cellIdList.join(",");if(_13c==1){_139+="&expression=false";}else{_139+="&expression=true";}var _13f=window.open(_139,"csvupWindow",sFeatures);};$W._a.aj.prototype.saveCSV=function(_140){["WebSquare.uiplugin.gridViewApiController.prototype.saveCSV"];$W.layer.showProcessMessage("download...");var _140=_140||{};var _141=_140.fileName||"csvfile.csv";var type=_140.type||"1";var _143=_140.delim||";";var _144=_140.removeColumns||"";var _145=_140.header||"1";var _146=_140.hidden||"0";var _147=_140.checkButton||"1";var _148=_140.removeQuotation||"1";var _149=_140.saveList||"";var _14a=((_140.columnMove+"")=="true")?true:false;var _14b=_140.columnOrder||"";var hash=new $W._q.Hashtable();hash.put("style",$W._B.serialize(this.element));if(type=="0"){hash.put("data",this.getExcelAllXML());hash.put("footer_data",this.getExcelAllFooterXML());}else{hash.put("data",this.getExcelAllXMLDisplay());hash.put("footer_data",this.getExcelAllFooterXMLDisplay());}var _14d=[];for(var i=0;i<this.getTotalCol();i++){var _14f=this.getCellInfo(i).options.inputType;if(_14f=="checkbox"||_14f=="radio"||_14f=="button"){_14d.push("\""+i+"\"");}}var _150;if(_14a){if(_14b==""){_150=this.getColumnOrder()||"";}else{_150=_14b.split(",");}}var _151=[];if(_144!=""){_144=_144+"";var _152=_144.split(",");if(_14a){for(var i=0;i<_152.length;i++){for(var j=0;j<_150.length;j++){if(_152[i]==_150[j]){_151.push(j);}}}}else{_151=_152;}_151.sort(function(a,b){return ((a*1)-(b*1));});_144=_151.join(",");}var _156=_144;_156="\""+_156.wq_replaceAll(",","\",\"")+"\"";hash.put("hiddenArr",this.getHiddenColumnArr());hash.put("fileName",_141);hash.put("hidden",_146);hash.put("checkButton",_147);hash.put("type",type);hash.put("rowNumVisible",this.options.rowNumVisible);hash.put("rowNumHeaderValue",this.options.rowNumHeaderValue);hash.put("removeQuotation",_148);hash.put("delim",_143);hash.put("header",_145);hash.put("columnMove",_14a);hash.put("columnOrder",_150);hash.put("checkButtonArr","<array><![CDATA[["+_14d.join(",")+"]]]></array>");if(_149!=""){hash.put("saveList","<array><![CDATA[[\""+_149.join("\",\"")+"\"]]]></array>");}hash.put("removeColumns","<array><![CDATA[["+_156+"]]]></array>");$W._N.excelDownload(this.options.csvDownloadURL,hash.toString(),"post");};$W._a.aj.prototype.saveCSVFile=function(_157,_158,_159,_15a,_15b,_15c,type,_15e,_15f){["WebSquare.uiplugin.gridViewApiController.prototype.saveCSVFile"];$W.layer.showProcessMessage("download...");type+="";var hash=new $W._q.Hashtable();hash.put("style",$W._B.serialize(this.element));if(type=="0"||type==""){hash.put("data",this.getExcelAllXML());hash.put("footer_data",this.getExcelAllFooterXML());}else{hash.put("data",this.getExcelAllXMLDisplay());hash.put("footer_data",this.getExcelAllFooterXMLDisplay());}var _161=[];for(var i=0;i<this.getTotalCol();i++){var _163=this.getCellInfo(i).options.inputType;if(_163=="checkbox"||_163=="radio"||_163=="button"){_161.push("\""+i+"\"");}}var _164=_15f||"";_164="\""+_164.wq_replaceAll(",","\",\"")+"\"";hash.put("hiddenArr",this.getHiddenColumnArr());hash.put("fileName",_157);hash.put("hidden",_15a);hash.put("checkButton","1");hash.put("type",type);hash.put("rowNumVisible",this.options.rowNumVisible);hash.put("rowNumHeaderValue",this.options.rowNumHeaderValue);hash.put("removeQuotation",_15c);hash.put("delim",_158);hash.put("header",_159);hash.put("checkButtonArr","<array><![CDATA[["+_161.join(",")+"]]]></array>");if(typeof _15e!="undefined"&&_15e){hash.put("saveList","<array><![CDATA[[\""+_15e.join("\",\"")+"\"]]]></array>");}hash.put("removeColumns","<array><![CDATA[["+_164+"]]]></array>");$W._N.excelDownload(this.options.csvDownloadURL,hash.toString(),"post");};$W._a.aj.prototype.getExcelUploadInfo=function(_165){["WebSquare.uiplugin.gridViewApiController.prototype.getExcelUploadInfo"];var _166={};var _165=_165||{};var _167=_165.fileName||"";var type=_165.type||"0";var _169="excel";var _16a=_165.removeColumns||"";var _16b=_165.foldColumns||"";var _16c=_165.startRowIndex||"0";var _16d=_165.startColumnIndex||"0";var _16e=_165.endColumnIndex||"-1";var _16f=_165.sheetNo||"0";var _170=_165.headerExist||"0";if(_165.footerExist===0){_165.footerExist="0";}var _171=_165.footerExist||"1";var _172=_165.append||"0";var _173=_165.hidden||"0";var _174=_165.fillHidden||"0";var _175=_165.popupUrl||this.options.advancedExcelUploadPopupURL;var _176=_165.optionParam||"";var _177=_165.skipSpace||"0";var _178=_165.insertColumns||[];var _179=_165.processMsg||"";var _17a=this.options.dataList||"";var _17b=_165.status||"R";var _17c=_165.delim||",";var _17d="";var sep="";var _17f="";var pwd=_165.pwd||"";for(var i=0;i<_178.length;i++){var _182=_178[i];var _183=_182.columnIndex+""||"";var _184=_182.columnValue+""||"";if(_183!=""){_17d=_17d+sep+_183+","+_184;sep="|";}}if(typeof _165.features=="undefined"||typeof _165.features!="string"){_17f="top=280,height=137,left=160,width=446,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";}else{_17f=_165.features;}_166.sFeatures=_17f;_170=parseInt(_170,10);_172=parseInt(_172,10);_173=parseInt(_173,10);_171=parseInt(_171,10);if(_170==1){_166.header="true";}else{_166.header="false";}if(_171==1){_166.footer="true";}else{_166.footer="false";}if(_172==1){_166.append="true";}else{_166.append="false";}_166.removeColumns=_16a;if(_174==1){_166.fillHidden="true";}else{_166.fillHidden="false";}if(_173==1){_166.hidden="true";}else{_166.hidden="false";}if(type==1){_166.type="true";}else{_166.type="false";}if(_177==1){_166.skipSpace="true";}else{_166.skipSpace="false";}_166.insertColumns=_17d;if(_176){_166.optionParam=_176;}if(_169=="excel"){_166.action=this.options.advancedExcelUploadURL;}else{_166.action=this.options.advancedExcelUploadURL;}_166.gridID=this.id;var _185=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){_185.push(i-this.defaultColCnt);}}_166.columnNum=this.getTotalCol();_166.expressionColumns=this.getExpressionColumnArr().join(",");_166.hiddenColumns=_185.join(",");_166.headerRows=this.getElementById(this.id+"_head_table").rows.length;if(_16c){_166.gridStartRow=_16c;}else{_166.gridStartRow="1";}if(_16d){_166.gridStartCol=_16d;}else{_166.gridStartCol="1";}_166.gridEndCol=_16e;if(_16f){_166.gridSheetNo=_16f;}else{_166.gridSheetNo="0";}if($W.domain){_166.domain=$W._A.URLEncoder($W.domain);}_166.processMsg=$W._A.BASE64URLEncoder(_179);_166.delim=_17c;_166.dataList=_17a;_166.columnIds=this.cellIdList.join(",");_166.status=_17b;_166.pwd=pwd;return _166;};$W._a.aj.prototype.advancedExcelUpload=function(_186){["WebSquare.uiplugin.gridViewApiController.prototype.advancedExcelUpload"];var _187=this.getExcelUploadInfo(_186);var _188=_186.popupUrl||this.options.advancedExcelUploadPopupURL;var _189="";_188+="?header="+_187.header;_188+="&footer="+_187.footer;_188+="&append="+_187.append;_188+="&removeColumns="+_187.removeColumns;_188+="&fillHidden="+_187.fillHidden;_188+="&hidden="+_187.hidden;_188+="&type="+_187.type;_188+="&skipSpace="+_187.skipSpace;_188+="&insertColumns="+_187.insertColumns;if(_187.optionParam){_188+="&"+_187.optionParam;}_188+="&action="+_187.action;_188+="&gridID="+_187.gridID;_188+="&columnNum="+_187.columnNum;_188+="&expressionColumns="+_187.expressionColumns;_188+="&hiddenColumns="+_187.hiddenColumns;_188+="&headerRows="+_187.headerRows;_188+="&gridStartRow="+_187.gridStartRow;_188+="&gridStartCol="+_187.gridStartCol;_188+="&gridEndCol="+_187.gridEndCol;_188+="&gridSheetNo="+_187.gridSheetNo;if($W.domain){_188+="&domain="+_187.domain;}_188+="&processMsg="+_187.processMsg;_188+="&delim="+_187.delim;_188+="&dataList="+_187.dataList;_188+="&columnIds="+_187.columnIds;_188+="&status="+_187.status;_189=encodeURIComponent($W._A.BASE64Encoder(_187.pwd));_188+="&pwd="+_189;var _18a=window.open(_188,"fileupWindow",_187.sFeatures);};$W._a.aj.prototype.advancedExcelDownload=function(_18b,_18c){["WebSquare.uiplugin.gridViewApiController.prototype.advancedExcelDownload"];try{if(this._dataList.options.depthColumn&&_18b.spanAll=="true"){this.orgStatusArr=this.drilldown.statusArr;this.orgFilteredRowIndexArr=this._dataList.filteredRowIndexArr;this.orgShowDepth=this.showDepth;this.showDepth="9999";this.initDrilldown();}var _18d=100;var _18e=parseInt(_18b.rowsByN);_18b.rowsByN=_18e>_18d?_18e:_18d;_18b.dataLength=this.getDataLength();_18b.multiexcel=false;_18b.dataProvider=_18b.dataProvider||"";switch(_18b.type+""){case "":case "0":_18b.type=0;break;case "2":_18b.type=2;break;default:_18b.type=1;}if(_18b.showProcess===false){$W.getBody().showModal("w2modal_gridDownload");}else{if(_18b.showConfirm===true){_18b.massStorage=true;window["downloadGridId"]=this.id;$W.getBody().showModal();this.showSendExcelLayer();}else{var _18f=_18b.processMsg;if(_18f&&_18f.length>0){$W.layer.showProcessMessage(_18f);}else{$W.layer.showProcessMessage("download...");}}}if(_18b.type===0||_18b.type===1){_18b.cellInfo=[];_18b.isPlainDataCol=[];_18b.isSelectCol=[];_18b.isBasicCol=[];_18b.isExpCol=[];_18b.isCustomCol=[];var _190=this.oneRowDataLength;for(var i=0;i<_190;i++){var _192=this.getCellInfo(i);var _193=_192.options.inputType;_18b.cellInfo[i]=_192;_18b.isPlainDataCol[i]=_193==="checkbox"||_193==="image"||_193==="radio";_18b.isSelectCol[i]=_193==="select"||_193==="checkcombobox"||_193==="autoComplete";_18b.isExpCol[i]=_193==="expression";_18b.isCustomCol[i]=_192.useCustomFormatter;_18b.isBasicCol[i]=!_18b.isPlainDataCol[i]&&!_18b.isSelectCol[i]&&!_18b.isExpCol[i]&&!_18b.isCustomCol[i];}}var _194=this;var _195=0;var _196=[];if(_18b.multiexcel=false){this.makeExcelData(_195,_196,_18b,_18c);}else{var hash=this.makeExcelData(_195,_196,_18b,_18c);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.showSendExcelLayer=function(){if(typeof window["gridExceldownloadIframe"]!="undefined"){window["gridExceldownloadIframe"].style.visibility="hidden";window["gridExceldownloadIframe"].style.display="block";var nTop=$W.document.documentElement.scrollTop+$W.document.documentElement.clientHeight/2-parseInt(window["gridExceldownloadIframe"].offsetHeight)/2;var _199=$W.document.documentElement.scrollLeft+$W.document.documentElement.clientWidth/2-parseInt(window["gridExceldownloadIframe"].offsetWidth)/2;window["gridExceldownloadIframe"].style.left=_199+"px";window["gridExceldownloadIframe"].style.top=nTop+"px";window["gridExceldownloadIframe"].style.visibility="visible";window["gridExceldownloadIframe"].contentWindow.initialize();}else{window["gridExceldownloadIframe"]=$W.document.createElement("iframe");window["gridExceldownloadIframe"].style.visibility="hidden";window["gridExceldownloadIframe"].setAttribute("id","gridDownLoadLayer");window["gridExceldownloadIframe"].setAttribute("src",this.options.advancedExcelDownloadPopupURL);window["gridExceldownloadIframe"].setAttribute("frameBorder","0");window["gridExceldownloadIframe"].className="w2grid_downloadIframe";$W.document.body.appendChild(window["gridExceldownloadIframe"]);var nTop=$W.document.documentElement.scrollTop+$W.document.documentElement.clientHeight/2-parseInt(window["gridExceldownloadIframe"].offsetHeight)/2;var _199=$W.document.documentElement.scrollLeft+$W.document.documentElement.clientWidth/2-parseInt(window["gridExceldownloadIframe"].offsetWidth)/2;window["gridExceldownloadIframe"].style.left=_199+"px";window["gridExceldownloadIframe"].style.top=nTop+"px";window["gridExceldownloadIframe"].style.position="absolute";window["gridExceldownloadIframe"].style.visibility="visible";}};$W._a.aj.prototype.checkUpload=function(){var _19a=this;setTimeout(function(){if(_19a.downloadInit==true){window["gridExceldownloadIframe"].contentWindow.checkUpload("end");}else{_19a.checkUpload();}},10);};$W._a.aj.prototype.sendExcelData=function(_19b,_19c,_19d){if(typeof _19b.useFooter=="boolean"){_19b.useFooter=_19b.useFooter+"";}var _19e=_19b.fileName||"excel";var _19f=_19b.sheetName||"sheet";var type=_19b.type||"0";var _1a1=_19b.removeColumns||"";var _1a2=_19b.removeHeaderRows||"";var _1a3=_19b.foldColumns||"";var _1a4=_19b.startRowIndex||"0";var _1a5=_19b.startColumnIndex||"0";var _1a6=_19b.headerColor||"";var _1a7=_19b.headerFontName||"";var _1a8=_19b.headerFontSize||"";var _1a9=_19b.headerFontColor||"";var _1aa=_19b.bodyColor||"";var _1ab=_19b.bodyFontName||"";var _1ac=_19b.bodyFontSize||"";var _1ad=_19b.bodyFontColor||"";var _1ae=_19b.footerColor||"";var _1af=_19b.footerFontName||"";var _1b0=_19b.footerFontSize||"";var _1b1=_19b.footerFontColor||"";var _1b2=_19b.subTotalColor||"";var _1b3=_19b.subTotalFontName||"";var _1b4=_19b.subTotalFontSize||"";var _1b5=_19b.subTotalFontColor||"";var _1b6=_19b.rowNumHeaderColor||"";var _1b7=_19b.rowNumHeaderFontName||"";var _1b8=_19b.rowNumHeaderFontSize||"";var _1b9=_19b.rowNumHeaderFontColor||"";var _1ba=_19b.rowNumBodyColor||"";var _1bb=_19b.rowNumBodyFontName||"";var _1bc=_19b.rowNumBodyFontSize||"";var _1bd=_19b.rowNumBodyFontColor||"";var _1be=_19b.rowNumFooterColor||"";var _1bf=_19b.rowNumFooterFontName||"";var _1c0=_19b.rowNumFooterFontSize||"";var _1c1=_19b.rowNumFooterFontColor||"";var _1c2=_19b.rowNumSubTotalColor||"";var _1c3=_19b.rowNumSubTotalFontName||"";var _1c4=_19b.rowNumSubTotalFontSize||"";var _1c5=_19b.rowNumSubTotalFontColor||"";var _1c6=_19b.dataProvider||"";var _1c7=_19b.providerRequestXml||"";var _1c8=_19b.userDataXml||"";var _1c9=_19b.bodyWordwrap||"";var _1ca=_19b.useEuroLocale||"false";var _1cb=_19b.useHeader||"true";var _1cc=_19b.useSubTotal||"false";var _1cd=_19b.useFooter||"true";_19b.printSet=_19b.printSet||{};var _1ce=_19b.printSet.fitToPage||"false";var _1cf=_19b.printSet.landScape||"false";var _1d0=_19b.printSet.fitWidth||"1";var _1d1=_19b.printSet.fitHeight||"1";var _1d2=_19b.printSet.scale||"100";var _1d3=_19b.printSet.pageSize||"A4";var _1d4=_19b.separator||",";var _1d5=_19b.subTotalScale||-1;var _1d6=_19b.subTotalRoundingMode||"";var _1d7=((_19b.useStyle+"")=="true")?true:false;var _1d8=_19b.freezePane||"";var _1d9=_19b.autoSizeColumn||"false";var _1da=_19b.displayGridlines||"";var _1db=_19b.colMerge||"false";var _1dc=_19b.useDataFormat||"false";var _1dd=((_19b.useSubTotalData+"")=="true")?true:false;var _1de=((_19b.useFooterData+"")=="true")?true:false;var _1df=((_19b.columnMove+"")=="true")?true:false;var _1e0=_19b.columnOrder||"";var _1e1=_19b.oddRowBackgroundColor||"";var _1e2=_19b.evenRowBackgroundColor||"";var _1e3=_19b.indent||"0";var _1e4=this.options.rowNumHeaderValue||"";var _1e5=_19b.rowNumVisible||"false";var _1e6=this.options.startRowNumber||"1";var _1e7=_19b.bodyNumberDefaultValue||"";var _1e8;if(_1df){if(_1e0==""){_1e8=this.getColumnOrder()||"";}else{_1e8=_1e0.split(",");}}var _1e9=[];if(_1a1!=""){_1a1=_1a1+"";var _1ea=_1a1.split(",");if(_1df){for(var i=0;i<_1ea.length;i++){for(var j=0;j<_1e8.length;j++){if(_1ea[i]==_1e8[j]){_1e9.push(j);}}}}else{_1e9=_1ea;}_1e9.sort(function(a,b){return ((a*1)-(b*1));});_1a1=_1e9.join(",");}var _1ef=this.element;var _1f0=$W._B.getElementsByTagName(this.element,"w2:header");var _1f1=_1f0[0];var _1f2=$W._B.getElementsByTagName(_1f1,"w2:column");for(var i=0;i<_1f2.length;i++){var col=_1f2[i];var _1f4=col.getAttribute("id");col.setAttribute("value",this.getHeaderValue(_1f4));}if(this.options.pluginName=="gridView"){var _1f5=$W._B.getElementsByTagName(this.element,"w2:gBody");var _1f6=_1f5[0];var _1f2=$W._B.getElementsByTagName(_1f6,"w2:column");for(var i=0;i<_1f2.length;i++){var col=_1f2[i];var _1f4=col.getAttribute("col_id");col.setAttribute("dataType",this._dataList.getColumnOption(_1f4,"dataType"));}}var _1f7=[];_1f7.push("<vector result='1'>");_1f7.push("<data vectorkey='0'><hashtable>");_1f7.push("<data hashkey='style'>"+$W._B.serialize(this.element)+"</data>");_1f7.push("<data hashkey='data'>"+_19d+"</data>");if(this.startedDisplayNone||this.resizeObj.width==0||this.resizeObj.height==0){this.drawFooter();}_1f7.push("<data hashkey='groupby' value='"+this.groupbyStatus.grouped+"'/>");if(_19b.groupby&&this.groupbyStatus.grouped){_1f7.push("<data hashkey='groupbyStyle'>"+this.getExcelGroupbyStyle()+"</data>");_1f7.push("<data hashkey='groupbyHeaderValue'>"+this.getExcelGroupbyHeaderValue()+"</data>");_1f7.push("<data hashkey='groupbyFooterValue'>"+this.getExcelGroupbyFooterValue()+"</data>");_1f7.push("<data hashkey='groupbyStatusValue'>"+this.getExcelGroupbyStatusValue()+"</data>");_1f7.push("<data hashkey='groupbyStyleData'>"+this.getExcelGroupbyStyleData()+"</data>");_1f7.push("<data hashkey='rowNumVisible' value='"+this.options.rowNumVisible+"'/>");_1f7.push("<data hashkey='rowStatusVisible' value='"+this.options.rowStatusVisible+"'/>");}if(type==0){_1f7.push("<data hashkey='footer_data'>"+this.getExcelAllFooterXML(_1d4)+"</data>");}else{if(type==1){_1f7.push("<data hashkey='footer_data'>"+this.getExcelAllFooterXMLDisplay(_1d4)+"</data>");}else{_1f7.push("<data hashkey='footer_data'>"+this.getExcelAllFooterXMLRaw(_1d4)+"</data>");}}_1f7.push("<data hashkey='fileName' value='"+_19e+"'/>");_1f7.push("<data hashkey='sheetName' value='"+_19f+"'/>");_1f7.push("<data hashkey='stRowIndex' value='"+_1a4+"'/>");_1f7.push("<data hashkey='stColIndex' value='"+_1a5+"'/>");_1f7.push("<data hashkey='removeColumns' value='"+_1a1+"'/>");_1f7.push("<data hashkey='removeHeaderRows' value='"+_1a2+"'/>");_1f7.push("<data hashkey='foldColumns' value='"+_1a3+"'/>");_1f7.push("<data hashkey='headerColor' value='"+_1a6+"'/>");_1f7.push("<data hashkey='headerFontName' value='"+_1a7+"'/>");_1f7.push("<data hashkey='headerFontSize' value='"+_1a8+"'/>");_1f7.push("<data hashkey='headerFontColor' value='"+_1a9+"'/>");_1f7.push("<data hashkey='bodyColor' value='"+_1aa+"'/>");_1f7.push("<data hashkey='bodyFontName' value='"+_1ab+"'/>");_1f7.push("<data hashkey='bodyFontSize' value='"+_1ac+"'/>");_1f7.push("<data hashkey='bodyFontColor' value='"+_1ad+"'/>");_1f7.push("<data hashkey='footerColor' value='"+_1ae+"'/>");_1f7.push("<data hashkey='footerFontName' value='"+_1af+"'/>");_1f7.push("<data hashkey='footerFontSize' value='"+_1b0+"'/>");_1f7.push("<data hashkey='footerFontColor' value='"+_1b1+"'/>");_1f7.push("<data hashkey='subTotalColor' value='"+_1b2+"'/>");_1f7.push("<data hashkey='subTotalFontName' value='"+_1b3+"'/>");_1f7.push("<data hashkey='subTotalFontSize' value='"+_1b4+"'/>");_1f7.push("<data hashkey='subTotalFontColor' value='"+_1b5+"'/>");if(_1e5=="true"){_1f7.push("<data hashkey='rowNumHeaderColor' value='"+_1b6+"'/>");_1f7.push("<data hashkey='rowNumHeaderFontName' value='"+_1b7+"'/>");_1f7.push("<data hashkey='rowNumHeaderFontSize' value='"+_1b8+"'/>");_1f7.push("<data hashkey='rowNumHeaderFontColor' value='"+_1b9+"'/>");_1f7.push("<data hashkey='rowNumBodyColor' value='"+_1ba+"'/>");_1f7.push("<data hashkey='rowNumBodyFontName' value='"+_1bb+"'/>");_1f7.push("<data hashkey='rowNumBodyFontSize' value='"+_1bc+"'/>");_1f7.push("<data hashkey='rowNumBodyFontColor' value='"+_1bd+"'/>");_1f7.push("<data hashkey='rowNumFooterColor' value='"+_1be+"'/>");_1f7.push("<data hashkey='rowNumFooterFontName' value='"+_1bf+"'/>");_1f7.push("<data hashkey='rowNumFooterFontSize' value='"+_1c0+"'/>");_1f7.push("<data hashkey='rowNumFooterFontColor' value='"+_1c1+"'/>");_1f7.push("<data hashkey='rowNumSubTotalColor' value='"+_1c2+"'/>");_1f7.push("<data hashkey='rowNumSubTotalFontName' value='"+_1c3+"'/>");_1f7.push("<data hashkey='rowNumSubTotalFontSize' value='"+_1c4+"'/>");_1f7.push("<data hashkey='rowNumSubTotalFontColor' value='"+_1c5+"'/>");}_1f7.push("<data hashkey='dataProvider' value='"+_1c6+"'/>");_1f7.push("<data hashkey='providerRequestXml' value=''>"+_1c7+"</data>");_1f7.push("<data hashkey='userDataXml' value=''>"+_1c8+"</data>");_1f7.push("<data hashkey='bodyWordwrap' value='"+_1c9+"'/>");_1f7.push("<data hashkey='useEuroLocale' value='"+_1ca+"'/>");_1f7.push("<data hashkey='useHeader' value='"+_1cb+"'/>");_1f7.push("<data hashkey='useSubTotal' value='"+_1cc+"'/>");_1f7.push("<data hashkey='useFooter' value='"+_1cd+"'/>");_1f7.push("<data hashkey='fitToPage' value='"+_1ce+"'/>");_1f7.push("<data hashkey='landScape' value='"+_1cf+"'/>");_1f7.push("<data hashkey='fitWidth' value='"+_1d0+"'/>");_1f7.push("<data hashkey='fitHeight' value='"+_1d1+"'/>");_1f7.push("<data hashkey='scale' value='"+_1d2+"'/>");_1f7.push("<data hashkey='pageSize' value='"+_1d3+"'/>");_1f7.push("<data hashkey='separator' value='"+_1d4+"'/>");_1f7.push("<data hashkey='subTotalScale' value='"+_1d5+"'/>");_1f7.push("<data hashkey='subTotalRoundingMode' value='"+_1d6+"'/>");_1f7.push("<data hashkey='useStyle' value='"+_1d7+"'/>");_1f7.push("<data hashkey='freezePane' value='"+_1d8+"'/>");_1f7.push("<data hashkey='autoSizeColumn' value='"+_1d9+"'/>");_1f7.push("<data hashkey='displayGridlines' value='"+_1da+"'/>");_1f7.push("<data hashkey='colMerge' value='"+_1db+"'/>");_1f7.push("<data hashkey='useDataFormat' value='"+_1dc+"'/>");_1f7.push("<data hashkey='useSubTotalData' value='"+_1dd+"'/>");_1f7.push("<data hashkey='useFooterData' value='"+_1de+"'/>");_1f7.push("<data hashkey='columnMove' value='"+_1df+"'/>");_1f7.push("<data hashkey='columnOrder' value='"+_1e8+"'/>");_1f7.push("<data hashkey='oddRowBgColor' value='"+_1e1+"'/>");_1f7.push("<data hashkey='evenRowBgColor' value='"+_1e2+"'/>");_1f7.push("<data hashkey='indent' value='"+_1e3+"'/>");_1f7.push("<data hashkey='rowNumHeaderValue' value='"+_1e4+"'/>");_1f7.push("<data hashkey='rowNumVisible' value='"+_1e5+"'/>");_1f7.push("<data hashkey='startRowNumber' value='"+_1e6+"'/>");_1f7.push("<data hashkey='bodyNumberDefaultValue' value='"+_1e7+"'/>");if(_1d7){_1f7.push("<data hashkey='styleData'><array><![CDATA[["+this._getExcelStyle(_19b)+"]]]></array></data>");}if(_1dd){_1f7.push("<data hashkey='subtotalData'><array><![CDATA[["+this._getExcelSubtotalData(_1d4)+"]]]></array></data>");}var _1f8=new $W._q.Vector();if(_19c==null||typeof _19c=="undefined"){_19c=[];}_1f7.push("<data hashkey='information'><vector result='"+_19c.length+"'>");for(var i=0;i<_19c.length;i++){var obj=_19c[i];_1f7.push("<data vectorkey='"+i+"'><hashtable>");for(var prop in obj){_1f7.push("<data hashkey='"+prop+"' value='"+obj[prop]+"'/>");}_1f7.push("</hashtable></data>");}_1f7.push("</vector></data>");if(_19b.multiexcel==false){_1f7.push("</hashtable></data>");_1f7.push("</vector>");$W._N.excelDownload(this.options.advancedExcelDownloadURL,_1f7.join(""),"post");if(this._dataList.options.depthColumn&&_19b.spanAll=="true"){this.drilldown.statusArr=this.orgStatusArr;this._dataList.filteredRowIndexArr=this.orgFilteredRowIndexArr;this.showDepth=this.orgShowDepth;this.orgStatusArr=null;this.orgFilteredRowIndexArr=null;this.orgShowDepth=null;this.drawData(this.rowIndex,0);}this.xmlData=null;if(_19b.showProcess===false){$W.getBody().hideModal();}else{if(_19b.showConfirm===true){this.hideDownloadLayer();}}}else{_1f7.push("</hashtable></data>");_1f7.push("</vector>");return _1f7;}};$W._a.aj.prototype.cancleDownload=function(){clearTimeout(this.excelTime);this.hideDownloadLayer();};$W._a.aj.prototype.hideDownloadLayer=function(){window["gridExceldownloadIframe"].style.display="none";this.excelOptions=null;this.excelInfoArr=null;this.excelFinalStr=null;window["downloadGridId"]=null;$W.getBody().hideModal();};$W._a.aj.prototype.saveBigExcelFile=function(_1fb,_1fc,_1fd){["WebSquare.uiplugin.gridViewApiController.prototype.saveBigExcelFile"];if(_1fd){_1fb.rowsByN=_1fd;}_1fb.massStorage=true;this.advancedExcelDownload(_1fb,_1fc);};$W._a.aj.prototype._getExcelStyle=function(_1fe){var _1ff={};var _200={};var _201={};var _202={};var _203={};for(var i in this.columnStyleValueObj){var _205={};for(var j in this.columnStyleValueObj[i]){if(j!="style"){_205[j]=this.columnStyleValueObj[i][j];}}var _207=this.getCellInfo(parseInt(i,10));if(_207&&_207.options.textAlign){_205["text-align"]=_207.options.textAlign;}_1ff[i]=_205;}for(var i=0;i<this.rowStyleArr.length;i++){if(this.rowStyleArr[i]){var _205={};for(var j in this.rowStyleValueObj[this.rowStyleArr[i]]){if(j!="style"){_205[j]=this.rowStyleValueObj[this.rowStyleArr[i]][j];}}_200[i]=_205;}}for(var i=0;i<this.cellStyleArr.length;i++){if(this.cellStyleArr[i]){var _205={};var _208=parseInt(i/this.oneRowDataLength,10);var _209=i%this.oneRowDataLength;for(var j in this.cellStyleValueObj[this.cellStyleArr[i]]){if(j!="style"){_205[j]=this.cellStyleValueObj[this.cellStyleArr[i]][j];}}_201[_208+","+_209]=_205;}}var _20a="";var _20b=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=this.defaultColCnt;i<_20b.length;i++){var _20c="";var _20d=_20b[i].id.replace(this.id+"_","");var _20e=this.headerCellStyleValueObj[_20d];if(_20e&&_20e["background-color"]){_20a=_20e["background-color"];}else{if(_1fe.headerColor){_20a=_1fe.headerColor;}else{_20a=$W._H.getStyle(_20b[i],"background-color");}}_20c+=("color:"+$W._H.getStyle(_20b[i],"color")+";");_20c+=("background-color:"+_20a+";");_20c+=("font-weight:"+$W._H.getStyle(_20b[i],"font-weight")+";");_20c+=("font-family:"+$W._H.getStyle(_20b[i],"font-family")+";");_20c+=("text-align:"+$W._H.getStyle(_20b[i],"text-align")+";");_202[_20b[i].getAttribute("header_id")]=_20c;}if(this.hasFooter){var _20f=this.getDomList("foot_tds","th",this.getElementById(this.id+"_foot_table"));for(var i=this.defaultColCnt;i<_20f.length;i++){var _20c="";_20c+=("color:"+$W._H.getStyle(_20f[i],"color")+";");_20c+=("background-color:"+$W._H.getStyle(_20f[i],"background-color")+";");_20c+=("font-weight:"+$W._H.getStyle(_20f[i],"font-weight")+";");_20c+=("font-family:"+$W._H.getStyle(_20f[i],"font-family")+";");_20c+=("text-align:"+$W._H.getStyle(_20f[i],"text-align")+";");_203[_20f[i].getAttribute("footer_id")]=_20c;}}var _210=JSON.stringify({row:_200,col:_1ff,cell:_201,header:_202,footer:_203});return _210;};$W._a.aj.prototype._getExcelSubtotalData=function(_211){if(!_211){_211=",";}var _212=[];_212.push("\"");var len=this.getDataLength();for(var i=0;i<len;i++){var _215=i;var _216=this.dataList.getRealRowIndex(_215);var _217=this.dataList.getRealRowIndex(_215+1);if(typeof _216=="number"){for(var _218 in this.subtotalTableList){var _219=this.dataList.getCellData(_216,_218);var _21a=_219+"_12";if(_215<len-1){var _21a=this.dataList.getCellData(_217,_218);}if(_219!=_21a){var _21b=this.subtotalTableList[_218];var _21c=this.subtotalDataArr[_218+"_"+_219];if(_21c==null){_21c=this.getSubtotalData(_21b,_218,_219,_215);}var _21d="";var _21e=_21b.getElementsByTagName("td");for(var j=0;j<_21e.length;j++){var _220=_21e[j];var _221=_220.getAttribute("id");if(_221!="_headerRowNumber"&&_221!="_headerRowStatus"){if(_21c[_221]!=null){_21d=_21c[_221];}else{if(_220.getAttribute("colMerge")=="true"){_21d="";}else{var _21d=_220.getAttribute("value");_21d=_21d!=null?_21d:"";}}_212.push(_21d);_212.push("\""+_211+"\"");}}}}}}_212[_212.length-1]="\"";return _212.join("");};$W._a.aj.prototype.getExcelGroupbyStyle=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getExcelGroupbyStyle"];try{if(this.groupbyStatus.grouped){var _222={"rowNumHeader":{type:"H",index:2},"rowNumFooter":{type:"F",index:2},"rowStatusHeader":{type:"H",index:3},"rowStatusFooter":{type:"F",index:3},"groupbyHeader":{type:"H",index:-1},"groupbyFooter":{type:"F",index:-1}};var _223=4;var _224=4;var _225=false;var _226=false;var _227=[];var _228=[];var _229=[];var _22a={};_227.push("<w2:groupby>");_228.push("<w2:groupbyHeader>");_229.push("<w2:groupbyFooter>");_228.push("<w2:row>");_229.push("<w2:row>");var _22b=this.defaultColCnt+this.getColCnt();var _22c=0;var _22d=0;if(this.options.rowNumVisible){if(this.groupbyDisplayOptions.rowNumHeader){if(!this.groupbyDisplayOptions.rowNumHeader.hidden){_22d+=parseInt(this.groupbyDisplayOptions.rowNumHeader.colSpan,10)||1;if(_22d<=_22b){_22a.rowNumHeader=this.groupbyDisplayOptions.rowNumHeader;}}}if(this.groupbyDisplayOptions.rowNumFooter){if(!this.groupbyDisplayOptions.rowNumFooter.hidden){_22c+=parseInt(this.groupbyDisplayOptions.rowNumFooter.colSpan,10)||1;if(_22c<=_22b){_22a.rowNumFooter=this.groupbyDisplayOptions.rowNumFooter;}}}}if(this.options.rowStatusVisible){if(this.groupbyDisplayOptions.rowStatusHeader){if(!this.groupbyDisplayOptions.rowStatusHeader.hidden){_22d+=parseInt(this.groupbyDisplayOptions.rowStatusHeader.colSpan,10)||1;if(_22d<=_22b){_22a.rowStatusHeader=this.groupbyDisplayOptions.rowStatusHeader;}}}if(this.groupbyDisplayOptions.rowStatusFooter){if(!this.groupbyDisplayOptions.rowStatusFooter.hidden){_22c+=parseInt(this.groupbyDisplayOptions.rowStatusFooter.colSpan,10)||1;if(_22c<=_22b){_22a.rowStatusFooter=this.groupbyDisplayOptions.rowStatusFooter;}}}}_22a.groupbyHeader=[];_22a.groupbyFooter=[];var _22e=this.groupbyDisplayOptions.groupbyHeader;for(var i=0;i<_22e.length;i++){if(!_22e[i].hidden){_22d+=parseInt(_22e[i].colSpan,10)||1;if(_22d<=_22b){_22a.groupbyHeader[i]=_22e[i];}else{break;}}}var _230=this.groupbyDisplayOptions.groupbyFooter;for(var i=0;i<_230.length;i++){if(!_230[i].hidden){_22c+=parseInt(_230[i].colSpan,10)||1;if(_22c<=_22b){_22a.groupbyFooter[i]=_230[i];}else{break;}}}if(_223<_22b){var _231=_22b-_22d;for(var i=0;i<_231;i++){_22a.groupbyHeader.push({temp:true});}}if(_224<_22b){var _231=_22b-_22c;for(var i=0;i<_231;i++){_22a.groupbyFooter.push({temp:true});}}this.groupbyStatus.excelDisplayOptions=_22a;for(var key in _22a){var info;var _234=[];switch(key){case "rowNumHeader":case "rowNumFooter":case "rowStatusHeader":case "rowStatusFooter":_234.push("<w2:column");var _235=_22a[key];var _236=false;for(var _237 in _235){if(_237!="align"&&_237!="hidden"&&_237!="colSpan"){continue;}if(_237=="hidden"){_236=true;break;}_234.push(" "+_237+"=\""+_235[_237]+"\"");if(key=="rowNumHeader"||key=="rowNumFooter"){if(_237.toLowerCase()=="colspan"){if(_235[_237]>=this.defaultColCnt+this.getColCnt()){if(key=="rowNumHeader"){_225=true;}else{_226=true;}}}}}if(_236){break;}if(key=="rowStatusHeader"&&_225){break;}else{if(key=="rowStatusFooter"&&_226){break;}}if(key.match("rowNum")){_234.push(" type=\"rowNum\"");}else{if(key.match("rowStatus")){_234.push(" type=\"rowStatus\"");}}_234.push("/>");info=_222[key];break;case "groupbyHeader":case "groupbyFooter":var _236=false;var _238=[];var _239=_22a[key];if(_239.length>0){for(var i=0;i<_239.length;i++){var _23a=[];_23a.push("<w2:column");for(var _237 in _239[i]){if(_237!="align"&&_237!="hidden"&&_237!="colSpan"){continue;}if(_237=="hidden"){_23a.pop();break;}_23a.push(" "+_237+"=\""+_239[i][_237]+"\"");}_23a.push("/>");_234.push(_23a.join(""));}}info=_222[key];break;}if(info){if(info.type=="H"){if(info.index==-1){_228[_223]=_234.join("");_223++;}else{_228[info.index]=_234.join("");}}else{if(info.type=="F"){if(info.index==-1){_229[_224]=_234.join("");_224++;}else{_229[info.index]=_234.join("");}}}}info=null;}_228.push("</w2:row>");_229.push("</w2:row>");_228.push("</w2:groupbyHeader>");_229.push("</w2:groupbyFooter>");_227.push(_228.join(""));_227.push(_229.join(""));_227.push("</w2:groupby>");return _227.join("");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getExcelGroupbyHeaderValue=function(){this.groupbyStatus.headerValueObj={};this.getAllGroupbyHeaderValueObj();var _23b=[];_23b.push("<array><![CDATA[");_23b.push("[");for(var i=0;i<this._dataList.filteredRowIndexArr.length;i++){var _23d=this._dataList.filteredRowIndexArr[i];if(_23d.type=="header"){var _23e=this.groupbyStatus.headerValueObj[_23d.groupId];for(var j=0;j<_23e.length;j++){if(_23e[j]!=undefined){_23b.push("\""+_23e[j]+"\"");if(j<_23e.length-1){_23b.push(",");}}}if(_23e.length>0){_23b.push(",");}}}_23b.pop();_23b.push("]");_23b.push("]]></array>");return _23b.join("");};$W._a.aj.prototype.getExcelGroupbyFooterValue=function(){this.groupbyStatus.footerValueObj={};this.getAllGroupbyFooterValueObj();var _240=[];_240.push("<array><![CDATA[");_240.push("[");for(var i=0;i<this._dataList.filteredRowIndexArr.length;i++){var _242=this._dataList.filteredRowIndexArr[i];if(_242.type=="footer"){var _243=this.groupbyStatus.footerValueObj[_242.groupId];for(var j=0;j<_243.length;j++){if(_243[j]!=undefined){_240.push("\""+_243[j]+"\"");if(j<_243.length-1){_240.push(",");}}}if(_243.length>0){_240.push(",");}}}_240.pop();_240.push("]");_240.push("]]></array>");return _240.join("");};$W._a.aj.prototype.getExcelGroupbyStatusValue=function(){var _245=[];_245.push("<array><![CDATA[");_245.push("[");for(var i=0;i<this._dataList.filteredRowIndexArr.length;i++){var row=this._dataList.filteredRowIndexArr[i];if(typeof row=="number"){_245.push("\"0B\"");}else{switch(row.type){case "header":var _248="\""+row.depth+"H\"";break;case "footer":var _248="\""+row.depth+"F\"";break;default:break;}_245.push(_248);}if(i<this._dataList.filteredRowIndexArr.length-1){_245.push(",");}}_245.push("]");_245.push("]]></array>");return _245.join("");};$W._a.aj.prototype.getExcelGroupbyStyleData=function(){var _249=this.getElementById(this.id+"_body_tbody").childNodes;var _24a=[];_24a.push("<array><![CDATA[");_24a.push("[");for(var i=0;i<this._dataList.filteredRowIndexArr.length;i++){var row=this._dataList.filteredRowIndexArr[i];if(typeof row!="number"){var _24d=_249[row.index];if(!_24a[row.depth+2]){var _24e="\"";if(i!=0){_24e=",\"";}var _24f;for(var key in this.groupbyStatus.excelDisplayOptions){var _251=false;switch(key){case "rowNumHeader":_251=true;_24f=0;break;case "rowStatusHeader":_251=true;_24f=this.defaultColCnt-1;break;case "groupbyHeader":_251=true;_24f=this.defaultColCnt;break;}if(_251){break;}}var _252=_24d.getElementsByTagName("TD")[_24f];_24e+="background-color:"+$W._H.getStyle(_252,"background-color")+";";_24e+="font-size:"+$W._H.getStyle(_252,"font-size")+";";_24e+="color:"+$W._H.getStyle(_252,"color")+";";_24e+="font-weight:"+$W._H.getStyle(_252,"font-weight")+";";_24e+="font-family:"+$W._H.getStyle(_252,"font-family")+";";_24e+="\"";_24a[row.depth+2]=_24e;}}}_24a.push("]");_24a.push("]]></array>");return _24a.join("");};$W._a.aj.prototype.getAllGroupbyHeaderValueObj=function(){for(var i=0;i<this._dataList.filteredRowIndexArr.length;i++){if(typeof this._dataList.filteredRowIndexArr[i]!="number"){var _254=this._dataList.filteredRowIndexArr[i];var _255=0;if(this.options.rowNumVisible){this.setGroupbyData(_254,_255,this.groupbyStatus.excelDisplayOptions.rowNumHeader);_255++;}if(this.options.rowStatusVisible){this.setGroupbyData(_254,_255,this.groupbyStatus.excelDisplayOptions.rowStatusHeader);_255++;}for(var j=0;j<this.getColCnt();j++){this.setGroupbyData(_254,_255,this.groupbyStatus.excelDisplayOptions.groupbyHeader[j]);_255++;}}}};$W._a.aj.prototype.getAllGroupbyFooterValueObj=function(){for(var i=0;i<this._dataList.filteredRowIndexArr.length;i++){if(typeof this._dataList.filteredRowIndexArr[i]!="number"){var _258=this._dataList.filteredRowIndexArr[i];var _259=0;if(this.options.rowNumVisible){this.setGroupbyData(_258,_259,this.groupbyStatus.excelDisplayOptions.rowNumFooter);_259++;}if(this.options.rowStatusVisible){this.setGroupbyData(_258,_259,this.groupbyStatus.excelDisplayOptions.rowStatusFooter);_259++;}for(var j=0;j<this.getColCnt();j++){this.setGroupbyData(_258,_259,this.groupbyStatus.excelDisplayOptions.groupbyFooter[j]);_259++;}}}};$W._a.aj.prototype.setGroupbyData=function(_25b,_25c,_25d){_25d=_25d||{};var _25e=_25d.value||"";var _25f=_25d.inputType||"";var _260=_25d.depthVisible||false;var _261=_25d.align||"";var _262=_25d.expression||"";var _263=_25d.colSpan||1;var _264=_25d.hidden?"none":"";var _265=_25d.displayFormatType||"text";var _266=_25d.displayFormat||"";var _267=_25d.displayFormatter||null;var _268;var _269;if(_25f){if(_266||_267){_268=new $W._C.createFormatter(_265,_266,_267);}switch(_25f){case "toggleButton":_269=_25b.status=="open"?"-":"+";break;case "expression":if(_262){var _26a=this.groupbyInfo[_25b.groupId].header;var _26b=0;if(_26a.status=="open"){var _26c;for(var i=_26a.index;i<this._dataList.filteredRowIndexArr.length;i++){var _26e=this._dataList.filteredRowIndexArr[i];if(_26e.type=="footer"&&_26e.depth==_26a.depth){_26c=_26e.index;break;}}_26b=this.groupExpression(this._dataList.filteredRowIndexArr,_26a.index,_26c,_262,_26a);}else{_26b=this.groupExpression(_26a.closedChildArr,0,_26a.closedChildArr.length-1,_262,_26a);}if(_268){_26b=_268.format(_26b);}_269=_26b;if(typeof _269=="string"&&(_269.match("w2grid_minus")||_269.match("w2grid_plus"))){var _26f=_269.lastIndexOf("</span>");if(_26f>-1){_26f+=7;_269=_269.slice(_26f);if(_25b.status=="open"){_269="-||"+_269;}else{if(_25b.status=="closed"){_269="+||"+_269;}}}}}default:break;}}if(_260){_269=_25b.groupId;}if(_25e){if(_268){_25e=_268.format(_25e);}_269=_25e;}if(!_269){_269="";var i=0;for(var key in _25d){i++;}if(i==0){_264="none";}}if(_264!="none"){if(_25b.type=="header"){if(!this.groupbyStatus.headerValueObj[_25b.groupId]){this.groupbyStatus.headerValueObj[_25b.groupId]=[];}this.groupbyStatus.headerValueObj[_25b.groupId][_25c]=_269;}else{if(_25b.type=="footer"){if(!this.groupbyStatus.footerValueObj[_25b.groupId]){this.groupbyStatus.footerValueObj[_25b.groupId]=[];}this.groupbyStatus.footerValueObj[_25b.groupId][_25c]=_269;}}}};$W._a.aj.prototype.getTotalRow=function(){var _271=this.dataList.getTotalRow();return _271;};$W._a.aj.prototype.getTotalCol=function(){var _272=this.oneRowDataLength;return _272;};$W._a.aj.prototype.editEndBeforeGetData=function(){if(this.editedCell&&this.rollbackCommitFlag&&this.options.rollbackCommit==true){this.rollbackCommitFlag=false;this.editedCell.handleEndEdit();this.rollbackCommitFlag=true;}};$W._a.aj.prototype.getExtraDataObj=function(_273,_274,_275){var data=this.extraData;if(_273=="grid"){return data.grid;}else{if(_273=="row"){if(!data.row[_274]){data.row[_274]={};}return data.row[_274];}else{if(_273=="col"){if(!data.col[_274]){data.col[_274]={};}return data.col[_274];}else{if(_273=="cell"){if(!data.cell[_274]){data.cell[_274]=[];}if(!data.cell[_274][_275]){data.cell[_274][_275]={};}return data.cell[_274][_275];}}}}return null;};$W._a.aj.prototype.finalize=function(){try{var _277=self;var cnt=0;while(_277!=_277.parent&&cnt++<10){if(_277.parent["__WebSquare_gridArr__"]){for(var i=0;i<_277.parent["__WebSquare_gridArr__"].length;i++){if(_277.parent["__WebSquare_gridArr__"][i]===this){_277.parent["__WebSquare_gridArr__"][i]=null;}}}_277=_277.parent;}_277=null;if(this.tempDiv!=null&&this.tempDiv.parentNode!=null){this.tempDiv.innerHTML="";}if(this.tempTr!=null&&this.tempTr.parentNode!=null){this.tempTr.innerHTML="";}$W._G.clearInterval(this.id+"_checkResize");$W._N.clearTimer(this.id+"initializeEvent");for(var item in this.dom){var comp=this.dom[item];var _27c=null;if(comp!=null){_27c=$W.idCache[comp.uuid];}if(_27c&&typeof _27c.remove=="function"){_27c.remove();}delete this.dom[item];}if(this._dataList&&this._dataList.childCompHash){delete this._dataList.childCompHash[this.id];}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.setFixedColumn=function(_27d){_27d=parseInt(_27d,10);_27d=isNaN(_27d)?0:_27d;this.options.fixedColumn=_27d;this.arrangeOverflowXScroll();};$W._a.aj.prototype.setFixedRow=function(_27e){_27e=parseInt(_27e,10);_27e=isNaN(_27e)?0:_27e;this.options.fixedRow=_27e;if(this.styledFixedRow){this.styledFixedRow.style.borderBottom="";this.styledFixedRow=null;}this.applyRowStyleOptions(_27e-1);};$W._a.aj.prototype.getOverflowX=function(){return this.options.overflowX;};$W._a.aj.prototype.getOverflowY=function(){return this.options.overflowY;};$W._a.aj.prototype.getColumnVisible=function(_27f){["WebSquare.uiplugin.gridViewApiController.prototype.getColumnVisible"];var _27f=this.getColumnIndex(_27f);var _280=$W._N.getConfiguration("/WebSquare/grid/getColumnVisible/@useRealColIndex");if($W._G.getBoolean(_280)){for(var i=0;i<this.columnOrder.length;i++){if(this.columnOrder[i]==_27f){_27f=i;break;}}}return !this.hiddenList[this.defaultColCnt+_27f];};$W._a.aj.prototype.getColumnWidth=function(_282){_282=this.getColumnIndex(_282);if(this.colWidthList[_282]){return this.colWidthList[_282];}};$W._a.aj.prototype.setColumnWidth=function(_283,size){_283=this.getColumnIndex(_283);if(this.colWidthList[_283]){if(this.options.autoFit&&!this.hiddenList[_283]){this.autoFitColWidthList=null;this._setAutoFit({exceptCol:this.defaultColCnt+_283,exceptWidth:size});}else{this._setColumnWidth(this.defaultColCnt+_283,size);}}};$W._a.aj.prototype.setColumnNodeSet=function(_285,_286,_287,_288){["WebSquare.uiplugin.gridViewApiController.prototype.setColumnNodeSet"];try{var _289=this.getCellInfo(_285);if(_289.options.inputType=="select"){_289.setColumnNodeSet(_286,_287,_288);if(_289.hasRef){_289.refHash=[];}if(_289.itemsetObj){_289.mainGrid.refresh();}}else{if(_289.options.inputType=="autoComplete"){_289.setColumnNodeSet(_286,_287,_288);if(_289.hasRef){_289.refHash=[];}if(_289.itemsetObj){_289.mainGrid.refresh();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.setColumnChooseOption=function(_28a,_28b,_28c){["WebSquare.uiplugin.gridViewApiController.prototype.setColumnChooseOption"];try{var _28d=this.getCellInfo(_28a);if(_28d.options.inputType=="select"){_28d.setColumnChooseOption(_28b,_28c);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.showChooseOption=function(_28e,flag){["WebSquare.uiplugin.gridViewApiController.prototype.showChooseOption"];try{var _290=this.getCellInfo(_28e);if(_290.options.inputType=="select"){_290.showChooseOption(flag);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.setRowNumColumnWidth=function(size){if(this.options.rowNumVisible&&!isNaN(Number(size))){this._setColumnWidth(0,size);}};$W._a.aj.prototype.setRowStatusColumnWidth=function(size){var _293=0;if(this.options.rowNumVisible){_293=1;}if(this.options.rowStatusVisible){this._setColumnWidth(_293,size);}};$W._a.aj.prototype.setGridHeight=function(_294){["WebSquare.uiplugin.gridViewApiController.prototype.setGridHeight"];var _295=parseInt(_294);if(_295+""==_294){_294+="px";}this.setStyle("height",_294);this.handleResize();};$W._a.aj.prototype.setGridWidth=function(_296){["WebSquare.uiplugin.gridViewApiController.prototype.setGridWidth"];var _297=parseInt(_296);if(_297+""==_296){_296+="px";}this.setStyle("width",_296);this.handlerResize_drawInitializer();};$W._a.aj.prototype.setGridSize=function(_298,_299){["WebSquare.uiplugin.gridViewApiController.prototype.setGridSize"];var _29a=parseInt(_298);var _29b=parseInt(_299);if(_29a>=0&&_29b>=0){this.setGridWidth(_298);this.setGridHeight(_299);}else{$W.logger.printLog("[Warning] Number of Entered in the width and height must be a valid integer greater than 0.");return;}};$W._a.aj.prototype.setGridReadOnly=function(_29c){["WebSquare.uiplugin.gridViewApiController.prototype.setGridReadOnly"];try{_29c=$W._G.getBoolean(_29c);this.options.readOnly=_29c;this.notifyDataChanged();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getGridReadOnly=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getGridReadOnly"];try{return this.options.readOnly;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.initGrid=function(){["WebSquare.uiplugin.gridViewApiController.prototype.initGrid"];try{this.loadCheck=[];this.initFlag=true;this.skipScrollEndEvent=true;this.removeAllFinish=true;this.lastIndex=-1;this.lastTopRowIndex=null;this.bScrollTop=-1;if(this.hasFooter){this.initFooterDataObj();}this.initHeaderDataObj();ret=this.dataList.removeAll();if(this.isDrillDown==true){this.initDrilldown();}this.removeAllFinish=false;this.dataList.clearFilter();this.initColumns();return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.setInitValue=function(){["WebSquare.uiplugin.grid.setInitValue.initGrid"];try{this.initGrid();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.setDisplayFormat=function(_29d,_29e){try{var _29f=this.getCellInfo(_29d);_29f.options.displayFormat=_29e;_29f.initFormatter();this.drawColumnData(_29d);return;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.setDisplayFormatter=function(_2a0,_2a1){["WebSquare.uiplugin.gridViewApiController.prototype.setDisplayFormatter"];try{var _2a2=this.getCellInfo(_2a0);_2a2.options.displayFormatter=_2a1;_2a2.initFormatter();this.drawColumnData(_2a0);return;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.setFormat=function(_2a3,_2a4){["WebSquare.uiplugin.gridViewApiController.prototype.setFormat"];try{var _2a5=this.getCellInfo(_2a3);if(_2a4.ioFormat){var _2a6=_2a5.options.inputType||"text";var _2a7=_2a5.mainGridId+_2a5.id;var _2a8=this.dom[_2a7];if(_2a8){_2a8.setFormat({ioFormat:_2a4.ioFormat,displayFormat:_2a4.ioFormat});}var _2a9=$W._C.createFormatter("date",_2a4.ioFormat,"",_2a5.options.ioFormat);for(var i=0;i<this.getDataLength();i++){var _2ab=this.getColumnID(_2a3);var _2ac=this.dataList.getCellData(i,_2ab);var _2ad=_2a9.format(_2ac);this.dataList.setCellData(i,_2ab,_2ad);}}_2a5.options.ioFormat=_2a4.ioFormat||_2a5.options.ioFormat;_2a5.options.displayFormat=_2a4.displayFormat||_2a5.options.displayFormat;_2a5.options.displayFormatter=_2a4.displayFormatter||_2a5.options.displayFormatter;_2a5.initFormatter();this.drawColumnData(_2a3);return;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.spanAll=function(_2ae){["WebSquare.uiplugin.gridViewApiController.prototype.spanAll"];try{if(typeof _2ae=="number"){this.showDepth=_2ae+"";}else{_2ae=$W._G.getBoolean(_2ae);if(_2ae==true){this.showDepth="9999";}else{this.showDepth="1";}}this.initDrilldown();this.rowIndex=-1;this.lastIndex=-1;this.lastTopRowIndex=null;this.drawData(0,0);this.setScrollYHeight({noDraw:true});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getCellDisplayData=function(_2af,_2b0){["WebSquare.uiplugin.gridViewApiController.prototype.getCellDisplayData"];try{var _2b1=this.getRealRowIndex(_2af);return this._getDisplayData(_2b1,_2b0);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aj.prototype._getDisplayData=function(_2b2,_2b3){["WebSquare.uiplugin.gridViewApiController.prototype._getDisplayData"];try{this.editEndBeforeGetData();var _2b3=this.getColumnID(_2b3);var _2b4=this.getColumnIndex(_2b3);var _2b5=this.cellInfoHash[_2b3];var _2b6=this.dataList._getData(_2b2,_2b3);if(_2b5.useEscapeFormatter){var _2b7=$W._G.getGlobalFunction(_2b5.options.escapeFormatter);_2b6=_2b7.call(this,_2b6,_2b2,_2b4);}if(_2b5.useCustomFormatter&&this.options.keepBeforeDisplayData!=true){var _2b8=_2b5.getEscape()==="true"?_2b5.getDisplayData($W._B._encode(_2b6+""),_2b2):_2b5.getDisplayData(_2b6,_2b2);var _2b9=$W._G.getGlobalFunction(_2b5.options.customFormatter);_2b6=_2b9.call(this,_2b6,_2b8,this.getDisplayRowIndex(_2b2),_2b4);}else{_2b6=_2b5.getDisplayData(_2b6,_2b2);}if(_2b6==null){_2b6="";}return _2b6;}catch(e){$W.exception.printStackTrace(e);}};$W._a.aj.prototype.initDrilldown=function(_2ba){["WebSquare.uiplugin.gridViewApiController.prototype.initDrilldown"];try{var _2ba={showDepth:this.showDepth,depthColumn:this.depthColumn,dataColumn:""};if(typeof _2ba.depthColumn=="string"){if(this.bodyIdColIndexMap[_2ba.depthColumn]==undefined){_2ba.dataColumn="dataList";_2ba.depthColumn=this._dataList.bodyIdColIndexMap[_2ba.depthColumn];}else{_2ba.dataColumn="gridview";_2ba.depthColumn=this.bodyIdColIndexMap[_2ba.depthColumn];}}this.drilldown.initialize(this,_2ba);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getRealRowIndex=function(_2bb){["WebSquare.uiplugin.gridViewApiController.prototype.getRealRowIndex"];return this.dataList.getRealRowIndex(_2bb);};$W._a.aj.prototype.toggle=function(_2bc){["WebSquare.uiplugin.gridViewApiController.prototype.toggle"];_2bc=parseInt(_2bc);this.drilldown.toggle(_2bc);this.setScrollYHeight();this.notifyRowChanged(_2bc);if(this.options.autoFit){this.autoFitFunc();}};$W._a.aj.prototype.getParentRowIndex=function(_2bd){["WebSquare.uiplugin.gridViewApiController.prototype.getParentRowIndex"];_2bd=parseInt(_2bd);return this.drilldown.getParentRowIndex(_2bd);};$W._a.aj.prototype.getChildrenRowIndexArray=function(_2be){["WebSquare.uiplugin.gridViewApiController.prototype.getChildrenRowIndexArray"];_2be=parseInt(_2be);return this.drilldown.getChildrenRowArr(_2be);};$W._a.aj.prototype.getOpenStatus=function(_2bf){["WebSquare.uiplugin.gridViewApiController.prototype.getOpenStatus"];_2bf=parseInt(_2bf);return this.drilldown.isOpen(_2bf);};$W._a.aj.prototype.getDataLength=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getDataLength"];var _2c0;if(this.successBinding){if(this.groupbyStatus.grouped){for(var key in this.customFilterStatusObj){if(this.customFilterStatusObj[key]){return this._dataList.getDataLength();}}_2c0=this.groupbyStatus.groupedRowIndexArr.length;}else{_2c0=this._dataList.getDataLength();}}else{_2c0=0;}return _2c0;};$W._a.aj.prototype.focusedRowMoveUp=function(){["WebSquare.uiplugin.gridViewApiController.prototype.focusedRowMoveUp"];var _2c2=this.getFocusedRowIndex();this.dataList.rowMoveUp(_2c2);};$W._a.aj.prototype.focusedRowMoveDown=function(){["WebSquare.uiplugin.gridViewApiController.prototype.focusedRowMoveUp"];var _2c3=this.getFocusedRowIndex();this.dataList.rowMoveDown(_2c3);};$W._a.aj.prototype.initStyleArr=function(_2c4){if(_2c4<=0){this.rowStyleArr=[];this.rowReadOnlyArr=[];this.rowDisabledArr=[];}var _2c5=this.getTotalRow();var len=_2c5*this.oneRowDataLength;if(_2c4<=0){this.rowStyleArr=new Array(_2c5);this.rowReadOnlyArr=new Array(_2c5);this.rowDisabledArr=new Array(_2c5);this.cellStyleArr=new Array(len);this.cellReadOnlyArr=new Array(len);this.cellDisabledArr=new Array(len);}else{[].push.apply(this.rowStyleArr,new Array(_2c5-this.rowStyleArr.length));[].push.apply(this.rowReadOnlyArr,new Array(_2c5-this.rowReadOnlyArr.length));[].push.apply(this.rowDisabledArr,new Array(_2c5-this.rowDisabledArr.length));[].push.apply(this.cellStyleArr,new Array(len-this.cellStyleArr.length));[].push.apply(this.cellReadOnlyArr,new Array(len-this.cellReadOnlyArr.length));[].push.apply(this.cellDisabledArr,new Array(len-this.cellDisabledArr.length));}};$W._a.aj.prototype.modifyCheckedStatus=function(col,_2c8){["WebSquare.uiplugin.gridViewApiController.prototype.modifyCheckedStatus"];try{var _2c9=this.getCheckedIndex(col);var _2c8=_2c8.toUpperCase();if(_2c8=="R"||_2c8=="U"||_2c8=="V"||_2c8=="D"||_2c8=="C"){for(var i=0;i<_2c9.length;i++){var _2cb=this.dataList.modifyRowStatus(_2c9[i],_2c8);this._drawRowStatus(i-this.rowIndex,i);this.displayNoResultMessage();}this.notifyStatusChanged({"rowIndex":_2c9});}else{$W.logger.printLog("[Warning] Is not exist status Value!");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.modifyUncheckStatus=function(col,_2cd){["WebSquare.uiplugin.gridViewApiController.prototype.modifyUncheckStatus"];try{var _2cd=_2cd.toUpperCase();if(_2cd=="R"||_2cd=="U"||_2cd=="V"||_2cd=="D"||_2cd=="C"){var _2ce=this.getUnCheckedIndex(col);for(var i=0;i<_2ce.length;i++){var _2d0=this.dataList.modifyRowStatus(_2ce[i],_2cd);this._drawRowStatus(i-this.rowIndex,i);this.displayNoResultMessage();}this.notifyStatusChanged({"rowIndex":_2ce});}else{$W.logger.printLog("[Warning] Is not exist status Value!");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getVisibleColData=function(_2d1){["WebSquare.uiplugin.gridViewApiController.prototype.getColData"];var _2d2=[];_2d1=this.getColumnIndex(_2d1);var _2d3=this.getColumnID(_2d1);for(var row=0;row<this.getDataLength();row++){_2d2.push(this.dataList.getCellData(row,_2d3));}return _2d2;};$W._a.aj.prototype.getCheckedIndex=function(_2d5){["WebSquare.uiplugin.gridViewApiController.prototype.getCheckedIndex"];try{var _2d6=[];var _2d7=this.cellInfoHash[this.getColumnID(_2d5)];if(_2d7.options.inputType=="checkbox"||_2d7.options.inputType=="radio"){if(this.isDrillDown&&this._dataList.options.depthColumn){colDataArr=this.dataList.getColData(_2d5);}else{colDataArr=this.getVisibleColData(_2d5);}for(var i=0;i<colDataArr.length;i++){if(colDataArr[i]==_2d7.options.trueValue){_2d6.push(i);}}}return _2d6;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getUnCheckedIndex=function(_2d9){return this.getUncheckedIndex(_2d9);};$W._a.aj.prototype.getUncheckedIndex=function(_2da){["WebSquare.uiplugin.gridViewApiController.prototype.getUncheckedIndex"];try{var _2db=[];var _2dc=this.cellInfoHash[this.getColumnID(_2da)];if(_2dc.options.inputType=="checkbox"||_2dc.options.inputType=="radio"){var _2dd=[];if(this.isDrillDown&&this._dataList.options.depthColumn){_2dd=this.dataList.getColData(_2da);}else{_2dd=this.getVisibleColData(_2da);}for(var i=0;i<_2dd.length;i++){if(_2dd[i]!=_2dc.options.trueValue){_2db.push(i);}}}return _2db;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getAllDisplayData=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getAllData"];this._endEdit();if(this.getTotalRow()!=this.getDataLength()){var _2df=[];for(var i=0;i<this.getTotalRow();i++){_2df=_2df.concat(this.dataList._getRowData(i,"displayData"));}return _2df;}else{var _2df=[];for(var i=0;i<this.getDataLength();i++){_2df=_2df.concat(this.dataList.getRowData(i,"displayData"));}return _2df;}};$W._a.aj.prototype.getAllDisplayXML=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getAllDisplayXML"];this._endEdit();if(this.getTotalRow()!=this.getDataLength()){return this.getAllArrXML("displayData",this.id);}else{return this.getAllVisibleXML("displayData");}};$W._a.aj.prototype.getAllVisibleData=function(_2e1){["WebSquare.uiplugin.gridViewApiController.prototype.getAllData"];this._endEdit();var _2e2=this.dataList.getRangeData(0,this.getDataLength(),_2e1);return _2e2;};$W._a.aj.prototype.changeToRealRowIndexArr=function(_2e3){["WebSquare.uiplugin.gridViewApiController.prototype.getDeletedXML"];var _2e4=[];for(var i=0;i<_2e3.length;i++){_2e4.push(_2e3[i]);}return _2e4;};$W._a.aj.prototype.getCheckedData=function(_2e6){["WebSquare.uiplugin.gridViewApiController.prototype.getCheckedData"];try{this._endEdit();var _2e7=[];var _2e8=this.getCheckedIndex(_2e6);for(var i=0;i<_2e8.length;i++){_2e7.push(this.dataList.getRowData(_2e8[i]));}return _2e7;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getCheckedJSON=function(_2ea){["WebSquare.uiplugin.gridViewApiController.prototype.getCheckedJSON"];try{this._endEdit();var _2eb=[];var _2ec=this.getCheckedIndex(_2ea);for(var i=0;i<_2ec.length;i++){_2eb.push(this._dataList.getRowJSON(_2ec[i]));}return _2eb;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getCheckedXML=function(_2ee){["WebSquare.uiplugin.gridViewApiController.prototype.getCheckedXML"];try{this._endEdit();var _2ef=this.getCheckedIndex(_2ee);var _2f0=this.getArrXML(_2ef);return _2f0;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getUncheckedData=function(_2f1){["WebSquare.uiplugin.gridViewApiController.prototype.getUncheckedData"];try{this._endEdit();var _2f2=[];var _2f3=this.getUncheckedIndex(_2f1);for(var i=0;i<_2f3.length;i++){_2f2.push(this.dataList.getRowData(_2f3[i]));}return _2f2;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getUncheckedJSON=function(_2f5){["WebSquare.uiplugin.gridViewApiController.prototype.getUncheckedJSON"];try{this._endEdit();var _2f6=[];var _2f7=this.getUncheckedIndex(_2f5);for(var i=0;i<_2f7.length;i++){_2f6.push(this._dataList.getRowJSON(_2f7[i]));}return _2f6;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getUncheckedXML=function(_2f9){["WebSquare.uiplugin.gridViewApiController.prototype.getUncheckedXML"];try{this._endEdit();var _2fa=this.getUncheckedIndex(_2f9);var _2fb=this.getArrXML(_2fa);return _2fb;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getCellChecked=function(_2fc,_2fd){["WebSquare.uiplugin.gridViewApiController.prototype.getCellChecked"];try{var _2fe=[];var _2ff=this.cellInfoHash[this.getColumnID(_2fd)];if(_2ff.options.inputType!="checkbox"&&_2ff.options.inputType!="radio"){return false;}var _300=this.dataList.getCellData(_2fc,_2ff.id);_300=(_300==_2ff.options.trueValue)?true:false;return _300;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.hasChild=function(_301){return this.drilldown.hasChild(_301);};$W._a.aj.prototype.comparator=function(a,b){["WebSquare.uiplugin.gridViewApiController.prototype.comparator"];var _304=(parseInt(b)==parseInt(a))?0:(parseInt(b)>parseInt(a))?1:-1;return _304;};$W._a.aj.prototype.getExcelAllXML=function(_305){["WebSquare.uiplugin.gridViewApiController.prototype.getExcelAllXML"];try{var _306=new Array();_306.push("<array><![CDATA[");_306.push("[\"");for(var i=0;i<this.getDataLength();i++){for(var j=0;j<this.getTotalCol();j++){_306.push(this.dataList.getCellData(i,this.getColumnID(j)));_306.push("\",\"");}}_306[_306.length-1]="\"]";_306.push("]]></array>");return (_306.join(""));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getExcelAllXMLDisplay=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getExcelAllXMLDisplay"];try{var _309=new Array();_309.push("<array><![CDATA[");_309.push("[\"");for(var i=0;i<this.getDataLength();i++){for(var j=0;j<this.getTotalCol();j++){var _30c=this.getCellInfo(j);if(_30c.useCustomFormatter){var _30d=this._getDisplayData(this.dataList.getRealRowIndex(i),j);}else{var _30d=_30c.getDisplayData(this.dataList.getCellData(i,this.getColumnID(j)),i);}_309.push(_30d);_309.push("\",\"");}}_309[_309.length-1]="\"]";_309.push("]]></array>");return (_309.join(""));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getExcelAllXMLRaw=function(_30e){["WebSquare.uiplugin.gridViewApiController.prototype.getExcelAllXML"];try{var len=this.dataArr.length;var _310=this.dataArr[0];var _311=this.dataArr[len-1];this.dataArr[0]="<array><![CDATA[[\""+_310;this.dataArr[len-1]=_311+"\"]]]></array>";var _312=this.dataArr.join("\",\"");this.dataArr[0]=_310;this.dataArr[len-1]=_311;return _312;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.makeExcelData=function(_313,_314,_315,_316){["WebSquare.uiplugin.gridViewApiController.prototype.makeExcelData"];try{var len=_314.length;var to=_313+_315.rowsByN;to=(to<_315.dataLength)?to:_315.dataLength;var _319=this.oneRowDataLength;var _31a=_315.cellInfo;var _31b=_315.isPlainDataCol;var _31c=_315.isSelectCol;var _31d=_315.isBasicCol;var _31e=_315.isExpCol;var _31f=_315.isCustomCol;var _320=_315.separator||",";if(_315.dataProvider==""){if(_315.type===0){for(var i=_313;i<to;i++){var _322=this.dataList.getRealRowIndex(i);for(var j=0;j<_319;j++){if(_31e[j]){_314[len++]=_31a[j].getExpressionValue(_322);}else{var _324=this.dataList._getData(_322,j);_314[len++]=(_324!==null&&_324!==undefined)?_324:"";}}}}else{if(_315.type===1){for(var i=_313;i<to;i++){var _322=this.dataList.getRealRowIndex(i);for(var j=0;j<_319;j++){var _324;if(_31e[j]){_324=_31a[j].getExpressionValue(_322);}if(_31f[j]){_324=this._getDisplayData(_322,j);}else{_324=this.dataList._getData(_322,j);_324=(_324!==null&&_324!==undefined)?_324:"";}if(_31d[j]||_31e[j]){_324=_31a[j].formatter?_31a[j].formatter.format(_324):_324;}else{if(_31c[j]){var ret=_31a[j].getData(_324,_322);if(ret==null){ret="";}_324=ret;}}_314[len++]=_324;}}}else{to=_315.dataLength;_314=this.dataList.getAllData();len=_314.length;}}}var _326=this;if(to<_315.dataLength&&_315.dataProvider==""){if(_315.massStorage!==false){this.excelTime=setTimeout(function(){try{if(_315.showConfirm===true){window["gridExceldownloadIframe"].contentWindow.checkUpload(_314.length/_326.dataArr.length);}}catch(e){}_326.makeExcelData(to,_314,_315,_316);},10);}else{this.makeExcelData(to,_314,_315,_316);}}else{var _327;if(_315.dataProvider==""){if(_314.length>=2){if(_315.groupby&&this.groupbyStatus.grouped){if(this.defaultColCnt>0){var _322=0;var _328=1;var _329=[];var _32a=false;for(var i=0;i<_314.length;i++){if(i%this.getColCnt()==0||i==0){if(this.options.rowNumVisible){var _32b="";if(typeof this._dataList.filteredRowIndexArr[_322]!="number"){_32a=true;}else{_32a=false;_32b=_328;_329.push(_32b);}}if(this.options.rowStatusVisible){var _32c="";if(typeof this._dataList.filteredRowIndexArr[_322]!="number"){_32a=true;}else{_32a=false;_32c=this.getRowStatus(_322);_329.push(_32c);}}_322++;if(!_32a){_328++;}}if(!_32a){_329.push(_314[i]);}}_314=_329;len=_314.length;}}if(len>0){var _32d=_314[0];var _32e=_314[len-1];_314[0]="<array><![CDATA[[\""+_32d;_314[len-1]=_32e+"\"]]]></array>";_327=_314.join("\""+_320+"\"");_314[0]=_32d;_314[len-1]=_32e;}else{_327="<array><![CDATA[["+_314+"]]]></array>";}}else{var data=(_314.length===1)?("\""+_314[0]+"\""):"";_327="<array><![CDATA[["+data+"]]]></array>";}}else{_327="<array><![CDATA[[ ]]]></array>";}if(_315.showConfirm===true){this.excelOptions=_315;this.excelInfoArr=_316;this.excelFinalStr=_327;this.checkUpload();}else{if(_315.multiexcel==false){this.sendExcelData(_315,_316,_327);}else{var hash=this.sendExcelData(_315,_316,_327);return hash;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getRowStyleClassName=function(_331){["WebSquare.uiplugin.gridViewApiController.prototype.getRowStyleClassName"];try{var _332=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _333=(_332)?_331:this.dataList.getRealRowIndex(_331);if(_333==null){return null;}else{if(typeof _333!="number"){_333=_333.type+"_"+_333.groupId;}}return this.rowStyleArr[_333];}catch(e){$l("getRowStyleClassName :"+e.message);$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.setRowStyleClassName=function(_334,_335){["WebSquare.uiplugin.gridViewApiController.prototype.setRowStyleClassName"];try{var _336=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _337=(_336)?_334:this.dataList.getRealRowIndex(_334);if(_337==null){return;}else{if(typeof _337!="number"){_337=_337.type+"_"+_337.groupId;}}this.rowStyleArr[_337]=_335;}catch(e){$l("setRowStyleClassName :"+e.message);$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getCellStyleClassName=function(_338,_339){["WebSquare.uiplugin.gridViewApiController.prototype.getCellStyleClassName"];try{if(typeof _339!="number"){_339=this.bodyIdColIndexMap[_339];}var _33a=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _33b=(_33a)?_338:this.dataList.getRealRowIndex(_338);if(_33b==null){return null;}else{if(typeof _33b=="number"){return this.cellStyleArr[_33b*this.oneRowDataLength+_339];}else{return this.cellStyleArr[_33b.type+"_"+_33b.groupId+"_"+_339];}}}catch(e){$l("getCellStyleClassName :"+e.message);$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.setCellStyleClassName=function(_33c,_33d,_33e){["WebSquare.uiplugin.gridViewApiController.prototype.setCellStyleClassName"];try{_33d=this.getColumnIndex(_33d);var _33f=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _340=(_33f)?_33c:this.dataList.getRealRowIndex(_33c);if(_340==null){return;}else{if(typeof _340=="number"){this.cellStyleArr[_340*this.oneRowDataLength+_33d]=_33e;}else{this.cellStyleArr[_340.type+"_"+_340.groupId+"_"+_33d]=_33e;}}}catch(e){$l("setCellStyleClassName :"+e.message);$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.refreshColumnItemset=function(_341){["WebSquare.uiplugin.gridViewApiController.prototype.refreshColumnItemset"];try{var _342=this.getCellInfo(_341);_342.resetMatchInfo=true;if(_342.options.embeddedInput){_341=this.getColumnIndex(_342.options.col_id);for(var i=0;i<this.drawedRowLength;i++){var td=this.data_td_list[_341+i*this.oneRowDataLength];if(td){var _345=this.dom[td.getAttribute("id")+"_select"];if(_345){_345.refreshItemset();}}}}else{if(_342.options.inputType=="select"){if(_342.hasRef){_342.refHash=[];}if(_342.select){_342.select.refreshItemset();}if(_342.itemsetObj){_342.mainGrid.refresh();}}else{if(_342.options.inputType=="checkcombobox"){_342.refreshItemArr();if(_342.checkcombobox){}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.refreshRadioGroup=function(_346){["WebSquare.uiplugin.gridViewApiController.prototype.refreshRadioGroup"];try{var _347={};var _348=[];for(var i=0;i<this.oneRowDataLength;i++){var _34a=this.getCellInfo(i);if(_34a.options.inputType=="radio"&&_34a.options.groupName==_346){if(_34a.options.groupRef){_34a.options.groupValue=$W._J.getInstanceValue(_34a.options.groupRef);}_347[_34a.options.groupValue]=_34a;_348.push(_34a);}}if(_348.length==0){return;}var len=this.getDataLength();for(var i=0;i<len;i++){var _34c=this.dataList.getCellData(i,_346);var _34d=_347[_34c];if(_34d){this.dataList.setCellData(i,_34d.id,_34d.options.trueValue);}else{for(var j=0;j<_348.length;j++){var _34a=_348[j];this.dataList.setCellData(i,_34a.id,_34a.options.defaultValue);}var _34f=this.getCellInfo(_346);if(_34f){this.dataList.setCellData(i,_346,_34f.options.defaultValue);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.resetRadioGroup=function(_350,_351){return this._resetRadioGroup.call(this,_350,_351,true);};$W._a.aj.prototype._resetRadioGroup=function(_352,_353,_354){["WebSquare.uiplugin.gridViewApiController.prototype.refreshRadioGroup"];try{var _355=[];for(var i=0;i<this.oneRowDataLength;i++){var _357=this.getCellInfo(i);if(_357.options.inputType=="radio"&&_357.options.groupName==_353){_355.push(_357);}}if(_355.length==0){return;}if(typeof _352=="number"){var _358=_352;var end=_352+1;}else{var _358=0;var end=this.getDataLength();}for(var i=_358;i<end;i++){for(var j=0;j<_355.length;j++){var _357=_355[j];this.dataList.setCellData(i,_357.id,_357.options.defaultValue);}if(_354){var _35b=this.getCellInfo(_353);if(_35b){this.dataList.setCellData(i,_353,_35b.options.defaultValue);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.xmlData2ArrData=function(_35c){["WebSquare.uiplugin.gridViewApiController.prototype.xmlData2ArrData"];try{if(_35c==null){return;}if(_35c.nodeType==9){var _35d=_35c.selectNodes("/"+this.options.baseNode+"/"+this.options.repeatNode);}else{var _35e=this.options.baseNode;if(_35e.startsWith(_35c.tagName)){var _35e=_35e.replace(_35c.tagName,".");var _35d=_35c.selectNodes(_35e+"/"+this.options.repeatNode);}else{_35c=$W._B.parse($W._B.serialize(_35c));var _35d=_35c.selectNodes("/"+this.options.baseNode+"/"+this.options.repeatNode);}}var _35f=[];var _360=this.options.valueNode;var _361=_360==null||_360=="";var _362=$W._G.getTextNodeValue;var _363=_35d.length;var _364=this.tdIdList.length;var _365=[];var _366=[];var _367=[];for(var i=0;i<_364;i++){_365[i]=this.getCellInfo(this.tdIdList[i]);var _369=_365[i].options;if(_369.importFormatter!=null&&_369.importFormatter!=""){_366[i]=true;}if(_369.importExp!=null&&_369.importExp!=""){_367[i]=true;}}for(var i=0;i<_363;i++){var obfuscator_i=i;var obfuscator_rowXml=_35d[i];var len=_35f.length;for(var j=0;j<_364;j++){var node=_35d[i].selectSingleNode(this.tdIdList[j]);if(node!=null){if(_361){_35f[len+j]=_362(node);}else{_35f[len+j]=node.getAttribute(_360);}}else{_35f[len+j]=_365[j].options.defaultValue;}}for(var j=0;j<_364;j++){if(_366[j]){try{_35f[len+j]=eval(_365[j].options.importFormatter+"(obfuscator_rowXml, obfuscator_i)");}catch(e){_35f[len+j]=_365[j].options.defaultValue;$W.exception.printStackTrace(e,null,this);}}}for(var j=0;j<_364;j++){if(_367[j]){try{var _36d=eval(_365[j].options.importExp);_35f[len+j]=_36d;}catch(e){_35f[len+j]=_365[j].options.defaultValue;$W.exception.printStackTrace(e,null,this);}}}for(var j=0;j<_364;j++){if(_365[j].options.inputType=="radio"&&_365[j].options.groupName){if(this.cellInfoHash[_365[j].options.groupName]){var _36e=_365[j].options.trueValue;var _36f=_365[j].options.falseValue;switch(_365[j].options.valueType){case "binary":_36e="1";_36f="0";break;case "boolean":_36e="true";_36f="false";break;case "other":break;}var _370=this.columnValue(obfuscator_rowXml,_365[j].options.groupName);if(_370==_365[j].options.groupValue){_35f[len+j]=_36e;}else{_35f[len+j]=_36f;}}}if(this.options.xmlEncode){if(_35f[len+j]!=null){_35f[len+j]=$W._B.decode(_35f[len+j]);}}}}return _35f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.jsonData2ArrData=function(_371){["WebSquare.uiplugin.gridViewApiController.prototype.jsonData2ArrData"];try{if(_371==null){return;}var _372=[];var _373=this.options.valueNode;var _374=_371.length;var _375=this.cellIdList.length;var _376=[];for(var i=0;i<_375;i++){_376[i]=this.getCellInfo(this.cellIdList[i]);}for(var i=0;i<_374;i++){var obfuscator_i=i;var obfuscator_rowXml=_371[i];var len=_372.length;for(var j=0;j<_375;j++){if(_376[j].options.importFormatter){try{_372[len+j]=eval(_376[j].options.importFormatter+"(obfuscator_rowXml, obfuscator_i)");}catch(e){_372[len+j]=_376[j].options.defaultValue;$W.exception.printStackTrace(e,null,this);}}else{if(_376[j].options.importExp){try{var _37a=eval(_376[j].options.importExp);_372[len+j]=_37a;}catch(e){_372[len+j]=_376[j].options.defaultValue;$W.exception.printStackTrace(e,null,this);}}else{var node=_371[i][this.cellIdList[j]];if(node!=null){_372[len+j]=node;}else{_372[len+j]=_376[j].options.defaultValue;}}}}}return _372;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.xpathValue=function(_37c,_37d){["WebSquare.uiplugin.gridViewApiController.prototype.xpathValue"];try{var v=$W._B.findNode(_37c,_37d);if(v==null){return "";}if(v.nodeType==1){for(var _37f=v.firstChild;_37f!=null;_37f=_37f.nextSibling){if(_37f.nodeType==3){return _37f.nodeValue;break;}}}else{return v.nodeValue;}}catch(e){$l("xpath exeption");$W.exception.printStackTrace(e,null,this);}return "";};$W._a.aj.prototype.getAllArrXML=function(_380){["WebSquare.uiplugin.gridViewApiController.prototype.getArrXML"];try{var _381=false;this.tagNmArr=this._dataList.options.baseNode.replace(/\[[^\]]+\]/g,"").split("/");for(var i=0;i<this.tagNmArr.length;i++){if(this.tagNmArr[i]!=null&&this.tagNmArr[i].wq_trim()!=""){if(!_381){var _383=$W._B.parse("<"+this.tagNmArr[i]+"/>");var _384=[];_384.push(_383.documentElement);_381=true;}else{_384.push(_383.createElement(this.tagNmArr[i]));_384[i-1].appendChild(_384[i]);}}}var _385=this._dataList.options.repeatNode.replace(/\[[^\]]+\]/g,"").split("/");var _386=null;for(var i=0;i<this.getTotalRow();i++){var obfuscator_rowIndex=i;_386=[];var obfuscator_objLastNode=null;for(var j=0;j<_385.length;j++){if(_385[j]!=""){var _388=_383.createElement(_385[j]);_386.push(_388);if(j==0){_384[_384.length-1].appendChild(_388);}else{_386[j-1].appendChild(_386[j]);}}}obfuscator_objLastNode=_386[_385.length-1];obfuscator_objLastNode.setAttribute("status",this.dataList._getRowStatusValue(obfuscator_rowIndex));obfuscator_objLastNode.setAttribute("statusValue",this.dataList._getRowStatus(obfuscator_rowIndex));obfuscator_objLastNode.setAttribute("id",obfuscator_rowIndex);var _389=this.getColumnCount();var _38a=new Array(_389);for(var col=0;col<_389;col++){var obfuscator_cellValue="";if(_380!="displayData"){obfuscator_cellValue=this._dataList._getData(obfuscator_rowIndex,col);}else{obfuscator_cellValue=this._getDisplayData(obfuscator_rowIndex,col);}if(this.options.xmlEncode){obfuscator_cellValue=$W._B.encode(obfuscator_cellValue);}var obfuscator_columnID=this.getColumnID(col);var _38c=this.getCellInfo(col);if(_38c.options.exportFormatter!=""){try{eval(_38c.options.exportFormatter+"(obfuscator_objLastNode, obfuscator_cellValue , obfuscator_rowIndex , obfuscator_columnID )");}catch(e){$W.exception.printStackTrace(e,null,this);$l("xmlDtaGetter - tdObj.exportFormatter error");}}else{_38a[col]=_383.createElement(this.getColumnID(col));if(this._dataList.options.valueAttribute==""){var _38d=_383.createTextNode(obfuscator_cellValue);_38a[col].appendChild(_38d);}else{_38a[col].setAttribute(this._dataList.options.valueAttribute,obfuscator_cellValue);}obfuscator_objLastNode.appendChild(_38a[col]);}}}return _383;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getArrXML=function(_38e,_38f){["WebSquare.uiplugin.gridViewApiController.prototype.getArrXML"];try{if(_38e instanceof Array){var _390=false;this.tagNmArr=this._dataList.options.baseNode.replace(/\[[^\]]+\]/g,"").split("/");for(var i=0;i<this.tagNmArr.length;i++){if(this.tagNmArr[i]!=null&&this.tagNmArr[i].wq_trim()!=""){if(!_390){var _392=$W._B.parse("<"+this.tagNmArr[i]+"/>");var _393=[];_393.push(_392.documentElement);_390=true;}else{_393.push(_392.createElement(this.tagNmArr[i]));_393[i-1].appendChild(_393[i]);}}}var _394=this._dataList.options.repeatNode.replace(/\[[^\]]+\]/g,"").split("/");var _395=null;for(var i=0;i<_38e.length;i++){var obfuscator_rowIndex=_38e[i];_395=[];var obfuscator_objLastNode=null;for(var j=0;j<_394.length;j++){if(_394[j]!=""){var _397=_392.createElement(_394[j]);_395.push(_397);if(j==0){_393[_393.length-1].appendChild(_397);}else{_395[j-1].appendChild(_395[j]);}}}obfuscator_objLastNode=_395[_394.length-1];obfuscator_objLastNode.setAttribute("status",this.dataList.getRowStatusValue(obfuscator_rowIndex));obfuscator_objLastNode.setAttribute("statusValue",this.dataList.getRowStatus(obfuscator_rowIndex));obfuscator_objLastNode.setAttribute("id",obfuscator_rowIndex);var _398=this.getColumnCount();var _399=new Array(_398);for(var col=0;col<_398;col++){var obfuscator_cellValue="";if(_38f!="displayData"){obfuscator_cellValue=this.dataList.getCellData(obfuscator_rowIndex,col);if(obfuscator_cellValue==null){obfuscator_cellValue="";}}else{obfuscator_cellValue=this.getCellDisplayData(obfuscator_rowIndex,col);if(obfuscator_cellValue==null){obfuscator_cellValue="";}}if(this.options.xmlEncode){obfuscator_cellValue=$W._B.encode(obfuscator_cellValue);}var obfuscator_columnID=this.getColumnID(col);var _39b=this.getCellInfo(col);if(_39b.options.exportFormatter!=""){try{eval(_39b.options.exportFormatter+"(obfuscator_objLastNode, obfuscator_cellValue , obfuscator_rowIndex , obfuscator_columnID )");}catch(e){$W.exception.printStackTrace(e,null,this);$l("xmlDtaGetter - tdObj.exportFormatter error");}}else{_399[col]=_392.createElement(this.getColumnID(col));if(this._dataList.options.valueAttribute==""){var _39c=_392.createTextNode(obfuscator_cellValue);_399[col].appendChild(_39c);}else{_399[col].setAttribute(this._dataList.options.valueAttribute,obfuscator_cellValue);}obfuscator_objLastNode.appendChild(_399[col]);}}}return _392;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getAllVisibleXML=function(_39d){["WebSquare.uiplugin.gridViewApiController.prototype.getAllVisibleXML"];try{this._endEdit();var _39e=this.getDataLength();var _39f=[];for(var i=0;i<_39e;i++){_39f.push(i);}var _3a1=this.getArrXML(_39f,_39d);return _3a1;}catch(e){$W.exception.printStackTrace(e);}};$W._a.aj.prototype.getDisplayRowIndex=function(_3a2){["WebSquare.uiplugin.gridViewApiController.prototype.getDisplayRowIndex"];try{return this._dataList.getFilteredRowIndex(_3a2);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aj.prototype.getOption=function(_3a3){["WebSquare.uiplugin.gridViewApiController.prototype.getOption"];try{return this.options[_3a3];}catch(e){$W.exception.printStackTrace(e);}};$W._a.aj.prototype.getDataList=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getOption"];try{var _3a4=this._dataList.getInitializeType();var _3a5=this.getOption(_3a4);return _3a5;}catch(e){$W.exception.printStackTrace(e);}};$W._a.aj.prototype.makeCustomFilter=function(){["WebSquare.uiplugin.gridViewApiController.prototype.makeCustomFilter"];try{if(this.customFilter!=null){this.customFilter.remove();}this.customFilter=new $W._a._d(this.id+"_customFilter",{style:"position:absolute; border-width:1px;",className:"w2grid_customFilter",useModal:true,headerLeftClass:"w2grid_customFilter_HL",headerRightClass:"w2grid_customFilter_HR",headerCenterClass:"w2grid_customFilter_HC",bodyLeftClass:"w2grid_customFilter_BL",bodyRightClass:"w2grid_customFilter_BR",bodyCenterClass:"w2grid_customFilter_BC",bodyLeftBottomClass:"w2grid_customFilter_FL",bodyRightBottomClass:"w2grid_customFilter_FR",bodyBottomClass:"w2grid_customFilter_FC",closeButtonClass:"w2grid_customFilter_btnClose",title:$W._m.getMessage("Grid_filter_title")||"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \ud544\ud130",titleClass:"w2grid_customFilter_title"});var _3a6=new $W._a.aU(this.id+"_text1_"+this.headerID,{style:"position:absolute; margin:10px;",className:"w2grid_customFilter_text",label:$W._m.getMessage("Grid_filter_search_label")||"\ucc3e\uc744 \uc870\uac74"});this.customFilter.addControl(_3a6);this.selectboxItemSet=["=","<>",">",">=","<","<=",$W._m.getMessage("Grid_filter_condition1")||"\uc2dc\uc791\ubb38\uc790",$W._m.getMessage("Grid_filter_condition2")||"\uc81c\uc678\ud560 \uc2dc\uc791 \ubb38\uc790",$W._m.getMessage("Grid_filter_condition3")||"\ub05d \ubb38\uc790",$W._m.getMessage("Grid_filter_condition4")||"\uc81c\uc678\ud560 \ub05d \ubb38\uc790",$W._m.getMessage("Grid_filter_condition5")||"\ud3ec\ud568",$W._m.getMessage("Grid_filter_condition6")||"\ud3ec\ud568\ud558\uc9c0 \uc54a\uc74c"];this.customFilterItemCnt=0;this.groupList=[];var _3a7=new $W._a._o(this.id+"_item_"+this.customFilterItemCnt,{style:"position:absolute; width:100%; height:22px; margin-bottom:5px; background-color:transparent;"});this.customFilter.addControl(_3a7);this.groupList.push(_3a7);var _3a8=new $W._a._q(_3a7.id+"_selectbox_"+this.headerID,{style:"position:absolute;",className:"w2grid_customFilter_selectbox",textAlign:"left",chooseOption:true});_3a7.addControl(_3a8);var _3a9=new $W._a.an(_3a7.id+"_autocomplete_"+this.headerID,{style:"position:absolute;",className:"w2grid_customFilter_autocomplete",noResult:"useData",chooseOption:true,caseSensitive:false});_3a7.addControl(_3a9);for(var j=0;j<this.colDataList.length;j++){_3a9.addItem(this.colDataList[j],this.colDataList[j]);}var _3ab=this.headCellInfoHash[this.headerID].getAttribute("customFilterItemCnt")||2;for(var i=0;i<_3ab-1;i++){this.addCustomFilterItem();}var _3ad=new $W._a.aU(this.id+"_text2_"+this.headerID,{style:"position:absolute; margin-left:10px; margin-top:5px;",className:"w2grid_customFilter_text",label:$W._m.getMessage("Grid_filter_info_Label1")||"? \uae30\ud638\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud55c\ubb38\uc790\ub97c \ub098\ud0c0\ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4."});this.customFilter.addControl(_3ad);var _3ae=new $W._a.aU(this.id+"_text3_"+this.headerID,{style:"position:absolute; margin:5px; margin-bottom:10px; margin-left:10px;",className:"w2grid_customFilter_text",label:$W._m.getMessage("Grid_filter_info_Label2")||"* \uae30\ud638\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc5ec\ub7ec \ubb38\uc790\ub97c \ub098\ud0c0\ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4."});this.customFilter.addControl(_3ae);var _3af=new $W._a._o(this.id+"_buttonGroup_"+this.headerID,{style:"position:absolute;",className:"w2grid_customFilter_buttonGroup"});this.customFilter.addControl(_3af);var _3b0=this;var _3b1=new $W._a.aU(this.id+"_btnConform_"+this.headerID,{style:"position:absolute; border-width:1px;",className:"w2grid_customFilter_button",label:"\ud655\uc778",xmlEvents:[{name:"onclick",action:"script",param:{handler:function(e){_3b0.setCustomFilterExpression();}}}]});_3af.addControl(_3b1);_3b1.addEvent("onmousedown",function(){_3b1.toggleClass("w2grid_customFilter_button_selected");this.customFilterBtnSelected=true;});_3b1.addEvent("onmouseup",function(){_3b1.toggleClass("w2grid_customFilter_button_selected");this.customFilterBtnSelected=false;});_3b1.addEvent("onmouseout",function(){_3b1.toggleClass("w2grid_customFilter_button_selected");});var _3b3=new $W._a.aU(this.id+"_btnCancel",{style:"position:absolute; border-width:1px;",className:"w2grid_customFilter_button",label:"\ucde8\uc18c",xmlEvents:[{name:"onclick",action:"script",param:{handler:function(e){if(_3b0.options.groupbyZone){if(_3b0.firstOpenCustomFilter[_3b0.headerID]){_3b0.firstOpenCustomFilter[_3b0.headerID]=false;}}_3b0.customFilter.hide();}}}]});_3af.addControl(_3b3);_3b3.addEvent("onmousedown",function(){_3b3.toggleClass("w2grid_customFilter_button_selected");});_3b3.addEvent("onmouseup",function(){_3b3.toggleClass("w2grid_customFilter_button_selected");});_3b3.addEvent("onmouseout",function(){_3b3.toggleClass("w2grid_customFilter_button_selected");});this.customFilter.writeTo($W.getBody());this.customFilter.activate();this.setChildrenPosition();this.setDefaultValue();_3b3.render.style.left=_3af.render.offsetWidth-_3b3.render.offsetWidth-10+"px";_3b1.render.style.left=parseInt(_3b3.render.style.left,10)-_3b1.render.offsetWidth-5+"px";this.customFilter.hide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.setDefaultValue=function(){for(var i=0;i<this.groupList.length;i++){var _3b6=this.groupList[i];var _3b7=_3b6.getChildren();for(var j=0;j<_3b7.length;j++){var comp=_3b7[j];if(comp.id.indexOf("_selectbox")!=-1){for(var k=0;k<this.selectboxItemSet.length;k++){comp.addItemArr(this.selectboxItemSet[k],this.selectboxItemSet[k]);}var _3bb=this.itemValueObj[this.targetColID]["select"+i];comp.setSelectedIndex(_3bb?_3bb:0);}else{if(comp.id.indexOf("_autocomplete")!=-1){var _3bc=this.itemValueObj[this.targetColID]["auto"+i];comp.setValue(_3bc?_3bc:"");}else{if(comp.id.indexOf("_radio")!=-1){comp.addItem("OR","OR","0");comp.addItem("AND","AND","0");var _3bd=this.itemValueObj[this.targetColID]["radio"+i];comp.setSelectedIndex(_3bd?_3bd:0);}}}}}};$W._a.aj.prototype.getUniqueValueOfArray=function(arr){arr.sort();for(var i=1;i<arr.length;i++){if(arr[i]===arr[i-1]){arr.splice(i--,1);}}return arr;};$W._a.aj.prototype.setAutoCompleteItem=function(_3c0){var _3c1=this.dataList.getColData(_3c0);for(key in this.itemValueObj[this.targetColID]){if(key.indexOf("auto")!=-1){if(this.itemValueObj[this.targetColID][key]!=""){_3c1.push(this.itemValueObj[this.targetColID][key]);}}}this.colDataList=this.getUniqueValueOfArray(_3c1);this.colDataList.sort();};$W._a.aj.prototype.showFilterOptions=function(_3c2){if(this.options.useFilterList){if(this.customFilterList&&this.customFilterScrollView){this.toggleCustomFilterList(_3c2);}else{this.createCustomFilterList(_3c2);}}else{this.showCustomFilter(_3c2);}};$W._a.aj.prototype.showCustomFilter=function(_3c3){this.noevent=true;if(this.options.useFilterList&&!this.groupbyStatus.grouped){this.showFilterOptions(_3c3);return;}this._showCustomFilter(_3c3);};$W._a.aj.prototype._showCustomFilter=function(_3c4){this.headerID=_3c4;this.targetColID=this.getColIdByHeaderId(_3c4);if(this.customFilter==null){this.itemValueObj={};this.customFilterStatusObj={};}if(!this.itemValueObj[this.targetColID]){this.itemValueObj[this.targetColID]={};}this.setAutoCompleteItem(this.targetColID);this.makeCustomFilter();var _3c5=this.render.offsetTop;var _3c6=this.render.offsetLeft;var _3c7=this.getHeaderPosition(_3c4,"top");var _3c8=this.getHeaderPosition(_3c4,"left");var _3c9=this.getHeaderSize(_3c4,"width");var _3ca=this.getHeaderSize(_3c4,"height");var _3cb=0,screenHeight=0;if(typeof (window.innerWidth)=="number"){_3cb=window.innerWidth;screenHeight=window.innerHeight;}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){_3cb=document.documentElement.clientWidth;screenHeight=document.documentElement.clientHeight;}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){_3cb=document.body.clientWidth;screenHeight=document.body.clientHeight;}}}var _3cc=parseInt($W._G.getStyleProperty(this.customFilter.render,"width"),10);var _3cd=parseInt($W._G.getStyleProperty(this.customFilter.render,"height"),10);var _3ce=0;var _3cf=0;var top,left;if($W._G.isIE("6 7 8")){top=document.documentElement.scrollTop;left=document.documentElement.scrollLeft;}else{top=window.pageYOffset;left=window.pageXOffset;}if(_3c6+_3c8+_3c9+_3cc<=_3cb+left){_3ce=_3c6+_3c8+_3c9;}else{_3ce=_3c6+_3c8-_3cc;}if(_3c5+_3c7+_3ca+_3cd<=screenHeight+top){_3cf=_3c5+_3c7+_3ca;}else{_3cf=_3c5+this.render.offsetHeight-_3cd;}if(_3ce<left){_3ce=(_3cb-_3cc)/2+left;_3cf=_3c5+this.render.offsetHeight;if(_3cf+_3cd>screenHeight+top){_3cf=_3c5-_3cd;}}if(_3cf<top){_3cf=(screenHeight-_3cd)/2+top;}this.customFilter.render.style.left=_3ce+"px";this.customFilter.render.style.top=_3cf+"px";this.customFilter.show();};$W._a.aj.prototype.addCustomFilterItem=function(){this.customFilterItemCnt++;var _3d1=new $W._a._o(this.id+"_item_"+this.customFilterItemCnt,{style:"position:absolute;",className:"w2grid_customFilter_item"});this.customFilter.addControl(_3d1);this.groupList.push(_3d1);var _3d2=new $W._a._p(_3d1.id+"_radio",{style:"position:absolute; left:50px; height:20px;",className:"w2grid_customFilter_radio",selectedIndex:0,cols:2,rows:1});_3d1.addControl(_3d2);var _3d3=new $W._a._q(_3d1.id+"_selectbox",{style:"position:absolute; top:25px;",className:"w2grid_customFilter_selectbox",textAlign:"left",chooseOption:true});_3d1.addControl(_3d3);var _3d4=new $W._a.an(_3d1.id+"_autocomplete",{style:"position:absolute; top:25px;",className:"w2grid_customFilter_autocomplete",noResult:"useData",chooseOption:true,caseSensitive:false});_3d1.addControl(_3d4);for(var j=0;j<this.colDataList.length;j++){_3d4.addItem(this.colDataList[j],this.colDataList[j]);}};$W._a.aj.prototype.setChildrenPosition=function(){var _3d6=this.customFilter.getChildren();for(var i=1;i<=_3d6.length;i++){var _3d8=$W._H.getStyle(_3d6[i-1].render,"top");_3d8=_3d8==="auto"?"0":_3d8;if(i===_3d6.length){break;}var _3d9=$W._H.getStyle(_3d6[i-1].render,"margin-bottom");_3d9=_3d9==="auto"?"0":_3d9;_3d6[i].render.style.top=_3d6[i-1].render.offsetHeight+5+parseInt(_3d8?_3d8:"0",10)+parseInt(_3d9?_3d9:"0",10)+"px";}var _3da=this.customFilter.dom["closeButton"].parentNode.offsetHeight;var _3db=_3d6[i-1].render.offsetHeight+10+parseInt(_3d8?_3d8:"0",10);this.customFilter.setSize(this.customFilter.render.offsetWidth,_3da+_3db+6);};$W._a.aj.prototype.replacechar=function(_3dc){if(_3dc=="^"||_3dc=="$"||_3dc=="."||_3dc=="["||_3dc=="]"||_3dc=="{"||_3dc=="}"||_3dc=="+"||_3dc=="("||_3dc==")"||_3dc=="|"){return "\\"+_3dc;}else{if(_3dc=="\\"){return "\\"+_3dc;}}};$W._a.aj.prototype.setCustomFilterExpression=function(){this.dataList.removeColumnFilter(this.targetColID);var _3dd=true;var _3de=[];for(var i=0;i<this.groupList.length;i++){var _3e0={};var _3e1=this.groupList[i];var _3e2=_3e1.getChildren();for(var j=0;j<_3e2.length;j++){var comp=_3e2[j];if(comp.id.indexOf("_selectbox")!=-1){_3e0["select"]=comp.getSelectedIndex();this.itemValueObj[this.targetColID]["select"+i]=comp.getSelectedIndex();_3dd=_3dd&&comp.getSelectedIndex()==0;}else{if(comp.id.indexOf("_autocomplete")!=-1){var _3e5=this;var sReg=/[\^\$\.\[\]\{\}\+\(\)\|\\]/g;_3e0["auto"]=comp.getValue()!=comp.options.chooseOptionLabel?(comp.getValue()+"").replace(sReg,function(m){return _3e5.replacechar(m);}).replace("?",".").replace("*",".*"):"";this.itemValueObj[this.targetColID]["auto"+i]=comp.getValue();_3dd=_3dd&&comp.getValue()==comp.options.chooseOptionLabel;}else{if(comp.id.indexOf("_radio")!=-1){_3e0["radio"]=comp.getSelectedIndex();this.itemValueObj[this.targetColID]["radio"+i]=comp.getSelectedIndex();}}}}if(_3e0["select"]){_3de.push(_3e0);}}this.customFilterStatusObj[this.headerID]=true;this.dataList.setColumnFilter({type:"func",colIndex:this.targetColID,key:this.customFilterOperator,condition:"and",param:_3de});var _3e8=this.getElementById(this.id+"_"+this.headerID+"_filter");if(_3dd||_3de.length==0){$W._H.removeClass(_3e8,"w2grid_customFilter_filter");}else{$W._H.addClass(_3e8,"w2grid_customFilter_filter");}this.customFilter.hide();};$W._a.aj.prototype.customFilterOperator=function(_3e9,_3ea){var _3eb=true;var _3ec=[];for(var i=0;i<_3ea.length;i++){var temp=true;var _3ef;switch(_3ea[i]["select"]){case 1:_3ef=new RegExp(_3ea[i]["auto"],"g");_3ef.lastIndex=0;temp=_3e9==_3ef.exec(_3e9)?true:false;break;case 2:_3ef=new RegExp(_3ea[i]["auto"],"g");_3ef.lastIndex=0;temp=_3e9!=_3ef.exec(_3e9)?true:false;break;case 3:temp=_3e9>_3ea[i]["auto"].replace(".*","~~").replace(".","~")?true:false;break;case 4:temp=_3e9>=_3ea[i]["auto"].replace(".*","~~").replace(".","~")?true:false;break;case 5:temp=_3e9<_3ea[i]["auto"].replace(".*","~~").replace(".","~")?true:false;break;case 6:temp=_3e9<=_3ea[i]["auto"].replace(".*","~~").replace(".","~")?true:false;break;case 7:_3ef=new RegExp("^("+_3ea[i]["auto"]+")","g");temp=_3ef.test(_3e9)?true:false;break;case 8:_3ef=new RegExp("^[^("+_3ea[i]["auto"]+")]","g");temp=_3ef.test(_3e9)?true:false;break;case 9:_3ef=new RegExp("("+_3ea[i]["auto"]+")$","g");temp=_3ef.test(_3e9)?true:false;break;case 10:_3ef=new RegExp("[^("+_3ea[i]["auto"]+")]$","g");temp=_3ef.test(_3e9)?true:false;break;case 11:_3ef=new RegExp(_3ea[i]["auto"],"g");temp=_3ef.test(_3e9)?true:false;break;case 12:_3ef=new RegExp("^(?!.*"+_3ea[i]["auto"]+").*","g");temp=_3ef.test(_3e9)?true:false;break;default:temp=_3e9==_3ea[i]["auto"]?true:false;break;}if(_3ea.length===1){_3eb=temp;break;}if(i===0){_3eb=temp;continue;}if(_3ea[i]["radio"]==0){_3eb=_3eb&&temp;}else{_3eb=_3eb||temp;}}return _3eb;};$W._a.aj.prototype.syncWithSortStatus=function(){["WebSquare.uiplugin.gridViewApiController.prototype.syncWithSortStatus"];try{this.headerSortStatusArr=[];var _3f0=this._linkedDataList||this._dataList;for(var i=0;i<_3f0.sortStatusArr.length;i++){var _3f2=_3f0.sortStatusArr[i];if(typeof this.getColumnIndex(_3f2.colID)=="number"){this.headerSortStatusArr.push(_3f2);this.headerSortStatusArr[_3f2.colID]=_3f2;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.getFixedColumnLastIndex=function(){["WebSquare.uiplugin.gridViewApiController.prototype.getFixedColumnLastIndex"];try{var _3f3=this.options.fixedColumn+this.defaultColCnt;if(_3f3<1){return 0;}if(!this.options.fixedColumnWithHidden){var cnt=0;for(var i=0;i<this.hiddenList.length;i++){if(!this.hiddenList[i]){cnt++;}if(cnt==_3f3){return (i+1);}}}return _3f3;}catch(e){$W.exception.printStackTrace(e,null,this);return (this.options.fixedColumn+this.defaultColCnt);}};$W._a.aj.prototype.columnValue=function(_3f6,_3f7){["WebSquare.uiplugin.gridViewApiController.prototype.columnValue"];try{var _3f8="";_3f7=this.getColumnID(_3f7);if(_3f6.nodeType!=undefined&&typeof _3f6.selectSingleNode!="undefined"){if(this.options.valueNode==null||this.options.valueNode==""){_3f8=$W._G.getTextNodeValue(_3f6.selectSingleNode(_3f7));}else{_3f8=_3f6.selectSingleNode(_3f7).getAttribute(this.options.valueNode);}}else{_3f8=_3f6[_3f7];}return _3f8;}catch(e){$W.exception.printStackTrace(e,null,this);}return "";};$W._a.aj.prototype.rowIndexValue=function(_3f9){["WebSquare.uiplugin.xmlDataController.prototype.xpathValue"];return _3f9;};$W._a.aj.prototype.getColumnOption=function(_3fa,_3fb){["WebSquare.uiplugin.gridViewApiController.prototype.getColumnOption"];try{var _3fc="";if(this.successBinding){var _3fd=this.cellInfoHash[_3fa];if(_3fb=="dataType"){if(_3fd){var _3fe=_3fd.options.dataType;if(_3fe){_3fc=_3fe;}else{_3fc=this._dataList.getColumnOption(_3fa,_3fb);}}else{_3fc=this._dataList.getColumnOption(_3fa,_3fb);if(!_3fc){_3fc="text";}}}else{_3fc=_3fd.options[_3fb]||"";}return _3fc;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.refresh=function(){try{if(!this.startedDisplayNone&&this.rowIndex>=0){this.drawData(this.rowIndex,0);this.displayNoResultMessage();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aj.prototype.checkAdaptiveGridType=function(){["WebSquare.uiplugin.gridViewApiController.prototype.checkAdaptiveGridType"];try{if(this.options.groupbyZone){var _3ff=$W._m.getMessage("Grid_warning5",this.id)||"["+this.id+"] adaptive\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 Grid \uc785\ub2c8\ub2e4.";$l(_3ff);return false;}var _400=this.htmlInfo.head.rowAttrArr.length;var _401=this.htmlInfo.body.rowAttrArr.length;var _402=this.hasFooter?this.htmlInfo.foot.rowAttrArr.length:0;var _403=0;if(this.hasSubtotal){var _404=this.htmlInfo.subtotalArr;for(var i=0;i<_404.length;i++){_403+=_404[i].rowAttrArr.length;}}if(_400==1&&_401==1){this.adaptiveGridType=1;}if(_400==1&&_401==2){this.adaptiveGridType=2;}else{if(_400==2&&_401==1){this.adaptiveGridType=3;}else{if(_400==2&&_401==2){this.adaptiveGridType=4;}else{if(_400==3&&_401==1){this.adaptiveGridType=5;}}}}if(_400>3||_401>2||_403>3){var _3ff=$W._m.getMessage("Grid_warning5",this.id)||"["+this.id+"] adaptive\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 Grid \uc785\ub2c8\ub2e4.";$l(_3ff);return false;}if((_400+(_401>_403?_401:_403))>4){var _3ff=$W._m.getMessage("Grid_warning5",this.id)||"["+this.id+"] adaptive\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 Grid \uc785\ub2c8\ub2e4.";$l(_3ff);return false;}if($W._G.isIE(6)||$W._G.isIE(7)||$W._G.isIE(8)||$W._G.isIE(9)){return false;}return true;}catch(e){$W.exception.printStackTrace(e);}};$W._a.aj.prototype.setAdaptiveGridBodyHeight=function(){["WebSquare.uiplugin.gridViewApiController.prototype.setAdaptiveGridBodyHeight"];try{var _406=this.getHeaderID(0);var _407=parseInt(this.getHeaderCellStyleValue(_406,"padding-top"));var _408=parseInt(this.getHeaderCellStyleValue(_406,"padding-bottom"));var _409=_407+_408;var _40a=function(_40b){var _40c=this.getColumnIndex(_40b);var _40d=parseInt(this.getColumnStyleValue(_40c,"height"),10);var _40e=parseInt(this.getAdaptiveColumnStyleValue(_40c,"height"),10);if(!isNaN(_40e)){this.orgBodyHeightObj[_40b]=this.getColumnStyleValue(_40b,"height");this.setColumnStyle(_40b,"height",_40e+"px");}};var _40f=this.htmlInfo.head.rowArr;for(var i=0;i<_40f.length;i++){var _411=_40f[i];for(var j=0;j<_411.length;j++){var _413=_411[j];var _414=parseInt(_413.colSpan,10);var _415=_413.id;var _416=this.headerToBodyRelation[_415];var _417=this.getColumnIndex(_416);if(!isNaN(_414)&&_414>1){for(var k=0;k<_414;k++){_40a.call(this,this.getColumnID(_417+k));}}else{_40a.call(this,_416);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aj.prototype.removeAdaptiveGridBodyHeight=function(){["WebSquare.uiplugin.gridViewApiController.prototype.removeAdaptiveGridBodyHeight"];try{for(keys in this.orgBodyHeightObj){this.setColumnStyle(keys,"height",this.orgBodyHeightObj[keys]);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aj.prototype.setAdaptiveGridHeaderHeight=function(){["WebSquare.uiplugin.gridViewApiController.prototype.setAdaptiveGridHeaderHeight"];try{var _419=this.getHeaderID(0);var _41a=parseInt(this.getHeaderCellStyleValue(_419,"padding-top"),10);var _41b=parseInt(this.getHeaderCellStyleValue(_419,"padding-bottom"),10);var _41c=_41a+_41b;var _41d=this.htmlInfo.head.rowArr;for(var i=0;i<_41d.length;i++){var _41f=_41d[i];for(var j=0;j<_41f.length;j++){var _421=_41f[j];var _422=parseInt(_421.colSpan,10);var _423=_421.id;var _424=this.headerToBodyRelation[_423];var _425=this.getColumnIndex(_424);var _426=parseInt(this.getCellInfo(_425).options.colSpan,10);var _427=0;var _428=parseInt(this.getHeaderCellStyleValue(_423,"height"));if(_425!=undefined){if(_422>0){for(var k=_425;k<(_425+_422);k++){_427+=parseInt(this.getColumnStyleValue(k,"height"),10);_427+=_41c;}_427-=(_41c-(_422-1));if(_428!=_427){this.orgHeaderHeightObj[_423]=_428+"px";this.setHeaderStyle(_423,"height",_427+"px");}}else{_427=parseInt(this.getColumnStyleValue(_425,"height"),10);if(_426>1){_427-=(_41c+1)*(_426-1);var _42a=Math.round(_427/_426);for(var k=j;k<j+_426;k++){_421=_41f[k];_423=_421.id;_428=parseInt(this.getHeaderCellStyleValue(_423,"height"));if(k==j+_426-1){this.orgHeaderHeightObj[_423]=_428+"px";this.setHeaderStyle(_423,"height",_427+"px");}else{this.orgHeaderHeightObj[_423]=_428+"px";this.setHeaderStyle(_423,"height",_42a+"px");_427-=_42a;}}}else{if(_428!=_427){this.orgHeaderHeightObj[_423]=_428+"px";this.setHeaderStyle(_423,"height",_427+"px");}}}}}}if(this.hasFooter){var _42b=this.htmlInfo.foot.rowArr;for(var i=0;i<_42b.length;i++){var _42c=_42b[i];for(var j=0;j<_42c.length;j++){var _42d=_42c[j];var _42e=parseInt(_42d.colSpan);var _42f=_42d.id;var _425=j;var _427=0;var _430=parseInt(this.getFooterStyle(_42f,"height"));if(_42e>0){for(var k=_425;k<(_425+_42e);k++){_427+=parseInt(this.getColumnStyleValue(k,"height"));_427+=_41c;}_427-=(_41c-(_42e-1));}else{_427=parseInt(this.getColumnStyleValue(_425,"height"));}if(_430!=_427){this.orgFooterHeightObj[_42f]=_430+"px";this.setFooterStyle(_42f,"height",_427+"px");}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aj.prototype.removeAdaptiveGridHeaderHeight=function(){["WebSquare.uiplugin.gridViewApiController.prototype.removeAdaptiveGridHeaderHeight"];try{for(keys in this.orgHeaderHeightObj){this.setHeaderStyle(keys,"height",this.orgHeaderHeightObj[keys]);}for(keys in this.orgFooterHeightObj){this.setFooterStyle(keys,"height",this.orgFooterHeightObj[keys]);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aj.prototype.setAdaptiveGridSubtotalHeight=function(){["WebSquare.uiplugin.gridViewApiController.prototype.setAdaptiveGridSubtotalHeight"];try{var _431=this.getHeaderID(0);var _432=parseInt(this.getHeaderCellStyleValue(_431,"padding-top"));var _433=parseInt(this.getHeaderCellStyleValue(_431,"padding-bottom"));var _434=_432+_433;if(Object.keys(this.orgSubtotalHeightObj).length==0){for(var i=0;i<this.drawedSubtotal.length;i++){for(var j=0;j<this.drawedSubtotal[i].length;j++){var _437=this.drawedSubtotal[i][j].childNodes;for(var k=this.defaultColCnt;k<_437.length;k++){var _439=parseInt(_437[k].getAttribute("colSpan"));var _43a=_437[k].getAttribute("id");var _43b=0;var _43c=_437[k].style.height;if(_439!=null&&_439>0){for(var l=k;l<k+_439;l++){_43b+=parseInt(this.getColumnStyleValue((l-this.defaultColCnt),"height"));_43b+=_434;}_43b-=(_434-(_439-1));}else{_43b=_43c;}if(_43c!=_43b){this.orgSubtotalHeightObj[_43a]=_43c;_437[k].style.height=_43b+"px";}}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aj.prototype.removeAdaptiveGridSubtotalHeight=function(){["WebSquare.uiplugin.gridViewApiController.prototype.removeAdaptiveGridSubtotalHeight"];try{for(keys in this.orgSubtotalHeightObj){for(var i=0;i<this.drawedSubtotal.length;i++){for(var j=0;j<this.drawedSubtotal[i].length;j++){var _440=this.drawedSubtotal[i][j].childNodes;for(var k=this.defaultColCnt;k<_440.length;k++){var _442=parseInt(_440[k].getAttribute("colSpan"));var _443=_440[k].getAttribute("id");if(_443==keys){_440[k].style.height=this.orgSubtotalHeightObj[keys];}}}}}this.orgSubtotalHeightObj={};}catch(e){$W.exception.printStackTrace(e);}};$W._a.aj.prototype.setDrillDownDragDrop=function(_444){["WebSquare.uiplugin.gridApiController.prototype.setDrillDownDragDrop"];try{this.drillDownDragDrop=$W._G.getBoolean(_444);}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.gridViewApiController=$W._a.aj;$W._a.aD=function(){["WebSquare.uiplugin.styleController"];};$W._a.aD.prototype.getColumnReadOnly=function(_1){["WebSquare.uiplugin.styleController.prototype.getColumnReadOnly"];var _2=this.getCellInfo(_1);if(_2.options.readOnly!=""){return $W._G.getBoolean(_2.options.readOnly);}return "";};$W._a.aD.prototype.setColumnReadOnly=function(_3,_4){["WebSquare.uiplugin.styleController.prototype.setColumnReadOnly"];try{var _5=this.getCellInfo(_3);if(_4!=""){_4=$W._G.getBoolean(_4);}_5.options.readOnly=_4;var _6=this.rollbackCommitFlag;if(this.editedCell!=null){var _7=parseInt(this.editedCell.editTd.getAttribute("tdindex"));var _8=(_7%this.realRowDataLength)-(this.realRowDataLength-this.oneRowDataLength);if(_8==_3){this.rollbackCommitFlag=true;}else{this.rollbackCommitFlag=false;}}else{this.rollbackCommitFlag=false;}this.drawColumnData(_3);this.applyStyleOptions(this.lastIndex);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.getRowReadOnly=function(_9,_a){["WebSquare.uiplugin.grid.prototype.getRowReadOnly"];try{var _b=_a===true?_9:this.dataList.getRealRowIndex(_9);var _c=this.rowReadOnlyArr[_b];if(_c!=true&&_c!=false){return "";}return _c;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.setRowReadOnly=function(_d,_e,_f){["WebSquare.uiplugin.grid.prototype.setRowReadOnly"];try{var _10=_f===true?_d:this.dataList.getRealRowIndex(_d);if(_e!=""){_e=$W._G.getBoolean(_e);}this.rowReadOnlyArr[_10]=_e;var _11=this.rollbackCommitFlag;if(this.editedCell!=null&&this.editedCell.editRowIndex==_10){this.rollbackCommitFlag=true;}else{this.rollbackCommitFlag=false;}this.drawRowData(_d-this.rowIndex,_d);this.applyRowStyleOptions(_d);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.getCellReadOnly=function(_12,_13,_14){["WebSquare.uiplugin.grid.prototype.getCellReadOnly"];try{var _13=this.getColumnIndex(_13);var _15=_14===true?_12:this.dataList.getRealRowIndex(_12);var _16=this.cellReadOnlyArr[_15*this.oneRowDataLength+_13];if(_16!=true&&_16!=false){return "";}return _16;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.setCellReadOnly=function(_17,_18,_19){["WebSquare.uiplugin.grid.prototype.setCellReadOnly"];try{if(_19!=""){_19=$W._G.getBoolean(_19);}var _18=this.getColumnIndex(_18);var _1a=this.dataList.getRealRowIndex(_17);this.cellReadOnlyArr[_1a*this.oneRowDataLength+_18]=_19;var _1b=this.rollbackCommitFlag;if(this.editedCell!=null&&this.editedCell.editRowIndex==_1a){var _1c=parseInt(this.editedCell.editTd.getAttribute("tdindex"));var _1d=(_1c%this.realRowDataLength)-(this.realRowDataLength-this.oneRowDataLength);if(_1d==_18){this.rollbackCommitFlag=true;}else{this.rollbackCommitFlag=false;}}else{this.rollbackCommitFlag=false;}this.notifyCellChanged(_17,_18);this.rollbackCommitFlag=_1b;this.applyCellStyleOptions(_17,_18);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.getColumnDisabled=function(_1e){["WebSquare.uiplugin.styleController.prototype.getColumnDisabled"];var _1f=this.getCellInfo(_1e);return $W._G.getBoolean(_1f.options.disabled);};$W._a.aD.prototype.setColumnDisabled=function(_20,_21){["WebSquare.uiplugin.styleController.prototype.getColumnDisabled"];var _22=this.getCellInfo(_20);_22.options.disabled=$W._G.getBoolean(_21);this.drawColumnData(_20);this.applyColumnStyleOptions(_20);};$W._a.aD.prototype.getRowDisabled=function(_23){["WebSquare.uiplugin.grid.prototype.getGridDisabled"];try{var _24=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _25=(_24)?_23:this.dataList.getRealRowIndex(_23);var _26=$W._G.getBoolean(this.rowDisabledArr[_25]);return _26;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.setRowDisabled=function(_27,_28){["WebSquare.uiplugin.grid.prototype.getGridDisabled"];try{_28=$W._G.getBoolean(_28);var _29=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _2a=(_29)?_27:this.dataList.getRealRowIndex(_27);this.rowDisabledArr[_2a]=_28;this.drawRowData(_27-this.rowIndex,_27);this.applyRowStyleOptions(_27);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.getCellDisabled=function(_2b,_2c){["WebSquare.uiplugin.grid.prototype.getGridDisabled"];try{var _2c=this.getColumnIndex(_2c);var _2d=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _2e=(_2d)?_2b:this.dataList.getRealRowIndex(_2b);var _2f=this.cellDisabledArr[_2e*this.oneRowDataLength+_2c];if(_2f!=true&&_2f!=false){return "";}return _2f;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.setCellDisabled=function(_30,_31,_32){["WebSquare.uiplugin.grid.prototype.getGridDisabled"];try{var _31=this.getColumnIndex(_31);var _33=!!(this.isDrillDown&&this._dataList.options.depthColumn);var _34=(_33)?_30:this.dataList.getRealRowIndex(_30);this.cellDisabledArr[_34*this.oneRowDataLength+_31]=$W._G.getBoolean(_32);this.notifyCellChanged(_30,_31);this.applyCellStyleOptions(_30,_31);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.setTDStyle=function(_35,_36,_37,_38,_39){["WebSquare.uiplugin.styleController.prototype.setTDStyle"];if(this.options.readOnlyBackgroundColor!=""&&this._getEditReadOnly(_36,_37)){_39="background-color:"+this.options.readOnlyBackgroundColor+";"+_39;}if(this.getEditDisabled(_36,_37)){_35.disabled=true;if(this.options.disabledBackgroundColor!=""){_39+=";background-color:"+this.options.disabledBackgroundColor;}if(this.options.disabledFontColor!=""){_39+=";color:"+this.options.disabledFontColor;}}else{_35.disabled=false;}_35.style.cssText=styleStr+";"+columnStyleStr+";"+_38+";"+_39;};$W._a.aD.prototype.setRowBackgroundColor=function(_3a,_3b){["WebSquare.uiplugin.styleController.prototype.setRowBackgroundColor"];this.setRowStyle(_3a,"background-color",_3b);};$W._a.aD.prototype.setRowColor=function(_3c,_3d){["WebSquare.uiplugin.styleController.prototype.setRowColor"];this.setRowStyle(_3c,"color",_3d);};$W._a.aD.prototype.setRowStyle=function(_3e,_3f,_40){["WebSquare.uiplugin.styleController.prototype.setRowStyle"];var _41=this.getRowStyleClassName(_3e);if(_41==null){this.rowStyleIndex++;_41=this.id+"_rowstyle_"+this.rowStyleIndex+"_";this.setRowStyleClassName(_3e,_41);}var _42=this.rowStyleValueObj[_41];if(_42==null){_42=[];}_42[_3f]=_40;var _43=[];for(var _3f in _42){var _44=_42[_3f];if(_3f!="style"&&_44!=""){_43.push(_3f+":"+_44);}}_42["style"]=_43.join(";");this.rowStyleValueObj[_41]=_42;this.applyRowStyleOptions(_3e);};$W._a.aD.prototype.getRowBackgroundColor=function(_45){["WebSquare.uiplugin.styleController.prototype.getRowBackgroundColor"];return this.getRowStyleValue(_45,"background-color");};$W._a.aD.prototype.getRowColor=function(_46){["WebSquare.uiplugin.styleController.prototype.getRowColor"];return this.getRowStyleValue(_46,"color");};$W._a.aD.prototype.getRowStyleValue=function(_47,_48){["WebSquare.uiplugin.styleController.prototype.getRowStyleValue"];var _49=this.getRowStyleClassName(_47);if(_49==null){return "";}return this.rowStyleValueObj[_49][_48]||"";};$W._a.aD.prototype._getRowStyleStr=function(_4a){["WebSquare.uiplugin.styleController.prototype.getRowStyleValue"];var _4b=this.rowStyleValueObj[_4a]["style"];return _4b;};$W._a.aD.prototype.setColumnBackgroundColor=function(_4c,_4d){["WebSquare.uiplugin.styleController.prototype.setColumnBackgroundColor"];this.setColumnStyle(_4c,"background-color",_4d);};$W._a.aD.prototype.setColumnColor=function(_4e,_4f){["WebSquare.uiplugin.styleController.prototype.setColumnColor"];this.setColumnStyle(_4e,"color",_4f);};$W._a.aD.prototype.setColumnStyle=function(_50,_51,_52){["WebSquare.uiplugin.styleController.prototype.setColumnStyle"];var _50=this.getColumnIndex(_50);if(!this.getColumnID(_50)&&!this._dataList.getColumnID(_50)){$W.logger.printLog("[Warning] Doesn't columns have the colIndex.");return;}var _53=this.columnStyleValueObj[_50];if(_53==null){_53=[];}_53[_51]=_52;var _54=[];for(var _51 in _53){var _55=_53[_51];if(_51!="style"&&_55!=""){_54.push(_51+":"+_55);}}_53["style"]=_54.join(";");this.columnStyleValueObj[_50]=_53;this.applyColumnStyleOptions(_50);};$W._a.aD.prototype.setAdaptiveColumnStyle=function(_56,_57,_58){["WebSquare.uiplugin.styleController.prototype.setColumnStyle"];var _56=this.getColumnIndex(_56);if(!this.getColumnID(_56)&&!this._dataList.getColumnID(_56)){$W.logger.printLog("[Warning] Doesn't columns have the colIndex.");return;}var _59=this.adaptiveColumnStyleValueObj[_56];if(_59==null){_59=[];}_59[_57]=_58;var _5a=[];for(var _57 in _59){var _5b=_59[_57];if(_57!="style"&&_5b!=""){_5a.push(_57+":"+_5b);}}_59["style"]=_5a.join(";");this.adaptiveColumnStyleValueObj[_56]=_59;};$W._a.aD.prototype.getColumnBackgroundColor=function(_5c){["WebSquare.uiplugin.styleController.prototype.getColumnBackgroundColor"];return this.getColumnStyleValue(_5c,"background-color");};$W._a.aD.prototype.getColumnColor=function(_5d){["WebSquare.uiplugin.styleController.prototype.getColumnColor"];return this.getColumnStyleValue(_5d,"color");};$W._a.aD.prototype.getColumnStyleValue=function(_5e,_5f){["WebSquare.uiplugin.styleController.prototype.getColumnStyleValue"];var _60=this.columnStyleValueObj[_5e];if(_60==null){return "";}return _60[_5f]||"";};$W._a.aD.prototype._getColumnStyleStr=function(_61){["WebSquare.uiplugin.styleController.prototype._getColumnStyleStr"];var _62=this.columnStyleValueObj[_61]["style"];return _62;};$W._a.aD.prototype.getAdaptiveColumnStyleValue=function(_63,_64){["WebSquare.uiplugin.styleController.prototype.getAdaptiveColumnStyleValue"];var _65=this.adaptiveColumnStyleValueObj[_63];if(_65==null){return "";}return _65[_64]||"";};$W._a.aD.prototype.setCellBackgroundColor=function(_66,_67,_68){["WebSquare.uiplugin.styleController.prototype.setCellBackgroundColor"];this.setCellStyle(_66,_67,"background-color",_68);};$W._a.aD.prototype.setCellColor=function(_69,_6a,_6b){["WebSquare.uiplugin.styleController.prototype.setCellColor"];this.setCellStyle(_69,_6a,"color",_6b);};$W._a.aD.prototype.setCellStyle=function(_6c,_6d,_6e,_6f){["WebSquare.uiplugin.styleController.prototype.setCellStyle"];var _70=this.getCellStyleClassName(_6c,_6d);if(_70==null){this.cellStyleIndex++;_70=this.id+"_cellstyle_"+this.cellStyleIndex+"_";this.setCellStyleClassName(_6c,_6d,_70);}var _6d=this.getColumnIndex(_6d);var _71=this.cellStyleValueObj[_70];if(_71==null){_71={};}_71[_6e]=_6f;var _72=[];for(var _6e in _71){var _73=_71[_6e];if(_6e!="style"&&_73!=""){_72.push(_6e+":"+_73);}}_71["style"]=_72.join(";");this.cellStyleValueObj[_70]=_71;this.applyCellStyleOptions(_6c,_6d);};$W._a.aD.prototype.setDisabledCellStyle=function(_74,_75,_76,_77){["WebSquare.uiplugin.styleController.prototype.setDisabledCellStyle"];var _75=this.getColumnIndex(_75);if(!this.getEditDisabled(_74,_75)){return;}if(!this.disabledCellStyleObj){this.disabledCellStyleObj={};}if(!this.disabledCellStyleObj[_74+"_"+_75]){this.disabledCellStyleObj[_74+"_"+_75]={};}var _78=this.disabledCellStyleObj[_74+"_"+_75];if(_78==null){_78={};}_78[_76]=_77;var _79=[];for(var _76 in _78){var _7a=_78[_76];if(_76!="style"&&_7a!=""){_79.push(_76+":"+_7a);}}_78["style"]=_79.join(";");this.disabledCellStyleObj[_74+"_"+_75]=_78;this.applyCellStyleOptions(_74,_75);};$W._a.aD.prototype.getCellBackgroundColor=function(_7b,_7c){["WebSquare.uiplugin.styleController.prototype.getCellBackgroundColor"];return this.getCellStyleValue(_7b,_7c,"background-color");};$W._a.aD.prototype.getCellColor=function(_7d,_7e){["WebSquare.uiplugin.styleController.prototype.getCellColor"];return this.getCellStyleValue(_7d,_7e,"color");};$W._a.aD.prototype.getCellStyleValue=function(_7f,_80,_81){["WebSquare.uiplugin.styleController.prototype.getCellStyleValue"];try{var _82=this.getCellStyleClassName(_7f,_80);if(_82==null){$W.logger.printLog("[Warning] Is not exist cell!");return "";}return this.cellStyleValueObj[_82][_81]||"";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype._getCellStyleStr=function(_83){["WebSquare.uiplugin.styleController.prototype._getCellStyleStr"];var _84=this.cellStyleValueObj[_83]["style"];return _84;};$W._a.aD.prototype.setHeaderCellStyle=function(_85,_86,_87){["WebSquare.uiplugin.styleController.prototype.setHeaderCellStyle"];try{var th=this.getHeaderLayer(_85);$W._H.setStyle(th,_86,_87);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.setHeaderBackgroundColor=function(_89,_8a){["WebSquare.uiplugin.styleController.prototype.setHeaderBackgroundColor"];try{var th=this.getHeaderLayer(_89);$W._H.setStyle(th,"background-color",_8a);this.headerCellStyleValueObj[_89]={"background-color":_8a};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.setHeaderColor=function(_8c,_8d){["WebSquare.uiplugin.styleController.prototype.setHeaderColor"];try{var th=this.getHeaderLayer(_8c);$W._H.setStyle(th,"color",_8d);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.getHeaderCellStyleValue=function(_8f,_90){["WebSquare.uiplugin.styleController.prototype.getHeaderCellStyleValue"];try{var th=this.getHeaderLayer(_8f);return $W._H.getStyle(th,_90);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aD.prototype.getHeaderBackgroundColor=function(_92){["WebSquare.uiplugin.styleController.prototype.getHeaderBackgroundColor"];return this.getHeaderCellStyleValue(_92,"background-color");};$W._a.aD.prototype.getHeaderColor=function(_93){["WebSquare.uiplugin.styleController.prototype.getHeaderColor"];return this.getHeaderCellStyleValue(_93,"color");};;WebSquare.uiplugin.styleController=$W._a.aD;$W._a._Y=function(_1){this.mainGrid=_1;this.filterArr=[];this.allRowIndexArr=[];this.firstFiltering=true;this.firstOpenCustomFilter={};this.customFilterStatusObj={};};$W._a._Y.prototype.useFilter=function(){if(this.filterArr.length!=0){return true;}return false;};$W._a._Y.prototype.clear=function(){this.filterArr=[];this.firstFiltering=true;};$W._a._Y.prototype._setAllRowIndexArr=function(_2){if(this.allRowIndexArr.length!=_2){this.allRowIndexArr=[];for(var i=0;i<_2;i++){this.allRowIndexArr.push(i);}}};$W._a._Y.prototype.executeAllFilter=function(_4,_5,_6){this._setAllRowIndexArr(_5);this.firstFiltering=true;for(var i=0;i<this.filterArr.length;i++){this.executeFilter(this.filterArr[i],_4,_5,_6);}if(this.filterArr.length==0){for(var i=0;i<this.mainGrid.filteredRowIndexArr.length;i++){this.mainGrid.filteredRowIndexArr[i]=i;}}};$W._a._Y.prototype.executeFilter=function(_8,_9,_a,_b){["WebSquare.uiplugin.dataFilter.prototype.executeFilter"];try{if(_8.options.condition=="and"){if(this.firstFiltering){this.mainGrid.filteredRowIndexArr=_8.execute(_9,_a,_b,this.allRowIndexArr);}else{this.mainGrid.filteredRowIndexArr=_8.execute(_9,_a,_b,this.mainGrid.filteredRowIndexArr);}}else{if(_8.options.condition=="or"){var _c=_8.execute(_9,_a,_b,this.allRowIndexArr);if(this.firstFiltering){this.mainGrid.filteredRowIndexArr=this.mergeArray(this.allRowIndexArr,_c);}else{this.mainGrid.filteredRowIndexArr=this.mergeArray(this.mainGrid.filteredRowIndexArr,_c);}}else{if(_8.options.condition==">"||_8.options.condition==">="||_8.options.condition=="<"||_8.options.condition=="<="){if(_8.options.columnDataType!="number"){this.mainGrid.filteredRowIndexArr=this.allRowIndexArr;this.firstFiltering=false;return;}if(this.firstFiltering){this.mainGrid.filteredRowIndexArr=_8.executeCondition(_9,_a,_b,this.allRowIndexArr);}else{this.mainGrid.filteredRowIndexArr=_8.executeCondition(_9,_a,_b,this.mainGrid.filteredRowIndexArr);}}}}this.firstFiltering=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.addFilter=function(_d,_e,_f,_10,_11){["WebSquare.uiplugin.dataFilter.prototype.addFilter"];try{this._setAllRowIndexArr(_f);var _12=null;if(_11.type=="row"){_12=new $W.rowFilter(_d,_11);}else{if(_11.type=="user"){_12=new $W.userFilter(_d,_11);}else{if(_11.type=="cell"){_12=new $W.cellFilter(_d,_11);}else{if(_11.type=="sort"){_12=new $W.sortFilter(_d,_11);this.deleteFilterById("sort^@",false);var _13=_11.sortIndex;if(typeof _13=="string"){var _13=_11.sortIndex.split(" ");}var _14=this.mainGrid.getColCnt();for(var i=0;i<_13.length;i++){var _16=this.mainGrid.getCellInfo(_13[i]);if(_16.options.inputType=="expression"){var _17=this.mainGrid.getColumnIndex(_16.options.id);for(var j=0;j<_f;j++){_e[_17+_14*j]=_16.getDisplayData(null,j);}}}}else{if(_11.type=="func"){_12=new $W.funcFilter(_d,_11);}else{if(_11.type=="regExp"){_12=new $W.regExpFilter(_d,_11);}}}}}}this.executeFilter(_12,_e,_f,_10);this.filterArr.push(_12);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.deleteFilter=function(_19,_1a,_1b,_1c,_1d,_1e){if(typeof _1e=="undefined"){_1e=true;}var _1f=[];for(var i=0;i<this.filterArr.length;i++){if(this.filterArr[i].id.indexOf(_19)==-1){_1f.push(this.filterArr[i]);}}this.filterArr=_1f;if(_1e==true){this.firstFiltering=true;for(var i=0;i<this.filterArr.length;i++){this.executeFilter(this.filterArr[i],_1a,_1b,_1c);}if(this.filterArr.length==0){var _1b=this.mainGrid.dataList.getTotalRow();this.mainGrid.filteredRowIndexArr=[];for(var i=0;i<_1b;i++){this.mainGrid.filteredRowIndexArr.push(i);}}}};$W._a._Y.prototype.mergeArray=function(_21,_22){var _23=[];var _24=[];for(var i=0;i<_21.length;i++){_23[_21[i]]=1;}for(var i=0;i<_22.length;i++){_23[_22[i]]=1;}for(var i=0;i<_23.length;i++){if(_23[i]==1){_24.push(i);}}return _24;};$W._a._Y.prototype.deleteFilterById=function(_26,_27){if(typeof _27=="undefined"){_27=true;}var _28=[];for(var i=0;i<this.filterArr.length;i++){if(this.filterArr[i].id.indexOf(_26)==-1){_28.push(this.filterArr[i]);}}this.filterArr=_28;if(_27==true){}else{if(this.filterArr.length==0){this.firstFiltering=true;}}};$W._a._Y.prototype.getOriginalRowIndex=function(_2a){var _2b=this.filteredRowIndexArr[_2a];return _2b;};$W._a._Y.prototype.getDisplayRowIndex=function(_2c){if(this.mainGrid.filteredRowIndexArr.length!=0){for(var i=0;i<this.mainGrid.filteredRowIndexArr.length;i++){if(_2c==this.mainGrid.filteredRowIndexArr[i]){return i;}}}return _2c;};$W._a._Y.prototype.makeCustomFilter=function(){["WebSquare.uiplugin.dataFilter.prototype.makeCustomFilter"];try{if(this.customFilter!=null){this.customFilter.remove();}this.customFilter=new $W._a._d(this.mainGrid.id+"_customFilter",{style:"position:absolute; border-width:1px;",className:"w2grid_customFilter",useModal:true,headerLeftClass:"w2grid_customFilter_HL",headerRightClass:"w2grid_customFilter_HR",headerCenterClass:"w2grid_customFilter_HC",bodyLeftClass:"w2grid_customFilter_BL",bodyRightClass:"w2grid_customFilter_BR",bodyCenterClass:"w2grid_customFilter_BC",bodyLeftBottomClass:"w2grid_customFilter_FL",bodyRightBottomClass:"w2grid_customFilter_FR",bodyBottomClass:"w2grid_customFilter_FC",closeButtonClass:"w2grid_customFilter_btnClose",title:$W._m.getMessage("Grid_filter_title")||"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \ud544\ud130",titleClass:"w2grid_customFilter_title"});var _2e=new $W._a.aU(this.mainGrid.id+"_text1",{style:"position:absolute; margin:10px;",className:"w2grid_customFilter_text",label:$W._m.getMessage("Grid_filter_search_label")||"\ucc3e\uc744 \uc870\uac74"});this.customFilter.addControl(_2e);this.selectboxItemSet=["=","<>",">",">=","<","<=",$W._m.getMessage("Grid_filter_condition1")||"\uc2dc\uc791\ubb38\uc790",$W._m.getMessage("Grid_filter_condition2")||"\uc81c\uc678\ud560 \uc2dc\uc791 \ubb38\uc790",$W._m.getMessage("Grid_filter_condition3")||"\ub05d \ubb38\uc790",$W._m.getMessage("Grid_filter_condition4")||"\uc81c\uc678\ud560 \ub05d \ubb38\uc790",$W._m.getMessage("Grid_filter_condition5")||"\ud3ec\ud568",$W._m.getMessage("Grid_filter_condition6")||"\ud3ec\ud568\ud558\uc9c0 \uc54a\uc74c"];this.customFilterItemCnt=0;this.groupList=[];var _2f=new $W._a._o(this.mainGrid.id+"_item_"+this.customFilterItemCnt,{style:"position:absolute; width:100%; height:22px; margin-bottom:5px; background-color:transparent;"});this.customFilter.addControl(_2f);this.groupList.push(_2f);var _30=new $W._a._q(_2f.id+"_selectbox",{style:"position:absolute;",className:"w2grid_customFilter_selectbox",textAlign:"left",chooseOption:true});_2f.addControl(_30);var _31=new $W._a.an(_2f.id+"_autocomplete",{style:"position:absolute;",className:"w2grid_customFilter_autocomplete",noResult:"useData",chooseOption:true,caseSensitive:false});_2f.addControl(_31);for(var j=0;j<this.colDataList.length;j++){_31.addItem(this.colDataList[j],this.colDataList[j]);}var _33=this.mainGrid.headCellInfoHash[this.headerID].getAttribute("customFilterItemCnt")||2;for(var i=0;i<_33-1;i++){this.addCustomFilterItem();}var _35=new $W._a.aU(this.mainGrid.id+"_text2",{style:"position:absolute; margin-left:10px; margin-top:5px;",className:"w2grid_customFilter_text",label:$W._m.getMessage("Grid_filter_info_Label1")||"? \uae30\ud638\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud55c\ubb38\uc790\ub97c \ub098\ud0c0\ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4."});this.customFilter.addControl(_35);var _36=new $W._a.aU(this.mainGrid.id+"_text3",{style:"position:absolute; margin:5px; margin-bottom:10px; margin-left:10px;",className:"w2grid_customFilter_text",label:$W._m.getMessage("Grid_filter_info_Label2")||"* \uae30\ud638\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc5ec\ub7ec \ubb38\uc790\ub97c \ub098\ud0c0\ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4."});this.customFilter.addControl(_36);var _37=new $W._a._o(this.mainGrid.id+"_buttonGroup",{style:"position:absolute;",className:"w2grid_customFilter_buttonGroup"});this.customFilter.addControl(_37);var _38=this;var _39=new $W._a.aU(this.mainGrid.id+"_btnConform",{style:"position:absolute; border-width:1px;",className:"w2grid_customFilter_button",label:$W._m.getMessage("Grid_filter_confirm")||"\ud655\uc778",xmlEvents:[{name:"onclick",action:"script",param:{handler:function(e){_38.setCustomFilterExpression();}}}]});_37.addControl(_39);_39.addEvent("onmousedown",function(){_39.toggleClass("w2grid_customFilter_button_selected");this.customFilterBtnSelected=true;});_39.addEvent("onmouseup",function(){_39.toggleClass("w2grid_customFilter_button_selected");this.customFilterBtnSelected=false;});_39.addEvent("onmouseout",function(){_39.toggleClass("w2grid_customFilter_button_selected");});var _3b=new $W._a.aU(this.mainGrid.id+"_btnCancel",{style:"position:absolute; border-width:1px;",className:"w2grid_customFilter_button",label:$W._m.getMessage("Grid_filter_cancel")||"\ucde8\uc18c",xmlEvents:[{name:"onclick",action:"script",param:{handler:function(e){if(_38.mainGrid.options.groupbyZone){if(_38.firstOpenCustomFilter[_38.headerID]){_38.firstOpenCustomFilter[_38.headerID]=false;}}_38.customFilter.hide();}}}]});_37.addControl(_3b);_3b.addEvent("onmousedown",function(){_3b.toggleClass("w2grid_customFilter_button_selected");});_3b.addEvent("onmouseup",function(){_3b.toggleClass("w2grid_customFilter_button_selected");});_3b.addEvent("onmouseout",function(){_3b.toggleClass("w2grid_customFilter_button_selected");});this.customFilter.writeTo($W.getBody());this.customFilter.activate();this.setChildrenPosition();this.setDefaultValue();_3b.render.style.left=_37.render.offsetWidth-_3b.render.offsetWidth-10+"px";_39.render.style.left=parseInt(_3b.render.style.left,10)-_39.render.offsetWidth-5+"px";this.customFilter.hide();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Y.prototype.setDefaultValue=function(){for(var i=0;i<this.groupList.length;i++){var _3e=this.groupList[i];var _3f=_3e.getChildren();for(var j=0;j<_3f.length;j++){var _41=_3f[j];if(_41.id.indexOf("_selectbox")!=-1){for(var k=0;k<this.selectboxItemSet.length;k++){_41.addItemArr(this.selectboxItemSet[k],this.selectboxItemSet[k]);}var _43=this.itemValueObj[this.targetColID]["select"+i];_41.setSelectedIndex(_43?_43:0);}else{if(_41.id.indexOf("_autocomplete")!=-1){var _44=this.itemValueObj[this.targetColID]["auto"+i];_41.setValue(_44?_44:"");}else{if(_41.id.indexOf("_radio")!=-1){_41.addItem("OR","OR","0");_41.addItem("AND","AND","0");var _45=this.itemValueObj[this.targetColID]["radio"+i];_41.setSelectedIndex(_45?_45:0);}}}}}};$W._a._Y.prototype.getUniqueValueOfArray=function(arr){arr.sort();for(var i=1;i<arr.length;i++){if(arr[i]===arr[i-1]){arr.splice(i--,1);}}return arr;};$W._a._Y.prototype.setAutoCompleteItem=function(_48){var _49=this.mainGrid.getColData(_48);for(key in this.itemValueObj[this.targetColID]){if(key.indexOf("auto")!=-1){if(this.itemValueObj[this.targetColID][key]!=""){_49.push(this.itemValueObj[this.targetColID][key]);}}}this.colDataList=this.getUniqueValueOfArray(_49);this.colDataList.sort();};$W._a._Y.prototype.showFilterOptions=function(_4a){if(this.mainGrid.options.useFilterList){if(this.mainGrid.customFilterList&&this.mainGrid.customFilterScrollView){this.mainGrid.toggleCustomFilterList(_4a);}else{this.mainGrid.createCustomFilterList(_4a);}}else{this.showCustomFilter(_4a);}};$W._a._Y.prototype.showCustomFilter=function(_4b){this.mainGrid.noevent=true;if(this.mainGrid.options.useFilterList&&!this.mainGrid.groupbyStatus.grouped){this.showFilterOptions(_4b);return;}this._showCustomFilter(_4b);};$W._a._Y.prototype._showCustomFilter=function(_4c){this.headerID=_4c;this.targetColID=this.mainGrid.getColIdByHeaderId(_4c);if(this.customFilter==null){this.itemValueObj={};this.customFilterStatusObj={};}if(!this.itemValueObj[this.targetColID]){this.itemValueObj[this.targetColID]={};}this.setAutoCompleteItem(this.targetColID);this.makeCustomFilter();var _4d=this.mainGrid.render.offsetTop;var _4e=this.mainGrid.render.offsetLeft;var _4f=this.mainGrid.getHeaderPosition(_4c,"top");var _50=this.mainGrid.getHeaderPosition(_4c,"left");var _51=this.mainGrid.getHeaderSize(_4c,"width");var _52=this.mainGrid.getHeaderSize(_4c,"height");var _53=0,screenHeight=0;if(typeof (window.innerWidth)=="number"){_53=window.innerWidth;screenHeight=window.innerHeight;}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){_53=document.documentElement.clientWidth;screenHeight=document.documentElement.clientHeight;}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){_53=document.body.clientWidth;screenHeight=document.body.clientHeight;}}}var _54=parseInt($W._G.getStyleProperty(this.customFilter.render,"width"),10);var _55=parseInt($W._G.getStyleProperty(this.customFilter.render,"height"),10);var _56=0;var _57=0;var top,left;if($W._G.isIE("6 7 8")){top=document.documentElement.scrollTop;left=document.documentElement.scrollLeft;}else{top=window.pageYOffset;left=window.pageXOffset;}if(_4e+_50+_51+_54<=_53+left){_56=_4e+_50+_51;}else{_56=_4e+_50-_54;}if(_4d+_4f+_52+_55<=screenHeight+top){_57=_4d+_4f+_52;}else{_57=_4d+this.mainGrid.render.offsetHeight-_55;}if(_56<left){_56=(_53-_54)/2+left;_57=_4d+this.mainGrid.render.offsetHeight;if(_57+_55>screenHeight+top){_57=_4d-_55;}}if(_57<top){_57=(screenHeight-_55)/2+top;}this.customFilter.render.style.left=_56+"px";this.customFilter.render.style.top=_57+"px";this.customFilter.show();};$W._a._Y.prototype.addCustomFilterItem=function(){this.customFilterItemCnt++;var _59=new $W._a._o(this.mainGrid.id+"_item_"+this.customFilterItemCnt,{style:"position:absolute;",className:"w2grid_customFilter_item"});this.customFilter.addControl(_59);this.groupList.push(_59);var _5a=new $W._a._p(_59.id+"_radio",{style:"position:absolute; left:50px; height:20px;",className:"w2grid_customFilter_radio",selectedIndex:0,cols:2,rows:1});_59.addControl(_5a);var _5b=new $W._a._q(_59.id+"_selectbox",{style:"position:absolute; top:25px;",className:"w2grid_customFilter_selectbox",textAlign:"left",chooseOption:true});_59.addControl(_5b);var _5c=new $W._a.an(_59.id+"_autocomplete",{style:"position:absolute; top:25px;",className:"w2grid_customFilter_autocomplete",noResult:"useData",chooseOption:true,caseSensitive:false});_59.addControl(_5c);for(var j=0;j<this.colDataList.length;j++){_5c.addItem(this.colDataList[j],this.colDataList[j]);}};$W._a._Y.prototype.setChildrenPosition=function(){var _5e=this.customFilter.getChildren();for(var i=1;i<=_5e.length;i++){var _60=$W._H.getStyle(_5e[i-1].render,"top");_60=_60==="auto"?"0":_60;if(i===_5e.length){break;}var _61=$W._H.getStyle(_5e[i-1].render,"margin-bottom");_61=_61==="auto"?"0":_61;_5e[i].render.style.top=_5e[i-1].render.offsetHeight+5+parseInt(_60?_60:"0",10)+parseInt(_61?_61:"0",10)+"px";}var _62=this.customFilter.dom["closeButton"].parentNode.offsetHeight;var _63=_5e[i-1].render.offsetHeight+10+parseInt(_60?_60:"0",10);this.customFilter.setSize(this.customFilter.render.offsetWidth,_62+_63+6);};$W._a._Y.prototype.replacechar=function(_64){if(_64=="^"||_64=="$"||_64=="."||_64=="["||_64=="]"||_64=="{"||_64=="}"||_64=="+"||_64=="("||_64==")"||_64=="|"){return "\\"+_64;}else{if(_64=="\\"){return "\\"+_64;}}};$W._a._Y.prototype.setCustomFilterExpression=function(){this.mainGrid.removeColumnFilter(this.targetColID);var _65=true;var _66=[];for(var i=0;i<this.groupList.length;i++){var _68={};var _69=this.groupList[i];var _6a=_69.getChildren();for(var j=0;j<_6a.length;j++){var _6c=_6a[j];if(_6c.id.indexOf("_selectbox")!=-1){_68["select"]=_6c.getSelectedIndex();this.itemValueObj[this.targetColID]["select"+i]=_6c.getSelectedIndex();_65=_65&&_6c.getSelectedIndex()==0;}else{if(_6c.id.indexOf("_autocomplete")!=-1){var _6d=this;var _6e=/[\^\$\.\[\]\{\}\+\(\)\|\\]/g;_68["auto"]=_6c.getValue()!=_6c.options.chooseOptionLabel?(_6c.getValue()+"").replace(_6e,function(m){return _6d.replacechar(m);}).replace("?",".").replace("*",".*"):"";this.itemValueObj[this.targetColID]["auto"+i]=_6c.getValue();_65=_65&&_6c.getValue()==_6c.options.chooseOptionLabel;}else{if(_6c.id.indexOf("_radio")!=-1){_68["radio"]=_6c.getSelectedIndex();this.itemValueObj[this.targetColID]["radio"+i]=_6c.getSelectedIndex();}}}}if(_68["select"]){_66.push(_68);}}this.customFilterStatusObj[this.headerID]=true;this.mainGrid.setColumnFilter({type:"func",colIndex:this.targetColID,key:this.customFilterOperator,condition:"and",param:_66});var _70=this.mainGrid.getElementById(this.mainGrid.id+"_"+this.headerID+"_filter");if(_65||_66.length==0){$W._H.removeClass(_70,"w2grid_customFilter_filter");}else{$W._H.addClass(_70,"w2grid_customFilter_filter");}this.customFilter.hide();};$W._a._Y.prototype.customFilterOperator=function(_71,_72){var _73=true;var _74=[];for(var i=0;i<_72.length;i++){var _76=true;var _77;switch(_72[i]["select"]){case 1:_77=new RegExp(_72[i]["auto"],"g");_77.lastIndex=0;_76=_71==_77.exec(_71)?true:false;break;case 2:_77=new RegExp(_72[i]["auto"],"g");_77.lastIndex=0;_76=_71!=_77.exec(_71)?true:false;break;case 3:_76=_71>_72[i]["auto"].replace(".*","~~").replace(".","~").replace("\\~",".")?true:false;break;case 4:_76=_71>=_72[i]["auto"].replace(".*","~~").replace(".","~").replace("\\~",".")?true:false;break;case 5:_76=_71<_72[i]["auto"].replace(".*","~~").replace(".","~").replace("\\~",".")?true:false;break;case 6:_76=_71<=_72[i]["auto"].replace(".*","~~").replace(".","~").replace("\\~",".")?true:false;break;case 7:_77=new RegExp("^("+_72[i]["auto"]+")","g");_76=_77.test(_71)?true:false;break;case 8:_77=new RegExp("^[^("+_72[i]["auto"]+")]","g");_76=_77.test(_71)?true:false;break;case 9:_77=new RegExp("("+_72[i]["auto"]+")$","g");_76=_77.test(_71)?true:false;break;case 10:_77=new RegExp("[^("+_72[i]["auto"]+")]$","g");_76=_77.test(_71)?true:false;break;case 11:_77=new RegExp(_72[i]["auto"],"g");_76=_77.test(_71)?true:false;break;case 12:_77=new RegExp("^(?!.*"+_72[i]["auto"]+").*","g");_76=_77.test(_71)?true:false;break;default:_76=_71==_72[i]["auto"]?true:false;break;}if(_72.length===1){_73=_76;break;}if(i===0){_73=_76;continue;}if(_72[i]["radio"]==0){_73=_73&&_76;}else{_73=_73||_76;}}return _73;};;WebSquare.uiplugin.dataFilter=$W._a._Y;$W._a._Q=function(_1){this.statusArr=[];this.mainGrid=null;this.options=null;this.mode=null;};$W._a._Q.prototype.initialize=function(_2,_3){this.mainGrid=_2;if(_2._linkedDataList){this.mode="linkedDataList";}else{this.mode="dataList";}if(this.mode==="linkedDataList"){this.statusArr=[];this.options=$W.extend({showDepth:-1,depthColumn:-1},_3||{});if(_2._linkedDataList.initialRowIndexArr.length!==_2._linkedDataList.filteredRowIndexArr.length){$W.logger.printLog("\uacbd\uace0 : drilldown\uc5d0\uc11c\ub294 filter\uae30\ub2a5\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uac1c\ubcc4 filter\ub97c \uc790\ub3d9\uc73c\ub85c \uc804\ubd80 \ud574\uc81c\ud569\ub2c8\ub2e4.");_2._linkedDataList.clearFilter();}_2._linkedDataList.filteredRowIndexArr=[];var _4=this.options.depthColumn;var _5=_2._linkedDataList.initialRowIndexArr.length;for(var i=0;i<_5;i++){var _7=_2._linkedDataList.initialRowIndexArr[i];this.statusArr[_7]=false;var _8=0;if(this.options.dataColumn=="dataList"){_8=parseInt(this.mainGrid.dataList._getData(_7,this.mainGrid._dataList.getColumnID(_4)));}else{_8=parseInt(this.mainGrid.dataList._getData(_7,this.mainGrid.getColumnID(_4)));}if(_8<=parseInt(this.options.showDepth,10)){this.mainGrid._linkedDataList.filteredRowIndexArr.push(_7);this.statusArr[_7]=true;}}}else{_2._dataList.filteredRowIndexArr=[];this.statusArr=[];this.options=$W.extend({showDepth:-1,depthColumn:-1},_3||{});var _4=this.options.depthColumn;var _5=this.mainGrid.getTotalRow();for(var _7=0;_7<_5;_7++){this.statusArr[_7]=false;var _8=0;if(this.options.dataColumn=="dataList"){_8=parseInt(this.mainGrid.dataList._getData(_7,this.mainGrid._dataList.getColumnID(_4)));}else{_8=parseInt(this.mainGrid.dataList._getData(_7,this.mainGrid.getColumnID(_4)));}if(_8<=parseInt(this.options.showDepth,10)){this.mainGrid._dataList.filteredRowIndexArr.push(_7);this.statusArr[_7]=true;}}}};$W._a._Q.prototype.getDepth=function(_9){var _a=0;if(this.options.dataColumn=="dataList"){_a=parseInt(this.mainGrid.dataList._getData(_9,this.mainGrid._dataList.getColumnID(this.options.depthColumn)));}else{_a=parseInt(this.mainGrid.dataList._getData(_9,this.mainGrid.getColumnID(this.options.depthColumn)));}return _a;};$W._a._Q.prototype.isOpen=function(_b){var _c=this.getDepth(this.mainGrid.getRealRowIndex(_b));var _d=0;if(this.mode==="linkedDataList"){_d=this.mainGrid._linkedDataList.filteredRowIndexArr[_b+1];}else{_d=this.mainGrid._dataList.filteredRowIndexArr[_b+1];}var _e=this.getDepth(_d);if(!isNaN(_c)&&!isNaN(_e)){if(_c<_e){return true;}else{return false;}}else{return false;}};$W._a._Q.prototype.hasChild=function(_f){if(this.mode==="linkedDataList"){var _10=this.mainGrid._linkedDataList.filteredRowIndexArr[_f];var _11=this.mainGrid._linkedDataList.getLinkedRowIndex(_f);var _12=this.mainGrid._linkedDataList.initialRowIndexArr[_11+1];var _13=this.mainGrid.getTotalCol();var _14=this.mainGrid.getColumnID(this.options.depthColumn);if(this.options.dataColumn=="dataList"){_14=this.mainGrid._dataList.getColumnID(this.options.depthColumn);}var _15=parseInt(this.mainGrid.dataList._getData(_10,_14));var _16=parseInt(this.mainGrid.dataList._getData(_12,_14));_16=(isNaN(_16))?0:_16;return (_15<_16);}else{var _10=this.mainGrid.getRealRowIndex(_f);var _12=_10+1;var _13=this.mainGrid.getTotalCol();var _14=this.mainGrid.getColumnID(this.options.depthColumn);if(this.options.dataColumn=="dataList"){_14=this.mainGrid._dataList.getColumnID(this.options.depthColumn);}var _15=parseInt(this.mainGrid.dataList._getData(_10,_14));var _16=parseInt(this.mainGrid.dataList._getData(_12,_14));_16=(isNaN(_16))?0:_16;return (_15<_16);}};$W._a._Q.prototype.getOriginalRowIndex=function(_17){return this.openRowIndexArr[_17];};$W._a._Q.prototype.getDisplayRowIndex=function(_18){if(this.mode==="linkedDataList"){if(this.mainGrid._linkedDataList.filteredRowIndexArr){for(var i=0;i<this.mainGrid._linkedDataList.filteredRowIndexArr.length;i++){if(parseInt(_18,10)===this.mainGrid._linkedDataList.filteredRowIndexArr[i]){return i;}}}}else{if(this.mainGrid._dataList.filteredRowIndexArr){for(var i=0;i<this.mainGrid._dataList.filteredRowIndexArr.length;i++){if(parseInt(_18,10)===this.mainGrid.getRealRowIndex(i)){return i;}}}}return _18;};$W._a._Q.prototype.getChildRowArr=function(_1a,_1b){var _1c=_1a;var _1d=this.getDepth(_1a);var _1e=this.mainGrid.getTotalCol();var _1f=this.mainGrid.getTotalRow();var _20=[];var col=this.options.depthColumn;var _22=this.mainGrid.getColumnID(col);if(this.options.dataColumn=="dataList"){_22=this.mainGrid._dataList.getColumnID(col);}if(this.mode==="linkedDataList"){for(var i=_1c+1;i<_1f;i++){var row=this.mainGrid._linkedDataList.initialRowIndexArr[i];if(this.mainGrid.dataList._getData(row,_22)==(_1d+1)){_20.push(row);}if(_1b&&this.mainGrid.dataList._getData(row,_22)>(_1d+1)){_20.push(row);}if(this.mainGrid.dataList._getData(row,_22)<=_1d){break;}}}else{for(var row=_1c+1;row<_1f;row++){if(this.mainGrid.dataList._getData(row,_22)==(_1d+1)){_20.push(row);}if(_1b&&this.mainGrid.dataList._getData(row,_22)>(_1d+1)){_20.push(row);}if(this.mainGrid.dataList._getData(row,_22)<=_1d){break;}}}return _20;};$W._a._Q.prototype.getChildrenRowArr=function(_25){var _26=[];if(this.mainGrid){var _27=this.mainGrid.getTotalCol();var _28=this.mainGrid.getTotalRow();var col=this.options.depthColumn;var _2a=this.mainGrid.getColumnID(col);if(this.options.dataColumn=="dataList"){_2a=this.mainGrid._dataList.getColumnID(col);}if(this.mode==="linkedDataList"){var row=this.mainGrid._linkedDataList.initialRowIndexArr[_25+1];var _2c=parseInt(this.mainGrid.dataList._getData(this.mainGrid._linkedDataList.initialRowIndexArr[_25],_2a),10);if(row<_28&&this.mainGrid.dataList._getData(row,_2a)>(_2c)){_26.push(row);var _2d=parseInt(this.mainGrid.dataList._getData(row,_2a),10);var _2e=true;}if(_2e){for(var i=_25+2;i<_28;i++){var row=this.mainGrid._linkedDataList.initialRowIndexArr[i];if(this.mainGrid.dataList._getData(row,_2a)<(_2c+1)){break;}if(this.mainGrid.dataList._getData(row,_2a)<(_2d+1)){_26.push(row);_2d=parseInt(this.mainGrid.dataList._getData(row,_2a),10);}}}}else{var row=_25+1;var _2c=parseInt(this.mainGrid.dataList._getData(_25,_2a),10);if(row<_28&&this.mainGrid.dataList._getData(row,_2a)>(_2c)){_26.push(row);var _2d=parseInt(this.mainGrid.dataList._getData(row,_2a),10);var _2e=true;}if(_2e){for(var row=_25+2;row<_28;row++){if(this.mainGrid.dataList._getData(row,_2a)<(_2c+1)){break;}if(this.mainGrid.dataList._getData(row,_2a)<(_2d+1)){_26.push(row);_2d=parseInt(this.mainGrid.dataList._getData(row,_2a),10);}}}}}return _26;};$W._a._Q.prototype.getParentRowIndex=function(_30){var _31=-1;if(this.mainGrid){var _32=this.mainGrid.getTotalCol();var col=this.options.depthColumn;var _34=this.mainGrid.getColumnID(col);if(this.options.dataColumn=="dataList"){_34=this.mainGrid._dataList.getColumnID(col);}var _35=parseInt(this.mainGrid.dataList._getData(_30,_34));if(this.mode==="linkedDataList"){var _36=this.mainGrid._linkedDataList.getLinkedRealRowIndex(_30);for(var i=_36-1;i>=0;i--){var row=this.mainGrid._linkedDataList.initialRowIndexArr[i];if(this.mainGrid.dataList._getData(row,_34)<_35){return row;}}}else{for(var row=_30-1;row>=0;row--){if(this.mainGrid.dataList._getData(row,_34)<_35){return row;}}}}return _31;};$W._a._Q.prototype.makeOpenRowIndexArr=function(){if(this.mode==="linkedDataList"){this.mainGrid._linkedDataList.filteredRowIndexArr=[];for(var row=0;row<this.statusArr.length;row++){if(this.statusArr[row]==true){this.mainGrid._linkedDataList.filteredRowIndexArr.push(row);}}}else{this.mainGrid._dataList.filteredRowIndexArr=[];for(var row=0;row<this.statusArr.length;row++){if(this.statusArr[row]==true){this.mainGrid._dataList.filteredRowIndexArr.push(row);}}}};$W._a._Q.prototype.toggle=function(_3a){var _3b=this.isOpen(_3a);var _3c=[];if(this.mode==="linkedDataList"){_3a=this.mainGrid._linkedDataList.getLinkedRealRowIndex(_3a);}else{_3a=this.mainGrid.getRealRowIndex(_3a);}if(_3b){_3c=this.getChildRowArr(_3a,true);}else{_3c=this.getChildrenRowArr(_3a);}for(var row=0;row<_3c.length;row++){this.statusArr[_3c[row]]=(!_3b);}this.makeOpenRowIndexArr();};$W._a._Q.prototype.isLastChild=function(_3e){var _3f=this.mainGrid.getTotalCol();var col=this.options.depthColumn;var _41=this.mainGrid.getColumnID(col);if(this.options.dataColumn=="dataList"){_41=this.mainGrid._dataList.getColumnID(col);}var _42=this.mainGrid.dataList._getData(_3e,_41);if(this.mode==="linkedDataList"){var _43=this.mainGrid._linkedDataList.getLinkedRealRowIndex(childRowIndex);for(var i=_43-1;i>=0;i--){var row=this.mainGrid._linkedDataList.initialRowIndexArr[i];if(this.mainGrid.dataList._getData(row,_41)<_42){return row;}}}else{for(var row=_3e+1;row<this.mainGrid.getTotalRow();row++){if(this.mainGrid.dataList._getData(row,_41)==_42){return false;}else{if(this.mainGrid.dataList._getData(row,_41)<_42){return true;}}}}return true;};$W._a._Q.prototype.getRecursiveRowIndex=function(_46){["WebSquare.uiplugin.drilldown.prototype.getRecursiveRowIndex"];try{var _47=[];var _48=this.getChildrenRowArr(_46);for(var i=0;i<_48.length;i++){var _4a=_48[i];_47.push(_4a);_47=_47.concat(this.getRecursiveRowIndex(_4a));}return _47;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.getRecursiveRowCount=function(_4b){["WebSquare.uiplugin.drilldown.prototype.getRecursiveRowCount"];try{var cnt=0;var _4d=this.getChildrenRowArr(_4b);for(var i=0;i<_4d.length;i++){cnt+=this.getRecursiveRowCount(_4d[i]);cnt++;}return cnt;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.appendChild=function(_4f,_50){["WebSquare.uiplugin.drilldown.prototype.appendChild"];try{if(_50){var _51=_4f+this.getRecursiveRowCount(_4f);this.mainGrid.toggle(this.getDisplayRowIndex(_4f));rowIndex=this.mainGrid.dataList.setRowData(_51+1,_50);return rowIndex;}else{$l("data is null. check data.");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.moveNode=function(_52,_53){["WebSquare.uiplugin.drilldown.prototype.moveNode"];try{var _54;if(_52<_53){if(!this.bodyDrop){var _55=this.getRecursiveRowCount(_52)+1;_54=_53-_55;}}else{if(_52>_53){_54=_53;}else{if(_52==_53){_54=_53;}}}var _56=this.detachNode(_52);var _57=this.appendNode(_54,_56);if(typeof _54!="number"){_54=this.mainGrid.getRealRowIndex(this.mainGrid.getRowCount()-1);}this.bodyDrop=false;return {detachedData:_56,insertedData:_57,insertedRowIndex:_54};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.appendNode=function(_58,_59){["WebSquare.uiplugin.drilldown.prototype.appendNode"];try{var _5a;var _5b;var _5c;var _5d=this.mainGrid.getColumnCount();var _5e=_59.length/this.mainGrid.getColumnCount();this.options.depthColumn=parseInt(this.options.depthColumn,10);if(this.bodyDrop){this.bodyDrop=false;var _5f=this;var _60=function(_61){var _62=_5f.getParentRowIndex(_61);if(_62>-1){_62=_60(_62);}else{_62=_61;}return _62;};var _63=this.mainGrid.getRealRowIndex(this.mainGrid.getRowCount()-1);var _64=this.getDisplayRowIndex(_60(_63));_5a=parseInt(this.mainGrid.getCellData(_64,this.options.depthColumn),10);_5b=parseInt(_59[_5d*(_5e-1)+parseInt(this.options.depthColumn)],10);_58=_63+this.getRecursiveRowCount(_63)+1;_5c=_5a-_5b;}else{var _64=this.getDisplayRowIndex(_58-1);_5a=parseInt(this.mainGrid.getCellData(_64,this.options.depthColumn),10);_5b=parseInt(_59[_5d*(_5e-1)+parseInt(this.options.depthColumn)],10);_5c=_5a-_5b+1;}var _65=[];for(var row=0;row<_5e;row++){for(var col=0;col<_5d;col++){var _68=_59[_5d*row+col];if(col==this.options.depthColumn){_68-=0;_68+=_5c;}_65.push(_68);}}this.mainGrid.dataList._insertData(_58,_65,-1);var _69=this.getDisplayRowIndex(_58);if(this.isOpen(_69)){this.mainGrid.toggle(_69);}return _65;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.detachNode=function(_6a){["WebSquare.uiplugin.drilldown.prototype.detachNode"];try{var ret=[];var _6c=[];var _6d=this.mainGrid.dataList.removeRow(_6a,{skipNotify:true});for(var i=0;i<_6d.length;i++){ret=ret.concat(_6d[i]);}return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._Q.prototype.insertNextSibling=function(_6f,_70){["WebSquare.uiplugin.drilldown.prototype.insertNextSibling"];try{this.options.depthColumn=parseInt(this.options.depthColumn,10);var _71=this.mainGrid.dataList.getColumnCount();var _72=_70.length/this.mainGrid.dataList.getColumnCount();var _73=this.mainGrid.getDisplayRowIndex(_6f);var _74=parseInt(this.mainGrid.getCellData(_73,this.options.depthColumn),10);var _75=parseInt(_70[_71*(_72-1)+parseInt(this.options.depthColumn)],10);var _76=_74-_75;var _77=[];_6f+=this.getRecursiveRowCount(_6f)+1;for(var row=0;row<_72;row++){for(var col=0;col<_71;col++){var _7a=_70[_71*row+col];if(col==this.options.depthColumn){_7a-=0;_7a+=_76;}_77.push(_7a);}}this.mainGrid.dataList._insertData(_6f,_77,-1);if(this.mainGrid.options.closeDrillDownSibling){for(var row=0;row<_72;row++){var _7b=this.getDisplayRowIndex(_6f+row);if(this.isOpen(_7b)){this.mainGrid.toggle(_7b);}}}return _77;}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.drilldown=$W._a._Q;$W._a.aX=function(){["WebSquare.uiplugin.notifyController"];};$W._a.aX.prototype.notifySettedGridData=function(_1,_2,_3){["WebSquare.uiplugin.notifyController.prototype.notifySettedGridData"];try{if(this.options.scrollFix&&this.settedData){var _4=this.getTopRowIndex();for(var i=0;i<=this.lastIndex;i++){var _6=_4+i;this.drawRowData(_6-this.rowIndex,_6);}return;}this.settedData=false;_2=_2||false;var _3=_3;if(!_2){this.rowStyleArr=[];this.cellStyleArr=[];this.rowReadOnlyArr=[];this.cellReadOnlyArr=[];this.rowDisabledArr=[];this.cellDisabledArr=[];this.lastIndex=-1;this.lastTopRowIndex=null;this.bScrollTop=-1;this.extraData={grid:{},row:[],col:[],cell:[]};_3=0;}this.beforeDataLength=-1;if(this.isDrillDown==true){this.setCellInfo();this.initDrilldown();}this.initStyleArr(_3);if(this.loadFlag==false&&_2){this.loadFlag=false;}else{this.loadFlag=true;}this.lastTopRowIndex=null;this.notifyDataChanged(_2?{append:true,keepTop:true}:{});this.loadFlag=true;if(this.getTotalRow()==0){this.removeFocusedCell();}if(this.options.focusOnSetData){this.setFocusedCell(0,0);}this.setScrollYHeight();this.settedData=true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyBeforeSettedCellData=function(){["WebSquare.uiplugin.notifyController.prototype.notifyBeforeSettedCellData"];try{if(this.editedCell!=null){return;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifySettedCellData=function(_7,_8,_9,_a){["WebSquare.uiplugin.notifyController.prototype.notifySettedCellData"];try{var _b;var _c=this.getColumnIndex(_8);this.notifyCellChanged(_7,_c,_a);if(this.isDrillDown){if(!_c&&this._dataList.options.depthColumn){_c=this._dataList.getColumnIndex(_8);}if(this.drilldown.options.depthColumn==_c){this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();}}var _d=this.getCellInfo(_8);var _e=_7;var _f=this.getTotalRow();if(_d&&_d.options.colMerge&&_d.options.colMergeEdit){var _10=this.data_td_list[(_e-this.rowIndex)*this.oneRowDataLength+_c];if(_10){var _11=_10.getAttribute("colMerged");if(_11=="1"&&_9!=this.getCellData(_e-1,_c)){_10.setAttribute("colMerged","0");this.drawCellData(_e-this.rowIndex,_e,_c);if(_e<_f-1){var _12=this.data_td_list[(_e-this.rowIndex+1)*this.oneRowDataLength+_c];if(_12){if(_9==this.getCellData(_e+1,_c)){_12.setAttribute("colMerged","1");}else{_12.setAttribute("colMerged","0");}this.drawCellData(_e-this.rowIndex+1,_e+1,_c);}}}if(_11=="0"){if(_e>=1&&_9==this.getCellData(_e-1,_c)){_10.setAttribute("colMerged","1");this.drawCellData(_e-this.rowIndex,_e,_c);}if(_e<_f-1){var _12=this.data_td_list[(_e-this.rowIndex+1)*this.oneRowDataLength+_c];if(_12){if(_9==this.getCellData(_e+1,_c)){_12.setAttribute("colMerged","1");}else{_12.setAttribute("colMerged","0");}this.drawCellData(_e-this.rowIndex+1,_e+1,_c);}}}}}this.moveDirection=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyBeforeInsertedRow=function(_13){["WebSquare.uiplugin.notifyController.prototype.notifyBeforeInsertedRow"];try{if(!this.isDrillDown&&_13>this.getDataLength()){_13=this.getDataLength();}var _14=false;var _15=[];if(this.isDrillDown){var _16=this.drilldown.getParentRowIndex(_13);while(_16>-1){if(!this.drilldown.isOpen(this.drilldown.getDisplayRowIndex(_16))){_14=true;_15.push(_16);}_16=this.drilldown.getParentRowIndex(_16);}if(_14){for(var i=_15.length-1;i>=0;i--){if(!this.drilldown.isOpen(_15[i])){var _18=this.drilldown.getDisplayRowIndex(_15[i]);this.toggle(_18);}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyAfterInsertedRow=function(_19,_1a){["WebSquare.uiplugin.notifyController.prototype.notifyAfterInsertedRow"];try{this.settedData=false;var _1b=this.dataList.getRealRowIndex(_19);var _1c=this.getTotalCol();var _1d=[_1b*_1c,0];var _1e=[_1b*_1c,0];for(var i=0;i<_1c;i++){var _20=this.getCellInfo(i).options.defaultValue;_1d.push(_20);_1e.push(null);}[].splice.apply(this.cellStyleArr,_1e);[].splice.apply(this.cellReadOnlyArr,_1e);[].splice.apply(this.cellDisabledArr,_1e);this.extraData.row.splice(_19,0,null);this.extraData.cell.splice(_19,0,null);if(this.isDrillDown){this.drilldown.statusArr.splice(_1b,0,true);}if(!_1a){this.notifyRowInserted(_19);this.notifyStatusChanged({"rowIndex":[_19]});}this.settedData=true;return _19;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyBeforeRemovedRow=function(_21){["WebSquare.uiplugin.notifyController.prototype.notifyBeforeRemovedRow"];try{if(this.isDrillDown&&this._dataList.options.depthColumn){var _22=false;var _23=[];var _24=this.drilldown.getParentRowIndex(_21);while(_24>-1){if(!this.drilldown.isOpen(this.drilldown.getDisplayRowIndex(_24))){_22=true;_23.push(_24);}_24=this.drilldown.getParentRowIndex(_24);}if(_22){for(var i=_23.length-1;i>=0;i--){if(!this.drilldown.isOpen(_23[i])){var _26=this.drilldown.getDisplayRowIndex(_23[i]);this.toggle(_26);}}}_21=this.drilldown.getDisplayRowIndex(_21);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyAfterRemovedRow=function(_27,_28,_29){["WebSquare.uiplugin.notifyController.prototype.notifyAfterRemovedRow"];try{this.removed=true;if(this.isDrillDown){this.drilldown.statusArr.splice(_29,1);}if(!_28){if(this.getFocusedRowIndex()==this.getDataLength()){var _2a=this.getFocusedRowIndex();var _2b=this.getFocusedColumnIndex();this.removeRowFocus(this.getDataLength());this.setFocusedCell(_2a-1,_2b);}this.notifyRowChanged(_27);if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();this.notifyStatusChanged({"rowindex":[_27]});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyRemovedAll=function(){["WebSquare.uiplugin.notifyController.prototype.notifyRemovedAll"];try{this.removed=true;this.loadFlag=true;this.rowStyleArr=[];this.rowReadOnlyArr=[];this.rowDisabledArr=[];this.cellStyleArr=[];this.cellReadOnlyArr=[];this.cellDisabledArr=[];this.extraData={grid:{},row:[],col:[],cell:[]};this.removeFocusedCell();for(var i=0;i<this.drawedRowLength;i++){this._setRowDisplay(i,"none");}this.lastDisplayedRow=-1;this.subtotalHidden();this.rowIndex=-1;this.lastIndex=-1;this.lastTopRowIndex=null;this.bScrollTop=-1;this.maxRowLength=0;this.displayNoResultMessage();this.drawFooter();this.drawHeader();if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyRemovedRange=function(_2d){["WebSquare.uiplugin.notifyController.prototype.notifyRemovedRange"];try{this.removed=true;this.notifyRowChanged(_2d);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aX.prototype.notifyCreatedRowStatus=function(_2e){["WebSquare.uiplugin.notifyController.prototype.notifyCreatedRowStatus"];try{this.rowStyleArr=this.rowStyleArr.slice(0,_2e).concat([null]).concat(this.rowStyleArr.slice(_2e));this.rowReadOnlyArr=this.rowReadOnlyArr.slice(0,_2e).concat([null]).concat(this.rowReadOnlyArr.slice(_2e));this.rowDisabledArr=this.rowDisabledArr.slice(0,_2e).concat([null]).concat(this.rowDisabledArr.slice(_2e));}catch(e){$W.exception.printStackTrace(e);}};$W._a.aX.prototype.notifyRemovedRowStatus=function(_2f){["WebSquare.uiplugin.notifyController.prototype.notifyRemovedRowStatus"];try{this.rowStyleArr.splice(_2f,1);this.rowReadOnlyArr.splice(_2f,1);this.rowDisabledArr.splice(_2f,1);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aX.prototype.notifyDeleteRow=function(_30){["WebSquare.uiplugin.notifyController.prototype.notifyDeleteRow"];try{this._drawRowStatus(_30-this.rowIndex,_30);this.displayNoResultMessage();if(this.hasFooter){if(this.options.excludeDeletedRows){this.drawFooter();}}if(this.hasSubtotal){if(this.options.excludeDeletedRows){this.subtotalHidden({"startRowIndex":0});this.refreshSubtotalRow(this.rowIndex);}}for(var i=0;i<this.getColCnt();i++){var _32=this.getColumnID(i);var _33=this.expressionAssArr[_32];if(_33!=null){for(var j=0;j<_33.length;j++){var _35=this.getColumnIndex(_33[j]);this.drawCellData(_30-this.rowIndex,_30,_35);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aX.prototype.notifyUndeleteRow=function(_36){["WebSquare.uiplugin.notifyController.prototype.notifyUndeleteRow"];try{this._drawRowStatus(_36-this.rowIndex,_36);this.displayNoResultMessage();if(this.hasFooter){if(this.options.excludeDeletedRows){this.drawFooter();}}if(this.hasSubtotal){if(this.options.excludeDeletedRows){this.subtotalHidden({"startRowIndex":0});this.refreshSubtotalRow(this.rowIndex);}}for(var i=0;i<this.getColCnt();i++){var _38=this.getColumnID(i);var _39=this.expressionAssArr[_38];if(_39!=null){for(var j=0;j<_39.length;j++){var _3b=this.getColumnIndex(_39[j]);this.drawCellData(_36-this.rowIndex,_36,_3b);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aX.prototype.notifyReformed=function(){["WebSquare.uiplugin.notifyController.prototype.notifyReformed"];try{if(this.options.rowStatusVisible){for(var i=0;i<=this.lastIndex;i++){this._drawRowStatus(i,this.rowIndex+i);}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aX.prototype.notifyModifyAllStatus=function(_3d){["WebSquare.uiplugin.notifyController.prototype.notifyModifyAllStatus"];try{for(var i=0;i<this.getDataLength();i++){this._drawRowStatus(i-this.rowIndex,i);}this.displayNoResultMessage();this.notifyStatusChanged({"rowIndex":"all"});}catch(e){$W.exception.printStackTrace(e);}};$W._a.aX.prototype.notifyModifyRangeStatus=function(_3f,to,_41){["WebSquare.uiplugin.notifyController.prototype.notifyModifyRangeStatus"];try{if(0<=_3f&&to<=this.getDataLength()){for(var i=_3f;i<=to;i++){this._drawRowStatus(i-this.rowIndex,i);this.displayNoResultMessage();}}this.notifyStatusChanged({"startIndex":_3f,"endIndex":to});}catch(e){$W.exception.printStackTrace(e);}};$W._a.aX.prototype.notifyModifyRowStatus=function(_43,_44){["WebSquare.uiplugin.notifyController.prototype.notifyModifyRowStatus"];try{if(_43>-1&&_43<this.getDataLength()){this._drawRowStatus(_43-this.rowIndex,_43);this.displayNoResultMessage();this.notifyStatusChanged({"rowIndex":[_43]});}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aX.prototype.notifyModifyMatchedStatus=function(_45,_46,_47){["WebSquare.uiplugin.notifyController.prototype.notifyModifyMatchedStatus"];try{var _48=[];var _49=this.getDataLength();for(var row=0;row<_49;row++){var _4b=this.getColumnID(_45);var _4c=this.dataList.getRealRowIndex(row);if(this.dataList.getCellData(_4c,_4b)+""==_46+""){var _4d=this.dataList._setRowStatus(_4c,_47);if(_47!=_4d){_48.push(row);}this._drawRowStatus(row-this.rowIndex,row);this.displayNoResultMessage();}}this.notifyStatusChanged({"rowIndex":_48});}catch(e){$W.exception.printStackTrace(e);}};$W._a.aX.prototype.notifySetColumnDefaultValue=function(_4e,_4f){["WebSquare.notifyController.grid.prototype.notifySetColumnDefaultValue"];try{this.drawColumnData(_4e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifySettedData=function(_50){["WebSquare.notifyController.grid.prototype.notifySetColumnDefaultValue"];try{if(this.groupbyStatus.grouped){this.clearGroupby();}this.loadCheck=[];if(!_50&&!this.options.focusOnSetData){this.removeFocusedCell();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifySetRowXML=function(_51,_52){["WebSquare.notifyController.grid.prototype.notifySetRowXML"];if(_52){this.notifyRowChanged(_51);}else{this.notifyRowInserted(_51);}};$W._a.aX.prototype.notifyRowMoveUp=function(_53){["WebSquare.notifyController.grid.prototype.notifyRowMoveUp"];try{var _54=this.dataList.getRealRowIndex(_53);temp=this.extraData.row[_53-1];this.extraData.row[_53-1]=this.extraData.row[_53];this.extraData.row[_53]=temp;temp=this.extraData.cell[_53-1];this.extraData.cell[_53-1]=this.extraData.cell[_53];this.extraData.cell[_53]=temp;var _55=this.getFocusedRowIndex();if(_55==_53){this.setFocusedCell(_53-1,this.getFocusedColumnIndex());}this.notifyRowChanged(_53-1);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyRowMoveDown=function(_56){["WebSquare.notifyController.grid.prototype.notifyRowMoveDown"];try{temp=this.extraData.row[_56+1];this.extraData.row[_56+1]=this.extraData.row[_56];this.extraData.row[_56]=temp;temp=this.extraData.cell[_56+1];this.extraData.cell[_56+1]=this.extraData.cell[_56];this.extraData.cell[_56]=temp;var _57=this.getFocusedRowIndex();if(_57==_56){this.setFocusedCell(_56+1,this.getFocusedColumnIndex());}this.notifyRowChanged(_56);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyRowModified=function(_58){["WebSquare.notifyController.grid.prototype.notifyRowMoveDown"];try{this.drawRowData(_58-this.rowIndex,_58);if(this.hasSubtotal){this.refreshSubtotalRow(_58);}this.drawFooter();this.drawHeader();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyStatusChanged=function(_59){["WebSquare.uiplugin.notifyController.prototype.notifyStatusChanged"];try{var _5a;var to;var _5c=false;if(typeof _59.rowIndex=="object"){_5a=0;to=_59.rowIndex.length;_5c=true;}else{if(_59.rowIndex=="all"){_5a=0;to=this.getDataLength();}else{if(typeof _59.startIndex=="number"&&typeof _59.endIndex=="number"){_5a=_59.startIndex;to=_59.endIndex;}}}for(var i=_5a;i<to;i++){var row;if(_5c){row=_59.rowIndex[i];}else{row=i;}if(this.rowStatusColIDArr!=null){for(var k=0;k<this.rowStatusColIDArr.length;k++){var _60=this.getColumnIndex(this.rowStatusColIDArr[k]);this.drawCellData(row-this.rowIndex,row,_60);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifySaveFocusedCell=function(){["WebSquare.uiplugin.notifyController.prototype.notifySaveFocusedCell"];try{this.focusedCellInfo.beforeFocusedCell=!!(this.focusedCell.length!=0);if(this.focusedCellInfo.beforeFocusedCell){this.focusedCellInfo.beforeFocusedCellRealRowIndex=this.dataList.getRealRowIndex(this.focusedCell[0].focusedRowIndex);this.focusedCellInfo.beforeFocusedCellRealColumnIndex=this.focusedCell[0].focusedColIndex;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifySetFocusedCell=function(){["WebSquare.uiplugin.notifyController.prototype.notifySetFocusedCell"];try{var _61=this.options.filterFocusMode;var _62=this.getFocusedRowIndex();var _63=this.focusedCellInfo.beforeFocusedCellRealRowIndex;if(_61==""){if(this.focusedCellInfo.beforeFocusedCell){for(var i=0;i<this.getDataLength();i++){if(this.dataList.getRealRowIndex(i)==_63){this.setFocusedCell(i,this.focusedCellInfo.beforeFocusedCellRealColumnIndex);break;}}}}else{if(_61=="outfocus"){this.outFocusedCell();}}this.focusedCellInfo={};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifySettedFilter=function(_65){["WebSquare.uiplugin.notifyController.prototype.notifySettedFilter"];try{this.notifySetFocusedCell();if(_65&&_65.isSort){this.syncWithSortStatus();}if(this.groupbyStatus.grouped){for(var id in this.customFilterStatusObj){if(this.customFilterStatusObj[id]){this.rowNumArr=[];for(var i=0;i<this.getDataLength();i++){this.rowNumArr.push(i);}break;}}}if(this.isDrillDown==true&&this._linkedDataList){this.setCellInfo();this.initDrilldown();}this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyBeforeClearSort=function(){["WebSquare.uiplugin.notifyController.prototype.notifyBeforeClearSort"];try{this.notifySaveFocusedCell();this.clearHeaderSort();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyClearSortFilter=function(){["WebSquare.uiplugin.notifyController.prototype.notifyClearSortFilter"];try{var _68=this.getFocusedRowIndex();var _69=this.getFocusedColumnIndex();this.syncWithSortStatus();this.rowNumArr=null;this.removeFocusedCell();this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();if(this.options.filterFocusMode=="infocus"){this.setFocusedCell(_68,_69);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyBeforeSettedColumnFilter=function(){["WebSquare.uiplugin.notifyController.prototype.notifyBeforeSettedColumnFilter"];try{this.lastTopRowIndex=null;this.scrollEvent=false;this.scrollEvent=false;this.rowIndex=0;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyAfterSettedColumnFilter=function(){["WebSquare.uiplugin.notifyController.prototype.notifyAfterSettedColumnFilter"];try{var _6a=this.getElementById(this.id+"_scrollY_div");var _6b=_6a.scrollTop;this.bScrollTop=-1;this.scrollEvent=true;_6a.scrollTop=_6b;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyBeforeRemovedColumnFilter=function(){["WebSquare.uiplugin.notifyController.prototype.notifyBeforeRemovedColumnFilter"];try{this.lastTopRowIndex=null;this.scrollEvent=false;this.scrollEvent=false;this.rowIndex=0;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyAfterRemovedColumnFilter=function(){["WebSquare.uiplugin.notifyController.prototype.notifyAfterRemovedColumnFilter"];try{var _6c=this.getElementById(this.id+"_scrollY_div");var _6d=_6c.scrollTop;this.bScrollTop=-1;this.scrollEvent=true;_6c.scrollTop=_6d;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyRemovedFilter=function(){["WebSquare.uiplugin.notifyController.prototype.notifyRemovedFilter"];try{this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyRemovedFilter=function(){["WebSquare.uiplugin.notifyController.prototype.notifyRemovedFilter"];try{this.clearHeaderSort();this.rowNumArr=null;this.filteredRowIndexArr=[];var len=this.getTotalRow();for(var i=0;i<len;i++){this.filteredRowIndexArr.push(i);}this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.lastTopRowIndex=null;this.setScrollYHeight();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyClearFilter=function(){["WebSquare.uiplugin.notifyController.prototype.notifyClearFilter"];try{this.clearHeaderSort();this.rowNumArr=null;this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.lastTopRowIndex=null;this.setScrollYHeight();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyMultisort=function(){["WebSquare.uiplugin.notifyController.prototype.notifyMultisort"];try{this.syncWithSortStatus();this.drawHeaderSortImages();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyBeforeInitDataList=function(){["WebSquare.uiplugin.notifyController.prototype.notifyInitDataList"];try{this.removeAllFinish=true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aX.prototype.notifyAfterInitDataList=function(){["WebSquare.uiplugin.notifyController.prototype.notifyInitDataList"];try{this.loadCheck=[];this.initFlag=true;this.skipScrollEndEvent=true;if(this.hasFooter){this.initFooterDataObj();}this.initHeaderDataObj();if(this.isDrillDown==true){this.initDrilldown();}this.removeAllFinish=false;this.initColumns();}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.notifyController=$W._a.aX;$W._a.ao=function(_1){["WebSquare.uiplugin.mappingController"];this._grid=_1;};$W._a.ao.prototype.getRealRowIndex=function(_2){["WebSquare.uiplugin.mappingController.prototype.getRealRowIndex"];try{var _3;if(this._grid.groupbyStatus.grouped){for(var _4 in this._grid.customFilterStatusObj){if(this._grid.customFilterStatusObj[_4]){return this._grid._dataList.getRealRowIndex(_2);}}_3=this._grid.groupbyStatus.groupedRowIndexArr[_2];}else{_3=this._grid._dataList.getRealRowIndex(_2);}return _3;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getTotalRow=function(){["WebSquare.uiplugin.mappingController.prototype.getTotalRow"];try{var _5=this._grid._dataList.getTotalRow();return _5;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getTotalCol=function(){["WebSquare.uiplugin.mappingController.prototype.getTotalCol"];try{var _6=this._grid.oneRowDataLength;return _6;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getRowCount=function(){["WebSquare.uiplugin.mappingController.prototype.getRowCount"];try{return this._grid._dataList.getDataLength();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype._getData=function(_7,_8){["WebSquare.uiplugin.mappingController.prototype._getData"];try{var _8=this._grid.getColumnID(_8);this._grid.editEndBeforeGetData();var _9=this._grid.cellInfoHash[_8];if(_9&&_9.options.inputType=="expression"){return _9.getExpressionValue(_7);}var _a=this._grid._dataList._getData(_7,_8);if(_a==null){_a="";}return _a;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getCellData=function(_b,_c,_d){["WebSquare.uiplugin.mappingController.prototype.getCellData"];try{var _c=this._grid.getColumnID(_c);_d=(_d==null||typeof _d=="undefined")?"0":_d+"";if(_d=="2"){return this._grid.getCellDisplayData(_b,colIndex);}else{var _e=this._grid.getRealRowIndex(_b);if(_d!="3"&&_e!=null){_b=_e;}return this._getData(_b,_c);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getOriginalCellData=function(_f,_10){["WebSquare.uiplugin.mappingController.prototype.getOriginalCellData"];try{var _10=this._grid.getColumnID(_10);return this._grid._dataList.getOriginalCellData(_f,_10);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getColCnt=function(){["WebSquare.uiplugin.mappingController.prototype.getColCnt"];try{var _11=0;var row=this._grid.htmlInfo?this._grid.htmlInfo.head.rowArr[0]:this._grid.struct.head.rowArr[0];for(var i=0;i<row.length;i++){var _14=row[i];_11+=parseInt(_14.colSpan,10)||1;}return _11;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.getColData=function(_15,_16){["WebSquare.uiplugin.mappingController.prototype.getColData"];try{var _15=this._grid.getColumnID(_15);return this._grid._dataList.getColData(_15,_16);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getRowData=function(_17,_18){["WebSquare.uiplugin.mappingController.prototype.getRowData"];try{var _19=[];for(var col=0;col<this._grid.getColumnCount();col++){if(_18!="displayData"){_19.push(this.getCellData(_17,col));}else{_19.push(this._grid.getCellDisplayData(_17,col));}}return _19;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype._getRowData=function(_1b,_1c){["WebSquare.uiplugin.mappingController.prototype._getRowData"];try{var _1d=[];for(var col=0;col<this._grid.getColumnCount();col++){if(_1c!="displayData"){_1d.push(this._getData(_1b,col));}else{_1d.push(this._grid._getDisplayData(_1b,col));}}return _1d;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getDataRow=function(_1f){["WebSquare.uiplugin.mappingController.prototype.getDataRow"];try{return this._grid._dataList.getDataRow(_1f);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getMatchedData=function(_20,_21,_22,_23,_24){["WebSquare.uiplugin.mappingController.prototype.getMatchedData"];try{var _20=this._grid.getColumnID(_20);return this._grid._dataList.getMatchedData(_20,_21,_22,_23,_24);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getUnmatchedData=function(_25,_26,_27,_28,_29){["WebSquare.uiplugin.mappingController.prototype.getUnmatchedData"];try{return this._grid._dataList.getUnmatchedData(_25,_26,_27,_28,_29);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getMatchedColumnData=function(_2a,_2b,_2c,_2d,_2e,_2f){["WebSquare.uiplugin.mappingController.prototype.getMatchedColumnData"];try{return this._grid._dataList.getMatchedColumnData(_2a,_2b,_2c,_2d,_2e,_2f);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getUnmatchedColumnData=function(_30,_31,_32,_33,_34,_35){["WebSquare.uiplugin.mappingController.prototype.getUnmatchedColumnData"];try{return this._grid._dataList.getUnmatchedColumnData(_30,_31,_32,_33,_34,_35);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getMatchedIndex=function(_36,_37,_38,_39,_3a){["WebSquare.uiplugin.mappingController.prototype.getMatchedIndex"];try{return this._grid._dataList.getMatchedIndex(_36,_37,_38,_39,_3a);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getUnmatchedIndex=function(_3b,_3c,_3d,_3e,_3f){["WebSquare.uiplugin.mappingController.prototype.getUnmatchedIndex"];try{return this._grid._dataList.getUnmatchedIndex(_3b,_3c,_3d,_3e,_3f);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getRangeData=function(_40,to,_42){["WebSquare.uiplugin.mappingController.prototype.getRangeData"];try{var _43=[];if(_40>to){var tmp=to;to=_40;_40=tmp;}if(_40<0){_40=0;}if(to>this._grid.getDataLength()){to=this._grid.getDataLength();}for(var i=_40;i<to;i++){_43=_43.concat(this.getRowData(i,_42));}return _43;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getAllData=function(){["WebSquare.uiplugin.mappingController.prototype.getAllData"];try{return this._grid._dataList.getAllData();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getColumnDistinctDataArray=function(_46){["WebSquare.uiplugin.mappingController.prototype.getColumnDistinctDataArray"];try{var _46=this._grid.getColumnID(_46);return this._grid._dataList.getColumnDistinctDataArray(_46);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getRangeXML=function(_47,to){["WebSquare.uiplugin.mappingController.prototype.getRangeXML"];try{return this._grid._dataList.getRangeXML(_47,to);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getMatchedXML=function(_49,_4a,_4b,_4c,_4d){["WebSquare.uiplugin.mappingController.prototype.getMatchedXML"];try{var _49=this._grid.getColumnID(_49);return this._grid._dataList.getMatchedXML(_49,_4a,_4b,_4c,_4d);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getUnmatchedXML=function(_4e,_4f,_50,_51,_52){["WebSquare.uiplugin.mappingController.prototype.getUnmatchedXML"];try{var _4e=this._grid.getColumnID(_4e);return this._grid._dataList.getUnmatchedXML(_4e,_4f,_50,_51,_52);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getRowXML=function(_53){["WebSquare.uiplugin.mappingController.prototype.getRowXML"];try{return this._grid._dataList.getRowXML(_53);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getAllXML=function(){["WebSquare.uiplugin.mappingController.prototype.getAllXML"];try{return this._grid._dataList.getAllXML();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getRowJSON=function(_54){["WebSquare.uiplugin.mappingController.prototype.getRowJSON"];try{return this._grid._dataList.getRowJSON(_54);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getAllJSON=function(){["WebSquare.uiplugin.mappingController.prototype.getAllJSON"];try{return this._grid._dataList.getAllJSON();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getRangeJSON=function(_55,to){["WebSquare.uiplugin.mappingController.prototype.getAllJSON"];try{return this._grid._dataList.getRangeJSON(_55,to);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getMatchedJSON=function(_57,_58,_59,_5a,_5b){["WebSquare.uiplugin.mappingController.prototype.getMatchedJSON"];try{var _57=this._grid.getColumnID(_57);return this._grid._dataList.getMatchedJSON(_57,_58,_59,_5a,_5b);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getUnmatchedJSON=function(_5c,_5d,_5e,_5f,_60){["WebSquare.uiplugin.mappingController.prototype.getUnmatchedJSON"];try{var _5c=this._grid.getColumnID(_5c);return this._grid._dataList.getUnmatchedJSON(_5c,_5d,_5e,_5f,_60);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getRowArray=function(_61){["WebSquare.uiplugin.mappingController.prototype.getRowArray"];try{return this._grid._dataList.getRowArray(_61);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getAllArray=function(){["WebSquare.uiplugin.mappingController.prototype.getAllArray"];try{return this._grid._dataList.getAllArray();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getRangeArray=function(_62,to){["WebSquare.uiplugin.mappingController.prototype.getRangeArray"];try{return this._grid._dataList.getRangeArray(_62,to);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getMatchedArray=function(_64,_65,_66,_67,_68){["WebSquare.uiplugin.mappingController.prototype.getMatchedArray"];try{var _64=this._grid.getColumnID(_64);return this._grid._dataList.getMatchedArray(_64,_65,_66,_67,_68);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getUnmatchedArray=function(_69,_6a,_6b,_6c,_6d){["WebSquare.uiplugin.mappingController.prototype.getUnmatchedArray"];try{var _69=this._grid.getColumnID(_69);return this._grid._dataList.getUnmatchedArray(_69,_6a,_6b,_6c,_6d);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.setCellData=function(_6e,_6f,_70,_71,_72,_73,_74){["WebSquare.uiplugin.mappingController.prototype.setCellData"];try{var _6f=this._grid.getColumnID(_6f);if(this._grid._linkedDataList){var _75=this._grid._linkedDataList.filteredRowIndexArr[_6e];_6e=this._grid._dataList.getFilteredRowIndex(_75);if(typeof _6e!=="number"){_6e=_75;}}else{if(this._grid.options&&this._grid.options.pluginName==="grid"&&this._grid.isDrillDown&&this._grid.options.drilldownRealRowIndex){_6e=this._grid.getDisplayRowIndex(_6e);}}this._setCellData(_6e,_6f,_70,null,_71,_72,_73,_74);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype._setCellData=function(_76,_77,_78,_79,_7a,_7b,_7c,_7d){["WebSquare.uiplugin.mappingController.prototype._setCellData"];try{if(_78===null||_78===undefined){_78="";}if(this._grid.editedCell!=null&&!this._grid.getCellOption(_76,_77,"embeddedInput")){this._grid.editedCell.handleCancelEdit();}var _7e=this._grid._dataList.getTotalRow();var _7f=this._grid._dataList.getTotalCol();var _80=this._grid._dataList.getRealRowIndex(_76);var _81=_76;var _82="";var _77=this._grid.getColumnID(_77);var _83=this._grid.getColumnIndex(_77);var _84=this._grid._dataList.getColumnIndex(_77);if(this._grid.isDrillDown&&this._grid._dataList.options.depthColumn){_82=this.getCellData(_80,_77,"3");}else{if(_76>=0&&_76<_7e&&_84>=0&&_84<_7f){_82=this.getCellData(_76,_77);}}if(_76>=0&&_76<_7e&&_84>=0&&_84<_7f){var _85=this._grid.cellInfoHash[this._grid.tdIdList[_83]];var _86=_85.options.inputType||"text";if((_86=="text"||_86=="textImage"||_86=="drilldown")&&_85.options.applyFormat=="all"&&!_85.options.embeddedInput){var _87=this._grid.getInput(_85);_82=_85.formatter.format(_82);_82=_87.validator.validateString(_82);}var _88=this._grid.getColumnOption(_85.options.col_id,"dataType");if(_88=="bigDecimal"&&typeof _78=="string"){_78=$W._b(_78).toString();}else{if(_88=="bigDecimal"){$l("If dataType is bigDecimal, data must be entered to String.");_78=$W._b(_78).toString();}}var _89=_78.toString().replace(/\r(\n)?/,"\n");var _8a=_82.toString().replace(/\r(\n)?/,"\n");if(_89!==_8a){var _8b=_76;if(this._grid.isDrillDown&&this._grid._dataList.options.depthColumn){_8b=_80;}this._grid._dataList._setCellData(_8b,_77,_78,_7a,_7b,_7c,_7d);if(this._grid._dataList.getColumnID(_77)==undefined){this._grid.notifyCellChanged(_81,_83);}$W._c.fireEvent(this._grid,"onchange",_76,_83,_78,_82);if(_85.options.inputType=="radio"&&_85.options.groupName&&_85.options.trueValue==_78){_85.resetOthers(_76);if(this._grid.radioGroupRepChk[_85.options.groupName]){this.setCellData(_76,_85.options.groupName,_85.options.groupValue);}}if(this._grid.radioGroupRepChk[_85.options.id]){var _8c=this._grid.getColumnCount();for(var _8d=0;_8d<_8c;_8d++){var _8e=this._grid.cellInfoHash[this._grid.tdIdList[_8d]];if(_8e.options.inputType=="radio"&&_8e.options.groupName==_85.options.id&&_8e.options.groupValue==_78){var _8f=_76-this._grid.rowIndex;this.setCellData(_76,_8d,_8e.options.trueValue,_7a,_7b,_7c,_7d);break;}}if(_8d==_8c){this._grid._resetRadioGroup(_76,_85.id,false);}}if(this._grid.isDrillDown){if(this._grid.drilldown.options.depthColumn==_83){this._grid.notifyDataChanged({keepTop:true});if(this._grid.getDataLength()==0){this._grid.removeFocusedCell();}this._grid.setScrollYHeight();}else{if(_85.options.inputType=="checkbox"&&_85.options.setRecursive){var _90=this._grid.drilldown.getChildRowArr(_76,true);for(var i=0;i<_90.length;i++){if(this._getData(_90[i],_83)!=_78){this._setCellData(_90[i],_83,_78,_7a,_7c,_7d);}}}}}}else{if(this._grid.editedCell!=null&&!_79){this._grid.notifyCellChanged(_81,_83);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.setOriginalCellData=function(_92,_93,_94){["WebSquare.uiplugin.mappingController.prototype.setOriginalCellData"];try{var _93=this._grid.getColumnID(_93);this._grid._dataList.setOriginalCellData(_92,_93,_94);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype._setOriginalCellData=function(_95,_96,_97){["WebSquare.uiplugin.mappingController.prototype._setOriginalCellData"];try{var _96=this._grid.getColumnID(_96);this._grid._dataList._setOriginalCellData(_95,_96,_97);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.setColumnDefaultValue=function(_98,_99){["WebSquare.dataController.grid.prototype.setColumnDefaultValue"];try{var _98=this._grid.getColumnID(_98);this._grid._dataList.setColumnDefaultValue(_98,_99);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setRowData=function(_9a,_9b,_9c){["WebSquare.uiplugin.mappingController.prototype.setRowData"];try{this._grid._dataList.setRowData(_9a,_9b,_9c);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.setDataFile=function(arr,_9e){["WebSquare.uiplugin.mappingController.prototype.setDataFile"];try{arr=this._grid._dataList.toArray(arr);var _9f=0;var _a0=[];for(var i=0;i<this._grid.oneRowDataLength;i++){var _a2=this._grid.getCellInfo(i);if(_a2.options.inputType=="expression"){_a0.push(i);}}_9f=arr.length/this._grid.oneRowDataLength;for(var i=0;i<_a0.length;i++){for(var j=0;j<_9f;j++){var _a4=j*this._grid.oneRowDataLength+parseInt(_a0[i],10);arr[_a4]="";}}for(var i=0;i<this._grid.oneRowDataLength;i++){var _a2=this._grid.getCellInfo(i);var _a5=_a2.id;var _a6=_a2.options.dataType;if(_a2.options.inputType=="select"){var _a7=[];for(var j=0;j<_a2.itemArr.length;j++){var _a8=_a2.itemArr[j];_a7[_a8.label]=_a8.value;}for(var j=0;j<_9f;j++){var _a4=j*this._grid.oneRowDataLength+i;arr[_a4]=_a7[arr[_a4]];}}else{if(_a2.options.inputType=="checkcombobox"){var _a7=[];for(var j=0;j<_a2.itemArr.length;j++){var _a8=_a2.itemArr[j];_a7[_a8.label]=_a8.value;}for(var j=0;j<_9f;j++){var _a4=j*this._grid.oneRowDataLength+i;var _a9=[];var _aa=arr[_a4].split(_a2.separator);for(var k=0;k<_aa.length;k++){_a9.push(_a7[_aa[k]]);}arr[_a4]=_a9.join(_a2.separator);}}}if(_a2.options.displayFormat!=""){for(var j=0;j<_9f;j++){var _a4=j*this._grid.oneRowDataLength+i;var _ac=arr[_a4];var _ad=_a2.options.displayFormat;if(_a6=="number"||_a6=="bigDecimal"){retVal=$W._A.unformatCurrency(_ad,_ac);}else{if(_a6=="date"){retVal=$W._A.unformatDate(_ad,_ac);}else{if(_a6=="time"){retVal=$W._A.unformatTime(_ad,_ac);}else{retVal=$W._A.unformatText(_ad,_ac);}}}arr[_a4]=retVal;}}}this._grid._dataList.setData(arr,_9e);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.setData=function(arr,_af,_b0){["WebSquare.uiplugin.mappingController.prototype.setData"];try{this._grid._dataList.setData(arr,_af,_b0);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.insertData=function(_b1,_b2){["WebSquare.uiplugin.mappingController.prototype.insertData"];try{this._grid._dataList.insertData(_b1,_b2);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype._insertData=function(_b3,_b4,_b5){["WebSquare.uiplugin.mappingController.prototype._insertData"];try{this._grid._dataList._insertData(_b3,_b4,_b5);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getDataLength=function(){["WebSquare.uiplugin.mappingController.prototype.getDataLength"];try{var _b6;if(this._grid.successBinding){if(this._grid.groupbyStatus.grouped){for(var key in this._grid.customFilterStatusObj){if(this._grid.customFilterStatusObj[key]){return this._grid._dataList.getDataLength();}}_b6=this._grid.groupbyStatus.groupedRowIndexArr.length;}else{_b6=this._grid._dataList.getDataLength();}}else{_b6=0;}return _b6;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.setRowXML=function(_b8,_b9,_ba){["WebSquare.uiplugin.mappingController.prototype.setRowXML"];try{this._grid._dataList.setRowXML(_b8,_b9,_ba);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.setXML=function(_bb,_bc){["WebSquare.uiplugin.mappingController.prototype.setXML"];try{if(_bb==null){$W.logger.printLog("[WebSquare.uiplugin.mappingController.setXML] XML is null");return;}var _bd=this._grid.xmlData2ArrData(_bb);if(typeof _bd=="undefined"){$W.logger.printLog("[WebSquare.uiplugin.mappingController.setXML] DataArray which converted from XML is undefined.");return;}this.setData(_bd,_bc);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.insertXML=function(_be,_bf){["WebSquare.uiplugin.mappingController.prototype.setGridData"];try{this._grid._dataList.insertXML(_be,_bf);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.setJSON=function(_c0,_c1){["WebSquare.uiplugin.mappingController.prototype.setJSON"];try{if(_c0==null){$W.logger.printLog("[WebSquare.uiplugin.mappingController.setJSON] JSON is null");return;}var _c2=this._grid.jsonData2ArrData(_c0);if(typeof _c2=="undefined"){$W.logger.printLog("[WebSquare.uiplugin.mappingController.setJSON] DataArray which converted from JSON is undefined.");return;}this.setData(_c2,_c1);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.setRowJSON=function(_c3,_c4,_c5){["WebSquare.uiplugin.mappingController.prototype.setRowJSON"];try{this._grid._dataList.setRowJSON(_c3,_c4,_c5);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.insertJSON=function(_c6,_c7){["WebSquare.uiplugin.mappingController.prototype.setGridData"];try{this._grid._dataList.insertJSON(_c6,_c7);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.rowMoveUp=function(_c8){["WebSquare.dataController.grid.prototype.rowMoveUp"];try{this._grid._dataList.rowMoveUp(_c8);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.rowMoveDown=function(_c9){["WebSquare.dataController.grid.prototype.rowMoveDown"];try{this._grid._dataList.rowMoveDown(_c9);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.insertRow=function(_ca){["WebSquare.uiplugin.mappingController.prototype.insertRow"];try{return this._grid._dataList.insertRow(_ca);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.removeRow=function(_cb,_cc){["WebSquare.uiplugin.mappingController.prototype.removeRow"];try{return this._grid._dataList.removeRow(_cb,_cc);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.removeRows=function(_cd){["WebSquare.uiplugin.mappingController.prototype.removeRows"];try{return this._grid._dataList.removeRows(_cd);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.removeAll=function(){["WebSquare.uiplugin.mappingController.prototype.removeAll"];try{return this._grid._dataList.removeAll();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.removeRange=function(_ce,_cf){["WebSquare.uiplugin.mappingController.prototype.removeRange"];try{return this._grid._dataList.removeRange(_ce,_cf);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.reform=function(){["WebSquare.uiplugin.mappingController.prototype.reform"];try{this._grid._dataList.reform();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.undoRow=function(_d0){["WebSquare.uiplugin.mappingController.prototype.undoRow"];try{this._grid._dataList.undoRow(_d0);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype._undoRow=function(_d1){["WebSquare.uiplugin.mappingController.prototype._undoRow"];try{this._grid._dataList._undoRow(_d1);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.undoAll=function(){["WebSquare.uiplugin.mappingController.prototype.undoAll"];try{this._grid._dataList.undoAll();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getRowStatusValue=function(_d2){["WebSquare.uiplugin.mappingController.prototype.getRowStatusValue"];try{return this._grid._dataList.getRowStatusValue(_d2);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype._getRowStatusValue=function(_d3){["WebSquare.uiplugin.mappingController.prototype._getRowStatusValue"];try{return this._grid._dataList._getRowStatusValue(_d3);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getRowStatus=function(_d4){["WebSquare.uiplugin.mappingController.prototype.getRowStatus"];try{return this._grid._dataList.getRowStatus(_d4);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype._getRowStatus=function(_d5){["WebSquare.uiplugin.mappingController.prototype._getRowStatus"];try{return this._grid._dataList._getRowStatus(_d5);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getRowIndexByStatus=function(_d6){["WebSquare.uiplugin.mappingController.prototype.getRowIndexByStatus"];try{return this._grid._dataList.getRowIndexByStatus(_d6);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getInsertedIndex=function(){["WebSquare.uiplugin.mappingController.prototype.getInsertedIndex"];try{return this.getRowIndexByStatus("C");}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getUpdatedIndex=function(){["WebSquare.uiplugin.mappingController.prototype.getUpdatedIndex"];try{return this.getRowIndexByStatus("U");}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getDeletedIndex=function(){["WebSquare.uiplugin.mappingController.prototype.getDeletedIndex"];try{return this.getRowIndexByStatus("DV");}catch(e){$W.exception.printStackTrace(e);}};$W._j.statusController.prototype.getVoidIndex=function(){["WebSquare.DataCollection.statusController.prototype.getVoidIndex"];try{return this.getRowIndexByStatus("V");}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getOnlyDeletedIndex=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getOnlyDeletedIndex"];try{return this.getRowIndexByStatus("D");}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getModifiedIndex=function(){["WebSquare.uiplugin.mappingController.prototype.getModifiedIndex"];try{return this.getRowIndexByStatus("CUD");}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getInsertedData=function(){["WebSquare.uiplugin.mappingController.prototype.getDeletedData"];try{return this._grid._dataList.getInsertedData();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getInsertedXML=function(){["WebSquare.uiplugin.mappingController.prototype.getDeletedXML"];try{return this._grid._dataList.getInsertedXML();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getInsertedJSON=function(){["WebSquare.uiplugin.mappingController.prototype.getInsertedJSON"];try{return this._grid._dataList.getInsertedJSON();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getInsertedArray=function(){["WebSquare.uiplugin.mappingController.prototype.getInsertedArray"];try{return this._grid._dataList.getInsertedArray();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getDeletedData=function(){["WebSquare.uiplugin.mappingController.prototype.getDeletedData"];try{return this._grid._dataList.getDeletedData();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getDeletedXML=function(){["WebSquare.uiplugin.mappingController.prototype.getDeletedXML"];try{return this._grid._dataList.getDeletedXML();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getDeletedJSON=function(){["WebSquare.uiplugin.mappingController.prototype.getDeletedJSON"];try{return this._grid._dataList.getDeletedJSON();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getDeletedArray=function(){["WebSquare.uiplugin.mappingController.prototype.getDeletedArray"];try{return this._grid._dataList.getDeletedArray();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getVoidData=function(){["WebSquare.uiplugin.mappingController.prototype.getVoidData"];try{return this._grid._dataList.getVoidData();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getVoidXML=function(){["WebSquare.uiplugin.mappingController.prototype.getVoidXML"];try{return this._grid._dataList.getVoidXML();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getVoidJSON=function(){["WebSquare.uiplugin.mappingController.prototype.getVoidJSON"];try{return this._grid._dataList.getVoidJSON();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getVoidArray=function(){["WebSquare.uiplugin.mappingController.prototype.getVoidArray"];try{return this._grid._dataList.getVoidArray();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getOnlyDeletedData=function(){["WebSquare.uiplugin.mappingController.prototype.getOnlyDeletedData"];try{return this._grid._dataList.getOnlyDeletedData();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getOnlyDeletedXML=function(){["WebSquare.uiplugin.mappingController.prototype.getOnlyDeletedXML"];try{return this._grid._dataList.getOnlyDeletedXML();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getOnlyDeletedJSON=function(){["WebSquare.uiplugin.mappingController.prototype.getOnlyDeletedJSON"];try{return this._grid._dataList.getOnlyDeletedJSON();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getOnlyDeletedArray=function(){["WebSquare.uiplugin.mappingController.prototype.getOnlyDeletedArray"];try{return this._grid._dataList.getOnlyDeletedArray();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getUpdatedData=function(){["WebSquare.uiplugin.mappingController.prototype.getUpdatedData"];try{return this._grid._dataList.getUpdatedData();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getUpdatedXML=function(){["WebSquare.uiplugin.mappingController.prototype.getUpdatedXML"];try{return this._grid._dataList.getUpdatedXML();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getUpdatedJSON=function(){["WebSquare.uiplugin.mappingController.prototype.getUpdatedJSON"];try{return this._grid._dataList.getUpdatedJSON();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getUpdatedArray=function(){["WebSquare.uiplugin.mappingController.prototype.getUpdatedArray"];try{return this._grid._dataList.getUpdatedArray();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getModifiedData=function(){["WebSquare.uiplugin.mappingController.prototype.getModifiedData"];try{return this._grid._dataList.getModifiedData();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getModifiedXML=function(){["WebSquare.uiplugin.mappingController.prototype.getModifiedXML"];try{return this._grid._dataList.getModifiedXML();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getModifiedJSON=function(){["WebSquare.uiplugin.mappingController.prototype.getModifiedJSON"];try{return this._grid._dataList.getModifiedJSON();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.getModifiedArray=function(){["WebSquare.uiplugin.mappingController.prototype.getModifiedArray"];try{return this._grid._dataList.getModifiedArray();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype._setRowStatus=function(_d7,_d8){["WebSquare.uiplugin.mappingController.prototype._setRowStatus"];try{return this._grid._dataList._setRowStatus(_d7,_d8);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.initRowStatus=function(_d9){["WebSquare.uiplugin.mappingController.prototype.initRowStatus"];try{this._grid._dataList.initRowStatus(_d9);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype._createRowStatus=function(_da){["WebSquare.uiplugin.mappingController.prototype._createRowStatus"];try{this._grid._dataList._createRowStatus(_da);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype._updateRowStatus=function(_db){["WebSquare.uiplugin.mappingController.prototype._updateRowStatus"];try{this._grid._dataList._updateRowStatus(_db);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.removeRowStatus=function(_dc){["WebSquare.uiplugin.mappingController.prototype.removeRowStatus"];try{return this._grid._dataList.removeRowStatus(_dc);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.deleteRow=function(_dd){["WebSquare.uiplugin.mappingController.prototype.deleteRow"];try{this._grid._dataList.deleteRow(_dd);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype._deleteRowStatus=function(_de){["WebSquare.uiplugin.mappingController.prototype._deleteRowStatus"];try{this._grid._dataList._deleteRowStatus(_de);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.undeleteRow=function(_df){["WebSquare.uiplugin.mappingController.prototype.undeleteRow"];try{this._grid._dataList.undeleteRow(_df);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype._undeleteRowStatus=function(_e0){["WebSquare.uiplugin.mappingController.prototype._undeleteRowStatus"];try{this._grid._dataList._updateRowStatus(_e0);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.modifyAllStatus=function(_e1){["WebSquare.uiplugin.mappingController.prototype.modifyAllStatus"];try{this._grid._dataList.modifyAllStatus(_e1);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.modifyRangeStatus=function(_e2,to,_e4){["WebSquare.uiplugin.mappingController.prototype.modifyRangeStatus"];try{var _e5=[];var _e6=this.getDataLength()+1;if(0<=_e2&&to<_e6){for(var i=_e2;i<to;i++){var _e8=this.getRealRowIndex(i);var _e9=this._setRowStatus(_e8,_e4);if(_e4!=_e9){_e5.push({"rowIndex":i,"newRowStatus":_e4,"oldRowStatus":_e9});}}}$W._c.fireEvent(this,"onrowstatuschange",_e5);this.broadcast({"gridView":["notifyModifyRangeStatus",[_e2,to,_e4]]});}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.modifyMatchedStatus=function(_ea,_eb,_ec){["WebSquare.uiplugin.mappingController.prototype.modifyMatchedStatus"];try{this._grid._dataList.modifyMatchedStatus(_ea,_eb,_ec);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.modifyRowStatus=function(_ed,_ee){["WebSquare.uiplugin.mappingController.prototype.modifyRowStatus"];try{this._grid._dataList.modifyRowStatus(_ed,_ee);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ao.prototype.setColumnFilter=function(_ef,_f0,_f1,_f2){["WebSquare.uiplugin.mappingController.prototype.setColumnFilter"];try{if(this._grid._linkedDataList){this._grid._linkedDataList.setColumnFilter(_ef,_f0,_f1,_f2);}else{this._grid._dataList.setColumnFilter(_ef,_f0,_f1,_f2);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.removeColumnFilter=function(_f3){["WebSquare.uiplugin.mappingController.prototype.removeColumnFilter"];try{var _f3=this._grid.getColumnID(_f3);if(this._grid._linkedDataList){this._grid._linkedDataList.removeColumnFilter(_f3);}else{this._grid._dataList.removeColumnFilter(_f3);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.clearSortFilter=function(){["WebSquare.uiplugin.mappingController.prototype.clearSortFilter"];try{if(this._grid._linkedDataList){this._grid._linkedDataList.clearSortFilter();}else{this._grid._dataList.clearSortFilter();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.removeColumnFilterAll=function(){["WebSquare.uiplugin.mappingController.prototype.removeColumnFilter"];try{if(this._grid._linkedDataList){this._grid._linkedDataList.removeColumnFilterAll();}else{this._grid._dataList.removeColumnFilterAll();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.setFilter=function(_f4){["WebSquare.uiplugin.mappingController.prototype.setFilter"];try{if(this._grid._linkedDataList){this._grid._linkedDataList.setFilter(_f4);}else{this._grid._dataList.setFilter(_f4);if(_f4.focuseMode=="outfocus"){this._grid.setScrollTop(0);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.removeFilter=function(_f5,_f6){["WebSquare.uiplugin.mappingController.prototype.removeFilter"];try{if(this._grid._linkedDataList){this._grid._linkedDataList.removeFilter(_f5,_f6);}else{this._grid._dataList.removeFilter(_f5,_f6);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.clearFilter=function(){["WebSquare.uiplugin.mappingController.prototype.clearFilter"];try{if(this._grid._linkedDataList){this._grid._linkedDataList.clearFilter();}else{this._grid._dataList.clearFilter();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.sort=function(_f7,_f8){["WebSquare.uiplugin.mappingController.prototype.sort"];try{if(this._grid._linkedDataList){this._grid._linkedDataList.sort(_f7,_f8);}else{this._grid._dataList.sort(_f7,_f8);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.clearSort=function(){["WebSquare.uiplugin.mappingController.prototype.clearSort"];try{if(this._grid._linkedDataList){this._grid._linkedDataList.clearSort();}else{this._grid._dataList.clearSort();if(this._grid.options.filterFocusMode=="outfocus"){this._grid.setScrollTop(0);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.multisort=function(_f9){["WebSquare.uiplugin.mappingController.prototype.multisort"];try{if(this._grid._linkedDataList){this._grid._linkedDataList.multisort(_f9);}else{this._grid._dataList.multisort(_f9);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ao.prototype.mappingCommonAPI=function(){["WebSquare.uiplugin.mappingController.prototype.mappingCommonAPI"];try{this._grid._getData=this._getData;this._grid._getRowData=this._getRowData;this._grid._setCellData=this._setCellData;this._grid._setOriginalCellData=this._setOriginalCellData;this._grid._insertData=this._insertData;this._grid._undoRow=this._undoRow;this._grid._getRowStatusValue=this._getRowStatusValue;this._grid._getRowStatus=this._getRowStatus;this._grid._setRowStatus=this._setRowStatus;this._grid._createRowStatus=this._createRowStatus;this._grid._updateRowStatus=this._updateRowStatus;this._grid._deleteRowStatus=this._deleteRowStatus;this._grid._undeleteRowStatus=this._undeleteRowStatus;this._grid.getRowJSON=this.getRowJSON;this._grid.getRowCount=this.getRowCount;this._grid.getCellData=this.getCellData;this._grid.getOriginalCellData=this.getOriginalCellData;this._grid.getColData=this.getColData;this._grid.getRowData=this.getRowData;this._grid.getDataRow=this.getDataRow;this._grid.getMatchedData=this.getMatchedData;this._grid.getUnmatchedData=this.getUnmatchedData;this._grid.getMatchedColumnData=this.getMatchedColumnData;this._grid.getUnmatchedColumnData=this.getUnmatchedColumnData;this._grid.getMatchedIndex=this.getMatchedIndex;this._grid.getUnmatchedIndex=this.getUnmatchedIndex;this._grid.getRangeData=this.getRangeData;this._grid.getAllData=this.getAllData;this._grid.getColumnDistinctDataArray=this.getColumnDistinctDataArray;this._grid.getRangeXML=this.getRangeXML;this._grid.getMatchedXML=this.getMatchedXML;this._grid.getUnmatchedXML=this.getUnmatchedXM;this._grid.getRowXML=this.getRowXML;this._grid.getAllXML=this.getAllXML;this._grid.getRowJSON=this.getRowJSON;this._grid.getAllJSON=this.getAllJSON;this._grid.getRangeJSON=this.getRangeJSON;this._grid.getMatchedJSON=this.getMatchedJSON;this._grid.getUnmatchedJSON=this.getUnmatchedJSON;this._grid.getRowStatusValue=this.getRowStatusValue;this._grid.getRowStatus=this.getRowStatus;this._grid.getRowIndexByStatus=this.getRowIndexByStatus;this._grid.getInsertedIndex=this.getInsertedIndex;this._grid.getUpdatedIndex=this.getUpdatedIndex;this._grid.getDeletedIndex=this.getDeletedIndex;this._grid.getModifiedIndex=this.getModifiedIndex;this._grid.getInsertedData=this.getInsertedData;this._grid.getInsertedXML=this.getInsertedXML;this._grid.getInsertedJSON=this.getInsertedJSON;this._grid.getDeletedData=this.getDeletedData;this._grid.getDeletedXML=this.getDeletedXML;this._grid.getDeletedJSON=this.getDeletedJSON;this._grid.getVoidData=this.getVoidData;this._grid.getVoidXML=this.getVoidXML;this._grid.getVoidJSON=this.getVoidJSON;this._grid.getOnlyDeletedData=this.getOnlyDeletedData;this._grid.getOnlyDeletedXML=this.getOnlyDeletedXML;this._grid.getOnlyDeletedXML=this.getOnlyDeletedXML;this._grid.getOnlyDeletedJSON=this.getOnlyDeletedJSON;this._grid.getUpdatedData=this.getUpdatedData;this._grid.getUpdatedXML=this.getUpdatedXML;this._grid.getUpdatedJSON=this.getUpdatedJSON;this._grid.getModifiedData=this.getModifiedData;this._grid.getModifiedXML=this.getModifiedXML;this._grid.getModifiedJSON=this.getModifiedJSON;}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.mappingController=$W._a.ao;$W._a._m=function(_1){["WebSquare.uiplugin.linkedMappingController"];this._linkedDataList._grid=_1;};$W._a._m.prototype.getLinkedRowIndex=function(_2){["WebSquare.uiplugin.linkedMappingController.prototype.getRealRowIndex"];var _3=this._linkedDataList.getLinkedRowIndex(_2);return _3;};$W._a._m.prototype.getRealRowIndex=function(_4){["WebSquare.uiplugin.linkedMappingController.prototype.getRealRowIndex"];var _5=this._linkedDataList.filteredRowIndexArr[_4];return _5;};$W._a._m.prototype.getFilteredRowIndex=function(_6){["WebSquare.uiplugin.linkedMappingController.prototype.getFilteredRowIndex"];return this._linkedDataList.getFilteredRowIndex(realrowIndex);};$W._a._m.prototype.getTotalRow=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getTotalRow"];try{var _7=this._linkedDataList.initialRowIndexArr.length;return _7;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getRowCount=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getRowCount"];try{return this._linkedDataList.getDataLength();}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getCellData=function(_8,_9){["WebSquare.uiplugin.linkedMappingController.prototype.getCellData"];try{var _a=this._linkedDataList.getRealRowIndex(_8);return this._linkedDataList._dataList.getCellData(_a,_9);}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getOriginalCellData=function(_b,_c){["WebSquare.uiplugin.linkedMappingController.prototype.getOriginalCellData"];try{var _d=this._linkedDataList.getRealRowIndex(_b);return this._linkedDataList._dataList.getOriginalCellData(_d,_c);}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getDataLength=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getDataLength"];return this._linkedDataList.filteredRowIndexArr.length;};$W._a._m.prototype.getColCnt=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getColCnt"];try{var _e=0;var _f=this._grid.htmlInfo?this._grid.htmlInfo.head.rowArr[0]:this._grid.struct.head.rowArr[0];for(var i=0;i<_f.length;i++){var _11=_f[i];_e+=parseInt(_11.colSpan,10)||1;}return _e;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._m.prototype.getRowPosition=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getRowPosition"];try{return this._linkedDataList._dataList.getRowPosition();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._m.prototype.getColData=function(_12){["WebSquare.uiplugin.linkedMappingController.prototype.getColData"];try{var _13=[];for(var row=0;row<this._linkedDataList.initialRowIndexArr.length;row++){_13.push(this._linkedDataList.getCellData(row,_12));}return _13;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getRowData=function(_15){["WebSquare.uiplugin.linkedMappingController.prototype.getRowData"];try{var _16=this._linkedDataList.getRealRowIndex(_15);return this._linkedDataList._dataList.getRowData(_16);}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getDataRow=function(_17){["WebSquare.uiplugin.linkedMappingController.prototype.getDataRow"];try{var _18=this._linkedDataList.getRealRowIndex(_17);return this._linkedDataList._dataList.getDataRow(_18);}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getMatchedData=function(_19,_1a,_1b,_1c,_1d){["WebSquare.uiplugin.linkedMappingController.prototype.getMatchedData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _1e=[];var _1f=this._linkedDataList.getMatchedIndex(_19,_1a,_1b,_1c,_1d);for(var i=0;i<_1f.length;i++){_1e.push(this._linkedDataList.getRowData(_1f[i]));}return _1e;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getUnmatchedData=function(_21,_22,_23,_24,_25){["WebSquare.uiplugin.linkedMappingController.prototype.getUnmatchedData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _26=[];var _27=this._linkedDataList.getUnmatchedIndex(_21,_22,_23,_24,_25);for(var i=0;i<_27.length;i++){_26.push(this._linkedDataList.getRowData(_27[i]));}return _26;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getMatchedColumnData=function(_29,_2a,_2b,_2c,_2d,_2e){["WebSquare.uiplugin.linkedMappingController.prototype.getMatchedColumnData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _2f=[];var _30=this._linkedDataList.getMatchedIndex(_29,_2a,_2c,_2d,_2e);for(var i=0;i<_30.length;i++){_2f.push(this._linkedDataList.getCellData(_30[i],_2b));}return _2f;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getUnmatchedColumnData=function(_32,_33,_34,_35,_36,_37){["WebSquare.uiplugin.linkedMappingController.prototype.getUnmatchedColumnData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _38=[];var _39=this._linkedDataList.getUnmatchedIndex(_32,_33,_35,_36,_37);for(var i=0;i<_39.length;i++){_38.push(this._linkedDataList.getCellData(_39[i],_34));}return _38;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getFilteredColData=function(_3b){["WebSquare.uiplugin.linkedMappingController.prototype.getFilteredColData"];var _3c=[];for(var row=0;row<this._linkedDataList.getDataLength();row++){_3c.push(this._linkedDataList.getCellData(this._linkedDataList.filteredRowIndex[row],_3b));}return _3c;};$W._a._m.prototype.getMatchedIndex=function(_3e,_3f,_40,_41,_42){["WebSquare.uiplugin.linkedMappingController.prototype.getMatchedIndex"];try{_40=(typeof _40=="undefined"||_40==null)?true:_40;_40=$W._G.getBoolean(_40);if(_40!=false){_40=true;}colIndex=this._linkedDataList._dataList.getColumnIndex(_3e);var _43=this._linkedDataList.getFilteredColData(colIndex);var _44=[];if(typeof _41!="number"){_41=0;}if(typeof _42!="number"){_42=_43.length;}if(_42>_43.length){_42=_43.length;}for(var i=_41;i<_42;i++){var _46=_43[i];var _47=this._linkedDataList.getRealRowIndex(i);if(_40==true){if(_46===_3f){_44.push(_47);}}else{if(_46.indexOf(_3f)>-1){_44.push(_47);}}}return _44;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getUnmatchedIndex=function(_48,_49,_4a,_4b,_4c){["WebSquare.uiplugin.linkedMappingController.prototype.getUnmatchedIndex"];try{if(_4a!=false){_4a=true;}colIndex=this._linkedDataList._dataList.getColumnIndex(_48);var _4d=this._linkedDataList.getFilteredColData(colIndex);var _4e=[];if(typeof _4b!="number"){_4b=0;}if(typeof _4c!="number"){_4c=_4d.length;}if(_4c>_4d.length){_4c=_4d.length;}for(var i=_4b;i<_4c;i++){var _50=_4d[i];var _51=this._linkedDataList.getRealRowIndex(i);if(_4a==true){if(_50!==_49){_4e.push(_51);}}else{if(_50.indexOf(_49)<=-1){_4e.push(_51);}}}return _4e;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getRangeData=function(_52,to){["WebSquare.uiplugin.linkedMappingController.prototype.getRangeData"];try{var _54=[];if(_52>to){var tmp=to;to=_52;_52=tmp;}if(_52<0){_52=0;}if(to>this._linkedDataList.getDataLength()){to=this._linkedDataList.getDataLength();}for(var i=_52;i<to;i++){var _57=this._linkedDataList.getRealRowIndex(i);_54=_54.concat(this._linkedDataList.getRowData(_57));}return _54;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getAllData=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getAllData"];try{return this._linkedDataList._dataList.getAllFilteredData();}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getAllFilteredData=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getAllFilteredData"];this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _58=[];for(var i=0;i<this._linkedDataList.getDataLength();i++){_58=_58.concat(this._linkedDataList.getRowData(i));}return _58;};$W._a._m.prototype.getColumnDistinctDataArray=function(_5a){["WebSquare.uiplugin.linkedMappingController.prototype.getColumnDistinctDataArray"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _5b=[];var _5c=[];if(typeof _5a=="string"){_5a=this._linkedDataList._dataList.bodyIdColIndexMap[_5a];}var _5d=this._linkedDataList._dataList.getCellInfo(_5a);var _5e=this._linkedDataList.getColData(_5a);for(var i=0;i<_5e.length;i++){var _60=_5e[i];_5c[_60]=1;}for(var _61 in _5c){_5b.push(_61);}if(_5d.options.dataType=="text"){_5b=_5b.sort();}else{_5b=_5b.sort(this._linkedDataList.comparator);}return _5b;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getRangeXML=function(_62,to){["WebSquare.uiplugin.linkedMappingController.prototype.getRangeXML"];try{return this._linkedDataList.getRangeXML(_62,to);}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getMatchedXML=function(_64,_65,_66,_67,_68){["WebSquare.uiplugin.linkedMappingController.prototype.getMatchedXML"];try{return this._linkedDataList.getMatchedXML(_64,_65,_66,_67,_68);}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getUnmatchedXML=function(_69,_6a,_6b,_6c,_6d){["WebSquare.uiplugin.linkedMappingController.prototype.getUnmatchedXML"];try{return this._linkedDataList.getUnmatchedXML(_69,_6a,_6b,_6c,_6d);}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getRowXML=function(_6e){["WebSquare.uiplugin.linkedMappingController.prototype.getRowXML"];try{return this._linkedDataList.getRowXML(_6e);}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getAllXML=function(_6f){["WebSquare.uiplugin.linkedMappingController.prototype.getAllXML"];try{return this._linkedDataList.getAllXML(_6f);}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getAllFilteredXML=function(_70){["WebSquare.uiplugin.linkedMappingController.prototype.getAllFilteredXML"];return this._linkedDataList.getAllFilteredXML(_70);};$W._a._m.prototype.getRowJSON=function(_71,_72){["WebSquare.uiplugin.linkedMappingController.prototype.getRowJSON"];try{return this._linkedDataList.getRowJSON(_71,_72);}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getAllJSON=function(_73){["WebSquare.uiplugin.linkedMappingController.prototype.getAllJSON"];try{return this._linkedDataList.getAllJSON(_73);}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getRangeJSON=function(_74,to,_76){["WebSquare.uiplugin.linkedMappingController.prototype.getAllJSON"];try{return this._linkedDataList.getRangeJSON(_74,to,_76);}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getMatchedJSON=function(_77,_78,_79,_7a,_7b){["WebSquare.uiplugin.linkedMappingController.prototype.getMatchedJSON"];try{return this._linkedDataList.getMatchedJSON(_77,_78,_79,_7a,_7b);}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getUnmatchedJSON=function(_7c,_7d,_7e,_7f,_80){["WebSquare.uiplugin.linkedMappingController.prototype.getUnmatchedJSON"];try{return this._linkedDataList.getUnmatchedJSON(_7c,_7d,_7e,_7f,_80);}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getFusionChartData=function(_81,_82,_83){["WebSquare.uiplugin.linkedMappingController.prototype.getFusionChartData"];return this._linkedDataList.getFusionChartData(_81,_82,_83);};$W._a._m.prototype.getRowStatusValue=function(_84){["WebSquare.uiplugin.linkedMappingController.prototype.getRowStatusValue"];try{return this._linkedDataList._getRowStatusValue(_84);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._m.prototype.getRowStatus=function(_85){["WebSquare.uiplugin.linkedMappingController.prototype.getRowStatus"];try{return this._linkedDataList._getRowStatus(_85);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._m.prototype.getRowIndexByStatus=function(_86){["WebSquare.uiplugin.linkedMappingController.prototype.getRowIndexByStatus"];try{var _87=[];for(var i=0;i<this._linkedDataList.getDataLength();i++){var _89=this._linkedDataList.getRealRowIndex(i);if(_86.indexOf(this._linkedDataList._dataList.getRowStatus(_89))>-1){_87.push(_89);}}return _87;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getInsertedIndex=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getInsertedIndex"];try{return this._linkedDataList.getRowIndexByStatus("C");}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getUpdatedIndex=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getUpdatedIndex"];try{return this._linkedDataList.getRowIndexByStatus("U");}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getDeletedIndex=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getDeletedIndex"];try{return this._linkedDataList.getRowIndexByStatus("DV");}catch(e){$W.exception.printStackTrace(e);}};$W._j.linkedDataListApiController.prototype.getOnlyDeletedIndex=function(){["WebSquare.DataCollection.linkedDataListApiController.prototype.getDeletionsIndex"];try{return this.getRowIndexByStatus("D");}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getVoidIndex=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getVoidIndex"];try{return this._linkedDataList.getRowIndexByStatus("V");}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getModifiedIndex=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getModifiedIndex"];try{return this._linkedDataList.getRowIndexByStatus("CUD");}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getInsertedData=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getInsertedData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _8a=[];var _8b=this._linkedDataList.getInsertedIndex();for(var i=0;i<_8b.length;i++){_8a.push(this._linkedDataList.getRowData(_8b[i]));}return _8a;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getInsertedXML=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getInsertedXML"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _8d=this._linkedDataList.getInsertedIndex();var _8e=this._linkedDataList._dataList.getArrXML(_8d);return _8e;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getInsertedJSON=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getInsertedJSON"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _8f=[];var _90=this._linkedDataList.getInsertedIndex();for(var i=0;i<_90.length;i++){_8f.push(this._linkedDataList.getRowJSON(_90[i]));}return _8f;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getDeletedData=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getDeletedData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _92=[];var _93=this._linkedDataList.getDeletedIndex();for(var i=0;i<_93.length;i++){_92.push(this._linkedDataList.getRowData(_93[i]));}return _92;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getDeletedXML=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getDeletedXML"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _95=this._linkedDataList.getDeletedIndex();var _96=this._linkedDataList._dataList.getArrXML(_95);return _96;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getDeletedJSON=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getDeletedJSON"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _97=[];var _98=this._linkedDataList.getDeletedIndex();for(var i=0;i<_98.length;i++){_97.push(this._linkedDataList.getRowJSON(_98[i]));}return _97;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getVoidData=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getVoidData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _9a=[];var _9b=this._linkedDataList.getVoidIndex();for(var i=0;i<_9b.length;i++){_9a.push(this._linkedDataList.getRowData(_9b[i]));}return _9a;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getVoidXML=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getVoidXML"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _9d=this._linkedDataList.getVoidIndex();var _9e=this._linkedDataList._dataList.getArrXML(_9d);return _9e;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getVoidJSON=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getVoidJSON"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _9f=[];var _a0=this._linkedDataList.getVoidIndex();for(var i=0;i<_a0.length;i++){_9f.push(this._linkedDataList.getRowJSON(_a0[i]));}return _9f;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getOnlyDeletedData=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getOnlyDeletedData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _a2=[];var _a3=this._linkedDataList.getOnlyDeletedIndex();for(var i=0;i<_a3.length;i++){_a2.push(this._linkedDataList.getRowData(_a3[i]));}return _a2;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getOnlyDeletedXML=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getOnlyDeletedXML"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _a5=this._linkedDataList.getOnlyDeletedIndex();var _a6=this._linkedDataList._dataList.getArrXML(_a5);return _a6;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getOnlyDeletedJSON=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getOnlyDeletedJSON"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _a7=[];var _a8=this._linkedDataList.getOnlyDeletedIndex();for(var i=0;i<deletionsRowIndexArr.length;i++){_a7.push(this._linkedDataList.getRowJSON(_a8[i]));}return _a7;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getUpdatedData=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getUpdatedData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _aa=[];var _ab=this._linkedDataList.getUpdatedIndex();for(var i=0;i<_ab.length;i++){_aa.push(this._linkedDataList.getRowData(_ab[i]));}return _aa;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getUpdatedXML=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getUpdatedXML"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _ad=this._linkedDataList.getUpdatedIndex();var _ae=this._linkedDataList._dataList.getArrXML(_ad);return _ae;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getUpdatedJSON=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getUpdatedJSON"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _af=[];var _b0=this._linkedDataList.getUpdatedIndex();for(var i=0;i<_b0.length;i++){_af.push(this._linkedDataList.getRowJSON(_b0[i]));}return _af;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getModifiedData=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getModifiedData"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _b2=[];var _b3=this._linkedDataList.getModifiedIndex();for(var i=0;i<_b3.length;i++){_b2.push(this._linkedDataList.getRowData(_b3[i]));}return _b2;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getModifiedXML=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getModifiedXML"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _b5=this._linkedDataList.getModifiedIndex();var _b6=this._linkedDataList._dataList.getArrXML(_b5);return _b6;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.getModifiedJSON=function(){["WebSquare.uiplugin.linkedMappingController.prototype.getModifiedJSON"];try{this._linkedDataList.broadcast({"gridView":["_endEdit"]});var _b7=[];var _b8=this._linkedDataList.getModifiedIndex();for(var i=0;i<_b8.length;i++){_b7.push(this._linkedDataList.getRowJSON(_b8[i]));}return _b7;}catch(e){$W.exception.printStackTrace(e);}};$W._a._m.prototype.setColumnFilter=function(_ba,_bb,_bc,_bd){["WebSquare.uiplugin.linkedMappingController.prototype.setColumnFilter"];return this._linkedDataList.setColumnFilter(_ba,_bb,_bc,_bd);};$W._a._m.prototype.removeColumnFilter=function(_be){["WebSquare.uiplugin.linkedMappingController.prototype.removeColumnFilter"];return this._linkedDataList.removeColumnFilter(_be);};$W._a._m.prototype.clearSortFilter=function(){["WebSquare.uiplugin.linkedMappingController.prototype.clearSortFilter"];return this._linkedDataList.clearSortFilter();};$W._a._m.prototype.removeColumnFilterAll=function(){["WebSquare.uiplugin.linkedMappingController.prototype.removeColumnFilterAll"];return this._linkedDataList.removeColumnFilterAll();};$W._a._m.prototype.setFilter=function(_bf){["WebSquare.uiplugin.linkedMappingController.prototype.setFilter"];return this._linkedDataList.setFilter(_bf);};$W._a._m.prototype.removeFilter=function(_c0,_c1){return this._linkedDataList.removeFilter(_c0,_c1);};$W._a._m.prototype.clearFilter=function(){["WebSquare.uiplugin.linkedMappingController.prototype.clearFilter"];return this._linkedDataList.clearFilter();};$W._a._m.prototype.sort=function(_c2,_c3){["WebSquare.uiplugin.linkedMappingController.prototype.sort"];return this._linkedDataList.sort(_c2,_c3);};$W._a._m.prototype.clearSort=function(){["WebSquare.uiplugin.linkedMappingController.prototype.clearSort"];return this._linkedDataList.clearSort();};$W._a._m.prototype.multisort=function(_c4){["WebSquare.uiplugin.linkedMappingController.prototype.multisort"];return this._linkedDataList.multisort(_c4);};;WebSquare.uiplugin.linkedMappingController=$W._a._m;requires("uiplugin/gridView/layoutController.js");requires("uiplugin/gridView/drawInitializer.js");requires("uiplugin/gridView/eventController.js");requires("uiplugin/gridView/keyEventController.js");requires("uiplugin/gridView/mainDrawController.js");requires("uiplugin/gridView/drawController.js");requires("uiplugin/gridView/cellController.js");requires("uiplugin/gridView/headerController.js");requires("uiplugin/gridView/focusController.js");requires("uiplugin/gridView/subtotalDataController.js");requires("uiplugin/gridView/footerController.js");requires("uiplugin/gridView/gridViewApiController.js");requires("uiplugin/gridView/styleController.js");requires("uiplugin/control/modelControl.js");requires("uiplugin/control/itemsetControl.js");requires("uiplugin.inputCalendar");requires("uiplugin.selectbox");requires("uiplugin.input");requires("uiplugin.textarea");requires("uiplugin.checkcombobox");requires("uiplugin.autoComplete");requires("uiplugin.scrollView");requires("uiplugin.list");requires("uiplugin.floatingLayer");requires("uiplugin.textbox");requires("uiplugin.group");requires("uiplugin.radio");requires("engine/formatter.js");requires("uiplugin/gridView/drilldown.js");requires("uiplugin/gridView/notifyController.js");requires("uiplugin/gridView/mappingController.js");requires("uiplugin/gridView/linkedMappingController.js");$W._a.au=function(id,_2,_3){["WebSquare.uiplugin.gridView"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.au.prototype,$W._t.prototype);$W._a.au.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.gridView",pluginName:"gridView",userEvents:["oncellclick","oncelldblclick","onrightbuttonclick","ontextimageclick","oncellindexchange","onrowindexchange","oncolumnindexchange","onfilereadend","onscrollend","onbeforeedit","oneditend","oneditkeydown","onafteredit","onscrolly","onscrollx","onsort","onheaderclick","onheaderrightbuttonclick","onheaderdblclick","onfooterclick","onbodymouseover","ongroupby","onclick","onkeydown","onkeyup","onviewchange","onbeforepaste","onafterpaste"],rowNumVisible:false,rowNumHeaderValue:"",rowNumBackgroundColor:"",rowStatusVisible:false,rowStatusHeaderValue:"",overflowX:"auto",overflowY:"auto",fixedColumn:0,fixedColumnWithHidden:true,fixedRow:0,resize:true,focusMode:"cell",selectedCellColor:"#FCA73C",selectedRowColor:"#FCA73C",oddEvenColorDisplay:false,oddRowBackgroundColor:"#EFF7FF",evenRowBackgroundColor:"#FFFFFF",rowMouseOver:false,rowMouseOverColor:"#ffff80",selectedCellOverColor:"",selectedRowOverColor:"",editModeEvent:"ondblclick",keyMoveEditMode:false,enterKeyMove:"down",sortable:false,sortOrderReverse:false,showSortableImage:false,useCtrlOnMultisort:true,sortedImagePosition:"",sortEvent:"ondblclick",tooltipDisplay:false,tooltipDisplayTime:0,tooltipClass:"",tooltipStyle:"",tooltipHide:"click",tooltipShowAlways:false,tooltipFormatter:"",tooltipPositionX:"20",tooltipPositionY:"3+cellHeight",noResultMessageVisible:false,noResultMessage:"",noResultMessageClass:"",noResultMessageStyle:"",hiddenClass:"",readOnly:"",readOnlyPriority:"",readOnlyBackgroundColor:"",readOnlyBackgroundImg:"",readOnlyBackgroundImgCSS:"",readOnlyTabIgnore:false,ignoreNonEditableCell:false,disabledPriority:"",disabledBackgroundColor:"",disabledFontColor:"",summary:"",footerCaption:"",footerSummary:"",drawLimitTime:70,drawLimitRow:4,loadCount:0,autoFit:"",autoFitMinWidth:"",autoFitFixYScroll:false,fastScroll:"",lazyDrawHiddenColumn:false,defaultCellHeight:-1,hideHeader:false,dataDragDrop:false,dragDisplayColumn:"",dragStartFunction:"",dragEndFunction:"",headFiller:false,focusMove:"true",focusFlow:"default",scrollMsg:"",visibleRowNum:"",fixHeight:false,fastEditMode:false,iScrollMoveEffectTime:500,iScrollSlideTime:800,iScrollSlidePeriod:100,rollbackCommit:true,numberCasting:false,backgroundColorMode:"lazy",senseReader:false,showLastRow:false,autoScope:false,autoResizeEmbeddedInput:false,excelUploadPopupURL:"",advancedExcelUploadPopupURL:"",advancedExcelDownloadPopupURL:"",excelUploadURL:"",excelDownloadURL:"",csvDownloadURL:"",csvUploadPopupURL:"",csvUploadURL:"",advancedExcelUploadURL:"",advancedExcelDownloadURL:"",drilldownRealRowIndex:true,escape:"",fixPrint:false,xmlEncode:false,wheelRows:3,wheelStop:false,scrollByColumn:false,rowNumWidth:"",rowStatusWidth:"",keepDefaultColumnWidth:false,columnMove:false,columnOrder:"",copyAmount:"",checkReadOnlyOnPaste:false,checkDisabledOnPaste:false,checkBlankRowOnPaste:false,preventCopy:false,preventPaste:false,groupbyZone:false,groupbyListVisibleRowNum:10,groupbyZoneMessage:"",groupbyZoneHeight:"50",groupbyMaxCount:-1,plainText:false,excludeDeletedRows:false,initFixedHeightByRowNum:-1,moveKeyEditMode:false,keepBeforeDisplayData:false,touchScrollDelta:5,dataList:"",useFilterList:false,customFilterListVisibleRowNum:10,useFilterEmptyMsg:"",duplicateColumnId:false,filterFocusMode:"",focusOnSetData:false,focusDefaultColumn:false,scrollFix:false,scrollRowHeight:false,ignoreCellClick:false,ignoreToggleOnDisabled:false,adaptive:"",autoFitFilterList:false};$W._a.au.prototype.initialize=function(_4){["WebSquare.uiplugin.gridView.initialize"];this.initializeType="gridView";this.firstEmbeddedInputResize=true;if(_4){var _5=false;var _6=false;var _7=_4.childNodes;for(var i=0;i<_7.length;i++){if(_7[i].tagName=="w2:header"){_6=true;continue;}if(_7[i].tagName=="w2:gBody"){_5=true;continue;}}if(!(_5&&_6)){this.uncompleted=true;$l(" gridView component has been ignored because definition is uncompleted. ");return;}}this._dataList=$W._G.getComponentById(this.options.dataList);if(this._dataList){this._grid=this;this._dataList.addChild(this);this.successBinding=true;switch(this._dataList.initializeType){case "linkedDataList":this._linkedDataList=this._dataList;this._dataList=$W._G.getComponentById(this._linkedDataList.options.bind);if(this._dataList){this.dataList=new $W._a.ao(this);$W.extend(this,$W._a._m.prototype);$W.extend(this.dataList,$W._a._m.prototype);this.dataList._linkedDataList=this._linkedDataList;}else{this.successBinding=false;this._dataList={};}break;case "dataList":this.dataList=new $W._a.ao(this);this.dataList.mappingCommonAPI();break;}}else{$l(" gridView component has been ignored because dataList is null. ");this.successBinding=false;this._dataList={};}$W._j.api.addRelation(this.id,this.options.dataList);this.focusedCellInfo={};this.extraData={grid:{},row:[],col:[],cell:[]};this.drilldown=new $W._a._Q();if(this.options.focusMove=="false"||this.options.focusMove=="horizontal"){this.options.enterKeyMove="none";}this.date=new Date();this.isDrillDown=false;this.depthColumn="";this.showDepth="";this.removed=false;this.colWidthList=[];this.gridWidth=0;this.resizeStarted=false;this.headerHeight=0;this.footerHeight=0;this.hgap=[];this.autofitColumn=false;this.autofitColumnIndexArr=[];this.autofitColumnWidthArr=[];this.scrollWidthSize=18;this.scrollLayerWidthSize=18;this.hiddenList=[];this.headerFocus=false;this.headerObjArr=[];this.tmpSelectbox=null;this.noevent=false;this.rowIndex=-1;this.lastIndex=-1;this.oelIndex=-1;this.initializeDrawController();this.drawedRowLength=0;this.maxRowLength=0;this.drawSizeChanged=false;this.drawSizeAdded=false;this.isExistTextarea=false;this.bodyHeight=0;this.scrollEvent=true;this.isColMerge=false;this.upperToLowerColumnRelation={};this.hasSubtotal=false;this.startRowNumber=0;this.dataRowList=[];this.subtotalRowHash={};this.subtotalDataArr={};this.subtotalObj={};this.drawSetTimeoutKey=[];this.overElem=null;this.outElem=null;this.hasFooter=false;this.footerDataObj=null;this.drawFooterStatus=true;this.bScrollTop=-1;this.bScrollY=0;this.drawedTime=0;this.defaultColCnt=0;if(this.options.rowNumVisible){this.defaultColCnt++;}if(this.options.rowStatusVisible){this.defaultColCnt++;}this.loadCheck=[];this.beforeDataLength=-1;this.beforeMaxRowLength=-1;this.editEnd=false;this.lastOverSrc=null;this.headerInfoHash={};this.headerInfoHash2={};this.cellInfoHash={};this.cellInfoHash2={};this.expressionAssArr=[];this.rowStyleValueObj=[];this.columnStyleValueObj=[];this.cellStyleValueObj=[];this.adaptiveColumnStyleValueObj=[];this.headerCellStyleValueObj={};this.rowStyleIndex=0;this.cellStyleIndex=0;this.rowStyleArr=[];this.columnStyleArr=[];this.cellStyleArr=[];this.rowReadOnlyArr=[];this.cellReadOnlyArr=[];this.rowDisabledArr=[];this.cellDisabledArr=[];this.focusedCell=[];this.focusedRow=[];this.headerToBodyRelation={};this.bodyToHeaderRelation={};this.passiveColSpanRelation={};this.colMoveBolockedHeaderObj={};this.columnOrder=[];this.isIE6=$W._G.isIE("6");if(document.compatMode=="BackCompat"){this.isIE6=true;}this.isIE7=$W._G.isIE("7");this.isIE6or7=(this.isIE6||this.isIE7);this.isMobile=$W._G.isMobile();this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase());this.tmpCnt=0;this.initFlag=false;this.options.rowNumBackgroundColor=this.options.rowNumBackgroundColor.wq_trim();this.options.selectedCellColor=this.options.selectedCellColor.wq_trim();this.options.selectedRowColor=this.options.selectedRowColor.wq_trim();this.options.oddRowBackgroundColor=this.options.oddRowBackgroundColor.wq_trim();this.options.evenRowBackgroundColor=this.options.evenRowBackgroundColor.wq_trim();this.options.rowMouseOverColor=this.options.rowMouseOverColor.wq_trim();this.options.readOnlyBackgroundColor=this.options.readOnlyBackgroundColor.wq_trim();this.options.disabledBackgroundColor=this.options.disabledBackgroundColor.wq_trim();this.options.disabledFontColor=this.options.disabledFontColor.wq_trim();if($W._G.getBoolean(this.options.focusOnSetData)){this.options.focusOnSetData=true;}if(this.options.senseReader){this.options.focusFlow="linear";this.options.showLastRow=true;if(this.element&&this.element.getAttribute("autoScope")!="false"){this.options.autoScope=true;}this.senseReaderMode=true;}this.embeddedWidthObj={};if(this.options.sortable&&this.options.sortHeaderDiv){this.options.showSortableImage=true;this.options.sortEvent="onclick";}this.radioGroupRepChk={};this.options.excelUploadPopupURL=this.options.excelUploadPopupURL||$W.baseURI+"uiplugin/grid/upload/fileUpload.html";this.options.advancedExcelUploadPopupURL=this.options.advancedExcelUploadPopupURL||$W.baseURI+"uiplugin/grid/upload/advancedfileUpload.html";this.options.advancedExcelDownloadPopupURL=this.options.advancedExcelDownloadPopupURL||$W.baseURI+"uiplugin/grid/download/advancedfileDownload.html";this.options.excelUploadURL=this.options.excelUploadURL||$W.baseServletURI+"excelToGrid.wq";this.options.excelDownloadURL=this.options.excelDownloadURL||$W.baseServletURI+"xmlToExcel.wq";this.options.csvDownloadURL=this.options.csvDownloadURL||$W.baseServletURI+"xmlToCSV.wq";this.options.csvUploadURL=this.options.csvUploadURL||$W.baseServletURI+"csvToXML.wq";this.options.csvUploadPopupURL=this.options.csvUploadPopupURL||$W.baseServletURI+"uiplugin/grid/upload/csvfileUpload.html";this.options.advancedExcelUploadURL=this.options.advancedExcelUploadURL||$W.baseServletURI+"excelToGrid2.wq";this.options.advancedExcelDownloadURL=this.options.advancedExcelDownloadURL||$W.baseServletURI+"xmlToExcel2.wq";this.groupbyStatus={};this.groupbyZoneStatus={};this.groupbyDisplayOptions={};this.directItemChoiceKeyObj={};this.rowStatusColIDArr=[];this.cellIdList=[];this.firstOpenCustomFilter={};this.customFilterStatusObj={};this.hiddenAdaptiveList=[];this.adaptiveEmbeddedInputIdList=[];this.hideThresholdObj={};this.orgBodyHeightObj={};this.orgHeaderHeightObj={};this.orgFooterHeightObj={};this.orgSubtotalHeightObj={};this.oldOptions={};this.adaptiveGridType=0;this.tooltipPositionParse=false;this.oneRowScrollHeight=20;this.options.noResultMessage=this.options.noResultMessage||$W._m.getMessage("Grid_noResultMessage")||"\uc870\ud68c \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.";this.options.scrollMsg=this.options.scrollMsg||$W._m.getMessage("Grid_scrollMsg")||"\ud654\uba74 \uac31\uc2e0 \uc911 \uc785\ub2c8\ub2e4...";};$W._a.au.prototype.setPreAction=function(){["WebSquare.uiplugin.gridView.setPreAction"];try{var _9=this.render.offsetWidth;var _a=this.render.offsetHeight;if(this.startedDisplayNone){this.initFlag=true;this.initializeHead();this.initializeFooter();this.drawFooter();this.drawHeader();return;}this.resizeObj={width:_9,height:_a,scrollLeft:0,scrollTop:0,clientWidth:this.render.clientWidth};var _b=this.getElementById(this.id+"_head_table");var _c=_b.getElementsByTagName("tr");var _d=_c[_c.length-1];var _e=this.getElementById(this.id+"_body_table");this.gridLastTrBottomFix=_e.offsetHeight-_d.offsetTop-_d.offsetHeight;this.setTableLayout();this._handleScrollX();this.setCellInfo();if(this.isDrillDown==true){this.initDrilldown();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.au.prototype.setAction=function(){["WebSquare.uiplugin.gridView.setAction"];try{this.initializeEvent();if(this.options.columnOrder){this.setColumnOrder(this.options.columnOrder);}if(this.options.groupbyZone){this.groupbyZoneStatus.groupbyZoneRender=this.dom[this.id+"_groupbyZone_div"];var _f=this.options.groupbyZoneHeight.match("%")!=null;var _10=(_f)?this.options.groupbyZoneHeight:this.options.groupbyZoneHeight+"px";this.groupbyZoneStatus.groupbyZoneRender.style.height=_10;if(_f){this.groupbyZoneStatus.groupbyZoneRender.style.height=this.groupbyZoneStatus.groupbyZoneRender.offsetHeight+"px";}var _11=$W._H.getStyle(this.groupbyZoneStatus.groupbyZoneRender,"border-left-width").replace("px","");this.groupbyZoneStatus.groupbyZoneBorder=_11*2;this.groupbyZoneStatus.groupbyZoneRender.style.width=(this.resizeObj.clientWidth-this.groupbyZoneStatus.groupbyZoneBorder)+"px";this.dom[this.id+"_main_div"].style.top=this.groupbyZoneStatus.groupbyZoneRender.offsetHeight+"px";this.dom[this.id+"_scrollY_div"].style.top="0px";if(this.options.groupbyZoneMessage){var _12=document.createElement("div");_12.innerHTML+=this.options.groupbyZoneMessage;_12.className+=" w2grid_groupbyZone_message ";this.groupbyZoneStatus.groupbyZoneRender.appendChild(_12);_12.style.marginTop=-_12.offsetHeight/2+"px";_12.style.marginLeft=-_12.offsetWidth/2+"px";this.groupbyZoneStatus.groupbyZoneMessageRender=_12;}}if(this.options.hideHeader){var _13=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));this.backUpHeadClass=_13[0].className;}for(var i=0;i<this.oneRowDataLength;i++){var _15=this.getColumnID(i);var _16=this.getCellInfo(i);if(this.options.hiddenClass!=""||_16.options.hiddenClass!=""){var _17=this.options.hiddenClass;if(_16.options.hiddenClass!=""){_17=_16.options.hiddenClass;}var _18=this._getRealColIndex("body",_15)+this.defaultColCnt;var th=(this.bodyToHeaderRelation[_15]!=undefined)?this.getHeaderLayer(this.bodyToHeaderRelation[_15]):null;if(this.hiddenList[_18]){if(th!=undefined&&!this.hasClass(th,_17)){this.addClass(th,_17);}}else{if(th!=undefined&&this.hasClass(th,_17)){this.removeClass(th,_17);}}}}if(!this.startedDisplayNone&&this.getRowCount&&this.getRowCount()>0){this.notifyDataChanged();}if(!this.startedDisplayNone&&this.options.focusOnSetData){this.setFocusedCell(0,0);}if(!this.startedDisplayNone&&this.checkAdaptiveGridType()){if(this.options.adaptive!=""||(Object.keys&&Object.keys(this.hideThresholdObj).length!=0)){this.oldOptions["headerColBorder"]="";this.oldOptions["bodyColBorder"]="";this.setAdaptive();this.event.addListener(window,"onresize",this.event.bindAsEventListener(this,this.setAdaptive));}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.au.prototype.setDataList=function(){["WebSquare.uiplugin.gridView.prototype.setDataList"];try{if(!this.successBinding){this._dataList=$W._G.getComponentById(this.options.dataList);if(this._dataList){this._grid=this;this._dataList.addChild(this);this.successBinding=true;switch(this._dataList.initializeType){case "linkedDataList":this._linkedDataList=this._dataList;this._dataList=$W._G.getComponentById(this._linkedDataList.options.bind);if(this._dataList){this.dataList=new $W._a.ao(this);$W.extend(this,$W._a._m.prototype);}else{this.successBinding=false;this._dataList={};}break;case "dataList":this.dataList=new $W._a.ao(this);this.dataList.mappingCommonAPI();break;}for(var j=0;j<this.oneRowDataLength;j++){this.getCellInfo(j).setDataListCellRefresh(this.getCellInfo(j).element);}if(this.render){this.notifyDataChanged();}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.au.prototype.setAdaptive=function(){["WebSquare.uiplugin.gridView.prototype.setAdaptive"];try{var _1b=this.options.adaptive;var _1c=parseInt(this.options.adaptiveThreshold)||480;for(keys in this.hideThresholdObj){var _1d=parseInt(this.hideThresholdObj[keys]);if(_1d>=parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)){this.setColumnVisible(keys,false);}else{this.setColumnVisible(keys,true);}}if(_1b=="crosstab"){if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_1c){this.addAdaptive();}else{this.removeAdaptive();}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.au.prototype.addAdaptive=function(){["WebSquare.uiplugin.gridView.prototype.addAdaptive"];try{var _1e=this.options.adaptive;var _1f;if(_1e=="crosstab"){_1f=this.hasFooter?"w2grid_adaptive_crosstab w2grid_adaptive_crosstab_footer":"w2grid_adaptive_crosstab";}for(keys in this.hideThresholdObj){var _20=parseInt(this.hideThresholdObj[keys]);if(_20>=parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)){this.setColumnVisible(keys,false);}else{this.setColumnVisible(keys,true);}}if(!this.hasClass(_1f)){this.oldOptions["visibleRowNum"]=this.options.visibleRowNum;this.options.visibleRowNum="all";this.adjustDraw(this.lastIndex);this.addClass(_1f);this.setAdaptiveGridBodyHeight();this.setAdaptiveGridHeaderHeight();if(this.hasSubtotal){this.setAdaptiveGridSubtotalHeight();}for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){this.setAdaptiveColumnVisible(i,false);}this.event.addListener(this.getElementById(this.id+"_body_tbody"),"onscroll",this.event.bindAsEventListener(this,this.tbodyMoveXScroll));}}if(this.options.adaptiveSlideHeader){var _22=this.getElementById(this.id+"_head_table");var _23=this.getElementById(this.id+"_body_tbody");if(!this.slideHeadObj){this.slideHeadObj={};this.slideHeadObj.render=_22;this.slideHeadObj.headTableWidth=_22.offsetWidth;this.slideHeadObj.hidden=false;}if(this.slideHeadObj.render.style.position!="absolute"){if(_23.scrollWidth>_23.clientWidth+this.slideHeadObj.headTableWidth){this.slideHeadObj.render.style.position="absolute";if(!this.options.adaptiveSlideHeaderOnScroll){$(this.slideHeadObj.render.firstChild).animate({width:"hide"});this.slideHeadObj.hidden=true;}}}else{if(_23.scrollWidth==_23.clientWidth){$w.clearTimeout(this.id+"_adaptiveSlideHeader");this.slideHeadObj.render.style.position="";this.slideHeadObj.render.firstChild.style.display="";this.slideHeadObj.hidden=false;}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.au.prototype.removeAdaptive=function(){["WebSquare.uiplugin.gridView.prototype.removeAdaptive"];try{var _24=this.options.adaptive;var _25;if(_24=="crosstab"){_25=this.hasFooter?"w2grid_adaptive_crosstab w2grid_adaptive_crosstab_footer":"w2grid_adaptive_crosstab";}if(this.options.adaptiveSlideHeader){if(this.slideHeadObj){this.slideHeadObj.render.style.position="";this.slideHeadObj.render.firstChild.style.display="";this.slideHeadObj.hidden=false;}}if(this.hasClass(_25)){this.options.visibleRowNum=this.oldOptions["visibleRowNum"];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){this.setAdaptiveColumnVisible(i,true);}}this.removeClass(_25);this.removeAdaptiveGridBodyHeight();this.removeAdaptiveGridHeaderHeight();if(this.hasSubtotal){this.removeAdaptiveGridSubtotalHeight();}if(this.options.visibleRowNum!=""){this.focusedCell=[];this.initializeDrawController();this.dataRowList=[];this.drawedRowLength=0;this.lastDisplayedRow=-1;var _27=this.getElementById(this.id+"_body_tbody");while(_27.firstChild){_27.removeChild(_27.firstChild);}if(this.options.senseReader){for(var i=0;i<this.adaptiveEmbeddedInputIdList.length;i++){delete this.dom[this.adaptiveEmbeddedInputIdList[i]];}this.adaptiveEmbeddedInputIdList=[];}this.drawDataTable(0);}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.au.prototype.doAdaptive=function(){["WebSquare.uiplugin.gridView.prototype.doAdaptive"];try{if(this.options.adaptive!=""){return;}this.options.adaptive="crosstab";this.options.adaptiveThreshold="9999999";this.setAdaptive();this.adaptiveDoneBy="doAdaptive";}catch(e){$W.exception.printStackTrace(e);}};$W._a.au.prototype.undoAdaptive=function(){["WebSquare.uiplugin.gridView.prototype.undoAdaptive"];try{if(this.adaptiveDoneBy!="doAdaptive"){return;}this.options.adaptive="crosstab";this.options.adaptiveThreshold="1";this.setAdaptive();this.options.adaptive="";this.options.adaptiveThreshold="";this.adaptiveDoneBy="";}catch(e){$W.exception.printStackTrace(e);}};$W.extend($W._a.au.prototype,$W._a.aX.prototype);$W.extend($W._a.au.prototype,$W._a.aW.prototype);$W.extend($W._a.au.prototype,$W._a.aZ.prototype);$W.extend($W._a.au.prototype,$W._a.ay.prototype);$W.extend($W._a.au.prototype,$W._a._g.prototype);$W.extend($W._a.au.prototype,$W._a._F.prototype);$W.extend($W._a.au.prototype,$W._a.aR.prototype);$W.extend($W._a.au.prototype,$W._a._f.prototype);$W.extend($W._a.au.prototype,$W._a._v.prototype);$W.extend($W._a.au.prototype,$W._a.ba.prototype);$W.extend($W._a.au.prototype,$W._a.aN.prototype);$W.extend($W._a.au.prototype,$W._a.bo.prototype);$W.extend($W._a.au.prototype,$W._a.aj.prototype);$W.extend($W._a.au.prototype,$W._a.aD.prototype);;WebSquare.uiplugin.gridView=$W._a.au;requires("uiplugin/gridView/gridView.js");$W._a._E=function(id,_2,_3){["WebSquare.uiplugin.grid"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._E.prototype,$W._t.prototype);$W.extend($W._a._E.prototype,$W._a.au.prototype);$W.extend($W._a._E.prototype,$W._a.ao.prototype);$W._a._E.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.grid",pluginName:"grid",userEvents:["oncellclick","oncelldblclick","onrightbuttonclick","ontextimageclick","oncellindexchange","onrowindexchange","oncolumnindexchange","onfilereadend","onscrollend","onbeforeedit","oneditend","oneditkeydown","onafteredit","onscrolly","onscrollx","onsort","onheaderclick","onheaderrightbuttonclick","onheaderdblclick","onfooterclick","onbodymouseover","ongroupby","onclick","onkeydown","onkeyup"],rowNumVisible:false,rowNumHeaderValue:"",rowNumBackgroundColor:"",rowStatusVisible:false,rowStatusHeaderValue:"",overflowX:"auto",overflowY:"auto",fixedColumn:0,fixedColumnWithHidden:true,fixedRow:0,resize:true,baseNode:"vector",repeatNode:"data/INFO",valueNode:"",focusMode:"cell",selectedCellColor:"#FCA73C",selectedRowColor:"#FCA73C",oddEvenColorDisplay:false,oddRowBackgroundColor:"#EFF7FF",evenRowBackgroundColor:"#FFFFFF",rowMouseOver:false,rowMouseOverColor:"#ffff80",selectedCellOverColor:"",selectedRowOverColor:"",editModeEvent:"ondblclick",keyMoveEditMode:false,enterKeyMove:"down",sortable:false,sortOrderReverse:false,showSortableImage:false,useCtrlOnMultisort:true,sortedImagePosition:"",sortEvent:"ondblclick",tooltipDisplay:false,tooltipDisplayTime:0,tooltipClass:"",tooltipStyle:"",tooltipHide:"click",tooltipShowAlways:false,tooltipFormatter:"",tooltipPositionX:"20",tooltipPositionY:"3+cellHeight",noResultMessageVisible:false,noResultMessage:"",noResultMessageClass:"",noResultMessageStyle:"",hiddenClass:"",readOnly:"",readOnlyPriority:"",readOnlyBackgroundColor:"",readOnlyBackgroundImg:"",readOnlyBackgroundImgCSS:"",notReadOnlyBackgroundImgCSS:"",readOnlyTabIgnore:false,ignoreNonEditableCell:false,disabledPriority:"",disabledBackgroundColor:"",disabledFontColor:"",summary:"",footerCaption:"",footerSummary:"",drawLimitTime:70,drawLimitRow:4,loadCount:0,autoFit:"",autoFitMinWidth:"",autoFitFixYScroll:false,fastScroll:"",lazyDrawHiddenColumn:false,defaultCellHeight:-1,hideHeader:false,dataDragDrop:false,dragDisplayColumn:"",dragStartFunction:"",dragEndFunction:"",headFiller:false,focusMove:"true",focusFlow:"default",scrollMsg:"",visibleRowNum:"",fixHeight:false,fastEditMode:false,iScrollMoveEffectTime:500,iScrollSlideTime:800,iScrollSlidePeriod:100,rollbackCommit:true,numberCasting:false,backgroundColorMode:"lazy",senseReader:false,showLastRow:false,autoScope:false,autoResizeEmbeddedInput:false,excelUploadPopupURL:"",advancedExcelUploadPopupURL:"",advancedExcelDownloadPopupURL:"",excelUploadURL:"",excelDownloadURL:"",csvDownloadURL:"",csvUploadPopupURL:"",csvUploadURL:"",advancedExcelUploadURL:"",advancedExcelDownloadURL:"",drilldownRealRowIndex:true,escape:"",fixPrint:false,xmlEncode:false,wheelRows:3,wheelStop:false,scrollByColumn:false,rowNumWidth:"",rowStatusWidth:"",keepDefaultColumnWidth:false,columnMove:false,columnOrder:"",copyAmount:"",groupbyZone:false,groupbyListVisibleRowNum:10,groupbyZoneMessage:"",groupbyZoneHeight:"50",groupbyMaxCount:-1,plainText:false,excludeDeletedRows:false,initFixedHeightByRowNum:-1,moveKeyEditMode:false,keepBeforeDisplayData:false,touchScrollDelta:5,useFilterList:false,customFilterListVisibleRowNum:10,useFilterEmptyMsg:"",duplicateColumnId:false,filterFocusMode:"",focusOnSetData:false,focusDefaultColumn:false,adaptive:""};$W._a._E.prototype.initialize=function(_4){["WebSquare.uiplugin.grid.initialize"];this.firstEmbeddedInputResize=true;this.bodyElement=$W._B.getElementsByTagName(this.element,"gBody",$W._N._XML_NAMESPACE.W2)[0];if(this.bodyElement){this.initializeType="grid";this._grid=this;this.dataList=new $W._a.ao(this);this._dataList=new $W._j.dataList(this.id+"??dataList",this.options,this.bodyElement,"grid");this._dataList.addChild(this);this.successBinding=true;}this.focusedCellInfo={};this.extraData={grid:{},row:[],col:[],cell:[]};this.drilldown=new $W._a._Q();if(this.options.focusMove=="false"||this.options.focusMove=="horizontal"){this.options.enterKeyMove="none";}this.date=new Date();this.isDrillDown=false;this.depthColumn="";this.showDepth="";this.removed=false;this.colWidthList=[];this.gridWidth=0;this.resizeStarted=false;this.headerHeight=0;this.footerHeight=0;this.hgap=[];this.autofitColumn=false;this.autofitColumnIndexArr=[];this.autofitColumnWidthArr=[];this.scrollWidthSize=17;this.scrollLayerWidthSize=18;this.hiddenList=[];this.headerFocus=false;this.headerObjArr=[];this.tmpSelectbox=null;this.noevent=false;this.rowIndex=-1;this.lastIndex=-1;this.oelIndex=-1;this.initializeDrawController();this.drawedRowLength=0;this.maxRowLength=0;this.drawSizeChanged=false;this.drawSizeAdded=false;this.isExistTextarea=false;this.bodyHeight=0;this.scrollEvent=true;this.isColMerge=false;this.upperToLowerColumnRelation={};this.hasSubtotal=false;this.startRowNumber=0;this.dataRowList=[];this.subtotalRowHash={};this.subtotalDataArr=[];this.subtotalObj=[];this.drawSetTimeoutKey=[];this.overElem=null;this.outElem=null;this.hasFooter=false;this.footerDataObj=null;this.drawFooterStatus=true;this.bScrollTop=-1;this.bScrollY=0;this.drawedTime=0;this.defaultColCnt=0;if(this.options.rowNumVisible){this.defaultColCnt++;}if(this.options.rowStatusVisible){this.defaultColCnt++;}this.loadCheck=[];this.beforeDataLength=-1;this.beforeMaxRowLength=-1;this.editEnd=false;this.lastOverSrc=null;this.headerInfoHash={};this.headerInfoHash2={};this.cellInfoHash={};this.cellInfoHash2={};this.expressionAssArr=[];this.rowStyleValueObj=[];this.columnStyleValueObj=[];this.cellStyleValueObj=[];this.adaptiveColumnStyleValueObj=[];this.headerCellStyleValueObj={};this.rowStyleIndex=0;this.cellStyleIndex=0;this.rowStyleArr=[];this.columnStyleArr=[];this.cellStyleArr=[];this.rowReadOnlyArr=[];this.cellReadOnlyArr=[];this.rowDisabledArr=[];this.cellDisabledArr=[];this.focusedCell=[];this.focusedRow=[];this.headerToBodyRelation={};this.bodyToHeaderRelation={};this.passiveColSpanRelation={};this.colMoveBolockedHeaderObj={};this.columnOrder=[];this.isIE6=$W._G.isIE("6");if(document.compatMode=="BackCompat"){this.isIE6=true;}this.isIE7=$W._G.isIE("7");this.isIE6or7=(this.isIE6||this.isIE7);this.isMobile=$W._G.isMobile();this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase());this.tmpCnt=0;this.initFlag=false;this.options.rowNumBackgroundColor=this.options.rowNumBackgroundColor.wq_trim();this.options.selectedCellColor=this.options.selectedCellColor.wq_trim();this.options.selectedRowColor=this.options.selectedRowColor.wq_trim();this.options.oddRowBackgroundColor=this.options.oddRowBackgroundColor.wq_trim();this.options.evenRowBackgroundColor=this.options.evenRowBackgroundColor.wq_trim();this.options.rowMouseOverColor=this.options.rowMouseOverColor.wq_trim();this.options.readOnlyBackgroundColor=this.options.readOnlyBackgroundColor.wq_trim();this.options.disabledBackgroundColor=this.options.disabledBackgroundColor.wq_trim();this.options.disabledFontColor=this.options.disabledFontColor.wq_trim();if(this.options.senseReader){this.options.focusFlow="linear";this.options.showLastRow=true;if(this.element&&this.element.getAttribute("autoScope")!="false"){this.options.autoScope=true;}this.senseReaderMode=true;}this.embeddedWidthObj={};if(this.options.sortable&&this.options.sortHeaderDiv){this.options.showSortableImage=true;this.options.sortEvent="onclick";}this.radioGroupRepChk={};this.options.excelUploadPopupURL=this.options.excelUploadPopupURL||$W.baseURI+"uiplugin/grid/upload/fileUpload.html";this.options.advancedExcelUploadPopupURL=this.options.advancedExcelUploadPopupURL||$W.baseURI+"uiplugin/grid/upload/advancedfileUpload.html";this.options.advancedExcelDownloadPopupURL=this.options.advancedExcelDownloadPopupURL||$W.baseURI+"uiplugin/grid/download/advancedfileDownload.html";this.options.excelUploadURL=this.options.excelUploadURL||$W.baseServletURI+"excelToGrid.wq";this.options.excelDownloadURL=this.options.excelDownloadURL||$W.baseServletURI+"xmlToExcel.wq";this.options.csvDownloadURL=this.options.csvDownloadURL||$W.baseServletURI+"xmlToCSV.wq";this.options.csvUploadURL=this.options.csvUploadURL||$W.baseServletURI+"csvToXML.wq";this.options.csvUploadPopupURL=this.options.csvUploadPopupURL||$W.baseServletURI+"uiplugin/grid/upload/csvfileUpload.html";this.options.advancedExcelUploadURL=this.options.advancedExcelUploadURL||$W.baseServletURI+"excelToGrid2.wq";this.options.advancedExcelDownloadURL=this.options.advancedExcelDownloadURL||$W.baseServletURI+"xmlToExcel2.wq";this.groupbyStatus={};this.groupbyZoneStatus={};this.groupbyDisplayOptions={};this.directItemChoiceKeyObj={};this.rowStatusColIDArr=[];this.cellIdList=[];this.firstOpenCustomFilter={};this.customFilterStatusObj={};this.hiddenAdaptiveList=[];this.adaptiveEmbeddedInputIdList=[];this.hideThresholdObj={};this.orgBodyHeightObj={};this.orgHeaderHeightObj={};this.orgFooterHeightObj={};this.orgSubtotalHeightObj={};this.oldOptions={};this.adaptiveGridType=0;this.tooltipPositionParse=false;this.oneRowScrollHeight=20;this.options.noResultMessage=this.options.noResultMessage||$W._m.getMessage("Grid_noResultMessage")||"\uc870\ud68c \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.";this.options.scrollMsg=this.options.scrollMsg||$W._m.getMessage("Grid_scrollMsg")||"\ud654\uba74 \uac31\uc2e0 \uc911 \uc785\ub2c8\ub2e4...";};$W._a._E.prototype.setPreAction=function(){["WebSquare.uiplugin.grid.setPreAction"];try{var _5=this.render.offsetWidth;var _6=this.render.offsetHeight;if(this.startedDisplayNone){this.initFlag=true;this.initializeHead();this.initializeFooter();this.drawFooter();this.drawHeader();return;}this.resizeObj={width:_5,height:_6,scrollLeft:0,scrollTop:0,clientWidth:this.render.clientWidth};var _7=this.getElementById(this.id+"_head_table");var _8=_7.getElementsByTagName("tr");var _9=_8[_8.length-1];var _a=this.getElementById(this.id+"_body_table");this.gridLastTrBottomFix=_a.offsetHeight-_9.offsetTop-_9.offsetHeight;this.setTableLayout();this._handleScrollX();this.setCellInfo();if(this.isDrillDown==true){this.initDrilldown();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._E.prototype.setAction=function(){["WebSquare.uiplugin.grid.setAction"];try{this.initializeEvent();if(this.options.columnOrder){this.setColumnOrder(this.options.columnOrder);}if(this.options.groupbyZone){this.groupbyZoneStatus.groupbyZoneRender=this.dom[this.id+"_groupbyZone_div"];var _b=this.options.groupbyZoneHeight.match("%")!=null;var _c=(_b)?this.options.groupbyZoneHeight:this.options.groupbyZoneHeight+"px";this.groupbyZoneStatus.groupbyZoneRender.style.height=_c;if(_b){this.groupbyZoneStatus.groupbyZoneRender.style.height=this.groupbyZoneStatus.groupbyZoneRender.offsetHeight+"px";}var _d=$W._H.getStyle(this.groupbyZoneStatus.groupbyZoneRender,"border-left-width").replace("px","");this.groupbyZoneStatus.groupbyZoneBorder=_d*2;this.groupbyZoneStatus.groupbyZoneRender.style.width=(this.resizeObj.clientWidth-this.groupbyZoneStatus.groupbyZoneBorder)+"px";this.dom[this.id+"_main_div"].style.top=this.groupbyZoneStatus.groupbyZoneRender.offsetHeight+"px";this.dom[this.id+"_scrollY_div"].style.top="0px";if(this.options.groupbyZoneMessage){var _e=document.createElement("div");_e.innerHTML+=this.options.groupbyZoneMessage;_e.className+=" w2grid_groupbyZone_message ";this.groupbyZoneStatus.groupbyZoneRender.appendChild(_e);_e.style.marginTop=-_e.offsetHeight/2+"px";_e.style.marginLeft=-_e.offsetWidth/2+"px";this.groupbyZoneStatus.groupbyZoneMessageRender=_e;}}if(this.options.hideHeader){var _f=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));this.backUpHeadClass=_f[0].className;}if(!this.startedDisplayNone&&this.options.focusOnSetData){this.setFocusedCell(0,0);}if(!this.startedDisplayNone&&this.checkAdaptiveGridType()){if(this.options.adaptive!=""||Object.keys(this.hideThresholdObj).length!=0){this.oldOptions["headerColBorder"]="";this.oldOptions["bodyColBorder"]="";this.setAdaptive();this.event.addListener(window,"onresize",this.event.bindAsEventListener(this,this.setAdaptive));}}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.grid=$W._a._E;$W._a._L=function(id,_2,_3){["WebSquare.uiplugin.generator"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._L.prototype,$W._t.prototype);$W._a._L.prototype.defaultOptions={pluginType:"uiplugin.generator",pluginName:"generator"};$W._a._L.prototype.initialize=function(_4){["WebSquare.uiplugin.generator.initialize"];this.idCounter=0;this.dynamicCreateHash=$W._G.isIE()?{"tbody":true,"thead":true,"tfoot":true,"tr":true}:{};this.passHash={"script":true,"label":true,"value":true,"choices":true,"item":true,"itemset":true,"attributes":true};if(_4.nodeType==1&&!this.id){this.id=_4.getAttribute("id");}this.tagName=this.element.getAttribute("tagname")||"div";};$W._a._L.prototype.toHTML=function(){["WebSquare.uiplugin.generator.toHTML"];try{var _5=[];var _6=this.element.attributes;_5.push("<"+this.tagName);if(_6){for(var i=0;i<_6.length;i++){if(_6[i].name=="id"){var _8=(this.id)?" id='"+this.id+"'":" id='"+($W.nodeValueDeprecated?_6[i].value:_6[i].nodeValue)+"'";_5.push(_8);}else{if(_6[i].name!="tagname"){var _8="";if($W.nodeValueDeprecated){_8=(_6[i].value=="")?"":" "+_6[i].name+"='"+_6[i].value+"'";}else{_8=(_6[i].nodeValue=="")?"":" "+_6[i].name+"='"+_6[i].nodeValue+"'";}_5.push(_8);}}}}_5.push(">");_5.push("</"+this.tagName+">");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._L.prototype.setAction=function(){["WebSquare.uiplugin.generator.setAction"];try{this.itemCnt=0;this.generatedIndexSet=[];this.generatedElementSet=[];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._L.prototype.setChildElement=function(_9,_a,_b){["WebSquare.uiplugin.generator.setChildElement"];try{if(_9.nodeType==1){var _c=_9.nodeName.split(":");var _d=_c[_c.length-1];if(!this.passHash[_d]){var _e="";if(this.scope_obj&&this.org_id!=undefined){_e=this.org_id+"_"+_a+"_";}else{_e=this.id+"_"+_a+"_";}var id=_9.getAttribute("id")||"";var ref=_9.getAttribute("ref");var _11=_9.getAttribute("label");_9.setAttribute("g_index",_a);if(_9.tagName=="w2:tag"&&id==""){id="w2generator_"+this.idCounter++;}if(id){_9.setAttribute("original_id",id);if(_9.tagName!="w2:listColumn"){_9.setAttribute("id",_e+id);}}if(_11){_9.setAttribute("org_label",_11);_9.setAttribute("label",$W._B.encode(_11));}if(_b&&ref){_9.setAttribute("original_ref",ref);_9.setAttribute("ref",_b+"/"+ref);}if(_9.tagName=="w2:generator"){var _12=_9.getAttribute("nodeset");if(_b&&_12){_9.setAttribute("original_nodeset",_12);_9.setAttribute("nodeset",_b+"/"+_12);}}else{for(var i=0;i<_9.childNodes.length;i++){this.setChildElement(_9.childNodes[i],_a,_b);}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._L.prototype.restoreChildElement=function(_14){["WebSquare.uiplugin.generator.restoreChildElement"];try{if(_14.nodeType==1){var _15=_14.nodeName.split(":");var _16=_15[_15.length-1];if(!this.passHash[_16]){var _17=_14.getAttribute("original_id");var _18=_14.getAttribute("original_ref");var _19=_14.getAttribute("org_label");_14.removeAttribute("g_index");if(_17){_14.setAttribute("id",_17);_14.removeAttribute("original_id");}if(_18){_14.setAttribute("ref",_18);_14.removeAttribute("original_ref");}if(_19){_14.setAttribute("label",_19);_14.removeAttribute("original_label");}if(_14.tagName=="w2:generator"){var _1a=_14.getAttribute("original_nodeset");if(_1a){_14.setAttribute("nodeset",_1a);_14.removeAttribute("original_nodeset");}}else{for(var i=0;i<_14.childNodes.length;i++){this.restoreChildElement(_14.childNodes[i]);}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._L.prototype.getLength=function(){return this.generatedIndexSet.length;};$W._a._L.prototype.getChild=function(_1c,id){var _1e=this.generatedIndexSet[_1c];var _1f=this.id+"_"+_1e+"_"+id;return $W._G.getComponentById(_1f)||document.getElementById(_1f);};$W._a._L.prototype.insertChild=function(_20){return this.insert(_20);};$W._a._L.prototype.insert=function(_21){["WebSquare.uiplugin.generator.insert"];try{if(typeof _21=="number"&&this.generatedElementSet[_21]!=null){var _22=0;for(var i=0;i<_21;i++){_22+=this.generatedElementSet[i].length;}this.targetNode=this.render.childNodes[_22];}var _24=[];for(var i=0;i<this.element.childNodes.length;i++){var _25=this.element.childNodes[i];this.setChildElement(_25,this.itemCnt);var _26=$W.controlFactory.create(null,null,_25,this.scope_obj,this.parentFrame);if(_26){this.addControl(_26);if(this.dynamicCreateHash[this.tagName]){this.dynamicAppend(this.render,_26,_21);}else{if(_25.nodeType==3){_26.render=document.createTextNode(_25.nodeValue);(this.targetNode)?this.render.insertBefore(_26.render,this.targetNode):this.render.appendChild(_26.render);}else{$W._t.prototype.writeTo.call(_26,this,_21);_26.activate();_26.onComplete();}}}this.restoreChildElement(_25);if(_26){_24.push(_26);}}(typeof _21=="number")?this.generatedIndexSet.splice(_21,0,this.itemCnt):this.generatedIndexSet.push(this.itemCnt);(typeof _21=="number")?this.generatedElementSet.splice(_21,0,_24):this.generatedElementSet.push(_24);this.targetNode=null;var _27=this.itemCnt;this.itemCnt++;return _27;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._L.prototype.dynamicAppend=function(_28,_29,_2a){["WebSquare.uiplugin.generator.dynamicAppend"];try{var _2b=_29.toHTML();var _2c=_2b.match(/(<)([^ >\/]*)/);var _2d=(_2c&&_2c[2])?_2c[2]:null;if(_2d){var _2e=document.createElement(_2d);var _2f=$W._B.parse(_2b);var _30=$W.WebSquareparser.parseAttribute(_2f.documentElement);try{for(var _31 in _30){if(_31=="style"){_2e.style.cssText=_30[_31];}else{if(_31=="className"){_2e.className=_30[_31];}else{_2e.setAttribute(_31,_30[_31]);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}if(typeof _2a=="number"&&this.targetNode){_28.insertBefore(_2e,this.targetNode);_29.activate();_29.onComplete();}else{_28.appendChild(_2e);_29.activate();_29.onComplete();}if(_29.childControlList.length==0){for(var i=0;i<_2f.documentElement.childNodes.length;i++){var _33=_2f.documentElement.childNodes[i];var _34=$W.controlFactory.create(null,null,_33);if(_34){_29.addControl(_34);}}}for(var i=0;i<_29.childControlList.length;i++){var _34=_29.childControlList[i];if(_34.element.nodeType==3){_2e.appendChild(document.createTextNode(_34.element.data));}else{if(this.dynamicCreateHash[_2d]){this.dynamicAppend(_2e,_34);}else{$W._t.prototype.writeTo.call(_34,_2e);_34.activate();_34.onComplete();}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._L.prototype.removeChild=function(_35){if(_35==null){_35=this.generatedElementSet.length-1;}return this.remove(_35);};$W._a._L.prototype.remove=function(_36){if(_36==null){$W._t.prototype.remove.call(this);return;}else{if(typeof _36!="number"||!this.generatedElementSet[_36]){return;}}for(var i=0;i<this.generatedElementSet[_36].length;i++){var _38=this.generatedElementSet[_36][i];if(_38.remove){_38.remove();}}var _39=this.generatedIndexSet.splice(_36,1);this.generatedElementSet.splice(_36,1);return _39;};$W._a._L.prototype.removeAll=function(){for(var i=this.childControlList.length-1;i>=0;i--){if(this.childControlList[i].remove){this.childControlList[i].remove();}}$W.removeChildren(this.render);this.generatedIndexSet=[];this.generatedElementSet=[];this.itemCnt=0;};$W._a._L.prototype.getIndexArray=function(){return this.generatedIndexSet.slice(0);};$W._a._L.prototype.setStyle=function(_3b,_3c){["WebSquare.uiplugin.generator.prototype.setStyle"];try{if(!this.render){return;}$W._H.setStyle(this.render,_3b,_3c);if(_3b=="width"||_3b=="height"){var _3d=this.getChildren();var _3e=this.getChildrenCount();for(i=0;i<_3e;i++){_3d[i].render.style[_3b]=_3c;}}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.generator=$W._a._L;requires("uiplugin/control/cssCustomizer.js");$W._a.aO=function(id,_2,_3){["WebSquare.uiplugin.scrollView"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aO.prototype,$W._t.prototype);$W.extend($W._a.aO.prototype,$W.cssCustomizer.prototype);$W._a.aO.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.scrollView",pluginName:"scrollView",userEvents:["onscroll","onscrollbottom"],parseChild:true,verticalScroll:true,horizontalScroll:false,bounce:true,paging:false,showVerticalScroll:true,showHorizontalScroll:true,slideDuration:1200,resilienceDuration:500,pagingDuration:300,slidePeriod:15,scrollTop:0,scrollLeft:0,scrollType:"mobile",resizeAutoScroll:false,css3d:false,fadeOutScrollBar:true,eventSmoothing:true,overScrollGlow:false,dragScrollSize:50,slideThreshold:5};$W._a.aO.prototype.initialize=function(_4){this.isMobile=$W._G.isMobile();this.isAndroid=/android/.test(navigator.userAgent.toLowerCase());this.transformArr=["-webkit-transform",":","translate3d(",,"px, ",,"px, 0px) scale(1)"];this.support3D="WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix();this.fingerTop=0;this.fingerLeft=0;this.scrollLock=false;this.measureDrawTime=false;$W.dragdrop2.scrollable[this.uuid]={"scroll":false};};$W._a.aO.prototype.toHTML=function(){["WebSquare.uiplugin.scrollView.toHTML"];try{var _5=[];var _6=this.getChildren();var _7=this.options.className;var _8="";var _9=(this.options.style=="")?"":"style='"+this.options.style+"'";if(!this.isMobile&&this.options.scrollType=="auto"){_7+=" nativeScroll";}else{_8=" style='width: 100%;height: 100%;overflow: hidden'";}_5.push("<div id='"+this.id+"' "+_9+" class='w2scrollView "+_7+"'>");_5.push("<div id='"+this.id+"_container' class='w2scrollView_container'"+_8+">");for(var i=0;i<_6.length;i++){_5.push(_6[i].toHTML());}_5.push("</div>");_5.push("<div id='"+this.id+"_iScrollX' class='w2scrollView_iScrollX' style='visibility:hidden;left:0px;'></div>");_5.push("<div id='"+this.id+"_iScrollY' class='w2scrollView_iScrollY' style='visibility:hidden;top:0px;'></div>");_5.push("<div id='"+this.id+"_overScrollTop' class='w2scrollView_overScrollTop' style='display:none;top:0px;'></div>");_5.push("<div id='"+this.id+"_overScrollBottom' class='w2scrollView_overScrollBottom' style='display:none;bottom:0px;'></div>");_5.push("</div>");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aO.prototype.setAction=function(){this.dom.container=this.getElementById(this.id+"_container");this.dom.iScrollX=this.getElementById(this.id+"_iScrollX");this.dom.iScrollY=this.getElementById(this.id+"_iScrollY");this.dom.overScrollTop=this.getElementById(this.id+"_overScrollTop");this.dom.overScrollBottom=this.getElementById(this.id+"_overScrollBottom");this.iScroll={prevTouches:[]};if(this.isMobile){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{if(this.options.scrollType!="auto"){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(document.documentElement,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(document.documentElement,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));this.event.addListener(document.documentElement,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOut));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){$W._c.preventDefault(e);}));}}this.iScrollXHeight=parseInt(1.5*this.dom.iScrollX.offsetHeight,10);this.iScrollYWidth=parseInt(1.5*this.dom.iScrollY.offsetWidth,10);this.checkResize();this._scrollTo(this.options.scrollLeft,this.options.scrollTop);this.measureDrawTime=true;};$W._a.aO.prototype.setIScroll=function(){["WebSquare.uiplugin.scrollView.prototype.setIScroll"];try{if(this.options.verticalScroll&&this.options.showVerticalScroll){var _c=this.render.clientHeight;var _d=this.dom.container.scrollHeight;if(_d>_c){if(this.options.horizontalScroll){_c-=this.iScrollXHeight;}var _e=this.getMaxScrollTop();var _f=parseInt(_c*_c/_d,10);_f=_f<30?30:_f;var _10=parseInt(this.getScrollTop()*(_c-_f)/_e,10);if(_10<0){_f+=_10;_10=0;}else{if(_10+_f>=_c){_f=_c-_10;}}if(this.options.css3d&&this.support3D){this.transformArr[3]=0;this.transformArr[5]=_10;this.dom.iScrollY.style[this.transformArr[0]]=this.transformArr.slice(2).join("");}else{this.dom.iScrollY.style.top=_10+"px";}this.dom.iScrollY.style.height=_f+"px";this.dom.iScrollY.style.visibility="visible";}else{this.dom.iScrollY.style.visibility="hidden";}}if(this.options.horizontalScroll&&this.options.showHorizontalScroll){var _11=this.render.clientWidth;var _12=this.dom.container.scrollWidth;if(_12>_11){if(this.options.verticalScroll){_11-=this.iScrollYWidth;}var _13=this.getMaxScrollLeft();var _14=parseInt(_11*_11/_12,10);_14=_14<30?30:_14;var _15=parseInt(this.getScrollLeft()*(_11-_14)/_13,10);if(_15<0){_14+=_15;_15=0;}else{if(_15+_14>=_11){_14=_11-_15;}}if(this.options.css3d&&this.support3D){this.transformArr[3]=_15;this.transformArr[5]=0;this.dom.iScrollX.style[this.transformArr[0]]=this.transformArr.slice(2).join("");}else{this.dom.iScrollX.style.left=_15+"px";}this.dom.iScrollX.style.width=_14+"px";this.dom.iScrollX.style.visibility="visible";}else{this.dom.iScrollX.style.visibility="hidden";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aO.prototype.checkResize=function(){["WebSquare.uiplugin.scrollView.prototype.checkResize"];try{var _16=this.render.clientHeight;var _17=this.render.clientWidth;var _18=this.dom.container.scrollHeight;var _19=this.dom.container.scrollWidth;if(!this.sizeBackup||this.sizeBackup.renderWidth!=_17||this.sizeBackup.renderHeight!=_16||this.sizeBackup.scrollWidth!=_19||this.sizeBackup.scrollHeight!=_18){this.sizeBackup={renderWidth:_17,renderHeight:_16,scrollWidth:_19,scrollHeight:_18};var _1a=parseInt(this.dom.container.style.top||0,10);if(this.isSliding&&_1a){this.stopSlide();this._scrollTo(null,this.dom.container.scrollTop-_1a);}var _1b=this.getScrollLeft();var _1c=this.getScrollTop();var _1d=this.getMaxScrollLeft();var _1e=this.getMaxScrollTop();if(this.options.resizeAutoScroll&&this.sizeBackup){var el=document.activeElement;var _20=el;while(_20=_20.parentNode){if(_20==this.render){break;}}if(_20){var _21=$W._H.getAbsoluteTop(el);var _22=$W._H.getAbsoluteTop(this.render);var _23=_1c;if(_21<_22){_23-=_22-_21;}else{if(_21+el.offsetHeight>_22+_16){_23+=(_21+el.offsetHeight)-(_22+_16);}}if(_23!==_1c&&_23>=0&&_23<=_1e){this._scrollTo(null,_23);}}}if(_1b>_1d||_1c>_1e){this.stopSlide();this._scrollTo(_1b<_1d?_1b:_1d,_1c<_1e?_1c:_1e);}this.setIScroll();}$W._N.setTimer(this.checkResize,{key:this.id+"_checkResize",caller:this,delay:100});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aO.prototype.iScrollAddMoveClass=function(){if(this.options.fadeOutScrollBar){$W._N.clearTimer(this.id+"_iScrollRemoveClass");$W._H.setStyle(this.dom.iScrollX,"opacity","1");$W._H.setStyle(this.dom.iScrollY,"opacity","1");}this.__addClass(this.dom.iScrollX,"w2scrollView_iScrollX_move");this.__addClass(this.dom.iScrollY,"w2scrollView_iScrollY_move");};$W._a.aO.prototype.iScrollRemoveMoveClass=function(){if(this.options.fadeOutScrollBar){$W._H.animate([this.dom.iScrollX,this.dom.iScrollY],{opacity:0},{key:this.id+"_iScrollRemoveClass",duration:500,easing:"ease-out",caller:this,complete:function(){this.__removeClass(this.dom.iScrollX,"w2scrollView_iScrollX_move");this.__removeClass(this.dom.iScrollY,"w2scrollView_iScrollY_move");}});}else{this.__removeClass(this.dom.iScrollX,"w2scrollView_iScrollX_move");this.__removeClass(this.dom.iScrollY,"w2scrollView_iScrollY_move");}};$W._a.aO.prototype.scrollTo=function(_24,_25,_26){this.stopSlide();var _26=_26||{};_26.duration=(_26.duration==undefined)?500:_26.duration;_26.timingFunction=_26.timingFunction||"ease";if(this.options.horizontalScroll&&typeof _24=="number"){_26.initX=this.getScrollLeft();_26.finishX=_24;}if(this.options.verticalScroll&&typeof _25=="number"){_26.initY=this.getScrollTop();_26.finishY=_25;}this.iScroll.prevTouches=[];this.isSliding=true;this.setIScroll();this.iScrollAddMoveClass();var _27=_26.delay||0;if(_27<=0){this.slide(_26);}else{$W._N.setTimer(this.slide,{key:this.id+"_iScroll_slide",caller:this,delay:_27,args:[_26]});}};$W._a.aO.prototype._scrollTo=function(_28,_29){if(this.measureDrawTime){$W._N.measureTime(function(_2a){this.options.slidePeriod=parseInt(_2a.aver,10);},{key:this.id+"_measureDrawTime",caller:this});}var _28=parseInt(_28,10);var _29=parseInt(_29,10);var _2b=this.getScrollLeft();var _2c=this.getScrollTop();var _2d=this.getMaxScrollLeft();var _2e=this.getMaxScrollTop();_28=!isNaN(_28)?_28:_2b;_29=!isNaN(_29)?_29:_2c;if(_28!=_2b||_29!=_2c){$W.getBody().getLayerListener().hideAll();if(this.options.css3d&&this.support3D){this.transformArr[3]=-_28;this.transformArr[5]=-_29;this.dom.container.style.cssText=this.transformArr.join("");}else{var _2f=_28;var _30=0;var _31=_29;var _32=0;if(_28<0){_2f=0;_30=-_28;}else{if(_2d<_28){_2f=_2d;_30=-(_28-_2d);}}if(_29<0){_31=0;_32=-_29;}else{if(_2e<_29){_31=_2e;_32=-(_29-_2e);}}this.dom.container.scrollLeft=_2f;this.dom.container.scrollTop=_31;this.dom.container.style.left=_30+"px";this.dom.container.style.top=_32+"px";}this.options.scrollLeft=_28;this.options.scrollTop=_29;this.setIScroll();$W._c.fireEvent(this,"onscroll",_28,_29);if(!this.scrollBottom&&_29>=_2e){this.scrollBottom=true;$W._c.fireEvent(this,"onscrollbottom");}}};$W._a.aO.prototype.scrollBy=function(_33,_34,_35){this.stopSlide(true);var _33=_33||0;var _34=_34||0;var _36=this.getScrollLeft();var _37=this.getScrollTop();this.scrollTo(_36+_33,_37+_34,_35);};$W._a.aO.prototype.resetScrollBottom=function(){this.scrollBottom=false;};$W._a.aO.prototype.slide=function(_38){["WebSquare.uiplugin.scrollView.slide"];try{$W._N.clearTimer(this.id+"_iScroll_slide");var _39=this.render.clientWidth;var _3a=this.render.clientHeight;var _3b=this.dom.container.scrollWidth;var _3c=this.dom.container.scrollHeight;var _3d=this.getScrollTop();var _3e=this.getScrollLeft();var _3f=this.getMaxScrollTop();var _40=this.getMaxScrollLeft();(_38.endTime==undefined)&&(_38.endTime=new Date().getTime()+_38.duration);(_38.slidePeriod==undefined)&&(_38.slidePeriod=this.options.slidePeriod);var _41=_38.initX==null?_3e:_38.initX;var _42=_38.initY==null?_3d:_38.initY;var _43=_38.finishX==null?_3e:_38.finishX;var _44=_38.finishY==null?_3d:_38.finishY;var _45=_38.duration;var t=new Date().getTime()-(_38.endTime-_45);if(this.forceToStopSlide){t=_45;}(_41<0&&2*_41<_43&&_43<0)&&(_43=0);(_42<0&&2*_42<_44&&_44<0)&&(_44=0);(_41>_40&&_40<_43&&_43<2*_41-_40)&&(_43=_40);(_42>_3f&&_3f<_44&&_44<2*_42-_3f)&&(_44=_3f);var _47=$W._H.cubicBezierAtTime(t/_45,_38.timingFunction,_45/1000);var x=_41+(_43-_41)*_47;var y=_42+(_44-_42)*_47;if(this.options.bounce){if(!_38.xResilience&&((x<0&&_43<0)||(_40<x&&_40<_43))){_38.xResilience=true;(x<-_39/2)&&(x=-_39/2);(x>_40+_39/2)&&(x=_40+_39/2);if(_43<-_39){_41=x;_43=-_39;}else{if(_43>_40+_39){_41=x;_43=_40+_39;}}if(_43<0){_38.turningPointX=_43/2;}else{if(_43>_40){_38.turningPointX=_40+(_43-_40)/2;}}}if(!_38.yResilience&&((y<0&&_44<0)||(_3f<y&&_3f<_44))){_38.yResilience=true;(y<-_3a/2)&&(y=-_3a/2);(y>_3f+_3a/2)&&(y=_3f+_3a/2);if(_44<-_3a){_42=y;_44=-_3a;}else{if(_44>_3f+_3a){_42=y;_44=_3f+_39;}}if(_44<0){_38.turningPointY=_44/2;}else{_38.turningPointY=_3f+(_44-_3f)/2;}}if(_38.xResilience){if((x<_38.turningPointX&&_43<0)||(x>_38.turningPointX&&_43>0)){x=-x+2*_38.turningPointX;}}if(_38.yResilience){if((y<_38.turningPointY&&_44<0)||(y>_38.turningPointY&&_44>0)){y=-y+2*_38.turningPointY;}}}else{(x<0)&&(x=0);(x>_40)&&(x=_40);(y<0)&&(y=0);(y>_3f)&&(y=_3f);var _4a=(_43==x)||(_43<=0&&x<=0)||(_43>=_40&&x>=_40);var _4b=(_44==y)||(_44<=0&&y<=0)||(_44>=_3f&&y>=_3f);var _4c=this.options.horizontalScroll;var _4d=this.options.verticalScroll;if(_4c&&_4d&&_4a&&_4b){t=_45;}else{if(_4c&&!_4d&&_4a){t=_45;}else{if(!_4c&&_4d&&_4b){t=_45;}}}}_38.initX=_41;_38.initY=_42;_38.finishX=_43;_38.finishY=_44;if(t>=_45){x=_38.finishX;y=_38.finishY;(x<0)&&(x=0);(x>_40)&&(x=_40);(y<0)&&(y=0);(y>_3f)&&(y=_3f);this._scrollTo(x,y);this.stopSlide();var _4e=true;if(this.dom.overScrollTop.style.display!="none"&&this.dom.overScrollTop.offsetTop>=-this.dom.overScrollTop.offsetHeight){_4e=false;}else{if(this.dom.overScrollBottom.style.display!="none"&&this.dom.overScrollBottom.offsetTop<this.render.clientHeight){_4e=false;}}this.hideOverScrollGlow(_4e);}else{this._scrollTo(x,y);$W._N.setTimer(this.slide,{key:this.id+"_iScroll_slide",caller:this,delay:_38.slidePeriod,args:[_38]});}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aO.prototype.stopSlide=function(_4f){["WebSquare.uiplugin.scrollView.stopSlide"];try{if(this.isSliding){this.isSliding=false;this.forceToStopSlide=_4f;$W._N.clearTimer(this.id+"_iScroll_slide",_4f);this.forceToStopSlide=null;this.iScrollRemoveMoveClass();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aO.prototype.getSlideFactor=function(_50,_51){var c=this.isMobile?0.3:1;return parseInt(c*_50/100*_51,10);};$W._a.aO.prototype.hideOverScrollGlow=function(_53){if(!this.options.bounce&&this.options.overScrollGlow){var _54=this;var _55=this.getScrollTop();if(_53){if(_55==0){$W._H.show(this.dom.overScrollTop);$W._H.setStyle(this.dom.overScrollTop,"top",-this.dom.overScrollTop.offsetHeight+"px");$W._H.animate(this.dom.overScrollTop,{top:0},{key:this.id+"_hideOverScrollGlowWithGlow",easing:"ease-in",duration:300,complete:function(){_54.hideOverScrollGlow();}});}else{if(_55==this.getMaxScrollTop()){$W._H.show(this.dom.overScrollBottom);$W._H.setStyle(this.dom.overScrollBottom,"bottom",-this.dom.overScrollBottom.offsetHeight+"px");$W._H.animate(this.dom.overScrollBottom,{bottom:0},{key:this.id+"_hideOverScrollGlowWithGlow",easing:"ease-in",duration:300,complete:function(){_54.hideOverScrollGlow();}});}}}else{if(this.dom.overScrollTop.style.display!="none"&&this.dom.overScrollTop.offsetTop>=-this.dom.overScrollTop.offsetHeight){$W._H.animate(this.dom.overScrollTop,{top:-this.dom.overScrollTop.offsetHeight},{key:this.id+"_hideOverScrollGlow",easing:"ease-out",duration:300,complete:function(){$W._H.hide(_54.dom.overScrollTop);}});}else{if(this.dom.overScrollBottom.style.display!="none"&&this.dom.overScrollBottom.offsetTop<this.render.clientHeight){$W._H.animate(this.dom.overScrollBottom,{bottom:-this.dom.overScrollBottom.offsetHeight},{key:this.id+"_hideOverScrollGlow",easing:"ease-out",duration:300,complete:function(){$W._H.hide(_54.dom.overScrollBottom);}});}}}}};$W._a.aO.prototype.setScrollLock=function(_56){this.scrollLock=!!_56;};$W._a.aO.prototype.getContentSize=function(_57){["WebSquare.uiplugin.scrollView.getContentSize"];try{var _58=this.dom.container.scrollWidth;var _59=this.dom.container.scrollHeight;if(_57){_57=_57.toLowerCase();if(_57=="height"){return _59;}else{if(_57=="width"){return _58;}}}else{return {width:_58,height:_59};}$l("getContentSize : wrong sizeName["+_57+"]");}catch(e){$W.exception.printStackTrace(e);}};$W._a.aO.prototype.getMaxScrollTop=function(){var _5a=this.dom.container.scrollHeight-this.render.clientHeight;return _5a>=0?_5a:0;};$W._a.aO.prototype.getMaxScrollLeft=function(){var _5b=this.dom.container.scrollWidth-this.render.clientWidth;return _5b>=0?_5b:0;};$W._a.aO.prototype.getScrollTop=function(){["WebSquare.uiplugin.scrollView.getScrollTop"];try{if(this.options.css3d&&this.support3D){return this.options.scrollTop;}else{var _5c=this.dom.container.scrollTop;if(_5c==0||_5c==this.getMaxScrollTop()){_5c-=parseInt(this.dom.container.style.top||0,10);}this.options.scrollTop=_5c;return _5c;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aO.prototype.getScrollLeft=function(){["WebSquare.uiplugin.scrollView.getScrollLeft"];try{if(this.options.css3d&&this.support3D){return this.options.scrollLeft;}else{var _5d=this.dom.container.scrollLeft;if(_5d==0||_5d==this.getMaxScrollLeft()){_5d-=parseInt(this.dom.container.style.left||0,10);}this.options.scrollLeft=_5d;return _5d;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aO.prototype.handleTouchStart=function(e){["WebSquare.uiplugin.scrollView.prototype.handleTouchStart"];try{this.isTouched=true;$W._c.stopPropagation(e);this.stopSlide();if(!e.touches||e.touches.length==1){this.setIScroll();this.iScrollAddMoveClass();this.iScroll.prevTouches=[{x:e.touches?e.touches[0].pageX:e.clientX,y:e.touches?e.touches[0].pageY:e.clientY}];this.iScroll.direction="";if(this.options.horizontalScroll&&!this.options.verticalScroll){this.iScroll.direction="horizontal";}else{if(!this.options.horizontalScroll&&this.options.verticalScroll){this.iScroll.direction="vertical";}}this.fingerLeft=this.getScrollLeft();this.fingerTop=this.getScrollTop();}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aO.prototype.handleTouchMove=function(e){try{if(!e.touches||e.touches.length==1){if(this.options.eventSmoothing){$W._N.setTimer(this._handleTouchMove,{key:this.id+"_handleTouchMove",caller:this,args:[{clientX:e.touches?e.touches[0].pageX:e.clientX,clientY:e.touches?e.touches[0].pageY:e.clientY}],delay:1,max:1});}else{this._handleTouchMove(e);}$W._c.stopEvent(e);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aO.prototype._handleTouchMove=function(e){["WebSquare.uiplugin.scrollView.prototype._handleTouchMove"];try{if(this.scrollLock||this.iScroll.prevTouches.length<=0){return;}this.iScroll.prevTouches.push({x:e.touches?e.touches[0].pageX:e.clientX,y:e.touches?e.touches[0].pageY:e.clientY});var len=this.iScroll.prevTouches.length;this.iScroll.prevTouches=[this.iScroll.prevTouches[len-2],this.iScroll.prevTouches[len-1]];var _62=this.iScroll.prevTouches;var _63=this.options.horizontalScroll?_62[0].x-_62[1].x:0;var _64=this.options.verticalScroll?_62[0].y-_62[1].y:0;var _65=this.render.clientWidth;var _66=this.render.clientHeight;var _67=this.dom.container.scrollWidth;var _68=this.dom.container.scrollHeight;var _69=this.getScrollTop();var _6a=this.getScrollLeft();var _6b=this.getMaxScrollTop();var _6c=this.getMaxScrollLeft();if(this.options.horizontalScroll&&this.options.verticalScroll&&!this.iScroll.direction){var _6d=Math.abs(_64/_63);if((_63==0||_64==0)&&Math.abs(_63+_64)<=2){this.iScroll.direction="";}else{if(_63==0||_6d>2.747){this.iScroll.direction="vertical";}else{if(_6d<0.364){this.iScroll.direction="horizontal";}else{this.iScroll.direction="both";}}}}if(this.iScroll.direction=="vertical"){_63=0;if(_6a<0){this._scrollTo(0,null);_6a=this.fingerLeft=0;}else{if(_6a>_6c){this._scrollTo(_6c,null);_6a=this.fingerLeft=_6c;}}}else{if(this.iScroll.direction=="horizontal"){_64=0;if(_69<0){this._scrollTo(null,0);_69=this.fingerTop=0;}else{if(_69>_6b){this._scrollTo(null,_6b);_69=this.fingerTop=_6b;}}}}if(!this.options.bounce&&!this.options.overScrollGlow){(0<=_6a&&_6a<=_6c)&&(this.fingerLeft=_6a);(0<=_69&&_69<=_6b)&&(this.fingerTop=_69);}_6a=this.fingerLeft+=_63;_69=this.fingerTop+=_64;if(this.options.bounce){if(_6a<0){_6a=_6a/2;(_6a<-_65/2)&&(_6a=-_65/2);}else{if(_6a>_6c){_6a=_6c+(_6a-_6c)/2;(_6a>_6c+_65/2)&&(_6a=_6c+_65/2);}}if(_69<0){_69=_69/2;(_69<-_66/2)&&(_69=-_66/2);}else{if(_69>_6b){_69=_6b+(_69-_6b)/2;(_69>_6b+_66/2)&&(_69=_6b+_66/2);}}}else{(_6a<0)&&(_6a=0);(_6a>_6c)&&(_6a=_6c);(_69<0)&&(_69=0);(_69>_6b)&&(_69=_6b);if(this.options.overScrollGlow){if(this.fingerTop<0){$W._H.show(this.dom.overScrollTop);var _6e=this.dom.overScrollTop.offsetHeight;var top=-2*_6e/_66*this.fingerTop-_6e;(top>0)&&(top=0);$W._H.setStyle(this.dom.overScrollTop,"top",top+"px");}else{$W._H.hide(this.dom.overScrollTop);}if(this.fingerTop>_6b){$W._H.show(this.dom.overScrollBottom);var _6e=this.dom.overScrollBottom.offsetHeight;var _70=-2*_6e/_66*(_6b-this.fingerTop)-_6e;(_70>0)&&(_70=0);$W._H.setStyle(this.dom.overScrollBottom,"bottom",_70+"px");}else{$W._H.hide(this.dom.overScrollBottom);}}}this._scrollTo(_6a,_69);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aO.prototype.handleTouchEnd=function(e){["WebSquare.uiplugin.scrollView.prototype.handleTouchEnd"];try{this.isTouched=false;var len=this.iScroll.prevTouches.length;$W._c.stopPropagation(e);if(len==0){return;}var _73=this.render.clientWidth;var _74=this.render.clientHeight;var _75=this.dom.container.scrollWidth;var _76=this.dom.container.scrollHeight;var _77=this.getMaxScrollLeft();var _78=this.getMaxScrollTop();var _79=this.getScrollLeft();var _7a=this.getScrollTop();var _7b=null;var _7c=null;var _7d=null;var _7e=null;if(len>=2){this.iScroll.prevTouches=[this.iScroll.prevTouches[len-2],this.iScroll.prevTouches[len-1]];var _7f=this.iScroll.prevTouches;var _80=_7f[0].x-_7f[1].x;var _81=_7f[0].y-_7f[1].y;(this.iScroll.direction=="vertical")&&(_80=0);(this.iScroll.direction=="horizontal")&&(_81=0);if(_80*_80+_81*_81>this.options.slideThreshold*this.options.slideThreshold){this.iScroll.prevTouches=[];this.isSliding=true;if(this.options.paging){if(this.options.horizontalScroll){var _82=parseInt(_79/_73,10)+(_80>0?1:0);_7b=_82*_73;(_7b<0)&&(_7b=0);(_7b>_77)&&(_7b=_77);}if(this.options.verticalScroll){var _82=parseInt(_7a/_74,10)+(_81>0?1:0);_7c=_82*_74;(_7c<0)&&(_7c=0);(_7c>_78)&&(_7c=_78);}_7d=this.options.pagingDuration;_7e="ease";}else{_7b=_79+this.getSlideFactor(_80,_75);_7c=_7a+this.getSlideFactor(_81,_76);_7d=this.options.slideDuration;_7e="deceleration";}this.slide({initX:_79,initY:_7a,finishX:this.options.horizontalScroll?_7b:null,finishY:this.options.verticalScroll?_7c:null,duration:_7d,timingFunction:_7e});if(!this.options.bounce&&this.options.overScrollGlow){if((_7a==0&&_7c>0)||(_7a==_78&&_7c<_78)){this.hideOverScrollGlow();}}return;}}if(this.options.paging){if(this.options.horizontalScroll&&!this.options.verticalScroll){var _82=parseInt((_79+_73/2)/_73,10);_7b=_82*_73;}else{if(!this.options.horizontalScroll&&this.options.verticalScroll){var _82=parseInt((_7a+_74/2)/_74,10);_7c=_82*_74;}}_7d=this.options.pagingDuration;}else{_7d=this.options.resilienceDuration;}if(_79<0){_7b=0;}else{if(_77<_79){_7b=_77;}}if(_7a<0){_7c=0;}else{if(_78<_7a){_7c=_78;}}if(_7b!=null||_7c!=null){this.iScroll.prevTouches=[];this.isSliding=true;this.slide({initX:_79,initY:_7a,finishX:_7b,finishY:_7c,xResilience:_7b!=null,yResilience:_7c!=null,duration:_7d,timingFunction:"deceleration"});}else{this.iScrollRemoveMoveClass();this.iScroll.prevTouches=[];}this.hideOverScrollGlow();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aO.prototype.handleMouseOut=function(e){if($W._c.getRelatedTarget(e)==null){this.handleTouchEnd(e);}};$W._a.aO.prototype.finalize=function(){$W._N.clearTimer(this.id+"_checkResize");$W.dragdrop2["scrollable"][this.uuid]=null;delete $W.dragdrop2["scrollable"][this.uuid];};;WebSquare.uiplugin.scrollView=$W._a.aO;;WebSquare.uiplugin.article=$W._a._D;;WebSquare.uiplugin.aside=$W._a._U;;WebSquare.uiplugin.audio=$W._a._h;;WebSquare.uiplugin.canvas=$W._a.bn;;WebSquare.uiplugin.footer=$W._a.ac;;WebSquare.uiplugin.header=$W._a.aI;;WebSquare.uiplugin.nav=$W._a._y;;WebSquare.uiplugin.section=$W._a.ak;;WebSquare.uiplugin.video=$W._a._s;requires("uiplugin.group");$W._a._P=function(id,_2,_3){["WebSquare.uiplugin.pageInherit"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._P.prototype,$W._t.prototype);$W._a._P.prototype.defaultOptions={pluginType:"uiplugin.pageInherit",pluginName:"pageInherit",src:"",tagname:"div",scope:false,initScript:""};$W._a._P.prototype.initialize=function(_4){["WebSquare.uiplugin.pageInherit.initialize "];this.frameDoc=null;this.pageInheritScript=[];this.lazyImportsArr=[];this.childAllControlList=[];this.userComponentList=[];this.userPluginList=[];this.scope={};};$W._a._P.html5={"footer":"div","header":"div","nav":"div","section":"div"};$W._a._P.prototype.toHTML=function(){["WebSquare.uiplugin.pageInherit.toHTML"];try{var _5=[];var _6=this.options.tagname;var _7=(this.options.style=="")?"":"style='"+this.options.style+"'";if($W._N.browserCheck.ie){var _8=$W._N.browserVersion();if(_8=="6"||_8=="7"||_8=="8"){if($W._a._P.html5[_6]){_6=$W._a._P.html5[_6];}}}_5.push("<"+_6+" id='"+this.id+"' "+_7+" class='w2pageInherit "+this.options.className+"'>");var _9=this.getChildren();for(var i=0;i<_9.length;i++){_5.push(_9[i].toHTML());}_5.push("</"+_6+">");return _5.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._P.prototype.setAction=function(){["WebSquare.uiplugin.pageInherit.setAction"];try{if(this.frameDoc&&this.frameDoc.scriptSection.wq_trim()!=""){var _b=this.frameDoc.scriptSection;if(this.options.scope){_b="WebSquare.scope_obj="+this.id+";\nwith(WebSquare.util.getComponentById('"+this.id+"').scope){\n var udc_obj = "+this.id+";"+_b+"\n};\nWebSquare.scope_obj=null;\n";}_b=$W.scriptIdentifier+$W._N.getURL(this.getSrc())+"\";"+_b;if($W.scriptSectionExcuteFlag&&$W.scriptSectionExcuteFlag==="executed"){var _c=this.parentControl.parentControl;if(_c.options.pluginName=="pageInherit"){_c.pageInheritScript.push(_b);this.frameDoc.scriptSection="";_c.lazyImportsArr=_c.lazyImportsArr.concat(this.lazyImportsArr);this.lazyImportsArr=[];}else{$W.BootLoader.globalEval(_b);}}else{if(!$W.pageInheritScript){$W.pageInheritScript=[];}$W.pageInheritScript.push(_b);this.frameDoc.scriptSection="";}}for(var i=0;i<this.childControlList.length;i++){var _e=this.childControlList[i];if(_e.activeStatus=="stop"){_e.setUserAction();}$W._c.fireEvent(_e,"oncreated",_e.options);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._P.prototype.makeFrame=function(){["WebSquare.uiplugin.pageInherit.makeFrame"];try{var _f=this.getSrc();if(_f){var _10=$W._B.load($W._N.getURL(_f),null);if(_10){this.frameDoc=new $W.WebSquareDocument(_10);this.frameDoc.renderStartTime=new Date();this.frameDoc.parsingPageInheritBefore(true,this);this.appendModels(this.frameDoc.models);this.frameDoc.renderBody2(this);this.appendSubmission(this.frameDoc.models);this.frameDoc.parsingPageInheritAfter(true,this);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._P.prototype.getSrc=function(){["WebSquare.uiplugin.pageInherit.getSrc"];try{var _11=this.options.src;var _12=$W._N.getConfiguration("/WebSquare/pageURLPrefix/@ignoreW2xPath");if($W.pageURLPrefix!==""&&$W.pageURLPrefixType=="function"){var _13=$W.pageURLPrefix;if($W.pageURLPrefix.indexOf("()")==-1){_13=$W.pageURLPrefix+"()";}if(_12.toLowerCase()=="true"){_13=_13.wq_replaceAll("()","(obfuscator_url)");_11=eval("(function(){var obfuscator_url = \""+_11+"\";return "+_13+"})();");}else{_11=eval(_13)+encodeURIComponent(_11);}}else{if($W.pageURLPrefix!==""&&$W.pageURLPrefixType!="function"){_11=$W.pageURLPrefix+encodeURIComponent(_11);}}return _11;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._P.prototype.appendModels=function(_14){["WebSquare.uiplugin.pageInherit.appendModels"];try{var _15=$W._J.getModelByID();if(_15){for(var i=0;i<_14.length;i++){var _17=_15.instances[0].document;var _18=_14[i].instances[0].document.childNodes;for(var j=0;j<_18.length;j++){_17.appendChild(_18[j].cloneNode(true));}_15.binds=_15.binds.concat(_14[i].binds);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._P.prototype.appendSubmission=function(_1a){["WebSquare.uiplugin.pageInherit.appendSubmission"];try{var _1b=$W._J.getModelByID();if(_1b){for(var i=0;i<_1a.length;i++){if($W.pageInheritSubmissionList.length<=i){$W.pageInheritSubmissionList.push(new Array());}while(_1a[i].submissions.length>0){$W.pageInheritSubmissionList[i].push(_1a[i].submissions.pop());}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._P.prototype.remove=function(){["WebSquare.uiplugin.pageInherit.removeFrame"];try{this.removeFrame();if(this.render!=null){$W.removeNode(this.render);}if(this.parentControl){this.parentControl.removeControl(this);}for(var i in $W.getBody().childControlList){if($W.getBody().childControlList[i]==this){$W.getBody().childControlList.splice(i,1);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._P.prototype.removeFrame=function(){["WebSquare.uiplugin.pageInherit.removeFrame"];try{$W.logger.printLog("pageInherit unloading start.");for(var i=0;i<this.childControlList.length;i++){$W._c.fireEvent(this.childControlList[i],"onpageunload");}for(var i=this.childAllControlList.length-1;i>=0;i--){var _1f=$W.idCache[this.childAllControlList[i]];if(!_1f){continue;}if(typeof _1f.removeFrame=="function"){_1f.removeFrame();}$W.isPrintLog=false;if(typeof _1f.finalize=="function"){_1f.finalize();}$W.isPrintLog=true;if(typeof _1f.unbind=="function"){_1f.unbind();}if(_1f.event){_1f.event.clearCache();}if(_1f.modelControl){_1f.modelControl.unbindRef();_1f.modelControl.unbindItemset();}$W.getBody().getLayerListener().remove(_1f.id);_1f.childControlList=[];var _20={"secret":"input","selectbox":"select1","radio":"select1","multiselect":"select","checkbox":"select","checkcombobox":"select","switch":"Switch"};var _21=_20[this.options.pluginName]||this.options.pluginName;var arr=$W.WebSquareDocument.componentsCache[_21]||$W.WebSquareDocument.componentsCache[this._wTagName]||[];for(var idx=0,len=arr.length;idx<len;idx++){if(arr[idx]==this.uuid){arr[idx]=null;arr.splice(idx,1);}}if($W._N.memoryLeakComponent[_21]){$W._N.memoryLeakComponentCount+=$W._N.memoryLeakComponent[_21];}window[$W.noConflict]["comp"][_1f.id]=null;delete window[$W.noConflict]["comp"][_1f.id];window[$W.noConflict]["data"][_1f.id]=null;delete window[$W.noConflict]["data"][_1f.id];if(window[_1f.id]){window[_1f.id]=null;}if(_1f.render!=null){$W.removeNode(_1f.render);}for(var _24 in _1f){delete _1f[_24];}_1f=null;$W.idCache[this.childAllControlList[i]]=null;delete $W.idCache[this.childAllControlList[i]];}this.childAllControlList=[];this.childControlList=[];this.scope={};for(var i=0;i<this.userComponentList.length;i++){$W._G.loadedUserComponent[this.userComponentList[i]]=null;delete $W._G.loadedUserComponent[this.userComponentList[i]];}this.userComponentList=[];for(var i=0;i<this.userPluginList.push.length;i++){$W._G.loadedUserComponentPluginName[this.userPluginList[i]]=null;delete $W._G.loadedUserComponentPluginName[this.userPluginList[i]];}this.userPluginList=[];if(this.render!=null){$W.removeChildren(this.render);}this.removeCommon();$W.logger.printLog("pageInherit unloading finished.");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._P.prototype.removeCommon=function(){["WebSquare.uiplugin.pageInherit.removeCommon"];try{this.pageInheritScript=[];if(this.frameDoc!=null){var _25=$W.document.getElementsByTagName("head")[0];for(var i=0;i<this.frameDoc.cssList.length;i++){var uri=this.frameDoc.cssList[i].getAttribute("href");for(var idx in $W._y.skinTag){if(uri==$W._y.skinTag[idx]){$W._y.skinTag.splice(idx,1);break;}}_25.removeChild(this.frameDoc.cssList[i]);this.frameDoc.cssList[i]=null;}_25=null;var _29=this.frameDoc.models[0].submissions;var _2a=$W.WebSquaredoc.models[0].submissions;for(var i=0;i<_29.length;i++){for(var j=0;j<_2a.length;j++){if(_29[i].id===_2a[j].id&&_29[i].ref===_2a[j].ref){_2a[j].dead=true;_2a[j].parentElement=null;_2a.splice(j,1);break;}}}var _2c=this.frameDoc.models[0].workflows;var _2a=$W.WebSquaredoc.models[0].workflows;for(var i=0;i<_2c.length;i++){for(var j=0;j<_2a.length;j++){if(_2c[i].id===_2a[j].id&&_2c[i].ref===_2a[j].ref){_2a[j].promiseStatus="REJECT";_2a[j].parentElement=null;_2a.splice(j,1);break;}}}for(var _2d in this.frameDoc){this.frameDoc[_2d]=null;delete this.frameDoc[_2d];}}this.frameDoc=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.pageInherit=$W._a._P;requires("uiplugin/control/xfControl.js");$W._a._M=function(id,_2,_3){["WebSquare.uiplugin.layout"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._M.prototype,$W._t.prototype);$W._a._M.prototype.defaultOptions={pluginType:"uiplugin.layout",pluginName:"layout",tagname:"div"};$W._a._M.prototype.initialize=function(_4){var _5,i=0,j=0,k=0,layoutInfoNodes,layerInfoNodes,cellInfo,gridColumn,gridRow,arr,layoutInfoAttr,layerItem,contentInfo,listSize1=0,listSize2=0,gridRowIdx=1;this.preInfoIdx=-1;this.layerInfos=[];this.resetClassObj={};this.layerInfoObj={};this.autoCheckCount=0;this.autoRow={};this.limitWidth=50000;this.useBorderBox=false;this.supportBorderBox=true;this.curBrowserVer="";this.marginProperties=["margin-top","margin-right","margin-bottom","margin-left"];if(this.options.useBorderBox&&this.options.useBorderBox==="true"){this.useBorderBox=true;}if($W._N.browserCheck.ie){this.curBrowserVer=$W._N.browserVersion();if(this.curBrowserVer=="6"||this.curBrowserVer=="7"){this.supportBorderBox=false;}}layoutInfoNodes=$W._B.findNodes(_4,"w2:layoutInfos")[0];layoutInfoNodes=$W._B.findNodes(layoutInfoNodes,"w2:layoutInfo");listSize1=layoutInfoNodes.length;for(i=0;i<listSize1;i++){layerInfoNodes=$W._B.findNodes(layoutInfoNodes[i],"w2:layerInfo");arr=[];listSize2=layerInfoNodes.length;for(j=0;j<listSize2;j++){cellInfo=$W.WebSquareparser.parseAttribute(layerInfoNodes[j]);cellInfo["grid-column"]=parseInt(cellInfo["grid-column"],10)||1;cellInfo["grid-row"]=parseInt(cellInfo["grid-row"],10)||1;arr.push(cellInfo);}layoutInfoAttr=$W.WebSquareparser.parseAttribute(layoutInfoNodes[i]);this.layerInfos.push({condition:layoutInfoAttr,layerInfo:arr,layoutCols:this.getTrackList(layoutInfoAttr["grid-columns"],arr,"grid-column"),layoutRows:this.getTrackList(layoutInfoAttr["grid-rows"],arr,"grid-row"),minWidth:(layoutInfoAttr["min-width"]?parseInt(layoutInfoAttr["min-width"],10):NaN)||0,maxWidth:(layoutInfoAttr["max-width"]?parseInt(layoutInfoAttr["max-width"],10):NaN)||this.limitWidth});}this.layerArr=$W._B.findNodes(_4,"w2:layoutContents")[0];this.layerArr=$W._B.findNodes(this.layerArr,"xf:group");listSize1=this.layerArr.length;for(i=0;i<listSize1;i++){_5=$W.controlFactory.create((this.layerArr[i].getAttribute("id")?this.layerArr[i].getAttribute("id"):(this.id+"_"+i)),{pluginName:"group",className:"w2layout_layer "+(this.useBorderBox?"w2layout_layer_borderbox ":"")+(this.layerArr[i].getAttribute("class")||""),style:this.layerArr[i].getAttribute("style")||"",tagname:this.layerArr[i].getAttribute("tagname")||"div"},this.layerArr[i]);this.addControl(_5);for(j=0;j<this.layerInfos.length;j++){if(!this.layerInfoObj[j]){this.layerInfoObj[j]={};}listSize2=this.layerInfos[j].layerInfo.length;for(k=0;k<listSize2;k++){layerItem=this.layerInfos[j].layerInfo[k];gridRowIdx=layerItem["grid-row"]||1;contentInfo=this.layerInfoObj[j][gridRowIdx];if(!contentInfo){contentInfo={};this.layerInfoObj[j][gridRowIdx]=contentInfo;}if(layerItem["layerId"]===_5.options.layerId){contentInfo[_5.options.layerId]=_5;_5.options.layerInfo={"row-span":parseInt(layerItem["row-span"],10)||1};break;}}}}};$W._a._M.html5={"footer":"div","header":"div","nav":"div","section":"div"};$W._a._M.prototype.toHTML=function(){["WebSquare.uiplugin.layout.toHTML"];var _6=[],styleStr=(this.options.style=="")?"":"style='"+this.options.style+"'",tagname=this.options.tagname;if(!this.supportBorderBox||this.curBrowserVer==="8"){if($W._a._M.html5[tagname]){tagname=$W._a._M.html5[tagname];}}_6.push("<"+tagname+" id='"+this.id+"' "+styleStr+" class='w2layout "+this.options.className+"'>");var _7=this.getChildren();for(var i=0;i<_7.length;i++){_6.push(_7[i].toHTML());}_6.push("</"+tagname+">");return _6.join("");};$W._a._M.prototype.setAction=function(){var _9=$W._H.getStyleProperty(this.render,"height"),source=this;this.isHeightAuto=false;if(_9==="auto"||_9==="0px"){this.isHeightAuto=true;}this.findParent(source,source);};$W._a._M.prototype.setLayout=function(_a,_b){var _c=0,top=0,eleSize=[0,0],gridColumn,gridRow,columnSpan,rowSpan,layerID,layerClass,i,j,k,dimensionInfo={},tracks,listSize,idx=-1,fractions=[0],availableSpace=[0],range=0,located={},layoutCols,layoutRows,preContentSize=0,contentGroup,contentList,baseContentLayer={},vHeight,vHeight2,rePositionRow=0,source;if(!_a){_a=this.getLayoutInfo(this.render.clientWidth,this.render.clientHeight);}_b=_b||1;this.layoutWidth=_a.layoutWidth;this.layoutHeight=_a.layoutHeight;contentGroup=this.layerInfoObj[_a.idx];layoutCols=_a.layoutCols;layoutRows=_a.layoutRows;tracks=[];availableSpace[0]=this.layoutWidth;listSize=layoutCols.length;for(i=0;i<listSize;i++){if(layoutCols[i].type==="px"){tracks[i]=layoutCols[i].value;availableSpace[0]-=tracks[i];}else{if(layoutCols[i].type==="%"){tracks[i]=this.getDecimalRound((this.layoutWidth*layoutCols[i].value/100),-1);availableSpace[0]-=tracks[i];}else{if(layoutCols[i].type==="fr"){tracks[i]={};tracks[i].frX=layoutCols[i].value;fractions[0]+=tracks[i].frX;}else{if(layoutCols[i].type==="auto"){tracks[i]={};tracks[i].frX=1;fractions[0]+=tracks[i].frX;}}}}}listSize=tracks.length;for(i=0;i<listSize;i++){if(tracks[i].frX){tracks[i]=this.getDecimalRound((availableSpace[0]*(tracks[i].frX/fractions[0])),-1);}}dimensionInfo.x=tracks;tracks=[];fractions[0]=0;if(this.isHeightAuto){source=this;this.layoutHeight=this.getParentHeight(source);}availableSpace[0]=this.layoutHeight;listSize=layoutRows.length;for(i=0;i<listSize;i++){if(layoutRows[i].type==="px"){tracks[i]=layoutRows[i].value;availableSpace[0]-=tracks[i];}else{if(layoutRows[i].type==="%"){if(this.isHeightAuto){preContentSize=0;this.setAuto(i,preContentSize,contentGroup,baseContentLayer,tracks,availableSpace,fractions);}else{tracks[i]=this.getDecimalRound((this.layoutHeight*layoutRows[i].value/100),-1);availableSpace[0]-=tracks[i];}}else{if(layoutRows[i].type==="fr"){tracks[i]={};tracks[i].frY=layoutRows[i].value;fractions[0]+=tracks[i].frY;}else{if(layoutRows[i].type==="auto"){preContentSize=0;this.setAuto(i,preContentSize,contentGroup,baseContentLayer,tracks,availableSpace,fractions);}}}}}if(this.isHeightAuto&&availableSpace[0]<0){availableSpace[0]=-availableSpace[0];}listSize=tracks.length;for(i=0;i<listSize;i++){if(tracks[i].frY){tracks[i]=this.getDecimalRound((availableSpace[0]*(tracks[i].frY/fractions[0])),-1);}}dimensionInfo.y=tracks;if(this.isHeightAuto){vHeight=0;for(j=0;j<tracks.length;j++){vHeight+=tracks[j];}this.layoutHeight=parseInt(vHeight,10);this.render.style.height=this.layoutHeight+"px";}for(i=0;i<_a.layerInfo.length;i++){layerID=_a.layerInfo[i]["layerId"];gridColumn=_a.layerInfo[i]["grid-column"];gridRow=_a.layerInfo[i]["grid-row"];columnSpan=_a.layerInfo[i]["column-span"]?Math.min(parseInt(_a.layerInfo[i]["column-span"],10),(layoutCols.length-gridColumn+1)):1;rowSpan=_a.layerInfo[i]["row-span"]?Math.min(parseInt(_a.layerInfo[i]["row-span"],10),(layoutRows.length-gridRow+1)):1;layerClass=_a.layerInfo[i]["className"]||"";if(_b>gridRow){located[layerID]=layerID;}else{_c=eleSize[0]=0;range=gridColumn+columnSpan-1;for(j=0;j<range;j++){if(j<(gridColumn-1)){_c+=dimensionInfo.x[j];}else{eleSize[0]+=dimensionInfo.x[j];}}if(gridColumn===1){eleSize[0]+=_c;_c=0;}top=eleSize[1]=0;range=gridRow+rowSpan-1;for(j=0;j<range;j++){if(j<(gridRow-1)){top+=dimensionInfo.y[j];}else{eleSize[1]+=dimensionInfo.y[j];}}if(gridRow===1){eleSize[1]+=top;top=0;}listSize=this.childControlList.length;for(j=0;j<listSize;j++){if(!located[this.childControlList[j].options.layerId]&&layerID===this.childControlList[j].options.layerId){located[this.childControlList[j].options.layerId]=this.childControlList[j].options.layerId;this.adjustBoxSize(this.childControlList[j].render,eleSize,contentGroup,gridRow,layerID);this.childControlList[j].setStyle("left",_c+"px");this.childControlList[j].setStyle("top",top+"px");this.childControlList[j].setSize(eleSize[0]+"px",eleSize[1]+"px");if(baseContentLayer[gridRow]&&baseContentLayer[gridRow]["layerId"]===layerID){vHeight=this.childControlList[j].render.clientHeight;vHeight=(this.getBoxSize(this.childControlList[j].render,[null,vHeight]))[1];this.autoRow[gridRow]=vHeight;if(!baseContentLayer[gridRow]["empty"]){this.childControlList[j].render.style.height="";vHeight2=this.childControlList[j].render.scrollHeight;vHeight2=(this.getBoxSize(this.childControlList[j].render,[null,vHeight2]))[1];if(rePositionRow===0&&vHeight!==vHeight2){rePositionRow=gridRow;}}}if(this.preInfoIdx!==_a.idx){if(this.preInfoIdx>-1){this.resetClass(layerID,this.childControlList[j]);}if(layerClass&&!this.childControlList[j].hasClass(layerClass)){this.childControlList[j].addClass(layerClass);}}break;}}}}listSize=this.childControlList.length;for(j=0;j<listSize;j++){if(!located[this.childControlList[j].options.layerId]){if(this.preInfoIdx>-1&&this.preInfoIdx!==_a.idx){this.resetClass(this.childControlList[j].options.layerId,this.childControlList[j]);}this.childControlList[j].setStyle("left",0);this.childControlList[j].setStyle("top",0);this.childControlList[j].setSize(0,0);}}this.preInfoIdx=_a.idx;if(this.childrenLayout){for(i=0;i<this.childrenLayout.length;i++){this.childrenLayout[i].setLayout();}}return rePositionRow;};$W._a._M.prototype.checkAutoCell=function(_d){var i,j,k,idx,listSize,changedRow=0,contentGroup,contentList,vScrollHeight,nWidth,nHeight,childLayerInfoList,marginSize;listSize=_d.layoutRows.length;for(i=0;i<listSize;i++){idx=i+1;contentGroup=this.layerInfoObj[_d.idx];contentList=contentGroup[idx];if(_d.layoutRows[i].type==="auto"){if(this.autoRow[idx]){for(j in contentList){if(contentList.hasOwnProperty(j)){if(contentList[j].options.layerInfo["row-span"]===1){vScrollHeight=contentList[j].render.scrollHeight;vScrollHeight=(this.getBoxSize(contentList[j].render,[null,vScrollHeight]))[1];if((vScrollHeight<this.autoRow[idx]-1)||(this.autoRow[idx]+1<vScrollHeight)){changedRow=idx;return changedRow;}}}}}}for(j in contentList){if(contentList.hasOwnProperty(j)){marginSize=contentList[j].options.preMargin;if(marginSize){for(k=0;k<marginSize.length;k++){if(marginSize[k]!==(parseInt($W._H.getStyleProperty(contentList[j].render,this.marginProperties[k]),10)||0)){changedRow=idx;return changedRow;}}}}}}if(this.childrenLayout){for(i=0;i<this.childrenLayout.length;i++){nWidth=this.childrenLayout[i].render?this.childrenLayout[i].render.clientWidth:null;nHeight=this.childrenLayout[i].render?this.childrenLayout[i].render.clientHeight:null;childLayerInfoList=this.childrenLayout[i].getLayoutInfo(nWidth,nHeight);changedRow=this.childrenLayout[i].checkAutoCell(childLayerInfoList);if(changedRow>0){break;}}}return changedRow;};$W._a._M.prototype.checkResize=function(){["WebSquare.uiplugin.layout.prototype.checkResize"];try{var i,changedRowIdx,vVisibility=$W._H.getStyleProperty(this.render,"visibility"),nWidth,nHeight,layerInfoList;if(vVisibility!=="hidden"){nWidth=this.render?this.render.clientWidth:null;nHeight=this.render?this.render.clientHeight:null;layerInfoList=this.getLayoutInfo(nWidth,nHeight);if((this.layoutWidth!=nWidth)||(this.layoutHeight!=nHeight)){if((changedRowIdx=this.setLayout(layerInfoList))>0){this.setLayout(layerInfoList);}}else{if(this.autoCheckCount<6){this.autoCheckCount+=1;if(this.autoCheckCount===5){this.autoCheckCount=0;if((changedRowIdx=this.checkAutoCell(layerInfoList))>0){this.setLayout(layerInfoList);}}}else{if(this.childrenLayout){for(i=0;i<this.childrenLayout.length;i++){this.childrenLayout[i].checkResize();}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._M.prototype.findParent=function(_10,_11){var _12=_10.parentControl;if(_12.options.pluginName==="body"){$W.getBody().resizeChecker.register(_11);}else{if(_12.options.pluginName==="layout"){if(!_12.childrenLayout){_12.childrenLayout=[];}_12.childrenLayout.push(_11);}else{this.findParent(_12,_11);}}};$W._a._M.prototype.getLayoutInfo=function(_13,_14){var i,layoutInfo=this.layerInfos[0];layoutInfo.idx=0;layoutInfo.layoutWidth=0;layoutInfo.layoutHeight=0;for(i=this.layerInfos.length-1;i>-1;i--){if(this.layerInfos[i].minWidth<_13&&_13<=this.layerInfos[i].maxWidth){layoutInfo=this.layerInfos[i];layoutInfo.layoutWidth=_13;layoutInfo.layoutHeight=_14;layoutInfo.idx=i;break;}}return layoutInfo;};$W._a._M.prototype.setAuto=function(idx,_17,_18,_19,_1a,_1b,_1c){var j,vHeight,isMatch=false,index=idx+1;contentList=_18[index];for(j in contentList){if(contentList.hasOwnProperty(j)){if(contentList[j].options.layerInfo["row-span"]===1){contentList[j].render.style.height="";vHeight=contentList[j].render.scrollHeight;vHeight=(this.getBoxSize(contentList[j].render,[null,vHeight]))[1];if(_17<vHeight){_19[index]={};_19[index]["layerId"]=contentList[j].options.layerId;_1a[idx]=vHeight;_17=_1a[idx];}}}}if(_1a[idx]){_1b[0]-=_1a[idx];}else{_19[index]={};_19[index]["layerId"]=contentList[j].options.layerId;_19[index]["empty"]=true;_1a[idx]={};_1a[idx].frY=1;_1c[0]+=_1a[idx].frY;}};$W._a._M.prototype.checkAutoOmission=function(idx,_1f,_20){var rst=true,i;for(i=0;i<_1f.length;i++){if(idx===_1f[i][_20]){rst=false;break;}}return rst;};$W._a._M.prototype.getTrackList=function(_22,_23,_24){var i,idx,item,repeatExp=/repeat/,wsExp=/\s+/,isRepeat=false,idx=[-1,-1],tempStr="",repeatNum=0,repeatUnit=null,repeatBody=[],tempArr=[],result=[];if(!_22){throw new SyntaxError("grid-rows or grid-columns is missed");}isRepeat=repeatExp.test(_22)?true:false;if(isRepeat){idx[0]=_22.indexOf("repeat");tempStr=_22.substring(0,idx[0]).trim();if(tempStr){tempArr=tempStr.split(wsExp);}idx[0]=_22.indexOf("(",idx[0]);idx[1]=_22.indexOf(")",idx[0]);tempStr=_22.substring(idx[0]+1,idx[1]);idx[0]=tempStr.indexOf(",");repeatNum=tempStr.substring(0,idx[0]).trim();tempStr=tempStr.substring(idx[0]+1).trim();repeatUnit=tempStr.split(wsExp);for(idx[0]=0;idx[0]<repeatNum;idx[0]++){repeatBody.push(repeatUnit);}tempArr=tempArr.concat.apply(tempArr,repeatBody);tempStr=_22.substring(idx[1]+1).trim();if(tempStr){isRepeat=repeatExp.test(tempStr)?true:false;if(isRepeat){tempArr=tempArr.concat.apply(tempArr,this.getTrackList(tempStr));}else{tempArr=tempArr.concat.apply(tempArr,tempStr.split(wsExp));}}}else{tempArr=_22.split(wsExp);}for(i=0;i<tempArr.length;i++){item={};if(tempArr[i].lastIndexOf("px")>-1){item.value=parseInt(tempArr[i],10);item.type="px";}else{if(tempArr[i].lastIndexOf("%")>-1){item.value=parseInt(tempArr[i],10);item.type="%";}else{if((idx=tempArr[i].lastIndexOf("fr"))>-1){item.value=+(tempArr[i].substring(0,idx));item.type="fr";}else{if(tempArr[i].indexOf("auto")>-1){if(this.checkAutoOmission(i+1,_23,_24)){item=null;}else{item.value="auto";item.type="auto";}}}}}if(item!==null){result.push(item);}}return result;};$W._a._M.prototype.getDecimalRound=function(_26,exp){if(typeof exp==="undefined"||+exp===0){return Math.round(_26);}_26=+_26;exp=+exp;if(isNaN(_26)||!(typeof exp==="number"&&exp%1===0)){return NaN;}_26=_26.toString().split("e");_26=Math.round(+(_26[0]+"e"+(_26[1]?(+_26[1]-exp):-exp)));_26=_26.toString().split("e");return +(_26[0]+"e"+(_26[1]?(+_26[1]+exp):exp));};$W._a._M.prototype.resetClass=function(_28,_29){var k,isNoCache=false,layerClass,resetClassInfoList,preInfoIdxStr=this.preInfoIdx+"",infoObj=this.resetClassObj[preInfoIdxStr];if(infoObj){if(infoObj[_28]){layerClass=infoObj[_28];}else{isNoCache=true;}}else{isNoCache=true;}if(isNoCache){resetClassInfoList=this.layerInfos[this.preInfoIdx];for(k=0;k<resetClassInfoList.layerInfo.length;k++){if(resetClassInfoList.layerInfo[k]["layerId"]===_28){layerClass=resetClassInfoList.layerInfo[k]["className"]||"";if(!infoObj){infoObj={};this.resetClassObj[preInfoIdxStr]=infoObj;}infoObj[_28]=layerClass;break;}}}if(layerClass&&_29.hasClass(layerClass)){_29.removeClass(layerClass);}};$W._a._M.prototype.getParentHeight=function(_2b){var _2c=0,parent=_2b.parentControl;if(parent.options.pluginName==="body"&&parent.parentControl&&parent.parentControl.options.pluginName==="wframe"){parent=parent.parentControl;}_2c=parent.render?parent.render.clientHeight:parent.element.clientHeight;if(!_2c){_2c=this.getParentHeight(parent);}return _2c;};$W._a._M.prototype.adjustBoxSize=function(ele,_2e,_2f,_30,_31){var _32=[0,0,0,0];_32[0]=parseInt($W._H.getStyleProperty(ele,"margin-top"),10)||0;_32[1]=parseInt($W._H.getStyleProperty(ele,"margin-right"),10)||0;_32[2]=parseInt($W._H.getStyleProperty(ele,"margin-bottom"),10)||0;_32[3]=parseInt($W._H.getStyleProperty(ele,"margin-left"),10)||0;_2f[_30][_31].options.preMargin=_32;_2e[0]+=_32[1]===0?0:-_32[1];_2e[0]+=_32[3]===0?0:-_32[3];_2e[1]+=_32[0]===0?0:-_32[0];_2e[1]+=_32[2]===0?0:-_32[2];if(this.useBorderBox&&!this.supportBorderBox){_2e[0]-=parseInt($W._H.getStyleProperty(ele,"padding-right"),10)||0;_2e[0]-=parseInt($W._H.getStyleProperty(ele,"padding-left"),10)||0;_2e[0]-=parseInt($W._H.getStyleProperty(ele,"border-right-width"),10)||0;_2e[0]-=parseInt($W._H.getStyleProperty(ele,"border-left-width"),10)||0;_2e[1]-=parseInt($W._H.getStyleProperty(ele,"padding-top"),10)||0;_2e[1]-=parseInt($W._H.getStyleProperty(ele,"padding-bottom"),10)||0;_2e[1]-=parseInt($W._H.getStyleProperty(ele,"border-top-width"),10)||0;_2e[1]-=parseInt($W._H.getStyleProperty(ele,"border-bottom-width"),10)||0;}return _2e;};$W._a._M.prototype.getBoxSize=function(ele,_34){if(_34[0]!==null){_34[0]-=-(parseInt($W._H.getStyleProperty(ele,"margin-right"),10))||0;_34[0]-=-(parseInt($W._H.getStyleProperty(ele,"margin-left"),10))||0;}if(_34[1]!==null){_34[1]-=-(parseInt($W._H.getStyleProperty(ele,"margin-top"),10))||0;_34[1]-=-(parseInt($W._H.getStyleProperty(ele,"margin-bottom"),10))||0;}if(this.useBorderBox){if(_34[0]!==null){_34[0]+=(parseInt($W._H.getStyleProperty(ele,"border-right-width"),10)||0);_34[0]+=(parseInt($W._H.getStyleProperty(ele,"border-left-width"),10)||0);}if(_34[1]!==null){_34[1]+=(parseInt($W._H.getStyleProperty(ele,"border-top-width"),10)||0);_34[1]+=(parseInt($W._H.getStyleProperty(ele,"border-bottom-width"),10)||0);}}return _34;};;WebSquare.uiplugin.layout=$W._a._M;;WebSquare.uiplugin.tableLayout=$W._a.aG;requires("engine/formatter.js");$W._a.ah=function(id,_2,_3){["WebSquare.uiplugin.span"];$W._t.call(this,id,_2,_3);this.options.tagname="span";};$W.extend($W._a.ah.prototype,$W._t.prototype);$W._a.ah.prototype.defaultOptions={pluginType:"uiplugin.span",pluginName:"span",parseAttributes:true,userEvents:[],systemEvents:["onclick","ondblclick","onmouseover","onmouseout"],useConfig:true,label:"",escape:false,escapeFormatter:"",tagname:"span",localeRef:"",ioFormat:"",displayFormat:"",displayFormatter:null,dataType:"text",dateMask:"",timeMask:"",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",delimeter:"",decimalDelimeter:""};$W._a.ah.prototype.htmlStr=["<",""," id='","","' ",""," class='w2span ","","' ","",">","","</","",">"];$W._a.ah.prototype.htmlClosingStr=["<",""," id='","","' ",""," class='w2span ","","'",""," />"];$W._a.ah.prototype.initialize=function(_4){["WebSquare.uiplugin.span.initialize"];if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "euro":this.options.displayFormat=this.options.euroMask;if(!this.options.delimeter){this.options.delimeter=".";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=",";}break;case "rupee":this.options.displayFormat=this.options.rupeeMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "tenge":this.options.displayFormat=this.options.tengeMask;if(!this.options.delimeter){this.options.delimeter=" ";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter="-";}break;}}this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);this.useEscapeFormatter=false;};$W._a.ah.prototype.toHTML=function(){var _5=$W._N.getEmptyTag();var _6="";if(_5[this.options.tagname.toLowerCase()]){_6=this.htmlClosingStr;_6[1]=this.options.tagname;_6[3]=this.id;_6[5]=(this.options.style=="")?"":" style='"+this.options.style+"'";_6[7]=this.options.className;_6[9]=((this.options.tagname=="label")?" for='"+this.options["for"]+"'":"")+this.getAttributesString();}else{_6=this.htmlStr;_6[1]=this.options.tagname;_6[3]=this.id;_6[5]=(this.options.style=="")?"":"style='"+this.options.style+"'";_6[7]=this.options.className;_6[9]=((this.options.tagname=="label")?" for='"+this.options["for"]+"'":"")+this.getAttributesString();var _7="";if(!this.options.escapeFormatter){_7=this.options.escape?this.formatter.format($W._B._encode(this.options.label)):this.formatter.format(this.options.label);}else{_7=this.setEscapeFormatter();}_6[11]=_7;_6[13]=this.options.tagname;}return _6.join("");};$W._a.ah.prototype.setEscapeFormatter=function(){["WebSquare.uiplugin.span.setEscapeFormatter"];try{if(this.options.escapeFormatter){try{if(typeof this.options.escapeFormatter=="function"){this.useEscapeFormatter=true;}else{var _8=eval(this.options.escapeFormatter);if(typeof _8=="function"){this.options.escapeFormatter=_8;this.useEscapeFormatter=true;}}}catch(e){$W.logger.printLog("cannot find function : "+this.options.escapeFormatter);}var _9=this.options.label;if(this.useEscapeFormatter){_9=this.options.escapeFormatter.call(this,_9);}return this.options.escape?this.formatter.format($W._B._encode(_9+"")):this.formatter.format(_9);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ah.prototype.onComplete=function(){if(this.options.escapeFormatter&&!this.useEscapeFormatter){this.render.innerHTML=this.setEscapeFormatter();}};$W._a.ah.prototype.setAction=function(){["WebSquare.uiplugin.span.setAction"];try{this.refresh();this.displayLocaleValue();if(this.options.tagname!="label"||this.options["for"]==""){return;}var _a=$W._G.getComponentById(this.options["for"])||null;if(_a==null){return;}var _b=typeof _a.getAccessibiltyId=="function"?_a.getAccessibiltyId():this.options["for"];this.render.setAttribute("for",_b);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ah.prototype.setLocaleRef=function(_c){["WebSquare.uiplugin.span.setLocaleRef"];try{this.options.localeRef=_c;this.displayLocaleValue();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ah.prototype.refresh=function(){["WebSquare.uiplugin.span.refresh"];try{if(this.modelControl.isBinded()){var _d=this.modelControl.getData();this.options.label=_d;if(this.useEscapeFormatter){_d=this.options.escapeFormatter.call(this,_d);}this.render.innerHTML=this.options.escape?this.formatter.format($W._B._encode(_d+"")):this.formatter.format(_d);this.options.label=_d;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ah.prototype.setLabel=function(_e){["WebSquare.uiplugin.span.setLabel"];try{this.setValue(_e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ah.prototype.getLabel=function(){["WebSquare.uiplugin.span.getLabel"];try{return this.getValue();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ah.prototype.setValue=function(_f){["WebSquare.uiplugin.span.setValue"];try{this.options.label=_f;var _10=this.options.label;if(this.useEscapeFormatter){_10=this.options.escapeFormatter.call(this,_10);}this.render.innerHTML=this.options.escape?this.formatter.format($W._B._encode(_10+"")):this.formatter.format(_10);this.modelControl.setData(_f);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ah.prototype.getValue=function(){["WebSquare.uiplugin.span.getValue"];try{var ret=this.options.escape?$W._B._decode(this.options.label):this.options.label;return ret;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ah.prototype.getFormatValue=function(){["WebSquare.uiplugin.span.getFormatValue"];try{return this.options.escape?this.formatter.format($W._B._decode(this.options.label)):this.formatter.format(this.options.label);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ah.prototype.setDisplayFormat=function(_12){["WebSquare.uiplugin.span.setDisplayFormat"];try{this.options.displayFormat=_12;this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.setValue(this.options.label);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ah.prototype.setDisplayFormatter=function(_13){["WebSquare.uiplugin.span.prototype.setDisplayFormatter "];try{this.options.displayFormatter=_13;this.formatter=$W._C.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.setValue(this.options.label);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ah.prototype.getDataType=function(){["WebSquare.uiplugin.span.prototype.getDataType "];try{return this.options.dataType;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ah.prototype.addClass=function(){["WebSquare.uiplugin.span.addClass"];try{$W._n.prototype.addClass.apply(this,arguments);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ah.prototype.removeClass=function(){["WebSquare.uiplugin.span.removeClass"];try{$W._n.prototype.removeClass.apply(this,arguments);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ah.prototype.changeClass=function(){["WebSquare.uiplugin.span.changeClass"];try{$W._n.prototype.changeClass.apply(this,arguments);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ah.prototype.toggleClass=function(){["WebSquare.uiplugin.span.toggleClass"];try{$W._n.prototype.toggleClass.apply(this,arguments);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.ah.prototype.getAttributeNode=function(_14){["WebSquare.uiplugin.span.getAttributeNode"];try{return $W._t.attributes.getAttributeNode.call(this,_14);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ah.prototype.setAttributeNode=function(_15,_16){["WebSquare.uiplugin.span.setAttributeNode"];try{$W._t.attributes.setAttributeNode.call(this,_15,_16);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ah.prototype.removeAttributeNode=function(_17){["WebSquare.uiplugin.span.removeAttributeNode"];try{$W._t.attributes.removeAttributeNode.call(this,_17);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ah.prototype.setRef=function(ref){["WebSquare.uiplugin.span.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.span=$W._a.ah;requires("externalJS/underscore/underscore-min.js");$W._a._e=function(id,_2,_3){["WebSquare.uiplugin.pivotTable"];if(!$W._a._e.isImported){requires("externalJS/jquery/jquery-ui-1.9.2.custom.min.js");requires("uiplugin/pivotTable/pivot_min.js");requires("uiplugin/pivotTable/pivot_ko.js");$W._a._e.isImported=true;}$W._t.call(this,id,_2,_3);};$W.extend($W._a._e.prototype,$W._t.prototype);$W._a._e.prototype.defaultOptions={pluginType:"uiplugin.pivotTable",pluginName:"pivotTable",useConfig:true,userEvents:["onrefresh"],dataList:"",rows:"",cols:"",vals:"",defaultAggregator:"Sum",valuesAxis:"row",sortFunction:"",numberFormatter:"",rendererOptions:"",refreshOptions:false,renderMode:"full"};$W._a._e.prototype.initialize=function(_4){["WebSquare.uiplugin.pivotTable.prototype.initialize"];try{this.columnInfoList=[];this.seperator=",";this.pivotLanguage="ko";var _5="fieldInfo";var _6="field";var _7=$W._B.getElementsByTagName(_4,_5,$W._N._XML_NAMESPACE.W2)[0];var _8=$W._B.getElementsByTagName(_7,_6,$W._N._XML_NAMESPACE.W2);for(var j=0;j<_8.length;j++){var _a=_8[j];var _b={};for(var k=0;k<_a.attributes.length;k++){if($W.nodeValueDeprecated){_b[_a.attributes[k].name]=_a.attributes[k].value;}else{_b[_a.attributes[k].nodeName]=_a.attributes[k].nodeValue;}}if(_b.sortOrder!=undefined){_b.sortOrder=_b.sortOrder.split(this.seperator);}this.columnInfoList.push(_b);}this._dataList=null;}catch(e){$W.exception.printStackTrace(e);}};$W._a._e.prototype.toHTML=function(){["WebSquare.uiplugin.pivotTable.toHTML"];try{var _d=[];var _e=(this.options.style=="")?"":"style='"+this.options.style+"'";_d.push("<div id='"+this.id+"' "+_e+" class='w2pivotTable "+this.options.className+"'>");_d.push("</div>");return _d.join("");}catch(e){$W.exception.printStackTrace(e);}};$W._a._e.prototype.setAction=function(){["WebSquare.uiplugin.pivotTable.prototype.setAction"];try{this.refreshItemset();}catch(e){$W.exception.printStackTrace(e);}};$W._a._e.prototype.refreshItemset=function(_f){["WebSquare.uiplugin.pivotTable.prototype.refresh"];try{var _10=$W._j.comp[this.options.dataList];if(this._dataList==null&&_10!=null){this._dataList=_10;this._dataList.addChild(this);this.modelControl.isDataCollectionItemsetBinded=true;this.modelControl.useItemset=true;}var _11=[];var _12=(_10.options.depthColumn)?_10.getTotalRow():_10.filteredRowIndexArr.length;var _13=_10.cellIdList.length;for(var i=0;i<_12;i++){var _15={};var _16=(_10.options.depthColumn)?i:_10.filteredRowIndexArr[i];for(var j=0;j<_10.cellIdList.length;j++){var _18=_10.getCellInfo(j);if(_18){if(_18.options.inputType=="expression"){_15[_18.id]=_18.getExpressionValue(_16);}else{_15[_18.id]=_10.dataArr[_16*_13+j];if(_15[_18.id]==null){_15[_18.id]="";}}}}_11.push(_15);}if(_11.length>0){var _19={};var _1a={};var _1b={};var _1c={};var _1d=[];for(var i=0;i<this.columnInfoList.length;i++){var _1e=this.columnInfoList[i];_19[_1e.id]=_1e.name||_1e.id;if(_1e.aggregator){_1a[_1e.id]=_1e.aggregator;}if(_1e.exclusions){_1b[_1e.id]=_1e.exclusions.split(this.seperator);}_1c[_1e.id]=i;_1d.push(_1e.id);}var _1f=this.id;var _20={"rows":this.options.rows.split(this.seperator),"cols":this.options.cols.split(this.seperator),"vals":this.options.vals.split(this.seperator),"valuesAxis":this.options.valuesAxis,"aggregatorName":this.options.defaultAggregator,"aggregatorList":_1a,"exclusions":_1b,"attributeLabels":_19,"numberFormat":$W._G.getGlobalFunction(this.options.numberFormatter),"onRefresh":function(_21){$W._c.fireEvent($W._G.getComponentById(_1f),"onrefresh",_21);},"sorters":$W._G.getGlobalFunction(this.options.sortFunction)||function(_22){var _23=_1c[_22];var _24=$W._G.getComponentById(_1f);if(_24!=null&&_23!=undefined&&_24.columnInfoList[_23].sortOrder!=undefined){return $.pivotUtilities.sortAs(_24.columnInfoList[_23].sortOrder);}}};if(this.options.unusedAttrsVertical&&this.options.unusedAttrsVertical==="true"){_20.unusedAttrsVertical=true;}if(this.options.rendererOptions!==""){try{eval("var obfuscator_rendererOptions="+this.options.rendererOptions);if(typeof obfuscator_rendererOptions!=="undefined"){_20.rendererOptions=obfuscator_rendererOptions;}}catch(e){$W.exception.printStackTrace(e);}}if(this.options.renderMode=="compact"){$("#"+this.id).pivot(_11,_20,_f||this.options.refreshOptions,this.pivotLanguage);}else{$("#"+this.id).pivotUI(_11,_20,_f||this.options.refreshOptions,this.pivotLanguage);}}else{}}catch(e){$W.exception.printStackTrace(e);}};$W._a._e.prototype.setOption=function(_25){["WebSquare.uiplugin.pivotTable.prototype.setOption"];try{for(var _26 in _25){this.options[_26]=_25[_26];}this.refreshItemset(true);}catch(e){$W.exception.printStackTrace(e);}};$W._a._e.prototype.getOption=function(){["WebSquare.uiplugin.pivotTable.prototype.getOption"];try{return $W.extend({},this.options);}catch(e){$W.exception.printStackTrace(e);}};$W._a._e.prototype.setRows=function(_27){["WebSquare.uiplugin.pivotTable.prototype.setRows"];try{if(typeof _27==="string"){this.options.rows=_27;this.refreshItemset(true);}}catch(e){$W.exception.printStackTrace(e);}};$W._a._e.prototype.setCols=function(_28){["WebSquare.uiplugin.pivotTable.prototype.setCols"];try{if(typeof _28==="string"){this.options.cols=_28;this.refreshItemset(true);}}catch(e){$W.exception.printStackTrace(e);}};$W._a._e.prototype.setVals=function(_29){["WebSquare.uiplugin.pivotTable.prototype.setVals"];try{if(typeof _29==="string"){this.options.vals=_29;this.refreshItemset(true);}}catch(e){$W.exception.printStackTrace(e);}};$W._a._e.prototype.finalize=function(){["WebSquare.uiplugin.pivotTable.prototype.finalize"];try{if(this._dataList!=null){this._dataList.removeChild(this.id);}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.pivotTable=$W._a._e;$W._a.aq=function(id,_2,_3){["WebSquare.uiplugin.fwFunnelChart"];$W._t.call(this,id,_2,_3);if(typeof FusionCharts=="undefined"){imports("externalJS/FusionCharts3.7/FusionCharts_all.js");}};$W.extend($W._a.aq.prototype,$W._t.prototype);$W._a.aq.prototype.defaultOptions={pluginType:"uiplugin.fwFunnelChart",pluginName:"fwFunnelChart",useConfig:true,accessibility:false,seriesType:"advanced",plotColor:"2ec6c8,b5a1dd,5ab0ee,f4984e,d77a80,90bddc,fe5d55,b5dc59,9ea7b3,00ba84,878bb6,757a85"};$W._a.aq.prototype.initialize=function(_4){this.fcObj=null;this.chartObj={};this.attributeObj=null;this.plotColorObj=null;};$W._a.aq.prototype.toHTML=function(){["WebSquare.uiplugin.fwFunnelChart.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2fwFunnelChart "+this.options.className+"'>");_5.push("</div>");return _5.join("");};$W._a.aq.prototype.setAction=function(){try{this.fcObj=new FusionCharts("funnel","fw_funnel_"+this.id,"100%",this.render.offsetHeight);this.setDefaultOption();if(this.modelControl.isDataCollectionRefBinded){var _7=this.modelControl.dataCollectionRefInfo.dataComp;if((this.options.seriesType).toLowerCase()=="simple"){if(_7.getRowCount()>0){var _8=_7.getFusionChartSimpleData("funnel",this.options.labelNode,this.options.seriesNode,this.options.valueNode);if(_8){this.setJSONData(_8);}else{$W.logger.printLog(this.id+" : Simple seriesType does not support");}}}else{if(_7.getRowCount()>0){var _8=_7.getFusionChartData("funnel",this.options.labelNode,this.options.seriesColumns);if(_8){this.setJSONData(_8);}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aq.prototype.refresh=function(){["WebSquare.uiplugin.fwFunnelChart.prototype.refresh"];try{if(this.modelControl.isDataCollectionRefBinded){var _9=this.modelControl.dataCollectionRefInfo.dataComp;if((this.options.seriesType).toLowerCase()=="simple"){var _a=_9.getFusionChartSimpleData("funnel",this.options.labelNode,this.options.seriesNode,this.options.valueNode);if(_a){this.setJSONData(_a);}else{$W.logger.printLog(this.id+" : Simple seriesType does not support");}}else{var _a=_9.getFusionChartData("funnel",this.options.labelNode,this.options.seriesColumns);if(_a){this.setJSONData(_a);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aq.prototype.setJSONData=function(_b){["WebSquare.uiplugin.fwFunnelChart.prototype.setJSONData"];try{this.chartObj=_b;var _c=this.options.plotColor.split(",");this.setPlotDefaultColor(_c);this.draw();}catch(e){$W.exception.printStackTrace(e);}};$W._a.aq.prototype.getJSONData=function(){["WebSquare.uiplugin.fwFunnelChart.prototype.getJSONData"];try{var _d=this.fcObj.getJSONData();return _d;}catch(e){$W.exception.printStackTrace(e);}};$W._a.aq.prototype.fc=function(){["WebSquare.uiplugin.fwFunnelChart.prototype.fc"];try{var _e=FusionCharts.items;var _f="fw_funnel_"+this.id;return _e[_f];}catch(e){$W.exception.printStackTrace(e);}};$W._a.aq.prototype.draw=function(){["WebSquare.uiplugin.fwFunnelChart.prototype.draw"];try{if(this.attributeObj!=null){this._setChartAttribute(this.attributeObj);}if(this.plotColorObj!=null){this._setPlotColor(this.plotColorObj);}if(this.attributeObj!=null){this.chartObj.chart=this.attributeObj;}var _10=this.fc();_10.setJSONData(this.chartObj);if(!_10.isActive()){_10.render(this.id);}if(this.options.accessibility==true){this.setAccessibility(true);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aq.prototype.setDefaultOption=function(){["WebSquare.uiplugin.fwFunnelChart.prototype.setDefaultOption"];try{var _11={"showborder":"1","animation":"1","bgcolor":"FFFFFF","canvasbgcolor":"FFFFFF","showplotborder":"0","divlinethickness":"1","canvasbordercolor":"FFFFFF","showalternatehgridcolor":"0","showvalues":"0","plotgradientcolor":"","showalternatevgridcolor":"0","divlinecolor":"b3b3b3","bordercolor":"b3b3b3","use3dlighting":"0","showshadow":"0","formatnumberscale":"0"};for(var key in _11){if(this.attributeObj&&typeof this.attributeObj[key]!="undefined"){_11[key]=this.attributeObj[key];}}this.setChartAttribute(_11);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aq.prototype.setPlotDefaultColor=function(_13){["WebSquare.uiplugin.fwFunnelChart.prototype.setPlotDefaultColor"];try{var _14=this.chartObj;if(_14.dataset!=undefined){for(var i=0;i<_14.dataset.length;i++){if(i>=_13.length){break;}_14.dataset[i].color=_13[i];}}else{if(_14.data!=undefined){for(var j=0;j<_14.data.length;j++){if(j>=_13.length){break;}_14.data[j].color=_13[j];}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aq.prototype.setChartAttribute=function(_17){["WebSquare.uiplugin.fwFunnelChart.prototype.setChartAttribute"];try{if(this.attributeObj==null){this.attributeObj={};}for(var key in _17){if(_17.hasOwnProperty(key)){this.attributeObj[key.toLowerCase()]=_17[key];}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aq.prototype._setChartAttribute=function(_19){["WebSquare.uiplugin.fwFunnelChart.prototype._setChartAttribute"];try{this.chartObj.chart=_19;}catch(e){$W.exception.printStackTrace(e);}};$W._a.aq.prototype.setPlotColor=function(_1a){["WebSquare.uiplugin.fwFunnelChart.prototype.setplotColor"];try{this.plotColorObj=_1a;}catch(e){$W.exception.printStackTrace(e);}};$W._a.aq.prototype._setPlotColor=function(_1b){["WebSquare.uiplugin.fwFunnelChart.prototype._setplotColor"];try{var _1c=this.chartObj;if(_1c.dataset!=undefined){for(var j=0;j<_1c.dataset.length;j++){if(j>=_1b.length){break;}_1c.dataset[j].color=_1b[j];}}else{if(_1c.data!=undefined){for(var j=0;j<_1c.data.length;j++){if(j>=_1b.length){break;}_1c.data[j].color=_1b[j];}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aq.prototype.getChartAttribute=function(_1e){["WebSquare.uiplugin.fwFunnelChart.prototype.getChartAttribute"];try{return FusionCharts.items["fw_funnel_"+this.id].getChartAttribute(_1e);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aq.prototype.setChartColumnRef=function(ref,_20,_21){["WebSquare.uiplugin.fwFunnelChart.prototype.setChartColumnRef"];try{ref=($W._G.isNull(ref))?this.options.ref:ref;_20=($W._G.isNull(_20))?this.options.labelNode:_20;_21=($W._G.isNull(_21))?this.options.seriesColumns:_21;if(this.options.ref!=ref){if(this.options.ref!=""){this.modelControl.dataCollectionRefInfo.dataComp.removeChild(this.id);}var _22=ref.replace("data:","");$w.data[_22].addChild($W._G.getComponentById(this.id));}this.options.ref=ref;this.options.labelNode=_20;this.options.seriesColumns=_21;this.modelControl.useRef=true;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.aq.prototype.setChartColumnSimpleRef=function(ref,_24,_25,_26){["WebSquare.uiplugin.fwFunnelChart.prototype.setChartColumnSimpleRef"];try{ref=($W._G.isNull(ref))?this.options.ref:ref;_24=($W._G.isNull(_24))?this.options.labelNode:_24;_25=($W._G.isNull(_25))?this.options.seriesNode:_25;_26=($W._G.isNull(_26))?this.options.valueNode:_26;if(this.options.ref!=ref){if(this.options.ref!=""){var _27=this.options.ref.replace("data:","");this.modelControl.dataCollectionRefInfo.dataComp.removeChild(this.id);}var _28=ref.replace("data:","");$w.data[_28].addChild($W._G.getComponentById(this.id));}this.options.ref=ref;this.options.labelNode=_24;this.options.seriesNode=_25;this.options.valueNode=_26;this.modelControl.useRef=true;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.aq.prototype.exportJSChart=function(_29){["WebSquare.uiplugin.fwFunnelChart.exportJSChart"];try{if(!_29){_29="jpg";}var _2a=this.options.id||"fusionChart";var _2b=this.fc().getSVGString();if(_2b){_2b=_2b.wq_replaceAll("shape-rendering=\"default\"","shape-rendering='auto'");_2b=_2b.wq_replaceAll("visibility=\"\"","visibility='inherit'");_2b=_2b.wq_replaceAll("text-anchor=\"undefined\"","text-anchor='start'");_2b=_2b.wq_replaceAll("1e-006","0.000001");_2b=_2b.wq_replaceAll("font-family=\"15\"","font-family=\"Verdana\"");var _2c=encodeURI(_2b+"ExportType="+_29+"ExportFileName="+_2a);$W._N.download("engine/servlet/exportFusionChart.jsp",_2c,"post");}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aq.prototype.setAccessibility=function(_2d){["WebSquare.uiplugin.fwFunnelChart.setAccessibility"];try{if(_2d==true){var _2e="";var _2f="";if(document.getElementById("accessibility_"+this.id)==null){var div=this.render;var ul=document.createElement("ul");ul.id="accessibility_"+this.id;$W._H.addClass(ul,"w2fusionchart_accessibility");var _32=this.chartObj;var _33=this.attributeObj.caption;var _34=document.createElement("li");if(_33){_34.innerHTML="title : "+_33;ul.appendChild(_34);}for(var i=0;i<_32.data.length;i++){var li=document.createElement("li");if(_32.data[i]){_2e=_32.data[i].label?_32.data[i].label:_32.data[i].LABEL;_2f=_32.data[i].value?_32.data[i].value:_32.data[i].VALUE;}else{_2e="";_2f="";}li.innerHTML="label : "+_2e+", value : "+_2f;ul.appendChild(li);}div.insertBefore(ul,div.lastChild);}else{var ul=document.getElementById("accessibility_"+this.id);ul.innerHTML="";var _32=this.chartObj;var _33=this.attributeObj.caption;var _34=document.createElement("li");if(_33){_34.innerHTML="title : "+_33;ul.appendChild(_34);}for(var i=0;i<_32.data.length;i++){var li=document.createElement("li");if(_32.data[i]){_2e=_32.data[i].label?_32.data[i].label:_32.data[i].LABEL;_2f=_32.data[i].value?_32.data[i].value:_32.data[i].VALUE;}else{_2e="";_2f="";}li.innerHTML="label : "+_2e+", value : "+_2f;ul.appendChild(li);}}}else{var _37=this.render;var _38=_37.getElementsByClassName("w2fusionchart_accessibility");if(_38!=null&&_38.length!=0){_38=_38[0];_37.removeChild(_38);}_37=null;_38=null;}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.fwFunnelChart=$W._a.aq;$W._a.ae=function(id,_2,_3){["WebSquare.uiplugin.fwPyramidChart"];$W._t.call(this,id,_2,_3);if(typeof FusionCharts=="undefined"){imports("externalJS/FusionCharts3.7/FusionCharts_all.js");}};$W.extend($W._a.ae.prototype,$W._t.prototype);$W._a.ae.prototype.defaultOptions={pluginType:"uiplugin.fwPyramidChart",pluginName:"fwPyramidChart",useConfig:true,accessibility:false,seriesType:"advanced",plotColor:"2ec6c8,b5a1dd,5ab0ee,f4984e,d77a80,90bddc,fe5d55,b5dc59,9ea7b3,00ba84,878bb6,757a85"};$W._a.ae.prototype.initialize=function(_4){this.fcObj=null;this.chartObj={};this.attributeObj=null;this.plotColorObj=null;};$W._a.ae.prototype.toHTML=function(){["WebSquare.uiplugin.fwPyramidChart.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2fwPyramidChart "+this.options.className+"'>");_5.push("</div>");return _5.join("");};$W._a.ae.prototype.setAction=function(){try{this.fcObj=new FusionCharts("pyramid","fw_pyramid_"+this.id,"100%",this.render.offsetHeight);this.setDefaultOption();if(this.modelControl.isDataCollectionRefBinded){var _7=this.modelControl.dataCollectionRefInfo.dataComp;if((this.options.seriesType).toLowerCase()=="simple"){if(_7.getRowCount()>0){var _8=_7.getFusionChartSimpleData("pyramid",this.options.labelNode,this.options.seriesNode,this.options.valueNode);if(_8){this.setJSONData(_8);}else{$W.logger.printLog(this.id+" : Simple seriesType does not support");}}}else{if(_7.getRowCount()>0){var _8=_7.getFusionChartData("pyramid",this.options.labelNode,this.options.seriesColumns);if(_8){this.setJSONData(_8);}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ae.prototype.refresh=function(){["WebSquare.uiplugin.fwPyramidChart.prototype.refresh"];try{if(this.modelControl.isDataCollectionRefBinded){var _9=this.modelControl.dataCollectionRefInfo.dataComp;if((this.options.seriesType).toLowerCase()=="simple"){var _a=_9.getFusionChartSimpleData("pyramid",this.options.labelNode,this.options.seriesNode,this.options.valueNode);if(_a){this.setJSONData(_a);}else{$W.logger.printLog(this.id+" : Simple seriesType does not support");}}else{var _a=_9.getFusionChartData("pyramid",this.options.labelNode,this.options.seriesColumns);if(_a){this.setJSONData(_a);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ae.prototype.setJSONData=function(_b){["WebSquare.uiplugin.fwPyramidChart.prototype.setJSONData"];try{this.chartObj=_b;var _c=this.options.plotColor.split(",");this.setPlotDefaultColor(_c);this.draw();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ae.prototype.getJSONData=function(){["WebSquare.uiplugin.fwPyramidChart.prototype.getJSONData"];try{var _d=this.fcObj.getJSONData();return _d;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ae.prototype.fc=function(){["WebSquare.uiplugin.fwPyramidChart.prototype.fc"];try{var _e=FusionCharts.items;var _f="fw_pyramid_"+this.id;return _e[_f];}catch(e){$W.exception.printStackTrace(e);}};$W._a.ae.prototype.draw=function(){["WebSquare.uiplugin.fwPyramidChart.prototype.draw"];try{if(this.attributeObj!=null){this._setChartAttribute(this.attributeObj);}if(this.plotColorObj!=null){this._setPlotColor(this.plotColorObj);}if(this.attributeObj!=null){this.chartObj.chart=this.attributeObj;}var _10=this.fc();_10.setJSONData(this.chartObj);if(!_10.isActive()){_10.render(this.id);}if(this.options.accessibility==true){this.setAccessibility(true);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ae.prototype.setDefaultOption=function(){["WebSquare.uiplugin.fwPyramidChart.prototype.setDefaultOption"];try{var _11={"showborder":"1","animation":"1","bgcolor":"FFFFFF","canvasbgcolor":"FFFFFF","showplotborder":"0","divlinethickness":"1","canvasbordercolor":"FFFFFF","showalternatehgridcolor":"0","showvalues":"0","plotgradientcolor":"","showalternatevgridcolor":"0","divlinecolor":"b3b3b3","bordercolor":"b3b3b3","use3dlighting":"0","showshadow":"0","formatnumberscale":"0"};for(var key in _11){if(this.attributeObj&&typeof this.attributeObj[key]!="undefined"){_11[key]=this.attributeObj[key];}}this.setChartAttribute(_11);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ae.prototype.setPlotDefaultColor=function(_13){["WebSquare.uiplugin.fwPyramidChart.prototype.setPlotDefaultColor"];try{var _14=this.chartObj;if(_14.dataset!=undefined){for(var i=0;i<_14.dataset.length;i++){if(i>=_13.length){break;}_14.dataset[i].color=_13[i];}}else{if(_14.data!=undefined){for(var j=0;j<_14.data.length;j++){if(j>=_13.length){break;}_14.data[j].color=_13[j];}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ae.prototype.setChartAttribute=function(_17){["WebSquare.uiplugin.fwPyramidChart.prototype.setChartAttribute"];try{if(this.attributeObj==null){this.attributeObj={};}for(var key in _17){if(_17.hasOwnProperty(key)){this.attributeObj[key.toLowerCase()]=_17[key];}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ae.prototype._setChartAttribute=function(_19){["WebSquare.uiplugin.fwPyramidChart.prototype._setChartAttribute"];try{this.chartObj.chart=_19;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ae.prototype.setPlotColor=function(_1a){["WebSquare.uiplugin.fwPyramidChart.prototype.setplotColor"];try{this.plotColorObj=_1a;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ae.prototype._setPlotColor=function(_1b){["WebSquare.uiplugin.fwPyramidChart.prototype._setplotColor"];try{var _1c=this.chartObj;if(_1c.dataset!=undefined){for(var j=0;j<_1c.dataset.length;j++){if(j>=_1b.length){break;}_1c.dataset[j].color=_1b[j];}}else{if(_1c.data!=undefined){for(var j=0;j<_1c.data.length;j++){if(j>=_1b.length){break;}_1c.data[j].color=_1b[j];}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ae.prototype.getChartAttribute=function(_1e){["WebSquare.uiplugin.fwPyramidChart.prototype.getChartAttribute"];try{return FusionCharts.items["fw_pyramid_"+this.id].getChartAttribute(_1e);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ae.prototype.setChartColumnRef=function(ref,_20,_21){["WebSquare.uiplugin.fwPyramidChart.prototype.setChartColumnRef"];try{ref=($W._G.isNull(ref))?this.options.ref:ref;_20=($W._G.isNull(_20))?this.options.labelNode:_20;_21=($W._G.isNull(_21))?this.options.seriesColumns:_21;if(this.options.ref!=ref){if(this.options.ref!=""){this.modelControl.dataCollectionRefInfo.dataComp.removeChild(this.id);}var _22=ref.replace("data:","");$w.data[_22].addChild($W._G.getComponentById(this.id));}this.options.ref=ref;this.options.labelNode=_20;this.options.seriesColumns=_21;this.modelControl.useRef=true;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ae.prototype.setChartColumnSimpleRef=function(ref,_24,_25,_26){["WebSquare.uiplugin.fwPyramidChart.prototype.setChartColumnSimpleRef"];try{ref=($W._G.isNull(ref))?this.options.ref:ref;_24=($W._G.isNull(_24))?this.options.labelNode:_24;_25=($W._G.isNull(_25))?this.options.seriesNode:_25;_26=($W._G.isNull(_26))?this.options.valueNode:_26;if(this.options.ref!=ref){if(this.options.ref!=""){var _27=this.options.ref.replace("data:","");this.modelControl.dataCollectionRefInfo.dataComp.removeChild(this.id);}var _28=ref.replace("data:","");$w.data[_28].addChild($W._G.getComponentById(this.id));}this.options.ref=ref;this.options.labelNode=_24;this.options.seriesNode=_25;this.options.valueNode=_26;this.modelControl.useRef=true;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ae.prototype.exportJSChart=function(_29){["WebSquare.uiplugin.fwPyramidChart.exportJSChart"];try{if(!_29){_29="jpg";}var _2a=this.options.id||"fusionChart";var _2b=this.fc().getSVGString();if(_2b){_2b=_2b.wq_replaceAll("shape-rendering=\"default\"","shape-rendering='auto'");_2b=_2b.wq_replaceAll("visibility=\"\"","visibility='inherit'");_2b=_2b.wq_replaceAll("text-anchor=\"undefined\"","text-anchor='start'");_2b=_2b.wq_replaceAll("1e-006","0.000001");_2b=_2b.wq_replaceAll("font-family=\"15\"","font-family=\"Verdana\"");var _2c=encodeURI(_2b+"ExportType="+_29+"ExportFileName="+_2a);$W._N.download("engine/servlet/exportFusionChart.jsp",_2c,"post");}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ae.prototype.setAccessibility=function(_2d){["WebSquare.uiplugin.fwPyramidChart.setAccessibility"];try{if(_2d==true){var _2e="";var _2f="";if(document.getElementById("accessibility_"+this.id)==null){var div=this.render;var ul=document.createElement("ul");ul.id="accessibility_"+this.id;$W._H.addClass(ul,"w2fusionchart_accessibility");var _32=this.chartObj;var _33=this.attributeObj.caption;var _34=document.createElement("li");if(_33){_34.innerHTML="title : "+_33;ul.appendChild(_34);}for(var i=0;i<_32.data.length;i++){var li=document.createElement("li");if(_32.data[i]){_2e=_32.data[i].label?_32.data[i].label:_32.data[i].LABEL;_2f=_32.data[i].value?_32.data[i].value:_32.data[i].VALUE;}else{_2e="";_2f="";}li.innerHTML="label : "+_2e+", value : "+_2f;ul.appendChild(li);}div.insertBefore(ul,div.lastChild);}else{var ul=document.getElementById("accessibility_"+this.id);ul.innerHTML="";var _32=this.chartObj;var _33=this.attributeObj.caption;var _34=document.createElement("li");if(_33){_34.innerHTML="title : "+_33;ul.appendChild(_34);}for(var i=0;i<_32.data.length;i++){var li=document.createElement("li");if(_32.data[i]){_2e=_32.data[i].label?_32.data[i].label:_32.data[i].LABEL;_2f=_32.data[i].value?_32.data[i].value:_32.data[i].VALUE;}else{_2e="";_2f="";}li.innerHTML="label : "+_2e+", value : "+_2f;ul.appendChild(li);}}}else{var _37=this.render;var _38=_37.getElementsByClassName("w2fusionchart_accessibility");if(_38!=null&&_38.length!=0){_38=_38[0];_37.removeChild(_38);}_37=null;_38=null;}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.fwPyramidChart=$W._a.ae;$W._a.bm=function(id,_2,_3){["WebSquare.uiplugin.fwSparkChart"];$W._t.call(this,id,_2,_3);if(typeof FusionCharts=="undefined"){imports("externalJS/FusionCharts3.7/FusionCharts_all.js");}};$W.extend($W._a.bm.prototype,$W._t.prototype);$W._a.bm.prototype.defaultOptions={pluginType:"uiplugin.fwSparkChart",pluginName:"fwSparkChart",useConfig:true,accessibility:false,chartType:"sparkline",seriesType:"simple"};$W._a.bm.prototype.initialize=function(_4){this.fcObj=null;this.chartObj={};this.attributeObj=null;};$W._a.bm.prototype.toHTML=function(){["WebSquare.uiplugin.fwSparkChart.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2fwSparkChart "+this.options.className+"'>");_5.push("</div>");return _5.join("");};$W._a.bm.prototype.setAction=function(){try{this.fcObj=new FusionCharts(this.options.chartType,"fw_spark_"+this.id,"100%",this.render.offsetHeight);this.setDefaultOption();if(this.modelControl.isDataCollectionRefBinded){var _7=this.modelControl.dataCollectionRefInfo.dataComp;if((this.options.seriesType).toLowerCase()=="simple"){if(_7.getRowCount()>0){var _8=_7.getFusionChartSimpleData(this.options.chartType,this.options.labelNode,this.options.seriesNode,this.options.valueNode);if(_8){this.setJSONData(_8);}else{$W.logger.printLog(this.id+" : Simple seriesType does not support");}}}else{if(_7.getRowCount()>0){var _8=_7.getFusionChartData(this.options.chartType,this.options.labelNode,this.options.seriesColumns);if(_8){this.setJSONData(_8);}}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bm.prototype.refresh=function(){["WebSquare.uiplugin.fwSparkChart.prototype.refresh"];try{if(this.modelControl.isDataCollectionRefBinded){var _9=this.modelControl.dataCollectionRefInfo.dataComp;if((this.options.seriesType).toLowerCase()=="simple"){var _a=_9.getFusionChartSimpleData(this.options.chartType,this.options.labelNode,this.options.seriesNode,this.options.valueNode);if(_a){this.setJSONData(_a);}else{$W.logger.printLog(this.id+" : Simple seriesType does not support");}}else{var _a=_9.getFusionChartData(this.options.chartType,this.options.labelNode,this.options.seriesColumns);if(_a){this.setJSONData(_a);}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bm.prototype.setJSONData=function(_b){["WebSquare.uiplugin.fwSparkChart.prototype.setJSONData"];try{this.chartObj=_b;this.draw();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bm.prototype.getJSONData=function(){["WebSquare.uiplugin.fwSparkChart.prototype.getJSONData"];try{var _c=this.fcObj.getJSONData();return _c;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bm.prototype.fc=function(){["WebSquare.uiplugin.fwSparkChart.prototype.fc"];try{var _d=FusionCharts.items;var _e="fw_spark_"+this.id;return _d[_e];}catch(e){$W.exception.printStackTrace(e);}};$W._a.bm.prototype.draw=function(){["WebSquare.uiplugin.fwSparkChart.prototype.draw"];try{if(this.attributeObj!=null){this._setChartAttribute(this.attributeObj);}if(this.attributeObj!=null){this.chartObj.chart=this.attributeObj;}var _f=this.fc();_f.setJSONData(this.chartObj);if(!_f.isActive()){_f.render(this.id);}if(this.options.accessibility==true){this.setAccessibility(true);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bm.prototype.setDefaultOption=function(){["WebSquare.uiplugin.fwSparkChart.prototype.setDefaultOption"];try{var _10={"showborder":"1","animation":"1","bgcolor":"FFFFFF","canvasbgcolor":"FFFFFF","showplotborder":"0","divlinethickness":"1","canvasbordercolor":"FFFFFF","showalternatehgridcolor":"0","showvalues":"0","plotgradientcolor":"","showalternatevgridcolor":"0","divlinecolor":"b3b3b3","bordercolor":"b3b3b3","use3dlighting":"0","showshadow":"0","formatnumberscale":"0","plotFillColor":"#0075c2","highColor":"#1aaf5d","lowColor":"#8e0000","showHoverEffect":"1"};for(var key in _10){if(this.attributeObj&&typeof this.attributeObj[key]!="undefined"){_10[key]=this.attributeObj[key];}}this.setChartAttribute(_10);}catch(e){$W.exception.printStackTrace(e);}};$W._a.bm.prototype.setChartAttribute=function(_12){["WebSquare.uiplugin.fwSparkChart.prototype.setChartAttribute"];try{if(this.attributeObj==null){this.attributeObj={};}for(var key in _12){if(_12.hasOwnProperty(key)){this.attributeObj[key.toLowerCase()]=_12[key];}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bm.prototype._setChartAttribute=function(_14){["WebSquare.uiplugin.fwSparkChart.prototype._setChartAttribute"];try{this.chartObj.chart=_14;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bm.prototype.getChartAttribute=function(_15){["WebSquare.uiplugin.fwSparkChart.prototype.getChartAttribute"];try{return FusionCharts.items["fw_spark_"+this.id].getChartAttribute(_15);}catch(e){$W.exception.printStackTrace(e);}};$W._a.bm.prototype.setChartColumnRef=function(ref,_17,_18){["WebSquare.uiplugin.fwSparkChart.prototype.setChartColumnRef"];try{ref=($W._G.isNull(ref))?this.options.ref:ref;_17=($W._G.isNull(_17))?this.options.labelNode:_17;_18=($W._G.isNull(_18))?this.options.seriesColumns:_18;if(this.options.ref!=ref){if(this.options.ref!=""){this.modelControl.dataCollectionRefInfo.dataComp.removeChild(this.id);}var _19=ref.replace("data:","");$w.data[_19].addChild($W._G.getComponentById(this.id));}this.options.ref=ref;this.options.labelNode=_17;this.options.seriesColumns=_18;this.modelControl.useRef=true;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bm.prototype.setChartColumnSimpleRef=function(ref,_1b,_1c,_1d){["WebSquare.uiplugin.fwSparkChart.prototype.setChartColumnSimpleRef"];try{ref=($W._G.isNull(ref))?this.options.ref:ref;_1b=($W._G.isNull(_1b))?this.options.labelNode:_1b;_1c=($W._G.isNull(_1c))?this.options.seriesNode:_1c;_1d=($W._G.isNull(_1d))?this.options.valueNode:_1d;if(this.options.ref!=ref){if(this.options.ref!=""){var _1e=this.options.ref.replace("data:","");this.modelControl.dataCollectionRefInfo.dataComp.removeChild(this.id);}var _1f=ref.replace("data:","");$w.data[_1f].addChild($W._G.getComponentById(this.id));}this.options.ref=ref;this.options.labelNode=_1b;this.options.seriesNode=_1c;this.options.valueNode=_1d;this.modelControl.useRef=true;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bm.prototype.exportJSChart=function(_20){["WebSquare.uiplugin.fwSparkChart.exportJSChart"];try{if(!_20){_20="jpg";}var _21=this.options.id||"fusionChart";var _22=this.fc().getSVGString();if(_22){_22=_22.wq_replaceAll("shape-rendering=\"default\"","shape-rendering='auto'");_22=_22.wq_replaceAll("visibility=\"\"","visibility='inherit'");_22=_22.wq_replaceAll("text-anchor=\"undefined\"","text-anchor='start'");_22=_22.wq_replaceAll("1e-006","0.000001");_22=_22.wq_replaceAll("font-family=\"15\"","font-family=\"Verdana\"");var _23=encodeURI(_22+"ExportType="+_20+"ExportFileName="+_21);$W._N.download("engine/servlet/exportFusionChart.jsp",_23,"post");}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bm.prototype.setAccessibility=function(_24){["WebSquare.uiplugin.fwSparkChart.setAccessibility"];try{if(_24==true){var _25="";var _26="";if(document.getElementById("accessibility_"+this.id)==null){var div=this.render;var ul=document.createElement("ul");ul.id="accessibility_"+this.id;$W._H.addClass(ul,"w2fusionchart_accessibility");var _29=this.chartObj;var _2a=this.attributeObj.caption;var _2b=document.createElement("li");if(_2a){_2b.innerHTML="title : "+_2a;ul.appendChild(_2b);}for(var i=0;i<_29.data.length;i++){var li=document.createElement("li");if(_29.data[i]){_25=_29.data[i].label?_29.data[i].label:_29.data[i].LABEL;_26=_29.data[i].value?_29.data[i].value:_29.data[i].VALUE;}else{_25="";_26="";}li.innerHTML="label : "+_25+", value : "+_26;ul.appendChild(li);}div.insertBefore(ul,div.lastChild);}else{var ul=document.getElementById("accessibility_"+this.id);ul.innerHTML="";var _29=this.chartObj;var _2a=this.attributeObj.caption;var _2b=document.createElement("li");if(_2a){_2b.innerHTML="title : "+_2a;ul.appendChild(_2b);}for(var i=0;i<_29.data.length;i++){var li=document.createElement("li");if(_29.data[i]){_25=_29.data[i].label?_29.data[i].label:_29.data[i].LABEL;_26=_29.data[i].value?_29.data[i].value:_29.data[i].VALUE;}else{_25="";_26="";}li.innerHTML="label : "+_25+", value : "+_26;ul.appendChild(li);}}}else{var _2e=this.render;var _2f=_2e.getElementsByClassName("w2fusionchart_accessibility");if(_2f!=null&&_2f.length!=0){_2f=_2f[0];_2e.removeChild(_2f);}_2e=null;_2f=null;}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.fwSparkChart=$W._a.bm;$W._a.bg=function(id,_2,_3){["WebSquare.uiplugin.fwGaugeChart"];$W._t.call(this,id,_2,_3);if(typeof FusionCharts=="undefined"){imports("externalJS/FusionCharts3.7/FusionCharts_all.js");}};$W.extend($W._a.bg.prototype,$W._t.prototype);$W._a.bg.prototype.defaultOptions={pluginType:"uiplugin.fwGaugeChart",pluginName:"fwGaugeChart",useConfig:true,chartType:"",realtime:false,refreshInterval:0,dataStreamUrl:""};$W._a.bg.prototype.initialize=function(_4){this.fcObj=null;this.chartObj={};this.attributeObj=null;this.colorrange=null;this.dials=null;this.pointers=null;this.annotations=null;this.trendpoints=null;this.value=null;this.streamFlag=0;this.intervals=null;this.updateDataFunc=null;};$W._a.bg.prototype.toHTML=function(){["WebSquare.uiplugin.fwGaugeChart.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2fwGaugeChart "+this.options.className+"'>");_5.push("</div>");return _5.join("");};$W._a.bg.prototype.setAction=function(){try{this.setDefaultOption();var _7=this;if(this.modelControl.isDataCollectionRefBinded){var _8=this.modelControl.dataCollectionRefInfo.dataComp;}if(this.options.realtime){if(_8){this.fcObj=new FusionCharts({"id":"fw_gauge_"+_7.id,"type":_7.options.chartType,"renderAt":_7.id,"width":"100%","height":_7.render.offsetHeight,"events":{"drawComplete":function(){_7._feedData();}}});this.draw();}else{this.fcObj=new FusionCharts({"id":"fw_gauge_"+_7.id,"type":_7.options.chartType,"renderAt":_7.id,"width":"100%","height":_7.render.offsetHeight});if(this.options.dataStreamUrl&&this.options.refreshInterval){this.attributeObj.datastreamurl=this.options.dataStreamUrl;this.attributeObj.refreshInterval=this.options.refreshInterval;}this.draw();}}else{this.fcObj=new FusionCharts({"id":"fw_gauge_"+_7.id,"type":_7.options.chartType,"renderAt":_7.id,"width":"100%","height":_7.render.offsetHeight});if(this.modelControl.isDataCollectionRefBinded){if(_8.initializeType=="dataMap"){var _9=_8.get(this.options.valueNode);this.setValue(_9);}else{var _a=_8.rowPosition;_a=_a?_a:0;var _b=this.options.valueNode;this.setValue(_8.getCellData(_a,_b));}}else{this.draw();}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype.refresh=function(){["WebSquare.uiplugin.fwGaugeChart.prototype.refresh"];try{if(this.modelControl.isDataCollectionRefBinded&&!this.options.realtime){var _c=this.modelControl.dataCollectionRefInfo.dataComp;if(_c.initializeType=="dataMap"){var _d=_c.get(this.options.valueNode);this.setValue(_d);}else{var _e=_c.rowPosition;_e=_e?_e:0;var _f=this.options.valueNode;this.setValue(_c.getCellData(_e,_f));}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype._feedData=function(){["WebSquare.uiplugin.fwGaugeChart.prototype._feedData"];try{var _10=this;$w.setInterval(function(){var _11=_10.modelControl.dataCollectionRefInfo.dataComp;var _12=_11.getAllData();if(_10.streamFlag>=_12.length){$w.executeSubmission(this.options.submissionId);_10.streamFlag=0;}var _13=FusionCharts("fw_gauge_"+_10.id);var _14="value="+_12[_10.streamFlag];_10.streamFlag++;_13.feedData(_14);},{caller:this,delay:(this.options.refreshInterval*1000),key:(this.id+"_interval")});}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype.setJSONData=function(_15){["WebSquare.uiplugin.fwGaugeChart.prototype.setJSONData"];try{this.chartObj=_15;this.draw();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype.getJSONData=function(){["WebSquare.uiplugin.fwGaugeChart.prototype.getJSONData"];try{var _16=this.fcObj.getJSONData();return _16;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype.fc=function(){["WebSquare.uiplugin.fwGaugeChart.prototype.fc"];try{var _17=FusionCharts.items;var _18="fw_gauge_"+this.id;return _17[_18];}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype.draw=function(){["WebSquare.uiplugin.fwGaugeChart.prototype.draw"];try{if(this.attributeObj!=null){this._setChartAttribute(this.attributeObj);}if(this.colorrange!=null){this.chartObj.colorrange=this.colorrange;}if(this.annotations!=null){this.chartObj.annotations=this.annotations;}if(this.dials!=null){this.chartObj.dials=this.dials;}if(this.value!=null){this.chartObj.value=this.value;}var _19=this.fc();_19.setJSONData(this.chartObj);if(!_19.isActive()){_19.render(this.id);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype.setDefaultOption=function(){["WebSquare.uiplugin.fwGaugeChart.prototype.setDefaultOption"];try{this._angulargauge=function(){this.attributeObj={"manageresize":"1","origw":"350","origh":"200","bgalpha":"0","bgcolor":"FFFFFF","lowerlimit":"0","upperlimit":"100","showborder":"0","basefontcolor":"000000","tooltipbgcolor":"ffffff","pivotradius":"8","gaugeouterradius":"120","gaugeinnerradius":"70%","gaugeoriginx":"175","gaugeoriginy":"170","trendvaluedistance":"5","tickvaluedistance":"3","managevalueoverlapping":"1","autoaligntickvalues":"1"};this.colorrange={"color":[{"minvalue":"0","maxvalue":"45","code":"#fe5d55"},{"minvalue":"45","maxvalue":"80","code":"#f4c74e"},{"minvalue":"80","maxvalue":"100","code":"#00ba84"}]};if(this.dials==null){this.dials={"dial":[{"value":"0"}]};}};this._bulb=function(){this.attributeObj={"manageresize":"1","decimals":"0","placevaluesinside":"1","is3d":"0","bordercolor":"638400","bgcolor":"FFFFFF","usecolornameasvalue":"1","showborder":"0"};this.colorrange={"color":[{"minvalue":"0","maxvalue":"50","name":"Normal","code":"99CC00"},{"minvalue":"50","maxvalue":"75","name":"Warning","code":"FFFF00"},{"minvalue":"75","maxvalue":"100","name":"Danger","code":"FF0000"}]};if(this.value==null){this.value=0;}};this._cylinder=function(){this.attributeObj={"manageresize":"1","bgcolor":"FFFFFF","bgalpha":"0","showborder":"0","lowerlimit":"0","upperlimit":"100","showtickmarks":"0","showtickvalues":"0","showlimits":"0","numbersuffix":"%","decmials":"0","cylfillcolor":"CC0000","basefontcolor":"CC0000","chartleftmargin":"15","chartrightmargin":"15","charttopmargin":"15"};this.annotations={"groups":[{"showbelow":"1","items":[{"type":"rectangle","x":"$chartStartX+1","y":"$chartStartY+1","tox":"$chartEndX-1","toy":"$chartEndY-1","color":"FFFFFF","alpha":"100","showborder":"0","bordercolor":"CC0000","borderthickness":"2","radius":"10"}]}]};if(this.value==null){this.value=0;}};this._hled=function(){this.attributeObj={"manageresize":"1","chartbottommargin":"5","lowerlimit":"0","upperlimit":"100","lowerlimitdisplay":"Low","upperlimitdisplay":"High","numbersuffix":"%","showtickmarks":"1","tickvaluedistance":"0","majortmnumber":"5","majortmheight":"4","minortmnumber":"0","showtickvalues":"1","decimals":"0","ledgap":"1","ledsize":"1","ledboxbgcolor":"333333","ledbordercolor":"666666","borderthickness":"2","chartrightmargin":"20","showborder":"0"};this.colorrange={"color":[{"minvalue":"0","maxvalue":"30","code":"FF0000"},{"minvalue":"30","maxvalue":"50","code":"FFFF00"},{"minvalue":"50","maxvalue":"100","code":"00FF00"}]};if(this.value==null){this.value=0;}};this._hlineargauge=function(){this.attributeObj={"bgColor":"#ffffff","showBorder":"0","lowerLimit":"0","upperLimit":"100","valueAbovePointer":"0","showShadow":"0","gaugeFillMix":"{light}","valueBgColor":"#ffffff","valueBgAlpha":"60","valueFontColor":"#000000","pointerBgColor":"#ffffff","pointerBgAlpha":"50","baseFontColor":"#ffffff"};this.colorrange={"color":[{"minValue":"0","maxValue":"35","label":"Low","code":"#1aaf5d"},{"minValue":"35","maxValue":"70","label":"Moderate","code":"#f2c500"},{"minValue":"70","maxValue":"100","label":"High","code":"#c02d00"}]};if(this.pointers==null){this.pointers={"pointer":[{"value":"0"}]};}if(this.value==null){this.value=0;}};this._thermometer=function(){this.attributeObj={"manageresize":"1","palette":"3","bgcolor":"FFFFFF","bgalpha":"0","showborder":"0","lowerlimit":"0","upperlimit":"100","lowerlimitdisplay":"Low","upperlimitdisplay":"High","numbersuffix":"%","majortmheight":"4","minortmnumber":"5","usesamefillcolor":"0","showtickvalues":"1","decmials":"0","charttopmargin":"25","chartleftmargin":"20","chartbottommargin":"20","thmbulbradius":"20","datastreamurl":"","refreshinterval":"4","gaugeoriginx":"40"};this.annotations={"groups":[{"id":"Grp1","showbelow":"1","items":[{"type":"rectangle","x":"$chartStartX+8","y":"$chartStartY","tox":"$chartEndX","toy":"$chartEndY","radius":"10","fillcolor":"AEC0CA, 333333, AEC0CA","fillangle":"90"},{"type":"rectangle","x":"$chartStartX+13","y":"$chartStartY+5","tox":"$chartEndX-5","toy":"$chartEndY-5","radius":"10","fillcolor":"333333, C3D0D8, 333333","fillangle":"90"},{"type":"rectangle","x":"$chartStartX+18","y":"$chartStartY+10","tox":"$chartEndX-10","toy":"$chartEndY-10","radius":"10","fillcolor":"C4D5DC, A3A5A4","fillangle":"180"}]}]};if(this.value==null){this.value=0;}};this._vled=function(){this.attributeObj={"lowerLimit":"0","upperLimit":"100","showValue":"0","showBorder":"0","showShadow":"0","tickMarkDistance":"5","alignCaptionWithCanvas":"1","captionAlignment":"center","bgcolor":"#ffffff"};this.colorrange={"color":[{"minValue":"0","maxValue":"45","code":"#8e0000"},{"minValue":"45","maxValue":"75","code":"#f2c500"},{"minValue":"75","maxValue":"100","code":"#1aaf5d"}]};if(this.value==null){this.value=0;}};switch(this.options.chartType.toLowerCase()){case "angulargauge":this._angulargauge();break;case "bulb":this._bulb();break;case "cylinder":this._cylinder();break;case "hled":this._hled();break;case "hlineargauge":this._hlineargauge();break;case "thermometer":this._thermometer();break;case "vled":this._vled();break;default:this._angulargauge();break;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype.setChartAttribute=function(_1a){["WebSquare.uiplugin.fwGaugeChart.prototype.setChartAttribute"];try{if(this.attributeObj==null){this.attributeObj={};}for(var key in _1a){if(_1a.hasOwnProperty(key)){this.attributeObj[key.toLowerCase()]=_1a[key];}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype._setChartAttribute=function(_1c){["WebSquare.uiplugin.fwGaugeChart.prototype._setChartAttribute"];try{this.chartObj.chart=_1c;}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype.getChartAttribute=function(_1d){["WebSquare.uiplugin.fwGaugeChart.prototype.getChartAttribute"];try{return FusionCharts.items["fw_gauge_"+this.id].getChartAttribute(_1d);}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype.changeType=function(_1e){["WebSquare.uiplugin.fwGaugeChart.prototype.changeType"];try{this.fcObj.chartType(_1e);this.options.chartType=_1e;if(this.options.realtime){this.streamFlag=0;}if(_1e=="angulargauge"){if(this.chartObj.value){this.dials={"dial":[{"value":this.chartObj.value}]};}}else{if(this.chartObj.dials.dial[0].value){this.value=this.chartObj.dials.dial[0].value;}}this.draw();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype.exportJSChart=function(_1f){["WebSquare.uiplugin.fwGaugeChart.exportJSChart"];try{if(!_1f){_1f="jpg";}var _20=this.options.id||"fusionChart";var _21=this.fc().getSVGString();if(_21){_21=_21.wq_replaceAll("shape-rendering=\"default\"","shape-rendering='auto'");_21=_21.wq_replaceAll("visibility=\"\"","visibility='inherit'");_21=_21.wq_replaceAll("text-anchor=\"undefined\"","text-anchor='start'");_21=_21.wq_replaceAll("1e-006","0.000001");_21=_21.wq_replaceAll("font-family=\"15\"","font-family=\"Verdana\"");var _22=encodeURI(_21+"ExportType="+_1f+"ExportFileName="+_20);$W._N.download("engine/servlet/exportFusionChart.jsp",_22,"post");}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype.getValue=function(){["WebSquare.uiplugin.fwGaugeChart.getGaugeValue"];try{if(this.options.realtime){return this.fcObj.getData();}var _23=this.options.chartType;if(_23=="angulargauge"){return this.chartObj.dials.dial[0].value||this.value;}else{return this.chartObj.value||this.value;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype.setValue=function(_24){["WebSquare.uiplugin.fwGaugeChart.setValue"];var _25=this.options.chartType;if(_24==undefined||_24==""){_24=0;}if(_25.toLowerCase()=="angulargauge"){if(this.dials.dial.length>0){this.dials.dial[0].value=_24;}}else{this.value=_24;}this.draw();};$W._a.bg.prototype.setRef=function(ref,_27){["WebSquare.uiplugin.fwGaugeChart.prototype.setRef"];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.options.valueNode=_27;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype.setDataStreamInfo=function(_28){["WebSquare.uiplugin.fwGaugeChart.prototype.setRef"];try{if(!_28&&!_28.dataStreamURL){return;}this.attributeObj.dataStreamURL=_28.dataStreamURL;this.attributeObj.refreshInterval=_28.refreshInterval;this.attributeObj.dataStamp=_28.dataStamp||"";this.attributeObj.showRTMenuItem=_28.showRTMenuItem||0;this.draw();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype.stopUpdate=function(){["WebSquare.uiplugin.fwGaugeChart.prototype.stopUpdate"];try{var _29=this.modelControl.dataCollectionRefInfo.dataComp;if(_29){$w.clearInterval(this.id+"_interval");}else{this.fcObj.stopUpdate();}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype.restartUpdate=function(){["WebSquare.uiplugin.fwGaugeChart.prototype.restartUpdate"];try{var _2a=this.modelControl.dataCollectionRefInfo.dataComp;if(_2a){var _2b=this;this.intervals=setInterval(function(){_2b.updateDataFunc();},this.options.refreshInterval*1000);}else{this.fcObj.restartUpdate();}}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype.clearChart=function(){["WebSquare.uiplugin.fwGaugeChart.prototype.clearChart"];try{this.fcObj.clearChart();}catch(e){$W.exception.printStackTrace(e);}};$W._a.bg.prototype.isUpdateActive=function(){["WebSquare.uiplugin.fwGaugeChart.prototype.isUpdateActive"];try{var _2c;var _2d=this.modelControl.dataCollectionRefInfo.dataComp;if(_2d&&this.options.realtime){var _2e=_2d.getAllData();if(this.streamFlag>=_2e.length){_2c=false;}else{_2c=true;}}else{_2c=this.fcObj.isUpdateActive();}return _2c;}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.fwGaugeChart=$W._a.bg;$W._a.aw=function(id,_2,_3){["WebSquare.uiplugin.fwGanttChart"];if(typeof FusionCharts=="undefined"){imports("externalJS/FusionCharts3.7/FusionCharts_all.js");}$W._t.call(this,id,_2,_3);};$W.extend($W._a.aw.prototype,$W._t.prototype);$W._a.aw.prototype.defaultOptions={pluginType:"uiplugin.fwGanttChart",pluginName:"fwGanttChart",useConfig:true,accessibility:false,autoCategory:true,multiTasks:false,quarterNames:"",monthNames:"",plotColor:"2ec6c8,b5a1dd,5ab0ee,f4984e,d77a80,90bddc,fe5d55,b5dc59,9ea7b3,00ba84,878bb6,757a85"};$W._a.aw.prototype.initialize=function(_4){this.fcObj=null;this.chartObj={};this.attributeObj=null;this.categories=null;this.processes=null;this.tasks=null;this.legends=null;this.trendlines=null;this.milestones=null;this.connectors=null;this.options.quarterNames=this.options.quarterNames||$W._m.getMessage("fwGanttChart_quarterNames")||"1\ubd84\uae30,2\ubd84\uae30,3\ubd84\uae30,4\ubd84\uae30";this.options.monthNames=this.options.monthNames||$W._m.getMessage("fwGanttChart_monthNames")||"1\uc6d4,2\uc6d4,3\uc6d4,4\uc6d4,5\uc6d4,6\uc6d4,7\uc6d4,8\uc6d4,9\uc6d4,10\uc6d4,11\uc6d4,12\uc6d4";};$W._a.aw.prototype.toHTML=function(){["WebSquare.uiplugin.fwGanttChart.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2fwGanttChart "+this.options.className+"'>");_5.push("</div>");return _5.join("");};$W._a.aw.prototype.setAction=function(){this.fcObj=new FusionCharts("gantt","fw_gantt_"+this.id,"100%",this.render.offsetHeight);this.setDefaultOption();if(this.modelControl.isDataCollectionRefBinded){var _7=this.modelControl.dataCollectionRefInfo.dataComp;var _8={};_8.dateformat=this.options.dateformat;_8.timeBase=this.options.timeBase;_8.monthNames=this.options.monthNames;_8.timeGap=this.options.timeGap;_8.plotColor=this.options.plotColor;_8.processNode=this.options.processNode;_8.taskNode=this.options.taskNode;_8.startDateNode=this.options.startDateNode;_8.endDateNode=this.options.endDateNode;_8.autoCategory=this.options.autoCategory;_8.categoryDepth=this.options.categoryDepth;_8.multiTasks=this.options.multiTasks;_8.quarterNames=this.options.quarterNames;_8.processIdNode=this.options.processIdNode||null;_8.taskIdNode=this.options.taskIdNode||null;if(_7.getRowCount()>0){this.setJSONData(_7.getfwGanttChartData(_8));}}};$W._a.aw.prototype.refresh=function(){["WebSquare.uiplugin.fwGanttChart.refresh"];try{if(this.modelControl.isDataCollectionRefBinded){var _9=this.modelControl.dataCollectionRefInfo.dataComp;var _a={};_a.dateformat=this.options.dateformat;_a.timeBase=this.options.timeBase;_a.monthNames=this.options.monthNames;_a.timeGap=this.options.timeGap;_a.plotColor=this.options.plotColor;_a.processNode=this.options.processNode;_a.taskNode=this.options.taskNode;_a.startDateNode=this.options.startDateNode;_a.endDateNode=this.options.endDateNode;_a.autoCategory=this.options.autoCategory;_a.categoryDepth=this.options.categoryDepth;_a.multiTasks=this.options.multiTasks;_a.quarterNames=this.options.quarterNames;_a.taskIdNode=this.options.taskIdNode||null;if(_9.getRowCount()>0){var _b=_9.getfwGanttChartData(_a);this.categories=_b.categories;this.setJSONData(_b);}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aw.prototype.setJSONData=function(_c){["WebSquare.uiplugin.fwGanttChart.setJSONData"];try{this.chartObj=_c;this.draw();}catch(e){$W.exception.printStackTrace(e);}};$W._a.aw.prototype.getJSONData=function(){["WebSquare.uiplugin.fwGanttChart.getJSONData"];try{var _d=FusionCharts.items["fw_gantt_"+this.id].getJSONData();return _d;}catch(e){$W.exception.printStackTrace(e);}};$W._a.aw.prototype.fc=function(){["WebSquare.uiplugin.fwGanttChart.fc"];try{var _e=FusionCharts.items;var _f="fw_gantt_"+this.id;return _e[_f];}catch(e){$W.exception.printStackTrace(e);}};$W._a.aw.prototype.draw=function(){["WebSquare.uiplugin.fwGanttChart.draw"];try{if(this.attributeObj!=null){for(var key in this.attributeObj){if(this.chartObj.chart){this.chartObj.chart[key]=this.attributeObj[key];}else{this.chartObj.chart=this.attributeObj;break;}}}if(this.categories){this.chartObj.categories=[];for(var i=0;i<this.categories.length;i++){this.chartObj.categories.push(this.categories[i]);}}if(this.processes){if(!this.chartObj.processes){this.chartObj.processes={};}if(this.chartObj.processes){for(var key in this.processes){this.chartObj.processes[key]=this.processes[key];}}}if(this.tasks){if(!this.chartObj.tasks){this.chartObj.tasks={};}if(this.chartObj.tasks){for(var key in this.tasks){this.chartObj.tasks[key]=this.tasks[key];}}}if(this.trendlines){if(!this.chartObj.trendlines){this.chartObj.trendlines=[];}this.chartObj.trendlines.push(this.trendlines);}if(this.milestones){if(!this.chartObj.milestones){this.chartObj.milestones={};this.chartObj.milestones.milestone=[];}this.chartObj.milestones.milestone.push(this.milestones);}if(this.connectors){if(!this.chartObj.connectors){this.chartObj.connectors=[];}this.chartObj.connectors.push({"connector":[]});this.chartObj.connectors[0].connector.push(this.connectors);}if(this.legends){if(!this.chartObj.legend){this.chartObj.legend=[];}this.chartObj.legend=this.legends;}var _12=this.fc();_12.setJSONData(this.chartObj);if(!_12.isActive()){_12.render(this.id);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aw.prototype.setDefaultOption=function(){["WebSquare.uiplugin.fwGanttChart.setDefaultOption"];try{this.attributeObj={"chartLeftMargin":"0","chartRightMargin":"0","chartTopMargin":"0","chartBottomMargin":"0","toolTipColor":"#ffffff","toolTipBorderThickness":"0","toolTipBgColor":"#000000","toolTipBgAlpha":"70","toolTipBorderRadius":"2","toolTipPadding":"5","dateformat":this.options.dateformat=="yyyyMMdd"?"yyyy/mm/dd":this.options.dateformat};}catch(e){$W.exception.printStackTrace(e);}};$W._a.aw.prototype.setChartAttribute=function(_13){["WebSquare.uiplugin.fwGanttChart.prototype.setChartAttribute"];try{if(this.attributeObj==null){this.attributeObj={};}for(var key in _13){if(_13.hasOwnProperty(key)){this.attributeObj[key.toLowerCase()]=_13[key];}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.aw.prototype.getChartAttribute=function(_15){["WebSquare.uiplugin.fwGanttChart.prototype.getChartAttribute"];try{return this.fcObj.getChartAttribute(_15);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aw.prototype.setCategories=function(obj){["WebSquare.uiplugin.fwGanttChart.prototype.setCategoryAttribute"];try{this.categories=[];this.categories.push(obj);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aw.prototype.addCategories=function(obj){["WebSquare.uiplugin.fwGanttChart.prototype.addCategoryAttribute"];try{if(this.categories==null){this.categories=[];}this.categories.unshift(obj);}catch(e){$W.exception.printStackTrace(e);}};$W._a.aw.prototype.setProcessesAttribute=function(obj){["WebSquare.uiplugin.fwGanttChart.setProcessesAttribute"];try{this.processes=obj;}catch(e){$W.exception.printStackTrace(e);}};$W._a.aw.prototype.setTasksAttribute=function(obj){["WebSquare.uiplugin.fwGanttChart.setTaskAttribute"];try{this.tasks=obj;}catch(e){$W.exception.printStackTrace(e);}};$W._a.aw.prototype.setTrendLine=function(obj){["WebSquare.uiplugin.fwGanttChart.setTrendLine"];try{this.trendlines=obj;}catch(e){$W.exception.printStackTrace(e);}};$W._a.aw.prototype.setMilestone=function(obj){["WebSquare.uiplugin.fwGanttChart.setMilestone"];try{this.milestones=obj;}catch(e){$W.exception.printStackTrace(e);}};$W._a.aw.prototype.setConnector=function(obj){["WebSquare.uiplugin.fwGanttChart.setConnector"];try{this.connectors=obj;}catch(e){$W.exception.printStackTrace(e);}};$W._a.aw.prototype.exportJSChart=function(_1d){["WebSquare.uiplugin.fwGanttChart.exportJSChart"];try{if(!_1d){_1d="jpg";}var _1e=this.options.id||"fusionChart";var _1f=this.fc().getSVGString();if(_1f){_1f=_1f.wq_replaceAll("shape-rendering=\"default\"","shape-rendering='auto'");_1f=_1f.wq_replaceAll("visibility=\"\"","visibility='inherit'");_1f=_1f.wq_replaceAll("text-anchor=\"undefined\"","text-anchor='start'");_1f=_1f.wq_replaceAll("1e-006","0.000001");_1f=_1f.wq_replaceAll("font-family=\"15\"","font-family=\"Verdana\"");var _20=encodeURI(_1f+"ExportType="+_1d+"ExportFileName="+_1e);$W._N.download("engine/servlet/exportFusionChart.jsp",_20,"post");}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.fwGanttChart=$W._a.aw;$W._a.ax=function(id,_2,_3){["WebSquare.uiplugin.fwRealtimeChart"];$W._t.call(this,id,_2,_3);if(typeof FusionCharts=="undefined"){imports("externalJS/FusionCharts3.7/FusionCharts_all.js");}};$W.extend($W._a.ax.prototype,$W._t.prototype);$W._a.ax.prototype.defaultOptions={pluginType:"uiplugin.fwRealtimeChart",pluginName:"fwRealtimeChart",useConfig:true,seriesType:"simple",plotColor:"2ec6c8,b5a1dd,5ab0ee,f4984e,d77a80,90bddc,fe5d55,b5dc59,9ea7b3,00ba84,878bb6,757a85",timeformat:"HH:mm:ss"};$W._a.ax.prototype.initialize=function(_4){this.fcObj=null;this.chartObj={};this.attributeObj=null;this.streamFlag=0;this.intervals=null;this.updateData=null;};$W._a.ax.prototype.toHTML=function(){["WebSquare.uiplugin.fwRealtimeChart.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2fwRealtimeChart "+this.options.className+"'>");_5.push("</div>");return _5.join("");};$W._a.ax.prototype.setAction=function(){try{var _7=this;this.setDefaultOption();var _8;if(this.modelControl.isDataCollectionRefBinded){_8=this.modelControl.dataCollectionRefInfo.dataComp;if(_8&&_8.getRowCount()>0){var _9={};_9.plotColor=this.options.plotColor;this.chartObj=_8.getRealtimeData(this.options.labelNode,this.options.seriesNode,this.options.valueNode,_9);this.fcObj=new FusionCharts({"id":"fw_realtime_"+_7.id,"type":_7.options.chartType,"renderAt":_7.id,"width":_7.render.offsetWidth,"height":_7.render.offsetHeight,"dataFormat":"json","dataSource":_7.chartObj,"events":{"drawComplete":function(){_7._feedData();}}});this.draw();}}else{this.fcObj=new FusionCharts({"id":"fw_realtime_"+_7.id,"type":_7.options.chartType,"renderAt":_7.id,"width":"100%","height":_7.render.offsetHeight,"dataFormat":"json"});if(this.options.dataStreamUrl&&this.options.seriesArray){if(!this.chartObj.dataset){this.chartObj.dataset=[];}var _a=this.options.seriesArray;_a=_a.wq_replaceAll("'","\"");_a=JSON.parse(_a);var _b=this.options.plotColor.split(",");for(var j=0;j<_a.length;j++){if(!_a[j].color){_a[j].color=_b[j];}}for(var i=0;i<_a.length;i++){this.chartObj.dataset.push(_a[i]);}this.attributeObj["dataStreamURL"]=this.options.dataStreamUrl;this.attributeObj["refreshInterval"]=this.options.refreshInterval;this.attributeObj["dataStamp"]=this.options.dataStamp||"";this.attributeObj["showRTMenuItem"]=this.options.showRTMenuItem||0;this.draw();}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype._feedData=function(){["WebSquare.uiplugin.fwRealtimeChart.prototype.feedData"];try{if(this.options.ref!=""){var _e=this;this.updateData=function(){var _f=_e.modelControl.dataCollectionRefInfo.dataComp;var _10=_f.getAllJSON();var _11=_f.getColumnDistinctDataArray(_e.options.seriesNode);var _12=_11.length;var _13=_e.options.valueNode;if(_e.streamFlag>=_10.length){$w.executeSubmission(this.options.submissionId);_e.streamFlag=0;}var _14=FusionCharts("fw_realtime_"+_e.id);var _15=new Date();var _16="";var _17=$W._s.getFormattedDate(_15,_e.options.timeformat);for(var i=_e.streamFlag;i<_12+_e.streamFlag;i++){_16+=_10[i][_13]+"|";}_16=_16.substring(0,_16.length-1);_e.streamFlag=_e.streamFlag+_12;var _19="&label="+_17+"&value="+_16;_14.feedData(_19);};$w.setInterval(function(){_e.updateData();},{caller:this,delay:(this.options.refreshInterval*1000),key:(this.id+"_interval")});}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.refresh=function(){["WebSquare.uiplugin.fwRealtimeChart.prototype.refresh"];try{var _1a=this;this.setDefaultOption();var _1b;if(this.modelControl.isDataCollectionRefBinded){_1b=this.modelControl.dataCollectionRefInfo.dataComp;if(_1b&&_1b.getRowCount()>0){var _1c={};_1c.plotColor=this.options.plotColor;this.chartObj=_1b.getRealtimeData(this.options.labelNode,this.options.seriesNode,this.options.valueNode,_1c);var _1d="fw_realtime_"+this.id;if(!this.fcObj&&!FusionCharts.items[_1d]){this.fcObj=new FusionCharts({"id":"fw_realtime_"+_1a.id,"type":_1a.options.chartType,"renderAt":_1a.id,"width":"100%","height":_1a.render.offsetHeight,"dataFormat":"json","dataSource":_1a.chartObj,"events":{"drawComplete":function(){_1a._feedData();}}});this.draw();}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.fc=function(){["WebSquare.uiplugin.fwRealtimeChart.prototype.fc"];try{var _1e=FusionCharts.items;var _1f="fw_realtime_"+this.id;return _1e[_1f];}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.draw=function(){["WebSquare.uiplugin.fwRealtimeChart.prototype.draw"];try{if(this.attributeObj!=null){if(!this.chartObj.chart){this.chartObj.chart={};}for(var key in this.attributeObj){if(this.attributeObj.hasOwnProperty(key)){this.chartObj.chart[key.toLowerCase()]=this.attributeObj[key];}}}this.fcObj.setJSONData(this.chartObj);if(!this.fcObj.isActive()){this.fcObj.render(this.id);}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.setDefaultOption=function(){["WebSquare.uiplugin.fwRealtimeChart.prototype.setDefaultOption"];try{this._realtimearea=function(){this.attributeObj={"showrealtimevalue":"1","yaxismaxvalue":"10","numdisplaysets":"10","bgColor":"#ffffff","canvasBgColor":"#ffffff","canvasBorderAlpha":"0","divlineAlpha":"100","divlineColor":"#999999","divlineThickness":"1","divLineDashed":"1","divLineDashLen":"1","divLineGapLen":"1","usePlotGradientColor":"0","showplotborder":"0","placeValuesInside":"1","rotateValues":"1","showXAxisLine":"1","xAxisLineThickness":"1","xAxisLineColor":"#999999","showAlternateHGridColor":"0","labeldisplay":"rotate","slantLabels":"1","showLegend":"1","showValues":"0","showRealTimeValue":"0"};};this._realtimecolumn=function(){this.attributeObj={"showrealtimevalue":"1","yaxismaxvalue":"10","numdisplaysets":"10","bgColor":"#ffffff","canvasBgColor":"#ffffff","canvasBorderAlpha":"0","divlineAlpha":"100","divlineColor":"#999999","divlineThickness":"1","divLineDashed":"1","divLineDashLen":"1","divLineGapLen":"1","usePlotGradientColor":"0","showplotborder":"0","placeValuesInside":"1","rotateValues":"1","showXAxisLine":"1","xAxisLineThickness":"1","xAxisLineColor":"#999999","showAlternateHGridColor":"0","labeldisplay":"rotate","slantLabels":"1","showLegend":"1","showValues":"0","showRealTimeValue":"0"};};this._realtimeline=function(){this.attributeObj={"showrealtimevalue":"1","yaxismaxvalue":"10","numdisplaysets":"10","bgColor":"#ffffff","canvasBgColor":"#ffffff","canvasBorderAlpha":"0","divlineAlpha":"100","divlineColor":"#999999","divlineThickness":"1","divLineDashed":"1","divLineDashLen":"1","divLineGapLen":"1","usePlotGradientColor":"0","showplotborder":"0","placeValuesInside":"1","rotateValues":"1","showXAxisLine":"1","xAxisLineThickness":"1","xAxisLineColor":"#999999","showAlternateHGridColor":"0","labeldisplay":"rotate","slantLabels":"1","showLegend":"1","showValues":"0","showRealTimeValue":"0"};};this._realtimestackedarea=function(){this.attributeObj={"showrealtimevalue":"1","yaxismaxvalue":"10","numdisplaysets":"10","bgColor":"#ffffff","canvasBgColor":"#ffffff","canvasBorderAlpha":"0","divlineAlpha":"100","divlineColor":"#999999","divlineThickness":"1","divLineDashed":"1","divLineDashLen":"1","divLineGapLen":"1","usePlotGradientColor":"0","showplotborder":"0","placeValuesInside":"1","rotateValues":"1","showXAxisLine":"1","xAxisLineThickness":"1","xAxisLineColor":"#999999","showAlternateHGridColor":"0","labeldisplay":"rotate","slantLabels":"1","showLegend":"1","showValues":"0","showRealTimeValue":"0"};};this._realtimestackedcolumn=function(){this.attributeObj={"showrealtimevalue":"1","yaxismaxvalue":"10","numdisplaysets":"10","bgColor":"#ffffff","canvasBgColor":"#ffffff","canvasBorderAlpha":"0","divlineAlpha":"100","divlineColor":"#999999","divlineThickness":"1","divLineDashed":"1","divLineDashLen":"1","divLineGapLen":"1","usePlotGradientColor":"0","showplotborder":"0","placeValuesInside":"1","rotateValues":"1","showXAxisLine":"1","xAxisLineThickness":"1","xAxisLineColor":"#999999","showAlternateHGridColor":"0","labeldisplay":"rotate","slantLabels":"1","showLegend":"1","showValues":"0","showRealTimeValue":"0"};};this._realtimelinedy=function(){this.attributeObj={"showrealtimevalue":"1","yaxismaxvalue":"10","numdisplaysets":"10","bgColor":"#ffffff","canvasBgColor":"#ffffff","canvasBorderAlpha":"0","divlineAlpha":"100","divlineColor":"#999999","divlineThickness":"1","divLineDashed":"1","divLineDashLen":"1","divLineGapLen":"1","usePlotGradientColor":"0","showplotborder":"0","placeValuesInside":"1","rotateValues":"1","showXAxisLine":"1","xAxisLineThickness":"1","xAxisLineColor":"#999999","showAlternateHGridColor":"0","labeldisplay":"rotate","slantLabels":"1","showLegend":"1","showValues":"0","showRealTimeValue":"0"};};switch(this.options.chartType.toLowerCase()){case "realtimearea":this._realtimearea();break;case "realtimecolumn":this._realtimecolumn();break;case "realtimeline":this._realtimeline();break;case "realtimestackedarea":this._realtimestackedarea();break;case "realtimestackedcolumn":this._realtimestackedcolumn();break;case "realtimelinedy":this._realtimelinedy();break;default:this._realtimecolumn();break;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.setChartAttribute=function(_21){["WebSquare.uiplugin.fwRealtimeChart.prototype.setChartAttribute"];try{if(this.attributeObj==null){this.attributeObj={};}for(var key in _21){if(_21.hasOwnProperty(key)){this.attributeObj[key.toLowerCase()]=_21[key];}}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.getChartAttribute=function(_23){["WebSquare.uiplugin.fwRealtimeChart.prototype.getChartAttribute"];try{return FusionCharts.items["fw_realtime_"+this.id].getChartAttribute(_23);}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.changeType=function(_24){["WebSquare.uiplugin.fwRealtimeChart.prototype.changeType"];try{var _25=this.fc();_25.chartType(_24);this.options.chartType=_24;if(this.options.realtime){this.streamFlag=0;}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.exportJSChart=function(_26){["WebSquare.uiplugin.fwRealtimeChart.exportJSChart"];try{if(!_26){_26="jpg";}var _27=this.options.id||"fusionChart";var _28=this.fc().getSVGString();if(_28){_28=_28.wq_replaceAll("shape-rendering=\"default\"","shape-rendering='auto'");_28=_28.wq_replaceAll("visibility=\"\"","visibility='inherit'");_28=_28.wq_replaceAll("text-anchor=\"undefined\"","text-anchor='start'");_28=_28.wq_replaceAll("1e-006","0.000001");_28=_28.wq_replaceAll("font-family=\"15\"","font-family=\"Verdana\"");var _29=encodeURI(_28+"ExportType="+_26+"ExportFileName="+_27);$W._N.download("engine/servlet/exportFusionChart.jsp",_29,"post");}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.stopUpdate=function(){["WebSquare.uiplugin.fwRealtimeChart.prototype.stopUpdate"];try{if(this.modelControl.isDataCollectionRefBinded){var _2a=this.modelControl.dataCollectionRefInfo.dataComp;if(_2a){$w.clearInterval(this.id+"_interval");}}else{this.fcObj.stopUpdate();}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.restartUpdate=function(){["WebSquare.uiplugin.fwRealtimeChart.prototype.restartUpdate"];try{if(this.modelControl.isDataCollectionRefBinded){var _2b=this.modelControl.dataCollectionRefInfo.dataComp;if(_2b){var _2c=this;$w.setInterval(function(){_2c.updateData();},{caller:this,delay:(this.options.refreshInterval*1000),key:(this.id+"_interval")});}}else{this.fcObj.restartUpdate();}}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.clearChart=function(){["WebSquare.uiplugin.fwRealtimeChart.prototype.clearChart"];try{this.fcObj.clearChart();}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.isUpdateActive=function(){["WebSquare.uiplugin.fwRealtimeChart.prototype.isUpdateActive"];try{var _2d=null;if(this.modelControl.isDataCollectionRefBinded){if($W.userIntervalHash[this.id+"_interval"]){_2d=true;}else{_2d=false;}}else{_2d=this.fcObj.isUpdateActive();}return _2d;}catch(e){$W.exception.printStackTrace(e);}};$W._a.ax.prototype.setDataStreamInfo=function(_2e){["WebSquare.uiplugin.fwRealtimeChart.prototype.setRef"];try{if(!_2e&&!_2e.dataStreamURL&&_2e.seriesArray){return;}if(!this.chartObj.dataset){this.chartObj.dataset=[];}var _2f=this.options.plotColor.split(",");for(var j=0;j<_2e.seriesArray.length;j++){if(!_2e.seriesArray[j].color){_2e.seriesArray[j].color=_2f[j];}}for(var i=0;i<_2e.seriesArray.length;i++){this.chartObj.dataset.push(_2e.seriesArray[i]);}this.attributeObj.dataStreamURL=_2e.dataStreamURL;this.attributeObj.refreshInterval=_2e.refreshInterval;this.attributeObj.dataStamp=_2e.dataStamp||"";this.attributeObj.showRTMenuItem=_2e.showRTMenuItem||0;}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.fwRealtimeChart=$W._a.ax;$W._a._K=function(id,_2,_3){["WebSquare.uiplugin.fwBulletChart"];$W._t.call(this,id,_2,_3);if(typeof FusionCharts=="undefined"){imports("externalJS/FusionCharts3.7/FusionCharts_all.js");}};$W.extend($W._a._K.prototype,$W._t.prototype);$W._a._K.prototype.defaultOptions={pluginType:"uiplugin.fwBulletChart",pluginName:"fwBulletChart",useConfig:true,chartType:"",seriesType:"advanced"};$W._a._K.prototype.initialize=function(_4){this.fcObj=null;this.chartObj={};this.attributeObj=null;this.colorrange=null;this.value=null;this.target=null;};$W._a._K.prototype.toHTML=function(){["WebSquare.uiplugin.fwBulletChart.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2fwBulletChart "+this.options.className+"'>");_5.push("</div>");return _5.join("");};$W._a._K.prototype.setAction=function(){try{this.fcObj=new FusionCharts({"id":"fw_bullet_"+this.id,"type":this.options.chartType,"width":"100%","height":this.render.offsetHeight});this.setDefaultOption();if(this.modelControl.isDataCollectionRefBinded){var _7=this.modelControl.dataCollectionRefInfo.dataComp;var _8=_7.rowPosition;_8=_8?_8:0;this.setValue(_7.getRowJSON(_8));}}catch(e){$W.exception.printStackTrace(e);}};$W._a._K.prototype.refresh=function(){["WebSquare.uiplugin.fwBulletChart.prototype.refresh"];try{var _9=this.modelControl.dataCollectionRefInfo.dataComp;if(this.modelControl.isDataCollectionRefBinded){var _a=_9.rowPosition;_a=_a?_a:0;this.setValue(_9.getRowJSON(_a));}}catch(e){$W.exception.printStackTrace(e);}};$W._a._K.prototype.setJSONData=function(_b){["WebSquare.uiplugin.fwBulletChart.prototype.setJSONData"];try{this.chartObj=_b;this.draw();}catch(e){$W.exception.printStackTrace(e);}};$W._a._K.prototype.getJSONData=function(){["WebSquare.uiplugin.fwBulletChart.prototype.getJSONData"];try{var _c=this.fcObj.getJSONData();return _c;}catch(e){$W.exception.printStackTrace(e);}};$W._a._K.prototype.fc=function(){["WebSquare.uiplugin.fwBulletChart.prototype.fc"];try{var _d=FusionCharts.items;var _e="fw_bullet_"+this.id;return _d[_e];}catch(e){$W.exception.printStackTrace(e);}};$W._a._K.prototype.draw=function(){["WebSquare.uiplugin.fwBulletChart.prototype.draw"];try{if(this.attributeObj!=null){this._setChartAttribute(this.attributeObj);}if(this.colorrange!=null){this.chartObj.colorrange=this.colorrange;}if(this.target!=null){this.chartObj.target=this.target;}if(this.value!=null){this.chartObj.value=this.value;}var _f=this.fc();_f.setJSONData(this.chartObj);if(!_f.isActive()){_f.render(this.id);}}catch(e){$W.exception.printStackTrace(e);}};$W._a._K.prototype.setDefaultOption=function(){["WebSquare.uiplugin.fwBulletChart.prototype.setDefaultOption"];try{this.attributeObj={"plotFillColor":"0075c2","targetColor":"8e0000","showHoverEffect":"1","showBorder":"0","bgColor":"ffffff","showShadow":"0","colorRangeFillMix":"{light+0}"};this.colorrange={"color":[{"minValue":"0","maxValue":"30","code":"fe5d55"},{"minValue":"50","maxValue":"60","code":"f4c74e"},{"minValue":"75","maxValue":"100","code":"00ba84"}]};this.value=0;this.target=0;}catch(e){$W.exception.printStackTrace(e);}};$W._a._K.prototype.setChartAttribute=function(_10){["WebSquare.uiplugin.fwBulletChart.prototype.setChartAttribute"];try{if(this.attributeObj==null){this.attributeObj={};}for(var key in _10){if(_10.hasOwnProperty(key)){this.attributeObj[key.toLowerCase()]=_10[key];}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._K.prototype._setChartAttribute=function(_12){["WebSquare.uiplugin.fwBulletChart.prototype._setChartAttribute"];try{this.chartObj.chart=_12;}catch(e){$W.exception.printStackTrace(e);}};$W._a._K.prototype.getChartAttribute=function(_13){["WebSquare.uiplugin.fwBulletChart.prototype.getChartAttribute"];try{return FusionCharts.items["fw_bullet_"+this.id].getChartAttribute(_13);}catch(e){$W.exception.printStackTrace(e);}};$W._a._K.prototype.exportJSChart=function(_14){["WebSquare.uiplugin.fwBulletChart.exportJSChart"];try{if(!_14){_14="jpg";}var _15=this.options.id||"fusionChart";var _16=this.fc().getSVGString();if(_16){_16=_16.wq_replaceAll("shape-rendering=\"default\"","shape-rendering='auto'");_16=_16.wq_replaceAll("visibility=\"\"","visibility='inherit'");_16=_16.wq_replaceAll("text-anchor=\"undefined\"","text-anchor='start'");_16=_16.wq_replaceAll("1e-006","0.000001");_16=_16.wq_replaceAll("font-family=\"15\"","font-family=\"Verdana\"");var _17=encodeURI(_16+"ExportType="+_14+"ExportFileName="+_15);$W._N.download("engine/servlet/exportFusionChart.jsp",_17,"post");}}catch(e){$W.exception.printStackTrace(e);}};$W._a._K.prototype.getValue=function(){["WebSquare.uiplugin.fwBulletChart.getGaugeValue"];try{var _18=this.options.chartType;var _19={};_19.value=this.value;_19.target=this.target;return _19;}catch(e){$W.exception.printStackTrace(e);}};$W._a._K.prototype.setValue=function(_1a){["WebSquare.uiplugin.fwBulletChart.setValue"];if(typeof _1a=="object"){this.value=_1a[this.options.valueNode]||0;this.target=_1a[this.options.targetNode]||0;}this.draw();};$W._a._K.prototype.setRef=function(ref,_1c,_1d){["WebSquare.uiplugin.fwBulletChart.prototype.setRef"];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.options.targetNode=_1c;this.options.valueNode=_1d;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.fwBulletChart=$W._a._K;requires("uiplugin.input");$W._a._l=function(id,_2,_3){["WebSquare.uiplugin.spinner"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._l.prototype,$W._t.prototype);$W._a._l.prototype.defaultOptions={pluginType:"uiplugin.spinner",pluginName:"spinner",userEvents:["onDownButtonClick","onUpButtonClick"],buttonPosition:"horizon",buttonSize:30,spinnerClass:"type1",maxValue:10,minValue:1,dataType:"number",increment:1,dateIncrementType:"day",defalutValue:0,inputReadOnly:false,ioFormat:"yyyyMMdd",ioFormatter:"",displayFormat:"",displayFormatter:"",dateMask:"yyyy/MM/dd",timeMask:"HH:mm",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",delimeter:"",decimalDelimeter:""};$W._a._l.prototype.initialize=function(_4){["WebSquare.uiplugin.spinner.initialize"];var _5=this.options.style;var _6=this.options.readOnly;this.options.style="position:absolute;width:0px;height:100%";this.options.readOnly=this.options.inputReadOnly;if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "euro":this.options.displayFormat=this.options.euroMask;if(!this.options.delimeter){this.options.delimeter=".";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=",";}break;case "rupee":this.options.displayFormat=this.options.rupeeMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "tenge":this.options.displayFormat=this.options.tengeMask;if(!this.options.delimeter){this.options.delimeter=" ";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter="-";}break;}}this.input=new $W._a.aF(this.id+"___input",this.options,_4);this.options.style=_5;this.options.readOnly=_6;this.addControl(this.input);this.modelControl.ref=this.options.ref;this.input.modelControl.id=this.id;if(this.options.skin&&this.options.skin!=""){this.options.spinnerClass=this.options.skin;}if(this.options.max&&this.options.max!=""){this.options.maxValue=this.options.max;}if(this.options.min&&this.options.min!=""){this.options.minValue=this.options.min;}var _7=this;};$W._a._l.prototype.toHTML=function(){["WebSquare.uiplugin.spinner.toHTML"];try{var _8=this.isGridCellComponent?"w2grid_spinner_up_start":"w2spinner_up_start";var _9=this.isGridCellComponent?"w2grid_spinner_up_center":"w2spinner_up_center";var _a=this.isGridCellComponent?"w2grid_spinner_up_end":"w2spinner_up_end";var _b=this.isGridCellComponent?"w2grid_spinner_up_image":"w2spinner_up_image";var _c=this.isGridCellComponent?"w2grid_spinner_down_start":"w2spinner_down_start";var _d=this.isGridCellComponent?"w2grid_spinner_down_center":"w2spinner_down_center";var _e=this.isGridCellComponent?"w2grid_spinner_down_end":"w2spinner_down_end";var _f=this.isGridCellComponent?"w2grid_spinner_down_image":"w2spinner_down_image";var _10=[];var _11="";var _12=(this.options.style=="")?"":"style='"+this.options.style+"'";if(this.options.buttonPosition=="vertical"){_11="w2_vertical ";}else{_11="w2_horizon ";}_11+=this.options.spinnerClass+" ";_10.push("<div id='"+this.id+"' "+_12+" class='w2spinner "+_11+this.options.className+"'>");_10.push("<div id='"+this.id+"_upButton' class='w2spinner_up'>");_10.push("<div class='"+_8+"'></div>");_10.push("<div class='"+_9+"'></div>");_10.push("<div class='"+_a+"'></div>");_10.push("<div id='"+this.id+"_upButton_image' class='"+_b+"'></div>");_10.push("</div>");_10.push("<div id='"+this.id+"_downButton' class='w2spinner_down'>");_10.push("<div class='"+_c+"'></div>");_10.push("<div class='"+_d+"'></div>");_10.push("<div class='"+_e+"'></div>");_10.push("<div id='"+this.id+"_downButton_image' class='"+_f+"'></div>");_10.push("</div>");_10.push(this.getChild(this.id+"___input").toHTML());_10.push("</div>");return _10.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setAction=function(){["WebSquare.uiplugin.spinner.setAction"];try{if(this.options.dataType=="date"){this.dateValidator=null;this.input.validator.addCommand(new $W._p.dateCommand());this.input.validator.addCommand(new $W._p.ignoreCharCommand(" -/:-~"));var _13=0;_13=this.options.ioFormat.length;this.input.validator.addCommand(new $W._p.maxLengthCommand(_13));this.input.validator.addCommand(new $W._p.minLengthCommand(_13));this.validMesssage=$W._m.getMessage("IC_invalidCalendarSelect");if(this.validMesssage==null||this.validMesssage==""){var _14=$W._m.getMessage("TabControl_warning1")||"\ub0a0\uc9dc \ud615\uc2dd\uc774 \uc798\ubabb \ub418\uc5c8\uc2b5\ub2c8\ub2e4.";this.validMesssage=_14;}}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,this.handleMousewheelEvent));this.setInputStyle();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.setSize=function(_15,_16){["WebSquare.uiplugin.spinner.setSize"];try{$W._n.prototype.setSize.call(this,_15,_16);this.setInputStyle();}catch(e){$W.exception.printStackTrace(e);}};$W._a._l.prototype.refreshItemset=function(){["WebSquare.uiplugin.spinner.refreshItemset"];};$W._a._l.prototype.refresh=function(){["WebSquare.uiplugin.spinner.refresh"];};$W._a._l.prototype.setInputStyle=function(top,_18,_19,_1a){this.input.originalStyleObj={paddingTop:parseInt(this.input.getStyle("padding-top"))||0,paddingBottom:parseInt(this.input.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.input.getStyle("padding-left"))||0,paddingRight:parseInt(this.input.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.input.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.input.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.input.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.input.getStyle("border-right-width"))||0};var _1b=this.input.originalStyleObj.paddingLeft+this.input.originalStyleObj.paddingRight+this.input.originalStyleObj.borderLeftWidth+this.input.originalStyleObj.borderRightWidth;var _1c=this.input.originalStyleObj.paddingTop+this.input.originalStyleObj.paddingBottom+this.input.originalStyleObj.borderTopWidth+this.input.originalStyleObj.borderBottomWidth;if(this.options.buttonPosition=="vertical"){this.input.setStyle("width",this.render.clientWidth+"px");this.input.setStyle("height",this.render.clientHeight-_1c-this.options.buttonSize+"px");}else{this.input.setStyle("width",this.render.clientWidth-_1b-this.options.buttonSize+"px");this.input.setStyle("height",this.render.offsetHeight+"px");}this.input.setVerticalAlign();};$W._a._l.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.spinner.handleClickEvent"];var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2spinner_up")){this.upButtonClick();break;}else{if(it.match("w2spinner_down")){this.downButtonClick();break;}}}it=null;};$W._a._l.prototype.handleMousewheelEvent=function(e){["WebSquare.uiplugin.spinner.handleMousewheelEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2spinner")){if(e.wheelDelta>0||e.detail<0){this.upButtonClick();break;}else{$W._c.fireEvent(this,"onDownButtonClick");this.downButtonClick();break;}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.prototype.upButtonClick=function(){if(false!=$W._c.fireEvent(this,"onUpButtonClick")){if(this.options.dataType=="number"){var _21=Number(this.getValue())+Number(this.options.increment);if(_21<=Number(this.options.maxValue)){this.setValue(_21);}else{this.setValue(this.options.maxValue);}}else{var _21="";if(this.options.ioFormat.length==8){_21=this.calcurateDate(this.getValue(),this.options.increment,"day");}else{_21=this.calcurateDate(this.getValue(),this.options.increment,"month");}this.setValue(_21);}}};$W._a._l.prototype.downButtonClick=function(){if(false!=$W._c.fireEvent(this,"onDownButtonClick")){if(this.options.dataType=="number"){var _22=Number(this.getValue())-Number(this.options.increment);if(_22>=Number(this.options.minValue)){this.setValue(_22);}else{this.setValue(this.options.minValue);}}else{var _22="";if(this.options.ioFormat.length==8){_22=this.calcurateDate(this.getValue(),this.options.increment*(-1),"day");}else{_22=this.calcurateDate(this.getValue(),this.options.increment*(-1),"month");}this.setValue(_22);}}};$W._a._l.prototype.calcurateDate=function(_23,_24,_25){var y1=parseInt(_23.substring(0,4),10);var m1=parseInt(_23.substring(4,6),10);var d1="";_24=parseInt(_24,10);if(_23.length==8){d1=parseInt(_23.substring(6,8),10);}if(_25=="day"){_23=$W._s.dateAdd(_23,_24);return _23;}else{m1=m1+_24;if(m1>12){y1=y1+parseInt(m1/12);m1=parseInt(m1%12);}else{if(m1<0){y1=y1-(parseInt(m1*(-1)/12)+1);m1=12-(parseInt(m1*(-1)%12));}else{if(m1==0){y1=y1-1;m1=12;}}}if(m1<10){m1="0"+m1;}if(d1){if(d1<10){d1="0"+d1;}return y1+""+m1+""+d1;}else{return y1+""+m1;}}};$W._a._l.prototype.setDisabled=function(_29){["WebSquare.xfControl.setDisabled"];try{_29=$W._G.getBoolean(_29);_29=$W._t.prototype.setDisabled.call(this,_29);this.input.setDisabled(_29);}catch(e){$W.exception.printStackTrace(e);}return _29;};$W._a._l.prototype.onPropertyChange=function(_2a,_2b){["WebSquare.uiplugin.spinner.onPropertyChange"];try{switch(_2a){case "disabled":if(_2b){this.addClass(this.render,"w2spinner_disabled");}else{this.removeClass(this.render,"w2spinner_disabled");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._l.apiExtend=function(){var _2c=$W._a.aF.prototype;var _2d=$W._a._l.prototype;for(prop in _2c){if(!_2d[prop]){_2d[prop]=(function(_2e){return function(){return this.input[_2e].apply(this.input,arguments);};})(prop);}}_2d["refresh"]=(function(_2f){return function(){return this.input[_2f].apply(this.input,arguments);};})("refresh");};$W._a._l.apiExtend();;WebSquare.uiplugin.spinner=$W._a._l;requires("uiplugin/control/itemsetControl.js");requires("uiplugin.scrollView");$W._a.bc=function(id,_2,_3){["WebSquare.uiplugin.spinPicker"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.bc.prototype,$W._t.prototype);$W._a.bc.prototype.defaultOptions={pluginType:"uiplugin.spinPicker",pluginName:"spinPicker",userEvents:["onchange"],delimiter:" ",scrollDuration:-1};$W._a.bc.prototype.getNewItem=function(_4,_5){var id=this.id+"_item_"+_4;var _7=function(id,_9,_a){$W._a.aO.call(this,id,_9,_a);};$W.extend(_7.prototype,$W._a.aO.prototype);$W.extend(_7.prototype,$W.itemsetControl.prototype);var _5=$W.extendKeepingType({verticalScroll:true,horizontalScroll:false,verticalPaging:false,horizontalPaging:false,bounce:true,showVerticalScroll:false,showHorizontalScroll:false,ref:_5.choices?_5.choices.getAttribute("ref"):""},_5);_7.prototype.getSlideFactor=function(_b,_c){var _d=$W._a.aO.prototype.getSlideFactor.call(_7,_b,_c);var _e=this.getScrollTop()+_d;var _f=this.getItemHeight();var _10=parseInt((_e+_f/2)/_f,10);_e=_10*_f;return _e-this.getScrollTop();};_7.prototype.handleTouchEnd=function(e){$W._a.aO.prototype.handleTouchEnd.call(this,e);if(this.isSliding){return;}var _12=this.getItemHeight();var _13=parseInt((this.getScrollTop()+_12/2)/_12,10);if(0<=_13&&_13<this.itemArr.length&&this.getScrollTop()!=_13*_12){this.scrollTo(null,_13*_12,this.options.scrollDuration!=-1?{duration:this.options.scrollDuration}:null);}};_7.prototype.componentRedraw=function(){var _14=[];var _15=this.dom.container;if(!_15){return;}_14.push("<div class='w2spinPicker_topPadding'></div>");_14.push("<div class='w2spinPicker_itembox'>");for(var i=0;i<this.itemArr.length;i++){_14.push("<div class='w2spinPicker_item'>"+this.itemArr[i].label+"</div>");}_14.push("</div>");_14.push("<div class='w2spinPicker_bottomPadding'></div>");_15.innerHTML=_14.join("");this.dom.topPadding=_15.childNodes[0];this.dom.itembox=_15.childNodes[1];this.dom.bottomPadding=_15.childNodes[2];var _17=this.getItemHeight();var _18=parseInt((this.render.offsetHeight-_17)/2,10);var _19=this.render.offsetHeight-_18-_17;this.dom.topPadding.style.height=_18+"px";this.dom.bottomPadding.style.height=_19+"px";this._scrollTo(null,_17*this.selectedIndex);};_7.prototype.refreshItemset=function(){if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}};_7.prototype.addItem=function(_1a,_1b,idx){idx=parseInt(idx,10);if(isNaN(idx)){idx=this.itemArr.length;}else{if(idx<0||idx>=this.itemArr.length){idx=this.itemArr.length;}}this.itemArr.splice(idx,0,{value:_1a,label:_1b});this.componentRedraw();return idx;};_7.prototype.deleteItem=function(idx){idx=parseInt(idx,10);if(isNaN(idx)){idx=this.itemArr.length-1;}var _1e=null;if(idx>=0&&idx<this.itemArr.length){_1e=(this.itemArr.splice(idx,1))[0];}this.componentRedraw();var _1f=this.getItemHeight();if(idx<this.selectedIndex||(idx==this.selectedIndex&&idx==this.itemArr.length)){this.selectedIndex--;this.scrollTo(null,_1f*this.selectedIndex,this.options.scrollDuration!=-1?{duration:this.options.scrollDuration}:null);}return _1e;};_7.prototype.getItemHeight=function(){var _20=this.dom.itembox.firstChild;return _20?_20.offsetHeight:0;};var _21=new _7(id,_5);_21.stopSlide=(function(_22,_23){return function(_24){if(this.isSliding){$W._a.aO.prototype.stopSlide.call(this,_24);if(!this.isTouched){var _25=false;var _26=[];var _27=this.getItemHeight();for(var i=0;i<_22.childControlList.length;i++){if(_22.childControlList[i].isSliding){_25=true;break;}_26[i]=parseInt((_22.childControlList[i].getScrollTop()+1)/_27,10);}if(!_25){var _29=_22.getSelectedIndex();var _2a=_26.join(_22.options.delimiter);if(_29!=_2a){_22.setSelectedIndex1(_2a);}}}}};})(this,_4);return _21;};$W._a.bc.prototype.initialize=function(_2b){if(_2b.getElementsByTagNameNS){var _2c=_2b.getElementsByTagNameNS("*","choices");}else{var _2c=_2b.getElementsByTagName("w2:choices");}for(var i=0;i<_2c.length;i++){var _2e=this.getNewItem(i,_2c[i]);_2e.initializeItemArr(_2c[i]);_2e.selectedIndex=0;this.addControl(_2e);}};$W._a.bc.prototype.toHTML=function(){["WebSquare.uiplugin.spinPicker.toHTML"];try{var _2f=[];var _30=(this.options.style=="")?"":"style='"+this.options.style+"'";_2f.push("<div id='"+this.id+"' "+_30+" class='w2spinPicker "+this.options.className+"'>");_2f.push("<div id='"+this.id+"_selectedRowBar' class='w2spinPicker_selectedRowBar'></div>");_2f.push("<div id='"+this.id+"_topGradient' class='w2spinPicker_topGradient'></div>");_2f.push("<div id='"+this.id+"_bottomGradient' class='w2spinPicker_bottomGradient'></div>");for(var i=0;i<this.childControlList.length;i++){_2f.push(this.childControlList[i].toHTML());}_2f.push("</div>");return _2f.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bc.prototype.setAction=function(){this.setLayout();if(this.modelControl.isBinded()){var _32=this.modelControl.getData();this.setValueNM(_32);}};$W._a.bc.prototype.setLayout=function(){for(var i=0;i<this.childControlList.length;i++){this.childControlList[i].componentRedraw();}};$W._a.bc.prototype.refresh=function(){if(this.modelControl.isBinded()){var _34=this.getValue();var _35=this.modelControl.getData();if(this.setValueNM(_35)==true){if(_34!=this.getValue()){$W._c.fireEvent(this,"onchange");}if(this.getValue()!=null&&_35!=this.getValue()){this.modelControl.setData(this.getValue());}}}};$W._a.bc.prototype.getValue=function(_36){["WebSquare.uiplugin.spinPicker.getValue"];try{var _36=_36||this.options.delimiter;var ret=[];for(var i=0;i<this.childControlList.length;i++){var _39=this.childControlList[i];ret.push(_39.itemArr[_39.selectedIndex].value);}return ret.join(_36).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bc.prototype.setValueNM=function(_3a){["WebSquare.uiplugin.spinPicker.setValueNM"];try{if($W._G.isNull(_3a)){return false;}var _3b=_3a.split(this.options.delimiter);var _3c=[];for(var i=0;i<this.childControlList.length;i++){var _3e=this.childControlList[i];for(var j=0;j<_3e.itemArr.length;j++){if(_3b[i]==_3e.itemArr[j].value){_3c[i]=j;break;}}if(_3c[i]==undefined){_3c=null;break;}}if(_3c){this.setSelectedIndexNM(_3c.join(this.options.delimiter));return true;}return false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bc.prototype.setValue=function(_40){["WebSquare.uiplugin.spinPicker.setValue"];try{if($W._G.isNull(_40)){return;}var _41=this.getValue();if(this.setValueNM(_40)==true){this.modelControl.setData(_40);if(_41!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bc.prototype.getText=function(_42){["WebSquare.uiplugin.spinPicker.getText"];try{var _42=_42||this.options.delimiter;var ret=[];for(var i=0;i<this.childControlList.length;i++){var _45=this.childControlList[i];ret.push(_45.itemArr[_45.selectedIndex].label);}return ret.join(_42).wq_trim();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bc.prototype.setText=function(_46){["WebSquare.uiplugin.spinPicker.setText"];try{if($W._G.isNull(_46)){return;}var _47=_46.split(this.options.delimiter);var _48=[];for(var i=0;i<this.childControlList.length;i++){var _4a=this.childControlList[i];for(var j=0;j<_4a.itemArr.length;j++){if(_47[i]==_4a.itemArr[j].label){_48[i]=_4a.itemArr[j].value;break;}}}this.setValue(_48.join(this.options.delimiter));}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bc.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.spinPicker.getSelectedIndex"];try{var _4c=[];for(var i=0;i<this.childControlList.length;i++){_4c.push(this.childControlList[i].selectedIndex);}return _4c.join(this.options.delimiter);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bc.prototype.setSelectedIndexNM=function(_4e){["WebSquare.uiplugin.spinPicker.setSelectedIndexNM"];try{var _4f=_4e.split(this.options.delimiter);for(var i=0;i<this.childControlList.length;i++){if(isNaN(_4f[i])||_4f[i]<0||_4f[i]>=this.childControlList[i].itemArr.length){return false;}}for(var i=0;i<this.childControlList.length;i++){this.childControlList[i].selectedIndex=parseInt(_4f[i],10);var _51=this.childControlList[i].getItemHeight();if(this.childControlList[i].getScrollTop()!=_4f[i]*_51){this.childControlList[i].scrollTo(null,_4f[i]*_51,this.options.scrollDuration!=-1?{duration:this.options.scrollDuration}:null);}}return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bc.prototype.setSelectedIndex=function(_52){["WebSquare.uiplugin.spinPicker.setSelectedIndex"];try{var _53=this.getSelectedIndex();this.setSelectedIndexNM(_52);this.modelControl.setData(this.getValue());if(_53!=_52){$W._c.fireEvent(this,"onchange");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bc.prototype.setSelectedIndex1=function(_54){["WebSquare.uiplugin.spinPicker.setSelectedIndex1"];try{var _55=this.getSelectedIndex();var _56=this.getValue();this.setSelectedIndex(_54);var _57=this.getSelectedIndex();var _58=this.getValue();if(_55!=_57){var _59={"oldValue":_56,"newValue":_58,"oldSelectedIndex":_55,"newSelectedIndex":_57};$W._c.fireEvent(this,"onviewchange",_59);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.bc.prototype.setRef=function(ref){["WebSquare.uiplugin.spinPicker.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.spinPicker=$W._a.bc;requires("uiplugin.spinPicker");requires("uiplugin/helper/dateHelper.js");requires("engine/formatter.js");$W._a._c=function(id,_2,_3){["WebSquare.uiplugin.datePicker"];$W._a.bc.call(this,id,_2,_3);};$W.extend($W._a._c.prototype,$W._a.bc.prototype);$W._a._c.prototype.defaultOptions={pluginType:"uiplugin.datePicker",pluginName:"datePicker",userEvents:["onchange","onviewchange"],useConfig:true,delimiter:" ",monthNames:"&nbsp;1\uc6d4,&nbsp;2\uc6d4,&nbsp;3\uc6d4,&nbsp;4\uc6d4,&nbsp;5\uc6d4,&nbsp;6\uc6d4,&nbsp;7\uc6d4,&nbsp;8\uc6d4,&nbsp;9\uc6d4,10\uc6d4,11\uc6d4,12\uc6d4",yearSuffix:"\ub144",dateSuffix:"\uc77c",ampm:"\uc624\uc804,\uc624\ud6c4",minuteInterval:1,calendarValueType:"yearMonthDate",support24Hour:false,minYear:1978,maxYear:2030,useLocale:false};$W._a._c.prototype.initialize=function(_4){if(this.options.useLocale){$W.extendKeepingType(this.options,{yearSuffix:this.getLocaleValue("DatePicker_yearSuffix"),monthNames:this.getLocaleValue("DatePicker_monthNames"),dateSuffix:this.getLocaleValue("DatePicker_dateSuffix"),ampm:this.getLocaleValue("DatePicker_ampm")});}if(parseInt(60/this.options.minuteInterval,10)*this.options.minuteInterval!=60){this.options.minuteInterval=1;}var _5=new Date();var _6={"year":_5.getFullYear()-this.options.minYear,"month":_5.getMonth(),"date":_5.getDate()-1,"ampm":_5.getHours()<12?0:1,"hour":this.options.support24Hour?_5.getHours():_5.getHours()%12,"minute":parseInt(_5.getMinutes()/this.options.minuteInterval,10),"second":_5.getSeconds()};var _7=[];var _8={};var _9=[];var _a=this.options.calendarValueType.toLowerCase();if(_a.indexOf("time")){_a=_a.replace("time","hourminute");}var _b=["year","month","date","hour","minute","second"];for(var i=0;i<_b.length;i++){if(_a.indexOf(_b[i])>=0){if(_b[i]=="hour"&&!this.options.support24Hour){_8["ampm"]=_7.length;_7.push("ampm");_9.push(_6["ampm"]);}_8[_b[i]]=_7.length;_7.push(_b[i]);_9.push(_6[_b[i]]);}}this.colTypeArr=_7;this.colTypeObj=_8;var _d=this.options.monthNames.split(",");var _e=this.options.ampm.split(",");for(var i=0;i<_7.length;i++){var id=this.id+"_item_"+i;var _10=this.options.calendarValueType+"_"+_7[i];var _11=this.getNewItem(id,{className:_10});_11.itemArr=[];_11.selectedIndex=_9[i];switch(_7[i]){case "year":for(var j=this.options.minYear;j<=this.options.maxYear;j++){_11.addItem(j,j+this.options.yearSuffix);}break;case "month":for(var j=0;j<12;j++){_11.addItem(j+1,_d[j]);}break;case "date":for(var j=1;j<=31;j++){_11.addItem(j,j+this.options.dateSuffix);}break;case "ampm":_11.addItem("AM",_e[0]);_11.addItem("PM",_e[1]);break;case "hour":for(var j=0;j<(this.options.support24Hour?24:12);j++){_11.addItem(j,(!this.options.support24Hour&&j==0)?12:j);}break;case "minute":for(var j=0;j<60;j+=this.options.minuteInterval){_11.addItem(j,j);}break;}this.addControl(_11);}this.selectedDateHelper=new $W._a._C(this.options.serverSync);};$W._a._c.prototype.toHTML=function(){["WebSquare.uiplugin.datePicker.toHTML"];var _13=[];var _14=(this.options.style=="")?"":"style='"+this.options.style+"'";_13.push("<div id='"+this.id+"' "+_14+" class='w2datePicker w2spinPicker "+this.options.className+"'>");_13.push("<div id='"+this.id+"_topGradient' class='w2spinPicker_topGradient'></div>");_13.push("<div id='"+this.id+"_bottomGradient' class='w2spinPicker_bottomGradient'></div>");_13.push("<div id='"+this.id+"_selectedRowBar' class='w2spinPicker_selectedRowBar'></div>");for(var i=0;i<this.childControlList.length;i++){_13.push(this.childControlList[i].toHTML());}_13.push("</div>");return _13.join("");};$W._a._c.prototype.setAction=function(){$W._a.bc.prototype.setAction.call(this);};$W._a._c.prototype.getDateString=function(_16){var _17="";var _18=["year","month","date","hour","minute","second"];for(var i=0;i<_18.length;i++){var _1a=_18[i];if(this.colTypeObj[_1a]!=null){var _1b=_16[this.colTypeObj[_1a]];if(!this.options.support24Hour&&_1a=="hour"&&_16[this.colTypeObj["ampm"]]=="PM"){_1b+=12;}(_1b<10)&&(_1b="0"+_1b);_17+=_1b;}}return _17;};$W._a._c.prototype.getDateArray=function(str){var _1d=[];var _1e=["year","month","date","hour","minute","second"];for(var i=0;i<_1e.length;i++){var _20=_1e[i];if(this.colTypeObj[_20]!=null){var len=_20=="year"?4:2;var _22=parseInt(str.substr(0,len),10);if(!this.options.support24Hour&&_20=="hour"){_1d.push(_22<12?"AM":"PM");_22%=12;}_1d.push(_22);str=str.slice(len);}}return _1d;};$W._a._c.prototype.refresh=function(){if(this.modelControl.isBinded()){var _23=this.getValue();var _24=this.modelControl.getData();var _25=this.getDateArray(_24);if(this.setValueNM(_25.join(this.options.delimiter))==true){if(_23!=this.getValue()){$W._c.fireEvent(this,"onchange");}if(this.getValue()!=null&&_24!=this.getValue()){this.modelControl.setData(this.getValue());}}}};$W._a._c.prototype.getItemValue=function(key){["WebSquare.uiplugin.datePicker.getItemValue"];try{var _27=null;var _28=this.colTypeObj[key];if(_28!=null){var _29=this.childControlList[_28];_27=_29.itemArr[_29.selectedIndex].value;if(key=="hour"){var _2a=this.colTypeObj["ampm"];var _2b=this.childControlList[_2a];if(_2b&&_2b.itemArr[_2b.selectedIndex].value=="PM"){_27+=12;}}}else{return "";}return _27;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._c.prototype.setItemValue=function(key,_2d){["WebSquare.uiplugin.datePicker.setItemValue"];try{if($W._G.isNull(key)||$W._G.isNull(_2d)){return;}var _2e=this.getValue();var _2f=this.getDateArray(_2e);if(this.colTypeObj[key]==null){return;}_2f[this.colTypeObj[key]]=_2d;if(key=="hour"&&this.colTypeObj["ampm"]!=null){_2f[this.colTypeObj["ampm"]]=(_2d<12)?"AM":"PM";_2f[this.colTypeObj[key]]=(_2d<12)?_2d:_2d-12;}if(this.setValueNM(_2f.join(this.options.delimiter))==true){var _30=this.getValue();this.modelControl.setData(_30);if(_2e!=_30){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._c.prototype.getValue=function(){["WebSquare.uiplugin.datePicker.getValue"];try{var _31=[];for(var i=0;i<this.childControlList.length;i++){var _33=this.childControlList[i];_31.push(_33.itemArr[_33.selectedIndex].value);}return this.getDateString(_31);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._c.prototype.setValue=function(_34){["WebSquare.uiplugin.datePicker.setValue"];try{if($W._G.isNull(_34)){return;}var _35=this.getDateArray(_34);var _36=this.getValue();if(this.setValueNM(_35.join(this.options.delimiter))==true){this.modelControl.setData(_34);if(_36!=this.getValue()){$W._c.fireEvent(this,"onchange");}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._c.prototype.setDisabled=function(_37){["WebSquare.uiplugin.datePicker.setDisabled"];var ret=$W._t.prototype.setDisabled.call(this,_37);for(var i=0;i<this.childControlList.length;i++){this.childControlList[i].setDisabled(_37);}return ret;};$W._a._c.prototype.setSelectedIndexNM=function(_3a){$W._a.bc.prototype.setSelectedIndexNM.call(this,_3a);if(this.colTypeObj["year"]!=null&&this.colTypeObj["month"]!=null&&this.colTypeObj["date"]!=null){this.selectedDateHelper.setDateAllByString(this.getValue().substr(0,6)+"01");var _3b=this.selectedDateHelper.getMonthCount(this.selectedDateHelper.getYear(),this.selectedDateHelper.getMonth());var _3c=this.childControlList[this.colTypeObj["date"]];var _3d=_3c.itemArr.length;if(_3b<_3d){for(var i=_3b;i<_3d;i++){_3c.deleteItem();}}else{if(_3b>_3d){for(var i=_3d+1;i<=_3b;i++){_3c.addItem(i,i+this.options.dateSuffix);}}}}};$W._a._c.prototype.setRef=function(ref){["WebSquare.uiplugin.datePicker.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a._c.prototype.finalize=function(){for(var i=this.childControlList.length-1;i>=0;i--){this.childControlList[i].remove();}};;WebSquare.uiplugin.datePicker=$W._a._c;requires("uiplugin.group");$W._a._S=function(id,_2,_3){["WebSquare.uiplugin.slider"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._S.prototype,$W._t.prototype);$W._a._S.prototype.defaultOptions={pluginType:"uiplugin.slider",pluginName:"slider",userEvents:["onthumbmove","onmovedone"],minValue:0,maxValue:100,increment:1,vertical:false,showScale:false,moveBack:false,animationDuration:0.5,value:0,animationMathOption:"round",tooltipShow:false,tooltipDisplay:false,tooltipTime:0.1,tooltipClass:"",tooltipAlways:false,tooltipFormatter:null,bothSideValue:6,setBackground:false,changeDirection:false,title:""};$W._a._S.prototype.initialize=function(_4){["WebSquare.uiplugin.slider.initialize"];try{this.thumbList=[];this.areaValue=[];this.positionValue=[];this.bothSideValue=this.options.bothSideValue;if(this.options.vertical==true){this.areaValue[0]="Height";this.positionValue[0]="Top";this.areaValue[1]="Width";this.positionValue[1]="Left";}else{this.areaValue[0]="Width";this.positionValue[0]="Left";this.areaValue[1]="Height";this.positionValue[1]="Top";}if(this.options.value){if(parseInt(this.options.value,10)>this.options.maxValue){this.options.value=this.options.maxValue+"";}else{if(parseInt(this.options.value,10)<this.options.minValue){this.options.value=this.options.minValue+"";}}}if(this.options.tooltipDisplay==true){this.options.tooltipShow=this.options.tooltipDisplay;}if(_4){var _5="w2:";var _6=$W._B.findNodes(_4,_5+"thumb");if(_6.length==0){var _7={id:"thumb1",index:0,parentId:this.id,value:this.options.value};this.thumbList[0]=new $W._a.thumb(_7);}else{for(var i=0;i<_6.length;i++){var _7=$W.WebSquareparser.parseAttribute(_6[i]);_7.parentId=this.id;_7.index=i;this.thumbList[i]=new $W._a.thumb(_7);}}}else{var _7={id:"thumb1",index:0,parentId:this.id,value:this.options.value};this.thumbList[0]=new $W._a.thumb(_7);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.toHTML=function(){["WebSquare.uiplugin.slider.toHTML"];try{var _9=[];var _a="";this.scaleCnt=0;var _b=(this.options.style=="")?"":"style='"+this.options.style+"'";var _c=(this.options.title=="")?"":"title='"+this.options.title+"'";var _d=(this.options.minValue=="")?"":"aria-valuemin='"+this.options.minValue+"'";var _e=(this.options.maxValue=="")?"":"aria-valuemax='"+this.options.maxValue+"'";var _f=(this.options.value=="")?"":"aria-valuenow='"+this.options.value+"'";var _10=(this.options.value=="")?"":"aria-labele='"+this.options.value+"'";if(this.options.maxValue>=this.options.minValue&&this.options.maxValue>=this.options.increment){this.scaleCnt=(this.options.maxValue-this.options.minValue)/this.options.increment-1;}if(this.options.vertical==true){_a="w2slider_vertical";}else{_a="w2slider_horizon";}_9.push("<div id='"+this.id+"' "+_b+" class='w2slider "+_a+" "+this.options.className+"' ");_9.push("role='slider' "+_d+" "+_e+" "+_f+" "+_10+">");_9.push("<div id='"+this.id+"_startLayer"+"' class='w2slider_startLayer'>");_9.push("</div>");_9.push("<div id='"+this.id+"_centerLayer"+"' class='w2slider_centerLayer'>");_9.push("</div>");_9.push("<div id='"+this.id+"_endLayer"+"' class='w2slider_endLayer'>");_9.push("</div>");_9.push("<div id='"+this.id+"_bgLayer"+"' class='w2slider_bgLayer'>");_9.push("</div>");if(this.options.showScale){_9.push("<div id='"+this.id+"_scale_start_0"+"' class='w2slider_scale_L"+"'></div>");_9.push("<div id='"+this.id+"_scale_start_1"+"' class='w2slider_scale_L"+"'></div>");for(var i=0;i<this.scaleCnt;i++){_9.push("<div id='"+this.id+"_scale_0_"+i+"' class='w2slider_scale'></div>");_9.push("<div id='"+this.id+"_scale_1_"+i+"' class='w2slider_scale'></div>");}_9.push("<div id='"+this.id+"_scale_end_0"+"' class='w2slider_scale_L"+"'></div>");_9.push("<div id='"+this.id+"_scale_end_1"+"' class='w2slider_scale_L"+"'></div>");}_9.push("</div>");return _9.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.setAction=function(){["WebSquare.uiplugin.slider.setAction"];try{this.drawTumb();if(this.modelControl.isBinded()){var _12=this.modelControl.getData();this.setThumbValueNM(_12,0);}if($W._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydown));this.event.addListener(document.documentElement,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(document.documentElement,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){$W._c.preventDefault(e);}));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.drawTumb=function(){["WebSquare.uiplugin.slider.drawTumb"];try{this.dom.start=$W.document.getElementById(this.id+"_startLayer");this.dom.center=$W.document.getElementById(this.id+"_centerLayer");this.dom.end=$W.document.getElementById(this.id+"_endLayer");this.dom.bg=$W.document.getElementById(this.id+"_bgLayer");this.dom.start.style[this.areaValue[1].toLowerCase()]=this.render["offset"+this.areaValue[1]]+"px";this.dom.center.style[this.areaValue[1].toLowerCase()]=this.render["offset"+this.areaValue[1]]+"px";this.dom.end.style[this.areaValue[1].toLowerCase()]=this.render["offset"+this.areaValue[1]]+"px";this.dom.bg.style[this.areaValue[1].toLowerCase()]=this.render["offset"+this.areaValue[1]]+"px";this.bothSideValue=this.dom.start["offset"+this.areaValue[0]];this.dom.center.style[this.positionValue[0].toLowerCase()]=this.bothSideValue-2+"px";this.dom.center.style[this.areaValue[0].toLowerCase()]=this.render["offset"+this.areaValue[0]]-(this.bothSideValue*2)+4+"px";this.dom.bg.style[this.positionValue[0].toLowerCase()]=this.bothSideValue-2+"px";for(var i=0;i<this.thumbList.length;i++){this.render.appendChild(this.thumbList[i].getThumbRender());this.thumbList[i].inputRender.setAttribute("title",this.options.title);this.render.appendChild(this.thumbList[i].inputRender);this.event.addListener(this.thumbList[i].inputRender,"onblur",this.event.bindAsEventListener(this,this.handleInputBlur));}this.thumbArea=parseInt(this.thumbList[0].render["offset"+this.areaValue[0]],10);this.thumbPosition=(this.render["offset"+this.areaValue[1]]-this.thumbList[0].render["offset"+this.areaValue[1]])/2;for(var i=0;i<this.thumbList.length;i++){this.thumbList[i].render.style[this.positionValue[1].toLowerCase()]=this.thumbPosition+"px";}this.minPosition=$W._H["getAbsolute"+this.positionValue[0]](this.render);this.maxPosition=parseInt(this.render["offset"+this.areaValue[0]],10)-this.thumbArea+1;this.bgStValue=this.options.minValue;if(this.options.showScale){var _15=$W.document.getElementById(this.id+"_scale_start_0");var _16=$W.document.getElementById(this.id+"_scale_start_1");_15.style[this.positionValue[0].toLowerCase()]=this.thumbArea/2+"px";_16.style[this.positionValue[0].toLowerCase()]=this.thumbArea/2+"px";_15.style[this.positionValue[1].toLowerCase()]=this.thumbPosition-_15["offset"+this.areaValue[1]]-3+"px";_16.style[this.positionValue[1].toLowerCase()]=this.thumbPosition+this.thumbList[0].render["offset"+this.areaValue[1]]+3+"px";var _17=$W.document.getElementById(this.id+"_scale_end_0");var _18=$W.document.getElementById(this.id+"_scale_end_1");_17.style[this.positionValue[0].toLowerCase()]=this.render["offset"+this.areaValue[0]]-this.thumbArea/2+"px";_18.style[this.positionValue[0].toLowerCase()]=this.render["offset"+this.areaValue[0]]-this.thumbArea/2+"px";_17.style[this.positionValue[1].toLowerCase()]=this.thumbPosition-_15["offset"+this.areaValue[1]]-3+"px";_18.style[this.positionValue[1].toLowerCase()]=this.thumbPosition+this.thumbList[0].render["offset"+this.areaValue[1]]+3+"px";var _19=this.options.increment/(this.options.maxValue-this.options.minValue)*100;var _1a=this.render["offset"+this.areaValue[0]]-this.thumbArea;for(var i=0;i<this.scaleCnt;i++){var _1b=$W.document.getElementById(this.id+"_scale_0_"+i);var _1c=$W.document.getElementById(this.id+"_scale_1_"+i);_1b.style[this.positionValue[0].toLowerCase()]=_1a/100*_19*(i+1)+this.thumbArea/2+"px";_1c.style[this.positionValue[0].toLowerCase()]=_1a/100*_19*(i+1)+this.thumbArea/2+"px";_1b.style[this.positionValue[1].toLowerCase()]=this.thumbPosition-_1b["offset"+this.areaValue[1]]-3+"px";_1c.style[this.positionValue[1].toLowerCase()]=this.thumbPosition+this.thumbList[0].render["offset"+this.areaValue[1]]+3+"px";}}this.initThumbPosition();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.refresh=function(){["WebSquare.uiplugin.slider.refresh"];try{if(this.modelControl.isBinded()){var _1d=this.modelControl.getData();this.setThumbValueNM(_1d,0);$W._c.fireEvent(this,"onthumbmove",this.thumbList[0].value,this.thumbList[0].id);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.initThumbPosition=function(){["WebSquare.uiplugin.slider.initThumbPosition"];try{for(var i=0;i<this.thumbList.length;i++){if(!this.thumbList[i].render){this.thumbList[i].render=document.getElementById(this.id+"_"+this.thumbList[i].id);}this.thumbList[i].render.style[this.positionValue[0].toLowerCase()]=this.valueToPosition(this.thumbList[i].value)+"px";this.setBackGroundImage(this.thumbList[i].value);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.getCurrentThumbElement=function(){["WebSquare.uiplugin.slider.getCurrentThumbElement"];try{return this.thumbList[this.movedIndex].render;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.getCurrentThumb=function(){["WebSquare.uiplugin.slider.getCurrentThumb"];try{return this.thumbList[this.movedIndex];}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.getThumbValue=function(_1f){if(!_1f){_1f=0;}return parseFloat(this.thumbList[_1f].value,10);};$W._a._S.prototype.getValue=function(){return this.getThumbValue(0);};$W._a._S.prototype.setThumbValue=function(_20,_21){["WebSquare.uiplugin.slider.setThumbValue"];try{if(!_21){_21=0;}this.moveThumb(_21,_20);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.setValue=function(_22){this.setThumbValue(_22,0);};$W._a._S.prototype.setThumbValueNM=function(_23,_24){this.thumbList[_24].value=_23;this.thumbList[_24].inputRender.value=_23;if(this.options.moveBack!=true){this.thumbList[_24].render.style[this.positionValue[0].toLowerCase()]=this.valueToPosition(_23)+"px";}this.setBackGroundImage(_23);this.render.setAttribute("aria-valuenow",_23);};$W._a._S.prototype.positionToValue=function(_25){["WebSquare.uiplugin.slider.positionToValue"];try{var _26=(this.options.maxValue-this.options.minValue)*(_25-this.minPosition)/this.maxPosition+this.options.minValue;_26=this.options.changeDirection?this.options.maxValue-_26:_26;return _26;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.valueToPosition=function(_27){["WebSquare.uiplugin.slider.valueToPosition"];try{if(this.options.maxValue-this.options.minValue===0){if(this.options.minValue===0){return 0;}else{return this.maxPosition;}}if(_27>this.options.maxValue){_27=this.options.maxValue;}else{if(_27<this.options.minValue){_27=this.options.minValue;}}var _28=(_27-this.options.minValue)*this.maxPosition/(this.options.maxValue-this.options.minValue);_28=this.options.changeDirection?this.maxPosition-_28:_28;_28=Math.ceil(_28);return _28;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.setBackGroundImage=function(_29){var _2a=this.valueToPosition(_29);var _2b=false;if(_2a===this.maxPosition){_2b=true;}if(this.options.setBackground==true){if(this.options.changeDirection==true){this.dom.bg.style[this.positionValue[0].toLowerCase()]=_2a+"px";if(this.bgStValue<_29||_2b){this.addClass(this.dom.end,"w2slider_endLayerBg");}else{this.removeClass(this.dom.end,"w2slider_endLayerBg");}this.dom.bg.style[this.areaValue[0].toLowerCase()]=parseInt(this.render["offset"+this.areaValue[0]],10)-_2a-this.bothSideValue+2+"px";}else{if(this.bgStValue<_29||_2b){this.addClass(this.dom.start,"w2slider_startLayerBg");}else{this.removeClass(this.dom.start,"w2slider_startLayerBg");}this.dom.bg.style[this.areaValue[0].toLowerCase()]=_2a+"px";}}};$W._a._S.prototype.moveThumb=function(_2c,_2d){["WebSquare.uiplugin.slider.moveThumb"];try{var _2e=false;var _2f="";if(_2d<=this.options.minValue){_2d=this.options.minValue;}else{if(_2d>=this.options.maxValue){_2d=this.options.maxValue;}}if(this.options.moveBack==false){var _30={};if(_2d>this.thumbList[_2c].value){_30=Math.floor;}else{_30=Math.ceil;}if(_2d===this.options.maxValue){_2f=_2d;}else{_2d-=this.options.minValue;_2f=_30(_2d/this.options.increment)*this.options.increment;_2f+=this.options.minValue;if(_2f>this.options.maxValue){_2f=this.options.maxValue;}}}else{this.thumbList[_2c].render.style[this.positionValue[0].toLowerCase()]=this.valueToPosition(_2d)+"px";this.lastThumbPosition=this.valueToPosition(_2d);_2f=Math[this.options.animationMathOption](_2d/this.options.increment)*this.options.increment;}if(_2f!=this.thumbList[_2c].value){this.modelControl.setData(_2f);this.setThumbValueNM(_2f,_2c);$W._c.fireEvent(this,"onthumbmove",this.thumbList[_2c].value,this.thumbList[_2c].id);return true;}else{return false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.slideAnimation=function(_31,_32,_33){["WebSquare.uiplugin.slider.slideAnimation"];try{var _34=this.options.animationDuration*1000;var _35=10;function CubicBezierAtTime(t,p1x,p1y,p2x,p2y,_3b){var ax=0,bx=0,cx=0,ay=0,by=0,cy=0;function sampleCurveX(t){return ((ax*t+bx)*t+cx)*t;}function sampleCurveY(t){return ((ay*t+by)*t+cy)*t;}function sampleCurveDerivativeX(t){return (3*ax*t+2*bx)*t+cx;}function solveEpsilon(_40){return 1/(200*_40);}function solve(x,_42){return sampleCurveY(solveCurveX(x,_42));}function solveCurveX(x,_44){var t0,t1,t2,x2,d2,i;function fabs(n){if(n>=0){return n;}else{return 0-n;}}for(t2=x,i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(fabs(x2)<_44){return t2;}d2=sampleCurveDerivativeX(t2);if(fabs(d2)<0.000001){break;}t2=t2-x2/d2;}t0=0;t1=1;t2=x;if(t2<t0){return t0;}if(t2>t1){return t1;}while(t0<t1){x2=sampleCurveX(t2);if(fabs(x2-x)<_44){return t2;}if(x>x2){t0=t2;}else{t1=t2;}t2=(t1-t0)*0.5+t0;}return t2;}cx=3*p1x;bx=3*(p2x-p1x)-cx;ax=1-cx-bx;cy=3*p1y;by=3*(p2y-p1y)-cy;ay=1-cy-by;return solve(t,solveEpsilon(_3b));}var t=new Date().getTime()-(_33-_34);var cp=[0.25,0.1,0.25,1];var _49="ease";switch(_49){case "ease":cp=[0.25,0.1,0.25,1];break;case "linear":cp=[0,0,1,1];break;case "ease-in":cp=[0.42,0,1,1];break;case "ease-out":cp=[0,0,0.58,1];break;case "ease-in-out":cp=[0.42,0,0.58,1];break;case "deceleration":cp=[0,0,0,1];break;case "acceleration":cp=[1,0,1,1];break;}var _4a=CubicBezierAtTime(t/_34,cp[0],cp[1],cp[2],cp[3],_34/1000);this.thumbList[_31].render.style[this.positionValue[0].toLowerCase()]=this.lastThumbPosition+(this.valueToPosition(_32)-this.lastThumbPosition)*_4a+"px";if(t>=_34){this.stopSlideAnimation();return;}$W._N.setTimer(this.slideAnimation,{key:this.id+"_slider_slide",caller:this,delay:_35,args:[_31,_32,_33]});}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.stopSlideAnimation=function(){["WebSquare.uiplugin.slider.stopSlideAnimation"];try{$W._N.clearTimer(this.id+"_slider_slide");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.getThumbMaxValue=function(_4b){return "";};$W._a._S.prototype.getThumbMinValue=function(_4c){return "";};$W._a._S.prototype.getPosition=function(e){["WebSquare.uiplugin.slider.getPosition"];try{var _4e=0;if(this.options.vertical==true){_4e=$W._c.getMouseY(e);}else{_4e=$W._c.getMouseX(e);}return _4e-this.thumbArea/2;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.getNearThumbIndex=function(_4f){["WebSquare.uiplugin.slider.getNearThumbIndex"];try{var _50=0;var _51=this.options.maxValue-this.options.minValue+1;for(var i=0;i<this.thumbList.length;i++){if(Math.abs(this.thumbList[i].value-_4f)<_51){_50=i;_51=Math.abs(this.thumbList[i].value-_4f);}}return _50;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.setRef=function(ref){["WebSquare.uiplugin.slider.prototype.setRef "];try{if(!this.modelControl.isBinded()){this.modelControl.useRef=true;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){$W.exception.printStackTrace(e);}};$W._a._S.prototype.handleTouchStart=function(e){["WebSquare.uiplugin.slider.prototype.handleTouchStart"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2thumb_input")){break;}if(it.match(null,this.id)){var _56=this.getPosition(e);var _57=this.positionToValue(_56);this.movedIndex=this.getNearThumbIndex(_57);var _58=this.thumbList[this.movedIndex];this.moveStart=true;var _59=this.moveThumb(this.movedIndex,_57);this.addClass(_58.render,"w2thumb_over");this.showTooltip(this.movedIndex,_58.value);$W._c.stopEvent(e);this.render.focus();break;}if(it.match("w2thumb")){this.minPosition=$W._g["getAbsolute"+this.positionValue[0]](this.render);this.maxPosition=parseInt(this.render["offset"+this.areaValue[0]],10)-this.thumbArea+1;this.movedIndex=it.getElement().getAttribute("thumbIndex");var _58=this.thumbList[this.movedIndex];this.addClass(_58.render,"w2thumb_over");$W._c.stopEvent(e);this.showTooltip(this.movedIndex,_58.value);this.moveStart=true;this.render.focus();break;}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.handleTouchMove=function(e){["WebSquare.uiplugin.slider.prototype.handleTouchMove"];try{if(this.moveStart==true){var _5b=this.getCurrentThumb();var _5c=this.getThumbMaxValue(this.movedIndex);var _5d=this.getThumbMinValue(this.movedIndex);var _5e=this.getPosition(e);var _5f=this.positionToValue(_5e);var _60=this.moveThumb(_5b.index,_5f);if(_60==true){this.addClass(_5b.render,"w2thumb_over");this.setTooltipLabel(_5b.value);this.setTooltipPosition(_5b.index);}}$W._c.stopEvent(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.handleTouchEnd=function(e){["WebSquare.uiplugin.slider.prototype.handleTouchEnd"];try{if(this.moveStart==true){if(this.options.moveBack==true){var _62=new Date().getTime()+this.options.animationDuration;this.slideAnimation(this.movedIndex,this.thumbList[this.movedIndex].value,_62);}this.removeClass(this.thumbList[this.movedIndex].render,"w2thumb_over");this.hideTooltip();this.moveStart=false;$W._c.fireEvent(this,"onmovedone",this.thumbList[this.movedIndex].value,this.thumbList[this.movedIndex].id);}$W._c.stopEvent(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.handleInputBlur=function(e){["WebSquare.uiplugin.slider.prototype.handleInputBlur"];try{var elm=e.srcElement;var _65=elm.getAttribute("thumbIndex");var _66=parseFloat(elm.value)||0;if(_66<this.options.minValue||_66>this.options.maxValue){var _67=$W._m.getMessage("Slider_warning1",this.options.minValue,this.options.maxValue)||this.options.minValue+"\uc5d0\uc11c "+this.options.maxValue+" \uc0ac\uc774\uc758 \uac12\uc744 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.";alert(_67);elm.focus();}else{if((_66-this.options.minValue)%this.options.increment>0){var _68=$W._m.getMessage("Slider_warning2",this.options.minValue,this.options.maxValue,this.options.increment)||this.options.minValue+"\uc5d0\uc11c "+this.options.maxValue+"\uae4c\uc9c0\uc758 \uac12\ub4e4 \uc911 "+this.options.increment+"\uc529 \uc99d\uac00\ud55c \uac12\uc744 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.";alert(_68);elm.focus();}else{this.setThumbValue(elm.value,_65);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.handleKeydown=function(e){["WebSquare.uiplugin.slider.prototype.handleKeydown"];try{var _6a=this.movedIndex||0;var _6b=this.getThumbValue(_6a);if(e.srcElement.nodeName.toLowerCase()=="input"){return;}switch(e.keyCode){case 37:if(this.options.vertical==false){if(this.options.changeDirection==false){this.setThumbValue(_6b-this.options.increment,_6a);}else{this.setThumbValue(_6b+this.options.increment,_6a);}}else{this.setThumbValue(_6b-this.options.increment,_6a);}$W._c.stopEvent(e);break;case 39:if(this.options.vertical==false){if(this.options.changeDirection==true){this.setThumbValue(_6b-this.options.increment,_6a);}else{this.setThumbValue(_6b+this.options.increment,_6a);}}else{this.setThumbValue(_6b+this.options.increment,_6a);}$W._c.stopEvent(e);break;case 38:if(this.options.vertical==true){if(this.options.changeDirection==false){this.setThumbValue(_6b-this.options.increment,_6a);}else{this.setThumbValue(_6b+this.options.increment,_6a);}}else{this.setThumbValue(_6b+this.options.increment,_6a);}$W._c.stopEvent(e);break;case 40:if(this.options.vertical==true){if(this.options.changeDirection==true){this.setThumbValue(_6b-this.options.increment,_6a);}else{this.setThumbValue(_6b+this.options.increment,_6a);}}else{this.setThumbValue(_6b-this.options.increment,_6a);}$W._c.stopEvent(e);break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.showTooltip=function(_6c,_6d){["WebSquare.uiplugin.slider.showTooltip"];try{if(this.options.tooltipShow==true){if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}if(this.timeHideTooltip!=null){clearTimeout(this.timeHideTooltip);this.timeHideTooltip=null;}this.timeShowTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(!this.tooltip){this.tooltip=new $W._a._o(this.id+"_tooltip",{className:"w2slider_tooltip "+this.options.tooltipClass});this.tooltip.writeTo($W.getBody(),null,this.parentFrame);this.tooltip.activate();}if(this.options.vertical==true){this.tooltip.setStyle("left",$W._H.getAbsoluteLeft(this.render)+this.thumbPosition+25+"px");}else{this.tooltip.setStyle("top",$W._H.getAbsoluteTop(this.render)+this.thumbPosition-25+"px");}this.tooltip.setStyle("display","block");this.setTooltipLabel(_6d);this.setTooltipPosition(_6c);}),this.options.tooltipTime*1000);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._S.prototype.setTooltipPosition=function(_6e){if(this.tooltip){var _6f=this.valueToPosition(this.thumbList[_6e].value);_6f=this.minPosition+_6f-this.tooltip.render["offset"+this.areaValue[0]]/2+this.thumbArea/2;this.tooltip.setStyle(this.positionValue[0].toLowerCase(),_6f+"px");}};$W._a._S.prototype.setSize=function(_70,_71){["WebSquare.uiplugin.slider.setSize"];try{$W._n.prototype.setSize.call(this,_70,_71);this.drawTumb();}catch(e){$W.exception.printStackTrace(e);}};$W._a._S.prototype.setTooltipLabel=function(_72){if(this.tooltip){if(this.options.tooltipFormatter){try{_72=eval(this.options.tooltipFormatter+"("+_72+")");}catch(e){}}this.tooltip.render.innerHTML=_72;}};$W._a._S.prototype.hideTooltip=function(){["WebSquare.uiplugin.slider.hideTooltip"];try{this.timeHideTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(this.tooltip){this.tooltip.setStyle("display","none");}}),this.options.tooltipTime*1000);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.thumb=function(_73){this.id=_73.id||"thumb";this.value=_73.value||0;this.index=_73.index;this.options=_73;};$W._a.thumb.prototype.getThumbRender=function(){if(!this.render){this.render=document.createElement("div");this.render.setAttribute("id",this.options.parentId+"_"+this.id);this.render.setAttribute("className","w2thumb");this.render.setAttribute("class","w2thumb");this.render.setAttribute("thumbIndex",this.index);this.inputRender=document.createElement("input");this.inputRender.setAttribute("className","w2thumb_input");this.inputRender.setAttribute("class","w2thumb_input");}return this.render;};;WebSquare.uiplugin.slider=$W._a._S;$W._a._u=function(id,_2,_3){["WebSquare.uiplugin.tabControl"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._u.prototype,$W._t.prototype);$W.extend($W._a._u.prototype,$W._n.prototype);$W._a._u.prototype.defaultOptions={pluginType:"uiplugin.tabControl",pluginName:"tabControl",userEvents:["ontabclick","onchange","ontabclose","onclick","onbeforeselect","onbeforetabclose"],useConfig:true,selectedIndex:0,containerClass:"w2tabcontrol_container",hostClass:"w2tabcontrol_tabhost",tabClass:"",tabStyle:"",activeTabClass:"w2tabcontrol_active",overTabClass:"w2tabcontrol_over",disabledTabClass:"w2tabcontrol_disabled",contentsClass:"w2tabcontrol_contents",alwaysDraw:false,useTabKeyOnly:false,useBackbridge:false,useConfirmMessage:false,confirmTrueAction:"exist",confirmFalseAction:"new",confirmMessage:"[#title]\ud0ed\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4. \uae30\uc874\uc758 \ud0ed\uc744 \uc0ac\uc6a9\ud558\uc2dc\ub824\uba74 '\ud655\uc778'\uc744 \uc0c8\ub85c\uc6b4 \ud0ed\uc744 \uc0dd\uc131\ud558\uc2dc\ub824\uba74 '\ucde8\uc18c'\ub97c \uc120\ud0dd\ud558\uc138\uc694",confirmMessageLocaleRef:"",tabScroll:false,adjustTabScroll:false,visibleRowNum:5,closable:false,useBridgeHelper:true,spa:false,spaIframeMaxSize:0,spaIframeMinSize:0,spaInitCount:0,windowMaxNum:-1,tabScrollAuto:false,focusOnStart:true,useLocale:false,localeRef:"",hiddenTab:false};$W._a._u.prototype.defaultTabContentOptions={alwaysDraw:false,src:"",style:"",frameMode:"",name:"",title:""};$W._a._u.prototype.initialize=function(_4){["WebSquare.uiplugin.tabControl.initialize"];try{this.selectedIndex=0;this.tabArr=[];this.contentsArr=[];this.tabContentOptions=this.defaultTabContentOptions;this.focusedIndex=-1;this.activeFirstTime=false;this.increaseKey=0;this.visibleTabIndex=0;this.itemTable=null;this.isOpen=false;this.itemTableTdMargin=null;this.senseReaderMode=true;this.bridgeIdArr=[];this.backbridgeIdArr=[];this.lastEventType="";this.storedFrame=[];this.autoNum=0;if(this.options.confirmMessageLocaleRef!=null&&this.options.confirmMessageLocaleRef!=""){this.options.confirmMessage=this.getLocaleValue(this.options.confirmMessageLocaleRef);}if(this.options.iframeStorageCount&&!this.options.spaIframeMaxSize){this.options.spaIframeMaxSize=this.options.iframeStorageCount;}if(this.options.iframeMaxSize&&!this.options.spaIframeMaxSize){this.options.spaIframeMaxSize=this.options.iframeMaxSize;}if(this.options.iframeMinSize&&!this.options.spaIframeMinSize){this.options.spaIframeMinSize=this.options.iframeMinSize;}if(this.options.spaIframeMinSize>this.options.spaIframeMaxSize){this.options.spaIframeMaxSize=this.options.spaIframeMinSize;}if(this.options.spaInitCount>0){this.options.spaIframeMaxSize=this.options.spaIframeMinSize=this.options.spaInitCount;}if($W._N.getConfiguration("/WebSquare/spa/@value")=="true"||this.options.spaIframeMaxSize>0){this.options.spa=true;}if(_4==null){return;}this.tabArr=this.makeTabArray(_4,this.options);this.contentsArr=this.makeTabContentsArray(_4,this.tabContentOptions,this.tabArr);this.initAllContents();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.initContents=function(_5){["WebSquare.uiplugin.tabControl.initContents"];try{var _6;if(_5.frameMode=="iframe"||_5.frameMode=="wframe"){if(_5.frameMode=="iframe"){requires("uiplugin.iframe");_6=new $W._a.bq(_5.contentsID+"_body",{className:"w2tabContainer_contents w2tabcontrol_contents_wrapper",style:"width:100%; height:100%;",name:_5.name,title:_5.title,spa:this.options.spa});}else{requires("uiplugin.wframe");_6=new $W._a._A(_5.contentsID+"_body",{className:"w2tabContainer_contents w2tabcontrol_contents_wrapper"});}}else{_6=$W.controlFactory.create(_5.contentsID+"_body",{className:"w2tabcontrol_contents_wrapper"},_5.xml);}return _6;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.initAllContents=function(){["WebSquare.uiplugin.tabControl.initAllContents"];try{var _7,comp;for(var i=0;i<this.contentsArr.length;i++){_7=this.contentsArr[i];comp=this.initContents(_7);this.addControl(comp);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.makeTabContentsArray=function(_9,_a,_b){["WebSquare.uiplugin.tabControl.makeTabContentsArray"];try{if(_b==null||_b.length<1){return [];}var _c=[];var _d={};var _e=$W._B.findNodes(_9,"*['"+"content"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");for(var i=0;i<_b.length;i++){var elm=i<_e.length?_e[i]:null;if(elm==null||elm.nodeType!=1||elm.nodeName!="w2:content"){elm=null;_d={};}else{_d=$W.WebSquareparser.parseAttribute(elm);}var id=(elm==null||elm.getAttribute("id")==null)?this.id+"_contents_"+i:this.id+"_contents_"+elm.getAttribute("id");_b[i].contentsID=id;if(_d.alwaysDraw){_d.alwaysDraw=$W._G.getBoolean(_d.alwaysDraw);}else{if(_d.alwaysDraw==false){}else{_d.alwaysDraw=this.options.alwaysDraw;}}var _12=$W.extend({contentsID:id,contentsClass:_d.contentsClass||this.options.contentsClass,src:_d.src||_a.src,frameMode:_d.src!=null&&_d.src!=""?(_d.frameMode||_a.frameMode):"",alwaysDraw:_d.alwaysDraw,render:null,xml:elm,name:_d.name||"",title:_d.title},_d||{});if(_12.src!=null&&_12.src!=""&&_12.frameMode==""){_12.frameMode="wframe";}_c.push(_12);}return _c;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.makeTabArray=function(_13,_14){["WebSquare.uiplugin.tabControl.makeTabArray"];try{if(_13==null){return [];}var _15=[];var _16=false;var _17=0;for(var i=0;i<_13.childNodes.length;i++){var elm=_13.childNodes[i];if(elm.nodeType!=1||elm.nodeName!="w2:tabs"){continue;}_17++;if(this.options.windowMaxNum!=-1&&_17>this.options.windowMaxNum){alert($W._m.getMessage("TabControl_maxNum_warning",this.options.windowMaxNum));break;}var _1a=elm.getAttribute("id");var id=this.id+"_tab_"+(_1a==null?i:_1a);var _1c=$W.WebSquareparser.parseAttribute(elm);if(typeof _1c.label=="undefined"){_1c.label="";}_1c.label=_1c.useLocale=="true"?this.getLocaleValue(_1c.localeRef):_1c.label||_1c.label;if(this.options.closable==true){_16=true;}var tab={tabID:id,userTabID:_1a,contentsID:"",tabLabel:_1c.label,disabled:_1c.disabled=="true"?true:false,render:null,tabWidth:parseInt(_1c.tabWidth,10)>0?parseInt(_1c.tabWidth,10):this.options.tabWidth,tabGap:parseInt(_1c.tabGap,10)>0?parseInt(_1c.tabGap,10):this.options.tabGap,tabHeight:parseInt(_1c.tabHeight,10)>0?parseInt(_1c.tabHeight,10):this.options.tabHeight,tabClass:_1c["className"]||this.options.tabClass,tabStyle:_1c.style||this.options.tabStyle,activeTabClass:_1c.activeTabClass||this.options.activeTabClass,disabledTabClass:_1c.disabledTabClass||this.options.disabledTabClass,selectedImage:_1c.selectedImage?"url("+_1c.selectedImage+")":"",defaultImage:_1c.defaultImage?"url("+_1c.defaultImage+")":"",hoverImage:_1c.hoverImage?"url("+_1c.hoverImage+")":"",tabType:_1c.tabType=="image"?"image":"text",selectedClass:_1c.selectedClass||"",defaultClass:_1c.defaultClass||"",hoverClass:_1c.hoverClass||"",closable:$W._G.getBoolean(_1c.closable)==true?true:_16,hiddenTab:$W._G.getBoolean(_1c.hiddenTab)==true?true:false,closeBtn:null,label:_1c.label,value:id,title:_1c.title||_1c.label};_15.push(tab);}return _15;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.toHTML=function(){["WebSquare.uiplugin.tabControl.toHTML"];try{var _1e=[];var _1f=(this.options.style=="")?"":"style='"+this.options.style+"'";_1e.push("<div id='"+this.id+"' "+_1f+" class='w2tabcontrol "+this.options.className+"'>");if(this.options.tabScroll){_1e.push("<div id='"+this.id+"_control' class='w2tabcontrol_control'>");_1e.push("<div id='"+this.id+"_btn_scrollLeft' class='w2tabcontrol_control btn_scrollLeft' tabindex='-1'></div>");_1e.push("<div id='"+this.id+"_mask' class='w2tabcontrol_control mask'>");_1e.push("<div id='"+this.id+"_scroll' class='w2tabcontrol_control scroll'>");}_1e.push(this.makeAllTabHTML());if(this.options.tabScroll){_1e.push("</div>");_1e.push("</div>");_1e.push("<div id='"+this.id+"_btn_scrollRight' class='w2tabcontrol_control btn_scrollRight' tabindex='-1'></div>");_1e.push("<div id='"+this.id+"_btn_submenu' class='w2tabcontrol_control btn_submenu' tabindex='-1'></div>");_1e.push("</div>");}_1e.push(this.makeAllContentsHTML());_1e.push("</div>");return _1e.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.makeTextTabHTML=function(tab,idx,_22){["WebSquare.uiplugin.tabControl.makeTextTabHTML"];try{var _23=$W._m.getMessage("TabControl_close")||"\ub2eb\uae30";var _24=["<li id='",null,"'  class='w2tabcontrol_li ",null,"' ",null," index='",null,"' ><div class='w2tabcontrol_tab_center' ><a role='tab' aria-controls='",null,"' href='#",null,"' ",null," "+(this.options.useTabKeyOnly==false?"tabindex='-1'":"")+" >",null,"</a></div><div class='w2tabcontrol_tab_left'></div><div class='w2tabcontrol_tab_right' >","<div id='",null,"' class='w2tabcontrol_tab_close' title='"+_23+"'></div></div></li>"];var _25=(tab.tabWidth>0?"width:"+tab.tabWidth+"px;":"")+(tab.tabHeight>0?"height:"+tab.tabHeight+"px;line-height:"+(tab.tabHeight-1)+"px;":"")+(tab.tabGap>0?"margin-right:"+tab.tabGap+"px;":"")+(tab.tabStyle?tab.tabStyle:"");_24[1]=tab.tabID;_24[3]=(" w2tabcontrol_li_"+idx)+(tab.disabled?" "+tab.disabledTabClass:"")+(tab.tabClass?" "+tab.tabClass:"");if(!_22&&idx===this.options.selectedIndex+1){_24[3]+=" "+tab.activeTabClass+(tab.selectClass?" "+tab.selectClass:"");}else{_24[3]+=(tab.defaultClass?" "+tab.defaultClass:"");}_24[5]=_25==""?"":"style=\""+_25+"\"";_24[7]=idx;_24[9]=tab.contentsID;_24[11]=tab.contentsID+"_bridge";_24[13]=tab.title==""?"":"title=\""+tab.title+"\"";_24[15]=tab.tabLabel;_24[18]=tab.tabID+"_close";return _24.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.makeImageTabHTML=function(tab,idx,_28){["WebSquare.uiplugin.tabControl.makeImageTabHTML"];try{var _29=$W._m.getMessage("TabControl_close")||"\ub2eb\uae30";var _2a=["<li id='",null,"' class='w2tabcontrol_li ",null,"' ",null," index='",null,"'><div class='w2tabcontrol_tab_center2' ",null,"' ",null," role='tab' ",null," "+(this.options.useTabKeyOnly==false?"tabindex='-1'":"")+" ></div><div class='w2tabcontrol_tab_left2'></div><div class='w2tabcontrol_tab_right2' >","<div id='",null,"' class='w2tabcontrol_tab_close2' title='"+_29+"'></div>","</div></li>"];var _2b=(tab.tabWidth>0?"width:"+tab.tabWidth+"px;":"")+(tab.tabHeight>0?"height:"+tab.tabHeight+"px;line-height:"+(tab.tabHeight-1)+"px;":"")+(tab.tabGap>0?"margin-right:"+tab.tabGap+"px;":"")+(tab.tabStyle?tab.tabStyle:"");_2a[1]=tab.tabID;_2a[3]=(" w2tabcontrol_li_"+idx)+(tab.disabled?" "+tab.disabledTabClass:"")+(tab.tabClass?" "+tab.tabClass:"");if(!_28&&idx===this.options.selectedIndex+1){_2a[3]+=" "+tab.activeTabClass+(tab.selectClass?" "+tab.selectClass:"");_2a[9]=tab.selectedImage?"style='background-image:"+tab.selectedImage+";":"";}else{_2a[3]+=(tab.defaultClass?" "+tab.defaultClass:"");_2a[9]=tab.defaultImage?"style='background-image:"+tab.defaultImage+";":"";}_2a[5]=_2b==""?"":"style=\""+_2b+"\"";_2a[7]=idx;_2a[11]=tab.title==""?"":"title=\""+tab.title+"\"";_2a[13]=tab.contentsID==""?"":"aria-controls=\""+tab.contentsID+"\"";_2a[16]=tab.tabID+"_close";return _2a.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.makeAllTabHTML=function(){["WebSquare.uiplugin.tabControl.makeAllTabHTML"];try{var _2c=[];_2c.push("<ul id='"+this.id+"_tabhost' class='"+this.options.hostClass+"' role='tablist' >");for(var i=0;i<this.tabArr.length;i++){var tab=this.tabArr[i];if(this.tabArr[i].hiddenTab){continue;}var _2f="make"+tab.tabType.capitalize()+"TabHTML";_2c.push(this[_2f](tab,i+1));}_2c.push("</ul>");return _2c.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.makeContentsHTML=function(_30,_31,_32){["WebSquare.uiplugin.tabControl.makeContentsHTML"];try{var _33=["<div id='",null,"' class='",null,"' role='tabpanel' aria-labeledby='",null,null,null,"</div>"];var _34=this.getChild(_30.contentsID+"_body");var _35="";if(this.contentsArr[this.options.selectedIndex]!==_30){_35="' aria-hidden='true' style='display:none';>";}else{_35="' aria-hidden='false'>";}var _36="";var _37="";if(this.options.useTabKeyOnly){var _38=_30.title||_31;var _39=this.options.useBridgeHelper?"<h3 id='"+_30.contentsID+"_bridge_helper' style='position:absolute;text-indent : -10000px;background:none;height:0px;' class='w2tabcontrol_contents_bridge_helper'>"+_38+"</h3>":"";_36="<a id='"+_30.contentsID+"_bridge' class='w2tabcontrol_bridge' href='#'>"+_39+"</a>";this.bridgeIdArr.push(_30.contentsID+"_bridge");}if(this.options.useBackbridge){_37="<a id='"+_30.contentsID+"_backbridge' tabindex='0' title='go back' class='w2tabcontrol_bridge'></a>";this.backbridgeIdArr.push(_30.contentsID+"_backbridge");}_33[1]=_30.contentsID;_33[3]=_30.contentsClass;_33[5]=_31;_33[6]=_35;_33[7]=_36;_33[7]+=(_30.alwaysDraw&&!_32)?_34.toHTML():"";_33[7]+=_37;return _33.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.makeAllContentsHTML=function(){["WebSquare.uiplugin.tabControl.makeAllContentsHTML"];try{var _3a=[];_3a.push("<div id='"+this.id+"_container' class='"+this.options.containerClass+"'>");for(var i=0;i<this.contentsArr.length;i++){var _3c=this.contentsArr[i];var tab=this.tabArr[i];_3a.push(this.makeContentsHTML(_3c,tab.tabLabel));}_3a.push("</div>");return _3a.join("");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.setAdaptive=function(){["WebSquare.uiplugin.tabControl.setAdaptive"];try{var _3e=this.options.adaptive;var _3f=parseInt(this.options.adaptiveThreshold)||480;var _40;if(_3e=="layout"){_40="w2tab_adaptive_layout";}if(!($W._G.isIE()&&parseInt($W._N.browserVersion(),10)<10)){if(parseInt(top.document.documentElement.clientWidth||top.document.body.clientWidth)<=_3f){if(!this.hasClass(_40)){this.addAdaptive();}}else{if(this.hasClass(_40)){this.removeAdaptive();}}}}catch(e){$W.exception.printStackTrace(e);}};$W._a._u.prototype.addAdaptive=function(){["WebSquare.uiplugin.tabControl.addAdaptive"];try{var _41=this.options.adaptive;var _42;if(_41=="layout"){_42="w2tab_adaptive_layout";}this.addClass(_42);for(var i in this.bridgeIdArr){var _44=this.getElementById(this.bridgeIdArr[i]);_44.setAttribute("href","#"+this.contentsArr[i].contentsID);if(this.getSelectedTabIndex()==i){_44.click();}}if(this.options.tabScroll){var _45=document.getElementById(this.id+"_control");_45.style.display="none";}}catch(e){$W.exception.printStackTrace(e);}};$W._a._u.prototype.removeAdaptive=function(){["WebSquare.uiplugin.tabControl.removeAdaptive"];try{var _46=this.options.adaptive;var _47;if(_46=="layout"){_47="w2tab_adaptive_layout";}this.removeClass(_47);if(this.options.tabScroll){var _48=document.getElementById(this.id+"_control");_48.style.display="block";}}catch(e){$W.exception.printStackTrace(e);}};$W._a._u.prototype.setAction=function(){["WebSquare.uiplugin.tabControl.setAction"];try{requires("uiplugin.iframe");if(this.options.adaptive=="layout"){this.setAdaptive();this.event.addListener(window,"onresize",this.event.bindAsEventListener(this,this.setAdaptive));}var _49=this.getTabHostAndContainer();var _4a=this;for(var i=0;i<this.tabArr.length;i++){var tab=this.tabArr[i];tab.render=document.getElementById(tab.tabID);tab.closeBtn=document.getElementById(tab.tabID+"_close");tab.contentsRender=document.getElementById(tab.contentsID);this.contentsArr[i].render=tab.contentsRender;if(this.contentsArr[i].alwaysDraw==true&&(this.contentsArr[i].frameMode=="iframe"||this.contentsArr[i].frameMode=="wframe")){var _4d=this.getChild(tab.contentsID+"_body");_4d.setSrc(this.contentsArr[i].src,this.contentsArr[i].forceReload);}}if(this.options.tabScroll){$W.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,paramHide:{"documentClick":true},event:{}});}if(!$W._G.isMobile()){this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleTabClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));}else{this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleMouseoverEvent));}this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if($W._G.isIE(6)){this.event.addListener(this.render,"onresize",this.event.bindAsEventListener(this,this.handleResizeEvent));}if(!this.options.useTabKeyOnly){this.event.addListener(_49.tabhost,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent));this.event.addListener(_49.container,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent));}else{this.event.addListener(_49.tabhost,"onfocusin",function(e){_4a.lastEventType=e.type;});this.event.addListener(_49.tabhost,"onkeydown",function(e){var _50=e.charCode||e.keyCode;if(_50===9||_50===13){_4a.lastEventType=e.type;}});this.event.addListener(_49.tabhost,"onmousedown",function(e){_4a.senseReaderMode=false;});}if(this.options.useBackbridge){for(var i=0;i<this.backbridgeIdArr.length;i++){var _52=this.getElementById(this.backbridgeIdArr[i]);if(_52){var _53=function(idx){$W._c.addListener(_52,"onkeydown",function(e){var _56=e.charCode||e.keyCode;if(_56===13){_4a.setFocusedTab(idx);}});};_53(i);}}}this.setActiveTab(this.options.selectedIndex);this.adjustContentsHeight();if(this.options.tabScroll&&this.options.adjustTabScroll){this.checkScrollBtnVisibility();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.onComplete=function(){["WebSquare.uiplugin.tabControl.onComplete"];$W._N.setTimer(this.makeIframe,{key:this.id+"_makeIframe",caller:this,delay:10});$W._t.prototype.onComplete.call(this);};$W._a._u.prototype.makeIframe=function(){["WebSquare.uiplugin.tabControl.makeIframe"];var _57=this.storedFrame.length;for(var i=0;i<this.contentsArr.length;i++){if(this.contentsArr[i].frameMode=="iframe"){_57++;}}if(this.options.spaIframeMinSize>_57){var _59=document.getElementById(this.id+"_container");var _5a=["<div id='",null,"' class='",this.options.contentsClass,"' role='tabpanel' aria-labeledby='","","' aria-hidden='true' style='display:none';>",null,"</div>"];var _5b=this.uuid+"_iframe"+"_"+this.autoNum++;var _5c=new $W._a.bq(_5b,{className:"w2tabContainer_contents w2tabcontrol_contents_wrapper",style:"width:100%; height:100%;",spa:this.options.spa,src:$W._r.getBlankXML()});_5a[1]=_5b;_5a[7]=_5c.toHTML();var div=document.createElement("div");div.innerHTML=_5a.join("");var _5e=div.removeChild(div.firstChild);_59.appendChild(_5e);_5c.render=_5e.firstChild;this.storedFrame.push(_5c.id);_5c.activeStatus="active";$W._N.setTimer(this.makeIframe,{key:this.id+"_makeIframe",caller:this,delay:50});}};$W._a._u.prototype.addRoundedCornerForIE=function(){["WebSquare.uiplugin.tabControl.addRoundedCornerForIE"];try{var _5f=$W._m.getMessage("TabControl_right_corner")||"\uc624\ub978\ucabd \ubaa8\uc11c\ub9ac \uc774\ubbf8\uc9c0";var _60=$W._m.getMessage("TabControl_left_corner")||"\uc67c\ucabd \ubaa8\uc11c\ub9ac \uc774\ubbf8\uc9c0";for(var i=0;i<this.tabArr.length;i++){var tab=this.tabArr[i];if(tab.render.firstChild.nodeName.toLowerCase()=="img"){continue;}var img=document.createElement("img");img.src=$W.baseURI+"uiplugin/tabControl/images/right-top.png";img.className="w2tabcontrol_righttop";img.setAttribute("alt",_5f);tab.render.insertBefore(img,tab.render.firstChild);img=document.createElement("img");img.src=$W.baseURI+"uiplugin/tabControl/images/left-top.png";img.className="w2tabcontrol_lefttop";img.setAttribute("alt",_60);tab.render.insertBefore(img,tab.render.firstChild);img=null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.getTabHostAndContainer=function(){["WebSquare.uiplugin.tabControl.getTabHostAndContainer"];try{var _64=document.getElementById(this.id+"_tabhost");var _65=document.getElementById(this.id+"_container");return {"container":_65,"tabhost":_64};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.adjustContentsHeight=function(){["WebSquare.uiplugin.tabControl.adjustContentsHeight"];try{var _66=this.getTabHostAndContainer();var _67=_66.container;var _68=_66.tabhost;var _69=$W._G.getStyleProperty(this.render,"height");if(this.options.tabScroll&&(_69!="auto"&&_69!="0px")){var _6a=document.getElementById(this.id+"_control");if(parseInt(_69,10)==parseInt($W._G.getStyleProperty(_6a,"height"),10)){return;}}if(_69==null||_69==""||_69=="auto"||_69=="0px"){return;}if((_69+"").charAt(((_69+"").length)-1)=="%"){return;}var _6b=(parseInt(_69,10)||0)-(parseInt($W._G.getStyleProperty(this.render,"padding-top"),10)||0)-(parseInt($W._G.getStyleProperty(this.render,"padding-bottom"),10)||0);var _6c=(parseInt($W._G.getStyleProperty(_68,"height"),10)||0)+(parseInt($W._G.getStyleProperty(_68,"border-top-width"),10)||0)+(parseInt($W._G.getStyleProperty(_68,"border-bottom-width"),10)||0)+(parseInt($W._G.getStyleProperty(_68,"margin-top"),10)||0)+(parseInt($W._G.getStyleProperty(_68,"margin-bottom"),10)||0);_67.style.height=(_6b-_6c)+"px";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.setClosable=function(idx,_6e){["WebSquare.uiplugin.tabControl.setClosable"];try{idx=parseInt(idx,10);_6e=_6e||false;if(idx<0||idx>=this.tabArr.length){return false;}this.tabArr[idx].closable=_6e;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.setActiveTab=function(idx){["WebSquare.uiplugin.tabControl.setActiveTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return false;}if(this.tabArr[idx].disabled||this.tabArr[idx].hidden){return false;}for(var i=0;i<this.tabArr.length;i++){var tab=this.tabArr[i];tab.render=document.getElementById(tab.tabID);if(i!=idx){this.removeClass(tab.render,tab.activeTabClass);if(tab.selectedClass){this.removeClass(tab.render,tab.selectedClass);}if(tab.defaultClass){this.addClass(tab.render,tab.defaultClass);}tab.contentsRender.style.display="none";tab.contentsRender.style.visibility="hidden";tab.contentsRender.setAttribute("aria-hidden","true");this.addClass(tab.contentsRender," ");if(tab.tabType=="image"){var img=tab.render.getElementsByTagName("div")[0];img.style[$W._H.camelize("background-image")]=tab.defaultImage||img.style[$W._H.camelize("background-image")];}}if(this.options.useTabKeyOnly==false){var elm=tab.tabType=="image"?tab.render.getElementsByTagName("div")[0]:tab.render.getElementsByTagName("a")[0];if(i!=idx){(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.setAttribute("tabIndex","-1"):elm.setAttribute("tabIndex","-1");}else{(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.setAttribute("tabIndex","0"):elm.setAttribute("tabIndex","0");}}else{}}var tab=this.tabArr[idx];var _74=this.contentsArr[idx];this.addClass(tab.render,tab.activeTabClass);if(tab.defaultClass){this.removeClass(tab.render,tab.defaultClass);}if(tab.selectedClass){this.addClass(tab.render,tab.selectedClass);}if(tab.tabType=="image"){var img=tab.render.getElementsByTagName("div")[0];img.style[$W._H.camelize("background-image")]=tab.selectedImage||img.style[$W._H.camelize("background-image")];}_74.render.style.display="block";_74.render.style.visibility="visible";_74.render.setAttribute("aria-hidden","false");this.addClass(_74.render," ");var _75=this.getChild(tab.contentsID+"_body");if(_74.alwaysDraw==false&&_75.reuseFrame&&!_75.loaded){_75.loaded=true;_75.setSrc(_74.src,_74.forceReload);}if(_74.alwaysDraw==false&&!_75.reuseFrame){if(!_75.render){if(this.options.useTabKeyOnly){var _76=document.getElementById(this.bridgeIdArr[idx]);_74.render.innerHTML=_76.outerHTML+_75.toHTML();}else{_74.render.innerHTML=_75.toHTML();}_75.activate();_75.onComplete();if(_74.frameMode=="wframe"){_75.setSrc(_74.src,_74.forceReload);}}else{_75.refreshAdaptive();}}else{if(_74.alwaysDraw==true){_75.refreshAdaptive();}}if(_74.frameMode=="iframe"&&"src" in _74&&_74.src!=""){var _77=_75.render.getAttribute("src");if(_77=="about:blank"||$W._r.isSSLBlankPage(_77)){_75.setSrc(_74.src,_74.forceReload);}}var _78=this.selectedIndex;this.selectedIndex=idx;this.focusedIndex=idx;if(_78!=idx){$W._c.fireEvent(this,"onchange",tab.tabID,idx,tab.userTabID);}if(this.options.useTabKeyOnly){var _76=document.getElementById(this.bridgeIdArr[idx]);if(_76&&this.activeFirstTime&&this.options.focusOnStart){_76.focus();}}if(this.activeFirstTime!=true){this.activeFirstTime=true;}if(this.options.tabScroll){if(this.visibleTabIndex>this.selectedIndex){this.scrollTab(this.selectedIndex);}else{var _79=this.getVisibleTab();if(!_79[this.selectedIndex]){this.scrollTab(this.selectedIndex,"right");}}}return true;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.scrollTab=function(idx,_7b){["WebSquare.uiplugin.tabControl.scrollTab"];try{if(!this.options.tabScroll||idx>=this.tabArr.length||idx<0){return;}_7b=(typeof _7b=="undefined")?"left":_7b;idx=parseInt(idx,10);if(_7b=="right"){var _7c=document.getElementById(this.id+"_mask");var _7d=$W._H.getSize(_7c,"innerWidth");var _7e=$W._H.getSize(this.tabArr[idx].render,"outerMarginWidth");do{var _7f=idx-1;if(_7f<0){break;}_7e+=$W._H.getSize(this.tabArr[_7f].render,"outerMarginWidth");if(_7e>_7d){break;}}while(idx-->0);}var _80=document.getElementById(this.id+"_scroll");var _81=0;for(var i=0;i<idx;i++){_81-=$W._H.getSize(this.tabArr[i].render,"outerMarginWidth");}$W._H.setStyle(_80,"left",_81+"px");this.visibleTabIndex=idx;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.getVisibleTab=function(){["WebSquare.uiplugin.tabControl.getVisibleTab"];try{var _83={};if(this.options.tabScroll){var _84=document.getElementById(this.id+"_mask");var _85=$W._H.getSize(_84,"innerWidth");var _86=0;for(var i=this.visibleTabIndex;i<this.tabArr.length;i++){_86+=$W._H.getSize(this.tabArr[i].render,"outerMarginWidth");if(_86<=_85){_83[i]=true;}}}return _83;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.setFocusedTab=function(idx){["WebSquare.uiplugin.tabControl.setFocusedTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return false;}var tab=this.tabArr[idx];if(tab.disabled){return false;}tab.render=document.getElementById(tab.tabID);var elm=tab.tabType=="image"?tab.render.getElementsByTagName("div")[0]:tab.render.getElementsByTagName("a")[0];(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.focus():elm.focus();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.checkScrollBtnVisibility=function(){["WebSquare.uiplugin.tabControl.checkScrollBtnVisibility"];try{if(this.options.tabScroll){var _8b=document.getElementById(this.id+"_control");var _8c=document.getElementById(this.id+"_mask");var _8d=document.getElementById(this.id+"_btn_scrollLeft");var _8e=document.getElementById(this.id+"_btn_scrollRight");var _8f=document.getElementById(this.id+"_btn_submenu");var _90=document.getElementById(this.id+"_scroll");var _91=$W._H.getSize(_8b,"innerWidth");var _92=0;for(var i=0;i<this.tabArr.length;i++){_92+=$W._H.getSize(this.tabArr[i].render,"outerMarginWidth");if(_92>_91){if(!this.hasClass(_8c,"mask")){this.addClass(_8c,"mask");_8d.style.display="";_8e.style.display="";_8f.style.display="";_8d.style.visibility="";_8e.style.visibility="";_8f.style.visibility="";}return;}}if(this.hasClass(_8c,"mask")){$W._H.setStyle(_90,"left","0px");this.removeClass(_8c,"mask");_8d.style.display="none";_8e.style.display="none";_8f.style.display="none";_8d.style.visibility="hidden";_8e.style.visibility="hidden";_8f.style.visibility="hidden";this.visibleTabIndex=0;}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.handleTabClickEvent=function(e){["WebSquare.uiplugin.tabControl.handleTabClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);var elm;var _97;var _98="none";while(it.next()){var _99=it.getElement();if(this.__hasClass(_99,"w2tabcontrol_tab_close")||this.__hasClass(_99,"w2tabcontrol_tab_close2")){_98="ontabclose";elm=_99.parentNode.parentNode.getElementsByTagName("a").length>0?_99.parentNode.parentNode.getElementsByTagName("a")[0]:_99.parentNode.parentNode.getElementsByTagName("div")[0];_97=elm.getAttribute("aria-controls");break;}else{if(it.match("w2tabcontrol_li")){_98="ontabclick";elm=_99.getElementsByTagName("a").length>0?_99.getElementsByTagName("a")[0]:_99.getElementsByTagName("div")[0];_97=elm.getAttribute("aria-controls");break;}else{if(it.match("btn_scrollLeft")){$W._c.stopPropagation(e);this.scrollTab(this.visibleTabIndex-1);break;}else{if(it.match("btn_scrollRight")){$W._c.stopPropagation(e);var _9a=document.getElementById(this.id+"_mask");var _9b=$W._H.getSize(_9a,"outerMarginWidth");var _9c=0;for(var i=this.visibleTabIndex;i<this.tabArr.length;i++){_9c+=$W._H.getSize(this.tabArr[i].render,"outerMarginWidth");}if(_9c>_9b){this.scrollTab(this.visibleTabIndex+1);break;}}else{if(it.match("btn_submenu")){$W._c.stopPropagation(e);this.toggle();break;}else{if(this.hasClass("w2tab_adaptive_layout")&&this.__hasClass(_99,"w2tabcontrol_contents_bridge_helper")){_98="ontabclick";_97=_99.parentNode.parentNode.id;break;}}}}}}}it=null;if(_98=="none"){return;}var _9e=this.senseReaderMode&&this.lastEventType==="focusin";if(!_9e&&!this.hasClass("w2tab_adaptive_layout")){$W._c.stopEvent(e);}var idx=-1,tab;for(var i=0;i<this.tabArr.length;i++){tab=this.tabArr[i];if(tab.contentsID==_97){idx=i;break;}}if(_98=="ontabclick"){if((idx>=0&&this.selectedIndex!=idx)||(this.options.useTabKeyOnly==true&&idx>=0)){this.setSelectedTabIndex(idx);}$W._c.fireEvent(this,_98,tab.tabID,idx);}else{this.deleteTab(idx);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.tabControl.handleMouseoverEvent"];try{var it=this.event.getTargetIterator(e,this.render);var img;while(it.next()){if(it.match("w2tabcontrol_li")){var elm=it.getElement();for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].render!=elm){this.removeClass(this.tabArr[i].render,this.options.overTabClass);if(this.tabArr[i].hoverClass){this.removeClass(this.tabArr[i].render,this.tabArr[i].hoverClass);}this.tabArr[i].closeBtn.style.display="none";if(this.tabArr[i].tabType=="image"){img=this.tabArr[i].render.getElementsByTagName("div")[0];img.style[$W._H.camelize("background-image")]=(this.selectedIndex==i?this.tabArr[i].selectedImage:this.tabArr[i].defaultImage)||img.style[$W._H.camelize("background-image")];}}else{if(this.tabArr[i].disabled){continue;}this.addClass(elm,this.options.overTabClass);if(this.tabArr[i].hoverClass){this.addClass(this.tabArr[i].render,this.tabArr[i].hoverClass);}if(this.tabArr[i].closable){this.tabArr[i].closeBtn.style.display="block";}if(this.tabArr[i].tabType=="image"){img=this.tabArr[i].render.getElementsByTagName("div")[0];img.style[$W._H.camelize("background-image")]=this.tabArr[i].hoverImage||this.tabArr[i].selectedImage||img.style[$W._H.camelize("background-image")];}}}if($W._G.isMobile()){this.handleTabClickEvent(e);}return;}else{if(it.match("btn_scrollLeft")){this.addClass(it.getElement(),"btn_scrollLeft_over");}else{if(it.match("btn_scrollRight")){this.addClass(it.getElement(),"btn_scrollRight_over");}else{if(it.match("btn_submenu")){this.addClass(it.getElement(),"btn_submenu_over");}}}}}for(var i=0;i<this.tabArr.length;i++){this.removeClass(this.tabArr[i].render,this.options.overTabClass);if(this.tabArr[i].hoverClass){this.removeClass(this.tabArr[i].render,this.tabArr[i].hoverClass);}this.tabArr[i].closeBtn.style.display="none";if(this.tabArr[i].tabType=="image"){img=this.tabArr[i].render.getElementsByTagName("div")[0];img.style[$W._H.camelize("background-image")]=(this.selectedIndex==i?this.tabArr[i].selectedImage:this.tabArr[i].defaultImage)||img.style[$W._H.camelize("background-image")];}}it=null;if($W._G.isMobile()){this.handleTabClickEvent(e);}else{$W._c.stopEvent(e);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.tabControl.handleMouseoutEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2tabcontrol_li")){var _a7=it.getElement();var _a8=-1;for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].render===_a7){_a8=i;break;}}if(this.tabArr[_a8]==undefined){break;}this.removeClass(this.tabArr[_a8].render,this.options.overTabClass);if(this.tabArr[_a8].hoverClass){this.removeClass(this.tabArr[_a8].render,this.tabArr[_a8].hoverClass);}this.tabArr[_a8].closeBtn.style.display="none";if(this.tabArr[_a8].tabType=="image"){var img=this.tabArr[_a8].render.getElementsByTagName("div")[0];img.style[$W._H.camelize("background-image")]=(this.selectedIndex==_a8?this.tabArr[_a8].selectedImage:this.tabArr[_a8].defaultImage)||img.style[$W._H.camelize("background-image")];}break;}else{if(it.match("btn_scrollLeft")){this.removeClass(it.getElement(),"btn_scrollLeft_over");break;}else{if(it.match("btn_scrollRight")){this.removeClass(it.getElement(),"btn_scrollRight_over");break;}else{if(it.match("btn_submenu")){this.removeClass(it.getElement(),"btn_submenu_over");break;}}}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.handleResizeEvent=function(e){["WebSquare.uiplugin.tabControl.handleResizeEvent"];try{if(this.options.tabScroll){var _ac=document.getElementById(this.id+"_control");var _ad=document.getElementById(this.id+"_mask");var _ae=document.getElementById(this.id+"_btn_scrollLeft");var _af=document.getElementById(this.id+"_btn_scrollRight");var _b0=document.getElementById(this.id+"_btn_submenu");var _b1=$W._H.getSize(_ac,"innerWidth")-$W._H.getSize(_ae,"outerMarginWidth")-$W._H.getSize(_af,"outerMarginWidth")-$W._H.getSize(_b0,"outerMarginWidth");var _b2=parseInt($W._H.getStyleProperty(_ad,"padding-left"))+parseInt($W._H.getStyleProperty(_ad,"margin-left"))+parseInt($W._H.getStyleProperty(_ad,"padding-right"))+parseInt($W._H.getStyleProperty(_ad,"margin-right"));$W._H.setStyle(_ad,"width",(_b1-_b2)+"px");}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.handleKeyEvent=function(e){["WebSquare.uiplugin.tabControl.handleKeyEvent"];try{var _b4=(e.charCode)?e.charCode:e.keyCode;var _b5=this.getTabHostAndContainer();var it=this.event.getTargetIterator(e,this.render);var elm;if(!(_b4==13||_b4==37||_b4==38||_b4==39||_b4==40||_b4==46)){return;}if(_b4==46&&e.altKey){this.deleteTab(this.getSelectedTabIndex());return;}while(it.next()){elm=it.getElement();if(elm==_b5.container){if((_b4==37||_b4==38)&&e.ctrlKey){var tab=this.tabArr[this.selectedIndex];elm=tab.tabType=="image"?tab.render.getElementsByTagName("div")[0]:tab.render.getElementsByTagName("a")[0];if(elm.nodeType==1){elm.focus();$W._c.stopEvent(e);return;}}return;}}switch(_b4){case 13:this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0);return;case 37:case 38:this.focusedIndex=this.focusedIndex>0?this.focusedIndex-1:0;var elm=this.tabArr[this.focusedIndex].tabType=="image"?this.tabArr[this.focusedIndex].render.getElementsByTagName("div")[0]:this.tabArr[this.focusedIndex].render.getElementsByTagName("a")[0];(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.focus():elm.focus();this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0);break;case 39:case 40:this.focusedIndex=this.focusedIndex+1<this.tabArr.length?this.focusedIndex+1:this.focusedIndex;var elm=this.tabArr[this.focusedIndex].tabType=="image"?this.tabArr[this.focusedIndex].render.getElementsByTagName("div")[0]:this.tabArr[this.focusedIndex].render.getElementsByTagName("a")[0];(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.focus():elm.focus();this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0);break;default:break;}it=null;$W._c.stopEvent(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.getWindow=function(idx){["WebSquare.uiplugin.tabConttrol.getWindow"];try{var _ba;var _bb=(typeof idx!="undefined")?idx:this.selectedIndex;if(_bb<0){return _ba;}for(var i=0;i<this.contentsArr.length;i++){var _bd=this.getChild(this.contentsArr[i].contentsID+"_body");if(i==_bb){if(_bd.getPluginName()=="iframe"){_ba=_bd.getWindow();}else{_ba=window;}break;}}return _ba;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.setContentsHeight=function(_be){["WebSquare.uiplugin.tabControl.setContentsHeight"];try{var _bf=this.getTabHostAndContainer();var _c0=_bf.container;var _c1=_bf.tabhost;_be=parseInt(_be,10);_c0.style.height=(_be)+"px";var _c2=(parseInt($W._G.getStyleProperty(_c1,"height"),10)||0)+(parseInt($W._G.getStyleProperty(_c1,"border-top-width"),10)||0)+(parseInt($W._G.getStyleProperty(_c1,"border-bottom-width"),10)||0)+(parseInt($W._G.getStyleProperty(_c1,"margin-top"),10)||0)+(parseInt($W._G.getStyleProperty(_c1,"margin-bottom"),10)||0);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.getSelectedTabID=function(){["WebSquare.uiplugin.tabControl.getSelectedTabID"];try{return this.selectedIndex<this.tabArr.length&&this.selectedIndex>=0?this.tabArr[this.selectedIndex].userTabID:null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.getSelectedTabIndex=function(){["WebSquare.uiplugin.tabControl.getSelectedTabIndex"];try{return this.selectedIndex<this.tabArr.length&&this.selectedIndex>=0?this.selectedIndex:-1;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.getTabIndex=function(id){["WebSquare.uiplugin.tabControl.getTabIndex"];var _c4=null;try{for(var i=0;i<this.tabArr.length;i++){if(id==this.tabArr[i].userTabID){_c4=i;break;}}return _c4;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.getTabID=function(_c6){["WebSquare.uiplugin.tabControl.getTabID"];var _c7="";try{for(var i=0;i<this.tabArr.length;i++){if(_c6==i){_c7=this.tabArr[i].userTabID;break;}}return _c7;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.setSelectedTabIndex=function(idx){["WebSquare.uiplugin.tabControl.setSelectedTabIndex"];try{var ret=$W._c.fireEvent(this,"onbeforeselect",this.getSelectedTabIndex(),idx);if(ret==false){return;}this.setActiveTab(idx);$W.getBody().resizeChecker.checkResize();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.getTabCount=function(){["WebSquare.uiplugin.tabControl.getTabCount"];try{return this.tabArr.length;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.deleteTab=function(idx){["WebSquare.uiplugin.tabControl.deleteTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var tab=this.tabArr[idx];var _cd=tab.tabID;if($W._c.fireEvent(this,"onbeforetabclose",_cd,idx)===false){return;}if(this.selectedIndex==idx){var i=idx+1;while(i<this.tabArr.length&&this.setActiveTab(i)==false){i++;}if(i>=this.tabArr.length){i=idx-1;while(i>=0&&this.setActiveTab(i)==false){i--;}}if(this.selectedIndex>idx){this.selectedIndex--;}}var _cf=this.contentsArr[idx];var _d0=this.getChild(this.tabArr[idx].contentsID+"_body");var _d1=(_cf.frameMode=="iframe"&&_d0.render&&this.storedFrame.length<this.options.spaIframeMaxSize);if(_d0){if(_d1){_d0.loaded=false;this.removeControl(_d0);this.storedFrame.push(_d0.id);_d0.setSrc($W._r.getBlankXML());}else{_d0.remove();}}var _d2=tab.render.parentNode;var _d3=_cf.render.parentNode;_d2.removeChild(tab.render);if(_d1){for(var i=0;i<_cf.render.childNodes.length;i++){if(_cf.render.childNodes[i]!=_d0.render){_cf.render.removeChild(_cf.render.childNodes[i]);}}_cf.render.style.display="none";_cf.render.style.visibility="hidden";_cf.render.setAttribute("aria-hidden","true");this.addClass(_cf.render," ");}else{_d3.removeChild(_cf.render);}_d0=null;for(var j in this.tabArr[idx]){this.tabArr[idx][j]=null;}for(var j in this.contentsArr[idx]){this.contentsArr[idx][j]=null;}tab=null;_cf=null;this.tabArr.splice(idx,1);this.contentsArr.splice(idx,1);this.bridgeIdArr.splice(idx,1);this.backbridgeIdArr.splice(idx,1);var n,n2;for(var i=idx;i<this.tabArr.length;i++){var tab=this.tabArr[i];n=i+2;n2=i+1;this.__removeClass(tab.render,"w2tabcontrol_li_"+n);this.__addClass(tab.render,"w2tabcontrol_li_"+n2);}if(idx<this.selectedIndex){this.setActiveTab(this.selectedIndex-1);}else{if(idx==this.selectedIndex){if(this.tabArr[this.selectedIndex]){this.setActiveTab(this.selectedIndex);}else{this.setActiveTab(this.selectedIndex-1);}}else{if(idx>this.selectedIndex){this.setActiveTab(this.selectedIndex);}}}if(this.options.tabScrollAuto){this.scrollTab(Math.max(this.visibleTabIndex-1,0));}if(this.options.tabScroll&&this.options.adjustTabScroll){this.checkScrollBtnVisibility();}$W._c.fireEvent(this,"ontabclose",_cd,idx);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.getFrame=function(idx){idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var tab=this.tabArr[idx];var _d8=this.contentsArr[idx];var _d9=this.getChild(_d8.contentsID+"_body");if(_d9!=null){return _d9;}};$W._a._u.prototype.addTab=function(id,_db,_dc){["WebSquare.uiplugin.tabControl.addTab"];try{var _dd=id||"";if(typeof _db=="undefined"){return;}var _de=false;for(var i=0;i<this.tabArr.length;i++){if(_dd==""||this.tabArr[i].userTabID==_dd){_de=true;break;}}var _e0=_db.openAction;if(_de){if(!_e0){if(this.options.useConfirmMessage){var _e1=this.options.confirmMessage;if(_e1.indexOf("#title")>-1){_e1=_e1.replace("#title",_db.label);}var _e2=true;_e2=confirm(_e1);if(_e2){_e0=this.options.confirmTrueAction;}else{_e0=this.options.confirmFalseAction;}}}if(_e0==="exist"){var idx=this.getTabIndex(_dd);var _e4=this.contentsArr[idx];var _e5=this.getChild(this.tabArr[idx].contentsID+"_body");if(_e5.activeStatus!="active"){_e4.src=_dc.src||"about:blank";}else{_e5.setSrc(_dc.src||"about:blank",_e4.forceReload);}this.setSelectedTabIndex(idx);return _dd;}else{if(_e0==="new"){_dd=_dd+"_"+this.increaseKey++;}else{if(_e0==="select"){this.setSelectedTabIndex(this.getTabIndex(_dd));return _dd;}else{if(_e0==="last"){var idx=this.getTabIndex(_dd);$("#"+this.id+"_tabhost").children().last().after($("#"+this.id+"_tab_"+_dd));this.setSelectedTabIndex(idx);return _dd;}else{return _dd;}}}}}if(this.options.windowMaxNum!=-1&&this.getTabCount()>=this.options.windowMaxNum){alert($W._m.getMessage("TabControl_maxNum_warning",this.options.windowMaxNum));return;}var _e6=this.id+"_tab_"+_dd;var tab={tabID:_e6,userTabID:_dd,contentsID:"",tabLabel:_db.label||"",disabled:_db.disabled||false,render:null,tabWidth:parseInt(_db.tabWidth,10)>0?parseInt(_db.tabWidth,10):this.options.tabWidth,tabHeight:parseInt(_db.tabHeight,10)>0?parseInt(_db.tabHeight,10):this.options.tabHeight,tabClass:_db["class"]||this.options.tabClass,tabStyle:_db.style||this.options.tabStyle,activeTabClass:_db.activeTabClass||this.options.activeTabClass,disabledTabClass:_db.disabledTabClass||this.options.disabledTabClass,selectedImage:_db.selectedImage?"url("+_db.selectedImage+")":"",defaultImage:_db.defaultImage?"url("+_db.defaultImage+")":"",hoverImage:_db.hoverImage?"url("+_db.hoverImage+")":"",tabType:_db.tabType=="image"?"image":"text",selectedClass:_db.selectedClass||"",defaultClass:_db.defaultClass||"",hoverClass:_db.hoverClass||"",closable:(_db.closable!=null)?$W._G.getBoolean(_db.closable):this.options.closable,closeBtn:null,label:_db.label||"",value:_e6,title:_db.title||_db.label};var _e8=$W.extendKeepingType({},this.defaultTabContentOptions);var _e9=$W.extendKeepingType(_e8,_dc);var _ea=this.id+"_contents_"+_dd;tab.contentsID=_ea;var _e4=$W.extend({contentsID:_ea,contentsClass:_dc.contentsClass||this.options.contentsClass,render:null,xml:null,name:_e9.name||""},_e9||{});if(_e4.src){_e4.frameMode=(_e9.wframe)?"wframe":"iframe";}this.tabArr.push(tab);this.contentsArr.push(_e4);var _eb=this.getTabHostAndContainer();var _ec=_eb.container;var _ed=_eb.tabhost;var _e5;if(this.storedFrame.length>0){var _ee=_ea+"_body";var _ef=false;var _f0;for(var i=0;i<this.storedFrame.length;i++){if(this.storedFrame[i]==_ee){_f0=this.storedFrame.splice(i,1);_ef=true;break;}}if(!_ef){_f0=this.storedFrame.shift();}_e5=$W._G.getComponentById(_f0);_e5.reuseFrame=true;if(!_ef){$W._N.setId(_ee,_e5);}if(_e9.name){_e5.setAttribute("name",_e9.name);}}else{_e5=this.initContents(_e4);}this.addControl(_e5);var _f1="make"+tab.tabType.capitalize()+"TabHTML";_ed.innerHTML+=this[_f1](tab,this.tabArr.length,true);var div=document.createElement("div");div.innerHTML=this.makeContentsHTML(_e4,tab.tabLabel,(_e5&&_e5.reuseFrame));var _f3=div.removeChild(div.firstChild);if(_e5&&_e5.reuseFrame&&_e5.render&&_e5.render.parentNode){var _f4=_e5.render.parentNode;if(this.options.useTabKeyOnly){var _f5=_f4.getAttribute("id")+"_bridge";var _f6=document.getElementById("bridgeId");if(_f6!=null){_f4.removeChild(_f6);}_f4.insertBefore(_f3.firstChild,_e5.render);}if(this.options.useBackbridge){var _f5=_f4.getAttribute("id")+"_backbridge";var _f6=document.getElementById("bridgeId");if(_f6!=null){_f4.removeChild(_f6);}_f4.appendChild(_f3.lastChild,_e5.render);}_f4.setAttribute("id",_e4.contentsID);_f4.setAttribute("class",_e4.contentsClass);_f4.setAttribute("aria-labeledby",tab.tabLabel);}else{_ec.appendChild(_f3);}div=null;_f3=null;if(_e4.alwaysDraw){if(!_e5.reuseFrame){_e5.activate();_e5.onComplete();}_e5.setSrc(_e4.src,_e4.forceReload);}for(var i=0;i<this.tabArr.length;i++){tab=this.tabArr[i];tab.render=document.getElementById(tab.tabID);tab.closeBtn=document.getElementById(tab.tabID+"_close");tab.contentsRender=document.getElementById(tab.contentsID);this.contentsArr[i].render=tab.contentsRender;}tab=this.tabArr[i-1];tab.contentsRender.style.display="none";if(this.tabArr.length==1){this.setActiveTab(0);}if(this.options.tabScroll&&this.options.adjustTabScroll){this.checkScrollBtnVisibility();}return _dd;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.disableTab=function(idx){["WebSquare.uiplugin.tabControl.disableTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var tab=this.tabArr[idx];var _f9=this.contentsArr[idx];this.removeClass(tab.render,tab.activeTabClass);this.addClass(tab.render,tab.disabledTabClass);if($W._G.isIE(8)){tab.render.style.zIndex=0;}var _fa=tab.render.getElementsByTagName("a")[0];if(_fa!=null){_fa.removeAttribute("href");_fa=null;}tab.disabled=true;var _fb=this.getChild(_f9.contentsID+"_body");if(_fb.activeStatus!="stop"){_fb.setDisabled(true);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.enableTab=function(idx){["WebSquare.uiplugin.tabControl.enableTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var tab=this.tabArr[idx];var _fe=this.contentsArr[idx];this.removeClass(tab.render,tab.disabledTabClass);if(this.selectedIndex>=0&&idx==this.selectedIndex){this.addClass(tab.render,tab.activeTabClass);}tab.disabled=false;if($W._G.isIE(8)){tab.render.style.zIndex="";}var _ff=tab.render.getElementsByTagName("a")[0];if(_ff!=null){_ff.setAttribute("href","#"+tab.contentsID+"_bridge");_ff=null;}var comp=this.getChild(_fe.contentsID+"_body");if(comp.activeStatus!="stop"){comp.setDisabled(false);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.hideTab=function(idx){["WebSquare.uiplugin.tabControl.hideTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var ret=$W._c.fireEvent(this,"onbeforehide",this.getSelectedTabIndex(),idx);if(ret==false){return;}if(idx==this.selectedIndex){var i=idx+1;while(i<this.tabArr.length&&this.setActiveTab(i)==false){i++;}if(i>=this.tabArr.length){i=idx-1;while(i>=0&&this.setActiveTab(i)==false){i--;}}if(idx==this.selectedIndex){this.selectedIndex=-1;}}var tab=this.tabArr[idx];var _105=this.contentsArr[idx];if($W._G.isIE(8)){tab.render.style.zIndex=0;}tab.render.style.visibility="hidden";tab.render.style.display="none";tab.hidden=true;_105.render.style.display="none";_105.render.style.visibility="hidden";_105.render.setAttribute("aria-hidden","true");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.showTab=function(idx){["WebSquare.uiplugin.tabControl.showTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var ret=$W._c.fireEvent(this,"onbeforeshow",this.getSelectedTabIndex(),idx);if(ret==false){return;}var tab=this.tabArr[idx];var _109=this.contentsArr[idx];tab.render.style.visibility="visible";tab.render.style.display="";tab.hidden=false;if(this.selectedIndex==-1){this.setActiveTab(idx);}if($W._G.isIE(8)){tab.render.style.zIndex="";}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.getLabelText=function(idx){["WebSquare.uiplugin.tabControl.getLabelText"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return null;}var tab=this.tabArr[idx];return tab.tabLabel;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.setLabelText=function(idx,_10d){["WebSquare.uiplugin.tabControl.setLabelText"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}if(this.options.tabScroll==true){this.tabArr[idx].label=_10d;}var tab=this.tabArr[idx];var elm;for(var i=0;i<tab.render.childNodes.length;i++){elm=tab.render.childNodes[i];if(elm.nodeType==1&&elm.nodeName.toLowerCase()=="div"){for(var j=0;j<elm.childNodes.length;j++){var elm2=elm.childNodes[j];if(elm2.nodeType==1&&elm2.nodeName.toLowerCase()=="a"){tab.tabLabel=_10d;elm2.innerHTML=_10d;return;}else{if(elm2.nodeType==1&&elm2.nodeName.toLowerCase()=="div"){tab.tabLabel=_10d;elm2.setAttribute("title",_10d);return;}}}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.onPropertyChange=function(_113,_114){["WebSquare.uiplugin.tabControl.onPropertyChange"];try{switch(_113){case "disabled":for(var i=0;i<this.tabArr.length;i++){_114?this.disableTab(i):this.enableTab(i);}break;case "readOnly":break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.setSize=function(_116,_117){["WebSquare.uiplugin.tabControl.setSize"];try{$W._n.prototype.setSize.call(this,_116,_117);}catch(e){$W.exception.printStackTrace(e);}};$W._a._u.prototype.setSubLayer=function(){["WebSquare.uiplugin.tabControl.setSubLayer"];try{if(this.itemTable==null){requires("uiplugin/table/itemTable.js");this.itemTable=new $W._a.aa(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:"auto",style:"position:absolute;",defaultStyle:"",className:"w2table ",w2table:"w2table_tabControl",w2table_main:"w2table_tabControl_main",w2table_row:"w2table_tabControl_row",w2table_col:"w2table_tabControl_col",w2table_col_over:"w2table_tabControl_col_over",escape:true});this.itemTable.writeTo($W.getBody(),null,this.parentFrame);this.itemTable.activate();var _118=this;this.itemTable.addClickEventListener(function(_119){["WebSquare.uiplugin.tabControl.itemTable.addClickEventListener"];_118.setSelectedTabIndex(_119);_118.closeSubLayer();});this.itemTable.addKeyDownEventListener(function(e){["WebSquare.uiplugin.tabControl.itemTable.addKeyDownEventListener"];var _11b=(e.charCode)?e.charCode:e.keyCode;if(_11b==13||_11b==32){_118.setSelectedTabIndex(this.getSelectedIndex());_118.focus();_118.closeSubLayer();}else{if(_11b==27){_118.focus();_118.closeSubLayer();}}});this.setSelectOptions();this.setItemTable();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.setSelectOptions=function(){["WebSquare.uiplugin.tabControl.setSelectOptions"];try{var tab;if(this.itemTable!=null){for(var i=0;i<this.tabArr.length;i++){tab=this.tabArr[i];if(this.tabArr[i].hiddenTab==true||tab.render.style.visibility=="hidden"){this.tabArr.splice(i,1);}}this.itemTable.setItemArr(this.tabArr);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.setItemTable=function(){["WebSquare.uiplugin.tabControl.setItemTable"];try{var _11e=document.getElementById(this.id+"_btn_submenu");var _11f=_11e.offsetWidth;var _120=_11e.offsetHeight;var left=$W._H.getAbsoluteLeft(this.render)+this.render.offsetWidth;var top=$W._H.getAbsoluteTop(_11e)+$W._H.getSize(_11e,"outerMarginHeight");var _123=0;for(var i=0;i<this.tabArr.length;i++){var _125=$W._H.getSize(this.tabArr[i].render,"outerMarginWidth");if(_125>_123){_123=_125;}}if(this.itemTableTdMargin===null){var _126=document.getElementById(this.id+"_itemTable_0");if(_126){this.itemTableTdMargin=parseInt($W._H.getStyleProperty(_126,"margin-left"),10)||0+parseInt($W._H.getStyleProperty(_126,"padding-left"),10)||0+parseInt($W._H.getStyleProperty(_126,"padding-right"),10)||0+parseInt($W._H.getStyleProperty(_126,"margin-right"),10)||0;}else{this.itemTableTdMargin=0;}}_123+=this.itemTableTdMargin;var _127=document.getElementById(this.itemTable.id+"_main");$W._H.setStyle(_127,"width",_123+"px");$W._H.setStyle(this.itemTable.render,"width",_123+"px");left=left-_123;this.itemTable.setPosition(left,top);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.toggle=function(){["WebSquare.uiplugin.tabControl.toggle"];try{if(this.isOpen){this.closeSubLayer();}else{this.openSubLayer();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.openSubLayer=function(){["WebSquare.uiplugin.tabControl.openSubLayer"];try{$W.getBody().getLayerListener().show(this.id);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype._openSubLayer=function(){["WebSquare.uiplugin.tabControl._openSubLayer"];try{this.setSubLayer();if(!this.isOpen){this.itemTable.show();this.itemTable.render.setAttribute("aria-expended","true");this.setSelectOptions();this.setItemTable();this.itemTable.focus();this.isOpen=true;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.closeSubLayer=function(_128){["WebSquare.uiplugin.tabControl.closeSubLayer"];try{var _129={"documentClick":_128};$W.getBody().getLayerListener().hide(this.id,_129);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype._closeSubLayer=function(_12a){["WebSquare.uiplugin.tabControl._closeSubLayer"];try{var _12a=_12a||{};var _12b=_12a.documentClick;if(this.isOpen&&this.itemTable!=null){this.itemTable.hide();this.itemTable.render.setAttribute("aria-expended","true");this.isOpen=false;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._u.prototype.finalize=function(){["WebSquare.uiplugin.tabControl.finalize"];try{for(var i=this.childControlList.length-1;i>=0;i--){this.childControlList[i].remove();}for(var i=this.storedFrame.length-1;i>=0;i--){var comp=$W._G.getComponentById(this.storedFrame[i]);if(comp!=null){comp.remove();}}}catch(e){$W.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.tabControl=$W._a._u;requires("uiplugin.input");$W._a._W=function(id,_2,_3){["WebSquare.uiplugin.searchbox"];$W._t.call(this,id,_2,_3);};$W.extend($W._a._W.prototype,$W._t.prototype);$W._a._W.prototype.defaultOptions={pluginType:"uiplugin.searchbox",pluginName:"searchbox",paddingRight:20};$W._a._W.prototype.initialize=function(_4){var _5=this.options.style;this.options.style="position:relative;width:100%;height:100%;";this.options.parentEvent=this;this.input=new $W._a.aF(this.id+"___input",this.options,_4);this.options.parentEvent="";this.input.options.userEvents=this.input.defaultOptions.userEvents;this.input.options.systemEvents=this.input.defaultOptions.sysyemEvents;var _6=-1;if(this.options.xmlEvents){for(var i=0;i<this.options.xmlEvents.length;i++){if(this.options.xmlEvents[i].name=="onclick"){_6=i;}}}if(_6!=-1){this.options.xmlEvents=this.options.xmlEvents.splice(_6,1);}else{this.options.xmlEvents=null;}this.options.style=_5;this.addControl(this.input);var _8=this;var _9={name:"onkeyup",action:"script",param:{handler:function(e){_8.setLayout();}}};if(this.input.options.xmlEvents){if(_6!=-1){this.input.options.xmlEvents.splice(_6,1);}this.input.options.xmlEvents.push(_9);}else{this.input.options.xmlEvents=[_9];}this.modelControl.ref="";this.input.modelControl.id=this.id;};$W._a._W.prototype.toHTML=function(){["WebSquare.uiplugin.searchbox.toHTML"];var _b=[];var _c=(this.options.style=="")?"":"style='"+this.options.style+"'";_b.push("<div id='"+this.id+"' "+_c+" class='w2searchbox "+this.options.className+"'>");_b.push(this.getChild(this.id+"___input").toHTML());_b.push("<div id='"+this.id+"___reset' class='w2searchbox_reset'></div>");_b.push("</div>");return _b.join("");};$W._a._W.prototype.setPreAction=function(){try{this.dom.reset=this.getElementById(this.id+"___reset");}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._W.prototype.setAction=function(){["WebSquare.uiplugin.searchbox.setLayout"];try{this.event.addUserEvents(this,this.input.userEventList);this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedown));this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleMousedown));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseover));var _d=parseInt(this.options.paddingRight,10);var _e=(parseInt(this.input.getStyle("border-right-width"),10)+parseInt(this.input.getStyle("border-left-width"),10))||0;var _f=parseInt(this.getStyle("width"),10)-(_d+parseInt(this.input.getStyle("padding-right"),10))-_e;var _10=this.getStyle("height");this.input.setSize(_f,_10);this.input.setStyle("padding-right",_d+"px");this.input.setVerticalAlign();this.setLayout();if(this.options.mandatory){this.onPropertyChange("mandatory",$W._G.getBoolean(this.options.mandatory));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._W.prototype.setLayout=function(){["WebSquare.uiplugin.searchbox.setLayout"];try{if(this.input.render){if(this.input.render.value==""){this.dom.reset.style.display="none";}else{this.dom.reset.style.display="block";var _11=this.dom.reset.offsetHeight;var _12=this.getSize("height");this.dom.reset.style.top=parseInt((_12-_11)/2,10)+"px";}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._W.prototype.focus=function(){["WebSquare.uiplugin.searchbox.focus"];try{if(this.input.render){this.input.render.focus();}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._W.prototype.refresh=function(){this.input.refresh();this.setLayout();};$W._a._W.prototype.onPropertyChange=function(_13,_14){["WebSquare.uiplugin.searchbox.onPropertyChange"];try{switch(_13){case "mandatory":if(_14==true){this.addClass(this.render,"w2searchbox_mandatory");}else{this.removeClass(this.render,"w2searchbox_mandatory");}break;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a._W.prototype.handleMousedown=function(e){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2searchbox_reset")){$W._c.stopEvent(e);this.dom.reset.style.display="none";var _17=this.getValue();this.setValue("");if(_17!=""){$W._c.fireEvent(this,"onviewchange",{"oldValue":_17,"newValue":""});}this.focus();}}it=null;};$W._a._W.prototype.handleMouseover=function(e){var _19=$W._c.getRelatedTarget(e);if(this.hasClass(_19,"w2searchbox_reset")){this.removeClass(this.dom.reset,"w2searchbox_reset_on");return;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2searchbox_reset")){this.addClass(this.dom.reset,"w2searchbox_reset_on");}}it=null;};$W._a._W.apiExtend=function(){var _1b=$W._a.aF.prototype;var _1c=$W._a._W.prototype;for(prop in _1b){if(!_1c[prop]){_1c[prop]=(function(_1d){return function(){return this.input[_1d].apply(this.input,arguments);};})(prop);}}};$W._a._W.apiExtend();;WebSquare.uiplugin.searchbox=$W._a._W;$W._a.aS=function(id,_2,_3){["WebSquare.uiplugin.fliptoggle"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aS.prototype,$W._t.prototype);$W._a.aS.prototype.defaultOptions={pluginType:"uiplugin.fliptoggle",pluginName:"fliptoggle",userEvents:["ontogglechange"],useClickToggle:"true",label:"Label",escape:false};$W._a.aS.prototype.initialize=function(_4){["WebSquare.uiplugin.fliptoggle.initialize"];try{this.selectedIndex=0;this.onLabel="On";this.onValue="on";this.offLabel="Off";this.offValue="off";var _5="w2";var _6=$W._B.findNodes(_4,"*['"+"on"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");var _7=$W._B.findNodes(_4,"*['"+"off"+"'=local-name()]['"+$W._N._XML_NAMESPACE.W2+"'=namespace-uri()]");if(_6[0]){this.onLabel=$W._B.getAttribute(_6[0],"label");this.onValue=$W._B.getAttribute(_6[0],"value");this.onLocaleRef=$W._B.getAttribute(_6[0],"localeRef");}if(_7[0]){this.offLabel=$W._B.getAttribute(_7[0],"label");this.offValue=$W._B.getAttribute(_7[0],"value");this.offLocaleRef=$W._B.getAttribute(_7[0],"localeRef");}if(this.offLocaleRef&&this.onLocaleRef){this.offLabel=this.getLocaleValue(this.offLocaleRef);this.onLabel=this.getLocaleValue(this.onLocaleRef);}this.leftPosition;this.startEventLayer={};this.lastEventLayer={};}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.toHTML=function(){["WebSquare.uiplugin.fliptoggle.toHTML"];var _8=[];var _9=(this.options.style=="")?"":"style='"+this.options.style+"'";_8.push("<div id='"+this.id+"' "+_9+" class='w2fliptoggle "+this.options.className+"'>");_8.push("<label for='"+this.id+"_select' id='"+this.id+"_label' class='w2fliptoggle_select'>");_8.push(this.options.label);_8.push("</label>");_8.push("<select id='"+this.id+"_select' class='w2fliptoggle_select' tabindex='0'>");_8.push("<option value='"+this.offValue+"'>"+this.offLabel+"</option>");_8.push("<option value='"+this.onValue+"'>"+this.onLabel+"</option>");_8.push("</select>");_8.push("<div id='"+this.id+"_mask' class='w2fliptoggle_conner_left w2fliptoggle_conner_right w2fliptoggle_mask'>");_8.push("<span id='"+this.id+"_left' class='w2fliptoggle_left_bg w2fliptoggle_conner_left w2fliptoggle_left'>");_8.push("</span>");_8.push("<span id='"+this.id+"_left_label' class='w2fliptoggle_left_label' style='visibility:hidden;'>");_8.push(this.onLabel);_8.push("</span>");_8.push("<span id='"+this.id+"_button' class='w2fliptoggle_button_bg w2fliptoggle_conner_left w2fliptoggle_conner_right w2fliptoggle_button'>");_8.push("</span>");_8.push("<span id='"+this.id+"_right_label' class='w2fliptoggle_right_label'>");_8.push(this.offLabel);_8.push("</span>");_8.push("<span id='"+this.id+"_right' class='w2fliptoggle_conner_right w2fliptoggle_right_bg w2fliptoggle_right'>");_8.push("</span>");_8.push("</div>");_8.push("</div>");return _8.join("");};$W._a.aS.prototype.setAction=function(){["WebSquare.uiplugin.fliptoggle.setAction"];try{this.isMobile=$W._G.isMobile();this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase());this.dom.mask=document.getElementById(this.id+"_mask");this.dom.left=document.getElementById(this.id+"_left");this.dom.button=document.getElementById(this.id+"_button");this.dom.right=document.getElementById(this.id+"_right");this.dom.left_label=document.getElementById(this.id+"_left_label");this.dom.right_label=document.getElementById(this.id+"_right_label");this.dom.select=document.getElementById(this.id+"_select");this.setVerticalAlign(this.dom.left_label);this.setVerticalAlign(this.dom.right_label);this.leftPosition=$W._H.getAbsoluteLeft(this.render);if($W._G.isIE(6)){this.__addClass(this.dom.button," ");}if(this.isMobile){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){$W._c.preventDefault(e);}));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOut));}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.displayLocaleValue=function(){if(this.offLocaleRef&&this.onLocaleRef){var _b=this.getLocaleValue(this.offLocaleRef);var _c=this.getLocaleValue(this.onLocaleRef);this.setLabel(_c,_b);}};$W._a.aS.prototype.setLabel=function(_d,_e){["WebSquare.uiplugin.fliptoggle.setLabel"];try{var _f=document.getElementById(this.id+"_left_label");var _10=document.getElementById(this.id+"_right_label");var _11=document.getElementById(this.id+"_select");var _12=this.options.escape?$W._B._encode(_d+""):_d;var _13=this.options.escape?$W._B._encode(_e+""):_e;_f.innerHTML=_12;_10.innerHTML=_13;_11.options[0].innerHTML=_13;_11.options[1].innerHTML=_12;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.refreshItemset=function(){};$W._a.aS.prototype.refresh=function(){};$W._a.aS.prototype.getElementWidth=function(_14){["WebSquare.uiplugin.fliptoggle.prototype.getElementWidth"];var _15;if(_14){_15=_14.offsetWidth;var _16=parseInt($W._G.getStyleProperty(_14,"border-left-width"),10)||0;var _17=parseInt($W._G.getStyleProperty(_14,"border-right-width"),10)||0;var _18=parseInt($W._G.getStyleProperty(_14,"padding-left"),10)||0;var _19=parseInt($W._G.getStyleProperty(_14,"padding-right"),10)||0;_15=_15-_16-_17-_18-_19;}return _15;};$W._a.aS.prototype.setElementWidth=function(_1a,_1b){["WebSquare.uiplugin.fliptoggle.prototype.setElementWidth"];var _1b;if(_1a){var _1c=parseInt($W._G.getStyleProperty(_1a,"border-left-width"),10)||0;var _1d=parseInt($W._G.getStyleProperty(_1a,"border-right-width"),10)||0;_1a.style.width=(_1b-_1c-_1d)+"px";}};$W._a.aS.prototype.setButtonPosition=function(_1e){["WebSquare.uiplugin.fliptoggle.prototype.setButtonPosition"];try{if(typeof _1e!="number"){return;}var _1f=this.getElementWidth(this.dom.left);var _20=this.getElementWidth(this.dom.right);var _21=this.dom.right.offsetLeft;var _22=this.getElementWidth(this.dom.button);var _23=this.getElementWidth(this.dom.mask);var _24=this.dom.mask.offsetLeft;if(_1e<0){_1e=0;}if(_1e>_24+_23-_22){_1e=_24+_23-_22;}var gap=_1e-this.dom.button.offsetLeft;if(_1e==0){this.dom.left_label.style.visibility="hidden";this.dom.right_label.style.visibility="visible";this.selectedIndex=0;this.dom.select.selectedIndex=0;}else{if(_1e==_24+_23-_22){this.dom.left_label.style.visibility="visible";this.dom.right_label.style.visibility="hidden";this.selectedIndex=1;this.dom.select.selectedIndex=1;}}this.dom.right.style.width=parseInt(_20-gap,10)+"px";this.dom.left.style.width=parseInt(_1f+gap,10)+"px";this.dom.button.style.left=parseInt(_1e,10)+"px";}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.setVerticalAlign=function(_26){["WebSquare.uiplugin.fliptoggle.setVerticalAlign"];try{var _27=$W._G.getStyleProperty(_26,"vertical-align")||"middle";if(_27=="top"){}else{var _28=_26.offsetHeight||parseInt(this.getStyle("height"),10);if(_28>0){var _29=parseInt($W._G.getStyleProperty(_26,"padding-top"),10)||0;var _2a=parseInt($W._G.getStyleProperty(_26,"font-size"),10)||0;var _2b=0;if(_27=="middle"){_2b=Math.floor((_28-_2a)/2);}else{if(_27=="bottom"){_2b=Math.floor(_28-_2a);}}if((_2b+_29)>0&&(_28-_2b)>0){_26.style["paddingTop"]=_2b+_29+"px";_26.style["height"]=(_28-_2b)+"px";}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.getValue=function(){["WebSquare.uiplugin.fliptoggle.getValue"];try{if(this.dom.select[this.selectedIndex]){return this.dom.select[this.selectedIndex].value;}else{return null;}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.toggle=function(_2c){["WebSquare.uiplugin.fliptoggle.toggle"];try{var _2d=this.selectedIndex;if(typeof _2c=="undefined"){_2c=this.selectedIndex==0?1:0;}if(_2c==0){this.setButtonPosition(0);}else{this.setButtonPosition(this.getElementWidth(this.dom.mask));}if(_2d!=this.selectedIndex){$W._c.fireEvent(this,"ontogglechange");}return this.getValue();}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.setValue=function(_2e){["WebSquare.uiplugin.fliptoggle.setValue"];try{if($W._G.isNull(_2e)){return;}for(var i=0;i<this.dom.select.length;i++){if(_2e==this.dom.select[i].value){return this.toggle(i);}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.fliptoggle.prototype.handleClickEvent"];try{if(!this.isSliding){this.toggle();}$W._c.stopPropagation(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.handleChangeEvent=function(e){["WebSquare.uiplugin.fliptoggle.prototype.handleChangeEvent"];try{}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.handleTouchStart=function(e){["WebSquare.uiplugin.fliptoggle.prototype.handleTouchStart"];$W._c.stopPropagation(e);var it=this.event.getTargetIterator(e,this.render);this.startEventLayer.x=$W._c.getMouseX(e);this.startEventLayer.y=$W._c.getMouseY(e);this.lastEventLayer.x=$W._c.getMouseX(e);this.lastEventLayer.y=$W._c.getMouseY(e);while(it.next()){if(it.match("w2fliptoggle_button")){this.isSliding=true;}}};$W._a.aS.prototype.handleTouchEnd=function(e,_35){["WebSquare.uiplugin.fliptoggle.prototype.handleTouchEnd"];try{this.isSliding=false;var _36=this.getElementWidth(this.dom.mask);var _37=this.getElementWidth(this.dom.left);var _38=this.getElementWidth(this.dom.button);if(this.startEventLayer.x-this.lastEventLayer.x===0&&this.startEventLayer.y-this.lastEventLayer.y===0){if($W._G.getBoolean(this.options.useClickToggle)){this.toggle();}}else{if(_37<_36*0.7){this.toggle(0);}else{var _39=this.dom.mask.offsetLeft;this.toggle(1);}}$W._c.stopPropagation(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.aS.prototype.handleTouchMove=function(e){["WebSquare.uiplugin.fliptoggle.prototype.handleTouchMove"];this.lastEventLayer.x=$W._c.getMouseX(e);this.lastEventLayer.y=$W._c.getMouseY(e);if(!this.isSliding){return;}eventLayerX=this.lastEventLayer.x-(this.leftPosition||0);var _3b=0;var _3c=this.dom.button.offsetLeft;var _3d=this.getElementWidth(this.dom.button);var _3e=this.dom.button.offsetLeft;var _3f=this.getElementWidth(this.dom.mask);var _40=this.dom.mask.offsetLeft;var _41=this.getElementWidth(this.dom.left);var _42=this.getElementWidth(this.dom.right);var _43=_3d/2;_3b=eventLayerX-_43;_41=_3b+_43;if(_41>_3f-_43){_41=_3f-_43;}else{if(_41<_43){_41=_43-1;}}this.setElementWidth(this.dom.left,_41);_42=_3f-_41-1;this.setElementWidth(this.dom.right,_42);if(_3b<0){_3b=0;}else{if(_3b>_3f-_3d){_3b=_3f-_3d;}}this.dom.button.style.left=_3b+"px";if($W._G.isIE(6)){this.dom.left.style.height=this.render.offsetHeight+"px";this.dom.right.style.height=this.render.offsetHeight+"px";this.dom.button.style.height=this.render.offsetHeight+"px";}if(this.isMobile){$W._c.preventDefault(e);}};$W._a.aS.prototype.handleMouseOut=function(e){["WebSquare.uiplugin.fliptoggle.prototype.handleMouseOut"];if(this.isSliding){if(!$W._c.getRelatedTarget(e)){return;}if($W._c.getRelatedTarget(e).getAttribute("id")){if($W._c.getRelatedTarget(e).getAttribute("id").indexOf(this.id)<0){this.handleTouchEnd(e);}}else{if(!$W._c.getRelatedTarget(e).getAttribute("id")){this.handleTouchEnd(e);}}}};;WebSquare.uiplugin.fliptoggle=$W._a.aS;$W._a.at=function(id,_2,_3){["WebSquare.uiplugin.pageControl"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.at.prototype,$W._t.prototype);$W._a.at.prototype.defaultOptions={pluginType:"uiplugin.pageControl",pluginName:"pageControl",userEvents:["onchange","onviewchange"],pagingType:"1",rotation:"false",detectionRange:10,pageCount:10};$W._a.at.prototype.initialize=function(_4){["WebSquare.uiplugin.pageControl.initialize"];try{this.pageCount=this.options.pageCount;this.displayIndex=1;this.selectedIndex=1;this.moveEventLayerX=null;this.startEventLayerX=null;this.isSliding=false;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.at.prototype.toHTML=function(){["WebSquare.uiplugin.pageControl.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";var _7=$W._m.getMessage("Pagelist_next_page")||"\ub2e4\uc74c \ud398\uc774\uc9c0";var _8=$W._m.getMessage("Pagelist_next")||"\ub2e4\uc74c";var _9=$W._m.getMessage("Pagelist_previous_page")||"\uc774\uc804 \ud398\uc774\uc9c0";var _a=$W._m.getMessage("Pagelist_previous")||"\uc774\uc804";_5.push("<div id='"+this.id+"' "+_6+" class='w2pageControl "+this.options.className+"'>");_5.push("<span id='"+this.id+"_left' class='w2pageControl_left'>");if(this.options.pagingType=="1"){_5.push("<button id='"+this.id+"_left_button' class='w2pageControl_left_button w2pageControl_button_background' tabindex='0' title='"+_9+"'>");_5.push("<span id='"+this.id+"_left_icon' class='w2pageControl_left_icon'>");_5.push(_a);_5.push("</span>");_5.push("</button>");}_5.push("</span>");_5.push("<span id='"+this.id+"_center' class='w2pageControl_center'>");_5.push("<table id='"+this.id+"_center_table' class='w2pageControl_center_table'>");_5.push("<tr style='height:100%;'>");_5.push("<td id='"+this.id+"_center_td' class='w2pageControl_center_td");if(this.options.pagingType!="1"){_5.push(" w2pageControl_center_image'>");}else{_5.push("'>");_5.push(this.displayIndex+"/"+this.pageCount);}_5.push("</td>");_5.push("</tr>");_5.push("</table>");_5.push("</span>");_5.push("<span id='"+this.id+"_right' class='w2pageControl_right'>");if(this.options.pagingType=="1"){_5.push("<button id='"+this.id+"_right_button' class='w2pageControl_right_button w2pageControl_button_background' tabindex='0' title='"+_7+"'>");_5.push("<span id='"+this.id+"_right_icon' class='w2pageControl_right_icon'>");_5.push(_8);_5.push("</span>");_5.push("</button>");}_5.push("</span>");_5.push("</div>");return _5.join("");};$W._a.at.prototype.setAction=function(){this.isMobile=$W._G.isMobile();this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase());this.dom.table=document.getElementById(this.id+"_center_table");if(this.options.pagingType!="1"){if(this.isMobile){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOut));this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));}}else{this.dom.iconLeft=this.getElementById(this.id+"_left_button");this.dom.iconRight=this.getElementById(this.id+"_right_button");this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseOverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOutEvent));}this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){$W._c.preventDefault(e);}));};$W._a.at.prototype.refreshItemset=function(){};$W._a.at.prototype.refresh=function(){};$W._a.at.prototype.setCount=function(_c){["WebSquare.uiplugin.pageControl.setCount"];try{this.pageCount=_c;this.redraw();this.setSelectedIndex(1);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.at.prototype.setSelectedIndex=function(_d,_e){["WebSquare.uiplugin.pageControl.setSelectedIndex"];try{if(this.pageCount==0){return;}if($W._G.isNull(_d)){return;}_d=_d.toString();if(_d<1||_d>this.pageCount){$l("range exception for "+this.id);return;}var _f=this.selectedIndex;this.setDisplayIndex(_d);this.selectedIndex=parseInt(_d);if(this.options.pagingType!="1"){var _10=document.getElementById(this.id+"_center_td");this.removeClass(_10,"w2pageControl_center_image");this.removeClass(_10,"w2pageControl_center_image_prev");this.removeClass(_10,"w2pageControl_center_image_next");if(_e==="previous"){this.addClass(_10,"w2pageControl_center_image_prev");}else{if(_e==="next"){this.addClass(_10,"w2pageControl_center_image_next");}else{if(_f>this.selectedIndex){this.addClass(_10,"w2pageControl_center_image_prev");}else{this.addClass(_10,"w2pageControl_center_image_next");}}}this.pageImage=setTimeout(this.event.bindAsEventListener(this,function(){this.removeClass(_10,"w2pageControl_center_image");this.removeClass(_10,"w2pageControl_center_image_prev");this.removeClass(_10,"w2pageControl_center_image_next");this.addClass(_10,"w2pageControl_center_image");}),500);}var _11=null;if(this.selectedIndex>_f){_11="next";}else{if(this.selectedIndex<_f){_11="previous";}}if($W._G.getBoolean(this.options.rotation)){if(this.selectedIndex===1&&_f===this.pageCount){_11="next";}else{if(this.selectedIndex===this.pageCount&&_f===1){_11="previous";}}}if(_f!=-1&&_f!=this.selectedIndex){$W._c.fireEvent(this,"onchange",this.selectedIndex,_f,_11);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.at.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.pageControl.getSelectedIndex"];try{return this.selectedIndex;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.at.prototype.moveToLeft=function(_12){["WebSquare.uiplugin.pageControl.moveToLeft"];try{if($W._G.getBoolean(this.options.rotation)){if(this.selectedIndex<=1){this.setSelectedIndex(this.pageCount,_12);}else{this.setSelectedIndex(this.selectedIndex-1,_12);}}else{this.setSelectedIndex(this.selectedIndex-1,_12);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.at.prototype.moveToRight=function(_13){["WebSquare.uiplugin.pageControl.moveToRight"];try{if($W._G.getBoolean(this.options.rotation)){if(this.selectedIndex>=this.pageCount){this.setSelectedIndex(1,_13);}else{this.setSelectedIndex(this.selectedIndex+1,_13);}}else{this.setSelectedIndex(this.selectedIndex+1,_13);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.at.prototype.setDisplayIndex=function(idx){["WebSquare.uiplugin.pageControl.setDisplayIndex"];try{if(this.pageCount==0){return;}idx=parseInt(idx);var _15=idx;if(_15<1){_15=1;}if(_15>this.pageCount){_15=this.pageCount;}if(this.displayIndex==_15){return;}else{this.displayIndex=_15;if(this.options.pagingType=="1"){var _16=document.getElementById(this.id+"_center_td");if(_16){_16.innerHTML=this.displayIndex+"/"+this.pageCount;}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.at.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.pageControl.prototype.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);var _19=this.getSelectedIndex();while(it.next()){if(it.match("w2pageControl_left_button")){this.moveToLeft("previous");}else{if(it.match("w2pageControl_right_button")){this.moveToRight("next");}}}it=null;var _1a=this.getSelectedIndex();if(_19!=_1a){var _1b={"oldSelectedIndex":_19,"newSelectedIndex":_1a};$W._c.fireEvent(this,"onviewchange",_1b);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.at.prototype.handleTouchStart=function(e){["WebSquare.uiplugin.pageControl.prototype.handleTouchStart"];this.isSliding=true;this.startEventLayerX=$W._c.getMouseX(e);$W._c.stopEvent(e);};$W._a.at.prototype.handleTouchEnd=function(e){["WebSquare.uiplugin.pageControl.prototype.handleTouchEnd"];try{if(this.startEventLayerX==null||this.moveEventLayerX==null){return;}var _1e=this.moveEventLayerX-this.startEventLayerX;if(_1e<(this.options.detectionRange*-1)){this.moveToRight("next");}else{if(_1e>this.options.detectionRange){this.moveToLeft("previous");}}this.isSliding=false;this.moveEventLayerX=null;this.startEventLayerX=null;$W._c.stopEvent(e);}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.at.prototype.handleMouseOverEvent=function(e){["WebSquare.uiplugin.pageControl.handleMouseOverEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2pageControl_right_button")){this.addClass(this.dom.iconRight,"w2pageControl_button_background_over");break;}else{if(it.match("w2pageControl_left_button")){this.addClass(this.dom.iconLeft,"w2pageControl_button_background_over");break;}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.at.prototype.handleMouseOutEvent=function(e){["WebSquare.uiplugin.pageControl.handleMouseOutEvent"];try{$W._c.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2pageControl_right_button")){this.removeClass(this.dom.iconRight,"w2pageControl_button_background_over");break;}else{if(it.match("w2pageControl_left_button")){this.removeClass(this.dom.iconLeft,"w2pageControl_button_background_over");break;}}}it=null;}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.at.prototype.handleTouchMove=function(e){["WebSquare.uiplugin.pageControl.prototype.handleTouchMove"];if(!this.isSliding){return;}this.moveEventLayerX=$W._c.getMouseX(e);if(this.isMobile){$W._c.preventDefault(e);}};$W._a.at.prototype.handleMouseOut=function(e){["WebSquare.uiplugin.pageControl.prototype.handleMouseOut"];try{if(!$W._c.getRelatedTarget(e)){return;}if(this.isSliding){if($W._c.getRelatedTarget(e).getAttribute("id")){if($W._c.getRelatedTarget(e).getAttribute("id").indexOf(this.id)<0){this.handleTouchEnd(e);}}else{if(!$W._c.getRelatedTarget(e).getAttribute("id")){this.handleTouchEnd(e);}}}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.at.prototype.setStyle=function(_25,_26){["WebSquare.uiplugin.pageControl.prototype.setStyle"];try{if(!this.render){return;}$W._H.setStyle(this.render,_25,_26);if(_25=="font-size"){var _27=this.dom.table.childNodes[0];for(var _28=_27.firstChild;_28!=null;_28=_28.nextSibling){var td=_28.firstChild;td.style[_25]=_26;}}}catch(e){$W.exception.printStackTrace(e);}};;WebSquare.uiplugin.pageControl=$W._a.at;requires("uiplugin.wframe");$W._a.aH=function(id,_2,_3){["WebSquare.uiplugin.panelContainer"];$W._t.call(this,id,_2,_3);};$W.extend($W._a.aH.prototype,$W._t.prototype);$W.extend($W._a.aH.prototype,$W._n.prototype);$W._a.aH.prototype.defaultOptions={pluginType:"uiplugin.panelContainer",pluginName:"panelContainer",useConfig:true,cols:1,colWidth:0,panelMove:true};$W._a.aH.prototype.initialize=function(_4){this.panelIdCount=0;this.colArr=[];};$W._a.aH.prototype.toHTML=function(){["WebSquare.uiplugin.panelContainer.toHTML"];var _5=[];var _6=(this.options.style=="")?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2panelContainer "+this.options.className+"'>");for(var i=0;i<this.options.cols;i++){_5.push("<div id='"+this.id+"_col_"+i+"' class='w2panelContainer_col'></div>");}_5.push("</div>");return _5.join("");};$W._a.aH.prototype.setAction=function(){var _8=0;var _9=[];if(this.options.colWidth==0){var _a=0;for(var i=0;i<this.options.cols;i++){_9[i]=parseInt(100/this.options.cols,10)+(i<100%this.options.cols?1:0);}}for(var i=0;i<this.render.childNodes.length;i++){this.colArr.push(this.render.childNodes[i]);if(this.options.colWidth==0){this.colArr[i].style.width=_9[i]+"%";this.colArr[i].style.left=_8+"%";_8+=_9[i];}else{this.colArr[i].style.width=this.options.colWidth+"px";this.colArr[i].style.left=(i*this.options.colWidth)+"px";}}this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedownEvent));this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,this.handleMousemoveEvent));this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleMouseupEvent));};$W._a.aH.prototype.addPanel=function(_c){var _d=_c.col||0;if(!_c.id){_c.id=this.id+"_panel"+this.panelIdCount++;}var _e=new $W._a.panel(_c.id,_c);var _f=this;_e.options.xmlEvents=[{name:"onpanelopen",action:"script",param:{handler:function(e){var _11=_f.getPanelInfoById(this.id);$W._c.fireEvent(_f,"onpanelopen",_11);}}},{name:"onpanelclose",action:"script",param:{handler:function(e){var _13=_f.getPanelInfoById(this.id);$W._c.fireEvent(_f,"onpanelclose",_13);}}}];this.addControl(_e);_e.appendTo(this.colArr[_d]);_e.activate();return _e;};$W._a.aH.prototype.removePanel=function(_14,_15){_14=parseInt(_14,10);_15=parseInt(_15,10);if(_15>=this.render.childNodes.length||_14>=this.render.childNodes[_15].childNodes.length){return;}var _16=this.render.childNodes[_15];var _17=_16.childNodes[_14];var id=_17.id;this.removeControl(this.getPanelById(id));$W._G.getComponentById(id+"_content").remove();if(window[id]){window[id]=null;}window[$W.noConflict].comp[id]=null;delete window[$W.noConflict].comp[id];_16.removeChild(_17);return id;};$W._a.aH.prototype.getPanelById=function(id){for(var i=0;i<this.childControlList.length;i++){var _1b=this.childControlList[i];if(_1b.id==id){return _1b;}}};$W._a.aH.prototype.getPanelInfo=function(){var _1c=[];for(var i=0;i<this.options.cols;i++){var _1e=this.render.childNodes[i];var col=[];for(var j=0;j<_1e.childNodes.length;j++){var _21=_1e.childNodes[j];for(var k=0;k<this.childControlList.length;k++){var _23=this.childControlList[k];if(_23.render==_21){col.push({id:_23.id,style:_23.options.style,title:_23.options.title,src:_23.options.src,scope:_23.options.scope,col:i,row:j,isOpen:$W._H.getStyle(this.getElementById(_23.id+"_content"),"height")!="0px"});break;}}}_1c.push(col);}return _1c;};$W._a.aH.prototype.getPanelInfoById=function(id){var _25=this.getPanelInfo();for(var i=0;i<_25.length;i++){var _27=_25[i];for(var j=0;j<_27.length;j++){var _29=_27[j];if(id==_29.id){return _29;}}}};$W._a.aH.prototype.setPanelTitle=function(id,_2b){var _2c=this.getPanelById(id);if(_2c){_2c.options.title=_2b;_2c.render.childNodes[0].childNodes[1].innerHTML=_2b;}};$W._a.aH.prototype.openPanel=function(id){var _2e=this.getPanelById(id);var _2f=_2e.getElementById(_2e.id+"_content");var _30=_2f.offsetHeight==0;if(_30){$W._H.animate(_2f,{height:_2f.scrollHeight},{key:_2e.id+"_toggle",easing:"linear",duration:300,caller:_2e,complete:function(){$W._H.setStyle(_2f,"height","");_2e.removeClass("w2panel_closed");$W._c.fireEvent(_2e,"onpanelopen");}});}};$W._a.aH.prototype.closePanel=function(id){var _32=this.getPanelById(id);var _33=_32.getElementById(_32.id+"_content");var _34=_33.offsetHeight==0;if(!_34){$W._H.setStyle(_33,"height",_33.scrollHeight+"px");$W._H.animate(_33,{height:0},{key:_32.id+"_toggle",easing:"linear",duration:300,caller:_32,complete:function(){_32.addClass("w2panel_closed");$W._c.fireEvent(_32,"onpanelclose");}});}};$W._a.aH.prototype.handleMousedownEvent=function(e){var it=this.event.getTargetIterator(e,this.render);while(this.options.panelMove&&it.next()){if(it.match("w2panel_title")){this.dragDropElem=it.getElement().parentNode;this.render.style.cursor="pointer";this.addClass("w2noselect");$W._c.stopEvent(e);return;}}this.dragDropElem=null;};$W._a.aH.prototype.handleMousemoveEvent=function(e){if(this.dragDropElem){if(!this.ghost){this.ghost=document.createElement("div");this.ghost.innerHTML=this.dragDropElem.childNodes[0].childNodes[1].innerHTML;this.ghost.className="w2panelContainer_ghost";$W.getBody().appendChild(this.ghost);}this.ghost.style.left=($W._c.getMouseX(e)+10)+"px";this.ghost.style.top=($W._c.getMouseY(e)+10)+"px";$W._c.preventDefault(e);}};$W._a.aH.prototype.handleMouseupEvent=function(e){if(this.dragDropElem){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2panel_title")&&it.getElement().parentNode==this.dragDropElem){break;}else{if(it.match(null,this.id)){var x=$W._c.getMouseX(e)+this.render.scrollLeft-$W._H.getAbsoluteLeft(this.render);var y=$W._c.getMouseY(e)+this.render.scrollTop-$W._H.getAbsoluteTop(this.render);var _3c=null;for(var col=0;col<this.render.childNodes.length;col++){var _3c=this.render.childNodes[col];if(x<_3c.offsetLeft+_3c.offsetWidth){break;}}var _3e=this.render.childNodes[col].childNodes;for(var row=0;row<_3e.length;row++){var _40=_3e[row];if(y<_40.offsetTop+_40.offsetHeight){break;}}this.dragDropElem.parentNode.removeChild(this.dragDropElem);if(row<_3e.length){_3c.insertBefore(this.dragDropElem,_3e[row]);}else{row=_3e.length;_3c.appendChild(this.dragDropElem);}$W._c.fireEvent(this,"onpanelmove",row,col);}}}this.render.style.cursor="";this.removeClass("w2noselect");}this.dragDropElem=null;if(this.ghost){this.ghost.parentNode.removeChild(this.ghost);this.ghost=null;}};$W._a.aH.prototype.movePanel=function(_41,row,col){["WebSquare.uiplugin.panelContainer.prototype.movePanel"];try{var _44=this.getPanelById(_41);var _45=this.render.childNodes[col];if(_45){var _46=this.render.childNodes[col].childNodes;}else{$W.logger.printLog("invalid position : ["+row+","+col+"]");return;}if(_44){_44.render.parentNode.removeChild(_44.render);if(row<_46.length){_45.insertBefore(_44.render,_46[row]);}else{row=_46.length;_45.appendChild(_44.render);}$W._c.fireEvent(this,"onpanelmove",row,col);}else{$W.logger.printLog("cannot find pannel : "+_41);}}catch(e){$W.exception.printStackTrace(e,null,this);}};$W._a.panel=function(id,_48,_49){$W._t.call(this,id,_48,_49);};$W.extend($W._a.panel.prototype,$W._t.prototype);$W._a.panel.prototype.defaultOptions={pluginType:"uiplugin.panel",pluginName:"panel",title:"",src:"",scope:false,isOpen:true};$W._a.panel.prototype.toHTML=function(){var _4a=[];var _4b=(this.options.style=="")?"":"style='"+this.options.style+"'";_4a.push("<div id='"+this.id+"' "+_4b+" class='w2panel "+this.options.className+"'>");_4a.push("<div id='"+this.id+"_title' class='w2panel_title'>");_4a.push("<div id='"+this.id+"_title_image' class='w2panel_title_image'></div>");_4a.push("<span id='"+this.id+"_title_text' class='w2panel_title_text'>"+this.options.title+"</span>");_4a.push("</div>");_4a.push("</div>");return _4a.join("");};$W._a.panel.prototype.setAction=function(){var _4c=new $W._a._A(this.id+"_content",{className:"w2panel_content",src:this.options.src,scope:this.options.scope,style:this.options.isOpen?"":"height:0"});_4c.appendTo(this);_4c.activate();this.contentRender=_4c.render;this.event.addListener(this.getElementById(this.id+"_title"),"onclick",this.event.bindAsEventListener(this,this.handleTitleClick));if(!this.options.isOpen){this.addClass("w2panel_closed");}};$W._a.panel.prototype.handleTitleClick=function(e){var _4e=this.getElementById(this.id+"_content");var _4f=_4e.offsetHeight==0;if(_4f){this.parentControl.openPanel(this.id);}else{this.parentControl.closePanel(this.id);}};;WebSquare.uiplugin.panelContainer=$W._a.aH;$W._b=(function(_1){function _push(_2,_3){_2[_2.length]=_3;}function _pop(_4){var _5=_4[_4.length-1];delete _4[_4.length-1];_4.length--;return (_5);}function isOperation(_6){return ((!isOperator(_6)&&(_6!="(")&&(_6!=")"))?true:false);}function isOperator(_7){return ((_7=="+"||_7=="-"||_7=="*"||_7=="/"||_7=="^"||_7=="%")?true:false);}function topStack(_8){return (_8[_8.length-1]);}function isEmpty(_9){return ((_9.length==0)?true:false);}function isCalculation(_a){if(_a=="^"){return (5);}if((_a=="*")||(_a=="/")||(_a=="%")){return (4);}if((_a=="+")||(_a=="-")){return (3);}if(_a=="("){return (2);}if(_a==")"){return (1);}}function InfixToPostfix(_b,_c,_d){var _c=new Array();var _e=new Array();var _f=0;_b=Tokens(_b);for(var i=0;i<_b.length;i++){if(isOperation(_b[i])){_c[_f]=_b[i];_f++;}if(isOperator(_b[i])){if(_b[i]!="^"){while((!isEmpty(_e))&&(isCalculation(_b[i])<=isCalculation(topStack(_e)))){_c[_f]=topStack(_e);_pop(_e);_f++;}}else{while((!isEmpty(_e))&&(isCalculation(_b[i])<isCalculation(topStack(_e)))){_c[_f]=topStack(_e);_pop(_e);_f++;}}_push(_e,_b[i]);}if(_b[i]=="("){_push(_e,_b[i]);}if(_b[i]==")"){while(topStack(_e)!="("){_c[_f]=_pop(_e);_f++;}_pop(_e);}}while(!isEmpty(_e)){if(topStack(_e)=="("){_pop(_e);}else{_c[_c.length]=_pop(_e);}}var _11="";for(var i=0;i<_c.length;i++){_11+=_c[i];}if(_d==0){return (_11);}else{return (_c);}}function PostfixToInfix(_12){var _13=new Array();_12=_12.split("");for(var i=0;i<_12.length;i++){if(isOperation(_12[i])){_push(_13,_12[i]);}else{var _15=topStack(_13);_pop(_13);var _16="("+topStack(_13)+_12[i]+_15+")";_pop(_13);_push(_13,_16);}}return (topStack(_13));}function Tokens(str){var _18=str.split("");var _19=new String("");var _1a=new Array();var _1b=0;for(var i=0;i<_18.length;i++){if(isOperation(_18[i])&&_18[i].match(/\s/)==null){_19+=_18[i];}if(isOperator(_18[i])||_18[i]==")"||_18[i]=="("){if(_19!=""){_1a[_1b]=_19;_1b++;}_19="";_1a[_1b]=_18[i];_1b++;}if(i==_18.length-1){if(_19!=""){_1a[_1b]=_19;}}}return (_1a);}function Calculation(_1d,_1e,sym){var _20;try{if(sym=="+"){_20=_1d.plus(_1e);}if(sym=="-"){_20=_1d.minus(_1e);}if(sym=="*"){_20=_1d.times(_1e);}if(sym=="/"){_20=_1d.divide(_1e);}if(sym=="^"){_20=_1d.pow(_1e);}if(sym=="%"){_20=_1d.mod(_1e);}return (_20);}catch(e){$W.exception.printStackTrace(e);}}function PostfixEval(_21,_22){var _23=new Array();var _24;var _25;for(var i=0;i<_21.length;i++){if(isOperation(_21[i])){_push(_23,_21[i]);}else{if(!!_22&&!!(_22[topStack(_23)])){_24=_22[topStack(_23)];}else{_24=eval(topStack(_23));}if(_24.constructor!=$W.bigDecimalObj){_24=$W._b(_24);}_pop(_23);if(!!_22&&!!(_22[topStack(_23)])){_25=_22[topStack(_23)];}else{_25=eval(topStack(_23));}if(_25.constructor!=$W.bigDecimalObj){_25=$W._b(_25);}var _27=Calculation(_25,_24,_21[i]);_pop(_23);_push(_23,_27);}}return (topStack(_23));}var ret=function(_29){return new $W.bigDecimalObj(_29);};ret.calc=function(str,_2b){["WebSquare.bigDecimal.calc"];var _2c=InfixToPostfix(str);return $W._b(PostfixEval(_2c,_2b));};return ret;})(window);$W.bigDecimalObj=function(_2d){try{this.big=Big(_2d);}catch(e){$W.exception.printStackTrace(e);this.big=NaN;}};$W.bigDecimalObj.prototype.plus=function(_2e){["WebSquare.bigDecimalObj.plus"];try{return $W._b(this.big.plus(_2e));}catch(e){$W.exception.printStackTrace(e);return $W._b(NaN);}};$W.bigDecimalObj.prototype.minus=function(_2f){["WebSquare.bigDecimalObj.minus"];try{return $W._b(this.big.minus(_2f));}catch(e){$W.exception.printStackTrace(e);return $W._b(NaN);}};$W.bigDecimalObj.prototype.divide=function(_30){["WebSquare.bigDecimalObj.divide"];try{return $W._b(this.big.div(_30));}catch(e){$W.exception.printStackTrace(e);return $W._b(NaN);}};$W.bigDecimalObj.prototype.times=function(_31){["WebSquare.bigDecimalObj.times"];try{return $W._b(this.big.times(_31));}catch(e){$W.exception.printStackTrace(e);return $W._b(NaN);}};$W.bigDecimalObj.prototype.pow=function(_32){["WebSquare.bigDecimalObj.pow"];try{return $W._b(this.big.pow(parseInt(_32.toString(),10)));}catch(e){$W.exception.printStackTrace(e);return $W._b(NaN);}};$W.bigDecimalObj.prototype.mod=function(_33){["WebSquare.bigDecimalObj.mod"];try{return $W._b(this.big.mod(_33));}catch(e){$W.exception.printStackTrace(e);return $W._b(NaN);}};$W.bigDecimalObj.prototype.toString=function(){return isNaN(this.big)?NaN:this.big.toFixed();};$W.bigDecimalObj.prototype.compare=function(_34,_35){["WebSquare.bigDecimalObj.compare"];try{if(_35){var _36=this.big.lt(_34)==true?this:_34;}else{var _36=this.big.gt(_34)==true?this:_34;}return _36;}catch(e){$W.exception.printStackTrace(e);return $W._b(NaN);}};;WebSquare.bigDecimal=$W._b;$W.BootLoader.loadEngineModule();$W.BootLoader.loadUdcRequires();$W.BootLoader.loadInheritRequires();$W._loadCSS=function(){var _1={};if(typeof WebSquareExternal=="object"&&WebSquareExternal!=null){_1=WebSquareExternal;}var _2=$W.document.getElementsByTagName("head")[0];if($W.styleSheetEarlyImport>0){if($W.styleSheetEarlyImport==2){var _3=document.createElement("link");_3.href=$W.baseThemeURI+"skin/"+$W.styleSheetEarlyImportName;_3.type="text/css";_3.rel="stylesheet";_2.appendChild(_3);$W.logger.printLog("import core css : "+_3.href);}var _4=_1.w2xPath||$W._r.getParameter("w2xPath")||$W.w2xPath||$W._N.getConfiguration("/WebSquare/welcome-file");if(_4==""){return;}var re=/[\\]/g;_4=_4.replace(re,"/");var _6=$W._N.getConfiguration("/WebSquare/pageURLPrefix/@value");var _7=$W._N.getConfiguration("/WebSquare/pageURLPrefix/@type");var _8=$W._N.getConfiguration("/WebSquare/pageURLPrefix/@ignoreW2xPath");var _9="";var _a=_4;if(_6!==""&&_7=="function"){if(_6.indexOf("()")==-1){urlFunc=_6+"()";}try{if(_8.toLowerCase()=="true"){urlFunc=urlFunc.wq_replaceAll("()","(obfuscator_url)");_a=eval("(function(){var obfuscator_url = \""+_4+"\";return "+urlFunc+"})();");}else{_a=eval(urlFunc)+encodeURIComponent(_4);}}catch(e){return;}}else{if(_6!==""&&_7!="function"){_a=_6+encodeURIComponent(_4);}}var _b=_a;var _c=$W._N.getXMLHTTPObject();try{$W.BootLoader.openResourceUri(_b,_c);_c.send(null);if(_c.status>="400"){$W.BootLoader.printError("Module ["+_b+"] Does not exist.");}}catch(e){$W.BootLoader.printError("An error occurs while requesting Module ["+_b+"].");}_9=_c.responseText;_c=null;if(_9){var _d=_9.indexOf("<html");if(_d<0){_d=_9.indexOf("<HTML");if(_d<0){_d=_9.indexOf("< html");if(_d<0){_d=_9.indexOf("< HTML");}}}var _e="";if(_d>=0){_e=_9.slice(0,_d);}else{_e=_9;}var _f=_e.split(/xml-stylesheet/i);var _10=new RegExp("^\\s\\s*");var _11=new RegExp("\\s\\s*$");for(var i=1;i<_f.length;i++){var _13=_f[i].split("\"");_13.pop();var obj={};for(var j=0;j<_13.length;j+=2){obj[_13[j].replace(_10,"").replace("=","").replace(_11,"")]=_13[j+1];}if(obj.type==undefined){obj.type="text/css";}if(obj.rel==undefined){obj.rel="stylesheet";}var _16=false;for(var _17 in $W.styleSheetEarlyImportList){if(obj.href==$W.styleSheetEarlyImportList[_17]){_16=true;break;}}if(!_16){$W.externalCSSList.push(obj);}}$W.pageXMLString=_9;}_9="";}if($W.externalCSSList.length+$W.styleSheetEarlyImportList.length>0){try{var _18=_1.w2xHome||$W._r.getParameter("w2xHome");if(!_18){_18=_1.w2xPath||$W._r.getParameter("w2xPath");var re=/[\\]/g;_18=_18.replace(re,"/");var _19=_18.lastIndexOf("/");if(_19>-1){_18=_18.substring(0,_19+1);}else{_18="/";}}var _1a="";var _1b=$W._N.getConfiguration("/WebSquare/DocumentRoot");var _1c=_1.w2xDocumentRoot||$W._r.getParameter("w2xDocumentRoot");if(_1c=="/"||_1c=="\\"){_1a="";}else{if(_1c!=""){_1a=_1c;}else{if(_1b!=null&&_1b!=""){_1a=_1b;}else{_1a="";}}}for(var i=0;i<$W.styleSheetEarlyImportList.length;i++){var _1d=$W.styleSheetEarlyImportList[i];if(_1d.substring(0,1)!="/"&&_1d.substring(0,1)!="\\"){_1d=_18+_1d;}if(_1a!=""&&_1d.substring(0,2)!=".."){_1d=_1a+_1d;}$W.styleSheetEarlyImportList[i]=_1d;var _3=document.createElement("link");_3.href=_1d;_3.type="text/css";_3.rel="stylesheet";_2.appendChild(_3);$W.externalCSSURL.push(_1d);$W.logger.printLog("import user css(early_common) : "+_1d);}for(var i=0;i<$W.externalCSSList.length;i++){var _3=document.createElement("link");var _1e=$W.externalCSSList[i];if(!_1e||(typeof _1e!="string"&&typeof _1e!="object")){continue;}if(typeof _1e=="string"){var cpy=_1e;_1e={"href":cpy};}if(_1e.href.substring(0,1)!="/"&&_1e.href.substring(0,1)!="\\"){_1e.href=_18+_1e.href;}if(_1a!=""&&_1e.href.substring(0,2)!=".."){_1e.href=_1a+_1e.href;}_3.href=_1e.href;_3.type=_1e.type||"text/css";_3.rel=_1e.rel||"stylesheet";_2.appendChild(_3);$W.externalCSSURL.push(_1e.href);$W.externalCSSDOM.push(_3);$W.logger.printLog("import user css(early_xml) : "+_1e.href);}}catch(e){}}_2=null;$W._y.skinTag=$W.externalCSSURL.slice(0);};$W._loadCSS();if( document.title == "WebSquare" || document.title == "NEW RENDERING" ) {document.title = "WebSquare ver:" + WebSquare.version;}WebSquare.BootLoader.performanceCheck.mid1 = new Date();WebSquare.BootLoader.printLog("[STEP2] Runtime Engine Load complete. Time:" + (WebSquare.BootLoader.performanceCheck.mid1.getTime() - WebSquare.BootLoader.performanceCheck.start.getTime()) + "ms" );